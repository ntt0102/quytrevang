import{C as g,a7 as _,V as y,bm as x,bn as v,f as a,W as S,o as n,n as I,k as l,h as d,j as t,g as p,J as k,M as w,F as P}from"./app-bc7a04b5.js";const B={components:{DxForm:_,DxItem:y,DxTab:x,DxTextArea:v},data(){return{isLoading:!1,formData:{url_documents:[]}}},computed:{popup(){return this.$refs.popup.instance},hasConfirmedDocs(){return this.formData.url_documents.length>0}},methods:{show({user:e,getUser:i}){e?(this.popup.option("title",`${this.$t("admin.users.detailUser")} #${e.code}`),this.formData=e,this.popup.show()):(this.popup.option("title",this.$t("admin.users.detailUser")),this.popup.show(),this.isLoading=!0,i().then(r=>{this.formData=r,this.isLoading=!1})),this.$mf.pushPopupToHistoryState(()=>this.popup.hide())}}},C=["src","alt"];function L(e,i,r,N,s,m){const o=a("DxItem"),f=a("Photoswipe"),c=a("DxForm"),b=a("DxLoadPanel"),h=a("DxPopup"),D=S("pswp");return n(),I(h,{ref:"popup",showCloseButton:!0,fullScreen:!!e.$screen.getScreenSizeInfo.isXSmall,"show-title":!0,onHiding:e.$mf.popRouteHistoryState},{content:l(()=>[d("div",null,[t(c,{ref:"form",class:"user-detail-form","form-data":s.formData,"col-count":2,"read-only":!0,"label-location":e.$screen.getScreenSizeInfo.isXSmall?"top":"left","scrolling-enabled":!0},{default:l(()=>[t(o,{"item-type":"group",caption:e.$t("models.user.groups.personalInfo")},{default:l(()=>[t(o,{"data-field":"name",label:{text:e.$t("models.user.name")}},null,8,["label"]),t(o,{"data-field":"sex","editor-type":"dxSelectBox","editor-options":{items:e.$mf.getSexList(),displayExpr:"name",valueExpr:"value"},label:{text:e.$t("models.user.sex")}},null,8,["editor-options","label"]),t(o,{"data-field":"birthday","editor-type":"dxDateBox",label:{text:e.$t("models.user.birthday")}},null,8,["label"])]),_:1},8,["caption"]),t(o,{"item-type":"group",caption:e.$t("models.user.groups.idInfo")},{default:l(()=>[t(o,{"data-field":"identity.number",label:{text:e.$t("models.user.idNumber")}},null,8,["label"]),t(o,{"data-field":"identity.issued_on","editor-type":"dxDateBox",label:{text:e.$t("models.user.idIssuedOn")}},null,8,["label"]),t(o,{"data-field":"",editorOptions:{value:e.$mt.idIssuedAtValue},label:{text:e.$t("models.user.idIssuedAt")}},null,8,["editorOptions","label"])]),_:1},8,["caption"]),t(o,{"item-type":"group","col-span":2,"col-count":2,caption:e.$t("models.user.groups.contactInfo")},{default:l(()=>[t(o,{"data-field":"phone",editorOptions:{mask:s.formData.phone?"0000.000.000":null},label:{text:e.$t("models.user.phone")}},null,8,["editorOptions","label"]),t(o,{"data-field":"email",label:{text:e.$t("models.user.email")}},null,8,["label"]),t(o,{"col-span":2,"data-field":"address",label:{text:e.$t("models.user.address")}},null,8,["label"])]),_:1},8,["caption"]),t(o,{"item-type":"group","col-span":2,caption:e.$t("models.user.groups.bankInfo")},{default:l(()=>[t(o,{"data-field":"bank_account.bank_name",label:{text:e.$t("models.user.bankName")}},null,8,["label"]),t(o,{"data-field":"bank_account.account_number",label:{text:e.$t("models.user.accountNumber")}},null,8,["label"]),t(o,{"data-field":"bank_account.account_name",label:{text:e.$t("models.user.accountName")}},null,8,["label"])]),_:1},8,["caption"]),t(o,{visible:m.hasConfirmedDocs,"item-type":"group","col-span":2,caption:e.$t("models.user.groups.confirmDocuments")},{default:l(()=>[t(o,null,{default:l(()=>[t(f,{onOpened:e.$mf.pushPhotoswipeToHistoryState,onClose:e.$mf.popRouteHistoryState},{default:l(()=>[(n(!0),p(P,null,k(s.formData.url_documents,(u,$)=>(n(),p("div",{key:$},[w(d("img",{src:u.file,alt:e.$appName},null,8,C),[[D,u.file]])]))),128))]),_:1},8,["onOpened","onClose"])]),_:1})]),_:1},8,["visible","caption"])]),_:1},8,["form-data","label-location"]),t(b,{position:{of:".user-detail-form"},visible:s.isLoading,shading:!1},null,8,["position","visible"])])]),_:1},8,["fullScreen","onHiding"])}const F=g(B,[["render",L]]);export{F as U};
