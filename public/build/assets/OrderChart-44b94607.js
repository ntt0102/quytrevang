import{m as g,a as C,n as O}from"./app-089c7b72.js";import{c as p}from"./dialog-e8748e84.js";class y{constructor(){this.create()}create(){return new Promise((t,r)=>{const s=indexedDB.open("orderChart",1);s.onupgradeneeded=i=>{console.log("onupgradeneeded"),this.store=i.target.result,this.store.createObjectStore("order",{keyPath:"kind"}),this.store.createObjectStore("line",{keyPath:"price"}),this.store.createObjectStore("ruler",{keyPath:"point"}),t()},s.onsuccess=i=>{console.log("onsuccess"),this.store=i.target.result,t()},s.onerror=()=>{console.log("onerror"),location.reload(),r()}})}get(t){var r=this.store;return new Promise(function(i,o){var a=r.transaction(t,"readonly");if(Array.isArray(t)){var c=t.map(u=>a.objectStore(u)),l=c.map(s);Promise.all(l).then(u=>i(u))}else{var f=a.objectStore(t);s(f).then(u=>i(u))}});function s(i){return new Promise(function(o,a){const c=i.getAll();c.onsuccess=l=>o(l.target.result),c.onerror=()=>a()})}}set(t,r){const s=this.store.transaction(t,"readwrite").objectStore(t);Array.isArray(r)?r.length>0&&r.forEach(i=>s.put(i)):s.put(r)}clear(t){var r=this.store;return new Promise(function(s,i){const o=r.transaction(t,"readwrite").objectStore(t).clear();o.onsuccess=()=>{s()},o.onerror=a=>{console.error(`Error to empty Object Store: ${t}`),i()}})}}const n=new y;function m(){return{config:{},status:{connection:!0},chartData:[],isChartLoading:!1}}const v={config:e=>e.config,status:e=>e.status,chartData:e=>e.chartData,isChartLoading:e=>e.isChartLoading},L={getChartData({commit:e,dispatch:t,getters:r,state:s,rootGetters:i},o){return e("setChartLoading",!0),new Promise((a,c)=>{axios.post("order-chart",{date:o},{noLoading:!0,crypto:!0}).then(l=>{e("setChartData",l.data),e("setChartLoading",!1),a()})})},getStatus({commit:e,dispatch:t,getters:r,state:s,rootGetters:i}){return new Promise((o,a)=>{axios.post("order-chart/get-status",{},{noLoading:!0,crypto:!0}).then(c=>{e("setStatus",c.data),o()})})},getConfig({commit:e,dispatch:t,getters:r,state:s,rootGetters:i}){return new Promise((o,a)=>{axios.post("order-chart/get-config",{},{crypto:!0}).then(c=>{e("setConfig",c.data),o()})})},setConfig({commit:e,dispatch:t,getters:r,state:s,rootGetters:i},o){return new Promise((a,c)=>{axios.post("order-chart/set-config",{date:o},{noLoading:!0,crypto:!0}).then(l=>{e("setChartData",l.data),a()})})},executeOrder({commit:e,dispatch:t,getters:r,state:s,rootGetters:i},o){return e("setChartLoading",!0),new Promise((a,c)=>{axios.post("order-chart/execute-order",o,{noLoading:!0,crypto:!0,notify:!0}).then(l=>{e("setChartLoading",!1),a(l.data)})})},resetState({commit:e}){e("resetState")}},w={setChartData(e,t){e.chartData=t},setChartLoading(e,t){e.isChartLoading=t},setStatus(e,t){e.status=t},setConfig(e,t){e.config=t},resetState(e){e=Object.assign(e,m())}},S={namespaced:!0,state:m,getters:v,actions:L,mutations:w},k="/build/assets/spinner-4da4a8c6.gif";const T={localization:{dateFormat:"dd/MM/yyyy",locale:"vi-VN"},rightPriceScale:{visible:!0,scaleMargins:{top:.2,bottom:.1}},leftPriceScale:{visible:!1},layout:{backgroundColor:"#000000",textColor:"#CCCCCC"},grid:{vertLines:{color:"#1B1E27",style:2},horzLines:{color:"#1B1E27",style:2}},crosshair:{mode:0},timeScale:{timeVisible:!0,rightOffset:20,minBarSpacing:.05}},x=3,$=2,h=moment().format("YYYY-MM-DD"),d={START:moment(h+" 08:45:00").unix(),ATO:moment(h+" 09:00:00").unix(),ATC:moment(h+" 14:30:00").unix(),END:moment(h+" 14:45:00").unix()},P={data(){return{chart:{},series:{},data:{whitespace:[],price:[]},order:{side:0,position:0,entry:{},tp:{},sl:{}},lines:[],ruler:{start:{},end:{},point:0},crosshair:{},loadWhitespace:!0,chartDate:h,interval:null,interval60:null,clock:moment().format("HH:mm:ss"),isFullscreen:!1,websocket:null,isAutoOrdering:!1}},beforeCreate(){if(this.$store.registerModule("Trading.orderChart",S),!document.getElementById("orderChartJs")){var e=document.createElement("script");e.src="/order-chart.min.js",e.id="orderChartJs",document.getElementsByTagName("head")[0].appendChild(e)}},created(){this.getConfig().then(this.connectSocket),this.getStatus(),this.interval=setInterval(this.intervalHandler,1e3),this.interval60=setInterval(this.getStatus,6e4),n.create()},mounted(){setTimeout(()=>{this.chart=LightweightCharts.createChart(this.$refs.orderChart,T),this.chartContainer.addEventListener("click",this.eventChartClick),this.chartContainer.addEventListener("contextmenu",this.eventChartContextmenu),this.chart.subscribeCrosshairMove(this.eventChartCrosshairMove),this.chart.subscribeCustomPriceLineDragged(this.eventPriceLineDrag),this.series.whitespace=this.chart.addLineSeries({priceScaleId:"whitespace",visible:!1}),this.series.price=this.chart.addLineSeries({color:"#CCCCCC",priceFormat:{minMove:.1}}),new ResizeObserver(this.eventChartResize).observe(this.chartContainer),window.addEventListener("keydown",this.eventKeyPress),document.addEventListener("fullscreenchange",this.eventFullscreenChange),this.getChartData(this.chartDate).then(()=>{this.loadToolsData(),this.loadWhitespace=!0})},1e3)},destroyed(){this.$store.unregisterModule("Trading.orderChart"),clearInterval(this.interval),clearInterval(this.interval60),this.websocket.close(),this.websocket=null},computed:{...g("Trading.orderChart",["chartData","status","config","isChartLoading"]),chartContainer:function(){return this.$refs.chartContainer},lastPrice:function(){return this.data.price.slice(-1)[0]}},watch:{chartData(){this.loadChartData()},isChartLoading(e){this.$refs.spinner.style.display=e?"block":"none"}},methods:{...C("Trading.orderChart",["getChartData","getStatus","getConfig","executeOrder"]),eventChartContextmenu(e){this.showOrderButton(),e.preventDefault()},eventChartClick(){this.hideOrderButton(),this.$refs.lineTool.classList.contains("selected")?this.drawLineTool():this.$refs.rulerTool.classList.contains("selected")&&this.drawRulerTool()},eventChartCrosshairMove(e){if(e.time){var t=e.seriesPrices.get(this.series.price);this.hasCrosshair=!0,this.crosshair.time=e.time,this.crosshair.price=t}else this.hasCrosshair=!1,this.$devices.phone||(this.crosshair.time=null,this.crosshair.price=null);e.point!=null&&(this.crosshair.x=e.point.x,this.crosshair.y=e.point.y)},eventPriceLineDrag(e){var t=e.customPriceLine,r=t.options();r.price=this.formatPrice(r.price);const s=+e.fromPriceString,i=r.price;switch(r.lineType){case"order":if(i!=s){var o=!1;r.kind=="entry"?this.order.position||(o=!0,this.order[r.kind].price=i,this.executeOrder({action:"entry",data:{cmd:"change",side:this.order.side,price:this.order.entry.price}}).then(a=>{a.isOk?(this.drawOrderLine(r.kind),this.$toasted.success(this.$t("trading.orderChart.changeEntrySuccess"))):(t.applyOptions({price:s}),this.toasteOrderError(a.message))})):(o=!0,this.order[r.kind].price=i,r.kind=="tp"?this.executeOrder({action:"tp",data:{cmd:"change",side:-this.order.side,price:this.order.tp.price}}).then(a=>{a.isOk?(this.drawOrderLine(r.kind),this.$toasted.success(this.$t("trading.orderChart.changeTpSuccess"))):(t.applyOptions({price:s}),this.toasteOrderError(a.message))}):this.executeOrder({action:"sl",data:{cmd:"change",side:-this.order.side,price:this.order.sl.price}}).then(a=>{a.isOk?(this.drawOrderLine(r.kind),this.$toasted.success(this.$t("trading.orderChart.changeSlSuccess"))):(t.applyOptions({price:s}),this.toasteOrderError(a.message))})),o||(t.applyOptions({price:s}),this.$toasted.show(this.$t("trading.orderChart.noChangeOrderLine")))}break;case"line":n.set("line",{price:s,removed:!0}),n.set("line",r),this.$refs.lineTool.classList.remove("selected");break;case"ruler":if(r.point==1){if(n.set("ruler",r),this.ruler.point==2){const a=+this.ruler.end.options().title,c=+(i+a).toFixed(1);this.ruler.end.applyOptions({price:c}),n.set("ruler",this.ruler.end.options())}}else{const a=+this.ruler.start.options().price,c=(i-a).toFixed(1);t.applyOptions({title:c}),n.set("ruler",t.options())}break}},eventChartResize(){const e=this.chartContainer;this.chart.resize(e.offsetWidth,e.offsetHeight),this.chartContainer.classList.contains("fullscreen")&&(document.querySelector(".dx-drawer-panel-content").style.transform="translate(-250px, 0px)")},eventKeyPress(e){if(e.ctrlKey||e.metaKey)switch(e.keyCode){case 38:this.chart.timeScale().applyOptions({barSpacing:this.chart.options().timeScale.barSpacing+.05});break;case 40:this.chart.timeScale().applyOptions({barSpacing:this.chart.options().timeScale.barSpacing-.05});break;case 37:this.chart.timeScale().scrollToPosition(this.chart.timeScale().scrollPosition()-10);break;case 39:this.chart.timeScale().scrollToPosition(this.chart.timeScale().scrollPosition()+10);break;case 96:this.$refs.rulerTool.click();break;case 97:this.$refs.lineTool.click();break;case 98:this.$refs.reloadTool.click();break;case 99:this.$refs.fullscreenTool.click();break}},eventFullscreenChange(){document.fullscreenElement?(this.isFullscreen=!0,this.chartContainer.classList.add("fullscreen"),document.querySelector(".dx-drawer-panel-content").style.transform="translate(-250px, 0px)"):(this.isFullscreen=!1,this.chartContainer.classList.remove("fullscreen"),document.querySelector(".dx-drawer-panel-content").style.transform="unset")},toggleFullscreen(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},loadToolsData(){return new Promise(async e=>{(await n.get("order")).map(i=>{this.order.side=i.side,this.order[i.kind].price=i.price,this.drawOrderLine(i.kind),this.toggleCancelOrderButton(!0),i.kind=="tp"&&(this.order.position=i.side)}),this.order.tp.hasOwnProperty("line")&&this.order.entry.line.applyOptions({draggable:!1}),(await n.get("line")).forEach(i=>{i.removed||this.lines.push(this.series.price.createPriceLine(i))});const s=await n.get("ruler");s.length==2&&s.forEach(i=>{this.ruler.point=2,i.point==1?this.ruler.start=this.series.price.createPriceLine(i):this.ruler.end=this.series.price.createPriceLine(i)}),e()})},loadChartData(){this.loadWhitespace&&(this.data.whitespace=this.mergeChartData(this.data.whitespace,this.createWhitespaceData()),this.series.whitespace.setData(this.data.whitespace)),this.data.price=this.mergeChartData(this.chartData,this.data.price),this.series.price.setData(this.data.price)},updateChartData(e){this.data.price=this.mergeChartData([e],this.data.price),this.series.price.update(this.lastPrice)},createWhitespaceData(){const e=this.chartDate,t=moment(`${e} 09:00:00`).unix(),r=moment(`${e} 11:30:00`).unix(),s=moment(`${e} 13:00:00`).unix(),i=moment(`${e} 14:30:00`).unix();var o=[],a;for(a=t;a<=r;a++)o.push({time:a+7*60*60});for(a=s;a<=i;a++)o.push({time:a+7*60*60});return o},mergeChartData(e,t){const r=new Set(e.map(s=>s.time));return[...e,...t.filter(s=>!r.has(s.time))].sort((s,i)=>s.time-i.time)},connectSocket(){let e=this;const t="wss://datafeed.vps.com.vn/socket.io/?EIO=3&transport=websocket";e.websocket=new WebSocket(t),e.websocket.onopen=r=>{var s={action:"join",list:e.config.symbol};e.websocket.send(`42${JSON.stringify(["regs",JSON.stringify(s)])}`)},e.websocket.onclose=r=>{if(e._isDestroyed)return!1;e.inSession()&&(e.connectSocket(),e.getChartData(e.chartDate))},e.websocket.onmessage=r=>{if(r.data.substr(0,1)==4&&r.data.substr(1,1)==2){const s=JSON.parse(r.data.substr(2));if(s[0]=="stockps"){const i=s[1].data;i.id==3220&&(e.updateChartData({time:moment(`${h} ${i.time}`).unix()+7*60*60,value:i.lastPrice}),e.order.entry.hasOwnProperty("line")&&(e.order.tp.hasOwnProperty("line")?((e.order.side>0&&i.lastPrice>=e.order.tp.price||e.order.side<0&&i.lastPrice<=e.order.tp.price)&&(e.isAutoOrdering||(e.isAutoOrdering=!0,e.executeOrder({action:"sl",data:{cmd:"delete"}}).then(o=>{o.isOk?(e.removeOrderLine("entry"),e.removeOrderLine("tp"),e.removeOrderLine("sl"),e.toggleCancelOrderButton(!1),n.clear("order"),e.$toasted.success(this.$t("trading.orderChart.deleteTpSuccess")),this.hideOrderButton()):e.toasteOrderError(o.message),e.isAutoOrdering=!1}))),(e.order.side>0&&i.lastPrice<=e.order.sl.price||e.order.side<0&&i.lastPrice>=e.order.sl.price)&&(e.isAutoOrdering||(e.isAutoOrdering=!0,e.executeOrder({action:"tp",data:{cmd:"cancel"}}).then(o=>{o.isOk?(e.removeOrderLine("entry"),e.removeOrderLine("tp"),e.removeOrderLine("sl"),e.toggleCancelOrderButton(!1),n.clear("order"),e.$toasted.success(this.$t("trading.orderChart.deleteSlSuccess")),this.hideOrderButton()):e.toasteOrderError(o.message),e.isAutoOrdering=!1})))):(e.order.side>0&&i.lastPrice>=e.order.entry.price||e.order.side<0&&i.lastPrice<=e.order.entry.price)&&(e.isAutoOrdering||(e.isAutoOrdering=!0,e.executeOrder({action:"tpsl",tpData:{cmd:"new",side:-e.order.side,price:e.order.tp.price},slData:{cmd:"new",side:-e.order.side,price:e.order.sl.price}}).then(o=>{o.isOk?(e.drawOrderLine("tp"),e.drawOrderLine("sl"),e.order.entry.line.applyOptions({draggable:!1}),e.$toasted.success(this.$t("trading.orderChart.autoNewTpSlSuccess"))):e.toasteOrderError(o.message),e.isAutoOrdering=!1})))))}}}},intervalHandler(){const e=moment().unix();this.inSession(e)&&(this.status.position&&e>d.ATC-5*60&&(this.blinkCancelOrderButton(),e>d.ATC-60&&this.order.tp.hasOwnProperty("line")&&this.executeOrder({action:"cancel",tpData:{cmd:"cancel"},slData:{cmd:"delete"}}).then(t=>{t.isOk?(this.removeOrderLine("entry"),this.removeOrderLine("tp"),this.removeOrderLine("sl"),this.toggleCancelOrderButton(!1),n.clear("order"),this.$toasted.success(this.$t("trading.orderChart.autoCancelTpSlSuccess"))):this.toasteOrderError(t.message)})),e==d.START&&this.connectSocket()),this.clock=Intl.DateTimeFormat(navigator.language,{hour:"numeric",minute:"numeric",second:"numeric"}).format()},showOrderButton(){const e=moment().unix();if(this.inSession(e)){if(this.order.position)this.order.entry.hasOwnProperty("line")&&!this.order.tp.hasOwnProperty("line")&&(this.$refs.tpslOrder.style.left=+(this.crosshair.x+(this.crosshair.x>innerWidth-61?-61:1))+"px",this.$refs.tpslOrder.style.top=+(this.crosshair.y+(this.crosshair.y>innerHeight-51?-51:1))+"px",this.$refs.tpslOrder.style.display="block");else if(!this.order.entry.hasOwnProperty("line")){var t=this.coordinateToPrice(this.crosshair.y);const r=t>=this.data.price.slice(-1)[0].value?1:-1;this.order.side=r,e<d.ATO?t="ATO":e<d.ATC?(this.order.tp.price=t+r*x,this.order.sl.price=t-r*$):t="ATC",this.order.entry.price=t,this.$refs.entryOrder.style.left=+(this.crosshair.x+(this.crosshair.x>innerWidth-71?-71:1))+"px",this.$refs.entryOrder.style.top=+(this.crosshair.y+(this.crosshair.y>innerHeight-61?-61:1))+"px",this.$refs.entryOrder.style.background=r>0?"green":"red",this.$refs.entryOrder.innerText=`${r>0?"LONG":"SHORT"} ${t}`,this.$refs.entryOrder.style.display="block"}}},hideOrderButton(){this.$refs.entryOrder.style.display="none",this.$refs.tpslOrder.style.display="none"},toggleCancelOrderButton(e){this.$refs.cancelOrder.style.display=e?"block":"none"},blinkCancelOrderButton(){this.$refs.cancelOrder.classList.contains("warning")?this.$refs.cancelOrder.classList.remove("warning"):this.$refs.cancelOrder.classList.add("warning")},drawOrderLine(e){var t,r;switch(e){case"entry":t="yellow",r=this.order.side>0?"LONG":"SHORT";break;case"tp":t="lime",r=Math.abs(this.order.tp.price-this.order.entry.price).toFixed(1);break;case"sl":t="red",r=Math.abs(this.order.sl.price-this.order.entry.price).toFixed(1);break}this.order[e].hasOwnProperty("line")?this.order[e].line.applyOptions({price:this.order[e].price,title:r}):this.order[e].line=this.series.price.createPriceLine({lineType:"order",kind:e,price:this.order[e].price,color:t,lineWidth:1,lineStyle:LightweightCharts.LineStyle.Solid,title:r,draggable:!0}),n.set("order",{kind:e,price:+this.order[e].price,side:this.order.side})},removeOrderLine(e){this.order[e].hasOwnProperty("line")&&(this.series.price.removePriceLine(this.order[e].line),delete this.order[e].line)},lineToolClick(e){const t=e.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command").forEach(r=>r.classList.remove("selected")),t||e.target.classList.add("selected"),e.stopPropagation()},lineToolContextmenu(e){this.removeLineTool(),e.target.classList.remove("selected"),e.preventDefault(),e.stopPropagation()},drawLineTool(){const e="line",t=this.formatPrice(this.coordinateToPrice(this.crosshair.y)),r=this.lines.findIndex(s=>{const i=s.options();return i.type=+i.price==t});if(r!=-1){const s=this.lines.splice(r,1);this.series.price.removePriceLine(s[0]),n.set("line",{price:t,removed:!0})}else{const s={lineType:e,price:t,color:"aqua",lineWidth:1,lineStyle:LightweightCharts.LineStyle.Dotted,draggable:!0};this.lines.push(this.series.price.createPriceLine(s)),n.set("line",s)}this.$refs.lineTool.classList.remove("selected")},removeLineTool(){this.lines.forEach(e=>this.series.price.removePriceLine(e)),this.lines=[],n.clear("line")},rulerToolClick(e){const t=e.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command").forEach(r=>r.classList.remove("selected")),t||(e.target.classList.add("selected"),this.removeRulerTool()),e.stopPropagation()},rulerToolContextmenu(e){this.removeRulerTool(),e.target.classList.remove("selected"),e.preventDefault(),e.stopPropagation()},drawRulerTool(){const e=this.coordinateToPrice(this.crosshair.y);var t={lineType:"ruler",price:e,color:"#FF00FF",lineWidth:1,lineStyle:LightweightCharts.LineStyle.Dotted,draggable:!0};if(this.ruler.point==0)t.point=1,t.title="0",this.ruler.start=this.series.price.createPriceLine(t),this.ruler.point=1,n.set("ruler",t);else if(this.ruler.point==1){const r=+this.ruler.start.options().price,s=2;t.point=s,t.title=(e-r).toFixed(1),this.ruler.end=this.series.price.createPriceLine(t),this.ruler.point=s,n.set("ruler",t),this.$refs.rulerTool.classList.remove("selected")}},removeRulerTool(){this.ruler.point>0&&(this.series.price.removePriceLine(this.ruler.start),this.ruler.point>1&&this.series.price.removePriceLine(this.ruler.end),this.ruler={start:{},end:{},point:0},n.clear("ruler"))},cancelOrderClick(){p(this.$t("trading.orderChart.cancelOrder"),this.$t("trading.orderChart.cancelConfirm")).then(t=>{t&&this.order.entry.hasOwnProperty("line")&&(this.order.tp.hasOwnProperty("line")?this.executeOrder({action:"exit",tpData:{cmd:"cancel"},slData:{cmd:"delete"},exitData:{cmd:"new",side:-this.order.side,price:"MTL"}}).then(r=>{r.isOk?(this.removeOrderLine("entry"),this.removeOrderLine("tp"),this.removeOrderLine("sl"),this.toggleCancelOrderButton(!1),n.clear("order"),this.$toasted.success(this.$t("trading.orderChart.exitSuccess"))):(this.toggleCancelOrderButton(!0),this.toasteOrderError(r.message))}):this.executeOrder({action:"entry",data:{cmd:"delete"}}).then(r=>{r.isOk?(this.removeOrderLine("entry"),this.toggleCancelOrderButton(!1),n.clear("order"),this.$toasted.success(this.$t("trading.orderChart.deleteEntrySuccess"))):(this.toggleCancelOrderButton(!0),this.toasteOrderError(r.message))}))})},entryOrderClick(){const e=moment().unix();this.inSession(e)&&(e<d.ATO?p(this.$t("trading.orderChart.atoOrder"),this.$t("trading.orderChart.cancelConfirm")).then(r=>{r&&this.executeOrder({action:"exit",exitData:{cmd:"new",side:this.order.side,price:"ATO"}}).then(s=>{s.isOk?this.$toasted.success(this.$t("trading.orderChart.atoOrderSuccess")):this.toasteOrderError(s.message)})}):e<d.ATC?this.executeOrder({action:"entry",data:{cmd:"new",side:this.order.side,price:this.order.entry.price}}).then(t=>{t.isOk?(this.drawOrderLine("entry"),this.toggleCancelOrderButton(!0),this.$toasted.success(this.$t("trading.orderChart.newEntrySuccess"))):this.toasteOrderError(t.message)}):p(this.$t("trading.orderChart.atcOrder"),this.$t("trading.orderChart.cancelConfirm")).then(r=>{r&&this.executeOrder({action:"exit",exitData:{cmd:"new",side:this.order.side,price:"ATC"}}).then(s=>{s.isOk?this.$toasted.success(this.$t("trading.orderChart.atcOrderSuccess")):this.toasteOrderError(s.message)})}))},tpslOrderClick(){this.executeOrder({action:"tpsl",tpData:{cmd:"new",side:-this.order.side,price:this.order.tp.price},slData:{cmd:"new",side:-this.order.side,price:this.order.sl.price}}).then(e=>{e.isOk?(this.drawOrderLine("tp"),this.drawOrderLine("sl"),this.order.entry.line.applyOptions({draggable:!1}),this.$toasted.success(this.$t("trading.orderChart.newTpSlSuccess"))):this.toasteOrderError(e.message)})},chartTopClick(){this.chart.timeScale().scrollToRealTime()},inSession(e=null){return e||(e=moment().unix()),e>=d.START&&e<=d.END},coordinateToPrice(e){return this.formatPrice(this.series.price.coordinateToPrice(e))},formatPrice(e){return e?+ +e.toFixed(1):0},toasteOrderError(e){e||(e="unknown"),this.$toasted.error(this.$t(`admin.orderChart.${e}`))}}};var b=function(){var t=this,r=t._self._c;return r("div",{staticClass:"order-chart-page"},[r("h2",{staticClass:"content-block"},[t._v(" "+t._s(t.$t("trading.orderChart.title"))+" ")]),r("div",{staticClass:"content-block dx-card responsive-paddings"},[r("div",{ref:"chartContainer",staticClass:"order-chart-container"},[r("div",{ref:"orderChart",staticClass:"chart-wrapper"},[r("div",{staticClass:"area data-area"},[r("div",{class:`command noaction far fa-${t.status.connection?"link":"unlink"}`,attrs:{title:t.$t("trading.orderChart.connection")}}),r("div",{staticClass:"command noaction status",class:{green:t.status.position>0,red:t.status.position<0},attrs:{title:t.$t("trading.orderChart.position")}},[t._v(" "+t._s(t._f("currency")(t.status.position,"",""))+" ")]),r("div",{staticClass:"command noaction clock"},[t._v(t._s(t.clock))]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.chartDate,expression:"chartDate"}],staticClass:"chart-date command",attrs:{type:"date",title:t.$t("trading.orderChart.date")},domProps:{value:t.chartDate},on:{change:()=>t.getChartData(t.chartDate),input:function(s){s.target.composing||(t.chartDate=s.target.value)}}}),r("img",{ref:"spinner",staticClass:"command spinner",attrs:{src:k}})]),r("div",{staticClass:"area tool-area"},[r("div",{ref:"fullscreenTool",class:`command far fa-${t.isFullscreen?"compress":"expand"}`,attrs:{title:t.$t("trading.orderChart.fullscreen")},on:{click:t.toggleFullscreen}}),r("div",{ref:"reloadTool",staticClass:"command far fa-sync-alt",attrs:{title:t.$t("trading.orderChart.reload")},on:{click:()=>{t.data.price=[],t.getChartData(t.chartDate)}}}),r("div",{ref:"lineTool",staticClass:"command far fa-minus",attrs:{title:t.$t("trading.orderChart.lineTool")},on:{click:t.lineToolClick,contextmenu:t.lineToolContextmenu}}),r("div",{ref:"rulerTool",staticClass:"command far fa-arrows-v",attrs:{title:t.$t("trading.orderChart.rulerTool")},on:{click:t.rulerToolClick,contextmenu:t.rulerToolContextmenu}}),r("div",{ref:"cancelOrder",staticClass:"cancel-order command far fa-trash-alt",attrs:{title:t.$t("trading.orderChart.cancelTool")},on:{click:t.cancelOrderClick}})]),r("div",[r("div",{ref:"entryOrder",staticClass:"order-button entry",on:{click:t.entryOrderClick}},[t._v(" Entry ")]),r("div",{ref:"tpslOrder",staticClass:"order-button tpsl",on:{click:t.tpslOrderClick}},[t._v(" TP/SL ")]),r("div",{staticClass:"chart-top command far fa-angle-double-right",on:{click:t.chartTopClick}})])])])])])},D=[],E=O(P,b,D,!1,null,"02f1500e",null,null);const F=E.exports;export{F as default};
