var Ll=Object.defineProperty;var es=t=>{throw TypeError(t)};var Ul=(t,o,e)=>o in t?Ll(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var we=(t,o,e)=>Ul(t,typeof o!="symbol"?o+"":o,e),Zo=(t,o,e)=>o.has(t)||es("Cannot "+e);var K=(t,o,e)=>(Zo(t,o,"read from private field"),e?e.call(t):o.get(t)),ie=(t,o,e)=>o.has(t)?es("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(t):o.set(t,e),Jt=(t,o,e,p)=>(Zo(t,o,"write to private field"),p?p.call(t,e):o.set(t,e),e),Yt=(t,o,e)=>(Zo(t,o,"access private method"),e);var Eo=(t,o,e,p)=>({set _(d){Jt(t,o,d,e)},get _(){return K(t,o,p)}});import{C as zl,E as qs,G as $l,H as kr,r as ce,c as Ge,y as Ho,I as Vl,J as Hl,m as Do,o as Ie,p as jn,f as Gr,b as Pe,e as Se,d as he,t as Ur,K as tr,F as no,A as go,q as Gl,h as Qr,u as Dn,k as ar,L as Ln,M as Un,N as Ys,O as ql,g as qr,w as _o,Q as Yl,n as vo,_ as Kl,l as Dr,x as je,R as Jl,S as Xo,T as Ql,a as Zl,U as So,V as Xl,j as tp,W as ep}from"./app-CmdvMNS5.js";import{_ as Ks,g as Oe,c as rp,a as op,b as ip,d as np,e as sp}from"./lightweight-charts.esm.development-Bd53BhYP.js";function ap(t,o){for(var e=0;e<o.length;e++){const p=o[e];if(typeof p!="string"&&!Array.isArray(p)){for(const d in p)if(d!=="default"&&!(d in t)){const a=Object.getOwnPropertyDescriptor(p,d);a&&Object.defineProperty(t,d,a.get?a:{enumerable:!0,get:()=>p[d]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Js(t,o,e){return zl(t,+qs(t)+o)}function zr(t,o,e){return Js(t,o*$l)}function lp(t,o,e){return Js(t,o*1e3)}function pp(t,o){const e=qs(t,o==null?void 0:o.in);if(isNaN(+e))throw new RangeError("Invalid time value");let p="",d="";const a="-",n=":";{const u=kr(e.getDate(),2),l=kr(e.getMonth()+1,2);p=`${kr(e.getFullYear(),4)}${a}${l}${a}${u}`}{const u=e.getTimezoneOffset();if(u!==0){const w=Math.abs(u),_=kr(Math.trunc(w/60),2),k=kr(w%60,2);d=`${u<0?"+":"-"}${_}:${k}`}else d="Z";const l=kr(e.getHours(),2),c=kr(e.getMinutes(),2),m=kr(e.getSeconds(),2),v=p===""?"":"T",b=[l,c,m].join(n);p=`${p}${v}${b}${d}`}return p}function To(t,o,e){return lp(t,-o)}const up={key:0},cp=["innerHTML"],dp={key:1},hp={class:"conds"},fp={key:0,class:"subs"},mp={__name:"ProgressContext",props:["progress","chartHeightEnough"],emits:["refreshPattern"],setup(t,{emit:o}){const e=t,p=o,d=ce({}),a=Ge(()=>{var b;return((b=d.value[e.progress.pattern])==null?void 0:b[e.progress.subPattern])||{}});Ho(()=>{n()});function n(){Vl(Object.assign({"../../../../../lang/vi/derivative.js":()=>Hl(()=>import("./derivative-b9iRc-4T.js"),[])}),`../../../../../lang/${window.lang}/derivative.js`,8).then(b=>{d.value=b.default||[]})}function u(){p("refreshPattern")}function l(b){return b.map(w=>c(w)).every(Boolean)}function c(b){return Array.isArray(b)?b.some(Boolean):b}function m(b){return v(b)?b.name:b}function v(b){return b&&typeof b=="object"&&!Array.isArray(b)}return(b,w)=>{const _=Do("DxButton");return Ie(),jn(Ks,{class:"pattern-context"},{default:Gr(()=>{var k,j;return[t.progress?(Ie(),Pe("div",up,[Se(_,{type:"success",stylingMode:"outlined",icon:"refresh",text:b.$t("buttons.refresh"),onClick:u},null,8,["text"]),he("div",{class:"pattern-name",innerHTML:(k=a.value)==null?void 0:k.name},null,8,cp)])):(Ie(),Pe("div",dp,Ur(b.$t("trading.derivative.noPattern")),1)),he("div",{class:tr(["steps",{portrait:t.chartHeightEnough}])},[(Ie(!0),Pe(no,null,go((j=a.value)==null?void 0:j.steps,(Y,C)=>(Ie(),Pe("div",{key:C,class:tr(["step",[t.progress&&t.progress.step===C+1?t.progress.result?"current-success":"current-fail":"",t.progress?l(t.progress.steps[C])?"success":"fail":""]])},[he("div",null,Ur(C+1)+". "+Ur(Y.name),1),he("ol",hp,[(Ie(!0),Pe(no,null,go(Y.conds,(R,q)=>(Ie(),Pe("li",{key:q,class:tr(["cond",[t.progress?c(t.progress.steps[C][q])?"success":"fail":""]])},[he("div",null,Ur(m(R)),1),v(R)?(Ie(),Pe("ul",fp,[(Ie(!0),Pe(no,null,go(R.subs,(tt,D)=>(Ie(),Pe("li",{key:q,class:tr(["sub",[t.progress?t.progress.steps[C][q][D]?"success":"fail":""]])},Ur(tt),3))),128))])):Gl("",!0)],2))),128))])],2))),128))],2)]}),_:1})}}},yp=["title"],gp={__name:"ProgressTool",props:["chartHeightEnough"],emits:["refreshPattern","hideContext"],setup(t,{expose:o,emit:e}){const p=Qr(),{t:d}=Dn(),a=ar("mf"),n=ar("mc"),u=e,l=ce({});ce(Object.values(n.CHART_COLOR_MAP));const c=ce(!1),m=Ge(()=>p.state.tradingDerivative.config.autoRefresh);o({hide:b,set:w}),Ho(()=>{window.addEventListener("keydown",C)}),Ln(()=>{window.removeEventListener("keydown",C)});function v(){const R=c.value;u("hideContext"),c.value=!R}function b(R=!1){c.value=R}function w(R){j(R,l.value),l.value=R}function _(){u("refreshPattern")}function k(){p.dispatch("tradingDerivative/setAutoRefresh",!m.value)}function j(R,q){if(a.isSet(R)&&(R.step!==q.step||R.step===q.step&&R.result!==q.result)){let tt="";R.result?tt=d("trading.derivative.toasts.progressSuccess",R):tt=d("trading.derivative.toasts.progressFail",R),Y(tt)}}function Y(R){const q=new SpeechSynthesisUtterance(R);q.lang="vi-VN",speechSynthesis.speak(q)}function C(R){R.key==="F3"&&(v(),R.preventDefault())}return(R,q)=>(Ie(),Pe("div",{class:"context command",style:ql({color:l.value.step?qr(n).CHART_COLOR_MAP[l.value.color]:""}),title:R.$t("trading.derivative.tools.progress"),onClick:v,onContextmenu:k},[he("i",{class:tr(["far",{"fa-badge-check":!l.value.step,[`fa-circle-${l.value.step}`]:l.value.step,blink:m.value}])},null,2),Un(Se(mp,{class:"contextmenu",progress:l.value,chartHeightEnough:t.chartHeightEnough,onRefreshPattern:_},null,8,["progress","chartHeightEnough"]),[[Ys,c.value]])],44,yp))}},vp=["title"],bp=he("i",{class:"far fa-heart-rate"},null,-1),wp=[bp],_p="VN30F1M",Ep=1,rs=.75,Sp={__name:"PatternTool",props:["bars","pickTimeToolRef","timeToIndex","indexToTime"],emits:["setProgress","setPatternOrder","hideContext"],setup(t,{expose:o,emit:e}){const p=Qr(),d=ar("mf"),a=ar("mc"),n=t,u=e,l=ce(null),c=Ge(()=>p.state.tradingDerivative.tools.pattern),m=Ge(()=>p.state.tradingDerivative.config.patternType),v=["C","V","R","S"];let b={},w={},_={};o({isSelected:k,createSeries:j,draw:R,refresh:D,remove:M}),_o(c,I=>{setTimeout(()=>{tt(I,{isCheck:!0})},0)});function k(){return l.value.classList.contains("selected")}function j(I){if(!I)return!1;_.pattern=I.addLineSeries({color:"#F5F5F5",lastValueVisible:!1,priceLineVisible:!1}),_.timeMark=I.addHistogramSeries({priceScaleId:"timeMark",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function Y(I){u("hideContext");const U=I.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(st=>st.classList.remove("selected")),U||I.target.classList.add("selected")}function C(I){I.target.classList.remove("selected"),u("hideContext"),M()}function R({time:I,price:U}){let st={};if(d.isSet(w.X)){st=d.cloneDeep(b);const et=pp(new Date(I*1e3));st.A={time:{t:I,d:et},price:U},console.log("points",st)}else{const et=I?n.bars.filter(X=>!d.cmp(X.time,!0,I)):n.bars;st=q(et)}tt(st,{isSave:!0}),l.value.classList.remove("selected")}function q(I){let U,st,[et,X,at,ht]=Array(4).fill({});for(let x=I.length-1;x>=0;x--){const Q=I[x].high,rt=I[x].low,ft=I[x].time,mt=I[x].date,z=n.timeToIndex(ft),ot={t:ft,d:mt,i:z};if(x===I.length-1&&(U={time:ot,high:Q,low:rt}),st===void 0){if(Q<=U.high&&rt>=U.low||Q>U.high&&rt<U.low)continue;Q>U.high&&rt>=U.low&&(st=!0),rt<U.low&&Q<=U.high&&(st=!1),at={time1:U.time,time:U.time,price:st?U.low:U.high},[X,et,ht]=Array(3).fill(null).map(()=>d.cloneDeep(at))}const A=st?Q:rt,H=st?rt:Q;if(d.cmp(A,st,X.price)&&(d.cmp(et.price,!st,at.price)?([at,X]=[X,et].map(it=>d.cloneDeep(it)),et={time1:ot,time:ot,price:A},ht=d.cloneDeep(et),st=!st):X={time1:ot,time:ot,price:A}),d.cmp(H,!st,et.price,!0)&&(H===et.price?et.time1=ot:et={time1:ot,time:ot,price:H},ht={time:et.time1,price:et.price}),d.cmp(A,st,ht.price)&&(ht={time:ot,price:A}),at.time.i>et.time.i&&d.cmp(at.price,st,et.price)&&at.time.i-X.time.i>50){const it=d.fmtNum(X.price-at.price,1,!0);if(it>=Ep){const bt=d.fmtNum(et.price-ht.price,1,!0);if(bt>it||dt({pr:bt,tr:et.time1.i-ht.time.i},{pr:it,tr:at.time.i-X.time.i}))break}}}return delete et.time1,delete et.time.i,delete X.time.i,delete at.time.i,{A:et,B:X,C:at}}function tt(I,{isSave:U=!1,isCheck:st=!1}={}){if(!d.isSet(I))return!1;b=d.cloneDeep(I),U&&Et(),(st?Z(b.A.time.t):!0)&&(ct(),T())}function D(I=!1){d.isSet(w.X)&&(I&&gt(),ct(),T())}function T(){let U={lineType:"pattern",lineWidth:1,lineStyle:1,draggable:!1};const{entry:st,target:{x:et,y:X,z:at,w:ht,t:x}}=J();U.point="O",U.price=st,U.title="O",U.color=a.CHART_COLOR_MAP.cyan,U.draggable=!1,w[U.point]=_.pattern.createPriceLine(U),d.isSet(et)&&(U.point="X",U.price=et[0],U.title=`X ${et[1]}`,U.color=a.CHART_COLOR_MAP.blue,U.draggable=!1,w[U.point]=_.pattern.createPriceLine(U)),d.isSet(X)&&(U.point="Y",U.price=X[0],U.title=`Y ${X[1]}`,U.color=a.CHART_COLOR_MAP.purple,U.draggable=!1,w[U.point]=_.pattern.createPriceLine(U)),d.isSet(at)&&(U.point="Z",U.price=at[0],U.title=`Z ${at[1]}`,U.color=a.CHART_COLOR_MAP.pink,U.draggable=!1,w[U.point]=_.pattern.createPriceLine(U)),d.isSet(ht)&&(U.point="W",U.price=ht[0],U.title=`W ${ht[1]}`,U.color=a.CHART_COLOR_MAP.lime,U.draggable=!1,w[U.point]=_.pattern.createPriceLine(U)),d.isSet(x)&&(U.point="T",U.price=x[0],U.title=`T ${x[1]}`,U.color=a.CHART_COLOR_MAP.orange,U.draggable=!1,w[U.point]=_.pattern.createPriceLine(U))}function J(){let I={};switch(m.value){case"C":I=nt();break;case"V":I=$();break;case"R":I=yt();break;case"S":I=N();break}return u("setProgress",I.progress),u("setPatternOrder",I.order),kt(I.timeMark),_.pattern.setData(I.points),I}function nt(){const{A:I,B:U,C:st}=b,et=U.price-st.price;let X=et>0,at=n.pickTimeToolRef.get();at<st.time.t&&(at=void 0);const ht=V({side:X,start:I,end:{time:U.time,price:U.price}}),x=ht.S,Q=ht.R,rt=Q.time1.i-x.time.i,ft=n.indexToTime(Q.time.i+3*rt),mt=V({side:!X,start:Q,end:{time:st.time,price:st.price}}),z=mt.R,ot=V({side:X,start:{time:z.time},end:{time:{t:at??ft}}}),A=dt(ot.ext,ot,!0),H=A?ot.R1:ot.ext.R,it=A?ot.S1:ot.ext.S,bt=V({side:!X,start:H,end:{time:{t:Math.min(at??it.time.t,it.time.t)},price:it.price}}),f=V({side:X,start:it,end:{time:{t:at??ft}}}),h=dt(f.ext,f,!0),g=h?f.R1:f.ext.R,B=h?f.S1:f.ext.S,W=V({side:!X,start:g,end:{time:{t:Math.min(at??B.time.t,B.time.t)},price:B.price}}),O=V({side:X,start:B,end:{time:{t:at??ft}}}),wt=dt(O.ext,O,!0),Dt=wt?O.R1:O.ext.R,F=wt?O.S1:O.ext.S;console.log("calcContinuePattern",[ht,mt,ot,bt,f,W,O]);const zt=d.fmtNum(et,1,!0),Ut=d.fmtNum(H.price-z.price,1,!0),jt=d.fmtNum(it.price-H.price,1,!0),Lt=d.fmtNum(g.price-it.price,1,!0),Zt=d.fmtNum(B.price-g.price,1,!0),Ot=d.fmtNum(Dt.price-B.price,1,!0),Xt=z.time1.i-Q.time.i,te=H.time1.i-z.time.i,ee=it.time1.i-H.time.i,vt=g.time1.i-it.time.i,Mt=B.time1.i-g.time.i,xt=Dt.time1.i-B.time.i,Ht=A?ot.pre.tr:ot.tr,$t=A?ot.pre.pr:ot.pr,Qt=h?f.pre.tr:f.tr,ne=h?f.pre.pr:f.pr,ge=Dt.time.i+rt-Xt-te-ee-vt-Mt-xt,se=z.time.i+Xt,ve=g.time.i+te-ee-vt,$e=Dt.time.i+vt-Mt-xt,lr={times:[ge,se,ve,$e],colors:["yellow","red","purple","cyan"]},er=Ut/zt,pr=jt/Ut,ur=Lt/jt,Be=d.cmp(H.price,X,Q.price),Ve=d.cmp(g.price,X,H.price),Fe=d.cmp(Dt.price,X,g.price),Te=[[dt({pr:Ut,tr:te},mt),[Be&&er<=2,er>=.5&&vt>=te-ee]],[dt({pr:jt,tr:ee},{pr:$t,tr:Ht}),pr<1.5],[dt({pr:Lt,tr:vt},bt),[Ve,ur>=.7&&xt>=vt-Mt]],[dt({pr:Zt,tr:Mt},{pr:ne,tr:Qt})],[dt({pr:Ot,tr:xt},W),xt>=rt-Xt-te-ee-vt-Mt,d.cmp(Dt.price,X,H.price),Fe]],Ft=["yellow","orange","red","pink","purple","blue","cyan","green","green"],Vt=It("continue",Te,Ft,2),qe=pt([x,Q,z,H,it,g,B,Dt,F],Ft),ke=X?1:-1,ue=Dt.price,We=d.fmtNum(ue+ke*.1),P=d.fmtNum((Ve?g.price:H.price)-z.price,1,!0),rr=lt(B.price,.5*P,ke),re=d.fmtNum(rr-We),oe=lt(B.price,P,ke),Gt=d.fmtNum(oe-We),Ye=lt(B.price,1.25*P,ke),Ke=d.fmtNum(Ye-We),i=lt(B.price,1.5*P,ke),s=d.fmtNum(i-We),y=d.fmtNum((Fe?Dt.price+F.price:Ve?g.price+B.price:H.price+it.price)/2),S=d.fmtNum(y-We,1);let G={};if(Vt.result){const ut=d.cmp(Dt.price,!X,rr)?oe:Ye,At=B.price;G={type:"SLO",side:ke,price:We,tpPrice:ut,slPrice:d.fmtNum(At-ke*.1)},console.log("order",G)}return{timeMark:lr,progress:Vt,order:G,points:Nt(qe),entry:We,target:{x:[rr,re],y:[oe,Gt],z:[Ye,Ke],w:[i,s],t:[y,S]}}}function $(){const{A:I,B:U,C:st}=b;let et=I.price-U.price>0,X=n.pickTimeToolRef.get();X<U.time.t&&(X=void 0);const at=V({side:!et,start:I,end:{time:U.time,price:U.price}}),ht=at.S,x=at.R,Q=x.time1.i-ht.time.i,rt=n.indexToTime(x.time.i+2*Q),ft=V({side:et,start:x,end:{time:{t:X??rt}}}),mt=dt(ft.ext,ft,!0),z=mt?ft.R1:ft.ext.R,ot=mt?ft.S1:ft.ext.S,A=V({side:!et,start:z,end:{time:{t:Math.min(X??ot.time.t,ot.time.t)},price:ot.price}}),H=V({side:et,start:ot,end:{time:{t:X??rt}}}),it=dt(H.ext,H,!0),bt=it?H.R1:H.ext.R,f=it?H.S1:H.ext.S,h=V({side:!et,start:bt,end:{time:{t:Math.min(X??f.time.t,f.time.t)},price:f.price}}),g=V({side:et,start:f,end:{time:{t:X??rt}}}),B=dt(g.ext,g,!0),W=B?g.R1:g.ext.R,O=B?g.S1:g.ext.S,wt=V({side:!et,start:W,end:{time:{t:Math.min(X??O.time.t,O.time.t)},price:O.price}}),Dt=V({side:et,start:O,end:{time:{t:X??rt}}}),F=dt(Dt.ext,Dt,!0),zt=F?Dt.R1:Dt.ext.R,Ut=F?Dt.S1:Dt.ext.S;console.log("calcVlinePattern",[at,ft,A,H,h,g,wt,Dt]);const jt=d.fmtNum(ot.price-z.price,1,!0),Lt=d.fmtNum(bt.price-ot.price,1,!0),Zt=d.fmtNum(f.price-bt.price,1,!0),Ot=d.fmtNum(W.price-f.price,1,!0),Xt=d.fmtNum(O.price-W.price,1,!0),te=d.fmtNum(zt.price-O.price,1,!0),ee=z.time1.i-x.time.i,vt=ot.time1.i-z.time.i,Mt=bt.time1.i-ot.time.i,xt=f.time1.i-bt.time.i,Ht=W.time1.i-f.time.i,$t=O.time1.i-W.time.i,Qt=zt.time1.i-O.time.i,ne=it?H.pre.tr:H.tr,ge=it?H.pre.pr:H.pr,se=B?g.pre.tr:g.tr,ve=B?g.pre.pr:g.pr,$e=zt.time.i+ee-vt-Mt-xt-Ht-$t-Qt,lr=ot.time.i+vt,er=W.time.i+Mt-xt-Ht,pr=zt.time.i+Ht-$t-Qt,ur={times:[$e,lr,er,pr],colors:["yellow","red","purple","cyan"]},Be=Lt/jt,Ve=Zt/Lt,Fe=Ot/Zt,Te=d.cmp(bt.price,et,z.price),Ft=d.cmp(W.price,et,bt.price),Vt=d.cmp(zt.price,et,W.price),qe=[[dt({pr:Lt,tr:Mt},A),[Te&&Be<=2,Be>=.5&&Ht>=Mt-xt]],[dt({pr:Zt,tr:xt},{pr:ge,tr:ne}),Ve<1.5],[dt({pr:Ot,tr:Ht},h),[Ft,Fe>=.7&&Qt>=Ht-$t]],[dt({pr:Xt,tr:$t},{pr:ve,tr:se})],[dt({pr:te,tr:Qt},wt),Qt>=ee-vt-Mt-xt-Ht-$t,d.cmp(zt.price,et,bt.price),Vt]],ke=["lime","yellow","orange","red","pink","purple","blue","cyan","green","green"],ue=It("continue",qe,ke,3),We=pt([ht,x,z,ot,bt,f,W,O,zt,Ut],ke),P=et?1:-1,rr=zt.price,re=d.fmtNum(rr+P*.1),oe=d.fmtNum((Ft?W.price:bt.price)-ot.price,1,!0),Gt=lt(O.price,.5*oe,P),Ye=d.fmtNum(Gt-re),Ke=lt(O.price,oe,P),i=d.fmtNum(Ke-re),s=lt(O.price,1.25*oe,P),y=d.fmtNum(s-re),S=lt(O.price,1.5*oe,P),G=d.fmtNum(S-re),ut=d.fmtNum((Vt?zt.price+Ut.price:Ft?W.price+O.price:bt.price+f.price)/2),At=d.fmtNum(ut-re,1);let qt={};if(ue.result){const be=d.cmp(zt.price,!et,Gt)?Ke:s,cr=O.price;qt={type:"SLO",side:P,price:re,tpPrice:be,slPrice:d.fmtNum(cr-P*.1)},console.log("order",qt)}return{timeMark:ur,progress:ue,order:qt,points:Nt(We),entry:re,target:{x:[Gt,Ye],y:[Ke,i],z:[s,y],w:[S,G],t:[ut,At]}}}function yt(){const{A:I,B:U}=b;let et=I.price-U.price>0,X=n.pickTimeToolRef.get();X<U.time.t&&(X=void 0);const at=V({side:!et,start:I,end:{time:U.time,price:U.price}}),ht=at.S,x=at.R,Q=x.time1.i-ht.time.i,rt=n.indexToTime(x.time.i+3*Q),ft=V({side:et,start:{time:x.time},end:{time:{t:X??rt}}}),mt=dt(ft.ext,ft,!0),z=mt?ft.R1:ft.ext.R,ot=mt?ft.S1:ft.ext.S,A=V({side:!et,start:z,end:{time:{t:Math.min(X??ot.time.t,ot.time.t)},price:ot.price}}),H=V({side:et,start:ot,end:{time:{t:X??rt}}}),it=dt(H.ext,H,!0),bt=it?H.R1:H.ext.R,f=it?H.S1:H.ext.S,h=V({side:!et,start:bt,end:{time:{t:Math.min(X??f.time.t,f.time.t)},price:f.price}}),g=V({side:et,start:f,end:{time:{t:X??rt}}}),B=dt(g.ext,g,!0),W=B?g.R1:g.ext.R,O=B?g.S1:g.ext.S;console.log("calcReversalPattern",[at,ft,A,H,h,g]);const wt=d.fmtNum(z.price-x.price,1,!0),Dt=d.fmtNum(ot.price-z.price,1,!0),F=d.fmtNum(bt.price-ot.price,1,!0),zt=d.fmtNum(f.price-bt.price,1,!0),Ut=d.fmtNum(W.price-f.price,1,!0),jt=z.time1.i-x.time.i,Lt=ot.time1.i-z.time.i,Zt=bt.time1.i-ot.time.i,Ot=f.time1.i-bt.time.i,Xt=W.time1.i-f.time.i,te=mt?ft.pre.tr:ft.tr,ee=mt?ft.pre.pr:ft.pr,vt=it?H.pre.tr:H.tr,Mt=it?H.pre.pr:H.pr,xt=W.time.i+Q-jt-Lt-Zt-Ot-Xt,Ht=z.time.i+jt,$t=bt.time.i+jt-Lt-Zt,Qt=W.time.i+Zt-Ot-Xt,ne={times:[xt,Ht,$t,Qt],colors:["orange","pink","purple","cyan"]},ge=Dt/wt,se=F/Dt,ve=d.cmp(bt.price,et,z.price),$e=d.cmp(W.price,et,bt.price),lr=[[dt({pr:wt,tr:jt},at),Zt>=jt-Lt],[dt({pr:Dt,tr:Lt},{pr:ee,tr:te}),ge<1.5],[dt({pr:F,tr:Zt},A),[ve,se>=.7&&Xt>=Zt-Ot]],[dt({pr:zt,tr:Ot},{pr:Mt,tr:vt})],[dt({pr:Ut,tr:Xt},h),Xt>=Q-jt-Lt-Zt-Ot,d.cmp(W.price,et,z.price),$e]],er=["orange","red","pink","purple","blue","cyan","green","green"],pr=It("reversal",lr,er,1),ur=pt([ht,x,z,ot,bt,f,W,O],er),Be=et?1:-1,Ve=W.price,Fe=d.fmtNum(Ve+Be*.1),Te=d.fmtNum((ve?bt.price:z.price)-ot.price,1,!0),Ft=lt(f.price,.5*Te,Be),Vt=d.fmtNum(Ft-Fe),qe=lt(f.price,Te,Be),ke=d.fmtNum(qe-Fe),ue=lt(f.price,1.25*Te,Be),We=d.fmtNum(ue-Fe),P=lt(f.price,1.5*Te,Be),rr=d.fmtNum(P-Fe),re=d.fmtNum(($e?W.price+O.price:ve?bt.price+f.price:z.price+ot.price)/2),oe=d.fmtNum(re-Fe);let Gt={};if(pr.result){const Ye=d.cmp(W.price,!et,Ft)?qe:ue,Ke=f.price;Gt={type:"SLO",side:Be,price:Fe,tpPrice:Ye,slPrice:d.fmtNum(Ke-Be*.1)},console.log("order",Gt)}return{timeMark:ne,progress:pr,order:Gt,points:Nt(ur),entry:Fe,target:{x:[Ft,Vt],y:[qe,ke],z:[ue,We],w:[P,rr],t:[re,oe]}}}function N(){const{A:I,B:U,C:st}=b,et=I.price-U.price;let X=et>0,at=n.pickTimeToolRef.get();at<U.time.t&&(at=void 0);const ht=V({side:!X,start:I,end:{time:U.time}}),x=ht.S,Q=ht.R,rt=V({side:X,start:{time:Q.time},end:{time:st.time}}),ft=rt.R,mt=Q.time1.i-x.time.i,z=ft.time1.i-Q.time.i,ot=n.indexToTime(Q.time.i+(z>mt?4:2)*mt),A=V({side:!X,start:ft,end:{time:{t:at??ot}}}),H=dt(A.ext,A,!0),it=H?A.R1:A.ext.R,bt=H?A.S1:A.ext.S;console.log("calcSidewayPattern",[ht,rt,A]);const f=d.fmtNum(et,1,!0),h=d.fmtNum(ft.price-Q.price,1,!0),g=it.time1.i-ft.time.i,B=bt.time1.i-it.time.i,W=bt.time.i+mt-z-g-B,O=bt.time.i+z-g-B,wt=n.timeToIndex(at??n.bars.at(-1).time),Dt={times:[W,O],colors:["orange","pink"]},F=h/f,zt=z>mt&&F>=.75,Ut=z>mt&&dt(ht,rt)&&d.cmp(ft.price,X,ht.S1.price)&&F>=.6,jt=z<mt&&wt<W&&F<.4,Lt=[[dt({pr:h,tr:z},ht),h>=3,O>wt,[zt,Ut,jt]]],Zt=["orange","red","pink","purple","purple"],Ot=It("sideway",Lt,Zt,1),Xt=pt([x,Q,ft,it,bt],Zt),te=X?1:-1,vt=Q.price,Mt=h,xt=d.fmtNum(Q.price+te*.5*Mt),Ht=d.fmtNum(xt-vt),$t=d.fmtNum(Q.price-te*.5*Mt),Qt=d.fmtNum($t-vt),ne=d.fmtNum(Q.price-te*Mt),ge=d.fmtNum(ne-vt);let se={};return Ot.result&&(se={type:"LO",side:te,price:vt,tpPrice:xt,slPrice:ne},console.log("order",se)),{timeMark:Dt,progress:Ot,order:se,points:Nt(Xt),entry:vt,target:{x:[xt,Ht],y:[$t,Qt],z:[ne,ge]}}}function V({side:I,start:U,end:st}){let et=d.cloneDeep(U),X={},at={},ht={},x={},Q={};et.time.i=n.timeToIndex(et.time.t);const rt=n.bars.filter(ft=>{let mt=ft.time>=U.time.t;return st.time.t&&(mt=mt&&ft.time<=st.time.t),mt});return rt.length>0?(rt.every((ft,mt)=>{const z=I?ft.high:ft.low,ot=I?ft.low:ft.high,A=ft.time,H=ft.date,it=n.timeToIndex(A);if((mt===0||U.price&&ot===U.price)&&(at={R:{price:z,price1:z,time:{t:A,d:H,i:it},time1:{t:A,d:H,i:it}},S:{price:z,time:{t:A,d:H,i:it},time1:{t:A,d:H,i:it}},pr:0,tr:0},ht=d.cloneDeep(at)),U.price&&d.cmp(ot,!I,U.price)||st.price&&d.cmp(z,I,st.price))return!1;if(d.cmp(z,I,at.R.price,!0)){at.pr>0&&(!st.price||z!==st.price)&&dt(at,ht)&&(x=d.cloneDeep(ht),ht=d.cloneDeep(at),ht.tr<x.tr&&(ht.tr=x.tr),ht.pr<x.pr&&(ht.pr=x.pr));const bt=z===at.R.price,f=I?Math.min(at.R.price1,at.S.price):Math.max(at.R.price1,at.S.price);at={R:{price:z,price1:bt?f:z,time:{t:A,d:H,i:it},time1:bt?at.R.time1:{t:A,d:H,i:it}},S:{price:z,time:{t:A,d:H,i:it},time1:{t:A,d:H,i:it}},pr:0,tr:0}}else d.cmp(ot,!I,at.S.price,!0)&&(at.S.time={t:A,d:H,i:it},ot!==at.S.price&&(at.S.price=ot,at.S.time1={t:A,d:H,i:it},at.pr=d.fmtNum(at.S.price-at.R.price,1,!0),at.tr=at.S.time1.i-at.R.time.i));return!0}),Q=d.cloneDeep(at),X=d.cloneDeep(at.R)):(X=d.cloneDeep(et),ht={R:X,S:{},pr:0,tr:0},x=d.cloneDeep(ht),Q=d.cloneDeep(ht)),{S:et,R:X,S1:ht.S,R1:ht.R,tr:ht.tr,pr:ht.pr,pre:x,ext:Q}}function dt(I,U,st=!1){const et=d.fmtNum(rs*(I.pr/U.pr)+(1-rs)*(I.tr/U.tr),2);return st?et<1:et>=1}function pt(I,U){const st=[];return I.forEach((et,X)=>{const at={value:et.price,color:a.CHART_COLOR_MAP[U[X]]};X!==0&&st.push({...at,time:et.time1.t}),X!==I.length-1&&st.push({...at,time:et.time.t})}),st}function It(I,U,st,et=0){let X={pattern:m.value,subPattern:I,steps:U,step:0,result:!0};return X.steps.map((at,ht)=>(X.result&&(X.step=ht+1,X.result=St(at)),at)),X.color=X.result?"green":st[X.step+et-1],X}function St(I){return I.map(U=>Array.isArray(U)?U.some(Boolean):U).every(Boolean)}function Z(I){var et,X;if(!n.bars.length)return!1;const U=(et=n.bars[0])==null?void 0:et.time,st=(X=n.bars.at(-1))==null?void 0:X.time;return typeof U!="number"||typeof st!="number"?!1:I>=U&&I<=st}function lt(I,U,st){const et=I+st*U;let X=d.fmtNum(et%1),at=et;return st>0?X>=.1&&X<=.2?at=Math.floor(et):X>=.6&&X<=.7&&(at=Math.floor(et)+.5):X>=.8&&X<=.9?at=Math.ceil(et):X>=.3&&X<=.4&&(at=Math.floor(et)+.5),d.fmtNum(at)}function gt(){if(n.pickTimeToolRef.get())return!1;const U=b.B.price>b.A.price,st=n.bars.findIndex(X=>X.time===b.C.time.t);let et=d.cloneDeep(b.C);for(let X=st;X<n.bars.length;X++){const at=n.bars[X].time,ht=n.bars[X].date,x=U?n.bars[X].low:n.bars[X].high;d.cmp(x,!U,et.price,!0)&&(et.time={t:at,d:ht},et.price=x)}et.time.t!==b.C.time.t&&(b.C=et,Et())}function Et(I=!1){let U={isRemove:I,symbol:_p,name:"pattern",points:[],data:[]};I?b={}:Object.entries(b).forEach(([st,et])=>{U.points.push(st),U.data.push(et)}),p.dispatch("tradingDerivative/drawTools",U)}function M(){Et(!0),n.pickTimeToolRef.remove(),ct(),kt({times:[]}),u("setProgress",!1),u("setPatternOrder",{}),_.pattern.setData([])}function ct(){d.isSet(w.O)&&_.pattern.removePriceLine(w.O),d.isSet(w.X)&&_.pattern.removePriceLine(w.X),d.isSet(w.Y)&&_.pattern.removePriceLine(w.Y),d.isSet(w.Z)&&_.pattern.removePriceLine(w.Z),d.isSet(w.W)&&_.pattern.removePriceLine(w.W),d.isSet(w.T)&&_.pattern.removePriceLine(w.T),w={}}function kt({times:I,colors:U}){let st=[];I.forEach((et,X)=>{let at=n.indexToTime(et);at&&st.push({time:at,value:1,color:a.CHART_COLOR_MAP[U[X]]})}),st.length&&(st=Nt(st),st.sort((et,X)=>et.time-X.time)),_.timeMark.setData(st)}function Nt(I){const U=new Set;return I.map(st=>{let et={...st};for(;U.has(et.time);)et.time++;return U.add(et.time),et})}function Tt({itemData:I}){p.dispatch("tradingDerivative/setPatternType",I).then(U=>{U&&D()})}function L(){const I=m.value===v[0]?v[1]:v[0];p.dispatch("tradingDerivative/setPatternType",I).then(U=>{U&&D()})}return(I,U)=>(Ie(),Pe(no,null,[he("div",{class:"command",onContextmenu:L},[Se(qr(Yl),{items:v,"drop-down-options":{width:33,wrapperAttr:{class:"select-pattern-popup"},position:{my:"top left",at:"top right",of:".select-pattern"}},icon:`far fa-circle-${(m.value||"question").toLowerCase()} pattern`,hint:I.$t("trading.derivative.tools.selectPattern"),stylingMode:"text",showArrowIcon:!1,elementAttr:{class:"select-pattern"},onItemClick:Tt},null,8,["icon","hint"])],32),he("div",{ref_key:"patternToolRef",ref:l,class:"context command",title:I.$t("trading.derivative.tools.pattern"),onClick:Y,onContextmenu:C},wp,40,vp)],64))}},Tp=["title"],Ip=he("i",{class:"far fa-pipe"},null,-1),kp=[Ip],os="VN30F1M",Op={__name:"PickTimeTool",emits:["refreshPattern","hideContext"],setup(t,{expose:o,emit:e}){const p=Qr(),d=e,a=ar("mc"),n=ce(null),u=Ge(()=>p.state.tradingDerivative.tools.pickTime);let l=null,c={};o({isSelected:m,createSeries:v,draw:k,remove:Y,get:b}),_o(u,C=>{C&&j(C[0])});function m(){return n.value.classList.contains("selected")}function v(C){if(!C)return!1;c.pickTime=C.addHistogramSeries({priceScaleId:"pickTime",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function b(){return l}function w(C){d("hideContext");const R=C.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(q=>q.classList.remove("selected")),R||C.target.classList.add("selected")}function _(C){C.target.classList.remove("selected"),Y(),d("refreshPattern")}function k({time:C}){p.dispatch("tradingDerivative/drawTools",{isRemove:!1,symbol:os,name:"pickTime",points:[0],data:[C]}),j(C),d("refreshPattern"),n.value.classList.remove("selected")}function j(C){l=C,c.pickTime.setData([{time:C,color:a.CHART_COLOR_MAP.green,value:1}])}function Y(C=!0){C&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:os,name:"pickTime"}),c.pickTime.setData([]),l=null}return(C,R)=>(Ie(),Pe("div",{ref_key:"pickTimeToolRef",ref:n,class:"command",title:C.$t("trading.derivative.tools.pickTime"),onClick:w,onContextmenu:_},kp,40,Tp))}},Mp=["title"],Bp=he("i",{class:"far fa-grip-lines-vertical"},null,-1),Rp=[Bp],is="VN30F1M",Pp={__name:"TimeRangeTool",props:["timeToIndex","indexToTime"],emits:["hideContext"],setup(t,{expose:o,emit:e}){const p=Qr(),d=ar("mf"),a=t,n=e,u=ce(null),l=Ge(()=>p.state.tradingDerivative.tools.timeRange);let c=[],m={};o({isSelected:v,createSeries:b,draw:k}),_o(l,R=>{R&&j(R)});function v(){return u.value.classList.contains("selected")}function b(R){if(!R)return!1;m.timeRange=R.addHistogramSeries({priceScaleId:"timeRange",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function w(R){n("hideContext");const q=R.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(tt=>tt.classList.remove("selected")),q||R.target.classList.add("selected")}function _(R){C(),R.target.classList.remove("selected")}function k({time:R}){let q={isRemove:!1,symbol:is,name:"timeRange",points:[],data:[]},tt={time:R,value:1};switch(c.length){case 0:tt.color="OrangeRed",c[0]=tt,q.points.push(0),q.data.push(R);break;case 1:tt.color="lime",c[1]=tt,q.points.push(1),q.data.push(R),u.value.classList.remove("selected");break;default:const D=a.timeToIndex(c[0].time),T=a.timeToIndex(c[1].time),nt=a.timeToIndex(R)+(T-D),$=a.indexToTime(nt);tt.color="OrangeRed",c[0]=d.cloneDeep(tt),q.points.push(0),q.data.push(R),tt.time=$,tt.color="lime",c[1]=tt,q.points.push(1),q.data.push($),u.value.classList.remove("selected");break}m.timeRange.setData(c),p.dispatch("tradingDerivative/drawTools",q)}function j(R){C(!1),Y(R)}function Y(R){let q,tt;if(R.length===2)q=R[0],tt=R[1];else if(R.length===3){const T=a.timeToIndex(R[0]),J=a.timeToIndex(R[1]),$=a.timeToIndex(R[2])+(J-T);q=R[2],tt=a.indexToTime($)}else return!1;let D=[{time:q,value:1,color:"OrangeRed"},{time:tt,value:1,color:"lime"}];c=D,m.timeRange.setData(D)}function C(R=!0){R&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:is,name:"timeRange"}),m.timeRange.setData([]),c=[]}return(R,q)=>(Ie(),Pe("div",{ref_key:"timeRangeToolRef",ref:u,class:"command",title:R.$t("trading.derivative.tools.timeRange"),onClick:w,onContextmenu:_},Rp,40,Mp))}},Cp={__name:"PuttedOrdersPopup",setup(t,{expose:o}){const e=Qr(),p=ce(null),d=ce([]),a=[{field:"time",minWidth:200},{field:"type",minWidth:70},{field:"side",minWidth:90},{field:"price",minWidth:100},{field:"tpPrice",minWidth:100},{field:"slPrice",minWidth:100}];function n(){p.value.show()}function u(){e.dispatch("tradingDerivative/getPuttedOrders").then(m=>{d.value=l(m)})}function l(m){return m.map(v=>({id:v.id,time:Dr(new Date(v.created_at),"dd/MM/yyyy HH:mm:ss"),type:v.type,side:v.side>0?"LONG":"SHORT",price:v.entry_price,tpPrice:v.tp_price,slPrice:v.sl_price}))}function c(){}return o({show:n}),(m,v)=>{const b=Do("DxScrollView");return Ie(),jn(Kl,{ref_key:"popupRef",ref:p,class:"der-putted-orders-popup",title:m.$t("trading.derivative.orderContext.history"),onShown:u,onHidden:c},{default:Gr(()=>[Se(b,null,{default:Gr(()=>[Se(qr(vo.DxDataGrid),{"data-source":d.value,"key-expr":"id","show-borders":!0},{default:Gr(()=>[(Ie(),Pe(no,null,go(a,w=>Se(qr(vo.DxColumn),{"data-field":w.field,minWidth:w.minWidth,caption:m.$t(`trading.derivative.orderContext.${w.field}`)},null,8,["data-field","minWidth","caption"])),64))]),_:1},8,["data-source"])]),_:1})]),_:1},8,["title"])}}},Ap={__name:"OrderContext",props:["orders"],emits:["closeOrder","closeAllOrders","putOrder"],setup(t,{emit:o}){const e=t,p=o,d=ce(null),a=Ge(()=>Object.values(e.orders).map(v=>({id:v.id,type:v.type,side:v.side>0?"LONG":"SHORT",price:v.entry_price}))),n=[{field:"id",minWidth:50},{field:"type",minWidth:90},{field:"side",minWidth:90},{field:"price",minWidth:100}];function u(){p("closeAllOrders")}function l(v){const b=e.orders[v];p("closeOrder",b)}function c(){p("putOrder")}function m(){d.value.show()}return(v,b)=>{const w=Do("DxButton"),_=Do("DxToolbar");return Ie(),jn(Ks,{class:"order-context"},{default:Gr(()=>[Se(qr(vo.DxDataGrid),{"data-source":a.value,"key-expr":"id","show-borders":!0},{commandCellTemplate:Gr(({data:k})=>[Se(w,{type:"danger",stylingMode:"text",icon:"trash",onClick:()=>l(k.data.id)},null,8,["onClick"])]),default:Gr(()=>[Se(qr(vo.DxColumn),{width:50,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate"}),(Ie(),Pe(no,null,go(n,k=>Se(qr(vo.DxColumn),{"data-field":k.field,width:k.minWidth,caption:v.$t(`trading.derivative.orderContext.${k.field}`)},null,8,["data-field","width","caption"])),64))]),_:1},8,["data-source"]),Se(_,{items:[{location:"before",widget:"dxButton",options:{type:"success",stylingMode:"outlined",icon:"far fa-gavel",text:v.$t("trading.derivative.orderContext.putOrder"),onClick:c}},{location:"center",widget:"dxButton",options:{type:"danger",stylingMode:"outlined",icon:"trash",text:v.$t("trading.derivative.orderContext.closeAll"),onClick:u}},{location:"after",widget:"dxButton",options:{type:"normal",stylingMode:"outlined",icon:"far fa-history small",hint:v.$t("trading.derivative.orderContext.history"),onClick:m}}]},null,8,["items"]),Se(Cp,{ref_key:"puttedOrdersPopupRef",ref:d},null,512)]),_:1})}}},xp=["title"],Fp={__name:"OrderTool",props:["position","drawPriceLine","inSession","TIME"],emits:["hideContext"],setup(t,{expose:o,emit:e}){const p=Qr(),{t:d}=Dn(),a=ar("mf"),n=t,u=e,l=ce(null),c=ce(!1),m=ce(!1),v=ce({}),b=Ge(()=>p.state.tradingDerivative.config.orders),w=Ge(()=>p.state.tradingDerivative.status.position||p.state.tradingDerivative.status.pendingOrders.length>0||Object.keys(v.value).length>0);let _={},k={},j=!1;o({hide:C,scan:T,drag:yt,closeAllOrders:q,cancelWithoutClose:D,setPatternOrder:Y}),Ho(()=>{window.addEventListener("keydown",St)}),Ln(()=>{window.removeEventListener("keydown",St)}),_o(b,Z=>{a.isSet(Z)&&J(Z)});function Y(Z){_=Z}function C(Z=!1){m.value=Z}function R(){let Z=!1,lt=()=>{};if(n.inSession()){const gt=Oe(zr(new Date,7));if(gt<n.TIME.ATO)Z=!0,lt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATO"}).then(Et=>{Et.isOk?je.success(d("trading.derivative.toasts.atoOrderSuccess")):pt(Et)})};else if(gt>n.TIME.ATC)Z=!0,lt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATC"}).then(Et=>{Et.isOk?je.success(d("trading.derivative.toasts.atcOrderSuccess")):pt(Et)})};else if(!n.position)a.isSet(_)&&(Z=!0,lt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"entry",data:{cmd:"new",..._}}).then(Et=>{Et.isOk?(v.value[Et.order.id]=Et.order,k[Et.order.id]={},nt(["entry"],Et.order),je.success(d("trading.derivative.toasts.newEntrySuccess"))):pt(Et)})});else{const Et=dt(0);if(Et.length===1){const M=Et[0];Z=!0,lt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:M.id}).then(ct=>{ct.isOk?(v.value[M.id]=ct.order,k[M.id].entry.applyOptions({draggable:!1}),nt(["tp","sl"],ct.order),je.success(d("trading.derivative.toasts.newTpSlSuccess"))):pt(ct)})}}}}Z?Jl(d("trading.derivative.toasts.orderConfirm"),d("titles.confirm")).then(Et=>{Et&&lt()}):je.warning(d("trading.derivative.toasts.noPutOrder"))}function q(){const Z=Object.values(v.value);Z.length?Z.forEach(lt=>tt(lt)):p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"MTL"}).then(lt=>{lt.isOk?je.success(d("trading.derivative.toasts.cancelSuccess")):pt(lt)})}function tt(Z){p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:Z.id,exit:Z.status===1?"MTL":""}).then(lt=>{lt.isOk?($(["entry","tp","sl"],Z.id),delete v.value[Z.id],je.success(d("trading.derivative.toasts.cancelSuccess"))):pt(lt)})}function D(){if(n.inSession()&&n.position){const Z=Oe(zr(new Date,7));Z>n.TIME.ATC-5*60&&(c.value=!0,Z>n.TIME.ATC-15&&dt(1).forEach(gt=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:gt.id}).then(Et=>{Et.isOk?($(["entry","tp","sl"],gt.id),delete v.value[gt.id],je.success(d("trading.derivative.toasts.cancelNotExitSuccess"))):pt(Et)})}))}}function T(Z){Object.values(v.value).forEach(lt=>{const gt=lt.side>0;switch(lt.status){case 0:(lt.type==="SLO"&&a.cmp(Z,gt,lt.entry_price,!0)||lt.type==="LO"&&a.cmp(Z,!gt,lt.entry_price,!0))&&(j||(j=!0,setTimeout(()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:lt.id}).then(M=>{M.isOk?(v.value[lt.id]=M.order,k[lt.id].entry.applyOptions({draggable:!1}),nt(["tp","sl"],M.order),Object.keys(v.value).forEach(ct=>{Number(ct)!==lt.id&&v.value[ct].status===0&&($(["entry"],ct),delete v.value[ct])}),je.success(d("trading.derivative.toasts.newTpSlSuccess"))):pt(M),j=!1})},1e3)));break;case 1:let Et="";a.cmp(Z,gt,lt.tp_price,!0)&&(Et="sl"),a.cmp(Z,!gt,lt.sl_price,!0)&&(Et="tp"),Et&&(j||(j=!0,p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:lt.id,kind:Et}).then(M=>{M.isOk?($(["entry","tp","sl"],lt.id),delete v.value[lt.id],je.success(d("trading.derivative.toasts.cancelSuccess"))):pt(M),j=!1})));break}})}function J(Z){v.value=a.cloneDeep(Z),Object.values(v.value).forEach(lt=>{let gt=["entry"];lt.status===1&&gt.push("tp","sl"),$(["entry","tp","sl"],lt.id),nt(gt,lt)})}function nt(Z,lt){let gt,Et;Z.forEach(M=>{switch(M){case"entry":gt="yellow",Et=`${lt.side>0?"LONG":"SHORT"}[${lt.id}]`;break;case"tp":gt="lime",Et=`TP[${lt.id}] ${a.fmtNum(lt.tp_price-lt.entry_price,1)}`;break;case"sl":gt="red",Et=`SL[${lt.id}] ${a.fmtNum(lt.sl_price-lt.entry_price,1)}`;break}if(a.isSet(k[lt.id])||(k[lt.id]={}),a.isSet(k[lt.id][M]))k[lt.id][M].applyOptions({title:Et});else{const ct={lineType:"order",kind:M,price:lt[`${M}_price`],color:gt,lineWidth:1,lineStyle:0,title:Et,draggable:!(M==="entry"&&lt.status===1)};k[lt.id][M]=n.drawPriceLine(ct)}})}function $(Z,lt){a.isSet(k[lt])&&(Z.forEach(gt=>{a.isSet(k[lt][gt])&&n.drawPriceLine(k[lt][gt],!0)}),delete k[lt])}function yt({line:Z,lineOptions:lt,oldPrice:gt,newPrice:Et}){if(Et!==gt){const M=lt.kind;if(M!=="entry"||!n.position){const kt=`change${a.capitalize(M)}Success`,Nt=V(M,gt);if(!a.isSet(Nt))return!1;p.dispatch("tradingDerivative/executeOrder",{action:M,orderId:Nt.id,data:{cmd:"change",orderNo:String(Nt[`${M}_no`]),price:Et}}).then(Tt=>{Tt.isOk?(v.value[Nt.id]=Tt.order,nt([M],Tt.order),je.success(d(`trading.derivative.toasts.${kt}`))):(Z.applyOptions({price:gt}),pt(Tt))})}else Z.applyOptions({price:gt}),je.show(d("trading.derivative.toasts.noChangeOrderLine"))}}function N(){p.dispatch("tradingDerivative/cleanOldOrders")}function V(Z,lt){return Object.values(v.value).find(gt=>gt[`${Z}_price`]===lt)}function dt(Z,lt=!1){const gt=Object.values(v.value).filter(Et=>Et.status===Z);return lt?gt.length>0:gt}function pt(Z){if(Z.error)je.error(Z.error);else{const lt=Z.message??"unknown";je.error(d(`trading.derivative.toasts.${lt}`))}}function It(){const Z=m.value;u("hideContext"),m.value=!Z}function St(Z){Z.key==="F4"&&(It(),Z.preventDefault())}return(Z,lt)=>(Ie(),Pe("div",{ref_key:"orderToolRef",ref:l,class:tr(["cancel-order context command",{red:w.value}]),title:Z.$t("trading.derivative.tools.order"),onClick:It,onContextmenu:N},[he("i",{class:tr(["far fa-gavel",{blink:c.value}])},null,2),Un(Se(Ap,{class:"contextmenu",orders:v.value,onCloseOrder:tt,onCloseAllOrders:q,onPutOrder:R},null,8,["orders"]),[[Ys,m.value]])],42,xp))}};var zn=Object.defineProperty,Wp=Object.getOwnPropertyDescriptor,Np=Object.getOwnPropertyNames,jp=Object.prototype.hasOwnProperty,Ce=(t,o)=>()=>(t&&(o=t(t=0)),o),Wt=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports),Zr=(t,o)=>{for(var e in o)zn(t,e,{get:o[e],enumerable:!0})},Dp=(t,o,e,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of Np(o))!jp.call(t,d)&&d!==e&&zn(t,d,{get:()=>o[d],enumerable:!(p=Wp(o,d))||p.enumerable});return t},de=t=>Dp(zn({},"__esModule",{value:!0}),t),Bt=Ce(()=>{}),ae={};Zr(ae,{_debugEnd:()=>qi,_debugProcess:()=>Gi,_events:()=>pn,_eventsCount:()=>un,_exiting:()=>Ci,_fatalExceptions:()=>$i,_getActiveHandles:()=>oa,_getActiveRequests:()=>ra,_kill:()=>Fi,_linkedBinding:()=>ta,_maxListeners:()=>ln,_preload_modules:()=>sn,_rawDebug:()=>Bi,_startProfilerIdleNotifier:()=>Yi,_stopProfilerIdleNotifier:()=>Ki,_tickCallback:()=>Hi,abort:()=>Xi,addListener:()=>cn,allowedNodeEnvironmentFlags:()=>Ui,arch:()=>yi,argv:()=>bi,argv0:()=>nn,assert:()=>ia,binding:()=>Ti,chdir:()=>Oi,config:()=>Ai,cpuUsage:()=>fo,cwd:()=>ki,debugPort:()=>on,default:()=>Vn,dlopen:()=>ea,domain:()=>Pi,emit:()=>yn,emitWarning:()=>Si,env:()=>vi,execArgv:()=>wi,execPath:()=>rn,exit:()=>Di,features:()=>zi,hasUncaughtExceptionCaptureCallback:()=>na,hrtime:()=>Po,kill:()=>ji,listeners:()=>aa,memoryUsage:()=>Ni,moduleLoadList:()=>Ri,nextTick:()=>Zs,off:()=>hn,on:()=>hr,once:()=>dn,openStdin:()=>Li,pid:()=>tn,platform:()=>gi,ppid:()=>en,prependListener:()=>gn,prependOnceListener:()=>vn,reallyExit:()=>xi,release:()=>Mi,removeAllListeners:()=>mn,removeListener:()=>fn,resourceUsage:()=>Wi,setSourceMapsEnabled:()=>an,setUncaughtExceptionCaptureCallback:()=>Vi,stderr:()=>Qi,stdin:()=>Zi,stdout:()=>Ji,title:()=>mi,umask:()=>Ii,uptime:()=>sa,version:()=>_i,versions:()=>Ei});function $n(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Lp(){!Yr||!Vr||(Yr=!1,Vr.length?nr=Vr.concat(nr):bo=-1,nr.length&&Qs())}function Qs(){if(!Yr){var t=setTimeout(Lp,0);Yr=!0;for(var o=nr.length;o;){for(Vr=nr,nr=[];++bo<o;)Vr&&Vr[bo].run();bo=-1,o=nr.length}Vr=null,Yr=!1,clearTimeout(t)}}function Zs(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];nr.push(new Xs(t,o)),nr.length===1&&!Yr&&setTimeout(Qs,0)}function Xs(t,o){this.fun=t,this.array=o}function Ne(){}function ta(t){$n("_linkedBinding")}function ea(t){$n("dlopen")}function ra(){return[]}function oa(){return[]}function ia(t,o){if(!t)throw new Error(o||"assertion error")}function na(){return!1}function sa(){return gr.now()/1e3}function Po(t){var o=Math.floor((Date.now()-gr.now())*.001),e=gr.now()*.001,p=Math.floor(e)+o,d=Math.floor(e%1*1e9);return t&&(p=p-t[0],d=d-t[1],d<0&&(p--,d+=Co)),[p,d]}function hr(){return Vn}function aa(t){return[]}var nr,Yr,Vr,bo,mi,yi,gi,vi,bi,wi,_i,Ei,Si,Ti,Ii,ki,Oi,Mi,Bi,Ri,Pi,Ci,Ai,xi,Fi,fo,Wi,Ni,ji,Di,Li,Ui,zi,$i,Vi,Hi,Gi,qi,Yi,Ki,Ji,Qi,Zi,Xi,tn,en,rn,on,nn,sn,an,gr,ti,Co,ln,pn,un,cn,dn,hn,fn,mn,yn,gn,vn,Vn,Up=Ce(()=>{Bt(),Pt(),Rt(),nr=[],Yr=!1,bo=-1,Xs.prototype.run=function(){this.fun.apply(null,this.array)},mi="browser",yi="x64",gi="browser",vi={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},bi=["/usr/bin/node"],wi=[],_i="v16.8.0",Ei={},Si=function(t,o){console.warn((o?o+": ":"")+t)},Ti=function(t){$n("binding")},Ii=function(t){return 0},ki=function(){return"/"},Oi=function(t){},Mi={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Bi=Ne,Ri=[],Pi={},Ci=!1,Ai={},xi=Ne,Fi=Ne,fo=function(){return{}},Wi=fo,Ni=fo,ji=Ne,Di=Ne,Li=Ne,Ui={},zi={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},$i=Ne,Vi=Ne,Hi=Ne,Gi=Ne,qi=Ne,Yi=Ne,Ki=Ne,Ji=void 0,Qi=void 0,Zi=void 0,Xi=Ne,tn=2,en=1,rn="/bin/usr/node",on=9229,nn="node",sn=[],an=Ne,gr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},gr.now===void 0&&(ti=Date.now(),gr.timing&&gr.timing.navigationStart&&(ti=gr.timing.navigationStart),gr.now=()=>Date.now()-ti),Co=1e9,Po.bigint=function(t){var o=Po(t);return typeof BigInt>"u"?o[0]*Co+o[1]:BigInt(o[0]*Co)+BigInt(o[1])},ln=10,pn={},un=0,cn=hr,dn=hr,hn=hr,fn=hr,mn=hr,yn=Ne,gn=hr,vn=hr,Vn={version:_i,versions:Ei,arch:yi,platform:gi,release:Mi,_rawDebug:Bi,moduleLoadList:Ri,binding:Ti,_linkedBinding:ta,_events:pn,_eventsCount:un,_maxListeners:ln,on:hr,addListener:cn,once:dn,off:hn,removeListener:fn,removeAllListeners:mn,emit:yn,prependListener:gn,prependOnceListener:vn,listeners:aa,domain:Pi,_exiting:Ci,config:Ai,dlopen:ea,uptime:sa,_getActiveRequests:ra,_getActiveHandles:oa,reallyExit:xi,_kill:Fi,cpuUsage:fo,resourceUsage:Wi,memoryUsage:Ni,kill:ji,exit:Di,openStdin:Li,allowedNodeEnvironmentFlags:Ui,assert:ia,features:zi,_fatalExceptions:$i,setUncaughtExceptionCaptureCallback:Vi,hasUncaughtExceptionCaptureCallback:na,emitWarning:Si,nextTick:Zs,_tickCallback:Hi,_debugProcess:Gi,_debugEnd:qi,_startProfilerIdleNotifier:Yi,_stopProfilerIdleNotifier:Ki,stdout:Ji,stdin:Zi,stderr:Qi,abort:Xi,umask:Ii,chdir:Oi,cwd:ki,env:vi,title:mi,argv:bi,execArgv:wi,pid:tn,ppid:en,execPath:rn,debugPort:on,hrtime:Po,argv0:nn,_preload_modules:sn,setSourceMapsEnabled:an}}),Rt=Ce(()=>{Up()}),Ae={};Zr(Ae,{Buffer:()=>Lo,INSPECT_MAX_BYTES:()=>la,default:()=>fr,kMaxLength:()=>pa});function zp(){if(bn)return oo;bn=!0,oo.byteLength=u,oo.toByteArray=c,oo.fromByteArray=b;for(var t=[],o=[],e=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,a=p.length;d<a;++d)t[d]=p[d],o[p.charCodeAt(d)]=d;o[45]=62,o[95]=63;function n(w){var _=w.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=w.indexOf("=");k===-1&&(k=_);var j=k===_?0:4-k%4;return[k,j]}function u(w){var _=n(w),k=_[0],j=_[1];return(k+j)*3/4-j}function l(w,_,k){return(_+k)*3/4-k}function c(w){var _,k=n(w),j=k[0],Y=k[1],C=new e(l(w,j,Y)),R=0,q=Y>0?j-4:j,tt;for(tt=0;tt<q;tt+=4)_=o[w.charCodeAt(tt)]<<18|o[w.charCodeAt(tt+1)]<<12|o[w.charCodeAt(tt+2)]<<6|o[w.charCodeAt(tt+3)],C[R++]=_>>16&255,C[R++]=_>>8&255,C[R++]=_&255;return Y===2&&(_=o[w.charCodeAt(tt)]<<2|o[w.charCodeAt(tt+1)]>>4,C[R++]=_&255),Y===1&&(_=o[w.charCodeAt(tt)]<<10|o[w.charCodeAt(tt+1)]<<4|o[w.charCodeAt(tt+2)]>>2,C[R++]=_>>8&255,C[R++]=_&255),C}function m(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function v(w,_,k){for(var j,Y=[],C=_;C<k;C+=3)j=(w[C]<<16&16711680)+(w[C+1]<<8&65280)+(w[C+2]&255),Y.push(m(j));return Y.join("")}function b(w){for(var _,k=w.length,j=k%3,Y=[],C=16383,R=0,q=k-j;R<q;R+=C)Y.push(v(w,R,R+C>q?q:R+C));return j===1?(_=w[k-1],Y.push(t[_>>2]+t[_<<4&63]+"==")):j===2&&(_=(w[k-2]<<8)+w[k-1],Y.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),Y.join("")}return oo}function $p(){return wn?mo:(wn=!0,mo.read=function(t,o,e,p,d){var a,n,u=d*8-p-1,l=(1<<u)-1,c=l>>1,m=-7,v=e?d-1:0,b=e?-1:1,w=t[o+v];for(v+=b,a=w&(1<<-m)-1,w>>=-m,m+=u;m>0;a=a*256+t[o+v],v+=b,m-=8);for(n=a&(1<<-m)-1,a>>=-m,m+=p;m>0;n=n*256+t[o+v],v+=b,m-=8);if(a===0)a=1-c;else{if(a===l)return n?NaN:(w?-1:1)*(1/0);n=n+Math.pow(2,p),a=a-c}return(w?-1:1)*n*Math.pow(2,a-p)},mo.write=function(t,o,e,p,d,a){var n,u,l,c=a*8-d-1,m=(1<<c)-1,v=m>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:a-1,_=p?1:-1,k=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,n=m):(n=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-n))<1&&(n--,l*=2),n+v>=1?o+=b/l:o+=b*Math.pow(2,1-v),o*l>=2&&(n++,l/=2),n+v>=m?(u=0,n=m):n+v>=1?(u=(o*l-1)*Math.pow(2,d),n=n+v):(u=o*Math.pow(2,v-1)*Math.pow(2,d),n=0));d>=8;t[e+w]=u&255,w+=_,u/=256,d-=8);for(n=n<<d|u,c+=d;c>0;t[e+w]=n&255,w+=_,n/=256,c-=8);t[e+w-_]|=k*128},mo)}function Vp(){if(_n)return Or;_n=!0;let t=zp(),o=$p(),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Or.Buffer=n,Or.SlowBuffer=Y,Or.INSPECT_MAX_BYTES=50;let p=2147483647;Or.kMaxLength=p,n.TYPED_ARRAY_SUPPORT=d(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{let f=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(f,h),f.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function a(f){if(f>p)throw new RangeError('The value "'+f+'" is invalid for option "size"');let h=new Uint8Array(f);return Object.setPrototypeOf(h,n.prototype),h}function n(f,h,g){if(typeof f=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(f)}return u(f,h,g)}n.poolSize=8192;function u(f,h,g){if(typeof f=="string")return v(f,h);if(ArrayBuffer.isView(f))return w(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(ot(f,ArrayBuffer)||f&&ot(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(f,SharedArrayBuffer)||f&&ot(f.buffer,SharedArrayBuffer)))return _(f,h,g);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let B=f.valueOf&&f.valueOf();if(B!=null&&B!==f)return n.from(B,h,g);let W=k(f);if(W)return W;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return n.from(f[Symbol.toPrimitive]("string"),h,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}n.from=function(f,h,g){return u(f,h,g)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function l(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function c(f,h,g){return l(f),f<=0?a(f):h!==void 0?typeof g=="string"?a(f).fill(h,g):a(f).fill(h):a(f)}n.alloc=function(f,h,g){return c(f,h,g)};function m(f){return l(f),a(f<0?0:j(f)|0)}n.allocUnsafe=function(f){return m(f)},n.allocUnsafeSlow=function(f){return m(f)};function v(f,h){if((typeof h!="string"||h==="")&&(h="utf8"),!n.isEncoding(h))throw new TypeError("Unknown encoding: "+h);let g=C(f,h)|0,B=a(g),W=B.write(f,h);return W!==g&&(B=B.slice(0,W)),B}function b(f){let h=f.length<0?0:j(f.length)|0,g=a(h);for(let B=0;B<h;B+=1)g[B]=f[B]&255;return g}function w(f){if(ot(f,Uint8Array)){let h=new Uint8Array(f);return _(h.buffer,h.byteOffset,h.byteLength)}return b(f)}function _(f,h,g){if(h<0||f.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<h+(g||0))throw new RangeError('"length" is outside of buffer bounds');let B;return h===void 0&&g===void 0?B=new Uint8Array(f):g===void 0?B=new Uint8Array(f,h):B=new Uint8Array(f,h,g),Object.setPrototypeOf(B,n.prototype),B}function k(f){if(n.isBuffer(f)){let h=j(f.length)|0,g=a(h);return g.length===0||f.copy(g,0,0,h),g}if(f.length!==void 0)return typeof f.length!="number"||A(f.length)?a(0):b(f);if(f.type==="Buffer"&&Array.isArray(f.data))return b(f.data)}function j(f){if(f>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return f|0}function Y(f){return+f!=f&&(f=0),n.alloc(+f)}n.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==n.prototype},n.compare=function(f,h){if(ot(f,Uint8Array)&&(f=n.from(f,f.offset,f.byteLength)),ot(h,Uint8Array)&&(h=n.from(h,h.offset,h.byteLength)),!n.isBuffer(f)||!n.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let g=f.length,B=h.length;for(let W=0,O=Math.min(g,B);W<O;++W)if(f[W]!==h[W]){g=f[W],B=h[W];break}return g<B?-1:B<g?1:0},n.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return n.alloc(0);let g;if(h===void 0)for(h=0,g=0;g<f.length;++g)h+=f[g].length;let B=n.allocUnsafe(h),W=0;for(g=0;g<f.length;++g){let O=f[g];if(ot(O,Uint8Array))W+O.length>B.length?(n.isBuffer(O)||(O=n.from(O)),O.copy(B,W)):Uint8Array.prototype.set.call(B,O,W);else if(n.isBuffer(O))O.copy(B,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=O.length}return B};function C(f,h){if(n.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||ot(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);let g=f.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&g===0)return 0;let W=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return Q(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return mt(f).length;default:if(W)return B?-1:Q(f).length;h=(""+h).toLowerCase(),W=!0}}n.byteLength=C;function R(f,h,g){let B=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,h>>>=0,g<=h))return"";for(f||(f="utf8");;)switch(f){case"hex":return Z(this,h,g);case"utf8":case"utf-8":return V(this,h,g);case"ascii":return It(this,h,g);case"latin1":case"binary":return St(this,h,g);case"base64":return N(this,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,h,g);default:if(B)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),B=!0}}n.prototype._isBuffer=!0;function q(f,h,g){let B=f[h];f[h]=f[g],f[g]=B}n.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)q(this,h,h+1);return this},n.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)q(this,h,h+3),q(this,h+1,h+2);return this},n.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)q(this,h,h+7),q(this,h+1,h+6),q(this,h+2,h+5),q(this,h+3,h+4);return this},n.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?V(this,0,f):R.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(f){if(!n.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:n.compare(this,f)===0},n.prototype.inspect=function(){let f="",h=Or.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},e&&(n.prototype[e]=n.prototype.inspect),n.prototype.compare=function(f,h,g,B,W){if(ot(f,Uint8Array)&&(f=n.from(f,f.offset,f.byteLength)),!n.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),g===void 0&&(g=f?f.length:0),B===void 0&&(B=0),W===void 0&&(W=this.length),h<0||g>f.length||B<0||W>this.length)throw new RangeError("out of range index");if(B>=W&&h>=g)return 0;if(B>=W)return-1;if(h>=g)return 1;if(h>>>=0,g>>>=0,B>>>=0,W>>>=0,this===f)return 0;let O=W-B,wt=g-h,Dt=Math.min(O,wt),F=this.slice(B,W),zt=f.slice(h,g);for(let Ut=0;Ut<Dt;++Ut)if(F[Ut]!==zt[Ut]){O=F[Ut],wt=zt[Ut];break}return O<wt?-1:wt<O?1:0};function tt(f,h,g,B,W){if(f.length===0)return-1;if(typeof g=="string"?(B=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,A(g)&&(g=W?0:f.length-1),g<0&&(g=f.length+g),g>=f.length){if(W)return-1;g=f.length-1}else if(g<0)if(W)g=0;else return-1;if(typeof h=="string"&&(h=n.from(h,B)),n.isBuffer(h))return h.length===0?-1:D(f,h,g,B,W);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(f,h,g):Uint8Array.prototype.lastIndexOf.call(f,h,g):D(f,[h],g,B,W);throw new TypeError("val must be string, number or Buffer")}function D(f,h,g,B,W){let O=1,wt=f.length,Dt=h.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(f.length<2||h.length<2)return-1;O=2,wt/=2,Dt/=2,g/=2}function F(Ut,jt){return O===1?Ut[jt]:Ut.readUInt16BE(jt*O)}let zt;if(W){let Ut=-1;for(zt=g;zt<wt;zt++)if(F(f,zt)===F(h,Ut===-1?0:zt-Ut)){if(Ut===-1&&(Ut=zt),zt-Ut+1===Dt)return Ut*O}else Ut!==-1&&(zt-=zt-Ut),Ut=-1}else for(g+Dt>wt&&(g=wt-Dt),zt=g;zt>=0;zt--){let Ut=!0;for(let jt=0;jt<Dt;jt++)if(F(f,zt+jt)!==F(h,jt)){Ut=!1;break}if(Ut)return zt}return-1}n.prototype.includes=function(f,h,g){return this.indexOf(f,h,g)!==-1},n.prototype.indexOf=function(f,h,g){return tt(this,f,h,g,!0)},n.prototype.lastIndexOf=function(f,h,g){return tt(this,f,h,g,!1)};function T(f,h,g,B){g=Number(g)||0;let W=f.length-g;B?(B=Number(B),B>W&&(B=W)):B=W;let O=h.length;B>O/2&&(B=O/2);let wt;for(wt=0;wt<B;++wt){let Dt=parseInt(h.substr(wt*2,2),16);if(A(Dt))return wt;f[g+wt]=Dt}return wt}function J(f,h,g,B){return z(Q(h,f.length-g),f,g,B)}function nt(f,h,g,B){return z(rt(h),f,g,B)}function $(f,h,g,B){return z(mt(h),f,g,B)}function yt(f,h,g,B){return z(ft(h,f.length-g),f,g,B)}n.prototype.write=function(f,h,g,B){if(h===void 0)B="utf8",g=this.length,h=0;else if(g===void 0&&typeof h=="string")B=h,g=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(g)?(g=g>>>0,B===void 0&&(B="utf8")):(B=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let W=this.length-h;if((g===void 0||g>W)&&(g=W),f.length>0&&(g<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let O=!1;for(;;)switch(B){case"hex":return T(this,f,h,g);case"utf8":case"utf-8":return J(this,f,h,g);case"ascii":case"latin1":case"binary":return nt(this,f,h,g);case"base64":return $(this,f,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,f,h,g);default:if(O)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),O=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(f,h,g){return h===0&&g===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(h,g))}function V(f,h,g){g=Math.min(f.length,g);let B=[],W=h;for(;W<g;){let O=f[W],wt=null,Dt=O>239?4:O>223?3:O>191?2:1;if(W+Dt<=g){let F,zt,Ut,jt;switch(Dt){case 1:O<128&&(wt=O);break;case 2:F=f[W+1],(F&192)===128&&(jt=(O&31)<<6|F&63,jt>127&&(wt=jt));break;case 3:F=f[W+1],zt=f[W+2],(F&192)===128&&(zt&192)===128&&(jt=(O&15)<<12|(F&63)<<6|zt&63,jt>2047&&(jt<55296||jt>57343)&&(wt=jt));break;case 4:F=f[W+1],zt=f[W+2],Ut=f[W+3],(F&192)===128&&(zt&192)===128&&(Ut&192)===128&&(jt=(O&15)<<18|(F&63)<<12|(zt&63)<<6|Ut&63,jt>65535&&jt<1114112&&(wt=jt))}}wt===null?(wt=65533,Dt=1):wt>65535&&(wt-=65536,B.push(wt>>>10&1023|55296),wt=56320|wt&1023),B.push(wt),W+=Dt}return pt(B)}let dt=4096;function pt(f){let h=f.length;if(h<=dt)return String.fromCharCode.apply(String,f);let g="",B=0;for(;B<h;)g+=String.fromCharCode.apply(String,f.slice(B,B+=dt));return g}function It(f,h,g){let B="";g=Math.min(f.length,g);for(let W=h;W<g;++W)B+=String.fromCharCode(f[W]&127);return B}function St(f,h,g){let B="";g=Math.min(f.length,g);for(let W=h;W<g;++W)B+=String.fromCharCode(f[W]);return B}function Z(f,h,g){let B=f.length;(!h||h<0)&&(h=0),(!g||g<0||g>B)&&(g=B);let W="";for(let O=h;O<g;++O)W+=H[f[O]];return W}function lt(f,h,g){let B=f.slice(h,g),W="";for(let O=0;O<B.length-1;O+=2)W+=String.fromCharCode(B[O]+B[O+1]*256);return W}n.prototype.slice=function(f,h){let g=this.length;f=~~f,h=h===void 0?g:~~h,f<0?(f+=g,f<0&&(f=0)):f>g&&(f=g),h<0?(h+=g,h<0&&(h=0)):h>g&&(h=g),h<f&&(h=f);let B=this.subarray(f,h);return Object.setPrototypeOf(B,n.prototype),B};function gt(f,h,g){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+h>g)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(f,h,g){f=f>>>0,h=h>>>0,g||gt(f,h,this.length);let B=this[f],W=1,O=0;for(;++O<h&&(W*=256);)B+=this[f+O]*W;return B},n.prototype.readUintBE=n.prototype.readUIntBE=function(f,h,g){f=f>>>0,h=h>>>0,g||gt(f,h,this.length);let B=this[f+--h],W=1;for(;h>0&&(W*=256);)B+=this[f+--h]*W;return B},n.prototype.readUint8=n.prototype.readUInt8=function(f,h){return f=f>>>0,h||gt(f,1,this.length),this[f]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||gt(f,2,this.length),this[f]|this[f+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||gt(f,2,this.length),this[f]<<8|this[f+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||gt(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||gt(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},n.prototype.readBigUInt64LE=it(function(f){f=f>>>0,X(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&at(f,this.length-8);let B=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,W=this[++f]+this[++f]*2**8+this[++f]*2**16+g*2**24;return BigInt(B)+(BigInt(W)<<BigInt(32))}),n.prototype.readBigUInt64BE=it(function(f){f=f>>>0,X(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&at(f,this.length-8);let B=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],W=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g;return(BigInt(B)<<BigInt(32))+BigInt(W)}),n.prototype.readIntLE=function(f,h,g){f=f>>>0,h=h>>>0,g||gt(f,h,this.length);let B=this[f],W=1,O=0;for(;++O<h&&(W*=256);)B+=this[f+O]*W;return W*=128,B>=W&&(B-=Math.pow(2,8*h)),B},n.prototype.readIntBE=function(f,h,g){f=f>>>0,h=h>>>0,g||gt(f,h,this.length);let B=h,W=1,O=this[f+--B];for(;B>0&&(W*=256);)O+=this[f+--B]*W;return W*=128,O>=W&&(O-=Math.pow(2,8*h)),O},n.prototype.readInt8=function(f,h){return f=f>>>0,h||gt(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},n.prototype.readInt16LE=function(f,h){f=f>>>0,h||gt(f,2,this.length);let g=this[f]|this[f+1]<<8;return g&32768?g|4294901760:g},n.prototype.readInt16BE=function(f,h){f=f>>>0,h||gt(f,2,this.length);let g=this[f+1]|this[f]<<8;return g&32768?g|4294901760:g},n.prototype.readInt32LE=function(f,h){return f=f>>>0,h||gt(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},n.prototype.readInt32BE=function(f,h){return f=f>>>0,h||gt(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},n.prototype.readBigInt64LE=it(function(f){f=f>>>0,X(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&at(f,this.length-8);let B=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(g<<24);return(BigInt(B)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),n.prototype.readBigInt64BE=it(function(f){f=f>>>0,X(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&at(f,this.length-8);let B=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(B)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g)}),n.prototype.readFloatLE=function(f,h){return f=f>>>0,h||gt(f,4,this.length),o.read(this,f,!0,23,4)},n.prototype.readFloatBE=function(f,h){return f=f>>>0,h||gt(f,4,this.length),o.read(this,f,!1,23,4)},n.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||gt(f,8,this.length),o.read(this,f,!0,52,8)},n.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||gt(f,8,this.length),o.read(this,f,!1,52,8)};function Et(f,h,g,B,W,O){if(!n.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>W||h<O)throw new RangeError('"value" argument is out of bounds');if(g+B>f.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(f,h,g,B){if(f=+f,h=h>>>0,g=g>>>0,!B){let wt=Math.pow(2,8*g)-1;Et(this,f,h,g,wt,0)}let W=1,O=0;for(this[h]=f&255;++O<g&&(W*=256);)this[h+O]=f/W&255;return h+g},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(f,h,g,B){if(f=+f,h=h>>>0,g=g>>>0,!B){let wt=Math.pow(2,8*g)-1;Et(this,f,h,g,wt,0)}let W=g-1,O=1;for(this[h+W]=f&255;--W>=0&&(O*=256);)this[h+W]=f/O&255;return h+g},n.prototype.writeUint8=n.prototype.writeUInt8=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,1,255,0),this[h]=f&255,h+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function M(f,h,g,B,W){et(h,B,W,f,g,7);let O=Number(h&BigInt(4294967295));f[g++]=O,O=O>>8,f[g++]=O,O=O>>8,f[g++]=O,O=O>>8,f[g++]=O;let wt=Number(h>>BigInt(32)&BigInt(4294967295));return f[g++]=wt,wt=wt>>8,f[g++]=wt,wt=wt>>8,f[g++]=wt,wt=wt>>8,f[g++]=wt,g}function ct(f,h,g,B,W){et(h,B,W,f,g,7);let O=Number(h&BigInt(4294967295));f[g+7]=O,O=O>>8,f[g+6]=O,O=O>>8,f[g+5]=O,O=O>>8,f[g+4]=O;let wt=Number(h>>BigInt(32)&BigInt(4294967295));return f[g+3]=wt,wt=wt>>8,f[g+2]=wt,wt=wt>>8,f[g+1]=wt,wt=wt>>8,f[g]=wt,g+8}n.prototype.writeBigUInt64LE=it(function(f,h=0){return M(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=it(function(f,h=0){return ct(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(f,h,g,B){if(f=+f,h=h>>>0,!B){let Dt=Math.pow(2,8*g-1);Et(this,f,h,g,Dt-1,-Dt)}let W=0,O=1,wt=0;for(this[h]=f&255;++W<g&&(O*=256);)f<0&&wt===0&&this[h+W-1]!==0&&(wt=1),this[h+W]=(f/O>>0)-wt&255;return h+g},n.prototype.writeIntBE=function(f,h,g,B){if(f=+f,h=h>>>0,!B){let Dt=Math.pow(2,8*g-1);Et(this,f,h,g,Dt-1,-Dt)}let W=g-1,O=1,wt=0;for(this[h+W]=f&255;--W>=0&&(O*=256);)f<0&&wt===0&&this[h+W+1]!==0&&(wt=1),this[h+W]=(f/O>>0)-wt&255;return h+g},n.prototype.writeInt8=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},n.prototype.writeInt16LE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},n.prototype.writeInt16BE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},n.prototype.writeInt32LE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},n.prototype.writeInt32BE=function(f,h,g){return f=+f,h=h>>>0,g||Et(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},n.prototype.writeBigInt64LE=it(function(f,h=0){return M(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=it(function(f,h=0){return ct(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function kt(f,h,g,B,W,O){if(g+B>f.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Nt(f,h,g,B,W){return h=+h,g=g>>>0,W||kt(f,h,g,4),o.write(f,h,g,B,23,4),g+4}n.prototype.writeFloatLE=function(f,h,g){return Nt(this,f,h,!0,g)},n.prototype.writeFloatBE=function(f,h,g){return Nt(this,f,h,!1,g)};function Tt(f,h,g,B,W){return h=+h,g=g>>>0,W||kt(f,h,g,8),o.write(f,h,g,B,52,8),g+8}n.prototype.writeDoubleLE=function(f,h,g){return Tt(this,f,h,!0,g)},n.prototype.writeDoubleBE=function(f,h,g){return Tt(this,f,h,!1,g)},n.prototype.copy=function(f,h,g,B){if(!n.isBuffer(f))throw new TypeError("argument should be a Buffer");if(g||(g=0),!B&&B!==0&&(B=this.length),h>=f.length&&(h=f.length),h||(h=0),B>0&&B<g&&(B=g),B===g||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),f.length-h<B-g&&(B=f.length-h+g);let W=B-g;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,g,B):Uint8Array.prototype.set.call(f,this.subarray(g,B),h),W},n.prototype.fill=function(f,h,g,B){if(typeof f=="string"){if(typeof h=="string"?(B=h,h=0,g=this.length):typeof g=="string"&&(B=g,g=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!n.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(f.length===1){let O=f.charCodeAt(0);(B==="utf8"&&O<128||B==="latin1")&&(f=O)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<g)throw new RangeError("Out of range index");if(g<=h)return this;h=h>>>0,g=g===void 0?this.length:g>>>0,f||(f=0);let W;if(typeof f=="number")for(W=h;W<g;++W)this[W]=f;else{let O=n.isBuffer(f)?f:n.from(f,B),wt=O.length;if(wt===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(W=0;W<g-h;++W)this[W+h]=O[W%wt]}return this};let L={};function I(f,h,g){L[f]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}I("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(f,h){return`The "${f}" argument must be of type number. Received type ${typeof h}`},TypeError),I("ERR_OUT_OF_RANGE",function(f,h,g){let B=`The value of "${f}" is out of range.`,W=g;return Number.isInteger(g)&&Math.abs(g)>2**32?W=U(String(g)):typeof g=="bigint"&&(W=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(W=U(W)),W+="n"),B+=` It must be ${h}. Received ${W}`,B},RangeError);function U(f){let h="",g=f.length,B=f[0]==="-"?1:0;for(;g>=B+4;g-=3)h=`_${f.slice(g-3,g)}${h}`;return`${f.slice(0,g)}${h}`}function st(f,h,g){X(h,"offset"),(f[h]===void 0||f[h+g]===void 0)&&at(h,f.length-(g+1))}function et(f,h,g,B,W,O){if(f>g||f<h){let wt=typeof h=="bigint"?"n":"",Dt;throw h===0||h===BigInt(0)?Dt=`>= 0${wt} and < 2${wt} ** ${(O+1)*8}${wt}`:Dt=`>= -(2${wt} ** ${(O+1)*8-1}${wt}) and < 2 ** ${(O+1)*8-1}${wt}`,new L.ERR_OUT_OF_RANGE("value",Dt,f)}st(B,W,O)}function X(f,h){if(typeof f!="number")throw new L.ERR_INVALID_ARG_TYPE(h,"number",f)}function at(f,h,g){throw Math.floor(f)!==f?(X(f,g),new L.ERR_OUT_OF_RANGE("offset","an integer",f)):h<0?new L.ERR_BUFFER_OUT_OF_BOUNDS:new L.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,f)}let ht=/[^+/0-9A-Za-z-_]/g;function x(f){if(f=f.split("=")[0],f=f.trim().replace(ht,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function Q(f,h){h=h||1/0;let g,B=f.length,W=null,O=[];for(let wt=0;wt<B;++wt){if(g=f.charCodeAt(wt),g>55295&&g<57344){if(!W){if(g>56319){(h-=3)>-1&&O.push(239,191,189);continue}else if(wt+1===B){(h-=3)>-1&&O.push(239,191,189);continue}W=g;continue}if(g<56320){(h-=3)>-1&&O.push(239,191,189),W=g;continue}g=(W-55296<<10|g-56320)+65536}else W&&(h-=3)>-1&&O.push(239,191,189);if(W=null,g<128){if((h-=1)<0)break;O.push(g)}else if(g<2048){if((h-=2)<0)break;O.push(g>>6|192,g&63|128)}else if(g<65536){if((h-=3)<0)break;O.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((h-=4)<0)break;O.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return O}function rt(f){let h=[];for(let g=0;g<f.length;++g)h.push(f.charCodeAt(g)&255);return h}function ft(f,h){let g,B,W,O=[];for(let wt=0;wt<f.length&&!((h-=2)<0);++wt)g=f.charCodeAt(wt),B=g>>8,W=g%256,O.push(W),O.push(B);return O}function mt(f){return t.toByteArray(x(f))}function z(f,h,g,B){let W;for(W=0;W<B&&!(W+g>=h.length||W>=f.length);++W)h[W+g]=f[W];return W}function ot(f,h){return f instanceof h||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===h.name}function A(f){return f!==f}let H=function(){let f="0123456789abcdef",h=new Array(256);for(let g=0;g<16;++g){let B=g*16;for(let W=0;W<16;++W)h[B+W]=f[g]+f[W]}return h}();function it(f){return typeof BigInt>"u"?bt:f}function bt(){throw new Error("BigInt not supported")}return Or}var oo,bn,mo,wn,Or,_n,fr,Lo,la,pa,xe=Ce(()=>{Bt(),Pt(),Rt(),oo={},bn=!1,mo={},wn=!1,Or={},_n=!1,fr=Vp(),fr.Buffer,fr.SlowBuffer,fr.INSPECT_MAX_BYTES,fr.kMaxLength,Lo=fr.Buffer,la=fr.INSPECT_MAX_BYTES,pa=fr.kMaxLength}),Pt=Ce(()=>{xe()}),Hp=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(e){this.aliasToTopic={},this.max=e}put(e,p){return p===0||p>this.max?!1:(this.aliasToTopic[p]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};t.default=o}),Me=Wt((t,o)=>{Bt(),Pt(),Rt(),o.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,p){return e.includes(p)},ArrayPrototypeIndexOf(e,p){return e.indexOf(p)},ArrayPrototypeJoin(e,p){return e.join(p)},ArrayPrototypeMap(e,p){return e.map(p)},ArrayPrototypePop(e,p){return e.pop(p)},ArrayPrototypePush(e,p){return e.push(p)},ArrayPrototypeSlice(e,p,d){return e.slice(p,d)},Error,FunctionPrototypeCall(e,p,...d){return e.call(p,...d)},FunctionPrototypeSymbolHasInstance(e,p){return Function.prototype[Symbol.hasInstance].call(e,p)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,p){return Object.defineProperties(e,p)},ObjectDefineProperty(e,p,d){return Object.defineProperty(e,p,d)},ObjectGetOwnPropertyDescriptor(e,p){return Object.getOwnPropertyDescriptor(e,p)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,p){return Object.setPrototypeOf(e,p)},Promise,PromisePrototypeCatch(e,p){return e.catch(p)},PromisePrototypeThen(e,p,d){return e.then(p,d)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,p){return e.test(p)},SafeSet:Set,String,StringPrototypeSlice(e,p,d){return e.slice(p,d)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,p,d){return e.set(p,d)},Uint8Array}}),wr=Wt((t,o)=>{Bt(),Pt(),Rt();var e=(xe(),de(Ae)),p=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||e.Blob,a=typeof d<"u"?function(u){return u instanceof d}:function(u){return!1},n=class extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let l="";for(let c=0;c<u.length;c++)l+=`    ${u[c].stack}
`;super(l),this.name="AggregateError",this.errors=u}};o.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(u){let l=!1;return function(...c){l||(l=!0,u.apply(this,c))}},createDeferredPromise:function(){let u,l;return{promise:new Promise((c,m)=>{u=c,l=m}),resolve:u,reject:l}},promisify(u){return new Promise((l,c)=>{u((m,...v)=>m?c(m):l(...v))})},debuglog(){return function(){}},format(u,...l){return u.replace(/%([sdifj])/g,function(...[c,m]){let v=l.shift();return m==="f"?v.toFixed(6):m==="j"?JSON.stringify(v):m==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(u){switch(typeof u){case"string":if(u.includes("'"))if(u.includes('"')){if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}else return`"${u}"`;return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}},types:{isAsyncFunction(u){return u instanceof p},isArrayBufferView(u){return ArrayBuffer.isView(u)}},isBlob:a},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Hn=Wt((t,o)=>{Bt(),Pt(),Rt();var{AbortController:e,AbortSignal:p}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=e,o.exports.AbortSignal=p,o.exports.default=e}),Le=Wt((t,o)=>{Bt(),Pt(),Rt();var{format:e,inspect:p,AggregateError:d}=wr(),a=globalThis.AggregateError||d,n=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",m={};function v(C,R){if(!C)throw new m.ERR_INTERNAL_ASSERTION(R)}function b(C){let R="",q=C.length,tt=C[0]==="-"?1:0;for(;q>=tt+4;q-=3)R=`_${C.slice(q-3,q)}${R}`;return`${C.slice(0,q)}${R}`}function w(C,R,q){if(typeof R=="function")return v(R.length<=q.length,`Code: ${C}; The provided arguments length (${q.length}) does not match the required ones (${R.length}).`),R(...q);let tt=(R.match(/%[dfijoOs]/g)||[]).length;return v(tt===q.length,`Code: ${C}; The provided arguments length (${q.length}) does not match the required ones (${tt}).`),q.length===0?R:e(R,...q)}function _(C,R,q){q||(q=Error);class tt extends q{constructor(...T){super(w(C,R,T))}toString(){return`${this.name} [${C}]: ${this.message}`}}Object.defineProperties(tt.prototype,{name:{value:q.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${C}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),tt.prototype.code=C,tt.prototype[n]=!0,m[C]=tt}function k(C){let R=c+C.name;return Object.defineProperty(C,"name",{value:R}),C}function j(C,R){if(C&&R&&C!==R){if(Array.isArray(R.errors))return R.errors.push(C),R;let q=new a([R,C],R.message);return q.code=R.code,q}return C||R}var Y=class extends Error{constructor(C="The operation was aborted",R=void 0){if(R!==void 0&&typeof R!="object")throw new m.ERR_INVALID_ARG_TYPE("options","Object",R);super(C,R),this.code="ABORT_ERR",this.name="AbortError"}};_("ERR_ASSERTION","%s",Error),_("ERR_INVALID_ARG_TYPE",(C,R,q)=>{v(typeof C=="string","'name' must be a string"),Array.isArray(R)||(R=[R]);let tt="The ";C.endsWith(" argument")?tt+=`${C} `:tt+=`"${C}" ${C.includes(".")?"property":"argument"} `,tt+="must be ";let D=[],T=[],J=[];for(let $ of R)v(typeof $=="string","All expected entries have to be of type string"),u.includes($)?D.push($.toLowerCase()):l.test($)?T.push($):(v($!=="object",'The value "object" should be written as "Object"'),J.push($));if(T.length>0){let $=D.indexOf("object");$!==-1&&(D.splice(D,$,1),T.push("Object"))}if(D.length>0){switch(D.length){case 1:tt+=`of type ${D[0]}`;break;case 2:tt+=`one of type ${D[0]} or ${D[1]}`;break;default:{let $=D.pop();tt+=`one of type ${D.join(", ")}, or ${$}`}}(T.length>0||J.length>0)&&(tt+=" or ")}if(T.length>0){switch(T.length){case 1:tt+=`an instance of ${T[0]}`;break;case 2:tt+=`an instance of ${T[0]} or ${T[1]}`;break;default:{let $=T.pop();tt+=`an instance of ${T.join(", ")}, or ${$}`}}J.length>0&&(tt+=" or ")}switch(J.length){case 0:break;case 1:J[0].toLowerCase()!==J[0]&&(tt+="an "),tt+=`${J[0]}`;break;case 2:tt+=`one of ${J[0]} or ${J[1]}`;break;default:{let $=J.pop();tt+=`one of ${J.join(", ")}, or ${$}`}}if(q==null)tt+=`. Received ${q}`;else if(typeof q=="function"&&q.name)tt+=`. Received function ${q.name}`;else if(typeof q=="object"){var nt;if((nt=q.constructor)!==null&&nt!==void 0&&nt.name)tt+=`. Received an instance of ${q.constructor.name}`;else{let $=p(q,{depth:-1});tt+=`. Received ${$}`}}else{let $=p(q,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),tt+=`. Received type ${typeof q} (${$})`}return tt},TypeError),_("ERR_INVALID_ARG_VALUE",(C,R,q="is invalid")=>{let tt=p(R);return tt.length>128&&(tt=tt.slice(0,128)+"..."),`The ${C.includes(".")?"property":"argument"} '${C}' ${q}. Received ${tt}`},TypeError),_("ERR_INVALID_RETURN_VALUE",(C,R,q)=>{var tt;let D=q!=null&&(tt=q.constructor)!==null&&tt!==void 0&&tt.name?`instance of ${q.constructor.name}`:`type ${typeof q}`;return`Expected ${C} to be returned from the "${R}" function but got ${D}.`},TypeError),_("ERR_MISSING_ARGS",(...C)=>{v(C.length>0,"At least one arg needs to be specified");let R,q=C.length;switch(C=(Array.isArray(C)?C:[C]).map(tt=>`"${tt}"`).join(" or "),q){case 1:R+=`The ${C[0]} argument`;break;case 2:R+=`The ${C[0]} and ${C[1]} arguments`;break;default:{let tt=C.pop();R+=`The ${C.join(", ")}, and ${tt} arguments`}break}return`${R} must be specified`},TypeError),_("ERR_OUT_OF_RANGE",(C,R,q)=>{v(R,'Missing "range" argument');let tt;return Number.isInteger(q)&&Math.abs(q)>2**32?tt=b(String(q)):typeof q=="bigint"?(tt=String(q),(q>2n**32n||q<-(2n**32n))&&(tt=b(tt)),tt+="n"):tt=p(q),`The value of "${C}" is out of range. It must be ${R}. Received ${tt}`},RangeError),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),_("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),_("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),_("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),_("ERR_STREAM_WRITE_AFTER_END","write after end",Error),_("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:Y,aggregateTwoErrors:k(j),hideStackFrames:k,codes:m}}),Go=Wt((t,o)=>{Bt(),Pt(),Rt();var{ArrayIsArray:e,ArrayPrototypeIncludes:p,ArrayPrototypeJoin:d,ArrayPrototypeMap:a,NumberIsInteger:n,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:m,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:b,String:w,StringPrototypeToUpperCase:_,StringPrototypeTrim:k}=Me(),{hideStackFrames:j,codes:{ERR_SOCKET_BAD_PORT:Y,ERR_INVALID_ARG_TYPE:C,ERR_INVALID_ARG_VALUE:R,ERR_OUT_OF_RANGE:q,ERR_UNKNOWN_SIGNAL:tt}}=Le(),{normalizeEncoding:D}=wr(),{isAsyncFunction:T,isArrayBufferView:J}=wr().types,nt={};function $(z){return z===(z|0)}function yt(z){return z===z>>>0}var N=/^[0-7]+$/,V="must be a 32-bit unsigned integer or an octal string";function dt(z,ot,A){if(typeof z>"u"&&(z=A),typeof z=="string"){if(b(N,z)===null)throw new R(ot,z,V);z=m(z,8)}return St(z,ot),z}var pt=j((z,ot,A=c,H=l)=>{if(typeof z!="number")throw new C(ot,"number",z);if(!n(z))throw new q(ot,"an integer",z);if(z<A||z>H)throw new q(ot,`>= ${A} && <= ${H}`,z)}),It=j((z,ot,A=-2147483648,H=2147483647)=>{if(typeof z!="number")throw new C(ot,"number",z);if(!n(z))throw new q(ot,"an integer",z);if(z<A||z>H)throw new q(ot,`>= ${A} && <= ${H}`,z)}),St=j((z,ot,A=!1)=>{if(typeof z!="number")throw new C(ot,"number",z);if(!n(z))throw new q(ot,"an integer",z);let H=A?1:0,it=4294967295;if(z<H||z>it)throw new q(ot,`>= ${H} && <= ${it}`,z)});function Z(z,ot){if(typeof z!="string")throw new C(ot,"string",z)}function lt(z,ot,A=void 0,H){if(typeof z!="number")throw new C(ot,"number",z);if(A!=null&&z<A||H!=null&&z>H||(A!=null||H!=null)&&u(z))throw new q(ot,`${A!=null?`>= ${A}`:""}${A!=null&&H!=null?" && ":""}${H!=null?`<= ${H}`:""}`,z)}var gt=j((z,ot,A)=>{if(!p(A,z)){let H="must be one of: "+d(a(A,it=>typeof it=="string"?`'${it}'`:w(it)),", ");throw new R(ot,z,H)}});function Et(z,ot){if(typeof z!="boolean")throw new C(ot,"boolean",z)}function M(z,ot,A){return z==null||!v(z,ot)?A:z[ot]}var ct=j((z,ot,A=null)=>{let H=M(A,"allowArray",!1),it=M(A,"allowFunction",!1);if(!M(A,"nullable",!1)&&z===null||!H&&e(z)||typeof z!="object"&&(!it||typeof z!="function"))throw new C(ot,"Object",z)}),kt=j((z,ot)=>{if(z!=null&&typeof z!="object"&&typeof z!="function")throw new C(ot,"a dictionary",z)}),Nt=j((z,ot,A=0)=>{if(!e(z))throw new C(ot,"Array",z);if(z.length<A){let H=`must be longer than ${A}`;throw new R(ot,z,H)}});function Tt(z,ot){Nt(z,ot);for(let A=0;A<z.length;A++)Z(z[A],`${ot}[${A}]`)}function L(z,ot){Nt(z,ot);for(let A=0;A<z.length;A++)Et(z[A],`${ot}[${A}]`)}function I(z,ot="signal"){if(Z(z,ot),nt[z]===void 0)throw nt[_(z)]!==void 0?new tt(z+" (signals must use all capital letters)"):new tt(z)}var U=j((z,ot="buffer")=>{if(!J(z))throw new C(ot,["Buffer","TypedArray","DataView"],z)});function st(z,ot){let A=D(ot),H=z.length;if(A==="hex"&&H%2!==0)throw new R("encoding",ot,`is invalid for data of length ${H}`)}function et(z,ot="Port",A=!0){if(typeof z!="number"&&typeof z!="string"||typeof z=="string"&&k(z).length===0||+z!==+z>>>0||z>65535||z===0&&!A)throw new Y(ot,z,A);return z|0}var X=j((z,ot)=>{if(z!==void 0&&(z===null||typeof z!="object"||!("aborted"in z)))throw new C(ot,"AbortSignal",z)}),at=j((z,ot)=>{if(typeof z!="function")throw new C(ot,"Function",z)}),ht=j((z,ot)=>{if(typeof z!="function"||T(z))throw new C(ot,"Function",z)}),x=j((z,ot)=>{if(z!==void 0)throw new C(ot,"undefined",z)});function Q(z,ot,A){if(!p(A,z))throw new C(ot,`('${d(A,"|")}')`,z)}var rt=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ft(z,ot){if(typeof z>"u"||!b(rt,z))throw new R(ot,z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function mt(z){if(typeof z=="string")return ft(z,"hints"),z;if(e(z)){let ot=z.length,A="";if(ot===0)return A;for(let H=0;H<ot;H++){let it=z[H];ft(it,"hints"),A+=it,H!==ot-1&&(A+=", ")}return A}throw new R("hints",z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:$,isUint32:yt,parseFileMode:dt,validateArray:Nt,validateStringArray:Tt,validateBooleanArray:L,validateBoolean:Et,validateBuffer:U,validateDictionary:kt,validateEncoding:st,validateFunction:at,validateInt32:It,validateInteger:pt,validateNumber:lt,validateObject:ct,validateOneOf:gt,validatePlainFunction:ht,validatePort:et,validateSignalName:I,validateString:Z,validateUint32:St,validateUndefined:x,validateUnion:Q,validateAbortSignal:X,validateLinkHeaderValue:mt}}),Xr=Wt((t,o)=>{Bt(),Pt(),Rt();var e=o.exports={},p,d;function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=a}catch{p=a}try{typeof clearTimeout=="function"?d=clearTimeout:d=n}catch{d=n}})();function u(Y){if(p===setTimeout)return setTimeout(Y,0);if((p===a||!p)&&setTimeout)return p=setTimeout,setTimeout(Y,0);try{return p(Y,0)}catch{try{return p.call(null,Y,0)}catch{return p.call(this,Y,0)}}}function l(Y){if(d===clearTimeout)return clearTimeout(Y);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(Y);try{return d(Y)}catch{try{return d.call(null,Y)}catch{return d.call(this,Y)}}}var c=[],m=!1,v,b=-1;function w(){!m||!v||(m=!1,v.length?c=v.concat(c):b=-1,c.length&&_())}function _(){if(!m){var Y=u(w);m=!0;for(var C=c.length;C;){for(v=c,c=[];++b<C;)v&&v[b].run();b=-1,C=c.length}v=null,m=!1,l(Y)}}e.nextTick=function(Y){var C=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)C[R-1]=arguments[R];c.push(new k(Y,C)),c.length===1&&!m&&u(_)};function k(Y,C){this.fun=Y,this.array=C}k.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function j(){}e.on=j,e.addListener=j,e.once=j,e.off=j,e.removeListener=j,e.removeAllListeners=j,e.emit=j,e.prependListener=j,e.prependOnceListener=j,e.listeners=function(Y){return[]},e.binding=function(Y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(Y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}),Sr=Wt((t,o)=>{Bt(),Pt(),Rt();var{Symbol:e,SymbolAsyncIterator:p,SymbolIterator:d,SymbolFor:a}=Me(),n=e("kDestroyed"),u=e("kIsErrored"),l=e("kIsReadable"),c=e("kIsDisturbed"),m=a("nodejs.webstream.isClosedPromise"),v=a("nodejs.webstream.controllerErrorFunction");function b(M,ct=!1){var kt;return!!(M&&typeof M.pipe=="function"&&typeof M.on=="function"&&(!ct||typeof M.pause=="function"&&typeof M.resume=="function")&&(!M._writableState||((kt=M._readableState)===null||kt===void 0?void 0:kt.readable)!==!1)&&(!M._writableState||M._readableState))}function w(M){var ct;return!!(M&&typeof M.write=="function"&&typeof M.on=="function"&&(!M._readableState||((ct=M._writableState)===null||ct===void 0?void 0:ct.writable)!==!1))}function _(M){return!!(M&&typeof M.pipe=="function"&&M._readableState&&typeof M.on=="function"&&typeof M.write=="function")}function k(M){return M&&(M._readableState||M._writableState||typeof M.write=="function"&&typeof M.on=="function"||typeof M.pipe=="function"&&typeof M.on=="function")}function j(M){return!!(M&&!k(M)&&typeof M.pipeThrough=="function"&&typeof M.getReader=="function"&&typeof M.cancel=="function")}function Y(M){return!!(M&&!k(M)&&typeof M.getWriter=="function"&&typeof M.abort=="function")}function C(M){return!!(M&&!k(M)&&typeof M.readable=="object"&&typeof M.writable=="object")}function R(M){return j(M)||Y(M)||C(M)}function q(M,ct){return M==null?!1:ct===!0?typeof M[p]=="function":ct===!1?typeof M[d]=="function":typeof M[p]=="function"||typeof M[d]=="function"}function tt(M){if(!k(M))return null;let ct=M._writableState,kt=M._readableState,Nt=ct||kt;return!!(M.destroyed||M[n]||Nt!=null&&Nt.destroyed)}function D(M){if(!w(M))return null;if(M.writableEnded===!0)return!0;let ct=M._writableState;return ct!=null&&ct.errored?!1:typeof(ct==null?void 0:ct.ended)!="boolean"?null:ct.ended}function T(M,ct){if(!w(M))return null;if(M.writableFinished===!0)return!0;let kt=M._writableState;return kt!=null&&kt.errored?!1:typeof(kt==null?void 0:kt.finished)!="boolean"?null:!!(kt.finished||ct===!1&&kt.ended===!0&&kt.length===0)}function J(M){if(!b(M))return null;if(M.readableEnded===!0)return!0;let ct=M._readableState;return!ct||ct.errored?!1:typeof(ct==null?void 0:ct.ended)!="boolean"?null:ct.ended}function nt(M,ct){if(!b(M))return null;let kt=M._readableState;return kt!=null&&kt.errored?!1:typeof(kt==null?void 0:kt.endEmitted)!="boolean"?null:!!(kt.endEmitted||ct===!1&&kt.ended===!0&&kt.length===0)}function $(M){return M&&M[l]!=null?M[l]:typeof(M==null?void 0:M.readable)!="boolean"?null:tt(M)?!1:b(M)&&M.readable&&!nt(M)}function yt(M){return typeof(M==null?void 0:M.writable)!="boolean"?null:tt(M)?!1:w(M)&&M.writable&&!D(M)}function N(M,ct){return k(M)?tt(M)?!0:!((ct==null?void 0:ct.readable)!==!1&&$(M)||(ct==null?void 0:ct.writable)!==!1&&yt(M)):null}function V(M){var ct,kt;return k(M)?M.writableErrored?M.writableErrored:(ct=(kt=M._writableState)===null||kt===void 0?void 0:kt.errored)!==null&&ct!==void 0?ct:null:null}function dt(M){var ct,kt;return k(M)?M.readableErrored?M.readableErrored:(ct=(kt=M._readableState)===null||kt===void 0?void 0:kt.errored)!==null&&ct!==void 0?ct:null:null}function pt(M){if(!k(M))return null;if(typeof M.closed=="boolean")return M.closed;let ct=M._writableState,kt=M._readableState;return typeof(ct==null?void 0:ct.closed)=="boolean"||typeof(kt==null?void 0:kt.closed)=="boolean"?(ct==null?void 0:ct.closed)||(kt==null?void 0:kt.closed):typeof M._closed=="boolean"&&It(M)?M._closed:null}function It(M){return typeof M._closed=="boolean"&&typeof M._defaultKeepAlive=="boolean"&&typeof M._removedConnection=="boolean"&&typeof M._removedContLen=="boolean"}function St(M){return typeof M._sent100=="boolean"&&It(M)}function Z(M){var ct;return typeof M._consuming=="boolean"&&typeof M._dumped=="boolean"&&((ct=M.req)===null||ct===void 0?void 0:ct.upgradeOrConnect)===void 0}function lt(M){if(!k(M))return null;let ct=M._writableState,kt=M._readableState,Nt=ct||kt;return!Nt&&St(M)||!!(Nt&&Nt.autoDestroy&&Nt.emitClose&&Nt.closed===!1)}function gt(M){var ct;return!!(M&&((ct=M[c])!==null&&ct!==void 0?ct:M.readableDidRead||M.readableAborted))}function Et(M){var ct,kt,Nt,Tt,L,I,U,st,et,X;return!!(M&&((ct=(kt=(Nt=(Tt=(L=(I=M[u])!==null&&I!==void 0?I:M.readableErrored)!==null&&L!==void 0?L:M.writableErrored)!==null&&Tt!==void 0?Tt:(U=M._readableState)===null||U===void 0?void 0:U.errorEmitted)!==null&&Nt!==void 0?Nt:(st=M._writableState)===null||st===void 0?void 0:st.errorEmitted)!==null&&kt!==void 0?kt:(et=M._readableState)===null||et===void 0?void 0:et.errored)!==null&&ct!==void 0?ct:!((X=M._writableState)===null||X===void 0)&&X.errored))}o.exports={kDestroyed:n,isDisturbed:gt,kIsDisturbed:c,isErrored:Et,kIsErrored:u,isReadable:$,kIsReadable:l,kIsClosedPromise:m,kControllerErrorFunction:v,isClosed:pt,isDestroyed:tt,isDuplexNodeStream:_,isFinished:N,isIterable:q,isReadableNodeStream:b,isReadableStream:j,isReadableEnded:J,isReadableFinished:nt,isReadableErrored:dt,isNodeStream:k,isWebStream:R,isWritable:yt,isWritableNodeStream:w,isWritableStream:Y,isWritableEnded:D,isWritableFinished:T,isWritableErrored:V,isServerRequest:Z,isServerResponse:St,willEmitClose:lt,isTransformStream:C}}),Pr=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Xr(),{AbortError:p,codes:d}=Le(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:n}=d,{kEmptyObject:u,once:l}=wr(),{validateAbortSignal:c,validateFunction:m,validateObject:v,validateBoolean:b}=Go(),{Promise:w,PromisePrototypeThen:_}=Me(),{isClosed:k,isReadable:j,isReadableNodeStream:Y,isReadableStream:C,isReadableFinished:R,isReadableErrored:q,isWritable:tt,isWritableNodeStream:D,isWritableStream:T,isWritableFinished:J,isWritableErrored:nt,isNodeStream:$,willEmitClose:yt,kIsClosedPromise:N}=Sr();function V(Z){return Z.setHeader&&typeof Z.abort=="function"}var dt=()=>{};function pt(Z,lt,gt){var Et,M;if(arguments.length===2?(gt=lt,lt=u):lt==null?lt=u:v(lt,"options"),m(gt,"callback"),c(lt.signal,"options.signal"),gt=l(gt),C(Z)||T(Z))return It(Z,lt,gt);if(!$(Z))throw new a("stream",["ReadableStream","WritableStream","Stream"],Z);let ct=(Et=lt.readable)!==null&&Et!==void 0?Et:Y(Z),kt=(M=lt.writable)!==null&&M!==void 0?M:D(Z),Nt=Z._writableState,Tt=Z._readableState,L=()=>{Z.writable||st()},I=yt(Z)&&Y(Z)===ct&&D(Z)===kt,U=J(Z,!1),st=()=>{U=!0,Z.destroyed&&(I=!1),!(I&&(!Z.readable||ct))&&(!ct||et)&&gt.call(Z)},et=R(Z,!1),X=()=>{et=!0,Z.destroyed&&(I=!1),!(I&&(!Z.writable||kt))&&(!kt||U)&&gt.call(Z)},at=mt=>{gt.call(Z,mt)},ht=k(Z),x=()=>{ht=!0;let mt=nt(Z)||q(Z);if(mt&&typeof mt!="boolean")return gt.call(Z,mt);if(ct&&!et&&Y(Z,!0)&&!R(Z,!1))return gt.call(Z,new n);if(kt&&!U&&!J(Z,!1))return gt.call(Z,new n);gt.call(Z)},Q=()=>{ht=!0;let mt=nt(Z)||q(Z);if(mt&&typeof mt!="boolean")return gt.call(Z,mt);gt.call(Z)},rt=()=>{Z.req.on("finish",st)};V(Z)?(Z.on("complete",st),I||Z.on("abort",x),Z.req?rt():Z.on("request",rt)):kt&&!Nt&&(Z.on("end",L),Z.on("close",L)),!I&&typeof Z.aborted=="boolean"&&Z.on("aborted",x),Z.on("end",X),Z.on("finish",st),lt.error!==!1&&Z.on("error",at),Z.on("close",x),ht?e.nextTick(x):Nt!=null&&Nt.errorEmitted||Tt!=null&&Tt.errorEmitted?I||e.nextTick(Q):(!ct&&(!I||j(Z))&&(U||tt(Z)===!1)||!kt&&(!I||tt(Z))&&(et||j(Z)===!1)||Tt&&Z.req&&Z.aborted)&&e.nextTick(Q);let ft=()=>{gt=dt,Z.removeListener("aborted",x),Z.removeListener("complete",st),Z.removeListener("abort",x),Z.removeListener("request",rt),Z.req&&Z.req.removeListener("finish",st),Z.removeListener("end",L),Z.removeListener("close",L),Z.removeListener("finish",st),Z.removeListener("end",X),Z.removeListener("error",at),Z.removeListener("close",x)};if(lt.signal&&!ht){let mt=()=>{let z=gt;ft(),z.call(Z,new p(void 0,{cause:lt.signal.reason}))};if(lt.signal.aborted)e.nextTick(mt);else{let z=gt;gt=l((...ot)=>{lt.signal.removeEventListener("abort",mt),z.apply(Z,ot)}),lt.signal.addEventListener("abort",mt)}}return ft}function It(Z,lt,gt){let Et=!1,M=dt;if(lt.signal)if(M=()=>{Et=!0,gt.call(Z,new p(void 0,{cause:lt.signal.reason}))},lt.signal.aborted)e.nextTick(M);else{let kt=gt;gt=l((...Nt)=>{lt.signal.removeEventListener("abort",M),kt.apply(Z,Nt)}),lt.signal.addEventListener("abort",M)}let ct=(...kt)=>{Et||e.nextTick(()=>gt.apply(Z,kt))};return _(Z[N].promise,ct,ct),dt}function St(Z,lt){var gt;let Et=!1;return lt===null&&(lt=u),(gt=lt)!==null&&gt!==void 0&&gt.cleanup&&(b(lt.cleanup,"cleanup"),Et=lt.cleanup),new w((M,ct)=>{let kt=pt(Z,lt,Nt=>{Et&&kt(),Nt?ct(Nt):M()})})}o.exports=pt,o.exports.finished=St}),so=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Xr(),{aggregateTwoErrors:p,codes:{ERR_MULTIPLE_CALLBACK:d},AbortError:a}=Le(),{Symbol:n}=Me(),{kDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:m}=Sr(),v=n("kDestroy"),b=n("kConstruct");function w(N,V,dt){N&&(N.stack,V&&!V.errored&&(V.errored=N),dt&&!dt.errored&&(dt.errored=N))}function _(N,V){let dt=this._readableState,pt=this._writableState,It=pt||dt;return pt!=null&&pt.destroyed||dt!=null&&dt.destroyed?(typeof V=="function"&&V(),this):(w(N,pt,dt),pt&&(pt.destroyed=!0),dt&&(dt.destroyed=!0),It.constructed?k(this,N,V):this.once(v,function(St){k(this,p(St,N),V)}),this)}function k(N,V,dt){let pt=!1;function It(St){if(pt)return;pt=!0;let Z=N._readableState,lt=N._writableState;w(St,lt,Z),lt&&(lt.closed=!0),Z&&(Z.closed=!0),typeof dt=="function"&&dt(St),St?e.nextTick(j,N,St):e.nextTick(Y,N)}try{N._destroy(V||null,It)}catch(St){It(St)}}function j(N,V){C(N,V),Y(N)}function Y(N){let V=N._readableState,dt=N._writableState;dt&&(dt.closeEmitted=!0),V&&(V.closeEmitted=!0),(dt!=null&&dt.emitClose||V!=null&&V.emitClose)&&N.emit("close")}function C(N,V){let dt=N._readableState,pt=N._writableState;pt!=null&&pt.errorEmitted||dt!=null&&dt.errorEmitted||(pt&&(pt.errorEmitted=!0),dt&&(dt.errorEmitted=!0),N.emit("error",V))}function R(){let N=this._readableState,V=this._writableState;N&&(N.constructed=!0,N.closed=!1,N.closeEmitted=!1,N.destroyed=!1,N.errored=null,N.errorEmitted=!1,N.reading=!1,N.ended=N.readable===!1,N.endEmitted=N.readable===!1),V&&(V.constructed=!0,V.destroyed=!1,V.closed=!1,V.closeEmitted=!1,V.errored=null,V.errorEmitted=!1,V.finalCalled=!1,V.prefinished=!1,V.ended=V.writable===!1,V.ending=V.writable===!1,V.finished=V.writable===!1)}function q(N,V,dt){let pt=N._readableState,It=N._writableState;if(It!=null&&It.destroyed||pt!=null&&pt.destroyed)return this;pt!=null&&pt.autoDestroy||It!=null&&It.autoDestroy?N.destroy(V):V&&(V.stack,It&&!It.errored&&(It.errored=V),pt&&!pt.errored&&(pt.errored=V),dt?e.nextTick(C,N,V):C(N,V))}function tt(N,V){if(typeof N._construct!="function")return;let dt=N._readableState,pt=N._writableState;dt&&(dt.constructed=!1),pt&&(pt.constructed=!1),N.once(b,V),!(N.listenerCount(b)>1)&&e.nextTick(D,N)}function D(N){let V=!1;function dt(pt){if(V){q(N,pt??new d);return}V=!0;let It=N._readableState,St=N._writableState,Z=St||It;It&&(It.constructed=!0),St&&(St.constructed=!0),Z.destroyed?N.emit(v,pt):pt?q(N,pt,!0):e.nextTick(T,N)}try{N._construct(pt=>{e.nextTick(dt,pt)})}catch(pt){e.nextTick(dt,pt)}}function T(N){N.emit(b)}function J(N){return(N==null?void 0:N.setHeader)&&typeof N.abort=="function"}function nt(N){N.emit("close")}function $(N,V){N.emit("error",V),e.nextTick(nt,N)}function yt(N,V){!N||l(N)||(!V&&!c(N)&&(V=new a),m(N)?(N.socket=null,N.destroy(V)):J(N)?N.abort():J(N.req)?N.req.abort():typeof N.destroy=="function"?N.destroy(V):typeof N.close=="function"?N.close():V?e.nextTick($,N,V):e.nextTick(nt,N),N.destroyed||(N[u]=!0))}o.exports={construct:tt,destroyer:yt,destroy:_,undestroy:R,errorOrDestroy:q}});function pe(){pe.init.call(this)}function Ao(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function ua(t){return t._maxListeners===void 0?pe.defaultMaxListeners:t._maxListeners}function ns(t,o,e,p){var d,a,n,u;if(Ao(e),(a=t._events)===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",o,e.listener?e.listener:e),a=t._events),n=a[o]),n===void 0)n=a[o]=e,++t._eventsCount;else if(typeof n=="function"?n=a[o]=p?[e,n]:[n,e]:p?n.unshift(e):n.push(e),(d=ua(t))>0&&n.length>d&&!n.warned){n.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=o,l.count=n.length,u=l,console&&console.warn&&console.warn(u)}return t}function Gp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ss(t,o,e){var p={fired:!1,wrapFn:void 0,target:t,type:o,listener:e},d=Gp.bind(p);return d.listener=e,p.wrapFn=d,d}function as(t,o,e){var p=t._events;if(p===void 0)return[];var d=p[o];return d===void 0?[]:typeof d=="function"?e?[d.listener||d]:[d]:e?function(a){for(var n=new Array(a.length),u=0;u<n.length;++u)n[u]=a[u].listener||a[u];return n}(d):ca(d,d.length)}function ls(t){var o=this._events;if(o!==void 0){var e=o[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}function ca(t,o){for(var e=new Array(o),p=0;p<o;++p)e[p]=t[p];return e}var ps,us,Cr,ei,ri,oi,ze,cs=Ce(()=>{Bt(),Pt(),Rt(),Cr=typeof Reflect=="object"?Reflect:null,ei=Cr&&typeof Cr.apply=="function"?Cr.apply:function(t,o,e){return Function.prototype.apply.call(t,o,e)},us=Cr&&typeof Cr.ownKeys=="function"?Cr.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},ri=Number.isNaN||function(t){return t!=t},ps=pe,pe.EventEmitter=pe,pe.prototype._events=void 0,pe.prototype._eventsCount=0,pe.prototype._maxListeners=void 0,oi=10,Object.defineProperty(pe,"defaultMaxListeners",{enumerable:!0,get:function(){return oi},set:function(t){if(typeof t!="number"||t<0||ri(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");oi=t}}),pe.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},pe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ri(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},pe.prototype.getMaxListeners=function(){return ua(this)},pe.prototype.emit=function(t){for(var o=[],e=1;e<arguments.length;e++)o.push(arguments[e]);var p=t==="error",d=this._events;if(d!==void 0)p=p&&d.error===void 0;else if(!p)return!1;if(p){var a;if(o.length>0&&(a=o[0]),a instanceof Error)throw a;var n=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw n.context=a,n}var u=d[t];if(u===void 0)return!1;if(typeof u=="function")ei(u,this,o);else{var l=u.length,c=ca(u,l);for(e=0;e<l;++e)ei(c[e],this,o)}return!0},pe.prototype.addListener=function(t,o){return ns(this,t,o,!1)},pe.prototype.on=pe.prototype.addListener,pe.prototype.prependListener=function(t,o){return ns(this,t,o,!0)},pe.prototype.once=function(t,o){return Ao(o),this.on(t,ss(this,t,o)),this},pe.prototype.prependOnceListener=function(t,o){return Ao(o),this.prependListener(t,ss(this,t,o)),this},pe.prototype.removeListener=function(t,o){var e,p,d,a,n;if(Ao(o),(p=this._events)===void 0)return this;if((e=p[t])===void 0)return this;if(e===o||e.listener===o)--this._eventsCount==0?this._events=Object.create(null):(delete p[t],p.removeListener&&this.emit("removeListener",t,e.listener||o));else if(typeof e!="function"){for(d=-1,a=e.length-1;a>=0;a--)if(e[a]===o||e[a].listener===o){n=e[a].listener,d=a;break}if(d<0)return this;d===0?e.shift():function(u,l){for(;l+1<u.length;l++)u[l]=u[l+1];u.pop()}(e,d),e.length===1&&(p[t]=e[0]),p.removeListener!==void 0&&this.emit("removeListener",t,n||o)}return this},pe.prototype.off=pe.prototype.removeListener,pe.prototype.removeAllListeners=function(t){var o,e,p;if((e=this._events)===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var d,a=Object.keys(e);for(p=0;p<a.length;++p)(d=a[p])!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(o=e[t])=="function")this.removeListener(t,o);else if(o!==void 0)for(p=o.length-1;p>=0;p--)this.removeListener(t,o[p]);return this},pe.prototype.listeners=function(t){return as(this,t,!0)},pe.prototype.rawListeners=function(t){return as(this,t,!1)},pe.listenerCount=function(t,o){return typeof t.listenerCount=="function"?t.listenerCount(o):ls.call(t,o)},pe.prototype.listenerCount=ls,pe.prototype.eventNames=function(){return this._eventsCount>0?us(this._events):[]},ze=ps,ze.EventEmitter,ze.defaultMaxListeners,ze.init,ze.listenerCount,ze.EventEmitter,ze.defaultMaxListeners,ze.init,ze.listenerCount}),to={};Zr(to,{EventEmitter:()=>da,default:()=>ze,defaultMaxListeners:()=>ha,init:()=>fa,listenerCount:()=>ma,on:()=>ya,once:()=>ga});var da,ha,fa,ma,ya,ga,ao=Ce(()=>{Bt(),Pt(),Rt(),cs(),cs(),ze.once=function(t,o){return new Promise((e,p)=>{function d(...n){a!==void 0&&t.removeListener("error",a),e(n)}let a;o!=="error"&&(a=n=>{t.removeListener(name,d),p(n)},t.once("error",a)),t.once(o,d)})},ze.on=function(t,o){let e=[],p=[],d=null,a=!1,n={async next(){let c=e.shift();if(c)return createIterResult(c,!1);if(d){let m=Promise.reject(d);return d=null,m}return a?createIterResult(void 0,!0):new Promise((m,v)=>p.push({resolve:m,reject:v}))},async return(){t.removeListener(o,u),t.removeListener("error",l),a=!0;for(let c of p)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){d=c,t.removeListener(o,u),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(o,u),t.on("error",l),n;function u(...c){let m=p.shift();m?m.resolve(createIterResult(c,!1)):e.push(c)}function l(c){a=!0;let m=p.shift();m?m.reject(c):d=c,n.return()}},{EventEmitter:da,defaultMaxListeners:ha,init:fa,listenerCount:ma,on:ya,once:ga}=ze}),Gn=Wt((t,o)=>{Bt(),Pt(),Rt();var{ArrayIsArray:e,ObjectSetPrototypeOf:p}=Me(),{EventEmitter:d}=(ao(),de(to));function a(u){d.call(this,u)}p(a.prototype,d.prototype),p(a,d),a.prototype.pipe=function(u,l){let c=this;function m(Y){u.writable&&u.write(Y)===!1&&c.pause&&c.pause()}c.on("data",m);function v(){c.readable&&c.resume&&c.resume()}u.on("drain",v),!u._isStdio&&(!l||l.end!==!1)&&(c.on("end",w),c.on("close",_));let b=!1;function w(){b||(b=!0,u.end())}function _(){b||(b=!0,typeof u.destroy=="function"&&u.destroy())}function k(Y){j(),d.listenerCount(this,"error")===0&&this.emit("error",Y)}n(c,"error",k),n(u,"error",k);function j(){c.removeListener("data",m),u.removeListener("drain",v),c.removeListener("end",w),c.removeListener("close",_),c.removeListener("error",k),u.removeListener("error",k),c.removeListener("end",j),c.removeListener("close",j),u.removeListener("close",j)}return c.on("end",j),c.on("close",j),u.on("close",j),u.emit("pipe",c),u};function n(u,l,c){if(typeof u.prependListener=="function")return u.prependListener(l,c);!u._events||!u._events[l]?u.on(l,c):e(u._events[l])?u._events[l].unshift(c):u._events[l]=[c,u._events[l]]}o.exports={Stream:a,prependListener:n}}),qo=Wt((t,o)=>{Bt(),Pt(),Rt();var{AbortError:e,codes:p}=Le(),{isNodeStream:d,isWebStream:a,kControllerErrorFunction:n}=Sr(),u=Pr(),{ERR_INVALID_ARG_TYPE:l}=p,c=(m,v)=>{if(typeof m!="object"||!("aborted"in m))throw new l(v,"AbortSignal",m)};o.exports.addAbortSignal=function(m,v){if(c(m,"signal"),!d(v)&&!a(v))throw new l("stream",["ReadableStream","WritableStream","Stream"],v);return o.exports.addAbortSignalNoValidate(m,v)},o.exports.addAbortSignalNoValidate=function(m,v){if(typeof m!="object"||!("aborted"in m))return v;let b=d(v)?()=>{v.destroy(new e(void 0,{cause:m.reason}))}:()=>{v[n](new e(void 0,{cause:m.reason}))};return m.aborted?b():(m.addEventListener("abort",b),u(v,()=>m.removeEventListener("abort",b))),v}}),qp=Wt((t,o)=>{Bt(),Pt(),Rt();var{StringPrototypeSlice:e,SymbolIterator:p,TypedArrayPrototypeSet:d,Uint8Array:a}=Me(),{Buffer:n}=(xe(),de(Ae)),{inspect:u}=wr();o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,m=""+c.data;for(;(c=c.next)!==null;)m+=l+c.data;return m}concat(l){if(this.length===0)return n.alloc(0);let c=n.allocUnsafe(l>>>0),m=this.head,v=0;for(;m;)d(c,m.data,v),v+=m.data.length,m=m.next;return c}consume(l,c){let m=this.head.data;if(l<m.length){let v=m.slice(0,l);return this.head.data=m.slice(l),v}return l===m.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[p](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",m=this.head,v=0;do{let b=m.data;if(l>b.length)c+=b,l-=b.length;else{l===b.length?(c+=b,++v,m.next?this.head=m.next:this.head=this.tail=null):(c+=e(b,0,l),this.head=m,m.data=e(b,l));break}++v}while((m=m.next)!==null);return this.length-=v,c}_getBuffer(l){let c=n.allocUnsafe(l),m=l,v=this.head,b=0;do{let w=v.data;if(l>w.length)d(c,w,m-l),l-=w.length;else{l===w.length?(d(c,w,m-l),++b,v.next?this.head=v.next:this.head=this.tail=null):(d(c,new a(w.buffer,w.byteOffset,l),m-l),this.head=v,v.data=w.slice(l));break}++b}while((v=v.next)!==null);return this.length-=b,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return u(this,{...c,depth:0,customInspect:!1})}}}),qn=Wt((t,o)=>{Bt(),Pt(),Rt();var{MathFloor:e,NumberIsInteger:p}=Me(),{ERR_INVALID_ARG_VALUE:d}=Le().codes;function a(l,c,m){return l.highWaterMark!=null?l.highWaterMark:c?l[m]:null}function n(l){return l?16:16*1024}function u(l,c,m,v){let b=a(c,v,m);if(b!=null){if(!p(b)||b<0){let w=v?`options.${m}`:"options.highWaterMark";throw new d(w,b)}return e(b)}return n(l.objectMode)}o.exports={getHighWaterMark:u,getDefaultHighWaterMark:n}});function ds(t){var o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return e===-1&&(e=o),[e,e===o?0:4-e%4]}function Yp(t,o,e){for(var p,d,a=[],n=o;n<e;n+=3)p=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(255&t[n+2]),a.push(Xe[(d=p)>>18&63]+Xe[d>>12&63]+Xe[d>>6&63]+Xe[63&d]);return a.join("")}function vr(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var o=new Uint8Array(t);return Object.setPrototypeOf(o,Ct.prototype),o}function Ct(t,o,e){if(typeof t=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return En(t)}return va(t,o,e)}function va(t,o,e){if(typeof t=="string")return function(a,n){if(typeof n=="string"&&n!==""||(n="utf8"),!Ct.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var u=0|wa(a,n),l=vr(u),c=l.write(a,n);return c!==u&&(l=l.slice(0,c)),l}(t,o);if(ArrayBuffer.isView(t))return ii(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(br(t,ArrayBuffer)||t&&br(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(br(t,SharedArrayBuffer)||t&&br(t.buffer,SharedArrayBuffer)))return Kp(t,o,e);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=t.valueOf&&t.valueOf();if(p!=null&&p!==t)return Ct.from(p,o,e);var d=function(a){if(Ct.isBuffer(a)){var n=0|Yn(a.length),u=vr(n);return u.length===0||a.copy(u,0,0,n),u}if(a.length!==void 0)return typeof a.length!="number"||Kn(a.length)?vr(0):ii(a);if(a.type==="Buffer"&&Array.isArray(a.data))return ii(a.data)}(t);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Ct.from(t[Symbol.toPrimitive]("string"),o,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function ba(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function En(t){return ba(t),vr(t<0?0:0|Yn(t))}function ii(t){for(var o=t.length<0?0:0|Yn(t.length),e=vr(o),p=0;p<o;p+=1)e[p]=255&t[p];return e}function Kp(t,o,e){if(o<0||t.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<o+(e||0))throw new RangeError('"length" is outside of buffer bounds');var p;return p=o===void 0&&e===void 0?new Uint8Array(t):e===void 0?new Uint8Array(t,o):new Uint8Array(t,o,e),Object.setPrototypeOf(p,Ct.prototype),p}function Yn(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function wa(t,o){if(Ct.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||br(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&e===0)return 0;for(var d=!1;;)switch(o){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Sn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return Ta(t).length;default:if(d)return p?-1:Sn(t).length;o=(""+o).toLowerCase(),d=!0}}function Jp(t,o,e){var p=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0)<=(o>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return nu(this,o,e);case"utf8":case"utf-8":return Ea(this,o,e);case"ascii":return ou(this,o,e);case"latin1":case"binary":return iu(this,o,e);case"base64":return ru(this,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return su(this,o,e);default:if(p)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),p=!0}}function Ar(t,o,e){var p=t[o];t[o]=t[e],t[e]=p}function hs(t,o,e,p,d){if(t.length===0)return-1;if(typeof e=="string"?(p=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),Kn(e=+e)&&(e=d?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(d)return-1;e=t.length-1}else if(e<0){if(!d)return-1;e=0}if(typeof o=="string"&&(o=Ct.from(o,p)),Ct.isBuffer(o))return o.length===0?-1:fs(t,o,e,p,d);if(typeof o=="number")return o&=255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(t,o,e):Uint8Array.prototype.lastIndexOf.call(t,o,e):fs(t,[o],e,p,d);throw new TypeError("val must be string, number or Buffer")}function fs(t,o,e,p,d){var a,n=1,u=t.length,l=o.length;if(p!==void 0&&((p=String(p).toLowerCase())==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(t.length<2||o.length<2)return-1;n=2,u/=2,l/=2,e/=2}function c(w,_){return n===1?w[_]:w.readUInt16BE(_*n)}if(d){var m=-1;for(a=e;a<u;a++)if(c(t,a)===c(o,m===-1?0:a-m)){if(m===-1&&(m=a),a-m+1===l)return m*n}else m!==-1&&(a-=a-m),m=-1}else for(e+l>u&&(e=u-l),a=e;a>=0;a--){for(var v=!0,b=0;b<l;b++)if(c(t,a+b)!==c(o,b)){v=!1;break}if(v)return a}return-1}function Qp(t,o,e,p){e=Number(e)||0;var d=t.length-e;p?(p=Number(p))>d&&(p=d):p=d;var a=o.length;p>a/2&&(p=a/2);for(var n=0;n<p;++n){var u=parseInt(o.substr(2*n,2),16);if(Kn(u))return n;t[e+n]=u}return n}function Zp(t,o,e,p){return Yo(Sn(o,t.length-e),t,e,p)}function _a(t,o,e,p){return Yo(function(d){for(var a=[],n=0;n<d.length;++n)a.push(255&d.charCodeAt(n));return a}(o),t,e,p)}function Xp(t,o,e,p){return _a(t,o,e,p)}function tu(t,o,e,p){return Yo(Ta(o),t,e,p)}function eu(t,o,e,p){return Yo(function(d,a){for(var n,u,l,c=[],m=0;m<d.length&&!((a-=2)<0);++m)n=d.charCodeAt(m),u=n>>8,l=n%256,c.push(l),c.push(u);return c}(o,t.length-e),t,e,p)}function ru(t,o,e){return o===0&&e===t.length?Uo.fromByteArray(t):Uo.fromByteArray(t.slice(o,e))}function Ea(t,o,e){e=Math.min(t.length,e);for(var p=[],d=o;d<e;){var a,n,u,l,c=t[d],m=null,v=c>239?4:c>223?3:c>191?2:1;if(d+v<=e)switch(v){case 1:c<128&&(m=c);break;case 2:(192&(a=t[d+1]))==128&&(l=(31&c)<<6|63&a)>127&&(m=l);break;case 3:a=t[d+1],n=t[d+2],(192&a)==128&&(192&n)==128&&(l=(15&c)<<12|(63&a)<<6|63&n)>2047&&(l<55296||l>57343)&&(m=l);break;case 4:a=t[d+1],n=t[d+2],u=t[d+3],(192&a)==128&&(192&n)==128&&(192&u)==128&&(l=(15&c)<<18|(63&a)<<12|(63&n)<<6|63&u)>65535&&l<1114112&&(m=l)}m===null?(m=65533,v=1):m>65535&&(m-=65536,p.push(m>>>10&1023|55296),m=56320|1023&m),p.push(m),d+=v}return function(b){var w=b.length;if(w<=4096)return String.fromCharCode.apply(String,b);for(var _="",k=0;k<w;)_+=String.fromCharCode.apply(String,b.slice(k,k+=4096));return _}(p)}function ou(t,o,e){var p="";e=Math.min(t.length,e);for(var d=o;d<e;++d)p+=String.fromCharCode(127&t[d]);return p}function iu(t,o,e){var p="";e=Math.min(t.length,e);for(var d=o;d<e;++d)p+=String.fromCharCode(t[d]);return p}function nu(t,o,e){var p=t.length;(!o||o<0)&&(o=0),(!e||e<0||e>p)&&(e=p);for(var d="",a=o;a<e;++a)d+=ka[t[a]];return d}function su(t,o,e){for(var p=t.slice(o,e),d="",a=0;a<p.length;a+=2)d+=String.fromCharCode(p[a]+256*p[a+1]);return d}function Re(t,o,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+o>e)throw new RangeError("Trying to access beyond buffer length")}function De(t,o,e,p,d,a){if(!Ct.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>d||o<a)throw new RangeError('"value" argument is out of bounds');if(e+p>t.length)throw new RangeError("Index out of range")}function Sa(t,o,e,p,d,a){if(e+p>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function ms(t,o,e,p,d){return o=+o,e>>>=0,d||Sa(t,0,e,4),$r.write(t,o,e,p,23,4),e+4}function ys(t,o,e,p,d){return o=+o,e>>>=0,d||Sa(t,0,e,8),$r.write(t,o,e,p,52,8),e+8}function Sn(t,o){var e;o=o||1/0;for(var p=t.length,d=null,a=[],n=0;n<p;++n){if((e=t.charCodeAt(n))>55295&&e<57344){if(!d){if(e>56319){(o-=3)>-1&&a.push(239,191,189);continue}if(n+1===p){(o-=3)>-1&&a.push(239,191,189);continue}d=e;continue}if(e<56320){(o-=3)>-1&&a.push(239,191,189),d=e;continue}e=65536+(d-55296<<10|e-56320)}else d&&(o-=3)>-1&&a.push(239,191,189);if(d=null,e<128){if((o-=1)<0)break;a.push(e)}else if(e<2048){if((o-=2)<0)break;a.push(e>>6|192,63&e|128)}else if(e<65536){if((o-=3)<0)break;a.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;a.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return a}function Ta(t){return Uo.toByteArray(function(o){if((o=(o=o.split("=")[0]).trim().replace(Ia,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(t))}function Yo(t,o,e,p){for(var d=0;d<p&&!(d+e>=o.length||d>=t.length);++d)o[d+e]=t[d];return d}function br(t,o){return t instanceof o||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===o.name}function Kn(t){return t!=t}function gs(t,o){for(var e in t)o[e]=t[e]}function xr(t,o,e){return Qe(t,o,e)}function po(t){var o;switch(this.encoding=function(e){var p=function(d){if(!d)return"utf8";for(var a;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(a)return;d=(""+d).toLowerCase(),a=!0}}(e);if(typeof p!="string"&&(zo.isEncoding===Tn||!Tn(e)))throw new Error("Unknown encoding: "+e);return p||e}(t),this.encoding){case"utf16le":this.text=lu,this.end=pu,o=4;break;case"utf8":this.fillLast=au,o=4;break;case"base64":this.text=uu,this.end=cu,o=3;break;default:return this.write=du,this.end=hu,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=zo.allocUnsafe(o)}function ni(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function au(t){var o=this.lastTotal-this.lastNeed,e=function(p,d,a){if((192&d[0])!=128)return p.lastNeed=0,"�";if(p.lastNeed>1&&d.length>1){if((192&d[1])!=128)return p.lastNeed=1,"�";if(p.lastNeed>2&&d.length>2&&(192&d[2])!=128)return p.lastNeed=2,"�"}}(this,t);return e!==void 0?e:this.lastNeed<=t.length?(t.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,o,0,t.length),this.lastNeed-=t.length,void 0)}function lu(t,o){if((t.length-o)%2==0){var e=t.toString("utf16le",o);if(e){var p=e.charCodeAt(e.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",o,t.length-1)}function pu(t){var o=t&&t.length?this.write(t):"";if(this.lastNeed){var e=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,e)}return o}function uu(t,o){var e=(t.length-o)%3;return e===0?t.toString("base64",o):(this.lastNeed=3-e,this.lastTotal=3,e===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",o,t.length-e))}function cu(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function du(t){return t.toString(this.encoding)}function hu(t){return t&&t.length?this.write(t):""}var vs,Xe,Ue,bs,Io,Fr,ws,_s,or,Uo,$r,si,Ia,ka,uo,co,Qe,Es,io,zo,Tn,Ss=Ce(()=>{for(Bt(),Pt(),Rt(),vs={byteLength:function(t){var o=ds(t),e=o[0],p=o[1];return 3*(e+p)/4-p},toByteArray:function(t){var o,e,p=ds(t),d=p[0],a=p[1],n=new bs(function(c,m,v){return 3*(m+v)/4-v}(0,d,a)),u=0,l=a>0?d-4:d;for(e=0;e<l;e+=4)o=Ue[t.charCodeAt(e)]<<18|Ue[t.charCodeAt(e+1)]<<12|Ue[t.charCodeAt(e+2)]<<6|Ue[t.charCodeAt(e+3)],n[u++]=o>>16&255,n[u++]=o>>8&255,n[u++]=255&o;return a===2&&(o=Ue[t.charCodeAt(e)]<<2|Ue[t.charCodeAt(e+1)]>>4,n[u++]=255&o),a===1&&(o=Ue[t.charCodeAt(e)]<<10|Ue[t.charCodeAt(e+1)]<<4|Ue[t.charCodeAt(e+2)]>>2,n[u++]=o>>8&255,n[u++]=255&o),n},fromByteArray:function(t){for(var o,e=t.length,p=e%3,d=[],a=0,n=e-p;a<n;a+=16383)d.push(Yp(t,a,a+16383>n?n:a+16383));return p===1?(o=t[e-1],d.push(Xe[o>>2]+Xe[o<<4&63]+"==")):p===2&&(o=(t[e-2]<<8)+t[e-1],d.push(Xe[o>>10]+Xe[o>>4&63]+Xe[o<<2&63]+"=")),d.join("")}},Xe=[],Ue=[],bs=typeof Uint8Array<"u"?Uint8Array:Array,Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fr=0,ws=Io.length;Fr<ws;++Fr)Xe[Fr]=Io[Fr],Ue[Io.charCodeAt(Fr)]=Fr;Ue[45]=62,Ue[95]=63,_s={read:function(t,o,e,p,d){var a,n,u=8*d-p-1,l=(1<<u)-1,c=l>>1,m=-7,v=e?d-1:0,b=e?-1:1,w=t[o+v];for(v+=b,a=w&(1<<-m)-1,w>>=-m,m+=u;m>0;a=256*a+t[o+v],v+=b,m-=8);for(n=a&(1<<-m)-1,a>>=-m,m+=p;m>0;n=256*n+t[o+v],v+=b,m-=8);if(a===0)a=1-c;else{if(a===l)return n?NaN:1/0*(w?-1:1);n+=Math.pow(2,p),a-=c}return(w?-1:1)*n*Math.pow(2,a-p)},write:function(t,o,e,p,d,a){var n,u,l,c=8*a-d-1,m=(1<<c)-1,v=m>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:a-1,_=p?1:-1,k=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,n=m):(n=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-n))<1&&(n--,l*=2),(o+=n+v>=1?b/l:b*Math.pow(2,1-v))*l>=2&&(n++,l/=2),n+v>=m?(u=0,n=m):n+v>=1?(u=(o*l-1)*Math.pow(2,d),n+=v):(u=o*Math.pow(2,v-1)*Math.pow(2,d),n=0));d>=8;t[e+w]=255&u,w+=_,u/=256,d-=8);for(n=n<<d|u,c+=d;c>0;t[e+w]=255&n,w+=_,n/=256,c-=8);t[e+w-_]|=128*k}},or={},Uo=vs,$r=_s,si=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,or.Buffer=Ct,or.SlowBuffer=function(t){return+t!=t&&(t=0),Ct.alloc(+t)},or.INSPECT_MAX_BYTES=50,or.kMaxLength=2147483647,Ct.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(t,o),t.foo()===42}catch{return!1}}(),Ct.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Ct.prototype,"parent",{enumerable:!0,get:function(){if(Ct.isBuffer(this))return this.buffer}}),Object.defineProperty(Ct.prototype,"offset",{enumerable:!0,get:function(){if(Ct.isBuffer(this))return this.byteOffset}}),Ct.poolSize=8192,Ct.from=function(t,o,e){return va(t,o,e)},Object.setPrototypeOf(Ct.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ct,Uint8Array),Ct.alloc=function(t,o,e){return function(p,d,a){return ba(p),p<=0?vr(p):d!==void 0?typeof a=="string"?vr(p).fill(d,a):vr(p).fill(d):vr(p)}(t,o,e)},Ct.allocUnsafe=function(t){return En(t)},Ct.allocUnsafeSlow=function(t){return En(t)},Ct.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==Ct.prototype},Ct.compare=function(t,o){if(br(t,Uint8Array)&&(t=Ct.from(t,t.offset,t.byteLength)),br(o,Uint8Array)&&(o=Ct.from(o,o.offset,o.byteLength)),!Ct.isBuffer(t)||!Ct.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===o)return 0;for(var e=t.length,p=o.length,d=0,a=Math.min(e,p);d<a;++d)if(t[d]!==o[d]){e=t[d],p=o[d];break}return e<p?-1:p<e?1:0},Ct.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ct.concat=function(t,o){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ct.alloc(0);var e;if(o===void 0)for(o=0,e=0;e<t.length;++e)o+=t[e].length;var p=Ct.allocUnsafe(o),d=0;for(e=0;e<t.length;++e){var a=t[e];if(br(a,Uint8Array)&&(a=Ct.from(a)),!Ct.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(p,d),d+=a.length}return p},Ct.byteLength=wa,Ct.prototype._isBuffer=!0,Ct.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<t;o+=2)Ar(this,o,o+1);return this},Ct.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<t;o+=4)Ar(this,o,o+3),Ar(this,o+1,o+2);return this},Ct.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<t;o+=8)Ar(this,o,o+7),Ar(this,o+1,o+6),Ar(this,o+2,o+5),Ar(this,o+3,o+4);return this},Ct.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Ea(this,0,t):Jp.apply(this,arguments)},Ct.prototype.toLocaleString=Ct.prototype.toString,Ct.prototype.equals=function(t){if(!Ct.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||Ct.compare(this,t)===0},Ct.prototype.inspect=function(){var t="",o=or.INSPECT_MAX_BYTES;return t=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(t+=" ... "),"<Buffer "+t+">"},si&&(Ct.prototype[si]=Ct.prototype.inspect),Ct.prototype.compare=function(t,o,e,p,d){if(br(t,Uint8Array)&&(t=Ct.from(t,t.offset,t.byteLength)),!Ct.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(o===void 0&&(o=0),e===void 0&&(e=t?t.length:0),p===void 0&&(p=0),d===void 0&&(d=this.length),o<0||e>t.length||p<0||d>this.length)throw new RangeError("out of range index");if(p>=d&&o>=e)return 0;if(p>=d)return-1;if(o>=e)return 1;if(this===t)return 0;for(var a=(d>>>=0)-(p>>>=0),n=(e>>>=0)-(o>>>=0),u=Math.min(a,n),l=this.slice(p,d),c=t.slice(o,e),m=0;m<u;++m)if(l[m]!==c[m]){a=l[m],n=c[m];break}return a<n?-1:n<a?1:0},Ct.prototype.includes=function(t,o,e){return this.indexOf(t,o,e)!==-1},Ct.prototype.indexOf=function(t,o,e){return hs(this,t,o,e,!0)},Ct.prototype.lastIndexOf=function(t,o,e){return hs(this,t,o,e,!1)},Ct.prototype.write=function(t,o,e,p){if(o===void 0)p="utf8",e=this.length,o=0;else if(e===void 0&&typeof o=="string")p=o,e=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(e)?(e>>>=0,p===void 0&&(p="utf8")):(p=e,e=void 0)}var d=this.length-o;if((e===void 0||e>d)&&(e=d),t.length>0&&(e<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var a=!1;;)switch(p){case"hex":return Qp(this,t,o,e);case"utf8":case"utf-8":return Zp(this,t,o,e);case"ascii":return _a(this,t,o,e);case"latin1":case"binary":return Xp(this,t,o,e);case"base64":return tu(this,t,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eu(this,t,o,e);default:if(a)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),a=!0}},Ct.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Ct.prototype.slice=function(t,o){var e=this.length;(t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(o=o===void 0?e:~~o)<0?(o+=e)<0&&(o=0):o>e&&(o=e),o<t&&(o=t);var p=this.subarray(t,o);return Object.setPrototypeOf(p,Ct.prototype),p},Ct.prototype.readUIntLE=function(t,o,e){t>>>=0,o>>>=0,e||Re(t,o,this.length);for(var p=this[t],d=1,a=0;++a<o&&(d*=256);)p+=this[t+a]*d;return p},Ct.prototype.readUIntBE=function(t,o,e){t>>>=0,o>>>=0,e||Re(t,o,this.length);for(var p=this[t+--o],d=1;o>0&&(d*=256);)p+=this[t+--o]*d;return p},Ct.prototype.readUInt8=function(t,o){return t>>>=0,o||Re(t,1,this.length),this[t]},Ct.prototype.readUInt16LE=function(t,o){return t>>>=0,o||Re(t,2,this.length),this[t]|this[t+1]<<8},Ct.prototype.readUInt16BE=function(t,o){return t>>>=0,o||Re(t,2,this.length),this[t]<<8|this[t+1]},Ct.prototype.readUInt32LE=function(t,o){return t>>>=0,o||Re(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Ct.prototype.readUInt32BE=function(t,o){return t>>>=0,o||Re(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ct.prototype.readIntLE=function(t,o,e){t>>>=0,o>>>=0,e||Re(t,o,this.length);for(var p=this[t],d=1,a=0;++a<o&&(d*=256);)p+=this[t+a]*d;return p>=(d*=128)&&(p-=Math.pow(2,8*o)),p},Ct.prototype.readIntBE=function(t,o,e){t>>>=0,o>>>=0,e||Re(t,o,this.length);for(var p=o,d=1,a=this[t+--p];p>0&&(d*=256);)a+=this[t+--p]*d;return a>=(d*=128)&&(a-=Math.pow(2,8*o)),a},Ct.prototype.readInt8=function(t,o){return t>>>=0,o||Re(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Ct.prototype.readInt16LE=function(t,o){t>>>=0,o||Re(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},Ct.prototype.readInt16BE=function(t,o){t>>>=0,o||Re(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},Ct.prototype.readInt32LE=function(t,o){return t>>>=0,o||Re(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ct.prototype.readInt32BE=function(t,o){return t>>>=0,o||Re(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ct.prototype.readFloatLE=function(t,o){return t>>>=0,o||Re(t,4,this.length),$r.read(this,t,!0,23,4)},Ct.prototype.readFloatBE=function(t,o){return t>>>=0,o||Re(t,4,this.length),$r.read(this,t,!1,23,4)},Ct.prototype.readDoubleLE=function(t,o){return t>>>=0,o||Re(t,8,this.length),$r.read(this,t,!0,52,8)},Ct.prototype.readDoubleBE=function(t,o){return t>>>=0,o||Re(t,8,this.length),$r.read(this,t,!1,52,8)},Ct.prototype.writeUIntLE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||De(this,t,o,e,Math.pow(2,8*e)-1,0);var d=1,a=0;for(this[o]=255&t;++a<e&&(d*=256);)this[o+a]=t/d&255;return o+e},Ct.prototype.writeUIntBE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||De(this,t,o,e,Math.pow(2,8*e)-1,0);var d=e-1,a=1;for(this[o+d]=255&t;--d>=0&&(a*=256);)this[o+d]=t/a&255;return o+e},Ct.prototype.writeUInt8=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,1,255,0),this[o]=255&t,o+1},Ct.prototype.writeUInt16LE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,2,65535,0),this[o]=255&t,this[o+1]=t>>>8,o+2},Ct.prototype.writeUInt16BE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,2,65535,0),this[o]=t>>>8,this[o+1]=255&t,o+2},Ct.prototype.writeUInt32LE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,4,4294967295,0),this[o+3]=t>>>24,this[o+2]=t>>>16,this[o+1]=t>>>8,this[o]=255&t,o+4},Ct.prototype.writeUInt32BE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,4,4294967295,0),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},Ct.prototype.writeIntLE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var d=Math.pow(2,8*e-1);De(this,t,o,e,d-1,-d)}var a=0,n=1,u=0;for(this[o]=255&t;++a<e&&(n*=256);)t<0&&u===0&&this[o+a-1]!==0&&(u=1),this[o+a]=(t/n>>0)-u&255;return o+e},Ct.prototype.writeIntBE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var d=Math.pow(2,8*e-1);De(this,t,o,e,d-1,-d)}var a=e-1,n=1,u=0;for(this[o+a]=255&t;--a>=0&&(n*=256);)t<0&&u===0&&this[o+a+1]!==0&&(u=1),this[o+a]=(t/n>>0)-u&255;return o+e},Ct.prototype.writeInt8=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,1,127,-128),t<0&&(t=255+t+1),this[o]=255&t,o+1},Ct.prototype.writeInt16LE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,2,32767,-32768),this[o]=255&t,this[o+1]=t>>>8,o+2},Ct.prototype.writeInt16BE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,2,32767,-32768),this[o]=t>>>8,this[o+1]=255&t,o+2},Ct.prototype.writeInt32LE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,4,2147483647,-2147483648),this[o]=255&t,this[o+1]=t>>>8,this[o+2]=t>>>16,this[o+3]=t>>>24,o+4},Ct.prototype.writeInt32BE=function(t,o,e){return t=+t,o>>>=0,e||De(this,t,o,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},Ct.prototype.writeFloatLE=function(t,o,e){return ms(this,t,o,!0,e)},Ct.prototype.writeFloatBE=function(t,o,e){return ms(this,t,o,!1,e)},Ct.prototype.writeDoubleLE=function(t,o,e){return ys(this,t,o,!0,e)},Ct.prototype.writeDoubleBE=function(t,o,e){return ys(this,t,o,!1,e)},Ct.prototype.copy=function(t,o,e,p){if(!Ct.isBuffer(t))throw new TypeError("argument should be a Buffer");if(e||(e=0),p||p===0||(p=this.length),o>=t.length&&(o=t.length),o||(o=0),p>0&&p<e&&(p=e),p===e||t.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),t.length-o<p-e&&(p=t.length-o+e);var d=p-e;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(o,e,p);else if(this===t&&e<o&&o<p)for(var a=d-1;a>=0;--a)t[a+o]=this[a+e];else Uint8Array.prototype.set.call(t,this.subarray(e,p),o);return d},Ct.prototype.fill=function(t,o,e,p){if(typeof t=="string"){if(typeof o=="string"?(p=o,o=0,e=this.length):typeof e=="string"&&(p=e,e=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!Ct.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(t.length===1){var d=t.charCodeAt(0);(p==="utf8"&&d<128||p==="latin1")&&(t=d)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(o<0||this.length<o||this.length<e)throw new RangeError("Out of range index");if(e<=o)return this;var a;if(o>>>=0,e=e===void 0?this.length:e>>>0,t||(t=0),typeof t=="number")for(a=o;a<e;++a)this[a]=t;else{var n=Ct.isBuffer(t)?t:Ct.from(t,p),u=n.length;if(u===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<e-o;++a)this[a+o]=n[a%u]}return this},Ia=/[^+/0-9A-Za-z-_]/g,ka=function(){for(var t=new Array(256),o=0;o<16;++o)for(var e=16*o,p=0;p<16;++p)t[e+p]="0123456789abcdef"[o]+"0123456789abcdef"[p];return t}(),or.Buffer,or.INSPECT_MAX_BYTES,or.kMaxLength,uo={},co=or,Qe=co.Buffer,Qe.from&&Qe.alloc&&Qe.allocUnsafe&&Qe.allocUnsafeSlow?uo=co:(gs(co,uo),uo.Buffer=xr),xr.prototype=Object.create(Qe.prototype),gs(Qe,xr),xr.from=function(t,o,e){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Qe(t,o,e)},xr.alloc=function(t,o,e){if(typeof t!="number")throw new TypeError("Argument must be a number");var p=Qe(t);return o!==void 0?typeof e=="string"?p.fill(o,e):p.fill(o):p.fill(0),p},xr.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Qe(t)},xr.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return co.SlowBuffer(t)},Es=uo,io={},zo=Es.Buffer,Tn=zo.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},io.StringDecoder=po,po.prototype.write=function(t){if(t.length===0)return"";var o,e;if(this.lastNeed){if((o=this.fillLast(t))===void 0)return"";e=this.lastNeed,this.lastNeed=0}else e=0;return e<t.length?o?o+this.text(t,e):this.text(t,e):o||""},po.prototype.end=function(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+"�":o},po.prototype.text=function(t,o){var e=function(d,a,n){var u=a.length-1;if(u<n)return 0;var l=ni(a[u]);return l>=0?(l>0&&(d.lastNeed=l-1),l):--u<n||l===-2?0:(l=ni(a[u]))>=0?(l>0&&(d.lastNeed=l-2),l):--u<n||l===-2?0:(l=ni(a[u]))>=0?(l>0&&(l===2?l=0:d.lastNeed=l-3),l):0}(this,t,o);if(!this.lastNeed)return t.toString("utf8",o);this.lastTotal=e;var p=t.length-(e-this.lastNeed);return t.copy(this.lastChar,0,p),t.toString("utf8",o,p)},po.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},io.StringDecoder,io.StringDecoder}),Oa={};Zr(Oa,{StringDecoder:()=>Ma,default:()=>io});var Ma,fu=Ce(()=>{Bt(),Pt(),Rt(),Ss(),Ss(),Ma=io.StringDecoder}),Ba=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Xr(),{PromisePrototypeThen:p,SymbolAsyncIterator:d,SymbolIterator:a}=Me(),{Buffer:n}=(xe(),de(Ae)),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=Le().codes;function c(m,v,b){let w;if(typeof v=="string"||v instanceof n)return new m({objectMode:!0,...b,read(){this.push(v),this.push(null)}});let _;if(v&&v[d])_=!0,w=v[d]();else if(v&&v[a])_=!1,w=v[a]();else throw new u("iterable",["Iterable"],v);let k=new m({objectMode:!0,highWaterMark:1,...b}),j=!1;k._read=function(){j||(j=!0,C())},k._destroy=function(R,q){p(Y(R),()=>e.nextTick(q,R),tt=>e.nextTick(q,tt||R))};async function Y(R){let q=R!=null,tt=typeof w.throw=="function";if(q&&tt){let{value:D,done:T}=await w.throw(R);if(await D,T)return}if(typeof w.return=="function"){let{value:D}=await w.return();await D}}async function C(){for(;;){try{let{value:R,done:q}=_?await w.next():w.next();if(q)k.push(null);else{let tt=R&&typeof R.then=="function"?await R:R;if(tt===null)throw j=!1,new l;if(k.push(tt))continue;j=!1}}catch(R){k.destroy(R)}break}}return k}o.exports=c}),Ko=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Xr(),{ArrayPrototypeIndexOf:p,NumberIsInteger:d,NumberIsNaN:a,NumberParseInt:n,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:m,SafeSet:v,SymbolAsyncIterator:b,Symbol:w}=Me();o.exports=M,M.ReadableState=Et;var{EventEmitter:_}=(ao(),de(to)),{Stream:k,prependListener:j}=Gn(),{Buffer:Y}=(xe(),de(Ae)),{addAbortSignal:C}=qo(),R=Pr(),q=wr().debuglog("stream",h=>{q=h}),tt=qp(),D=so(),{getHighWaterMark:T,getDefaultHighWaterMark:J}=qn(),{aggregateTwoErrors:nt,codes:{ERR_INVALID_ARG_TYPE:$,ERR_METHOD_NOT_IMPLEMENTED:yt,ERR_OUT_OF_RANGE:N,ERR_STREAM_PUSH_AFTER_EOF:V,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:dt}}=Le(),{validateObject:pt}=Go(),It=w("kPaused"),{StringDecoder:St}=(fu(),de(Oa)),Z=Ba();c(M.prototype,k.prototype),c(M,k);var lt=()=>{},{errorOrDestroy:gt}=D;function Et(h,g,B){typeof B!="boolean"&&(B=g instanceof _r()),this.objectMode=!!(h&&h.objectMode),B&&(this.objectMode=this.objectMode||!!(h&&h.readableObjectMode)),this.highWaterMark=h?T(this,h,"readableHighWaterMark",B):J(!1),this.buffer=new tt,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[It]=null,this.errorEmitted=!1,this.emitClose=!h||h.emitClose!==!1,this.autoDestroy=!h||h.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=h&&h.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,h&&h.encoding&&(this.decoder=new St(h.encoding),this.encoding=h.encoding)}function M(h){if(!(this instanceof M))return new M(h);let g=this instanceof _r();this._readableState=new Et(h,this,g),h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy),typeof h.construct=="function"&&(this._construct=h.construct),h.signal&&!g&&C(h.signal,this)),k.call(this,h),D.construct(this,()=>{this._readableState.needReadable&&et(this,this._readableState)})}M.prototype.destroy=D.destroy,M.prototype._undestroy=D.undestroy,M.prototype._destroy=function(h,g){g(h)},M.prototype[_.captureRejectionSymbol]=function(h){this.destroy(h)},M.prototype.push=function(h,g){return ct(this,h,g,!1)},M.prototype.unshift=function(h,g){return ct(this,h,g,!0)};function ct(h,g,B,W){q("readableAddChunk",g);let O=h._readableState,wt;if(O.objectMode||(typeof g=="string"?(B=B||O.defaultEncoding,O.encoding!==B&&(W&&O.encoding?g=Y.from(g,B).toString(O.encoding):(g=Y.from(g,B),B=""))):g instanceof Y?B="":k._isUint8Array(g)?(g=k._uint8ArrayToBuffer(g),B=""):g!=null&&(wt=new $("chunk",["string","Buffer","Uint8Array"],g))),wt)gt(h,wt);else if(g===null)O.reading=!1,I(h,O);else if(O.objectMode||g&&g.length>0)if(W)if(O.endEmitted)gt(h,new dt);else{if(O.destroyed||O.errored)return!1;kt(h,O,g,!0)}else if(O.ended)gt(h,new V);else{if(O.destroyed||O.errored)return!1;O.reading=!1,O.decoder&&!B?(g=O.decoder.write(g),O.objectMode||g.length!==0?kt(h,O,g,!1):et(h,O)):kt(h,O,g,!1)}else W||(O.reading=!1,et(h,O));return!O.ended&&(O.length<O.highWaterMark||O.length===0)}function kt(h,g,B,W){g.flowing&&g.length===0&&!g.sync&&h.listenerCount("data")>0?(g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null,g.dataEmitted=!0,h.emit("data",B)):(g.length+=g.objectMode?1:B.length,W?g.buffer.unshift(B):g.buffer.push(B),g.needReadable&&U(h)),et(h,g)}M.prototype.isPaused=function(){let h=this._readableState;return h[It]===!0||h.flowing===!1},M.prototype.setEncoding=function(h){let g=new St(h);this._readableState.decoder=g,this._readableState.encoding=this._readableState.decoder.encoding;let B=this._readableState.buffer,W="";for(let O of B)W+=g.write(O);return B.clear(),W!==""&&B.push(W),this._readableState.length=W.length,this};var Nt=1073741824;function Tt(h){if(h>Nt)throw new N("size","<= 1GiB",h);return h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++,h}function L(h,g){return h<=0||g.length===0&&g.ended?0:g.objectMode?1:a(h)?g.flowing&&g.length?g.buffer.first().length:g.length:h<=g.length?h:g.ended?g.length:0}M.prototype.read=function(h){q("read",h),h===void 0?h=NaN:d(h)||(h=n(h,10));let g=this._readableState,B=h;if(h>g.highWaterMark&&(g.highWaterMark=Tt(h)),h!==0&&(g.emittedReadable=!1),h===0&&g.needReadable&&((g.highWaterMark!==0?g.length>=g.highWaterMark:g.length>0)||g.ended))return q("read: emitReadable",g.length,g.ended),g.length===0&&g.ended?A(this):U(this),null;if(h=L(h,g),h===0&&g.ended)return g.length===0&&A(this),null;let W=g.needReadable;if(q("need readable",W),(g.length===0||g.length-h<g.highWaterMark)&&(W=!0,q("length less than watermark",W)),g.ended||g.reading||g.destroyed||g.errored||!g.constructed)W=!1,q("reading, ended or constructing",W);else if(W){q("do read"),g.reading=!0,g.sync=!0,g.length===0&&(g.needReadable=!0);try{this._read(g.highWaterMark)}catch(wt){gt(this,wt)}g.sync=!1,g.reading||(h=L(B,g))}let O;return h>0?O=ot(h,g):O=null,O===null?(g.needReadable=g.length<=g.highWaterMark,h=0):(g.length-=h,g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null),g.length===0&&(g.ended||(g.needReadable=!0),B!==h&&g.ended&&A(this)),O!==null&&!g.errorEmitted&&!g.closeEmitted&&(g.dataEmitted=!0,this.emit("data",O)),O};function I(h,g){if(q("onEofChunk"),!g.ended){if(g.decoder){let B=g.decoder.end();B&&B.length&&(g.buffer.push(B),g.length+=g.objectMode?1:B.length)}g.ended=!0,g.sync?U(h):(g.needReadable=!1,g.emittedReadable=!0,st(h))}}function U(h){let g=h._readableState;q("emitReadable",g.needReadable,g.emittedReadable),g.needReadable=!1,g.emittedReadable||(q("emitReadable",g.flowing),g.emittedReadable=!0,e.nextTick(st,h))}function st(h){let g=h._readableState;q("emitReadable_",g.destroyed,g.length,g.ended),!g.destroyed&&!g.errored&&(g.length||g.ended)&&(h.emit("readable"),g.emittedReadable=!1),g.needReadable=!g.flowing&&!g.ended&&g.length<=g.highWaterMark,ft(h)}function et(h,g){!g.readingMore&&g.constructed&&(g.readingMore=!0,e.nextTick(X,h,g))}function X(h,g){for(;!g.reading&&!g.ended&&(g.length<g.highWaterMark||g.flowing&&g.length===0);){let B=g.length;if(q("maybeReadMore read 0"),h.read(0),B===g.length)break}g.readingMore=!1}M.prototype._read=function(h){throw new yt("_read()")},M.prototype.pipe=function(h,g){let B=this,W=this._readableState;W.pipes.length===1&&(W.multiAwaitDrain||(W.multiAwaitDrain=!0,W.awaitDrainWriters=new v(W.awaitDrainWriters?[W.awaitDrainWriters]:[]))),W.pipes.push(h),q("pipe count=%d opts=%j",W.pipes.length,g);let O=(!g||g.end!==!1)&&h!==e.stdout&&h!==e.stderr?Dt:te;W.endEmitted?e.nextTick(O):B.once("end",O),h.on("unpipe",wt);function wt(ee,vt){q("onunpipe"),ee===B&&vt&&vt.hasUnpiped===!1&&(vt.hasUnpiped=!0,Ut())}function Dt(){q("onend"),h.end()}let F,zt=!1;function Ut(){q("cleanup"),h.removeListener("close",Ot),h.removeListener("finish",Xt),F&&h.removeListener("drain",F),h.removeListener("error",Zt),h.removeListener("unpipe",wt),B.removeListener("end",Dt),B.removeListener("end",te),B.removeListener("data",Lt),zt=!0,F&&W.awaitDrainWriters&&(!h._writableState||h._writableState.needDrain)&&F()}function jt(){zt||(W.pipes.length===1&&W.pipes[0]===h?(q("false write response, pause",0),W.awaitDrainWriters=h,W.multiAwaitDrain=!1):W.pipes.length>1&&W.pipes.includes(h)&&(q("false write response, pause",W.awaitDrainWriters.size),W.awaitDrainWriters.add(h)),B.pause()),F||(F=at(B,h),h.on("drain",F))}B.on("data",Lt);function Lt(ee){q("ondata");let vt=h.write(ee);q("dest.write",vt),vt===!1&&jt()}function Zt(ee){if(q("onerror",ee),te(),h.removeListener("error",Zt),h.listenerCount("error")===0){let vt=h._writableState||h._readableState;vt&&!vt.errorEmitted?gt(h,ee):h.emit("error",ee)}}j(h,"error",Zt);function Ot(){h.removeListener("finish",Xt),te()}h.once("close",Ot);function Xt(){q("onfinish"),h.removeListener("close",Ot),te()}h.once("finish",Xt);function te(){q("unpipe"),B.unpipe(h)}return h.emit("pipe",B),h.writableNeedDrain===!0?W.flowing&&jt():W.flowing||(q("pipe resume"),B.resume()),h};function at(h,g){return function(){let B=h._readableState;B.awaitDrainWriters===g?(q("pipeOnDrain",1),B.awaitDrainWriters=null):B.multiAwaitDrain&&(q("pipeOnDrain",B.awaitDrainWriters.size),B.awaitDrainWriters.delete(g)),(!B.awaitDrainWriters||B.awaitDrainWriters.size===0)&&h.listenerCount("data")&&h.resume()}}M.prototype.unpipe=function(h){let g=this._readableState,B={hasUnpiped:!1};if(g.pipes.length===0)return this;if(!h){let O=g.pipes;g.pipes=[],this.pause();for(let wt=0;wt<O.length;wt++)O[wt].emit("unpipe",this,{hasUnpiped:!1});return this}let W=p(g.pipes,h);return W===-1?this:(g.pipes.splice(W,1),g.pipes.length===0&&this.pause(),h.emit("unpipe",this,B),this)},M.prototype.on=function(h,g){let B=k.prototype.on.call(this,h,g),W=this._readableState;return h==="data"?(W.readableListening=this.listenerCount("readable")>0,W.flowing!==!1&&this.resume()):h==="readable"&&!W.endEmitted&&!W.readableListening&&(W.readableListening=W.needReadable=!0,W.flowing=!1,W.emittedReadable=!1,q("on readable",W.length,W.reading),W.length?U(this):W.reading||e.nextTick(x,this)),B},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(h,g){let B=k.prototype.removeListener.call(this,h,g);return h==="readable"&&e.nextTick(ht,this),B},M.prototype.off=M.prototype.removeListener,M.prototype.removeAllListeners=function(h){let g=k.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&e.nextTick(ht,this),g};function ht(h){let g=h._readableState;g.readableListening=h.listenerCount("readable")>0,g.resumeScheduled&&g[It]===!1?g.flowing=!0:h.listenerCount("data")>0?h.resume():g.readableListening||(g.flowing=null)}function x(h){q("readable nexttick read 0"),h.read(0)}M.prototype.resume=function(){let h=this._readableState;return h.flowing||(q("resume"),h.flowing=!h.readableListening,Q(this,h)),h[It]=!1,this};function Q(h,g){g.resumeScheduled||(g.resumeScheduled=!0,e.nextTick(rt,h,g))}function rt(h,g){q("resume",g.reading),g.reading||h.read(0),g.resumeScheduled=!1,h.emit("resume"),ft(h),g.flowing&&!g.reading&&h.read(0)}M.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[It]=!0,this};function ft(h){let g=h._readableState;for(q("flow",g.flowing);g.flowing&&h.read()!==null;);}M.prototype.wrap=function(h){let g=!1;h.on("data",W=>{!this.push(W)&&h.pause&&(g=!0,h.pause())}),h.on("end",()=>{this.push(null)}),h.on("error",W=>{gt(this,W)}),h.on("close",()=>{this.destroy()}),h.on("destroy",()=>{this.destroy()}),this._read=()=>{g&&h.resume&&(g=!1,h.resume())};let B=l(h);for(let W=1;W<B.length;W++){let O=B[W];this[O]===void 0&&typeof h[O]=="function"&&(this[O]=h[O].bind(h))}return this},M.prototype[b]=function(){return mt(this)},M.prototype.iterator=function(h){return h!==void 0&&pt(h,"options"),mt(this,h)};function mt(h,g){typeof h.read!="function"&&(h=M.wrap(h,{objectMode:!0}));let B=z(h,g);return B.stream=h,B}async function*z(h,g){let B=lt;function W(Dt){this===h?(B(),B=lt):B=Dt}h.on("readable",W);let O,wt=R(h,{writable:!1},Dt=>{O=Dt?nt(O,Dt):null,B(),B=lt});try{for(;;){let Dt=h.destroyed?null:h.read();if(Dt!==null)yield Dt;else{if(O)throw O;if(O===null)return;await new m(W)}}}catch(Dt){throw O=nt(O,Dt),O}finally{(O||(g==null?void 0:g.destroyOnReturn)!==!1)&&(O===void 0||h._readableState.autoDestroy)?D.destroyer(h,null):(h.off("readable",W),wt())}}u(M.prototype,{readable:{__proto__:null,get(){let h=this._readableState;return!!h&&h.readable!==!1&&!h.destroyed&&!h.errorEmitted&&!h.endEmitted},set(h){this._readableState&&(this._readableState.readable=!!h)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(h){this._readableState&&(this._readableState.destroyed=h)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(Et.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[It]!==!1},set(h){this[It]=!!h}}}),M._fromList=ot;function ot(h,g){if(g.length===0)return null;let B;return g.objectMode?B=g.buffer.shift():!h||h>=g.length?(g.decoder?B=g.buffer.join(""):g.buffer.length===1?B=g.buffer.first():B=g.buffer.concat(g.length),g.buffer.clear()):B=g.buffer.consume(h,g.decoder),B}function A(h){let g=h._readableState;q("endReadable",g.endEmitted),g.endEmitted||(g.ended=!0,e.nextTick(H,g,h))}function H(h,g){if(q("endReadableNT",h.endEmitted,h.length),!h.errored&&!h.closeEmitted&&!h.endEmitted&&h.length===0){if(h.endEmitted=!0,g.emit("end"),g.writable&&g.allowHalfOpen===!1)e.nextTick(it,g);else if(h.autoDestroy){let B=g._writableState;(!B||B.autoDestroy&&(B.finished||B.writable===!1))&&g.destroy()}}}function it(h){h.writable&&!h.writableEnded&&!h.destroyed&&h.end()}M.from=function(h,g){return Z(M,h,g)};var bt;function f(){return bt===void 0&&(bt={}),bt}M.fromWeb=function(h,g){return f().newStreamReadableFromReadableStream(h,g)},M.toWeb=function(h,g){return f().newReadableStreamFromStreamReadable(h,g)},M.wrap=function(h,g){var B,W;return new M({objectMode:(B=(W=h.readableObjectMode)!==null&&W!==void 0?W:h.objectMode)!==null&&B!==void 0?B:!0,...g,destroy(O,wt){D.destroyer(h,O),wt(O)}}).wrap(h)}}),Ra=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Xr(),{ArrayPrototypeSlice:p,Error:d,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:n,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:m,SymbolHasInstance:v}=Me();o.exports=St,St.WritableState=pt;var{EventEmitter:b}=(ao(),de(to)),w=Gn().Stream,{Buffer:_}=(xe(),de(Ae)),k=so(),{addAbortSignal:j}=qo(),{getHighWaterMark:Y,getDefaultHighWaterMark:C}=qn(),{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_MULTIPLE_CALLBACK:tt,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:J,ERR_STREAM_NULL_VALUES:nt,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:yt}=Le().codes,{errorOrDestroy:N}=k;l(St.prototype,w.prototype),l(St,w);function V(){}var dt=m("kOnFinished");function pt(x,Q,rt){typeof rt!="boolean"&&(rt=Q instanceof _r()),this.objectMode=!!(x&&x.objectMode),rt&&(this.objectMode=this.objectMode||!!(x&&x.writableObjectMode)),this.highWaterMark=x?Y(this,x,"writableHighWaterMark",rt):C(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ft=!!(x&&x.decodeStrings===!1);this.decodeStrings=!ft,this.defaultEncoding=x&&x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,Q),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,It(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!x||x.emitClose!==!1,this.autoDestroy=!x||x.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[dt]=[]}function It(x){x.buffered=[],x.bufferedIndex=0,x.allBuffers=!0,x.allNoop=!0}pt.prototype.getBuffer=function(){return p(this.buffered,this.bufferedIndex)},n(pt.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function St(x){let Q=this instanceof _r();if(!Q&&!a(St,this))return new St(x);this._writableState=new pt(x,this,Q),x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final),typeof x.construct=="function"&&(this._construct=x.construct),x.signal&&j(x.signal,this)),w.call(this,x),k.construct(this,()=>{let rt=this._writableState;rt.writing||Tt(this,rt),st(this,rt)})}n(St,v,{__proto__:null,value:function(x){return a(this,x)?!0:this!==St?!1:x&&x._writableState instanceof pt}}),St.prototype.pipe=function(){N(this,new D)};function Z(x,Q,rt,ft){let mt=x._writableState;if(typeof rt=="function")ft=rt,rt=mt.defaultEncoding;else{if(!rt)rt=mt.defaultEncoding;else if(rt!=="buffer"&&!_.isEncoding(rt))throw new yt(rt);typeof ft!="function"&&(ft=V)}if(Q===null)throw new nt;if(!mt.objectMode)if(typeof Q=="string")mt.decodeStrings!==!1&&(Q=_.from(Q,rt),rt="buffer");else if(Q instanceof _)rt="buffer";else if(w._isUint8Array(Q))Q=w._uint8ArrayToBuffer(Q),rt="buffer";else throw new R("chunk",["string","Buffer","Uint8Array"],Q);let z;return mt.ending?z=new $:mt.destroyed&&(z=new T("write")),z?(e.nextTick(ft,z),N(x,z,!0),z):(mt.pendingcb++,lt(x,mt,Q,rt,ft))}St.prototype.write=function(x,Q,rt){return Z(this,x,Q,rt)===!0},St.prototype.cork=function(){this._writableState.corked++},St.prototype.uncork=function(){let x=this._writableState;x.corked&&(x.corked--,x.writing||Tt(this,x))},St.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=c(x)),!_.isEncoding(x))throw new yt(x);return this._writableState.defaultEncoding=x,this};function lt(x,Q,rt,ft,mt){let z=Q.objectMode?1:rt.length;Q.length+=z;let ot=Q.length<Q.highWaterMark;return ot||(Q.needDrain=!0),Q.writing||Q.corked||Q.errored||!Q.constructed?(Q.buffered.push({chunk:rt,encoding:ft,callback:mt}),Q.allBuffers&&ft!=="buffer"&&(Q.allBuffers=!1),Q.allNoop&&mt!==V&&(Q.allNoop=!1)):(Q.writelen=z,Q.writecb=mt,Q.writing=!0,Q.sync=!0,x._write(rt,ft,Q.onwrite),Q.sync=!1),ot&&!Q.errored&&!Q.destroyed}function gt(x,Q,rt,ft,mt,z,ot){Q.writelen=ft,Q.writecb=ot,Q.writing=!0,Q.sync=!0,Q.destroyed?Q.onwrite(new T("write")):rt?x._writev(mt,Q.onwrite):x._write(mt,z,Q.onwrite),Q.sync=!1}function Et(x,Q,rt,ft){--Q.pendingcb,ft(rt),Nt(Q),N(x,rt)}function M(x,Q){let rt=x._writableState,ft=rt.sync,mt=rt.writecb;if(typeof mt!="function"){N(x,new tt);return}rt.writing=!1,rt.writecb=null,rt.length-=rt.writelen,rt.writelen=0,Q?(Q.stack,rt.errored||(rt.errored=Q),x._readableState&&!x._readableState.errored&&(x._readableState.errored=Q),ft?e.nextTick(Et,x,rt,Q,mt):Et(x,rt,Q,mt)):(rt.buffered.length>rt.bufferedIndex&&Tt(x,rt),ft?rt.afterWriteTickInfo!==null&&rt.afterWriteTickInfo.cb===mt?rt.afterWriteTickInfo.count++:(rt.afterWriteTickInfo={count:1,cb:mt,stream:x,state:rt},e.nextTick(ct,rt.afterWriteTickInfo)):kt(x,rt,1,mt))}function ct({stream:x,state:Q,count:rt,cb:ft}){return Q.afterWriteTickInfo=null,kt(x,Q,rt,ft)}function kt(x,Q,rt,ft){for(!Q.ending&&!x.destroyed&&Q.length===0&&Q.needDrain&&(Q.needDrain=!1,x.emit("drain"));rt-- >0;)Q.pendingcb--,ft();Q.destroyed&&Nt(Q),st(x,Q)}function Nt(x){if(x.writing)return;for(let mt=x.bufferedIndex;mt<x.buffered.length;++mt){var Q;let{chunk:z,callback:ot}=x.buffered[mt],A=x.objectMode?1:z.length;x.length-=A,ot((Q=x.errored)!==null&&Q!==void 0?Q:new T("write"))}let rt=x[dt].splice(0);for(let mt=0;mt<rt.length;mt++){var ft;rt[mt]((ft=x.errored)!==null&&ft!==void 0?ft:new T("end"))}It(x)}function Tt(x,Q){if(Q.corked||Q.bufferProcessing||Q.destroyed||!Q.constructed)return;let{buffered:rt,bufferedIndex:ft,objectMode:mt}=Q,z=rt.length-ft;if(!z)return;let ot=ft;if(Q.bufferProcessing=!0,z>1&&x._writev){Q.pendingcb-=z-1;let A=Q.allNoop?V:it=>{for(let bt=ot;bt<rt.length;++bt)rt[bt].callback(it)},H=Q.allNoop&&ot===0?rt:p(rt,ot);H.allBuffers=Q.allBuffers,gt(x,Q,!0,Q.length,H,"",A),It(Q)}else{do{let{chunk:A,encoding:H,callback:it}=rt[ot];rt[ot++]=null;let bt=mt?1:A.length;gt(x,Q,!1,bt,A,H,it)}while(ot<rt.length&&!Q.writing);ot===rt.length?It(Q):ot>256?(rt.splice(0,ot),Q.bufferedIndex=0):Q.bufferedIndex=ot}Q.bufferProcessing=!1}St.prototype._write=function(x,Q,rt){if(this._writev)this._writev([{chunk:x,encoding:Q}],rt);else throw new q("_write()")},St.prototype._writev=null,St.prototype.end=function(x,Q,rt){let ft=this._writableState;typeof x=="function"?(rt=x,x=null,Q=null):typeof Q=="function"&&(rt=Q,Q=null);let mt;if(x!=null){let z=Z(this,x,Q);z instanceof d&&(mt=z)}return ft.corked&&(ft.corked=1,this.uncork()),mt||(!ft.errored&&!ft.ending?(ft.ending=!0,st(this,ft,!0),ft.ended=!0):ft.finished?mt=new J("end"):ft.destroyed&&(mt=new T("end"))),typeof rt=="function"&&(mt||ft.finished?e.nextTick(rt,mt):ft[dt].push(rt)),this};function L(x){return x.ending&&!x.destroyed&&x.constructed&&x.length===0&&!x.errored&&x.buffered.length===0&&!x.finished&&!x.writing&&!x.errorEmitted&&!x.closeEmitted}function I(x,Q){let rt=!1;function ft(mt){if(rt){N(x,mt??tt());return}if(rt=!0,Q.pendingcb--,mt){let z=Q[dt].splice(0);for(let ot=0;ot<z.length;ot++)z[ot](mt);N(x,mt,Q.sync)}else L(Q)&&(Q.prefinished=!0,x.emit("prefinish"),Q.pendingcb++,e.nextTick(et,x,Q))}Q.sync=!0,Q.pendingcb++;try{x._final(ft)}catch(mt){ft(mt)}Q.sync=!1}function U(x,Q){!Q.prefinished&&!Q.finalCalled&&(typeof x._final=="function"&&!Q.destroyed?(Q.finalCalled=!0,I(x,Q)):(Q.prefinished=!0,x.emit("prefinish")))}function st(x,Q,rt){L(Q)&&(U(x,Q),Q.pendingcb===0&&(rt?(Q.pendingcb++,e.nextTick((ft,mt)=>{L(mt)?et(ft,mt):mt.pendingcb--},x,Q)):L(Q)&&(Q.pendingcb++,et(x,Q))))}function et(x,Q){Q.pendingcb--,Q.finished=!0;let rt=Q[dt].splice(0);for(let ft=0;ft<rt.length;ft++)rt[ft]();if(x.emit("finish"),Q.autoDestroy){let ft=x._readableState;(!ft||ft.autoDestroy&&(ft.endEmitted||ft.readable===!1))&&x.destroy()}}u(St.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(x){this._writableState&&(this._writableState.destroyed=x)}},writable:{__proto__:null,get(){let x=this._writableState;return!!x&&x.writable!==!1&&!x.destroyed&&!x.errored&&!x.ending&&!x.ended},set(x){this._writableState&&(this._writableState.writable=!!x)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let x=this._writableState;return x?!x.destroyed&&!x.ending&&x.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var X=k.destroy;St.prototype.destroy=function(x,Q){let rt=this._writableState;return!rt.destroyed&&(rt.bufferedIndex<rt.buffered.length||rt[dt].length)&&e.nextTick(Nt,rt),X.call(this,x,Q),this},St.prototype._undestroy=k.undestroy,St.prototype._destroy=function(x,Q){Q(x)},St.prototype[b.captureRejectionSymbol]=function(x){this.destroy(x)};var at;function ht(){return at===void 0&&(at={}),at}St.fromWeb=function(x,Q){return ht().newStreamWritableFromWritableStream(x,Q)},St.toWeb=function(x){return ht().newWritableStreamFromStreamWritable(x)}}),mu=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Xr(),p=(xe(),de(Ae)),{isReadable:d,isWritable:a,isIterable:n,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:m}=Sr(),v=Pr(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:w,ERR_INVALID_RETURN_VALUE:_}}=Le(),{destroyer:k}=so(),j=_r(),Y=Ko(),{createDeferredPromise:C}=wr(),R=Ba(),q=globalThis.Blob||p.Blob,tt=typeof q<"u"?function(yt){return yt instanceof q}:function(yt){return!1},D=globalThis.AbortController||Hn().AbortController,{FunctionPrototypeCall:T}=Me(),J=class extends j{constructor(yt){super(yt),(yt==null?void 0:yt.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(yt==null?void 0:yt.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};o.exports=function yt(N,V){if(m(N))return N;if(l(N))return $({readable:N});if(c(N))return $({writable:N});if(u(N))return $({writable:!1,readable:!1});if(typeof N=="function"){let{value:pt,write:It,final:St,destroy:Z}=nt(N);if(n(pt))return R(J,pt,{objectMode:!0,write:It,final:St,destroy:Z});let lt=pt==null?void 0:pt.then;if(typeof lt=="function"){let gt,Et=T(lt,pt,M=>{if(M!=null)throw new _("nully","body",M)},M=>{k(gt,M)});return gt=new J({objectMode:!0,readable:!1,write:It,final(M){St(async()=>{try{await Et,e.nextTick(M,null)}catch(ct){e.nextTick(M,ct)}})},destroy:Z})}throw new _("Iterable, AsyncIterable or AsyncFunction",V,pt)}if(tt(N))return yt(N.arrayBuffer());if(n(N))return R(J,N,{objectMode:!0,writable:!1});if(typeof(N==null?void 0:N.writable)=="object"||typeof(N==null?void 0:N.readable)=="object"){let pt=N!=null&&N.readable?l(N==null?void 0:N.readable)?N==null?void 0:N.readable:yt(N.readable):void 0,It=N!=null&&N.writable?c(N==null?void 0:N.writable)?N==null?void 0:N.writable:yt(N.writable):void 0;return $({readable:pt,writable:It})}let dt=N==null?void 0:N.then;if(typeof dt=="function"){let pt;return T(dt,N,It=>{It!=null&&pt.push(It),pt.push(null)},It=>{k(pt,It)}),pt=new J({objectMode:!0,writable:!1,read(){}})}throw new w(V,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],N)};function nt(yt){let{promise:N,resolve:V}=C(),dt=new D,pt=dt.signal;return{value:yt(async function*(){for(;;){let It=N;N=null;let{chunk:St,done:Z,cb:lt}=await It;if(e.nextTick(lt),Z)return;if(pt.aborted)throw new b(void 0,{cause:pt.reason});({promise:N,resolve:V}=C()),yield St}}(),{signal:pt}),write(It,St,Z){let lt=V;V=null,lt({chunk:It,done:!1,cb:Z})},final(It){let St=V;V=null,St({done:!0,cb:It})},destroy(It,St){dt.abort(),St(It)}}}function $(yt){let N=yt.readable&&typeof yt.readable.read!="function"?Y.wrap(yt.readable):yt.readable,V=yt.writable,dt=!!d(N),pt=!!a(V),It,St,Z,lt,gt;function Et(M){let ct=lt;lt=null,ct?ct(M):M&&gt.destroy(M)}return gt=new J({readableObjectMode:!!(N!=null&&N.readableObjectMode),writableObjectMode:!!(V!=null&&V.writableObjectMode),readable:dt,writable:pt}),pt&&(v(V,M=>{pt=!1,M&&k(N,M),Et(M)}),gt._write=function(M,ct,kt){V.write(M,ct)?kt():It=kt},gt._final=function(M){V.end(),St=M},V.on("drain",function(){if(It){let M=It;It=null,M()}}),V.on("finish",function(){if(St){let M=St;St=null,M()}})),dt&&(v(N,M=>{dt=!1,M&&k(N,M),Et(M)}),N.on("readable",function(){if(Z){let M=Z;Z=null,M()}}),N.on("end",function(){gt.push(null)}),gt._read=function(){for(;;){let M=N.read();if(M===null){Z=gt._read;return}if(!gt.push(M))return}}),gt._destroy=function(M,ct){!M&&lt!==null&&(M=new b),Z=null,It=null,St=null,lt===null?ct(M):(lt=ct,k(V,M),k(N,M))},gt}}),_r=Wt((t,o)=>{Bt(),Pt(),Rt();var{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:p,ObjectKeys:d,ObjectSetPrototypeOf:a}=Me();o.exports=l;var n=Ko(),u=Ra();a(l.prototype,n.prototype),a(l,n);{let b=d(u.prototype);for(let w=0;w<b.length;w++){let _=b[w];l.prototype[_]||(l.prototype[_]=u.prototype[_])}}function l(b){if(!(this instanceof l))return new l(b);n.call(this,b),u.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(l.prototype,{writable:{__proto__:null,...p(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...p(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...p(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...p(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...p(u.prototype,"writableLength")},writableFinished:{__proto__:null,...p(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...p(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...p(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...p(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});var c;function m(){return c===void 0&&(c={}),c}l.fromWeb=function(b,w){return m().newStreamDuplexFromReadableWritablePair(b,w)},l.toWeb=function(b){return m().newReadableWritablePairFromDuplex(b)};var v;l.from=function(b){return v||(v=mu()),v(b,"body")}}),Pa=Wt((t,o)=>{Bt(),Pt(),Rt();var{ObjectSetPrototypeOf:e,Symbol:p}=Me();o.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:d}=Le().codes,a=_r(),{getHighWaterMark:n}=qn();e(l.prototype,a.prototype),e(l,a);var u=p("kCallback");function l(v){if(!(this instanceof l))return new l(v);let b=v?n(this,v,"readableHighWaterMark",!0):null;b===0&&(v={...v,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:v.writableHighWaterMark||0}),a.call(this,v),this._readableState.sync=!1,this[u]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",m)}function c(v){typeof this._flush=="function"&&!this.destroyed?this._flush((b,w)=>{if(b){v?v(b):this.destroy(b);return}w!=null&&this.push(w),this.push(null),v&&v()}):(this.push(null),v&&v())}function m(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(v,b,w){throw new d("_transform()")},l.prototype._write=function(v,b,w){let _=this._readableState,k=this._writableState,j=_.length;this._transform(v,b,(Y,C)=>{if(Y){w(Y);return}C!=null&&this.push(C),k.ended||j===_.length||_.length<_.highWaterMark?w():this[u]=w})},l.prototype._read=function(){if(this[u]){let v=this[u];this[u]=null,v()}}}),Ca=Wt((t,o)=>{Bt(),Pt(),Rt();var{ObjectSetPrototypeOf:e}=Me();o.exports=d;var p=Pa();e(d.prototype,p.prototype),e(d,p);function d(a){if(!(this instanceof d))return new d(a);p.call(this,a)}d.prototype._transform=function(a,n,u){u(null,a)}}),Jn=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Xr(),{ArrayIsArray:p,Promise:d,SymbolAsyncIterator:a}=Me(),n=Pr(),{once:u}=wr(),l=so(),c=_r(),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:k},AbortError:j}=Le(),{validateFunction:Y,validateAbortSignal:C}=Go(),{isIterable:R,isReadable:q,isReadableNodeStream:tt,isNodeStream:D,isTransformStream:T,isWebStream:J,isReadableStream:nt,isReadableEnded:$}=Sr(),yt=globalThis.AbortController||Hn().AbortController,N,V;function dt(ct,kt,Nt){let Tt=!1;ct.on("close",()=>{Tt=!0});let L=n(ct,{readable:kt,writable:Nt},I=>{Tt=!I});return{destroy:I=>{Tt||(Tt=!0,l.destroyer(ct,I||new _("pipe")))},cleanup:L}}function pt(ct){return Y(ct[ct.length-1],"streams[stream.length - 1]"),ct.pop()}function It(ct){if(R(ct))return ct;if(tt(ct))return St(ct);throw new v("val",["Readable","Iterable","AsyncIterable"],ct)}async function*St(ct){V||(V=Ko()),yield*V.prototype[a].call(ct)}async function Z(ct,kt,Nt,{end:Tt}){let L,I=null,U=X=>{if(X&&(L=X),I){let at=I;I=null,at()}},st=()=>new d((X,at)=>{L?at(L):I=()=>{L?at(L):X()}});kt.on("drain",U);let et=n(kt,{readable:!1},U);try{kt.writableNeedDrain&&await st();for await(let X of ct)kt.write(X)||await st();Tt&&kt.end(),await st(),Nt()}catch(X){Nt(L!==X?m(L,X):X)}finally{et(),kt.off("drain",U)}}async function lt(ct,kt,Nt,{end:Tt}){T(kt)&&(kt=kt.writable);let L=kt.getWriter();try{for await(let I of ct)await L.ready,L.write(I).catch(()=>{});await L.ready,Tt&&await L.close(),Nt()}catch(I){try{await L.abort(I),Nt(I)}catch(U){Nt(U)}}}function gt(...ct){return Et(ct,u(pt(ct)))}function Et(ct,kt,Nt){if(ct.length===1&&p(ct[0])&&(ct=ct[0]),ct.length<2)throw new w("streams");let Tt=new yt,L=Tt.signal,I=Nt==null?void 0:Nt.signal,U=[];C(I,"options.signal");function st(){Q(new j)}I==null||I.addEventListener("abort",st);let et,X,at=[],ht=0;function x(z){Q(z,--ht===0)}function Q(z,ot){if(z&&(!et||et.code==="ERR_STREAM_PREMATURE_CLOSE")&&(et=z),!(!et&&!ot)){for(;at.length;)at.shift()(et);I==null||I.removeEventListener("abort",st),Tt.abort(),ot&&(et||U.forEach(A=>A()),e.nextTick(kt,et,X))}}let rt;for(let z=0;z<ct.length;z++){let ot=ct[z],A=z<ct.length-1,H=z>0,it=A||(Nt==null?void 0:Nt.end)!==!1,bt=z===ct.length-1;if(D(ot)){let f=function(h){h&&h.name!=="AbortError"&&h.code!=="ERR_STREAM_PREMATURE_CLOSE"&&x(h)};if(it){let{destroy:h,cleanup:g}=dt(ot,A,H);at.push(h),q(ot)&&bt&&U.push(g)}ot.on("error",f),q(ot)&&bt&&U.push(()=>{ot.removeListener("error",f)})}if(z===0)if(typeof ot=="function"){if(rt=ot({signal:L}),!R(rt))throw new b("Iterable, AsyncIterable or Stream","source",rt)}else R(ot)||tt(ot)||T(ot)?rt=ot:rt=c.from(ot);else if(typeof ot=="function"){if(T(rt)){var ft;rt=It((ft=rt)===null||ft===void 0?void 0:ft.readable)}else rt=It(rt);if(rt=ot(rt,{signal:L}),A){if(!R(rt,!0))throw new b("AsyncIterable",`transform[${z-1}]`,rt)}else{var mt;N||(N=Ca());let f=new N({objectMode:!0}),h=(mt=rt)===null||mt===void 0?void 0:mt.then;if(typeof h=="function")ht++,h.call(rt,W=>{X=W,W!=null&&f.write(W),it&&f.end(),e.nextTick(x)},W=>{f.destroy(W),e.nextTick(x,W)});else if(R(rt,!0))ht++,Z(rt,f,x,{end:it});else if(nt(rt)||T(rt)){let W=rt.readable||rt;ht++,Z(W,f,x,{end:it})}else throw new b("AsyncIterable or Promise","destination",rt);rt=f;let{destroy:g,cleanup:B}=dt(rt,!1,!0);at.push(g),bt&&U.push(B)}}else if(D(ot)){if(tt(rt)){ht+=2;let f=M(rt,ot,x,{end:it});q(ot)&&bt&&U.push(f)}else if(T(rt)||nt(rt)){let f=rt.readable||rt;ht++,Z(f,ot,x,{end:it})}else if(R(rt))ht++,Z(rt,ot,x,{end:it});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],rt);rt=ot}else if(J(ot)){if(tt(rt))ht++,lt(It(rt),ot,x,{end:it});else if(nt(rt)||R(rt))ht++,lt(rt,ot,x,{end:it});else if(T(rt))ht++,lt(rt.readable,ot,x,{end:it});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],rt);rt=ot}else rt=c.from(ot)}return(L!=null&&L.aborted||I!=null&&I.aborted)&&e.nextTick(st),rt}function M(ct,kt,Nt,{end:Tt}){let L=!1;if(kt.on("close",()=>{L||Nt(new k)}),ct.pipe(kt,{end:!1}),Tt){let I=function(){L=!0,kt.end()};$(ct)?e.nextTick(I):ct.once("end",I)}else Nt();return n(ct,{readable:!0,writable:!1},I=>{let U=ct._readableState;I&&I.code==="ERR_STREAM_PREMATURE_CLOSE"&&U&&U.ended&&!U.errored&&!U.errorEmitted?ct.once("end",Nt).once("error",Nt):Nt(I)}),n(kt,{readable:!1,writable:!0},Nt)}o.exports={pipelineImpl:Et,pipeline:gt}}),Aa=Wt((t,o)=>{Bt(),Pt(),Rt();var{pipeline:e}=Jn(),p=_r(),{destroyer:d}=so(),{isNodeStream:a,isReadable:n,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:m,isReadableStream:v}=Sr(),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:w,ERR_MISSING_ARGS:_}}=Le(),k=Pr();o.exports=function(...j){if(j.length===0)throw new _("streams");if(j.length===1)return p.from(j[0]);let Y=[...j];if(typeof j[0]=="function"&&(j[0]=p.from(j[0])),typeof j[j.length-1]=="function"){let N=j.length-1;j[N]=p.from(j[N])}for(let N=0;N<j.length;++N)if(!(!a(j[N])&&!l(j[N]))){if(N<j.length-1&&!(n(j[N])||v(j[N])||c(j[N])))throw new w(`streams[${N}]`,Y[N],"must be readable");if(N>0&&!(u(j[N])||m(j[N])||c(j[N])))throw new w(`streams[${N}]`,Y[N],"must be writable")}let C,R,q,tt,D;function T(N){let V=tt;tt=null,V?V(N):N?D.destroy(N):!yt&&!$&&D.destroy()}let J=j[0],nt=e(j,T),$=!!(u(J)||m(J)||c(J)),yt=!!(n(nt)||v(nt)||c(nt));if(D=new p({writableObjectMode:!!(J!=null&&J.writableObjectMode),readableObjectMode:!!(nt!=null&&nt.writableObjectMode),writable:$,readable:yt}),$){if(a(J))D._write=function(V,dt,pt){J.write(V,dt)?pt():C=pt},D._final=function(V){J.end(),R=V},J.on("drain",function(){if(C){let V=C;C=null,V()}});else if(l(J)){let V=(c(J)?J.writable:J).getWriter();D._write=async function(dt,pt,It){try{await V.ready,V.write(dt).catch(()=>{}),It()}catch(St){It(St)}},D._final=async function(dt){try{await V.ready,V.close().catch(()=>{}),R=dt}catch(pt){dt(pt)}}}let N=c(nt)?nt.readable:nt;k(N,()=>{if(R){let V=R;R=null,V()}})}if(yt){if(a(nt))nt.on("readable",function(){if(q){let N=q;q=null,N()}}),nt.on("end",function(){D.push(null)}),D._read=function(){for(;;){let N=nt.read();if(N===null){q=D._read;return}if(!D.push(N))return}};else if(l(nt)){let N=(c(nt)?nt.readable:nt).getReader();D._read=async function(){for(;;)try{let{value:V,done:dt}=await N.read();if(!D.push(V))return;if(dt){D.push(null);return}}catch{return}}}}return D._destroy=function(N,V){!N&&tt!==null&&(N=new b),q=null,C=null,R=null,tt===null?V(N):(tt=V,a(nt)&&d(nt,N))},D}}),yu=Wt((t,o)=>{Bt(),Pt(),Rt();var e=globalThis.AbortController||Hn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:p,ERR_INVALID_ARG_TYPE:d,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:n},AbortError:u}=Le(),{validateAbortSignal:l,validateInteger:c,validateObject:m}=Go(),v=Me().Symbol("kWeak"),{finished:b}=Pr(),w=Aa(),{addAbortSignalNoValidate:_}=qo(),{isWritable:k,isNodeStream:j}=Sr(),{ArrayPrototypePush:Y,MathFloor:C,Number:R,NumberIsNaN:q,Promise:tt,PromiseReject:D,PromisePrototypeThen:T,Symbol:J}=Me(),nt=J("kEmpty"),$=J("kEof");function yt(Tt,L){if(L!=null&&m(L,"options"),(L==null?void 0:L.signal)!=null&&l(L.signal,"options.signal"),j(Tt)&&!k(Tt))throw new p("stream",Tt,"must be writable");let I=w(this,Tt);return L!=null&&L.signal&&_(L.signal,I),I}function N(Tt,L){if(typeof Tt!="function")throw new d("fn",["Function","AsyncFunction"],Tt);L!=null&&m(L,"options"),(L==null?void 0:L.signal)!=null&&l(L.signal,"options.signal");let I=1;return(L==null?void 0:L.concurrency)!=null&&(I=C(L.concurrency)),c(I,"concurrency",1),(async function*(){var U,st;let et=new e,X=this,at=[],ht=et.signal,x={signal:ht},Q=()=>et.abort();L!=null&&(U=L.signal)!==null&&U!==void 0&&U.aborted&&Q(),L==null||(st=L.signal)===null||st===void 0||st.addEventListener("abort",Q);let rt,ft,mt=!1;function z(){mt=!0}async function ot(){try{for await(let it of X){var A;if(mt)return;if(ht.aborted)throw new u;try{it=Tt(it,x)}catch(bt){it=D(bt)}it!==nt&&(typeof((A=it)===null||A===void 0?void 0:A.catch)=="function"&&it.catch(z),at.push(it),rt&&(rt(),rt=null),!mt&&at.length&&at.length>=I&&await new tt(bt=>{ft=bt}))}at.push($)}catch(it){let bt=D(it);T(bt,void 0,z),at.push(bt)}finally{var H;mt=!0,rt&&(rt(),rt=null),L==null||(H=L.signal)===null||H===void 0||H.removeEventListener("abort",Q)}}ot();try{for(;;){for(;at.length>0;){let A=await at[0];if(A===$)return;if(ht.aborted)throw new u;A!==nt&&(yield A),at.shift(),ft&&(ft(),ft=null)}await new tt(A=>{rt=A})}}finally{et.abort(),mt=!0,ft&&(ft(),ft=null)}}).call(this)}function V(Tt=void 0){return Tt!=null&&m(Tt,"options"),(Tt==null?void 0:Tt.signal)!=null&&l(Tt.signal,"options.signal"),(async function*(){let L=0;for await(let U of this){var I;if(Tt!=null&&(I=Tt.signal)!==null&&I!==void 0&&I.aborted)throw new u({cause:Tt.signal.reason});yield[L++,U]}}).call(this)}async function dt(Tt,L=void 0){for await(let I of Z.call(this,Tt,L))return!0;return!1}async function pt(Tt,L=void 0){if(typeof Tt!="function")throw new d("fn",["Function","AsyncFunction"],Tt);return!await dt.call(this,async(...I)=>!await Tt(...I),L)}async function It(Tt,L){for await(let I of Z.call(this,Tt,L))return I}async function St(Tt,L){if(typeof Tt!="function")throw new d("fn",["Function","AsyncFunction"],Tt);async function I(U,st){return await Tt(U,st),nt}for await(let U of N.call(this,I,L));}function Z(Tt,L){if(typeof Tt!="function")throw new d("fn",["Function","AsyncFunction"],Tt);async function I(U,st){return await Tt(U,st)?U:nt}return N.call(this,I,L)}var lt=class extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function gt(Tt,L,I){var U;if(typeof Tt!="function")throw new d("reducer",["Function","AsyncFunction"],Tt);I!=null&&m(I,"options"),(I==null?void 0:I.signal)!=null&&l(I.signal,"options.signal");let st=arguments.length>1;if(I!=null&&(U=I.signal)!==null&&U!==void 0&&U.aborted){let x=new u(void 0,{cause:I.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(x)),x}let et=new e,X=et.signal;if(I!=null&&I.signal){let x={once:!0,[v]:this};I.signal.addEventListener("abort",()=>et.abort(),x)}let at=!1;try{for await(let x of this){var ht;if(at=!0,I!=null&&(ht=I.signal)!==null&&ht!==void 0&&ht.aborted)throw new u;st?L=await Tt(L,x,{signal:X}):(L=x,st=!0)}if(!at&&!st)throw new lt}finally{et.abort()}return L}async function Et(Tt){Tt!=null&&m(Tt,"options"),(Tt==null?void 0:Tt.signal)!=null&&l(Tt.signal,"options.signal");let L=[];for await(let U of this){var I;if(Tt!=null&&(I=Tt.signal)!==null&&I!==void 0&&I.aborted)throw new u(void 0,{cause:Tt.signal.reason});Y(L,U)}return L}function M(Tt,L){let I=N.call(this,Tt,L);return(async function*(){for await(let U of I)yield*U}).call(this)}function ct(Tt){if(Tt=R(Tt),q(Tt))return 0;if(Tt<0)throw new n("number",">= 0",Tt);return Tt}function kt(Tt,L=void 0){return L!=null&&m(L,"options"),(L==null?void 0:L.signal)!=null&&l(L.signal,"options.signal"),Tt=ct(Tt),(async function*(){var I;if(L!=null&&(I=L.signal)!==null&&I!==void 0&&I.aborted)throw new u;for await(let st of this){var U;if(L!=null&&(U=L.signal)!==null&&U!==void 0&&U.aborted)throw new u;Tt--<=0&&(yield st)}}).call(this)}function Nt(Tt,L=void 0){return L!=null&&m(L,"options"),(L==null?void 0:L.signal)!=null&&l(L.signal,"options.signal"),Tt=ct(Tt),(async function*(){var I;if(L!=null&&(I=L.signal)!==null&&I!==void 0&&I.aborted)throw new u;for await(let st of this){var U;if(L!=null&&(U=L.signal)!==null&&U!==void 0&&U.aborted)throw new u;if(Tt-- >0)yield st;else return}}).call(this)}o.exports.streamReturningOperators={asIndexedPairs:V,drop:kt,filter:Z,flatMap:M,map:N,take:Nt,compose:yt},o.exports.promiseReturningOperators={every:pt,forEach:St,reduce:gt,toArray:Et,some:dt,find:It}}),xa=Wt((t,o)=>{Bt(),Pt(),Rt();var{ArrayPrototypePop:e,Promise:p}=Me(),{isIterable:d,isNodeStream:a,isWebStream:n}=Sr(),{pipelineImpl:u}=Jn(),{finished:l}=Pr();Fa();function c(...m){return new p((v,b)=>{let w,_,k=m[m.length-1];if(k&&typeof k=="object"&&!a(k)&&!d(k)&&!n(k)){let j=e(m);w=j.signal,_=j.end}u(m,(j,Y)=>{j?b(j):v(Y)},{signal:w,end:_})})}o.exports={finished:l,pipeline:c}}),Fa=Wt((t,o)=>{Bt(),Pt(),Rt();var{Buffer:e}=(xe(),de(Ae)),{ObjectDefineProperty:p,ObjectKeys:d,ReflectApply:a}=Me(),{promisify:{custom:n}}=wr(),{streamReturningOperators:u,promiseReturningOperators:l}=yu(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=Le(),m=Aa(),{pipeline:v}=Jn(),{destroyer:b}=so(),w=Pr(),_=xa(),k=Sr(),j=o.exports=Gn().Stream;j.isDisturbed=k.isDisturbed,j.isErrored=k.isErrored,j.isReadable=k.isReadable,j.Readable=Ko();for(let C of d(u)){let R=function(...tt){if(new.target)throw c();return j.Readable.from(a(q,this,tt))},q=u[C];p(R,"name",{__proto__:null,value:q.name}),p(R,"length",{__proto__:null,value:q.length}),p(j.Readable.prototype,C,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}for(let C of d(l)){let R=function(...tt){if(new.target)throw c();return a(q,this,tt)},q=l[C];p(R,"name",{__proto__:null,value:q.name}),p(R,"length",{__proto__:null,value:q.length}),p(j.Readable.prototype,C,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}j.Writable=Ra(),j.Duplex=_r(),j.Transform=Pa(),j.PassThrough=Ca(),j.pipeline=v;var{addAbortSignal:Y}=qo();j.addAbortSignal=Y,j.finished=w,j.destroy=b,j.compose=m,p(j,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),p(v,n,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),p(w,n,{__proto__:null,enumerable:!0,get(){return _.finished}}),j.Stream=j,j._isUint8Array=function(C){return C instanceof Uint8Array},j._uint8ArrayToBuffer=function(C){return e.from(C.buffer,C.byteOffset,C.byteLength)}}),eo=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Fa(),p=xa(),d=e.Readable.destroy;o.exports=e.Readable,o.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,o.exports._isUint8Array=e._isUint8Array,o.exports.isDisturbed=e.isDisturbed,o.exports.isErrored=e.isErrored,o.exports.isReadable=e.isReadable,o.exports.Readable=e.Readable,o.exports.Writable=e.Writable,o.exports.Duplex=e.Duplex,o.exports.Transform=e.Transform,o.exports.PassThrough=e.PassThrough,o.exports.addAbortSignal=e.addAbortSignal,o.exports.finished=e.finished,o.exports.destroy=e.destroy,o.exports.destroy=d,o.exports.pipeline=e.pipeline,o.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return p}}),o.exports.Stream=e.Stream,o.exports.default=o.exports}),gu=Wt((t,o)=>{Bt(),Pt(),Rt(),typeof Object.create=="function"?o.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(e,p){if(p){e.super_=p;var d=function(){};d.prototype=p.prototype,e.prototype=new d,e.prototype.constructor=e}}}),vu=Wt((t,o)=>{Bt(),Pt(),Rt();var{Buffer:e}=(xe(),de(Ae)),p=Symbol.for("BufferList");function d(a){if(!(this instanceof d))return new d(a);d._init.call(this,a)}d._init=function(a){Object.defineProperty(this,p,{value:!0}),this._bufs=[],this.length=0,a&&this.append(a)},d.prototype._new=function(a){return new d(a)},d.prototype._offset=function(a){if(a===0)return[0,0];let n=0;for(let u=0;u<this._bufs.length;u++){let l=n+this._bufs[u].length;if(a<l||u===this._bufs.length-1)return[u,a-n];n=l}},d.prototype._reverseOffset=function(a){let n=a[0],u=a[1];for(let l=0;l<n;l++)u+=this._bufs[l].length;return u},d.prototype.get=function(a){if(a>this.length||a<0)return;let n=this._offset(a);return this._bufs[n[0]][n[1]]},d.prototype.slice=function(a,n){return typeof a=="number"&&a<0&&(a+=this.length),typeof n=="number"&&n<0&&(n+=this.length),this.copy(null,0,a,n)},d.prototype.copy=function(a,n,u,l){if((typeof u!="number"||u<0)&&(u=0),(typeof l!="number"||l>this.length)&&(l=this.length),u>=this.length||l<=0)return a||e.alloc(0);let c=!!a,m=this._offset(u),v=l-u,b=v,w=c&&n||0,_=m[1];if(u===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:e.concat(this._bufs,this.length);for(let k=0;k<this._bufs.length;k++)this._bufs[k].copy(a,w),w+=this._bufs[k].length;return a}if(b<=this._bufs[m[0]].length-_)return c?this._bufs[m[0]].copy(a,n,_,_+b):this._bufs[m[0]].slice(_,_+b);c||(a=e.allocUnsafe(v));for(let k=m[0];k<this._bufs.length;k++){let j=this._bufs[k].length-_;if(b>j)this._bufs[k].copy(a,w,_),w+=j;else{this._bufs[k].copy(a,w,_,_+b),w+=j;break}b-=j,_&&(_=0)}return a.length>w?a.slice(0,w):a},d.prototype.shallowSlice=function(a,n){if(a=a||0,n=typeof n!="number"?this.length:n,a<0&&(a+=this.length),n<0&&(n+=this.length),a===n)return this._new();let u=this._offset(a),l=this._offset(n),c=this._bufs.slice(u[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),u[1]!==0&&(c[0]=c[0].slice(u[1])),this._new(c)},d.prototype.toString=function(a,n,u){return this.slice(n,u).toString(a)},d.prototype.consume=function(a){if(a=Math.trunc(a),Number.isNaN(a)||a<=0)return this;for(;this._bufs.length;)if(a>=this._bufs[0].length)a-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(a),this.length-=a;break}return this},d.prototype.duplicate=function(){let a=this._new();for(let n=0;n<this._bufs.length;n++)a.append(this._bufs[n]);return a},d.prototype.append=function(a){if(a==null)return this;if(a.buffer)this._appendBuffer(e.from(a.buffer,a.byteOffset,a.byteLength));else if(Array.isArray(a))for(let n=0;n<a.length;n++)this.append(a[n]);else if(this._isBufferList(a))for(let n=0;n<a._bufs.length;n++)this.append(a._bufs[n]);else typeof a=="number"&&(a=a.toString()),this._appendBuffer(e.from(a));return this},d.prototype._appendBuffer=function(a){this._bufs.push(a),this.length+=a.length},d.prototype.indexOf=function(a,n,u){if(u===void 0&&typeof n=="string"&&(u=n,n=void 0),typeof a=="function"||Array.isArray(a))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof a=="number"?a=e.from([a]):typeof a=="string"?a=e.from(a,u):this._isBufferList(a)?a=a.slice():Array.isArray(a.buffer)?a=e.from(a.buffer,a.byteOffset,a.byteLength):e.isBuffer(a)||(a=e.from(a)),n=Number(n||0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),a.length===0)return n>this.length?this.length:n;let l=this._offset(n),c=l[0],m=l[1];for(;c<this._bufs.length;c++){let v=this._bufs[c];for(;m<v.length;)if(v.length-m>=a.length){let b=v.indexOf(a,m);if(b!==-1)return this._reverseOffset([c,b]);m=v.length-a.length+1}else{let b=this._reverseOffset([c,m]);if(this._match(b,a))return b;m++}m=0}return-1},d.prototype._match=function(a,n){if(this.length-a<n.length)return!1;for(let u=0;u<n.length;u++)if(this.get(a+u)!==n[u])return!1;return!0},function(){let a={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let n in a)(function(u){a[u]===null?d.prototype[u]=function(l,c){return this.slice(l,l+c)[u](0,c)}:d.prototype[u]=function(l=0){return this.slice(l,l+a[u])[u](0)}})(n)}(),d.prototype._isBufferList=function(a){return a instanceof d||d.isBufferList(a)},d.isBufferList=function(a){return a!=null&&a[p]},o.exports=d}),bu=Wt((t,o)=>{Bt(),Pt(),Rt();var e=eo().Duplex,p=gu(),d=vu();function a(n){if(!(this instanceof a))return new a(n);if(typeof n=="function"){this._callback=n;let u=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",u)}),this.on("unpipe",function(l){l.removeListener("error",u)}),n=null}d._init.call(this,n),e.call(this)}p(a,e),Object.assign(a.prototype,d.prototype),a.prototype._new=function(n){return new a(n)},a.prototype._write=function(n,u,l){this._appendBuffer(n),typeof l=="function"&&l()},a.prototype._read=function(n){if(!this.length)return this.push(null);n=Math.min(n,this.length),this.push(this.slice(0,n)),this.consume(n)},a.prototype.end=function(n){e.prototype.end.call(this,n),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(n,u){this._bufs.length=0,this.length=0,u(n)},a.prototype._isBufferList=function(n){return n instanceof a||n instanceof d||a.isBufferList(n)},a.isBufferList=d.isBufferList,o.exports=a,o.exports.BufferListStream=a,o.exports.BufferList=d}),wu=Wt((t,o)=>{Bt(),Pt(),Rt();var e=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};o.exports=e}),Wa=Wt((t,o)=>{Bt(),Pt(),Rt();var e=o.exports,{Buffer:p}=(xe(),de(Ae));e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(let a in e.requiredHeaderFlags){let n=e.requiredHeaderFlags[a];e.requiredHeaderFlagsErrors[a]="Invalid header flag bits, must be 0x"+n.toString(16)+" for "+e.types[a]+" packet"}e.codes={};for(let a in e.types){let n=e.types[a];e.codes[n]=a}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=p.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=p.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=p.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(let a in e.properties){let n=e.properties[a];e.propertiesCodes[n]=a}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function d(a){return[0,1,2].map(n=>[0,1].map(u=>[0,1].map(l=>{let c=p.alloc(1);return c.writeUInt8(e.codes[a]<<e.CMD_SHIFT|(u?e.DUP_MASK:0)|n<<e.QOS_SHIFT|l,0,!0),c})))}e.PUBLISH_HEADER=d("publish"),e.SUBSCRIBE_HEADER=d("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=d("unsubscribe"),e.ACKS={unsuback:d("unsuback"),puback:d("puback"),pubcomp:d("pubcomp"),pubrel:d("pubrel"),pubrec:d("pubrec")},e.SUBACK_HEADER=p.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=p.from([3]),e.VERSION4=p.from([4]),e.VERSION5=p.from([5]),e.VERSION131=p.from([131]),e.VERSION132=p.from([132]),e.QOS=[0,1,2].map(a=>p.from([a])),e.EMPTY={pingreq:p.from([e.codes.pingreq<<4,0]),pingresp:p.from([e.codes.pingresp<<4,0]),disconnect:p.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),_u=Wt((t,o)=>{Bt(),Pt(),Rt();var e=1e3,p=e*60,d=p*60,a=d*24,n=a*7,u=a*365.25;o.exports=function(b,w){w=w||{};var _=typeof b;if(_==="string"&&b.length>0)return l(b);if(_==="number"&&isFinite(b))return w.long?m(b):c(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function l(b){if(b=String(b),!(b.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(w){var _=parseFloat(w[1]),k=(w[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return _*u;case"weeks":case"week":case"w":return _*n;case"days":case"day":case"d":return _*a;case"hours":case"hour":case"hrs":case"hr":case"h":return _*d;case"minutes":case"minute":case"mins":case"min":case"m":return _*p;case"seconds":case"second":case"secs":case"sec":case"s":return _*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function c(b){var w=Math.abs(b);return w>=a?Math.round(b/a)+"d":w>=d?Math.round(b/d)+"h":w>=p?Math.round(b/p)+"m":w>=e?Math.round(b/e)+"s":b+"ms"}function m(b){var w=Math.abs(b);return w>=a?v(b,w,a,"day"):w>=d?v(b,w,d,"hour"):w>=p?v(b,w,p,"minute"):w>=e?v(b,w,e,"second"):b+" ms"}function v(b,w,_,k){var j=w>=_*1.5;return Math.round(b/_)+" "+k+(j?"s":"")}}),Eu=Wt((t,o)=>{Bt(),Pt(),Rt();function e(p){a.debug=a,a.default=a,a.coerce=v,a.disable=l,a.enable=u,a.enabled=c,a.humanize=_u(),a.destroy=b,Object.keys(p).forEach(w=>{a[w]=p[w]}),a.names=[],a.skips=[],a.formatters={};function d(w){let _=0;for(let k=0;k<w.length;k++)_=(_<<5)-_+w.charCodeAt(k),_|=0;return a.colors[Math.abs(_)%a.colors.length]}a.selectColor=d;function a(w){let _,k=null,j,Y;function C(...R){if(!C.enabled)return;let q=C,tt=Number(new Date),D=tt-(_||tt);q.diff=D,q.prev=_,q.curr=tt,_=tt,R[0]=a.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let T=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(J,nt)=>{if(J==="%%")return"%";T++;let $=a.formatters[nt];if(typeof $=="function"){let yt=R[T];J=$.call(q,yt),R.splice(T,1),T--}return J}),a.formatArgs.call(q,R),(q.log||a.log).apply(q,R)}return C.namespace=w,C.useColors=a.useColors(),C.color=a.selectColor(w),C.extend=n,C.destroy=a.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>k!==null?k:(j!==a.namespaces&&(j=a.namespaces,Y=a.enabled(w)),Y),set:R=>{k=R}}),typeof a.init=="function"&&a.init(C),C}function n(w,_){let k=a(this.namespace+(typeof _>"u"?":":_)+w);return k.log=this.log,k}function u(w){a.save(w),a.namespaces=w,a.names=[],a.skips=[];let _,k=(typeof w=="string"?w:"").split(/[\s,]+/),j=k.length;for(_=0;_<j;_++)k[_]&&(w=k[_].replace(/\*/g,".*?"),w[0]==="-"?a.skips.push(new RegExp("^"+w.slice(1)+"$")):a.names.push(new RegExp("^"+w+"$")))}function l(){let w=[...a.names.map(m),...a.skips.map(m).map(_=>"-"+_)].join(",");return a.enable(""),w}function c(w){if(w[w.length-1]==="*")return!0;let _,k;for(_=0,k=a.skips.length;_<k;_++)if(a.skips[_].test(w))return!1;for(_=0,k=a.names.length;_<k;_++)if(a.names[_].test(w))return!0;return!1}function m(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}function v(w){return w instanceof Error?w.stack||w.message:w}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}o.exports=e}),Er=Wt((t,o)=>{Bt(),Pt(),Rt(),t.formatArgs=p,t.save=d,t.load=a,t.useColors=e,t.storage=n(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let m=0,v=0;l[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(m++,b==="%c"&&(v=m))}),l.splice(v,0,c)}t.log=console.debug||console.log||(()=>{});function d(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function a(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof ae<"u"&&"env"in ae&&(l=ae.env.DEBUG),l}function n(){try{return localStorage}catch{}}o.exports=Eu()(t);var{formatters:u}=o.exports;u.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),Su=Wt((t,o)=>{Bt(),Pt(),Rt();var e=bu(),{EventEmitter:p}=(ao(),de(to)),d=wu(),a=Wa(),n=Er()("mqtt-packet:parser"),u=class In extends p{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof In?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new In().parser(c)}_resetState(){n("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new d,this.error=null,this._list=e(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),n("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,n("parse: state complete. _stateCounter is now: %d",this._stateCounter),n("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return n("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),m=c>>a.CMD_SHIFT;this.packet.cmd=a.types[m];let v=c&15,b=a.requiredHeaderFlags[m];return b!=null&&v!==b?this._emitError(new Error(a.requiredHeaderFlagsErrors[m])):(this.packet.retain=(c&a.RETAIN_MASK)!==0,this.packet.qos=c>>a.QOS_SHIFT&a.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&a.DUP_MASK)!==0,n("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),n("_parseLength %d",c.value),!!c}_parsePayload(){n("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return n("_parsePayload complete result: %s",c),c}_parseConnect(){n("_parseConnect");let c,m,v,b,w={},_=this.packet,k=this._parseString();if(k===null)return this._emitError(new Error("Cannot parse protocolId"));if(k!=="MQTT"&&k!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(_.protocolId=k,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(_.protocolVersion=this._list.readUInt8(this._pos),_.protocolVersion>=128&&(_.bridgeMode=!0,_.protocolVersion=_.protocolVersion-128),_.protocolVersion!==3&&_.protocolVersion!==4&&_.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));w.username=this._list.readUInt8(this._pos)&a.USERNAME_MASK,w.password=this._list.readUInt8(this._pos)&a.PASSWORD_MASK,w.will=this._list.readUInt8(this._pos)&a.WILL_FLAG_MASK;let j=!!(this._list.readUInt8(this._pos)&a.WILL_RETAIN_MASK),Y=(this._list.readUInt8(this._pos)&a.WILL_QOS_MASK)>>a.WILL_QOS_SHIFT;if(w.will)_.will={},_.will.retain=j,_.will.qos=Y;else{if(j)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(Y)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(_.clean=(this._list.readUInt8(this._pos)&a.CLEAN_SESSION_MASK)!==0,this._pos++,_.keepalive=this._parseNum(),_.keepalive===-1)return this._emitError(new Error("Packet too short"));if(_.protocolVersion===5){let R=this._parseProperties();Object.getOwnPropertyNames(R).length&&(_.properties=R)}let C=this._parseString();if(C===null)return this._emitError(new Error("Packet too short"));if(_.clientId=C,n("_parseConnect: packet.clientId: %s",_.clientId),w.will){if(_.protocolVersion===5){let R=this._parseProperties();Object.getOwnPropertyNames(R).length&&(_.will.properties=R)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(_.will.topic=c,n("_parseConnect: packet.will.topic: %s",_.will.topic),m=this._parseBuffer(),m===null)return this._emitError(new Error("Cannot parse will payload"));_.will.payload=m,n("_parseConnect: packet.will.paylaod: %s",_.will.payload)}if(w.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));_.username=b,n("_parseConnect: packet.username: %s",_.username)}if(w.password){if(v=this._parseBuffer(),v===null)return this._emitError(new Error("Cannot parse password"));_.password=v}return this.settings=_,n("_parseConnect: complete"),_}_parseConnack(){n("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let m=this._list.readUInt8(this._pos++);if(m>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(m&a.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(c.properties=v)}n("_parseConnack: complete")}_parsePublish(){n("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}c.payload=this._list.slice(this._pos,c.length),n("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){n("_parseSubscribe");let c=this.packet,m,v,b,w,_,k,j;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let Y=this._parseProperties();Object.getOwnPropertyNames(Y).length&&(c.properties=Y)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(v=this._parseByte(),this.settings.protocolVersion===5){if(v&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(v&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=v&a.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(k=(v>>a.SUBSCRIBE_OPTIONS_NL_SHIFT&a.SUBSCRIBE_OPTIONS_NL_MASK)!==0,_=(v>>a.SUBSCRIBE_OPTIONS_RAP_SHIFT&a.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,w=v>>a.SUBSCRIBE_OPTIONS_RH_SHIFT&a.SUBSCRIBE_OPTIONS_RH_MASK,w>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));j={topic:m,qos:b},this.settings.protocolVersion===5?(j.nl=k,j.rap=_,j.rh=w):this.settings.bridgeMode&&(j.rh=0,j.rap=!0,j.nl=!0),n("_parseSubscribe: push subscription `%s` to subscription",j),c.subscriptions.push(j)}}}_parseSuback(){n("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let m=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!a.MQTT5_SUBACK_CODES[m])return this._emitError(new Error("Invalid suback code"))}else if(m>2&&m!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(m)}}}_parseUnsubscribe(){n("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let m=this._parseString();if(m===null)return this._emitError(new Error("Cannot parse topic"));n("_parseUnsubscribe: push topic `%s` to unsubscriptions",m),c.unsubscriptions.push(m)}}}_parseUnsuback(){n("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let m=this._parseProperties();for(Object.getOwnPropertyNames(m).length&&(c.properties=m),c.granted=[];this._pos<this.packet.length;){let v=this._list.readUInt8(this._pos++);if(!a.MQTT5_UNSUBACK_CODES[v])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(v)}}}_parseConfirmation(){n("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!a.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!a.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}n("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}}return!0}_parseDisconnect(){let c=this.packet;if(n("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),a.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}return n("_parseDisconnect result: true"),!0}_parseAuth(){n("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!a.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let m=this._parseProperties();return Object.getOwnPropertyNames(m).length&&(c.properties=m),n("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(n("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let m=this._parseNum(),v=m+this._pos;if(m===-1||v>this._list.length||v>this.packet.length)return null;let b=this._list.toString("utf8",this._pos,v);return this._pos+=m,n("_parseString: result: %s",b),b}_parseStringPair(){return n("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),m=c+this._pos;if(c===-1||m>this._list.length||m>this.packet.length)return null;let v=this._list.slice(this._pos,m);return this._pos+=c,n("_parseBuffer: result: %o",v),v}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,n("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,n("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){n("_parseVarByteNum");let m=4,v=0,b=1,w=0,_=!1,k,j=this._pos?this._pos:0;for(;v<m&&j+v<this._list.length;){if(k=this._list.readUInt8(j+v++),w+=b*(k&a.VARBYTEINT_MASK),b*=128,!(k&a.VARBYTEINT_FIN_MASK)){_=!0;break}if(this._list.length<=v)break}return!_&&v===m&&this._list.length>=v&&this._emitError(new Error("Invalid variable byte integer")),j&&(this._pos+=v),_?c?_={bytes:v,value:w}:_=w:_=!1,n("_parseVarByteNum: result: %o",_),_}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),n("_parseByte: result: %o",c),c}_parseByType(c){switch(n("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){n("_parseProperties");let c=this._parseVarByteNum(),m=this._pos+c,v={};for(;this._pos<m;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let w=a.propertiesCodes[b];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){v[w]||(v[w]=Object.create(null));let _=this._parseByType(a.propertiesTypes[w]);if(v[w][_.name])if(Array.isArray(v[w][_.name]))v[w][_.name].push(_.value);else{let k=v[w][_.name];v[w][_.name]=[k],v[w][_.name].push(_.value)}else v[w][_.name]=_.value;continue}v[w]?Array.isArray(v[w])?v[w].push(this._parseByType(a.propertiesTypes[w])):(v[w]=[v[w]],v[w].push(this._parseByType(a.propertiesTypes[w]))):v[w]=this._parseByType(a.propertiesTypes[w])}return v}_newPacket(){return n("_newPacket"),this.packet&&(this._list.consume(this.packet.length),n("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),n("_newPacket: new packet"),this.packet=new d,this._pos=0,!0}_emitError(c){n("_emitError",c),this.error=c,this.emit("error",c)}};o.exports=u}),Tu=Wt((t,o)=>{Bt(),Pt(),Rt();var{Buffer:e}=(xe(),de(Ae)),p=65536,d={},a=e.isBuffer(e.from([1,2]).subarray(0,1));function n(m){let v=e.allocUnsafe(2);return v.writeUInt8(m>>8,0),v.writeUInt8(m&255,1),v}function u(){for(let m=0;m<p;m++)d[m]=n(m)}function l(m){let v=0,b=0,w=e.allocUnsafe(4);do v=m%128|0,m=m/128|0,m>0&&(v=v|128),w.writeUInt8(v,b++);while(m>0&&b<4);return m>0&&(b=0),a?w.subarray(0,b):w.slice(0,b)}function c(m){let v=e.allocUnsafe(4);return v.writeUInt32BE(m,0),v}o.exports={cache:d,generateCache:u,generateNumber:n,genBufVariableByteInt:l,generate4ByteBuffer:c}}),Iu=Wt((t,o)=>{Bt(),Pt(),Rt(),typeof ae>"u"||!ae.version||ae.version.indexOf("v0.")===0||ae.version.indexOf("v1.")===0&&ae.version.indexOf("v1.8.")!==0?o.exports={nextTick:e}:o.exports=ae;function e(p,d,a,n){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,l,c;switch(u){case 0:case 1:return ae.nextTick(p);case 2:return ae.nextTick(function(){p.call(null,d)});case 3:return ae.nextTick(function(){p.call(null,d,a)});case 4:return ae.nextTick(function(){p.call(null,d,a,n)});default:for(l=new Array(u-1),c=0;c<l.length;)l[c++]=arguments[c];return ae.nextTick(function(){p.apply(null,l)})}}}),Na=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Wa(),{Buffer:p}=(xe(),de(Ae)),d=p.allocUnsafe(0),a=p.from([0]),n=Tu(),u=Iu().nextTick,l=Er()("mqtt-packet:writeToStream"),c=n.cache,m=n.generateNumber,v=n.generateCache,b=n.genBufVariableByteInt,w=n.generate4ByteBuffer,_=St,k=!0;function j(L,I,U){switch(l("generate called"),I.cork&&(I.cork(),u(Y,I)),k&&(k=!1,v()),l("generate: packet.cmd: %s",L.cmd),L.cmd){case"connect":return C(L,I);case"connack":return R(L,I,U);case"publish":return q(L,I,U);case"puback":case"pubrec":case"pubrel":case"pubcomp":return tt(L,I,U);case"subscribe":return D(L,I,U);case"suback":return T(L,I,U);case"unsubscribe":return J(L,I,U);case"unsuback":return nt(L,I,U);case"pingreq":case"pingresp":return $(L,I);case"disconnect":return yt(L,I,U);case"auth":return N(L,I,U);default:return I.destroy(new Error("Unknown command")),!1}}Object.defineProperty(j,"cacheNumbers",{get(){return _===St},set(L){L?((!c||Object.keys(c).length===0)&&(k=!0),_=St):(k=!1,_=Z)}});function Y(L){L.uncork()}function C(L,I,U){let st=L||{},et=st.protocolId||"MQTT",X=st.protocolVersion||4,at=st.will,ht=st.clean,x=st.keepalive||0,Q=st.clientId||"",rt=st.username,ft=st.password,mt=st.properties;ht===void 0&&(ht=!0);let z=0;if(!et||typeof et!="string"&&!p.isBuffer(et))return I.destroy(new Error("Invalid protocolId")),!1;if(z+=et.length+2,X!==3&&X!==4&&X!==5)return I.destroy(new Error("Invalid protocol version")),!1;if(z+=1,(typeof Q=="string"||p.isBuffer(Q))&&(Q||X>=4)&&(Q||ht))z+=p.byteLength(Q)+2;else{if(X<4)return I.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(ht*1===0)return I.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof x!="number"||x<0||x>65535||x%1!==0)return I.destroy(new Error("Invalid keepalive")),!1;z+=2,z+=1;let ot,A;if(X===5){if(ot=Et(I,mt),!ot)return!1;z+=ot.length}if(at){if(typeof at!="object")return I.destroy(new Error("Invalid will")),!1;if(!at.topic||typeof at.topic!="string")return I.destroy(new Error("Invalid will topic")),!1;if(z+=p.byteLength(at.topic)+2,z+=2,at.payload)if(at.payload.length>=0)typeof at.payload=="string"?z+=p.byteLength(at.payload):z+=at.payload.length;else return I.destroy(new Error("Invalid will payload")),!1;if(A={},X===5){if(A=Et(I,at.properties),!A)return!1;z+=A.length}}let H=!1;if(rt!=null)if(Tt(rt))H=!0,z+=p.byteLength(rt)+2;else return I.destroy(new Error("Invalid username")),!1;if(ft!=null){if(!H)return I.destroy(new Error("Username is required to use password")),!1;if(Tt(ft))z+=Nt(ft)+2;else return I.destroy(new Error("Invalid password")),!1}I.write(e.CONNECT_HEADER),dt(I,z),gt(I,et),st.bridgeMode&&(X+=128),I.write(X===131?e.VERSION131:X===132?e.VERSION132:X===4?e.VERSION4:X===5?e.VERSION5:e.VERSION3);let it=0;return it|=rt!=null?e.USERNAME_MASK:0,it|=ft!=null?e.PASSWORD_MASK:0,it|=at&&at.retain?e.WILL_RETAIN_MASK:0,it|=at&&at.qos?at.qos<<e.WILL_QOS_SHIFT:0,it|=at?e.WILL_FLAG_MASK:0,it|=ht?e.CLEAN_SESSION_MASK:0,I.write(p.from([it])),_(I,x),X===5&&ot.write(),gt(I,Q),at&&(X===5&&A.write(),pt(I,at.topic),gt(I,at.payload)),rt!=null&&gt(I,rt),ft!=null&&gt(I,ft),!0}function R(L,I,U){let st=U?U.protocolVersion:4,et=L||{},X=st===5?et.reasonCode:et.returnCode,at=et.properties,ht=2;if(typeof X!="number")return I.destroy(new Error("Invalid return code")),!1;let x=null;if(st===5){if(x=Et(I,at),!x)return!1;ht+=x.length}return I.write(e.CONNACK_HEADER),dt(I,ht),I.write(et.sessionPresent?e.SESSIONPRESENT_HEADER:a),I.write(p.from([X])),x==null||x.write(),!0}function q(L,I,U){l("publish: packet: %o",L);let st=U?U.protocolVersion:4,et=L||{},X=et.qos||0,at=et.retain?e.RETAIN_MASK:0,ht=et.topic,x=et.payload||d,Q=et.messageId,rt=et.properties,ft=0;if(typeof ht=="string")ft+=p.byteLength(ht)+2;else if(p.isBuffer(ht))ft+=ht.length+2;else return I.destroy(new Error("Invalid topic")),!1;if(p.isBuffer(x)?ft+=x.length:ft+=p.byteLength(x),X&&typeof Q!="number")return I.destroy(new Error("Invalid messageId")),!1;X&&(ft+=2);let mt=null;if(st===5){if(mt=Et(I,rt),!mt)return!1;ft+=mt.length}return I.write(e.PUBLISH_HEADER[X][et.dup?1:0][at?1:0]),dt(I,ft),_(I,Nt(ht)),I.write(ht),X>0&&_(I,Q),mt==null||mt.write(),l("publish: payload: %o",x),I.write(x)}function tt(L,I,U){let st=U?U.protocolVersion:4,et=L||{},X=et.cmd||"puback",at=et.messageId,ht=et.dup&&X==="pubrel"?e.DUP_MASK:0,x=0,Q=et.reasonCode,rt=et.properties,ft=st===5?3:2;if(X==="pubrel"&&(x=1),typeof at!="number")return I.destroy(new Error("Invalid messageId")),!1;let mt=null;if(st===5&&typeof rt=="object"){if(mt=M(I,rt,U,ft),!mt)return!1;ft+=mt.length}return I.write(e.ACKS[X][x][ht][0]),ft===3&&(ft+=Q!==0?1:-1),dt(I,ft),_(I,at),st===5&&ft!==2&&I.write(p.from([Q])),mt!==null?mt.write():ft===4&&I.write(p.from([0])),!0}function D(L,I,U){l("subscribe: packet: ");let st=U?U.protocolVersion:4,et=L||{},X=et.dup?e.DUP_MASK:0,at=et.messageId,ht=et.subscriptions,x=et.properties,Q=0;if(typeof at!="number")return I.destroy(new Error("Invalid messageId")),!1;Q+=2;let rt=null;if(st===5){if(rt=Et(I,x),!rt)return!1;Q+=rt.length}if(typeof ht=="object"&&ht.length)for(let mt=0;mt<ht.length;mt+=1){let z=ht[mt].topic,ot=ht[mt].qos;if(typeof z!="string")return I.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof ot!="number")return I.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(st===5){if(typeof(ht[mt].nl||!1)!="boolean")return I.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(ht[mt].rap||!1)!="boolean")return I.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let A=ht[mt].rh||0;if(typeof A!="number"||A>2)return I.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}Q+=p.byteLength(z)+2+1}else return I.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",e.SUBSCRIBE_HEADER),I.write(e.SUBSCRIBE_HEADER[1][X?1:0][0]),dt(I,Q),_(I,at),rt!==null&&rt.write();let ft=!0;for(let mt of ht){let z=mt.topic,ot=mt.qos,A=+mt.nl,H=+mt.rap,it=mt.rh,bt;pt(I,z),bt=e.SUBSCRIBE_OPTIONS_QOS[ot],st===5&&(bt|=A?e.SUBSCRIBE_OPTIONS_NL:0,bt|=H?e.SUBSCRIBE_OPTIONS_RAP:0,bt|=it?e.SUBSCRIBE_OPTIONS_RH[it]:0),ft=I.write(p.from([bt]))}return ft}function T(L,I,U){let st=U?U.protocolVersion:4,et=L||{},X=et.messageId,at=et.granted,ht=et.properties,x=0;if(typeof X!="number")return I.destroy(new Error("Invalid messageId")),!1;if(x+=2,typeof at=="object"&&at.length)for(let rt=0;rt<at.length;rt+=1){if(typeof at[rt]!="number")return I.destroy(new Error("Invalid qos vector")),!1;x+=1}else return I.destroy(new Error("Invalid qos vector")),!1;let Q=null;if(st===5){if(Q=M(I,ht,U,x),!Q)return!1;x+=Q.length}return I.write(e.SUBACK_HEADER),dt(I,x),_(I,X),Q!==null&&Q.write(),I.write(p.from(at))}function J(L,I,U){let st=U?U.protocolVersion:4,et=L||{},X=et.messageId,at=et.dup?e.DUP_MASK:0,ht=et.unsubscriptions,x=et.properties,Q=0;if(typeof X!="number")return I.destroy(new Error("Invalid messageId")),!1;if(Q+=2,typeof ht=="object"&&ht.length)for(let mt=0;mt<ht.length;mt+=1){if(typeof ht[mt]!="string")return I.destroy(new Error("Invalid unsubscriptions")),!1;Q+=p.byteLength(ht[mt])+2}else return I.destroy(new Error("Invalid unsubscriptions")),!1;let rt=null;if(st===5){if(rt=Et(I,x),!rt)return!1;Q+=rt.length}I.write(e.UNSUBSCRIBE_HEADER[1][at?1:0][0]),dt(I,Q),_(I,X),rt!==null&&rt.write();let ft=!0;for(let mt=0;mt<ht.length;mt++)ft=pt(I,ht[mt]);return ft}function nt(L,I,U){let st=U?U.protocolVersion:4,et=L||{},X=et.messageId,at=et.dup?e.DUP_MASK:0,ht=et.granted,x=et.properties,Q=et.cmd,rt=0,ft=2;if(typeof X!="number")return I.destroy(new Error("Invalid messageId")),!1;if(st===5)if(typeof ht=="object"&&ht.length)for(let z=0;z<ht.length;z+=1){if(typeof ht[z]!="number")return I.destroy(new Error("Invalid qos vector")),!1;ft+=1}else return I.destroy(new Error("Invalid qos vector")),!1;let mt=null;if(st===5){if(mt=M(I,x,U,ft),!mt)return!1;ft+=mt.length}return I.write(e.ACKS[Q][rt][at][0]),dt(I,ft),_(I,X),mt!==null&&mt.write(),st===5&&I.write(p.from(ht)),!0}function $(L,I,U){return I.write(e.EMPTY[L.cmd])}function yt(L,I,U){let st=U?U.protocolVersion:4,et=L||{},X=et.reasonCode,at=et.properties,ht=st===5?1:0,x=null;if(st===5){if(x=M(I,at,U,ht),!x)return!1;ht+=x.length}return I.write(p.from([e.codes.disconnect<<4])),dt(I,ht),st===5&&I.write(p.from([X])),x!==null&&x.write(),!0}function N(L,I,U){let st=U?U.protocolVersion:4,et=L||{},X=et.reasonCode,at=et.properties,ht=st===5?1:0;st!==5&&I.destroy(new Error("Invalid mqtt version for auth packet"));let x=M(I,at,U,ht);return x?(ht+=x.length,I.write(p.from([e.codes.auth<<4])),dt(I,ht),I.write(p.from([X])),x!==null&&x.write(),!0):!1}var V={};function dt(L,I){if(I>e.VARBYTEINT_MAX)return L.destroy(new Error(`Invalid variable byte integer: ${I}`)),!1;let U=V[I];return U||(U=b(I),I<16384&&(V[I]=U)),l("writeVarByteInt: writing to stream: %o",U),L.write(U)}function pt(L,I){let U=p.byteLength(I);return _(L,U),l("writeString: %s",I),L.write(I,"utf8")}function It(L,I,U){pt(L,I),pt(L,U)}function St(L,I){return l("writeNumberCached: number: %d",I),l("writeNumberCached: %o",c[I]),L.write(c[I])}function Z(L,I){let U=m(I);return l("writeNumberGenerated: %o",U),L.write(U)}function lt(L,I){let U=w(I);return l("write4ByteNumber: %o",U),L.write(U)}function gt(L,I){typeof I=="string"?pt(L,I):I?(_(L,I.length),L.write(I)):_(L,0)}function Et(L,I){if(typeof I!="object"||I.length!=null)return{length:1,write(){kt(L,{},0)}};let U=0;function st(et,X){let at=e.propertiesTypes[et],ht=0;switch(at){case"byte":{if(typeof X!="boolean")return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=2;break}case"int8":{if(typeof X!="number"||X<0||X>255)return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=2;break}case"binary":{if(X&&X===null)return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=1+p.byteLength(X)+2;break}case"int16":{if(typeof X!="number"||X<0||X>65535)return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=3;break}case"int32":{if(typeof X!="number"||X<0||X>4294967295)return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=5;break}case"var":{if(typeof X!="number"||X<0||X>268435455)return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=1+p.byteLength(b(X));break}case"string":{if(typeof X!="string")return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=3+p.byteLength(X.toString());break}case"pair":{if(typeof X!="object")return L.destroy(new Error(`Invalid ${et}: ${X}`)),!1;ht+=Object.getOwnPropertyNames(X).reduce((x,Q)=>{let rt=X[Q];return Array.isArray(rt)?x+=rt.reduce((ft,mt)=>(ft+=3+p.byteLength(Q.toString())+2+p.byteLength(mt.toString()),ft),0):x+=3+p.byteLength(Q.toString())+2+p.byteLength(X[Q].toString()),x},0);break}default:return L.destroy(new Error(`Invalid property ${et}: ${X}`)),!1}return ht}if(I)for(let et in I){let X=0,at=0,ht=I[et];if(Array.isArray(ht))for(let x=0;x<ht.length;x++){if(at=st(et,ht[x]),!at)return!1;X+=at}else{if(at=st(et,ht),!at)return!1;X=at}if(!X)return!1;U+=X}return{length:p.byteLength(b(U))+U,write(){kt(L,I,U)}}}function M(L,I,U,st){let et=["reasonString","userProperties"],X=U&&U.properties&&U.properties.maximumPacketSize?U.properties.maximumPacketSize:0,at=Et(L,I);if(X)for(;st+at.length>X;){let ht=et.shift();if(ht&&I[ht])delete I[ht],at=Et(L,I);else return!1}return at}function ct(L,I,U){switch(e.propertiesTypes[I]){case"byte":{L.write(p.from([e.properties[I]])),L.write(p.from([+U]));break}case"int8":{L.write(p.from([e.properties[I]])),L.write(p.from([U]));break}case"binary":{L.write(p.from([e.properties[I]])),gt(L,U);break}case"int16":{L.write(p.from([e.properties[I]])),_(L,U);break}case"int32":{L.write(p.from([e.properties[I]])),lt(L,U);break}case"var":{L.write(p.from([e.properties[I]])),dt(L,U);break}case"string":{L.write(p.from([e.properties[I]])),pt(L,U);break}case"pair":{Object.getOwnPropertyNames(U).forEach(st=>{let et=U[st];Array.isArray(et)?et.forEach(X=>{L.write(p.from([e.properties[I]])),It(L,st.toString(),X.toString())}):(L.write(p.from([e.properties[I]])),It(L,st.toString(),et.toString()))});break}default:return L.destroy(new Error(`Invalid property ${I} value: ${U}`)),!1}}function kt(L,I,U){dt(L,U);for(let st in I)if(Object.prototype.hasOwnProperty.call(I,st)&&I[st]!==null){let et=I[st];if(Array.isArray(et))for(let X=0;X<et.length;X++)ct(L,st,et[X]);else ct(L,st,et)}}function Nt(L){return L?L instanceof p?L.length:p.byteLength(L):0}function Tt(L){return typeof L=="string"||L instanceof p}o.exports=j}),ku=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Na(),{EventEmitter:p}=(ao(),de(to)),{Buffer:d}=(xe(),de(Ae));function a(u,l){let c=new n;return e(u,c,l),c.concat()}var n=class extends p{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0,l=new Array(this._array.length),c=this._array,m=0,v;for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?l[v]=c[v].length:l[v]=d.byteLength(c[v]),u+=l[v];let b=d.allocUnsafe(u);for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?(c[v].copy(b,m),m+=l[v]):(b.write(c[v],m),m+=l[v]);return b}destroy(u){u&&this.emit("error",u)}};o.exports=a}),Ou=Wt(t=>{Bt(),Pt(),Rt(),t.parser=Su().parser,t.generate=ku(),t.writeToStream=Na()}),ja=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};t.default=o}),Mu=Wt((t,o)=>{Bt(),Pt(),Rt(),o.exports=p;function e(a){return a instanceof Lo?Lo.from(a):new a.constructor(a.buffer.slice(),a.byteOffset,a.length)}function p(a){if(a=a||{},a.circles)return d(a);return a.proto?l:u;function n(c,m){for(var v=Object.keys(c),b=new Array(v.length),w=0;w<v.length;w++){var _=v[w],k=c[_];typeof k!="object"||k===null?b[_]=k:k instanceof Date?b[_]=new Date(k):ArrayBuffer.isView(k)?b[_]=e(k):b[_]=m(k)}return b}function u(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return n(c,u);if(c instanceof Map)return new Map(n(Array.from(c),u));if(c instanceof Set)return new Set(n(Array.from(c),u));var m={};for(var v in c)if(Object.hasOwnProperty.call(c,v)!==!1){var b=c[v];typeof b!="object"||b===null?m[v]=b:b instanceof Date?m[v]=new Date(b):b instanceof Map?m[v]=new Map(n(Array.from(b),u)):b instanceof Set?m[v]=new Set(n(Array.from(b),u)):ArrayBuffer.isView(b)?m[v]=e(b):m[v]=u(b)}return m}function l(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return n(c,l);if(c instanceof Map)return new Map(n(Array.from(c),l));if(c instanceof Set)return new Set(n(Array.from(c),l));var m={};for(var v in c){var b=c[v];typeof b!="object"||b===null?m[v]=b:b instanceof Date?m[v]=new Date(b):b instanceof Map?m[v]=new Map(n(Array.from(b),l)):b instanceof Set?m[v]=new Set(n(Array.from(b),l)):ArrayBuffer.isView(b)?m[v]=e(b):m[v]=l(b)}return m}}function d(a){var n=[],u=[];return a.proto?m:c;function l(v,b){for(var w=Object.keys(v),_=new Array(w.length),k=0;k<w.length;k++){var j=w[k],Y=v[j];if(typeof Y!="object"||Y===null)_[j]=Y;else if(Y instanceof Date)_[j]=new Date(Y);else if(ArrayBuffer.isView(Y))_[j]=e(Y);else{var C=n.indexOf(Y);C!==-1?_[j]=u[C]:_[j]=b(Y)}}return _}function c(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,c);if(v instanceof Map)return new Map(l(Array.from(v),c));if(v instanceof Set)return new Set(l(Array.from(v),c));var b={};n.push(v),u.push(b);for(var w in v)if(Object.hasOwnProperty.call(v,w)!==!1){var _=v[w];if(typeof _!="object"||_===null)b[w]=_;else if(_ instanceof Date)b[w]=new Date(_);else if(_ instanceof Map)b[w]=new Map(l(Array.from(_),c));else if(_ instanceof Set)b[w]=new Set(l(Array.from(_),c));else if(ArrayBuffer.isView(_))b[w]=e(_);else{var k=n.indexOf(_);k!==-1?b[w]=u[k]:b[w]=c(_)}}return n.pop(),u.pop(),b}function m(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,m);if(v instanceof Map)return new Map(l(Array.from(v),m));if(v instanceof Set)return new Set(l(Array.from(v),m));var b={};n.push(v),u.push(b);for(var w in v){var _=v[w];if(typeof _!="object"||_===null)b[w]=_;else if(_ instanceof Date)b[w]=new Date(_);else if(_ instanceof Map)b[w]=new Map(l(Array.from(_),m));else if(_ instanceof Set)b[w]=new Set(l(Array.from(_),m));else if(ArrayBuffer.isView(_))b[w]=e(_);else{var k=n.indexOf(_);k!==-1?b[w]=u[k]:b[w]=m(_)}}return n.pop(),u.pop(),b}}}),Bu=Wt((t,o)=>{Bt(),Pt(),Rt(),o.exports=Mu()()}),Ru=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopics=t.validateTopic=void 0;function o(p){let d=p.split("/");for(let a=0;a<d.length;a++)if(d[a]!=="+"){if(d[a]==="#")return a===d.length-1;if(d[a].indexOf("+")!==-1||d[a].indexOf("#")!==-1)return!1}return!0}t.validateTopic=o;function e(p){if(p.length===0)return"empty_topic_list";for(let d=0;d<p.length;d++)if(!o(p[d]))return p[d];return null}t.validateTopics=e}),Da=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=eo(),e={objectMode:!0},p={clean:!0},d=class{constructor(a){this.options=a||{},this.options=Object.assign(Object.assign({},p),a),this._inflights=new Map}put(a,n){return this._inflights.set(a.messageId,a),n&&n(),this}createStream(){let a=new o.Readable(e),n=[],u=!1,l=0;return this._inflights.forEach((c,m)=>{n.push(c)}),a._read=()=>{!u&&l<n.length?a.push(n[l++]):a.push(null)},a.destroy=c=>{if(!u)return u=!0,setTimeout(()=>{a.emit("close")},0),a},a}del(a,n){let u=this._inflights.get(a.messageId);return u?(this._inflights.delete(a.messageId),n(null,u)):n&&n(new Error("missing packet")),this}get(a,n){let u=this._inflights.get(a.messageId);return u?n(null,u):n&&n(new Error("missing packet")),this}close(a){this.options.clean&&(this._inflights=null),a&&a()}};t.default=d}),Pu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=[0,16,128,131,135,144,145,151,153],e=(p,d,a)=>{p.log("handlePublish: packet %o",d),a=typeof a<"u"?a:p.noop;let n=d.topic.toString(),u=d.payload,{qos:l}=d,{messageId:c}=d,{options:m}=p;if(p.options.protocolVersion===5){let v;if(d.properties&&(v=d.properties.topicAlias),typeof v<"u")if(n.length===0)if(v>0&&v<=65535){let b=p.topicAliasRecv.getTopicByAlias(v);if(b)n=b,p.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",n,v);else{p.log("handlePublish :: unregistered topic alias. alias: %d",v),p.emit("error",new Error("Received unregistered Topic Alias"));return}}else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}else if(p.topicAliasRecv.put(n,v))p.log("handlePublish :: registered topic: %s - alias: %d",n,v);else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(p.log("handlePublish: qos %d",l),l){case 2:{m.customHandleAcks(n,u,d,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for pubrec"));b?p._sendPacket({cmd:"pubrec",messageId:c,reasonCode:b},a):p.incomingStore.put(d,()=>{p._sendPacket({cmd:"pubrec",messageId:c},a)})});break}case 1:{m.customHandleAcks(n,u,d,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for puback"));b||p.emit("message",n,u,d),p.handleMessage(d,w=>{if(w)return a&&a(w);p._sendPacket({cmd:"puback",messageId:c,reasonCode:b},a)})});break}case 0:p.emit("message",n,u,d),p.handleMessage(d,a);break;default:p.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=e}),Cu=Wt((t,o)=>{o.exports={version:"5.10.3"}}),lo=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.applyMixin=t.ErrorWithReasonCode=void 0;var o=class La extends Error{constructor(d,a){super(d),this.code=a,Object.setPrototypeOf(this,La.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=o;function e(p,d,a=!1){var n;let u=[d];for(;;){let l=u[0],c=Object.getPrototypeOf(l);if(c!=null&&c.prototype)u.unshift(c);else break}for(let l of u)for(let c of Object.getOwnPropertyNames(l.prototype))(a||c!=="constructor")&&Object.defineProperty(p.prototype,c,(n=Object.getOwnPropertyDescriptor(l.prototype,c))!==null&&n!==void 0?n:Object.create(null))}t.applyMixin=e,t.nextTick=typeof(ae==null?void 0:ae.nextTick)=="function"?ae.nextTick:p=>{setTimeout(p,0)},t.MQTTJS_VERSION=Cu().version}),Jo=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var o=lo();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(p,d)=>{let{messageId:a}=d,n=d.cmd,u=null,l=p.outgoing[a]?p.outgoing[a].cb:null,c=null;if(!l){p.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(p.log("_handleAck :: packet type",n),n){case"pubcomp":case"puback":{let m=d.reasonCode;m&&m>0&&m!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[m]}`,m),p._removeOutgoingAndStoreMessage(a,()=>{l(c,d)})):p._removeOutgoingAndStoreMessage(a,l);break}case"pubrec":{u={cmd:"pubrel",qos:2,messageId:a};let m=d.reasonCode;m&&m>0&&m!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[m]}`,m),p._removeOutgoingAndStoreMessage(a,()=>{l(c,d)})):p._sendPacket(u);break}case"suback":{delete p.outgoing[a],p.messageIdProvider.deallocate(a);let m=d.granted;for(let v=0;v<m.length;v++){let b=m[v];if(b&128){c=new Error(`Subscribe error: ${t.ReasonCodes[b]}`),c.code=b;let w=p.messageIdToTopic[a];w&&w.forEach(_=>{delete p._resubscribeTopics[_]})}}delete p.messageIdToTopic[a],p._invokeStoreProcessingQueue(),l(c,d);break}case"unsuback":{delete p.outgoing[a],p.messageIdProvider.deallocate(a),p._invokeStoreProcessingQueue(),l(null,d);break}default:p.emit("error",new Error("unrecognized packet type"))}p.disconnecting&&Object.keys(p.outgoing).length===0&&p.emit("outgoingEmpty")};t.default=e}),Au=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=lo(),e=Jo(),p=(d,a)=>{let{options:n}=d,u=n.protocolVersion,l=u===5?a.reasonCode:a.returnCode;if(u!==5){let c=new o.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${u}`,l);d.emit("error",c);return}d.handleAuth(a,(c,m)=>{if(c){d.emit("error",c);return}if(l===24)d.reconnecting=!1,d._sendPacket(m);else{let v=new o.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[l]}`,l);d.emit("error",v)}})};t.default=p}),xu=Wt(t=>{var w,_,k,j,Y,C,R,q,tt,D,T,J,nt,$,yt,N,V,dt,pt,It,St,Z,lt,gt,Et,M,kn,kt,Nt,Tt,L,Ua,U,st,et,Mr,Br,On,xo,Fo,fe,Mn,yo,z;Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var o=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,p=typeof ae=="object"&&ae?ae:{},d=(ot,A,H,it)=>{typeof p.emitWarning=="function"?p.emitWarning(ot,A,H,it):console.error(`[${H}] ${A}: ${ot}`)},a=globalThis.AbortController,n=globalThis.AbortSignal;if(typeof a>"u"){n=class{constructor(){we(this,"onabort");we(this,"_onabort",[]);we(this,"reason");we(this,"aborted",!1)}addEventListener(H,it){this._onabort.push(it)}},a=class{constructor(){we(this,"signal",new n);A()}abort(H){var it,bt;if(!this.signal.aborted){this.signal.reason=H,this.signal.aborted=!0;for(let f of this.signal._onabort)f(H);(bt=(it=this.signal).onabort)==null||bt.call(it,H)}}};let ot=((w=p.env)==null?void 0:w.LRU_CACHE_IGNORE_AC_WARNING)!=="1",A=()=>{ot&&(ot=!1,d("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}var u=ot=>!e.has(ot),l=ot=>ot&&ot===Math.floor(ot)&&ot>0&&isFinite(ot),c=ot=>l(ot)?ot<=Math.pow(2,8)?Uint8Array:ot<=Math.pow(2,16)?Uint16Array:ot<=Math.pow(2,32)?Uint32Array:ot<=Number.MAX_SAFE_INTEGER?m:null:null,m=class extends Array{constructor(ot){super(ot),this.fill(0)}},v=(_=class{constructor(A,H){we(this,"heap");we(this,"length");if(!K(_,k))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new H(A),this.length=0}static create(A){let H=c(A);if(!H)return[];Jt(_,k,!0);let it=new _(A,H);return Jt(_,k,!1),it}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}},k=new WeakMap,ie(_,k,!1),_),b=(z=class{constructor(A){ie(this,M);ie(this,j);ie(this,Y);ie(this,C);ie(this,R);ie(this,q);we(this,"ttl");we(this,"ttlResolution");we(this,"ttlAutopurge");we(this,"updateAgeOnGet");we(this,"updateAgeOnHas");we(this,"allowStale");we(this,"noDisposeOnSet");we(this,"noUpdateTTL");we(this,"maxEntrySize");we(this,"sizeCalculation");we(this,"noDeleteOnFetchRejection");we(this,"noDeleteOnStaleGet");we(this,"allowStaleOnFetchAbort");we(this,"allowStaleOnFetchRejection");we(this,"ignoreFetchAbort");ie(this,tt);ie(this,D);ie(this,T);ie(this,J);ie(this,nt);ie(this,$);ie(this,yt);ie(this,N);ie(this,V);ie(this,dt);ie(this,pt);ie(this,It);ie(this,St);ie(this,Z);ie(this,lt);ie(this,gt);ie(this,Et);ie(this,kt,()=>{});ie(this,Nt,()=>{});ie(this,Tt,()=>{});ie(this,L,()=>!1);ie(this,U,A=>{});ie(this,st,(A,H,it)=>{});ie(this,et,(A,H,it,bt)=>{if(it||bt)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:H=0,ttl:it,ttlResolution:bt=1,ttlAutopurge:f,updateAgeOnGet:h,updateAgeOnHas:g,allowStale:B,dispose:W,disposeAfter:O,noDisposeOnSet:wt,noUpdateTTL:Dt,maxSize:F=0,maxEntrySize:zt=0,sizeCalculation:Ut,fetchMethod:jt,noDeleteOnFetchRejection:Lt,noDeleteOnStaleGet:Zt,allowStaleOnFetchRejection:Ot,allowStaleOnFetchAbort:Xt,ignoreFetchAbort:te}=A;if(H!==0&&!l(H))throw new TypeError("max option must be a nonnegative integer");let ee=H?c(H):Array;if(!ee)throw new Error("invalid max value: "+H);if(Jt(this,j,H),Jt(this,Y,F),this.maxEntrySize=zt||K(this,Y),this.sizeCalculation=Ut,this.sizeCalculation){if(!K(this,Y)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(jt!==void 0&&typeof jt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Jt(this,q,jt),Jt(this,gt,!!jt),Jt(this,T,new Map),Jt(this,J,new Array(H).fill(void 0)),Jt(this,nt,new Array(H).fill(void 0)),Jt(this,$,new ee(H)),Jt(this,yt,new ee(H)),Jt(this,N,0),Jt(this,V,0),Jt(this,dt,v.create(H)),Jt(this,tt,0),Jt(this,D,0),typeof W=="function"&&Jt(this,C,W),typeof O=="function"?(Jt(this,R,O),Jt(this,pt,[])):(Jt(this,R,void 0),Jt(this,pt,void 0)),Jt(this,lt,!!K(this,C)),Jt(this,Et,!!K(this,R)),this.noDisposeOnSet=!!wt,this.noUpdateTTL=!!Dt,this.noDeleteOnFetchRejection=!!Lt,this.allowStaleOnFetchRejection=!!Ot,this.allowStaleOnFetchAbort=!!Xt,this.ignoreFetchAbort=!!te,this.maxEntrySize!==0){if(K(this,Y)!==0&&!l(K(this,Y)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Yt(this,M,Ua).call(this)}if(this.allowStale=!!B,this.noDeleteOnStaleGet=!!Zt,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!g,this.ttlResolution=l(bt)||bt===0?bt:1,this.ttlAutopurge=!!f,this.ttl=it||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Yt(this,M,kn).call(this)}if(K(this,j)===0&&this.ttl===0&&K(this,Y)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!K(this,j)&&!K(this,Y)){let vt="LRU_CACHE_UNBOUNDED";u(vt)&&(e.add(vt),d("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",vt,z))}}static unsafeExposeInternals(A){return{starts:K(A,St),ttls:K(A,Z),sizes:K(A,It),keyMap:K(A,T),keyList:K(A,J),valList:K(A,nt),next:K(A,$),prev:K(A,yt),get head(){return K(A,N)},get tail(){return K(A,V)},free:K(A,dt),isBackgroundFetch:H=>{var it;return Yt(it=A,M,fe).call(it,H)},backgroundFetch:(H,it,bt,f)=>{var h;return Yt(h=A,M,Fo).call(h,H,it,bt,f)},moveToTail:H=>{var it;return Yt(it=A,M,yo).call(it,H)},indexes:H=>{var it;return Yt(it=A,M,Mr).call(it,H)},rindexes:H=>{var it;return Yt(it=A,M,Br).call(it,H)},isStale:H=>{var it;return K(it=A,L).call(it,H)}}}get max(){return K(this,j)}get maxSize(){return K(this,Y)}get calculatedSize(){return K(this,D)}get size(){return K(this,tt)}get fetchMethod(){return K(this,q)}get dispose(){return K(this,C)}get disposeAfter(){return K(this,R)}getRemainingTTL(A){return K(this,T).has(A)?1/0:0}*entries(){for(let A of Yt(this,M,Mr).call(this))K(this,nt)[A]!==void 0&&K(this,J)[A]!==void 0&&!Yt(this,M,fe).call(this,K(this,nt)[A])&&(yield[K(this,J)[A],K(this,nt)[A]])}*rentries(){for(let A of Yt(this,M,Br).call(this))K(this,nt)[A]!==void 0&&K(this,J)[A]!==void 0&&!Yt(this,M,fe).call(this,K(this,nt)[A])&&(yield[K(this,J)[A],K(this,nt)[A]])}*keys(){for(let A of Yt(this,M,Mr).call(this)){let H=K(this,J)[A];H!==void 0&&!Yt(this,M,fe).call(this,K(this,nt)[A])&&(yield H)}}*rkeys(){for(let A of Yt(this,M,Br).call(this)){let H=K(this,J)[A];H!==void 0&&!Yt(this,M,fe).call(this,K(this,nt)[A])&&(yield H)}}*values(){for(let A of Yt(this,M,Mr).call(this))K(this,nt)[A]!==void 0&&!Yt(this,M,fe).call(this,K(this,nt)[A])&&(yield K(this,nt)[A])}*rvalues(){for(let A of Yt(this,M,Br).call(this))K(this,nt)[A]!==void 0&&!Yt(this,M,fe).call(this,K(this,nt)[A])&&(yield K(this,nt)[A])}[Symbol.iterator](){return this.entries()}find(A,H={}){for(let it of Yt(this,M,Mr).call(this)){let bt=K(this,nt)[it],f=Yt(this,M,fe).call(this,bt)?bt.__staleWhileFetching:bt;if(f!==void 0&&A(f,K(this,J)[it],this))return this.get(K(this,J)[it],H)}}forEach(A,H=this){for(let it of Yt(this,M,Mr).call(this)){let bt=K(this,nt)[it],f=Yt(this,M,fe).call(this,bt)?bt.__staleWhileFetching:bt;f!==void 0&&A.call(H,f,K(this,J)[it],this)}}rforEach(A,H=this){for(let it of Yt(this,M,Br).call(this)){let bt=K(this,nt)[it],f=Yt(this,M,fe).call(this,bt)?bt.__staleWhileFetching:bt;f!==void 0&&A.call(H,f,K(this,J)[it],this)}}purgeStale(){let A=!1;for(let H of Yt(this,M,Br).call(this,{allowStale:!0}))K(this,L).call(this,H)&&(this.delete(K(this,J)[H]),A=!0);return A}dump(){let A=[];for(let H of Yt(this,M,Mr).call(this,{allowStale:!0})){let it=K(this,J)[H],bt=K(this,nt)[H],f=Yt(this,M,fe).call(this,bt)?bt.__staleWhileFetching:bt;if(f===void 0||it===void 0)continue;let h={value:f};if(K(this,Z)&&K(this,St)){h.ttl=K(this,Z)[H];let g=o.now()-K(this,St)[H];h.start=Math.floor(Date.now()-g)}K(this,It)&&(h.size=K(this,It)[H]),A.unshift([it,h])}return A}load(A){this.clear();for(let[H,it]of A){if(it.start){let bt=Date.now()-it.start;it.start=o.now()-bt}this.set(H,it.value,it)}}set(A,H,it={}){var Dt,F,zt,Ut,jt;if(H===void 0)return this.delete(A),this;let{ttl:bt=this.ttl,start:f,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:g=this.sizeCalculation,status:B}=it,{noUpdateTTL:W=this.noUpdateTTL}=it,O=K(this,et).call(this,A,H,it.size||0,g);if(this.maxEntrySize&&O>this.maxEntrySize)return B&&(B.set="miss",B.maxEntrySizeExceeded=!0),this.delete(A),this;let wt=K(this,tt)===0?void 0:K(this,T).get(A);if(wt===void 0)wt=K(this,tt)===0?K(this,V):K(this,dt).length!==0?K(this,dt).pop():K(this,tt)===K(this,j)?Yt(this,M,xo).call(this,!1):K(this,tt),K(this,J)[wt]=A,K(this,nt)[wt]=H,K(this,T).set(A,wt),K(this,$)[K(this,V)]=wt,K(this,yt)[wt]=K(this,V),Jt(this,V,wt),Eo(this,tt)._++,K(this,st).call(this,wt,O,B),B&&(B.set="add"),W=!1;else{Yt(this,M,yo).call(this,wt);let Lt=K(this,nt)[wt];if(H!==Lt){if(K(this,gt)&&Yt(this,M,fe).call(this,Lt)){Lt.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Zt}=Lt;Zt!==void 0&&!h&&(K(this,lt)&&((Dt=K(this,C))==null||Dt.call(this,Zt,A,"set")),K(this,Et)&&((F=K(this,pt))==null||F.push([Zt,A,"set"])))}else h||(K(this,lt)&&((zt=K(this,C))==null||zt.call(this,Lt,A,"set")),K(this,Et)&&((Ut=K(this,pt))==null||Ut.push([Lt,A,"set"])));if(K(this,U).call(this,wt),K(this,st).call(this,wt,O,B),K(this,nt)[wt]=H,B){B.set="replace";let Zt=Lt&&Yt(this,M,fe).call(this,Lt)?Lt.__staleWhileFetching:Lt;Zt!==void 0&&(B.oldValue=Zt)}}else B&&(B.set="update")}if(bt!==0&&!K(this,Z)&&Yt(this,M,kn).call(this),K(this,Z)&&(W||K(this,Tt).call(this,wt,bt,f),B&&K(this,Nt).call(this,B,wt)),!h&&K(this,Et)&&K(this,pt)){let Lt=K(this,pt),Zt;for(;Zt=Lt==null?void 0:Lt.shift();)(jt=K(this,R))==null||jt.call(this,...Zt)}return this}pop(){var A;try{for(;K(this,tt);){let H=K(this,nt)[K(this,N)];if(Yt(this,M,xo).call(this,!0),Yt(this,M,fe).call(this,H)){if(H.__staleWhileFetching)return H.__staleWhileFetching}else if(H!==void 0)return H}}finally{if(K(this,Et)&&K(this,pt)){let H=K(this,pt),it;for(;it=H==null?void 0:H.shift();)(A=K(this,R))==null||A.call(this,...it)}}}has(A,H={}){let{updateAgeOnHas:it=this.updateAgeOnHas,status:bt}=H,f=K(this,T).get(A);if(f!==void 0){let h=K(this,nt)[f];if(Yt(this,M,fe).call(this,h)&&h.__staleWhileFetching===void 0)return!1;if(K(this,L).call(this,f))bt&&(bt.has="stale",K(this,Nt).call(this,bt,f));else return it&&K(this,kt).call(this,f),bt&&(bt.has="hit",K(this,Nt).call(this,bt,f)),!0}else bt&&(bt.has="miss");return!1}peek(A,H={}){let{allowStale:it=this.allowStale}=H,bt=K(this,T).get(A);if(bt!==void 0&&(it||!K(this,L).call(this,bt))){let f=K(this,nt)[bt];return Yt(this,M,fe).call(this,f)?f.__staleWhileFetching:f}}async fetch(A,H={}){let{allowStale:it=this.allowStale,updateAgeOnGet:bt=this.updateAgeOnGet,noDeleteOnStaleGet:f=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:g=this.noDisposeOnSet,size:B=0,sizeCalculation:W=this.sizeCalculation,noUpdateTTL:O=this.noUpdateTTL,noDeleteOnFetchRejection:wt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Dt=this.allowStaleOnFetchRejection,ignoreFetchAbort:F=this.ignoreFetchAbort,allowStaleOnFetchAbort:zt=this.allowStaleOnFetchAbort,context:Ut,forceRefresh:jt=!1,status:Lt,signal:Zt}=H;if(!K(this,gt))return Lt&&(Lt.fetch="get"),this.get(A,{allowStale:it,updateAgeOnGet:bt,noDeleteOnStaleGet:f,status:Lt});let Ot={allowStale:it,updateAgeOnGet:bt,noDeleteOnStaleGet:f,ttl:h,noDisposeOnSet:g,size:B,sizeCalculation:W,noUpdateTTL:O,noDeleteOnFetchRejection:wt,allowStaleOnFetchRejection:Dt,allowStaleOnFetchAbort:zt,ignoreFetchAbort:F,status:Lt,signal:Zt},Xt=K(this,T).get(A);if(Xt===void 0){Lt&&(Lt.fetch="miss");let te=Yt(this,M,Fo).call(this,A,Xt,Ot,Ut);return te.__returned=te}else{let te=K(this,nt)[Xt];if(Yt(this,M,fe).call(this,te)){let xt=it&&te.__staleWhileFetching!==void 0;return Lt&&(Lt.fetch="inflight",xt&&(Lt.returnedStale=!0)),xt?te.__staleWhileFetching:te.__returned=te}let ee=K(this,L).call(this,Xt);if(!jt&&!ee)return Lt&&(Lt.fetch="hit"),Yt(this,M,yo).call(this,Xt),bt&&K(this,kt).call(this,Xt),Lt&&K(this,Nt).call(this,Lt,Xt),te;let vt=Yt(this,M,Fo).call(this,A,Xt,Ot,Ut),Mt=vt.__staleWhileFetching!==void 0&&it;return Lt&&(Lt.fetch=ee?"stale":"refresh",Mt&&ee&&(Lt.returnedStale=!0)),Mt?vt.__staleWhileFetching:vt.__returned=vt}}get(A,H={}){let{allowStale:it=this.allowStale,updateAgeOnGet:bt=this.updateAgeOnGet,noDeleteOnStaleGet:f=this.noDeleteOnStaleGet,status:h}=H,g=K(this,T).get(A);if(g!==void 0){let B=K(this,nt)[g],W=Yt(this,M,fe).call(this,B);return h&&K(this,Nt).call(this,h,g),K(this,L).call(this,g)?(h&&(h.get="stale"),W?(h&&it&&B.__staleWhileFetching!==void 0&&(h.returnedStale=!0),it?B.__staleWhileFetching:void 0):(f||this.delete(A),h&&it&&(h.returnedStale=!0),it?B:void 0)):(h&&(h.get="hit"),W?B.__staleWhileFetching:(Yt(this,M,yo).call(this,g),bt&&K(this,kt).call(this,g),B))}else h&&(h.get="miss")}delete(A){var it,bt,f,h;let H=!1;if(K(this,tt)!==0){let g=K(this,T).get(A);if(g!==void 0)if(H=!0,K(this,tt)===1)this.clear();else{K(this,U).call(this,g);let B=K(this,nt)[g];Yt(this,M,fe).call(this,B)?B.__abortController.abort(new Error("deleted")):(K(this,lt)||K(this,Et))&&(K(this,lt)&&((it=K(this,C))==null||it.call(this,B,A,"delete")),K(this,Et)&&((bt=K(this,pt))==null||bt.push([B,A,"delete"]))),K(this,T).delete(A),K(this,J)[g]=void 0,K(this,nt)[g]=void 0,g===K(this,V)?Jt(this,V,K(this,yt)[g]):g===K(this,N)?Jt(this,N,K(this,$)[g]):(K(this,$)[K(this,yt)[g]]=K(this,$)[g],K(this,yt)[K(this,$)[g]]=K(this,yt)[g]),Eo(this,tt)._--,K(this,dt).push(g)}}if(K(this,Et)&&((f=K(this,pt))!=null&&f.length)){let g=K(this,pt),B;for(;B=g==null?void 0:g.shift();)(h=K(this,R))==null||h.call(this,...B)}return H}clear(){var A,H,it;for(let bt of Yt(this,M,Br).call(this,{allowStale:!0})){let f=K(this,nt)[bt];if(Yt(this,M,fe).call(this,f))f.__abortController.abort(new Error("deleted"));else{let h=K(this,J)[bt];K(this,lt)&&((A=K(this,C))==null||A.call(this,f,h,"delete")),K(this,Et)&&((H=K(this,pt))==null||H.push([f,h,"delete"]))}}if(K(this,T).clear(),K(this,nt).fill(void 0),K(this,J).fill(void 0),K(this,Z)&&K(this,St)&&(K(this,Z).fill(0),K(this,St).fill(0)),K(this,It)&&K(this,It).fill(0),Jt(this,N,0),Jt(this,V,0),K(this,dt).length=0,Jt(this,D,0),Jt(this,tt,0),K(this,Et)&&K(this,pt)){let bt=K(this,pt),f;for(;f=bt==null?void 0:bt.shift();)(it=K(this,R))==null||it.call(this,...f)}}},j=new WeakMap,Y=new WeakMap,C=new WeakMap,R=new WeakMap,q=new WeakMap,tt=new WeakMap,D=new WeakMap,T=new WeakMap,J=new WeakMap,nt=new WeakMap,$=new WeakMap,yt=new WeakMap,N=new WeakMap,V=new WeakMap,dt=new WeakMap,pt=new WeakMap,It=new WeakMap,St=new WeakMap,Z=new WeakMap,lt=new WeakMap,gt=new WeakMap,Et=new WeakMap,M=new WeakSet,kn=function(){let A=new m(K(this,j)),H=new m(K(this,j));Jt(this,Z,A),Jt(this,St,H),Jt(this,Tt,(f,h,g=o.now())=>{if(H[f]=h!==0?g:0,A[f]=h,h!==0&&this.ttlAutopurge){let B=setTimeout(()=>{K(this,L).call(this,f)&&this.delete(K(this,J)[f])},h+1);B.unref&&B.unref()}}),Jt(this,kt,f=>{H[f]=A[f]!==0?o.now():0}),Jt(this,Nt,(f,h)=>{if(A[h]){let g=A[h],B=H[h];f.ttl=g,f.start=B,f.now=it||bt();let W=f.now-B;f.remainingTTL=g-W}});let it=0,bt=()=>{let f=o.now();if(this.ttlResolution>0){it=f;let h=setTimeout(()=>it=0,this.ttlResolution);h.unref&&h.unref()}return f};this.getRemainingTTL=f=>{let h=K(this,T).get(f);if(h===void 0)return 0;let g=A[h],B=H[h];if(g===0||B===0)return 1/0;let W=(it||bt())-B;return g-W},Jt(this,L,f=>A[f]!==0&&H[f]!==0&&(it||bt())-H[f]>A[f])},kt=new WeakMap,Nt=new WeakMap,Tt=new WeakMap,L=new WeakMap,Ua=function(){let A=new m(K(this,j));Jt(this,D,0),Jt(this,It,A),Jt(this,U,H=>{Jt(this,D,K(this,D)-A[H]),A[H]=0}),Jt(this,et,(H,it,bt,f)=>{if(Yt(this,M,fe).call(this,it))return 0;if(!l(bt))if(f){if(typeof f!="function")throw new TypeError("sizeCalculation must be a function");if(bt=f(it,H),!l(bt))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return bt}),Jt(this,st,(H,it,bt)=>{if(A[H]=it,K(this,Y)){let f=K(this,Y)-A[H];for(;K(this,D)>f;)Yt(this,M,xo).call(this,!0)}Jt(this,D,K(this,D)+A[H]),bt&&(bt.entrySize=it,bt.totalCalculatedSize=K(this,D))})},U=new WeakMap,st=new WeakMap,et=new WeakMap,Mr=function*({allowStale:A=this.allowStale}={}){if(K(this,tt))for(let H=K(this,V);!(!Yt(this,M,On).call(this,H)||((A||!K(this,L).call(this,H))&&(yield H),H===K(this,N)));)H=K(this,yt)[H]},Br=function*({allowStale:A=this.allowStale}={}){if(K(this,tt))for(let H=K(this,N);!(!Yt(this,M,On).call(this,H)||((A||!K(this,L).call(this,H))&&(yield H),H===K(this,V)));)H=K(this,$)[H]},On=function(A){return A!==void 0&&K(this,T).get(K(this,J)[A])===A},xo=function(A){var f,h;let H=K(this,N),it=K(this,J)[H],bt=K(this,nt)[H];return K(this,gt)&&Yt(this,M,fe).call(this,bt)?bt.__abortController.abort(new Error("evicted")):(K(this,lt)||K(this,Et))&&(K(this,lt)&&((f=K(this,C))==null||f.call(this,bt,it,"evict")),K(this,Et)&&((h=K(this,pt))==null||h.push([bt,it,"evict"]))),K(this,U).call(this,H),A&&(K(this,J)[H]=void 0,K(this,nt)[H]=void 0,K(this,dt).push(H)),K(this,tt)===1?(Jt(this,N,Jt(this,V,0)),K(this,dt).length=0):Jt(this,N,K(this,$)[H]),K(this,T).delete(it),Eo(this,tt)._--,H},Fo=function(A,H,it,bt){let f=H===void 0?void 0:K(this,nt)[H];if(Yt(this,M,fe).call(this,f))return f;let h=new a,{signal:g}=it;g==null||g.addEventListener("abort",()=>h.abort(g.reason),{signal:h.signal});let B={signal:h.signal,options:it,context:bt},W=(Ut,jt=!1)=>{let{aborted:Lt}=h.signal,Zt=it.ignoreFetchAbort&&Ut!==void 0;if(it.status&&(Lt&&!jt?(it.status.fetchAborted=!0,it.status.fetchError=h.signal.reason,Zt&&(it.status.fetchAbortIgnored=!0)):it.status.fetchResolved=!0),Lt&&!Zt&&!jt)return wt(h.signal.reason);let Ot=F;return K(this,nt)[H]===F&&(Ut===void 0?Ot.__staleWhileFetching?K(this,nt)[H]=Ot.__staleWhileFetching:this.delete(A):(it.status&&(it.status.fetchUpdated=!0),this.set(A,Ut,B.options))),Ut},O=Ut=>(it.status&&(it.status.fetchRejected=!0,it.status.fetchError=Ut),wt(Ut)),wt=Ut=>{let{aborted:jt}=h.signal,Lt=jt&&it.allowStaleOnFetchAbort,Zt=Lt||it.allowStaleOnFetchRejection,Ot=Zt||it.noDeleteOnFetchRejection,Xt=F;if(K(this,nt)[H]===F&&(!Ot||Xt.__staleWhileFetching===void 0?this.delete(A):Lt||(K(this,nt)[H]=Xt.__staleWhileFetching)),Zt)return it.status&&Xt.__staleWhileFetching!==void 0&&(it.status.returnedStale=!0),Xt.__staleWhileFetching;if(Xt.__returned===Xt)throw Ut},Dt=(Ut,jt)=>{var Zt;let Lt=(Zt=K(this,q))==null?void 0:Zt.call(this,A,f,B);Lt&&Lt instanceof Promise&&Lt.then(Ot=>Ut(Ot===void 0?void 0:Ot),jt),h.signal.addEventListener("abort",()=>{(!it.ignoreFetchAbort||it.allowStaleOnFetchAbort)&&(Ut(void 0),it.allowStaleOnFetchAbort&&(Ut=Ot=>W(Ot,!0)))})};it.status&&(it.status.fetchDispatched=!0);let F=new Promise(Dt).then(W,O),zt=Object.assign(F,{__abortController:h,__staleWhileFetching:f,__returned:void 0});return H===void 0?(this.set(A,zt,{...B.options,status:void 0}),H=K(this,T).get(A)):K(this,nt)[H]=zt,zt},fe=function(A){if(!K(this,gt))return!1;let H=A;return!!H&&H instanceof Promise&&H.hasOwnProperty("__staleWhileFetching")&&H.__abortController instanceof a},Mn=function(A,H){K(this,yt)[H]=A,K(this,$)[A]=H},yo=function(A){A!==K(this,V)&&(A===K(this,N)?Jt(this,N,K(this,$)[A]):Yt(this,M,Mn).call(this,K(this,yt)[A],K(this,$)[A]),Yt(this,M,Mn).call(this,K(this,V),A),Jt(this,V,A))},z);t.LRUCache=b}),Tr=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var o=class{constructor(d=0){this.iteratorType=d}equals(d){return this.o===d.o}};t.ContainerIterator=o;var e=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=e;var p=class extends e{};t.Container=p}),Fu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Tr(),e=class extends o.Base{constructor(d=[]){super(),this.S=[];let a=this;d.forEach(function(n){a.push(n)})}clear(){this.i=0,this.S=[]}push(d){return this.S.push(d),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},p=e;t.default=p}),Wu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Tr(),e=class extends o.Base{constructor(d=[]){super(),this.j=0,this.q=[];let a=this;d.forEach(function(n){a.push(n)})}clear(){this.q=[],this.i=this.j=0}push(d){let a=this.q.length;if(this.j/a>.5&&this.j+this.i>=a&&a>4096){let n=this.i;for(let u=0;u<n;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=d}else this.q[this.j+this.i]=d;return++this.i}pop(){if(this.i===0)return;let d=this.q[this.j++];return this.i-=1,d}front(){if(this.i!==0)return this.q[this.j]}},p=e;t.default=p}),Nu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Tr(),e=class extends o.Base{constructor(d=[],a=function(u,l){return u>l?-1:u<l?1:0},n=!0){if(super(),this.v=a,Array.isArray(d))this.C=n?[...d]:d;else{this.C=[];let l=this;d.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let u=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,u)}m(d){let a=this.C[d];for(;d>0;){let n=d-1>>1,u=this.C[n];if(this.v(u,a)<=0)break;this.C[d]=u,d=n}this.C[d]=a}k(d,a){let n=this.C[d];for(;d<a;){let u=d<<1|1,l=u+1,c=this.C[u];if(l<this.i&&this.v(c,this.C[l])>0&&(u=l,c=this.C[l]),this.v(c,n)>=0)break;this.C[d]=c,d=u}this.C[d]=n}clear(){this.i=0,this.C.length=0}push(d){this.C.push(d),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let d=this.C[0],a=this.C.pop();return this.i-=1,this.i&&(this.C[0]=a,this.k(0,this.i>>1)),d}top(){return this.C[0]}find(d){return this.C.indexOf(d)>=0}remove(d){let a=this.C.indexOf(d);return a<0?!1:(a===0?this.pop():a===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(a,1,this.C.pop()),this.i-=1,this.m(a),this.k(a,this.i>>1)),!0)}updateItem(d){let a=this.C.indexOf(d);return a<0?!1:(this.m(a),this.k(a,this.i>>1),!0)}toArray(){return[...this.C]}},p=e;t.default=p}),Qn=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Tr(),e=class extends o.Container{},p=e;t.default=p}),Ir=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=o;function o(){throw new RangeError("Iterator access denied!")}}),za=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var o=Tr(),e=Ir(),p=class extends o.ContainerIterator{constructor(d,a){super(a),this.o=d,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,e.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,e.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,e.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,e.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(d){this.container.setElementByPos(this.o,d)}};t.RandomIterator=p}),ju=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(Qn()),e=za();function p(u){return u&&u.t?u:{default:u}}var d=class $a extends e.RandomIterator{constructor(l,c,m){super(l,m),this.container=c}copy(){return new $a(this.o,this.container,this.iteratorType)}},a=class extends o.default{constructor(u=[],l=!0){if(super(),Array.isArray(u))this.J=l?[...u]:u,this.i=u.length;else{this.J=[];let c=this;u.forEach(function(m){c.pushBack(m)})}}clear(){this.i=0,this.J.length=0}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==u&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(u){let l=u.o;return u=u.next(),this.eraseElementByPos(l),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(c).fill(l)),this.i+=c,this.i}find(u){for(let l=0;l<this.i;++l)if(this.J[l]===u)return new d(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[u++]=this.J[l]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let l=0;l<this.i;++l)u(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},n=a;t.default=n}),Du=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(Qn()),e=Tr(),p=Ir();function d(l){return l&&l.t?l:{default:l}}var a=class Va extends e.ContainerIterator{constructor(c,m,v,b){super(b),this.o=c,this.h=m,this.container=v,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l=c}copy(){return new Va(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(m){c.pushBack(m)})}V(l){let{L:c,B:m}=l;c.B=m,m.L=c,l===this.p&&(this.p=m),l===this._&&(this._=c),this.i-=1}G(l,c){let m=c.B,v={l,L:c,B:m};c.B=v,m.L=v,c===this.h&&(this.p=v),m===this.h&&(this._=v),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,p.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let m=this.p;for(;l--;)m=m.B;m.l=c}insert(l,c,m=1){if(l<0||l>this.i)throw new RangeError;if(m<=0)return this.i;if(l===0)for(;m--;)this.pushFront(c);else if(l===this.i)for(;m--;)this.pushBack(c);else{let v=this.p;for(let w=1;w<l;++w)v=v.B;let b=v.B;for(this.i+=m;m--;)v.B={l:c,L:v},v.B.L=v,v=v.B;v.B=b,b.L=v}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new a(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,m=0;for(;m<<1<this.i;){let v=l.l;l.l=c.l,c.l=v,l=l.B,c=c.L,m+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(v){c.push(v)}),c.sort(l);let m=this.p;c.forEach(function(v){m.l=v,m=m.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(m){c.pushBack(m)});else{let m=this.p;l.forEach(function(v){for(;m!==c.h&&m.l<=v;)m=m.B;c.G(v,m.L)})}return this.i}forEach(l){let c=this.p,m=0;for(;c!==this.h;)l(c.l,m++,this),c=c.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},u=n;t.default=u}),Lu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(Qn()),e=za();function p(u){return u&&u.t?u:{default:u}}var d=class Ha extends e.RandomIterator{constructor(l,c,m){super(l,m),this.container=c}copy(){return new Ha(this.o,this.container,this.iteratorType)}},a=class extends o.default{constructor(u=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let b=0;b<this.P;++b)this.A.push(new Array(this.F));let m=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(m>>1),this.D=this.N=this.F-c%this.F>>1;let v=this;u.forEach(function(b){v.pushBack(b)})}T(){let u=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)u[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)u[u.length]=this.A[c];for(let c=0;c<this.R;++c)u[u.length]=this.A[c];u[u.length]=[...this.A[this.R]],this.j=l,this.R=u.length-1;for(let c=0;c<l;++c)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let l=this.D+u+1,c=l%this.F,m=c-1,v=this.j+(l-c)/this.F;return c===0&&(v-=1),v%=this.P,m<0&&(m+=this.F),{curNodeBucketIndex:v,curNodePointerIndex:m}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.A[l][c]}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:m}=this.O(u);this.A[c][m]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;c--;)this.pushFront(l);else if(u===this.i)for(;c--;)this.pushBack(l);else{let m=[];for(let v=u;v<this.i;++v)m.push(this.getElementByPos(v));this.cut(u-1);for(let v=0;v<c;++v)this.pushBack(l);for(let v=0;v<m.length;++v)this.pushBack(m[v])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.R=l,this.N=c,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let l=[];for(let m=u+1;m<this.i;++m)l.push(this.getElementByPos(m));this.cut(u),this.popBack();let c=this;l.forEach(function(m){c.pushBack(m)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let l=[];for(let m=0;m<this.i;++m){let v=this.getElementByPos(m);v!==u&&l.push(v)}let c=l.length;for(let m=0;m<c;++m)this.setElementByPos(m,l[m]);return this.cut(c-1)}eraseElementByIterator(u){let l=u.o;return this.eraseElementByPos(l),u=u.next(),u}find(u){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===u)return new d(l,this);return this.end()}reverse(){let u=0,l=this.i-1;for(;u<l;){let c=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(l)),this.setElementByPos(l,c),u+=1,l-=1}}unique(){if(this.i<=1)return this.i;let u=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let m=this.getElementByPos(c);m!==l&&(l=m,this.setElementByPos(u++,m))}for(;this.i>u;)this.popBack();return this.i}sort(u){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(u);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(l){u.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<u.length;++l)this.pushBack(u[l])}forEach(u){for(let l=0;l<this.i;++l)u(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}},n=a;t.default=n}),Uu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var o=class{constructor(p,d){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=p,this.l=d}L(){let p=this;if(p.ee===1&&p.tt.tt===p)p=p.W;else if(p.U)for(p=p.U;p.W;)p=p.W;else{let d=p.tt;for(;d.U===p;)p=d,d=p.tt;p=d}return p}B(){let p=this;if(p.W){for(p=p.W;p.U;)p=p.U;return p}else{let d=p.tt;for(;d.W===p;)p=d,d=p.tt;return p.W!==d?d:p}}te(){let p=this.tt,d=this.W,a=d.U;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.U=this,this.tt=d,this.W=a,a&&(a.tt=this),d}se(){let p=this.tt,d=this.U,a=d.W;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.W=this,this.tt=d,this.U=a,a&&(a.tt=this),d}};t.TreeNode=o;var e=class extends o{constructor(){super(...arguments),this.rt=1}te(){let p=super.te();return this.ie(),p.ie(),p}se(){let p=super.se();return this.ie(),p.ie(),p}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=e}),Ga=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Uu(),e=Tr(),p=Ir(),d=class extends e.Container{constructor(n=function(l,c){return l<c?-1:l>c?1:0},u=!1){super(),this.Y=void 0,this.v=n,u?(this.re=o.TreeNodeEnableIndex,this.M=function(l,c,m){let v=this.ne(l,c,m);if(v){let b=v.tt;for(;b!==this.h;)b.rt+=1,b=b.tt;let w=this.he(v);if(w){let{parentNode:_,grandParent:k,curNode:j}=w;_.ie(),k.ie(),j.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=o.TreeNode,this.M=function(l,c,m){let v=this.ne(l,c,m);return v&&this.he(v),this.i},this.V=this.fe),this.h=new this.re}X(n,u){let l=this.h;for(;n;){let c=this.v(n.u,u);if(c<0)n=n.W;else if(c>0)l=n,n=n.U;else return n}return l}Z(n,u){let l=this.h;for(;n;)this.v(n.u,u)<=0?n=n.W:(l=n,n=n.U);return l}$(n,u){let l=this.h;for(;n;){let c=this.v(n.u,u);if(c<0)l=n,n=n.W;else if(c>0)n=n.U;else return n}return l}rr(n,u){let l=this.h;for(;n;)this.v(n.u,u)<0?(l=n,n=n.W):n=n.U;return l}ue(n){for(;;){let u=n.tt;if(u===this.h)return;if(n.ee===1){n.ee=0;return}if(n===u.U){let l=u.W;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(l.W&&l.W.ee===1){l.ee=u.ee,u.ee=0,l.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,n=u)}else{let l=u.U;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(l.U&&l.U.ee===1){l.ee=u.ee,u.ee=0,l.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,n=u)}}}fe(n){if(this.i===1)return this.clear(),this.h;let u=n;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[n.u,u.u]=[u.u,n.u],[n.l,u.l]=[u.l,n.l],n=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let l=u.tt;return u===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(n,u){return n===void 0?!1:this.oe(n.U,u)||u(n)?!0:this.oe(n.W,u)}he(n){for(;;){let u=n.tt;if(u.ee===0)return;let l=u.tt;if(u===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,n=l;continue}else if(n===u.W){if(n.ee=0,n.U&&(n.U.tt=u),n.W&&(n.W.tt=l),u.W=n.U,l.U=n.W,n.U=u,n.W=l,l===this.Y)this.Y=n,this.h.tt=n;else{let m=l.tt;m.U===l?m.U=n:m.W=n}return n.tt=l.tt,u.tt=n,l.tt=n,l.ee=1,{parentNode:u,grandParent:l,curNode:n}}else u.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,n=l;continue}else if(n===u.U){if(n.ee=0,n.U&&(n.U.tt=l),n.W&&(n.W.tt=u),l.W=n.U,u.U=n.W,n.U=l,n.W=u,l===this.Y)this.Y=n,this.h.tt=n;else{let m=l.tt;m.U===l?m.U=n:m.W=n}return n.tt=l.tt,u.tt=n,l.tt=n,l.ee=1,{parentNode:u,grandParent:l,curNode:n}}else u.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(n,u,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(n,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,m=this.h.U,v=this.v(m.u,n);if(v===0){m.l=u;return}else if(v>0)m.U=new this.re(n,u),m.U.tt=m,c=m.U,this.h.U=c;else{let b=this.h.W,w=this.v(b.u,n);if(w===0){b.l=u;return}else if(w<0)b.W=new this.re(n,u),b.W.tt=b,c=b.W,this.h.W=c;else{if(l!==void 0){let _=l.o;if(_!==this.h){let k=this.v(_.u,n);if(k===0){_.l=u;return}else if(k>0){let j=_.L(),Y=this.v(j.u,n);if(Y===0){j.l=u;return}else Y<0&&(c=new this.re(n,u),j.W===void 0?(j.W=c,c.tt=j):(_.U=c,c.tt=_))}}}if(c===void 0)for(c=this.Y;;){let _=this.v(c.u,n);if(_>0){if(c.U===void 0){c.U=new this.re(n,u),c.U.tt=c,c=c.U;break}c=c.U}else if(_<0){if(c.W===void 0){c.W=new this.re(n,u),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=u;return}}}}return this.i+=1,c}I(n,u){for(;n;){let l=this.v(n.u,u);if(l<0)n=n.W;else if(l>0)n=n.U;else return n}return n||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(n,u){let l=n.o;if(l===this.h&&(0,p.throwIteratorAccessError)(),this.i===1)return l.u=u,!0;if(l===this.h.U)return this.v(l.B().u,u)>0?(l.u=u,!0):!1;if(l===this.h.W)return this.v(l.L().u,u)<0?(l.u=u,!0):!1;let c=l.L().u;if(this.v(c,u)>=0)return!1;let m=l.B().u;return this.v(m,u)<=0?!1:(l.u=u,!0)}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u=0,l=this;return this.oe(this.Y,function(c){return n===u?(l.V(c),!0):(u+=1,!1)}),this.i}eraseElementByKey(n){if(this.i===0)return!1;let u=this.I(this.Y,n);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(n){let u=n.o;u===this.h&&(0,p.throwIteratorAccessError)();let l=u.W===void 0;return n.iteratorType===0?l&&n.next():(!l||u.U===void 0)&&n.next(),this.V(u),n}forEach(n){let u=0;for(let l of this)n(l,u++,this)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u,l=0;for(let c of this){if(l===n){u=c;break}l+=1}return u}getHeight(){if(this.i===0)return 0;let n=function(u){return u?Math.max(n(u.U),n(u.W))+1:0};return n(this.Y)}},a=d;t.default=a}),qa=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Tr(),e=Ir(),p=class extends o.ContainerIterator{constructor(a,n,u){super(u),this.o=a,this.h=n,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let a=this.o,n=this.h.tt;if(a===this.h)return n?n.rt-1:0;let u=0;for(a.U&&(u+=a.U.rt);a!==n;){let l=a.tt;a===l.W&&(u+=1,l.U&&(u+=l.U.rt)),a=l}return u}},d=p;t.default=d}),zu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(Ga()),e=d(qa()),p=Ir();function d(l){return l&&l.t?l:{default:l}}var a=class Ya extends e.default{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.u}copy(){return new Ya(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[],c,m){super(c,m);let v=this;l.forEach(function(b){v.insert(b)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new a(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new a(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new a(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new a(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new a(c,this.h,this)}union(l){let c=this;return l.forEach(function(m){c.insert(m)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=n;t.default=u}),$u=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(Ga()),e=d(qa()),p=Ir();function d(l){return l&&l.t?l:{default:l}}var a=class Ka extends e.default{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(m,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(m,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new Ka(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[],c,m){super(c,m);let v=this;l.forEach(function(b){v.setElement(b[0],b[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new a(this.h.U||this.h,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this.h.W||this.h,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new a(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new a(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new a(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new a(c,this.h,this)}setElement(l,c,m){return this.M(l,c,m)}find(l){let c=this.I(this.Y,l);return new a(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(m){c.setElement(m[0],m[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=n;t.default=u}),Ja=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=o;function o(e){let p=typeof e;return p==="object"&&e!==null||p==="function"}}),Qa=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var o=Tr(),e=d(Ja()),p=Ir();function d(u){return u&&u.t?u:{default:u}}var a=class extends o.ContainerIterator{constructor(u,l,c){super(c),this.o=u,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=a;var n=class extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:l,B:c}=u;l.B=c,c.L=l,u===this.p&&(this.p=c),u===this._&&(this._=l),this.i-=1}M(u,l,c){c===void 0&&(c=(0,e.default)(u));let m;if(c){let v=u[this.HASH_TAG];if(v!==void 0)return this.H[v].l=l,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),m={u,l,L:this._,B:this.h},this.H.push(m)}else{let v=this.g[u];if(v)return v.l=l,this.i;m={u,l,L:this._,B:this.h},this.g[u]=m}return this.i===0?(this.p=m,this.h.B=m):this._.B=m,this._=m,this.h.L=m,++this.i}I(u,l){if(l===void 0&&(l=(0,e.default)(u)),l){let c=u[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(l){delete l.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,l){let c;if(l===void 0&&(l=(0,e.default)(u)),l){let m=u[this.HASH_TAG];if(m===void 0)return!1;delete u[this.HASH_TAG],c=this.H[m],delete this.H[m]}else{if(c=this.g[u],c===void 0)return!1;delete this.g[u]}return this.V(c),!0}eraseElementByIterator(u){let l=u.o;return l===this.h&&(0,p.throwIteratorAccessError)(),this.V(l),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let l=this.p;for(;u--;)l=l.B;return this.V(l),this.i}};t.HashContainer=n}),Vu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Qa(),e=Ir(),p=class Za extends o.HashContainerIterator{constructor(u,l,c,m){super(u,l,m),this.container=c}get pointer(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o.u}copy(){return new Za(this.o,this.h,this.container,this.iteratorType)}},d=class extends o.HashContainer{constructor(n=[]){super();let u=this;n.forEach(function(l){u.insert(l)})}begin(){return new p(this.p,this.h,this)}end(){return new p(this.h,this.h,this)}rBegin(){return new p(this._,this.h,this,1)}rEnd(){return new p(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(n,u){return this.M(n,void 0,u)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u=this.p;for(;n--;)u=u.B;return u.u}find(n,u){let l=this.I(n,u);return new p(l,this.h,this)}forEach(n){let u=0,l=this.p;for(;l!==this.h;)n(l.u,u++,this),l=l.B}[Symbol.iterator](){return(function*(){let n=this.p;for(;n!==this.h;)yield n.u,n=n.B}).bind(this)()}},a=d;t.default=a}),Hu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Qa(),e=d(Ja()),p=Ir();function d(l){return l&&l.t?l:{default:l}}var a=class Xa extends o.HashContainerIterator{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(m,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(m,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new Xa(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(m){c.setElement(m[0],m[1])})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,m){return this.M(l,c,m)}getElementByKey(l,c){if(c===void 0&&(c=(0,e.default)(l)),c){let v=l[this.HASH_TAG];return v!==void 0?this.H[v].l:void 0}let m=this.g[l];return m?m.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let m=this.I(l,c);return new a(m,this.h,this)}forEach(l){let c=0,m=this.p;for(;m!==this.h;)l([m.u,m.l],c++,this),m=m.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},u=n;t.default=u}),Gu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return d.default}});var o=v(Fu()),e=v(Wu()),p=v(Nu()),d=v(ju()),a=v(Du()),n=v(Lu()),u=v(zu()),l=v($u()),c=v(Vu()),m=v(Hu());function v(b){return b&&b.t?b:{default:b}}}),qu=Wt((t,o)=>{Bt(),Pt(),Rt();var e=Gu().OrderedSet,p=Er()("number-allocator:trace"),d=Er()("number-allocator:error");function a(u,l){this.low=u,this.high=l}a.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},a.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0};function n(u,l){if(!(this instanceof n))return new n(u,l);this.min=u,this.max=l,this.ss=new e([],(c,m)=>c.compare(m)),p("Create"),this.clear()}n.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},n.prototype.alloc=function(){if(this.ss.size()===0)return p("alloc():empty"),null;let u=this.ss.begin(),l=u.pointer.low,c=u.pointer.high,m=l;return m+1<=c?this.ss.updateKeyByIterator(u,new a(l+1,c)):this.ss.eraseElementByPos(0),p("alloc():"+m),m},n.prototype.use=function(u){let l=new a(u,u),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let m=c.pointer.low,v=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),p("use():"+u),!0):m>u?!1:m===u?(this.ss.updateKeyByIterator(c,new a(m+1,v)),p("use():"+u),!0):v===u?(this.ss.updateKeyByIterator(c,new a(m,v-1)),p("use():"+u),!0):(this.ss.updateKeyByIterator(c,new a(u+1,v)),this.ss.insert(new a(m,u-1)),p("use():"+u),!0)}return p("use():failed"),!1},n.prototype.free=function(u){if(u<this.min||u>this.max){d("free():"+u+" is out of range");return}let l=new a(u,u),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let m=c.pointer.high;c.pointer.high+1===u?this.ss.updateKeyByIterator(c,new a(m,u)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(u+1===c.pointer.low){let m=c.pointer.high;this.ss.updateKeyByIterator(c,new a(u,m))}else this.ss.insert(l);else{let m=c.pointer.low,v=c.pointer.high;c.pre();let b=c.pointer.low;c.pointer.high+1===u?u+1===m?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new a(b,v))):this.ss.updateKeyByIterator(c,new a(b,u)):u+1===m?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new a(u,v))):this.ss.insert(l)}p("free():"+u)},n.prototype.clear=function(){p("clear()"),this.ss.clear(),this.ss.insert(new a(this.min,this.max))},n.prototype.intervalCount=function(){return this.ss.size()},n.prototype.dump=function(){console.log("length:"+this.ss.size());for(let u of this.ss)console.log(u)},o.exports=n}),tl=Wt((t,o)=>{Bt(),Pt(),Rt();var e=qu();o.exports.NumberAllocator=e}),Yu=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=xu(),e=tl(),p=class{constructor(d){d>0&&(this.aliasToTopic=new o.LRUCache({max:d}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,d),this.max=d,this.length=0)}put(d,a){if(a===0||a>this.max)return!1;let n=this.aliasToTopic.get(a);return n&&delete this.topicToAlias[n],this.aliasToTopic.set(a,d),this.topicToAlias[d]=a,this.numberAllocator.use(a),this.length=this.aliasToTopic.size,!0}getTopicByAlias(d){return this.aliasToTopic.get(d)}getAliasByTopic(d){let a=this.topicToAlias[d];return typeof a<"u"&&this.aliasToTopic.get(a),a}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=p}),Ku=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});var e=Jo(),p=o(Yu()),d=lo(),a=(n,u)=>{n.log("_handleConnack");let{options:l}=n,c=l.protocolVersion===5?u.reasonCode:u.returnCode;if(clearTimeout(n.connackTimer),delete n.topicAliasSend,u.properties){if(u.properties.topicAliasMaximum){if(u.properties.topicAliasMaximum>65535){n.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}u.properties.topicAliasMaximum>0&&(n.topicAliasSend=new p.default(u.properties.topicAliasMaximum))}u.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=u.properties.serverKeepAlive),u.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=u.properties.maximumPacketSize)}if(c===0)n.reconnecting=!1,n._onConnect(u);else if(c>0){let m=new d.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[c]}`,c);n.emit("error",m),n.options.reconnectOnConnackError&&n._cleanUp(!0)}};t.default=a}),Ju=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(e,p,d)=>{e.log("handling pubrel packet");let a=typeof d<"u"?d:e.noop,{messageId:n}=p,u={cmd:"pubcomp",messageId:n};e.incomingStore.get(p,(l,c)=>{l?e._sendPacket(u,a):(e.emit("message",c.topic,c.payload,c),e.handleMessage(c,m=>{if(m)return a(m);e.incomingStore.del(c,e.noop),e._sendPacket(u,a)}))})};t.default=o}),Qu=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(Pu()),p=o(Au()),d=o(Ku()),a=o(Jo()),n=o(Ju()),u=(l,c,m)=>{let{options:v}=l;if(v.protocolVersion===5&&v.properties&&v.properties.maximumPacketSize&&v.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,e.default)(l,c,m);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,a.default)(l,c),m();break;case"pubrel":l.reschedulePing(),(0,n.default)(l,c,m);break;case"connack":(0,d.default)(l,c),m();break;case"auth":l.reschedulePing(),(0,p.default)(l,c),m();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),m();break;case"disconnect":l.emit("disconnect",c),m();break;default:l.log("_handlePacket :: unknown command"),m();break}};t.default=u}),Zu=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var e=o((ao(),de(to))),p=lo(),d=class{};t.TypedEventEmitter=d,(0,p.applyMixin)(d,e.default)}),Qo=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var o=()=>{var a;return typeof window<"u"?typeof navigator<"u"&&((a=navigator.userAgent)===null||a===void 0?void 0:a.toLowerCase().indexOf(" electron/"))>-1&&ae!=null&&ae.versions?!Object.prototype.hasOwnProperty.call(ae.versions,"electron"):typeof window.document<"u":!1},e=()=>{var a,n;return!!(typeof self=="object"&&!((n=(a=self==null?void 0:self.constructor)===null||a===void 0?void 0:a.name)===null||n===void 0)&&n.includes("WorkerGlobalScope"))},p=()=>typeof navigator<"u"&&navigator.product==="ReactNative",d=o()||e()||p();t.isWebWorker=e(),t.isReactNativeBrowser=p(),t.default=d}),Xu=Wt((t,o)=>{Bt(),Pt(),Rt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t):typeof define=="function"&&define.amd?define(["exports"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.fastUniqueNumbers={}))}(t,function(e){var p=function(w){return function(_){var k=w(_);return _.add(k),k}},d=function(w){return function(_,k){return w.set(_,k),k}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,u=n*2,l=function(w,_){return function(k){var j=_.get(k),Y=j===void 0?k.size:j<u?j+1:0;if(!k.has(Y))return w(k,Y);if(k.size<n){for(;k.has(Y);)Y=Math.floor(Math.random()*u);return w(k,Y)}if(k.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;k.has(Y);)Y=Math.floor(Math.random()*a);return w(k,Y)}},c=new WeakMap,m=d(c),v=l(m,c),b=p(v);e.addUniqueNumber=b,e.generateUniqueNumber=v})}),tc=Wt((t,o)=>{Bt(),Pt(),Rt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,Xu()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimersBroker={},e.fastUniqueNumbers))}(t,function(e,p){var d=function(u){return u.method!==void 0&&u.method==="call"},a=function(u){return u.error===null&&typeof u.id=="number"},n=function(u){var l=new Map([[0,function(){}]]),c=new Map([[0,function(){}]]),m=new Map,v=new Worker(u);v.addEventListener("message",function(j){var Y=j.data;if(d(Y)){var C=Y.params,R=C.timerId,q=C.timerType;if(q==="interval"){var tt=l.get(R);if(typeof tt=="number"){var D=m.get(tt);if(D===void 0||D.timerId!==R||D.timerType!==q)throw new Error("The timer is in an undefined state.")}else if(typeof tt<"u")tt();else throw new Error("The timer is in an undefined state.")}else if(q==="timeout"){var T=c.get(R);if(typeof T=="number"){var J=m.get(T);if(J===void 0||J.timerId!==R||J.timerType!==q)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T(),c.delete(R);else throw new Error("The timer is in an undefined state.")}}else if(a(Y)){var nt=Y.id,$=m.get(nt);if($===void 0)throw new Error("The timer is in an undefined state.");var yt=$.timerId,N=$.timerType;m.delete(nt),N==="interval"?l.delete(yt):c.delete(yt)}else{var V=Y.error.message;throw new Error(V)}});var b=function(j){var Y=p.generateUniqueNumber(m);m.set(Y,{timerId:j,timerType:"interval"}),l.set(j,Y),v.postMessage({id:Y,method:"clear",params:{timerId:j,timerType:"interval"}})},w=function(j){var Y=p.generateUniqueNumber(m);m.set(Y,{timerId:j,timerType:"timeout"}),c.set(j,Y),v.postMessage({id:Y,method:"clear",params:{timerId:j,timerType:"timeout"}})},_=function(j){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=p.generateUniqueNumber(l);return l.set(C,function(){j(),typeof l.get(C)=="function"&&v.postMessage({id:null,method:"set",params:{delay:Y,now:performance.now(),timerId:C,timerType:"interval"}})}),v.postMessage({id:null,method:"set",params:{delay:Y,now:performance.now(),timerId:C,timerType:"interval"}}),C},k=function(j){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=p.generateUniqueNumber(c);return c.set(C,j),v.postMessage({id:null,method:"set",params:{delay:Y,now:performance.now(),timerId:C,timerType:"timeout"}}),C};return{clearInterval:b,clearTimeout:w,setInterval:_,setTimeout:k}};e.load=n})}),ec=Wt((t,o)=>{Bt(),Pt(),Rt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,tc()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimers={},e.workerTimersBroker))}(t,function(e,p){var d=function(v,b){var w=null;return function(){if(w!==null)return w;var _=new Blob([b],{type:"application/javascript; charset=utf-8"}),k=URL.createObjectURL(_);return w=v(k),setTimeout(function(){return URL.revokeObjectURL(k)}),w}},a=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,n=d(p.load,a),u=function(v){return n().clearInterval(v)},l=function(v){return n().clearTimeout(v)},c=function(){var v;return(v=n()).setInterval.apply(v,arguments)},m=function(){var v;return(v=n()).setTimeout.apply(v,arguments)};e.clearInterval=u,e.clearTimeout=l,e.setInterval=c,e.setTimeout=m})}),rc=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__createBinding||(Object.create?function(c,m,v,b){b===void 0&&(b=v);var w=Object.getOwnPropertyDescriptor(m,v);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(c,b,w)}:function(c,m,v,b){b===void 0&&(b=v),c[b]=m[v]}),e=t&&t.__setModuleDefault||(Object.create?function(c,m){Object.defineProperty(c,"default",{enumerable:!0,value:m})}:function(c,m){c.default=m}),p=t&&t.__importStar||function(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var v in c)v!=="default"&&Object.prototype.hasOwnProperty.call(c,v)&&o(m,c,v);return e(m,c),m};Object.defineProperty(t,"__esModule",{value:!0});var d=p(Qo()),a=ec(),n={set:a.setInterval,clear:a.clearInterval},u={set:(c,m)=>setInterval(c,m),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return u;case"worker":return n;case"auto":default:return d.default&&!d.isWebWorker&&!d.isReactNativeBrowser?n:u}};t.default=l}),el=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(rc()),p=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(d,a){this.destroyed=!1,this.client=d,this.timer=typeof a=="object"&&"set"in a&&"clear"in a?a:(0,e.default)(a),this.setKeepalive(d.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(d){if(d*=1e3,isNaN(d)||d<=0||d>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${d}`);this._keepalive=d,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${d}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let d=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+d,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=p}),Bn=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__createBinding||(Object.create?function(tt,D,T,J){J===void 0&&(J=T);var nt=Object.getOwnPropertyDescriptor(D,T);(!nt||("get"in nt?!D.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return D[T]}}),Object.defineProperty(tt,J,nt)}:function(tt,D,T,J){J===void 0&&(J=T),tt[J]=D[T]}),e=t&&t.__setModuleDefault||(Object.create?function(tt,D){Object.defineProperty(tt,"default",{enumerable:!0,value:D})}:function(tt,D){tt.default=D}),p=t&&t.__importStar||function(tt){if(tt&&tt.__esModule)return tt;var D={};if(tt!=null)for(var T in tt)T!=="default"&&Object.prototype.hasOwnProperty.call(tt,T)&&o(D,tt,T);return e(D,tt),D},d=t&&t.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}};Object.defineProperty(t,"__esModule",{value:!0});var a=d(Hp()),n=d(Ou()),u=d(ja()),l=eo(),c=d(Bu()),m=p(Ru()),v=d(Er()),b=d(Da()),w=d(Qu()),_=lo(),k=Zu(),j=d(el()),Y=p(Qo()),C=globalThis.setImmediate||((...tt)=>{let D=tt.shift();(0,_.nextTick)(()=>{D(...tt)})}),R={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},q=class Rn extends k.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(D,T){super(),this.options=T||{};for(let J in R)typeof this.options[J]>"u"?this.options[J]=R[J]:this.options[J]=T[J];this.log=this.options.log||(0,v.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Rn.VERSION),Y.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",Y.default?"browser":"node"),this.log("MqttClient :: options.protocol",T.protocol),this.log("MqttClient :: options.protocolVersion",T.protocolVersion),this.log("MqttClient :: options.username",T.username),this.log("MqttClient :: options.keepalive",T.keepalive),this.log("MqttClient :: options.reconnectPeriod",T.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",T.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",T.properties?T.properties.topicAliasMaximum:void 0),this.options.clientId=typeof T.clientId=="string"?T.clientId:Rn.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=T.protocolVersion===5&&T.customHandleAcks?T.customHandleAcks:(...J)=>{J[3](null,0)},this.options.writeCache||(n.default.writeToStream.cacheNumbers=!1),this.streamBuilder=D,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new u.default:this.options.messageIdProvider,this.outgoingStore=T.outgoingStore||new b.default,this.incomingStore=T.incomingStore||new b.default,this.queueQoSZero=T.queueQoSZero===void 0?!0:T.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,T.properties&&T.properties.topicAliasMaximum>0&&(T.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new a.default(T.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:J}=this,nt=()=>{let $=J.shift();this.log("deliver :: entry %o",$);let yt=null;if(!$){this._resubscribe();return}yt=$.packet,this.log("deliver :: call _sendPacket for %o",yt);let N=!0;yt.messageId&&yt.messageId!==0&&(this.messageIdProvider.register(yt.messageId)||(N=!1)),N?this._sendPacket(yt,V=>{$.cb&&$.cb(V),nt()}):(this.log("messageId: %d has already used. The message is skipped and removed.",yt.messageId),nt())};this.log("connect :: sending queued packets"),nt()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(D,T){T()}handleMessage(D,T){T()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var D;let T=new l.Writable,J=n.default.parser(this.options),nt=null,$=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),J.on("packet",pt=>{this.log("parser :: on packet push to packets array."),$.push(pt)});let yt=()=>{this.log("work :: getting next packet in queue");let pt=$.shift();if(pt)this.log("work :: packet pulled from queue"),(0,w.default)(this,pt,N);else{this.log("work :: no packets in queue");let It=nt;nt=null,this.log("work :: done flag is %s",!!It),It&&It()}},N=()=>{if($.length)(0,_.nextTick)(yt);else{let pt=nt;nt=null,pt()}};T._write=(pt,It,St)=>{nt=St,this.log("writable stream :: parsing buffer"),J.parse(pt),yt()};let V=pt=>{this.log("streamErrorHandler :: error",pt.message),pt.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",pt)):this.noop(pt)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(T),this.stream.on("error",V),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let dt={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(dt.will=Object.assign(Object.assign({},this.options.will),{payload:(D=this.options.will)===null||D===void 0?void 0:D.payload})),this.topicAliasRecv&&(dt.properties||(dt.properties={}),this.topicAliasRecv&&(dt.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(dt),J.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let pt=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(pt)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(D,T,J,nt){this.log("publish :: message `%s` to topic `%s`",T,D);let{options:$}=this;typeof J=="function"&&(nt=J,J=null),J=J||{},J=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),J);let{qos:yt,retain:N,dup:V,properties:dt,cbStorePut:pt}=J;if(this._checkDisconnecting(nt))return this;let It=()=>{let St=0;if((yt===1||yt===2)&&(St=this._nextId(),St===null))return this.log("No messageId left"),!1;let Z={cmd:"publish",topic:D,payload:T,qos:yt,retain:N,messageId:St,dup:V};switch($.protocolVersion===5&&(Z.properties=dt),this.log("publish :: qos",yt),yt){case 1:case 2:this.outgoing[Z.messageId]={volatile:!1,cb:nt||this.noop},this.log("MqttClient:publish: packet cmd: %s",Z.cmd),this._sendPacket(Z,void 0,pt);break;default:this.log("MqttClient:publish: packet cmd: %s",Z.cmd),this._sendPacket(Z,nt,pt);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!It())&&this._storeProcessingQueue.push({invoke:It,cbStorePut:J.cbStorePut,callback:nt}),this}publishAsync(D,T,J){return new Promise((nt,$)=>{this.publish(D,T,J,(yt,N)=>{yt?$(yt):nt(N)})})}subscribe(D,T,J){let nt=this.options.protocolVersion;typeof T=="function"&&(J=T),J=J||this.noop;let $=!1,yt=[];typeof D=="string"?(D=[D],yt=D):Array.isArray(D)?yt=D:typeof D=="object"&&($=D.resubscribe,delete D.resubscribe,yt=Object.keys(D));let N=m.validateTopics(yt);if(N!==null)return C(J,new Error(`Invalid topic ${N}`)),this;if(this._checkDisconnecting(J))return this.log("subscribe: discconecting true"),this;let V={qos:0};nt===5&&(V.nl=!1,V.rap=!1,V.rh=0),T=Object.assign(Object.assign({},V),T);let dt=T.properties,pt=[],It=(Z,lt)=>{if(lt=lt||T,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Z)||this._resubscribeTopics[Z].qos<lt.qos||$){let gt={topic:Z,qos:lt.qos};nt===5&&(gt.nl=lt.nl,gt.rap=lt.rap,gt.rh=lt.rh,gt.properties=dt),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",gt.topic,gt.qos),pt.push(gt)}};if(Array.isArray(D)?D.forEach(Z=>{this.log("subscribe: array topic %s",Z),It(Z)}):Object.keys(D).forEach(Z=>{this.log("subscribe: object topic %s, %o",Z,D[Z]),It(Z,D[Z])}),!pt.length)return J(null,[]),this;let St=()=>{let Z=this._nextId();if(Z===null)return this.log("No messageId left"),!1;let lt={cmd:"subscribe",subscriptions:pt,messageId:Z};if(dt&&(lt.properties=dt),this.options.resubscribe){this.log("subscribe :: resubscribe true");let gt=[];pt.forEach(Et=>{if(this.options.reconnectPeriod>0){let M={qos:Et.qos};nt===5&&(M.nl=Et.nl||!1,M.rap=Et.rap||!1,M.rh=Et.rh||0,M.properties=Et.properties),this._resubscribeTopics[Et.topic]=M,gt.push(Et.topic)}}),this.messageIdToTopic[lt.messageId]=gt}return this.outgoing[lt.messageId]={volatile:!0,cb(gt,Et){if(!gt){let{granted:M}=Et;for(let ct=0;ct<M.length;ct+=1)pt[ct].qos=M[ct]}J(gt,pt,Et)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(lt),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!St())&&this._storeProcessingQueue.push({invoke:St,callback:J}),this}subscribeAsync(D,T){return new Promise((J,nt)=>{this.subscribe(D,T,($,yt)=>{$?nt($):J(yt)})})}unsubscribe(D,T,J){typeof D=="string"&&(D=[D]),typeof T=="function"&&(J=T),J=J||this.noop;let nt=m.validateTopics(D);if(nt!==null)return C(J,new Error(`Invalid topic ${nt}`)),this;if(this._checkDisconnecting(J))return this;let $=()=>{let yt=this._nextId();if(yt===null)return this.log("No messageId left"),!1;let N={cmd:"unsubscribe",messageId:yt,unsubscriptions:[]};return typeof D=="string"?N.unsubscriptions=[D]:Array.isArray(D)&&(N.unsubscriptions=D),this.options.resubscribe&&N.unsubscriptions.forEach(V=>{delete this._resubscribeTopics[V]}),typeof T=="object"&&T.properties&&(N.properties=T.properties),this.outgoing[N.messageId]={volatile:!0,cb:J},this.log("unsubscribe: call _sendPacket"),this._sendPacket(N),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!$())&&this._storeProcessingQueue.push({invoke:$,callback:J}),this}unsubscribeAsync(D,T){return new Promise((J,nt)=>{this.unsubscribe(D,T,($,yt)=>{$?nt($):J(yt)})})}end(D,T,J){this.log("end :: (%s)",this.options.clientId),(D==null||typeof D!="boolean")&&(J=J||T,T=D,D=!1),typeof T!="object"&&(J=J||T,T=null),this.log("end :: cb? %s",!!J),(!J||typeof J!="function")&&(J=this.noop);let nt=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(yt=>{this.outgoingStore.close(N=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),J){let V=yt||N;this.log("end :: closeStores: invoking callback with args"),J(V)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},$=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,D),this._cleanUp(D,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,_.nextTick)(nt)},T)};return this.disconnecting?(J(),this):(this._clearReconnect(),this.disconnecting=!0,!D&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,$,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),$()),this)}endAsync(D,T){return new Promise((J,nt)=>{this.end(D,T,$=>{$?nt($):J()})})}removeOutgoingMessage(D){if(this.outgoing[D]){let{cb:T}=this.outgoing[D];this._removeOutgoingAndStoreMessage(D,()=>{T(new Error("Message removed"))})}return this}reconnect(D){this.log("client reconnect");let T=()=>{D?(this.options.incomingStore=D.incomingStore,this.options.outgoingStore=D.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=T:T(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(D=>{this.outgoing[D].volatile&&typeof this.outgoing[D].cb=="function"&&(this.outgoing[D].cb(new Error("Connection closed")),delete this.outgoing[D])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(D=>{typeof this.outgoing[D].cb=="function"&&(this.outgoing[D].cb(new Error("Connection closed")),delete this.outgoing[D])}))}_removeTopicAliasAndRecoverTopicName(D){let T;D.properties&&(T=D.properties.topicAlias);let J=D.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",T,J),J.length===0){if(typeof T>"u")return new Error("Unregistered Topic Alias");if(J=this.topicAliasSend.getTopicByAlias(T),typeof J>"u")return new Error("Unregistered Topic Alias");D.topic=J}T&&delete D.properties.topicAlias}_checkDisconnecting(D){return this.disconnecting&&(D&&D!==this.noop?D(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(D,T,J={}){if(T&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",T)),this.log("_cleanUp :: forced? %s",D),D)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let nt=Object.assign({cmd:"disconnect"},J);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(nt,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),C(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),T&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",T),T())}_storeAndSend(D,T,J){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",D.cmd);let nt=D,$;if(nt.cmd==="publish"&&(nt=(0,c.default)(D),$=this._removeTopicAliasAndRecoverTopicName(nt),$))return T&&T($);this.outgoingStore.put(nt,yt=>{if(yt)return T&&T(yt);J(),this._writePacket(D,T)})}_applyTopicAlias(D){if(this.options.protocolVersion===5&&D.cmd==="publish"){let T;D.properties&&(T=D.properties.topicAlias);let J=D.topic.toString();if(this.topicAliasSend)if(T){if(J.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",J,T),!this.topicAliasSend.put(J,T)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",J,T),new Error("Sending Topic Alias out of range")}else J.length!==0&&(this.options.autoAssignTopicAlias?(T=this.topicAliasSend.getAliasByTopic(J),T?(D.topic="",D.properties=Object.assign(Object.assign({},D.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",J,T)):(T=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(J,T),D.properties=Object.assign(Object.assign({},D.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",J,T))):this.options.autoUseTopicAlias&&(T=this.topicAliasSend.getAliasByTopic(J),T&&(D.topic="",D.properties=Object.assign(Object.assign({},D.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",J,T))));else if(T)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",J,T),new Error("Sending Topic Alias out of range")}}_noop(D){this.log("noop ::",D)}_writePacket(D,T){this.log("_writePacket :: packet: %O",D),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",D),this.log("_writePacket :: writing to stream");let J=n.default.writeToStream(D,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",J),!J&&T&&T!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",T)):T&&(this.log("_writePacket :: invoking cb"),T())}_sendPacket(D,T,J,nt){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),J=J||this.noop,T=T||this.noop;let $=this._applyTopicAlias(D);if($){T($);return}if(!this.connected){if(D.cmd==="auth"){this._writePacket(D,T);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(D,T,J);return}if(nt){this._writePacket(D,T);return}switch(D.cmd){case"publish":break;case"pubrel":this._storeAndSend(D,T,J);return;default:this._writePacket(D,T);return}switch(D.qos){case 2:case 1:this._storeAndSend(D,T,J);break;case 0:default:this._writePacket(D,T);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(D,T,J){this.log("_storePacket :: packet: %o",D),this.log("_storePacket :: cb? %s",!!T),J=J||this.noop;let nt=D;if(nt.cmd==="publish"){nt=(0,c.default)(D);let yt=this._removeTopicAliasAndRecoverTopicName(nt);if(yt)return T&&T(yt)}let $=nt.qos||0;$===0&&this.queueQoSZero||nt.cmd!=="publish"?this.queue.push({packet:nt,cb:T}):$>0?(T=this.outgoing[nt.messageId]?this.outgoing[nt.messageId].cb:null,this.outgoingStore.put(nt,yt=>{if(yt)return T&&T(yt);J()})):T&&T(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new j.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(D=!1){this.keepaliveManager&&this.options.keepalive&&(D||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let D=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&D.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let T=0;T<D.length;T++){let J={};J[D[T]]=this._resubscribeTopics[D[T]],J.resubscribe=!0,this.subscribe(J,{properties:J[D[T]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(D){if(this.disconnected){this.emit("connect",D);return}this.connackPacket=D,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let T=()=>{let J=this.outgoingStore.createStream(),nt=()=>{J.destroy(),J=null,this._flushStoreProcessingQueue(),$()},$=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",nt),J.on("error",N=>{$(),this._flushStoreProcessingQueue(),this.removeListener("close",nt),this.emit("error",N)});let yt=()=>{if(!J)return;let N=J.read(1),V;if(!N){J.once("readable",yt);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[N.messageId]){yt();return}!this.disconnecting&&!this.reconnectTimer?(V=this.outgoing[N.messageId]?this.outgoing[N.messageId].cb:null,this.outgoing[N.messageId]={volatile:!1,cb(dt,pt){V&&V(dt,pt),yt()}},this._packetIdsDuringStoreProcessing[N.messageId]=!0,this.messageIdProvider.register(N.messageId)?this._sendPacket(N,void 0,void 0,!0):this.log("messageId: %d has already used.",N.messageId)):J.destroy&&J.destroy()};J.on("end",()=>{let N=!0;for(let V in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[V]){N=!1;break}this.removeListener("close",nt),N?($(),this._invokeAllStoreProcessingQueue(),this.emit("connect",D)):T()}),yt()};T()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let D=this._storeProcessingQueue[0];if(D&&D.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let D of this._storeProcessingQueue)D.cbStorePut&&D.cbStorePut(new Error("Connection closed")),D.callback&&D.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(D,T){delete this.outgoing[D],this.outgoingStore.del({messageId:D},(J,nt)=>{T(J,nt),this.messageIdProvider.deallocate(D),this._invokeStoreProcessingQueue()})}};q.VERSION=_.MQTTJS_VERSION,t.default=q}),oc=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=tl(),e=class{constructor(){this.numberAllocator=new o.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(p){return this.numberAllocator.use(p)}deallocate(p){this.numberAllocator.free(p)}clear(){this.numberAllocator.clear()}};t.default=e});function Wr(t){throw new RangeError(ol[t])}function Ts(t,o){let e=t.split("@"),p="";e.length>1&&(p=e[0]+"@",t=e[1]);let d=function(a,n){let u=[],l=a.length;for(;l--;)u[l]=n(a[l]);return u}((t=t.replace(rl,".")).split("."),o).join(".");return p+d}function Is(t){let o=[],e=0,p=t.length;for(;e<p;){let d=t.charCodeAt(e++);if(d>=55296&&d<=56319&&e<p){let a=t.charCodeAt(e++);(64512&a)==56320?o.push(((1023&d)<<10)+(1023&a)+65536):(o.push(d),e--)}else o.push(d)}return o}var ks,Os,rl,ol,Je,ko,ai,li,pi,ui,Rr,ic=Ce(()=>{Bt(),Pt(),Rt(),ks=/^xn--/,Os=/[^\0-\x7E]/,rl=/[\x2E\u3002\uFF0E\uFF61]/g,ol={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Je=Math.floor,ko=String.fromCharCode,ai=function(t,o){return t+22+75*(t<26)-((o!=0)<<5)},li=function(t,o,e){let p=0;for(t=e?Je(t/700):t>>1,t+=Je(t/o);t>455;p+=36)t=Je(t/35);return Je(p+36*t/(t+38))},pi=function(t){let o=[],e=t.length,p=0,d=128,a=72,n=t.lastIndexOf("-");n<0&&(n=0);for(let l=0;l<n;++l)t.charCodeAt(l)>=128&&Wr("not-basic"),o.push(t.charCodeAt(l));for(let l=n>0?n+1:0;l<e;){let c=p;for(let v=1,b=36;;b+=36){l>=e&&Wr("invalid-input");let w=(u=t.charCodeAt(l++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(w>=36||w>Je((2147483647-p)/v))&&Wr("overflow"),p+=w*v;let _=b<=a?1:b>=a+26?26:b-a;if(w<_)break;let k=36-_;v>Je(2147483647/k)&&Wr("overflow"),v*=k}let m=o.length+1;a=li(p-c,m,c==0),Je(p/m)>2147483647-d&&Wr("overflow"),d+=Je(p/m),p%=m,o.splice(p++,0,d)}var u;return String.fromCodePoint(...o)},ui=function(t){let o=[],e=(t=Is(t)).length,p=128,d=0,a=72;for(let l of t)l<128&&o.push(ko(l));let n=o.length,u=n;for(n&&o.push("-");u<e;){let l=2147483647;for(let m of t)m>=p&&m<l&&(l=m);let c=u+1;l-p>Je((2147483647-d)/c)&&Wr("overflow"),d+=(l-p)*c,p=l;for(let m of t)if(m<p&&++d>2147483647&&Wr("overflow"),m==p){let v=d;for(let b=36;;b+=36){let w=b<=a?1:b>=a+26?26:b-a;if(v<w)break;let _=v-w,k=36-w;o.push(ko(ai(w+_%k,0))),v=Je(_/k)}o.push(ko(ai(v,0))),a=li(d,c,u==n),d=0,++u}++d,++p}return o.join("")},Rr={version:"2.1.0",ucs2:{decode:Is,encode:t=>String.fromCodePoint(...t)},decode:pi,encode:ui,toASCII:function(t){return Ts(t,function(o){return Os.test(o)?"xn--"+ui(o):o})},toUnicode:function(t){return Ts(t,function(o){return ks.test(o)?pi(o.slice(4).toLowerCase()):o})}},Rr.decode,Rr.encode,Rr.toASCII,Rr.toUnicode,Rr.ucs2,Rr.version});function nc(t,o){return Object.prototype.hasOwnProperty.call(t,o)}var Ms,ro,Bs,ir,sc=Ce(()=>{Bt(),Pt(),Rt(),Ms=function(t,o,e,p){o=o||"&",e=e||"=";var d={};if(typeof t!="string"||t.length===0)return d;var a=/\+/g;t=t.split(o);var n=1e3;p&&typeof p.maxKeys=="number"&&(n=p.maxKeys);var u=t.length;n>0&&u>n&&(u=n);for(var l=0;l<u;++l){var c,m,v,b,w=t[l].replace(a,"%20"),_=w.indexOf(e);_>=0?(c=w.substr(0,_),m=w.substr(_+1)):(c=w,m=""),v=decodeURIComponent(c),b=decodeURIComponent(m),nc(d,v)?Array.isArray(d[v])?d[v].push(b):d[v]=[d[v],b]:d[v]=b}return d},ro=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Bs=function(t,o,e,p){return o=o||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(d){var a=encodeURIComponent(ro(d))+e;return Array.isArray(t[d])?t[d].map(function(n){return a+encodeURIComponent(ro(n))}).join(o):a+encodeURIComponent(ro(t[d]))}).join(o):p?encodeURIComponent(ro(p))+e+encodeURIComponent(ro(t)):""},ir={},ir.decode=ir.parse=Ms,ir.encode=ir.stringify=Bs,ir.decode,ir.encode,ir.parse,ir.stringify});function Pn(){throw new Error("setTimeout has not been defined")}function Cn(){throw new Error("clearTimeout has not been defined")}function il(t){if(mr===setTimeout)return setTimeout(t,0);if((mr===Pn||!mr)&&setTimeout)return mr=setTimeout,setTimeout(t,0);try{return mr(t,0)}catch{try{return mr.call(null,t,0)}catch{return mr.call(this||Kr,t,0)}}}function ac(){Jr&&Hr&&(Jr=!1,Hr.length?sr=Hr.concat(sr):wo=-1,sr.length&&nl())}function nl(){if(!Jr){var t=il(ac);Jr=!0;for(var o=sr.length;o;){for(Hr=sr,sr=[];++wo<o;)Hr&&Hr[wo].run();wo=-1,o=sr.length}Hr=null,Jr=!1,function(e){if(yr===clearTimeout)return clearTimeout(e);if((yr===Cn||!yr)&&clearTimeout)return yr=clearTimeout,clearTimeout(e);try{yr(e)}catch{try{return yr.call(null,e)}catch{return yr.call(this||Kr,e)}}}(t)}}function Rs(t,o){(this||Kr).fun=t,(this||Kr).array=o}function dr(){}var Ps,mr,yr,Kr,Ee,Hr,sr,Jr,wo,_e,lc=Ce(()=>{Bt(),Pt(),Rt(),Kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ee=Ps={},function(){try{mr=typeof setTimeout=="function"?setTimeout:Pn}catch{mr=Pn}try{yr=typeof clearTimeout=="function"?clearTimeout:Cn}catch{yr=Cn}}(),sr=[],Jr=!1,wo=-1,Ee.nextTick=function(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];sr.push(new Rs(t,o)),sr.length!==1||Jr||il(nl)},Rs.prototype.run=function(){(this||Kr).fun.apply(null,(this||Kr).array)},Ee.title="browser",Ee.browser=!0,Ee.env={},Ee.argv=[],Ee.version="",Ee.versions={},Ee.on=dr,Ee.addListener=dr,Ee.once=dr,Ee.off=dr,Ee.removeListener=dr,Ee.removeAllListeners=dr,Ee.emit=dr,Ee.prependListener=dr,Ee.prependOnceListener=dr,Ee.listeners=function(t){return[]},Ee.binding=function(t){throw new Error("process.binding is not supported")},Ee.cwd=function(){return"/"},Ee.chdir=function(t){throw new Error("process.chdir is not supported")},Ee.umask=function(){return 0},_e=Ps,_e.addListener,_e.argv,_e.binding,_e.browser,_e.chdir,_e.cwd,_e.emit,_e.env,_e.listeners,_e.nextTick,_e.off,_e.on,_e.once,_e.prependListener,_e.prependOnceListener,_e.removeAllListeners,_e.removeListener,_e.title,_e.umask,_e.version,_e.versions});function pc(){if(An)return Wo;An=!0;var t=Wo={},o,e;function p(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=p}catch{o=p}try{typeof clearTimeout=="function"?e=clearTimeout:e=d}catch{e=d}})();function a(k){if(o===setTimeout)return setTimeout(k,0);if((o===p||!o)&&setTimeout)return o=setTimeout,setTimeout(k,0);try{return o(k,0)}catch{try{return o.call(null,k,0)}catch{return o.call(this||Lr,k,0)}}}function n(k){if(e===clearTimeout)return clearTimeout(k);if((e===d||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(k);try{return e(k)}catch{try{return e.call(null,k)}catch{return e.call(this||Lr,k)}}}var u=[],l=!1,c,m=-1;function v(){!l||!c||(l=!1,c.length?u=c.concat(u):m=-1,u.length&&b())}function b(){if(!l){var k=a(v);l=!0;for(var j=u.length;j;){for(c=u,u=[];++m<j;)c&&c[m].run();m=-1,j=u.length}c=null,l=!1,n(k)}}t.nextTick=function(k){var j=new Array(arguments.length-1);if(arguments.length>1)for(var Y=1;Y<arguments.length;Y++)j[Y-1]=arguments[Y];u.push(new w(k,j)),u.length===1&&!l&&a(b)};function w(k,j){(this||Lr).fun=k,(this||Lr).array=j}w.prototype.run=function(){(this||Lr).fun.apply(null,(this||Lr).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function _(){}return t.on=_,t.addListener=_,t.once=_,t.off=_,t.removeListener=_,t.removeAllListeners=_,t.emit=_,t.prependListener=_,t.prependOnceListener=_,t.listeners=function(k){return[]},t.binding=function(k){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(k){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Wo}var Wo,An,Lr,me,sl=Ce(()=>{Bt(),Pt(),Rt(),Wo={},An=!1,Lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,me=pc(),me.platform="browser",me.addListener,me.argv,me.binding,me.browser,me.chdir,me.cwd,me.emit,me.env,me.listeners,me.nextTick,me.off,me.on,me.once,me.prependListener,me.prependOnceListener,me.removeAllListeners,me.removeListener,me.title,me.umask,me.version,me.versions});function uc(){if(xn)return No;xn=!0;var t=me;function o(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function e(a,n){for(var u="",l=0,c=-1,m=0,v,b=0;b<=a.length;++b){if(b<a.length)v=a.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||m===1))if(c!==b-1&&m===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,m=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,m=0;continue}}n&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+a.slice(c+1,b):u=a.slice(c+1,b),l=b-c-1;c=b,m=0}else v===46&&m!==-1?++m:m=-1}return u}function p(a,n){var u=n.dir||n.root,l=n.base||(n.name||"")+(n.ext||"");return u?u===n.root?u+l:u+a+l:l}var d={resolve:function(){for(var a="",n=!1,u,l=arguments.length-1;l>=-1&&!n;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(a=c+"/"+a,n=c.charCodeAt(0)===47)}return a=e(a,!n),n?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(o(a),a.length===0)return".";var n=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=e(a,!n),a.length===0&&!n&&(a="."),a.length>0&&u&&(a+="/"),n?"/"+a:a},isAbsolute:function(a){return o(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,n=0;n<arguments.length;++n){var u=arguments[n];o(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":d.normalize(a)},relative:function(a,n){if(o(a),o(n),a===n||(a=d.resolve(a),n=d.resolve(n),a===n))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var l=a.length,c=l-u,m=1;m<n.length&&n.charCodeAt(m)===47;++m);for(var v=n.length,b=v-m,w=c<b?c:b,_=-1,k=0;k<=w;++k){if(k===w){if(b>w){if(n.charCodeAt(m+k)===47)return n.slice(m+k+1);if(k===0)return n.slice(m+k)}else c>w&&(a.charCodeAt(u+k)===47?_=k:k===0&&(_=0));break}var j=a.charCodeAt(u+k),Y=n.charCodeAt(m+k);if(j!==Y)break;j===47&&(_=k)}var C="";for(k=u+_+1;k<=l;++k)(k===l||a.charCodeAt(k)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+n.slice(m+_):(m+=_,n.charCodeAt(m)===47&&++m,n.slice(m))},_makeLong:function(a){return a},dirname:function(a){if(o(a),a.length===0)return".";for(var n=a.charCodeAt(0),u=n===47,l=-1,c=!0,m=a.length-1;m>=1;--m)if(n=a.charCodeAt(m),n===47){if(!c){l=m;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":a.slice(0,l)},basename:function(a,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');o(a);var u=0,l=-1,c=!0,m;if(n!==void 0&&n.length>0&&n.length<=a.length){if(n.length===a.length&&n===a)return"";var v=n.length-1,b=-1;for(m=a.length-1;m>=0;--m){var w=a.charCodeAt(m);if(w===47){if(!c){u=m+1;break}}else b===-1&&(c=!1,b=m+1),v>=0&&(w===n.charCodeAt(v)?--v===-1&&(l=m):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=a.length),a.slice(u,l)}else{for(m=a.length-1;m>=0;--m)if(a.charCodeAt(m)===47){if(!c){u=m+1;break}}else l===-1&&(c=!1,l=m+1);return l===-1?"":a.slice(u,l)}},extname:function(a){o(a);for(var n=-1,u=0,l=-1,c=!0,m=0,v=a.length-1;v>=0;--v){var b=a.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?n===-1?n=v:m!==1&&(m=1):n!==-1&&(m=-1)}return n===-1||l===-1||m===0||m===1&&n===l-1&&n===u+1?"":a.slice(n,l)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return p("/",a)},parse:function(a){o(a);var n={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return n;var u=a.charCodeAt(0),l=u===47,c;l?(n.root="/",c=1):c=0;for(var m=-1,v=0,b=-1,w=!0,_=a.length-1,k=0;_>=c;--_){if(u=a.charCodeAt(_),u===47){if(!w){v=_+1;break}continue}b===-1&&(w=!1,b=_+1),u===46?m===-1?m=_:k!==1&&(k=1):m!==-1&&(k=-1)}return m===-1||b===-1||k===0||k===1&&m===b-1&&m===v+1?b!==-1&&(v===0&&l?n.base=n.name=a.slice(1,b):n.base=n.name=a.slice(v,b)):(v===0&&l?(n.name=a.slice(1,m),n.base=a.slice(1,b)):(n.name=a.slice(v,m),n.base=a.slice(v,b)),n.ext=a.slice(m,b)),v>0?n.dir=a.slice(0,v-1):l&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,No=d,No}var No,xn,Fn,cc=Ce(()=>{Bt(),Pt(),Rt(),sl(),No={},xn=!1,Fn=uc()}),al={};Zr(al,{URL:()=>Il,Url:()=>wl,default:()=>le,fileURLToPath:()=>ll,format:()=>_l,parse:()=>Tl,pathToFileURL:()=>pl,resolve:()=>El,resolveObject:()=>Sl});function He(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function ho(t,o,e){if(t&&Ze.isObject(t)&&t instanceof He)return t;var p=new He;return p.parse(t,o,e),p}function dc(){if(Wn)return jo;Wn=!0;var t=_e;function o(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function e(a,n){for(var u="",l=0,c=-1,m=0,v,b=0;b<=a.length;++b){if(b<a.length)v=a.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||m===1))if(c!==b-1&&m===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,m=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,m=0;continue}}n&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+a.slice(c+1,b):u=a.slice(c+1,b),l=b-c-1;c=b,m=0}else v===46&&m!==-1?++m:m=-1}return u}function p(a,n){var u=n.dir||n.root,l=n.base||(n.name||"")+(n.ext||"");return u?u===n.root?u+l:u+a+l:l}var d={resolve:function(){for(var a="",n=!1,u,l=arguments.length-1;l>=-1&&!n;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(a=c+"/"+a,n=c.charCodeAt(0)===47)}return a=e(a,!n),n?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(o(a),a.length===0)return".";var n=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=e(a,!n),a.length===0&&!n&&(a="."),a.length>0&&u&&(a+="/"),n?"/"+a:a},isAbsolute:function(a){return o(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,n=0;n<arguments.length;++n){var u=arguments[n];o(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":d.normalize(a)},relative:function(a,n){if(o(a),o(n),a===n||(a=d.resolve(a),n=d.resolve(n),a===n))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var l=a.length,c=l-u,m=1;m<n.length&&n.charCodeAt(m)===47;++m);for(var v=n.length,b=v-m,w=c<b?c:b,_=-1,k=0;k<=w;++k){if(k===w){if(b>w){if(n.charCodeAt(m+k)===47)return n.slice(m+k+1);if(k===0)return n.slice(m+k)}else c>w&&(a.charCodeAt(u+k)===47?_=k:k===0&&(_=0));break}var j=a.charCodeAt(u+k),Y=n.charCodeAt(m+k);if(j!==Y)break;j===47&&(_=k)}var C="";for(k=u+_+1;k<=l;++k)(k===l||a.charCodeAt(k)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+n.slice(m+_):(m+=_,n.charCodeAt(m)===47&&++m,n.slice(m))},_makeLong:function(a){return a},dirname:function(a){if(o(a),a.length===0)return".";for(var n=a.charCodeAt(0),u=n===47,l=-1,c=!0,m=a.length-1;m>=1;--m)if(n=a.charCodeAt(m),n===47){if(!c){l=m;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":a.slice(0,l)},basename:function(a,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');o(a);var u=0,l=-1,c=!0,m;if(n!==void 0&&n.length>0&&n.length<=a.length){if(n.length===a.length&&n===a)return"";var v=n.length-1,b=-1;for(m=a.length-1;m>=0;--m){var w=a.charCodeAt(m);if(w===47){if(!c){u=m+1;break}}else b===-1&&(c=!1,b=m+1),v>=0&&(w===n.charCodeAt(v)?--v===-1&&(l=m):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=a.length),a.slice(u,l)}else{for(m=a.length-1;m>=0;--m)if(a.charCodeAt(m)===47){if(!c){u=m+1;break}}else l===-1&&(c=!1,l=m+1);return l===-1?"":a.slice(u,l)}},extname:function(a){o(a);for(var n=-1,u=0,l=-1,c=!0,m=0,v=a.length-1;v>=0;--v){var b=a.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?n===-1?n=v:m!==1&&(m=1):n!==-1&&(m=-1)}return n===-1||l===-1||m===0||m===1&&n===l-1&&n===u+1?"":a.slice(n,l)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return p("/",a)},parse:function(a){o(a);var n={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return n;var u=a.charCodeAt(0),l=u===47,c;l?(n.root="/",c=1):c=0;for(var m=-1,v=0,b=-1,w=!0,_=a.length-1,k=0;_>=c;--_){if(u=a.charCodeAt(_),u===47){if(!w){v=_+1;break}continue}b===-1&&(w=!1,b=_+1),u===46?m===-1?m=_:k!==1&&(k=1):m!==-1&&(k=-1)}return m===-1||b===-1||k===0||k===1&&m===b-1&&m===v+1?b!==-1&&(v===0&&l?n.base=n.name=a.slice(1,b):n.base=n.name=a.slice(v,b)):(v===0&&l?(n.name=a.slice(1,m),n.base=a.slice(1,b)):(n.name=a.slice(v,m),n.base=a.slice(v,b)),n.ext=a.slice(m,b)),v>0?n.dir=a.slice(0,v-1):l&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,jo=d,jo}function hc(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return $o?fc(t):mc(t)}function fc(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let d=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&d===102||e[p+1]==="5"&&d===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(fl,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,d=e[2];if(p<dl||p>hl||d!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function mc(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function yc(t){let o=Nn.resolve(t),e=t.charCodeAt(t.length-1);(e===cl||$o&&e===ul)&&o[o.length-1]!==Nn.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(ml,"%25")),!$o&&o.includes("\\")&&(o=o.replace(yl,"%5C")),o.includes(`
`)&&(o=o.replace(gl,"%0A")),o.includes("\r")&&(o=o.replace(vl,"%0D")),o.includes("	")&&(o=o.replace(bl,"%09")),p.pathname=o,p}function ll(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Vo?gc(t):vc(t)}function gc(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let d=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&d===102||e[p+1]==="5"&&d===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(Rl,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,d=e[2];if(p<Ml||p>Bl||d!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function vc(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function pl(t){let o=Fn.resolve(t),e=t.charCodeAt(t.length-1);(e===Ol||Vo&&e===kl)&&o[o.length-1]!==Fn.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(Pl,"%25")),!Vo&&o.includes("\\")&&(o=o.replace(Cl,"%5C")),o.includes(`
`)&&(o=o.replace(Al,"%0A")),o.includes("\r")&&(o=o.replace(xl,"%0D")),o.includes("	")&&(o=o.replace(Fl,"%09")),p.pathname=o,p}var le,Cs,Ze,As,xs,Fs,Ws,Oo,ci,di,hi,Ns,js,Mo,Nr,Bo,jo,Wn,Nn,Ds,ul,cl,dl,hl,$o,fl,ml,yl,gl,vl,bl,Ls,wl,_l,El,Sl,Tl,Il,kl,Ol,Ml,Bl,Vo,Rl,Pl,Cl,Al,xl,Fl,bc=Ce(()=>{Bt(),Pt(),Rt(),ic(),sc(),lc(),cc(),sl(),le={},Cs=Rr,Ze={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},le.parse=ho,le.resolve=function(t,o){return ho(t,!1,!0).resolve(o)},le.resolveObject=function(t,o){return t?ho(t,!1,!0).resolveObject(o):o},le.format=function(t){return Ze.isString(t)&&(t=ho(t)),t instanceof He?t.format():He.prototype.format.call(t)},le.Url=He,As=/^([a-z0-9.+-]+:)/i,xs=/:[0-9]*$/,Fs=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ws=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Oo=["'"].concat(Ws),ci=["%","/","?",";","#"].concat(Oo),di=["/","?","#"],hi=/^[+a-z0-9A-Z_-]{0,63}$/,Ns=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,js={javascript:!0,"javascript:":!0},Mo={javascript:!0,"javascript:":!0},Nr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Bo=ir,He.prototype.parse=function(t,o,e){if(!Ze.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var p=t.indexOf("?"),d=p!==-1&&p<t.indexOf("#")?"?":"#",a=t.split(d);a[0]=a[0].replace(/\\/g,"/");var n=t=a.join(d);if(n=n.trim(),!e&&t.split("#").length===1){var u=Fs.exec(n);if(u)return this.path=n,this.href=n,this.pathname=u[1],u[2]?(this.search=u[2],this.query=o?Bo.parse(this.search.substr(1)):this.search.substr(1)):o&&(this.search="",this.query={}),this}var l=As.exec(n);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var m=n.substr(0,2)==="//";!m||l&&Mo[l]||(n=n.substr(2),this.slashes=!0)}if(!Mo[l]&&(m||l&&!Nr[l])){for(var v,b,w=-1,_=0;_<di.length;_++)(k=n.indexOf(di[_]))!==-1&&(w===-1||k<w)&&(w=k);for((b=w===-1?n.lastIndexOf("@"):n.lastIndexOf("@",w))!==-1&&(v=n.slice(0,b),n=n.slice(b+1),this.auth=decodeURIComponent(v)),w=-1,_=0;_<ci.length;_++){var k;(k=n.indexOf(ci[_]))!==-1&&(w===-1||k<w)&&(w=k)}w===-1&&(w=n.length),this.host=n.slice(0,w),n=n.slice(w),this.parseHost(),this.hostname=this.hostname||"";var j=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!j)for(var Y=this.hostname.split(/\./),C=(_=0,Y.length);_<C;_++){var R=Y[_];if(R&&!R.match(hi)){for(var q="",tt=0,D=R.length;tt<D;tt++)R.charCodeAt(tt)>127?q+="x":q+=R[tt];if(!q.match(hi)){var T=Y.slice(0,_),J=Y.slice(_+1),nt=R.match(Ns);nt&&(T.push(nt[1]),J.unshift(nt[2])),J.length&&(n="/"+J.join(".")+n),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=Cs.toASCII(this.hostname));var $=this.port?":"+this.port:"",yt=this.hostname||"";this.host=yt+$,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),n[0]!=="/"&&(n="/"+n))}if(!js[c])for(_=0,C=Oo.length;_<C;_++){var N=Oo[_];if(n.indexOf(N)!==-1){var V=encodeURIComponent(N);V===N&&(V=escape(N)),n=n.split(N).join(V)}}var dt=n.indexOf("#");dt!==-1&&(this.hash=n.substr(dt),n=n.slice(0,dt));var pt=n.indexOf("?");if(pt!==-1?(this.search=n.substr(pt),this.query=n.substr(pt+1),o&&(this.query=Bo.parse(this.query)),n=n.slice(0,pt)):o&&(this.search="",this.query={}),n&&(this.pathname=n),Nr[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){$=this.pathname||"";var It=this.search||"";this.path=$+It}return this.href=this.format(),this},He.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var o=this.protocol||"",e=this.pathname||"",p=this.hash||"",d=!1,a="";this.host?d=t+this.host:this.hostname&&(d=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(d+=":"+this.port)),this.query&&Ze.isObject(this.query)&&Object.keys(this.query).length&&(a=Bo.stringify(this.query));var n=this.search||a&&"?"+a||"";return o&&o.substr(-1)!==":"&&(o+=":"),this.slashes||(!o||Nr[o])&&d!==!1?(d="//"+(d||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):d||(d=""),p&&p.charAt(0)!=="#"&&(p="#"+p),n&&n.charAt(0)!=="?"&&(n="?"+n),o+d+(e=e.replace(/[?#]/g,function(u){return encodeURIComponent(u)}))+(n=n.replace("#","%23"))+p},He.prototype.resolve=function(t){return this.resolveObject(ho(t,!1,!0)).format()},He.prototype.resolveObject=function(t){if(Ze.isString(t)){var o=new He;o.parse(t,!1,!0),t=o}for(var e=new He,p=Object.keys(this),d=0;d<p.length;d++){var a=p[d];e[a]=this[a]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var n=Object.keys(t),u=0;u<n.length;u++){var l=n[u];l!=="protocol"&&(e[l]=t[l])}return Nr[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Nr[t.protocol]){for(var c=Object.keys(t),m=0;m<c.length;m++){var v=c[m];e[v]=t[v]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||Mo[t.protocol])e.pathname=t.pathname;else{for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),e.pathname=b.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var w=e.pathname||"",_=e.search||"";e.path=w+_}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var k=e.pathname&&e.pathname.charAt(0)==="/",j=t.host||t.pathname&&t.pathname.charAt(0)==="/",Y=j||k||e.host&&t.pathname,C=Y,R=e.pathname&&e.pathname.split("/")||[],q=(b=t.pathname&&t.pathname.split("/")||[],e.protocol&&!Nr[e.protocol]);if(q&&(e.hostname="",e.port=null,e.host&&(R[0]===""?R[0]=e.host:R.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),Y=Y&&(b[0]===""||R[0]==="")),j)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,R=b;else if(b.length)R||(R=[]),R.pop(),R=R.concat(b),e.search=t.search,e.query=t.query;else if(!Ze.isNullOrUndefined(t.search))return q&&(e.hostname=e.host=R.shift(),(nt=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=nt.shift(),e.host=e.hostname=nt.shift())),e.search=t.search,e.query=t.query,Ze.isNull(e.pathname)&&Ze.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!R.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var tt=R.slice(-1)[0],D=(e.host||t.host||R.length>1)&&(tt==="."||tt==="..")||tt==="",T=0,J=R.length;J>=0;J--)(tt=R[J])==="."?R.splice(J,1):tt===".."?(R.splice(J,1),T++):T&&(R.splice(J,1),T--);if(!Y&&!C)for(;T--;T)R.unshift("..");!Y||R[0]===""||R[0]&&R[0].charAt(0)==="/"||R.unshift(""),D&&R.join("/").substr(-1)!=="/"&&R.push("");var nt,$=R[0]===""||R[0]&&R[0].charAt(0)==="/";return q&&(e.hostname=e.host=$?"":R.length?R.shift():"",(nt=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=nt.shift(),e.host=e.hostname=nt.shift())),(Y=Y||e.host&&R.length)&&!$&&R.unshift(""),R.length?e.pathname=R.join("/"):(e.pathname=null,e.path=null),Ze.isNull(e.pathname)&&Ze.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},He.prototype.parseHost=function(){var t=this.host,o=xs.exec(t);o&&((o=o[0])!==":"&&(this.port=o.substr(1)),t=t.substr(0,t.length-o.length)),t&&(this.hostname=t)},le.Url,le.format,le.resolve,le.resolveObject,jo={},Wn=!1,Nn=dc(),Ds=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,le.URL=typeof URL<"u"?URL:null,le.pathToFileURL=yc,le.fileURLToPath=hc,le.Url,le.format,le.resolve,le.resolveObject,le.URL,ul=92,cl=47,dl=97,hl=122,$o=Ds==="win32",fl=/\//g,ml=/%/g,yl=/\\/g,gl=/\n/g,vl=/\r/g,bl=/\t/g,Ls=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,le.URL=typeof URL<"u"?URL:null,le.pathToFileURL=pl,le.fileURLToPath=ll,wl=le.Url,_l=le.format,El=le.resolve,Sl=le.resolveObject,Tl=le.parse,Il=le.URL,kl=92,Ol=47,Ml=97,Bl=122,Vo=Ls==="win32",Rl=/\//g,Pl=/%/g,Cl=/\\/g,Al=/\n/g,xl=/\r/g,Fl=/\t/g}),wc=Wt((t,o)=>{Bt(),Pt(),Rt(),o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Zn=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=t.writev=void 0;var o=eo(),e=(xe(),de(Ae));function p(a,n){let u=new Array(a.length);for(let l=0;l<a.length;l++)typeof a[l].chunk=="string"?u[l]=e.Buffer.from(a[l].chunk,"utf8"):u[l]=a[l].chunk;this._write(e.Buffer.concat(u),"binary",n)}t.writev=p;var d=class extends o.Duplex{constructor(a,n,u){super({objectMode:!0}),this.proxy=n,this.socket=u,this.writeQueue=[],a.objectMode||(this._writev=p.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{this.destroyed||this.push(l)})}_read(a){this.proxy.read(a)}_write(a,n,u){this.isSocketOpen?this.writeToProxy(a,n,u):this.writeQueue.push({chunk:a,encoding:n,cb:u})}_final(a){this.writeQueue=[],this.proxy.end(a)}_destroy(a,n){this.writeQueue=[],this.proxy.destroy(),n(a)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(a,n,u){this.proxy.write(a,n)===!1?this.proxy.once("drain",u):u()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:a,encoding:n,cb:u}=this.writeQueue.shift();this.writeToProxy(a,n,u)}}};t.BufferedDuplex=d}),Ro=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var e=(xe(),de(Ae)),p=o(wc()),d=o(Er()),a=eo(),n=o(Qo()),u=Zn(),l=(0,d.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function m(Y,C){let R=`${Y.protocol}://${Y.hostname}:${Y.port}${Y.path}`;return typeof Y.transformWsUrl=="function"&&(R=Y.transformWsUrl(R,Y,C)),R}function v(Y){let C=Y;return Y.port||(Y.protocol==="wss"?C.port=443:C.port=80),Y.path||(C.path="/"),Y.wsOptions||(C.wsOptions={}),!n.default&&!Y.forceNativeWebSocket&&Y.protocol==="wss"&&c.forEach(R=>{Object.prototype.hasOwnProperty.call(Y,R)&&!Object.prototype.hasOwnProperty.call(Y.wsOptions,R)&&(C.wsOptions[R]=Y[R])}),C}function b(Y){let C=v(Y);if(C.hostname||(C.hostname=C.host),!C.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let R=new URL(document.URL);C.hostname=R.hostname,C.port||(C.port=Number(R.port))}return C.objectMode===void 0&&(C.objectMode=!(C.binary===!0||C.binary===void 0)),C}function w(Y,C,R){l("createWebSocket"),l(`protocol: ${R.protocolId} ${R.protocolVersion}`);let q=R.protocolId==="MQIsdp"&&R.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${C} and protocol: ${q}`);let tt;return R.createWebsocket?tt=R.createWebsocket(C,[q],R):tt=new p.default(C,[q],R.wsOptions),tt}function _(Y,C){let R=C.protocolId==="MQIsdp"&&C.protocolVersion===3?"mqttv3.1":"mqtt",q=m(C,Y),tt;return C.createWebsocket?tt=C.createWebsocket(q,[R],C):tt=new WebSocket(q,[R]),tt.binaryType="arraybuffer",tt}var k=(Y,C)=>{l("streamBuilder");let R=v(C);R.hostname=R.hostname||R.host||"localhost";let q=m(R,Y),tt=w(Y,q,R),D=p.default.createWebSocketStream(tt,R.wsOptions);return D.url=q,tt.on("close",()=>{D.destroy()}),D};t.streamBuilder=k;var j=(Y,C)=>{l("browserStreamBuilder");let R,q=b(C).browserBufferSize||1024*512,tt=C.browserBufferTimeout||1e3,D=!C.objectMode,T=_(Y,C),J=$(C,pt,It);C.objectMode||(J._writev=u.writev.bind(J)),J.on("close",()=>{T.close()});let nt=typeof T.addEventListener<"u";T.readyState===T.OPEN?(R=J,R.socket=T):(R=new u.BufferedDuplex(C,J,T),nt?T.addEventListener("open",yt):T.onopen=yt),nt?(T.addEventListener("close",N),T.addEventListener("error",V),T.addEventListener("message",dt)):(T.onclose=N,T.onerror=V,T.onmessage=dt);function $(St,Z,lt){let gt=new a.Transform({objectMode:St.objectMode});return gt._write=Z,gt._flush=lt,gt}function yt(){l("WebSocket onOpen"),R instanceof u.BufferedDuplex&&R.socketReady()}function N(St){l("WebSocket onClose",St),R.end(),R.destroy()}function V(St){l("WebSocket onError",St);let Z=new Error("WebSocket error");Z.event=St,R.destroy(Z)}async function dt(St){let{data:Z}=St;Z instanceof ArrayBuffer?Z=e.Buffer.from(Z):Z instanceof Blob?Z=e.Buffer.from(await new Response(Z).arrayBuffer()):Z=e.Buffer.from(Z,"utf8"),J&&!J.destroyed&&J.push(Z)}function pt(St,Z,lt){if(T.bufferedAmount>q){setTimeout(pt,tt,St,Z,lt);return}D&&typeof St=="string"&&(St=e.Buffer.from(St,"utf8"));try{T.send(St)}catch(gt){return lt(gt)}lt()}function It(St){T.close(),St()}return R};t.browserStreamBuilder=j}),Xn={};Zr(Xn,{Server:()=>ye,Socket:()=>ye,Stream:()=>ye,_createServerHandle:()=>ye,_normalizeArgs:()=>ye,_setSimultaneousAccepts:()=>ye,connect:()=>ye,createConnection:()=>ye,createServer:()=>ye,default:()=>Wl,isIP:()=>ye,isIPv4:()=>ye,isIPv6:()=>ye});function ye(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Wl,Nl=Ce(()=>{Bt(),Pt(),Rt(),Wl={_createServerHandle:ye,_normalizeArgs:ye,_setSimultaneousAccepts:ye,connect:ye,createConnection:ye,createServer:ye,isIP:ye,isIPv4:ye,isIPv6:ye,Server:ye,Socket:ye,Stream:ye}}),Us=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((Nl(),de(Xn))),p=o(Er()),d=(0,p.default)("mqttjs:tcp"),a=(n,u)=>{u.port=u.port||1883,u.hostname=u.hostname||u.host||"localhost";let{port:l,path:c}=u,m=u.hostname;return d("port %d and host %s",l,m),e.default.createConnection({port:l,host:m,path:c})};t.default=a}),jl={};Zr(jl,{default:()=>Dl});var Dl,_c=Ce(()=>{Bt(),Pt(),Rt(),Dl={}}),zs=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((_c(),de(jl))),p=o((Nl(),de(Xn))),d=o(Er()),a=(0,d.default)("mqttjs:tls"),n=(u,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",p.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,a("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let c=e.default.connect(l);c.on("secureConnect",()=>{l.rejectUnauthorized&&!c.authorized?c.emit("error",new Error("TLS not authorized")):c.removeListener("error",m)});function m(v){l.rejectUnauthorized&&u.emit("error",v),c.end()}return c.on("error",m),c};t.default=n}),$s=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(xe(),de(Ae)),e=eo(),p=Zn(),d,a,n;function u(){let b=new e.Transform;return b._write=(w,_,k)=>{d.send({data:w.buffer,success(){k()},fail(j){k(new Error(j))}})},b._flush=w=>{d.close({success(){w()}})},b}function l(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,w){let _=b.protocol==="wxs"?"wss":"ws",k=`${_}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(k=`${_}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(k=b.transformWsUrl(k,b,w)),k}function m(){d.onOpen(()=>{n.socketReady()}),d.onMessage(b=>{let{data:w}=b;w instanceof ArrayBuffer?w=o.Buffer.from(w):w=o.Buffer.from(w,"utf8"),a.push(w)}),d.onClose(()=>{n.emit("close"),n.end(),n.destroy()}),d.onError(b=>{let w=new Error(b.errMsg);n.destroy(w)})}var v=(b,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let _=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";l(w);let k=c(w,b);d=wx.connectSocket({url:k,protocols:[_]}),a=u(),n=new p.BufferedDuplex(w,a,d),n._destroy=(Y,C)=>{d.close({success(){C&&C(Y)}})};let j=n.destroy;return n.destroy=(Y,C)=>(n.destroy=j,setTimeout(()=>{d.close({fail(){n._destroy(Y,C)}})},0),n),m(),n};t.default=v}),Vs=Wt(t=>{Bt(),Pt(),Rt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(xe(),de(Ae)),e=eo(),p=Zn(),d,a,n,u=!1;function l(){let w=new e.Transform;return w._write=(_,k,j)=>{d.sendSocketMessage({data:_.buffer,success(){j()},fail(){j(new Error)}})},w._flush=_=>{d.closeSocket({success(){_()}})},w}function c(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function m(w,_){let k=w.protocol==="alis"?"wss":"ws",j=`${k}://${w.hostname}${w.path}`;return w.port&&w.port!==80&&w.port!==443&&(j=`${k}://${w.hostname}:${w.port}${w.path}`),typeof w.transformWsUrl=="function"&&(j=w.transformWsUrl(j,w,_)),j}function v(){u||(u=!0,d.onSocketOpen(()=>{n.socketReady()}),d.onSocketMessage(w=>{if(typeof w.data=="string"){let _=o.Buffer.from(w.data,"base64");a.push(_)}else{let _=new FileReader;_.addEventListener("load",()=>{let k=_.result;k instanceof ArrayBuffer?k=o.Buffer.from(k):k=o.Buffer.from(k,"utf8"),a.push(k)}),_.readAsArrayBuffer(w.data)}}),d.onSocketClose(()=>{n.end(),n.destroy()}),d.onSocketError(w=>{n.destroy(w)}))}var b=(w,_)=>{if(_.hostname=_.hostname||_.host,!_.hostname)throw new Error("Could not determine host. Specify host manually.");let k=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt";c(_);let j=m(_,w);return d=_.my,d.connectSocket({url:j,protocols:k}),a=l(),n=new p.BufferedDuplex(_,a,d),v(),n};t.default=b}),Ec=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=void 0;var e=o(Er()),p=o((bc(),de(al))),d=o(Bn()),a=o(Qo());typeof(ae==null?void 0:ae.nextTick)!="function"&&(ae.nextTick=setImmediate);var n=(0,e.default)("mqttjs"),u=null;function l(v){let b;v.auth&&(b=v.auth.match(/^(.+):(.+)$/),b?(v.username=b[1],v.password=b[2]):v.username=v.auth)}function c(v,b){var w,_,k,j;if(n("connecting to an MQTT broker..."),typeof v=="object"&&!b&&(b=v,v=""),b=b||{},v&&typeof v=="string"){let R=p.default.parse(v,!0),q={};if(R.port!=null&&(q.port=Number(R.port)),q.host=R.hostname,q.query=R.query,q.auth=R.auth,q.protocol=R.protocol,q.path=R.path,q.protocol=(w=q.protocol)===null||w===void 0?void 0:w.replace(/:$/,""),b=Object.assign(Object.assign({},q),b),!b.protocol)throw new Error("Missing protocol")}if(b.unixSocket=b.unixSocket||((_=b.protocol)===null||_===void 0?void 0:_.includes("+unix")),b.unixSocket?b.protocol=b.protocol.replace("+unix",""):!(!((k=b.protocol)===null||k===void 0)&&k.startsWith("ws"))&&!(!((j=b.protocol)===null||j===void 0)&&j.startsWith("wx"))&&delete b.path,l(b),b.query&&typeof b.query.clientId=="string"&&(b.clientId=b.query.clientId),b.cert&&b.key)if(b.protocol){if(["mqtts","wss","wxs","alis"].indexOf(b.protocol)===-1)switch(b.protocol){case"mqtt":b.protocol="mqtts";break;case"ws":b.protocol="wss";break;case"wx":b.protocol="wxs";break;case"ali":b.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${b.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(u||(u={},!a.default&&!b.forceNativeWebSocket?(u.ws=Ro().streamBuilder,u.wss=Ro().streamBuilder,u.mqtt=Us().default,u.tcp=Us().default,u.ssl=zs().default,u.tls=u.ssl,u.mqtts=zs().default):(u.ws=Ro().browserStreamBuilder,u.wss=Ro().browserStreamBuilder,u.wx=$s().default,u.wxs=$s().default,u.ali=Vs().default,u.alis=Vs().default)),!u[b.protocol]){let R=["mqtts","wss"].indexOf(b.protocol)!==-1;b.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((q,tt)=>R&&tt%2===0?!1:typeof u[q]=="function")[0]}if(b.clean===!1&&!b.clientId)throw new Error("Missing clientId for unclean clients");b.protocol&&(b.defaultProtocol=b.protocol);function Y(R){return b.servers&&((!R._reconnectCount||R._reconnectCount===b.servers.length)&&(R._reconnectCount=0),b.host=b.servers[R._reconnectCount].host,b.port=b.servers[R._reconnectCount].port,b.protocol=b.servers[R._reconnectCount].protocol?b.servers[R._reconnectCount].protocol:b.defaultProtocol,b.hostname=b.host,R._reconnectCount++),n("calling streambuilder for",b.protocol),u[b.protocol](R,b)}let C=new d.default(Y,b);return C.on("error",()=>{}),C}function m(v,b,w=!0){return new Promise((_,k)=>{let j=c(v,b),Y={connect:R=>{C(),_(j)},end:()=>{C(),_(j)},error:R=>{C(),j.end(),k(R)}};w===!1&&(Y.close=()=>{Y.error(new Error("Couldn't connect to server"))});function C(){Object.keys(Y).forEach(R=>{j.off(R,Y[R])})}Object.keys(Y).forEach(R=>{j.on(R,Y[R])})})}t.connectAsync=m,t.default=c}),Hs=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__createBinding||(Object.create?function(w,_,k,j){j===void 0&&(j=k);var Y=Object.getOwnPropertyDescriptor(_,k);(!Y||("get"in Y?!_.__esModule:Y.writable||Y.configurable))&&(Y={enumerable:!0,get:function(){return _[k]}}),Object.defineProperty(w,j,Y)}:function(w,_,k,j){j===void 0&&(j=k),w[j]=_[k]}),e=t&&t.__setModuleDefault||(Object.create?function(w,_){Object.defineProperty(w,"default",{enumerable:!0,value:_})}:function(w,_){w.default=_}),p=t&&t.__importStar||function(w){if(w&&w.__esModule)return w;var _={};if(w!=null)for(var k in w)k!=="default"&&Object.prototype.hasOwnProperty.call(w,k)&&o(_,w,k);return e(_,w),_},d=t&&t.__exportStar||function(w,_){for(var k in w)k!=="default"&&!Object.prototype.hasOwnProperty.call(_,k)&&o(_,w,k)},a=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var n=a(Bn());t.MqttClient=n.default;var u=a(ja());t.DefaultMessageIdProvider=u.default;var l=a(oc());t.UniqueMessageIdProvider=l.default;var c=a(Da());t.Store=c.default;var m=p(Ec());t.connect=m.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return m.connectAsync}});var v=a(el());t.KeepaliveManager=v.default,t.Client=n.default,d(Bn(),t),d(lo(),t);var b=Jo();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})}),Sc=Wt(t=>{Bt(),Pt(),Rt();var o=t&&t.__createBinding||(Object.create?function(n,u,l,c){c===void 0&&(c=l);var m=Object.getOwnPropertyDescriptor(u,l);(!m||("get"in m?!u.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(n,c,m)}:function(n,u,l,c){c===void 0&&(c=l),n[c]=u[l]}),e=t&&t.__setModuleDefault||(Object.create?function(n,u){Object.defineProperty(n,"default",{enumerable:!0,value:u})}:function(n,u){n.default=u}),p=t&&t.__importStar||function(n){if(n&&n.__esModule)return n;var u={};if(n!=null)for(var l in n)l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)&&o(u,n,l);return e(u,n),u},d=t&&t.__exportStar||function(n,u){for(var l in n)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&o(u,n,l)};Object.defineProperty(t,"__esModule",{value:!0});var a=p(Hs());t.default=a,d(Hs(),t)});const Tc=Sc();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/var jr={},Gs;function Ic(){return Gs||(Gs=1,function(t){var o=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,s,y){i!=Array.prototype&&i!=Object.prototype&&(i[s]=y.value)},e=typeof window<"u"&&window===jr?jr:typeof Xo<"u"&&Xo!=null?Xo:jr;function p(i,s){if(s){var y=e;i=i.split(".");for(var S=0;S<i.length-1;S++){var G=i[S];G in y||(y[G]={}),y=y[G]}i=i[i.length-1],S=y[i],s=s(S),s!=S&&s!=null&&o(y,i,{configurable:!0,writable:!0,value:s})}}function d(i){var s=0;return function(){return s<i.length?{done:!1,value:i[s++]}:{done:!0}}}function a(){a=function(){},e.Symbol||(e.Symbol=u)}function n(i,s){this.a=i,o(this,"description",{configurable:!0,writable:!0,value:s})}n.prototype.toString=function(){return this.a};var u=function(){function i(y){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(y||"")+"_"+s++,y)}var s=0;return i}();function l(){a();var i=e.Symbol.iterator;i||(i=e.Symbol.iterator=e.Symbol("Symbol.iterator")),typeof Array.prototype[i]!="function"&&o(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return c(d(this))}}),l=function(){}}function c(i){return l(),i={next:i},i[e.Symbol.iterator]=function(){return this},i}function m(i,s){l(),i instanceof String&&(i+="");var y=0,S={next:function(){if(y<i.length){var G=y++;return{value:s(G,i[G]),done:!1}}return S.next=function(){return{done:!0,value:void 0}},S.next()}};return S[Symbol.iterator]=function(){return S},S}p("Array.prototype.entries",function(i){return i||function(){return m(this,function(s,y){return[s,y]})}});var v=jr||self;function b(i,s,y){i=i.split("."),y=y||v,i[0]in y||typeof y.execScript>"u"||y.execScript("var "+i[0]);for(var S;i.length&&(S=i.shift());)i.length||s===void 0?y[S]&&y[S]!==Object.prototype[S]?y=y[S]:y=y[S]={}:y[S]=s}function w(i){var s=typeof i;if(s=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return s;var y=Object.prototype.toString.call(i);if(y=="[object Window]")return"object";if(y=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(y=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(s=="function"&&typeof i.call>"u")return"object";return s}function _(i){var s=typeof i;return s=="object"&&i!=null||s=="function"}function k(i,s,y){b(i,s,y)}function j(i,s){function y(){}y.prototype=s.prototype,i.prototype=new y,i.prototype.constructor=i}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(i,s){for(var y,S,G=1;G<arguments.length;G++){S=arguments[G];for(y in S)i[y]=S[y];for(var ut=0;ut<Y.length;ut++)y=Y[ut],Object.prototype.hasOwnProperty.call(S,y)&&(i[y]=S[y])}}var R=Array.prototype.forEach?function(i,s){Array.prototype.forEach.call(i,s,void 0)}:function(i,s){for(var y=i.length,S=typeof i=="string"?i.split(""):i,G=0;G<y;G++)G in S&&s.call(void 0,S[G],G,i)},q=Array.prototype.map?function(i,s){return Array.prototype.map.call(i,s,void 0)}:function(i,s){for(var y=i.length,S=Array(y),G=typeof i=="string"?i.split(""):i,ut=0;ut<y;ut++)ut in G&&(S[ut]=s.call(void 0,G[ut],ut,i));return S};function tt(i,s,y){return 2>=arguments.length?Array.prototype.slice.call(i,s):Array.prototype.slice.call(i,s,y)}function D(i,s,y,S){var G="Assertion failed";if(y){G+=": "+y;var ut=S}else i&&(G+=": "+i,ut=s);throw Error(G,ut||[])}function T(i,s,y){for(var S=[],G=2;G<arguments.length;++G)S[G-2]=arguments[G];return i||D("",null,s,S),i}function J(i,s,y){for(var S=[],G=2;G<arguments.length;++G)S[G-2]=arguments[G];typeof i!="string"&&D("Expected string but got %s: %s.",[w(i),i],s,S)}function nt(i,s,y){for(var S=[],G=2;G<arguments.length;++G)S[G-2]=arguments[G];Array.isArray(i)||D("Expected array but got %s: %s.",[w(i),i],s,S)}function $(i,s){for(var y=[],S=1;S<arguments.length;++S)y[S-1]=arguments[S];throw Error("Failure"+(i?": "+i:""),y)}function yt(i,s,y,S){for(var G=[],ut=3;ut<arguments.length;++ut)G[ut-3]=arguments[ut];i instanceof s||D("Expected instanceof %s but got %s.",[N(s),N(i)],y,G)}function N(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i}function V(i,s){if(this.c=i,this.b=s,this.a={},this.arrClean=!0,0<this.c.length){for(i=0;i<this.c.length;i++){s=this.c[i];var y=s[0];this.a[y.toString()]=new St(y,s[1])}this.arrClean=!0}}b("jspb.Map",V,void 0),V.prototype.g=function(){if(this.arrClean){if(this.b){var i=this.a,s;for(s in i)if(Object.prototype.hasOwnProperty.call(i,s)){var y=i[s].a;y&&y.g()}}}else{for(this.c.length=0,i=It(this),i.sort(),s=0;s<i.length;s++){var S=this.a[i[s]];(y=S.a)&&y.g(),this.c.push([S.key,S.value])}this.arrClean=!0}return this.c},V.prototype.toArray=V.prototype.g,V.prototype.Mc=function(i,s){for(var y=this.g(),S=[],G=0;G<y.length;G++){var ut=this.a[y[G][0].toString()];pt(this,ut);var At=ut.a;At?(T(s),S.push([ut.key,s(i,At)])):S.push([ut.key,ut.value])}return S},V.prototype.toObject=V.prototype.Mc,V.fromObject=function(i,s,y){s=new V([],s);for(var S=0;S<i.length;S++){var G=i[S][0],ut=y(i[S][1]);s.set(G,ut)}return s};function dt(i){this.a=0,this.b=i}dt.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(dt.prototype[Symbol.iterator]=function(){return this}),V.prototype.Jb=function(){return It(this).length},V.prototype.getLength=V.prototype.Jb,V.prototype.clear=function(){this.a={},this.arrClean=!1},V.prototype.clear=V.prototype.clear,V.prototype.Cb=function(i){i=i.toString();var s=this.a.hasOwnProperty(i);return delete this.a[i],this.arrClean=!1,s},V.prototype.del=V.prototype.Cb,V.prototype.Eb=function(){var i=[],s=It(this);s.sort();for(var y=0;y<s.length;y++){var S=this.a[s[y]];i.push([S.key,S.value])}return i},V.prototype.getEntryList=V.prototype.Eb,V.prototype.entries=function(){var i=[],s=It(this);s.sort();for(var y=0;y<s.length;y++){var S=this.a[s[y]];i.push([S.key,pt(this,S)])}return new dt(i)},V.prototype.entries=V.prototype.entries,V.prototype.keys=function(){var i=[],s=It(this);s.sort();for(var y=0;y<s.length;y++)i.push(this.a[s[y]].key);return new dt(i)},V.prototype.keys=V.prototype.keys,V.prototype.values=function(){var i=[],s=It(this);s.sort();for(var y=0;y<s.length;y++)i.push(pt(this,this.a[s[y]]));return new dt(i)},V.prototype.values=V.prototype.values,V.prototype.forEach=function(i,s){var y=It(this);y.sort();for(var S=0;S<y.length;S++){var G=this.a[y[S]];i.call(s,pt(this,G),G.key,this)}},V.prototype.forEach=V.prototype.forEach,V.prototype.set=function(i,s){var y=new St(i);return this.b?(y.a=s,y.value=s.g()):y.value=s,this.a[i.toString()]=y,this.arrClean=!1,this},V.prototype.set=V.prototype.set;function pt(i,s){return i.b?(s.a||(s.a=new i.b(s.value)),s.a):s.value}V.prototype.get=function(i){if(i=this.a[i.toString()])return pt(this,i)},V.prototype.get=V.prototype.get,V.prototype.has=function(i){return i.toString()in this.a},V.prototype.has=V.prototype.has,V.prototype.Jc=function(i,s,y,S,G){var ut=It(this);ut.sort();for(var At=0;At<ut.length;At++){var qt=this.a[ut[At]];s.Va(i),y.call(s,1,qt.key),this.b?S.call(s,2,pt(this,qt),G):S.call(s,2,qt.value),s.Ya()}},V.prototype.serializeBinary=V.prototype.Jc,V.deserializeBinary=function(i,s,y,S,G,ut,At){for(;s.oa()&&!s.bb();){var qt=s.c;qt==1?ut=y.call(s):qt==2&&(i.b?(T(G),At||(At=new i.b),S.call(s,At,G)):At=S.call(s))}T(ut!=null),T(At!=null),i.set(ut,At)};function It(i){i=i.a;var s=[],y;for(y in i)Object.prototype.hasOwnProperty.call(i,y)&&s.push(y);return s}function St(i,s){this.key=i,this.value=s,this.a=void 0}function Z(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var s="",y=0;y<i.length;y+=8192)s+=String.fromCharCode.apply(null,tt(i,y,y+8192));return s}var lt={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},gt={"'":"\\'"},Et={},M=null;function ct(i,s){s===void 0&&(s=0),Tt(),s=Et[s];for(var y=[],S=0;S<i.length;S+=3){var G=i[S],ut=S+1<i.length,At=ut?i[S+1]:0,qt=S+2<i.length,be=qt?i[S+2]:0,cr=G>>2;G=(G&3)<<4|At>>4,At=(At&15)<<2|be>>6,be&=63,qt||(be=64,ut||(At=64)),y.push(s[cr],s[G],s[At]||"",s[be]||"")}return y.join("")}function kt(i){var s=i.length,y=3*s/4;y%3?y=Math.floor(y):"=.".indexOf(i[s-1])!=-1&&(y="=.".indexOf(i[s-2])!=-1?y-2:y-1);var S=new Uint8Array(y),G=0;return Nt(i,function(ut){S[G++]=ut}),S.subarray(0,G)}function Nt(i,s){function y(be){for(;S<i.length;){var cr=i.charAt(S++),ts=M[cr];if(ts!=null)return ts;if(!/^[\s\xa0]*$/.test(cr))throw Error("Unknown base64 encoding at char: "+cr)}return be}Tt();for(var S=0;;){var G=y(-1),ut=y(0),At=y(64),qt=y(64);if(qt===64&&G===-1)break;s(G<<2|ut>>4),At!=64&&(s(ut<<4&240|At>>2),qt!=64&&s(At<<6&192|qt))}}function Tt(){if(!M){M={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],y=0;5>y;y++){var S=i.concat(s[y].split(""));Et[y]=S;for(var G=0;G<S.length;G++){var ut=S[G];M[ut]===void 0&&(M[ut]=G)}}}}b("jspb.ConstBinaryMessage",function(){},void 0),b("jspb.BinaryMessage",function(){},void 0),b("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),b("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),b("jspb.BinaryConstants.FieldTypeToWireType",function(i){switch(i){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),b("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),b("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),b("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),b("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),b("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),b("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),b("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),b("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),b("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),b("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),b("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),b("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),b("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var L=0,I=0;b("jspb.utils.getSplit64Low",function(){return L},void 0),b("jspb.utils.getSplit64High",function(){return I},void 0);function U(i){var s=i>>>0;i=Math.floor((i-s)/4294967296)>>>0,L=s,I=i}b("jspb.utils.splitUint64",U,void 0);function st(i){var s=0>i;i=Math.abs(i);var y=i>>>0;i=Math.floor((i-y)/4294967296),i>>>=0,s&&(i=~i>>>0,y=(~y>>>0)+1,4294967295<y&&(y=0,i++,4294967295<i&&(i=0))),L=y,I=i}b("jspb.utils.splitInt64",st,void 0);function et(i){var s=0>i;i=2*Math.abs(i),U(i),i=L;var y=I;s&&(i==0?y==0?y=i=4294967295:(y--,i=4294967295):i--),L=i,I=y}b("jspb.utils.splitZigzag64",et,void 0);function X(i){var s=0>i?1:0;if(i=s?-i:i,i===0)0<1/i?L=I=0:(I=0,L=2147483648);else if(isNaN(i))I=0,L=2147483647;else if(34028234663852886e22<i)I=0,L=(s<<31|2139095040)>>>0;else if(11754943508222875e-54>i)i=Math.round(i/Math.pow(2,-149)),I=0,L=(s<<31|i)>>>0;else{var y=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-y),i=Math.round(8388608*i),16777216<=i&&++y,I=0,L=(s<<31|y+127<<23|i&8388607)>>>0}}b("jspb.utils.splitFloat32",X,void 0);function at(i){var s=0>i?1:0;if(i=s?-i:i,i===0)I=0<1/i?0:2147483648,L=0;else if(isNaN(i))I=2147483647,L=4294967295;else if(17976931348623157e292<i)I=(s<<31|2146435072)>>>0,L=0;else if(22250738585072014e-324>i)i/=Math.pow(2,-1074),I=(s<<31|i/4294967296)>>>0,L=i>>>0;else{var y=i,S=0;if(2<=y)for(;2<=y&&1023>S;)S++,y/=2;else for(;1>y&&-1022<S;)y*=2,S--;i*=Math.pow(2,-S),I=(s<<31|S+1023<<20|1048576*i&1048575)>>>0,L=4503599627370496*i>>>0}}b("jspb.utils.splitFloat64",at,void 0);function ht(i){var s=i.charCodeAt(4),y=i.charCodeAt(5),S=i.charCodeAt(6),G=i.charCodeAt(7);L=i.charCodeAt(0)+(i.charCodeAt(1)<<8)+(i.charCodeAt(2)<<16)+(i.charCodeAt(3)<<24)>>>0,I=s+(y<<8)+(S<<16)+(G<<24)>>>0}b("jspb.utils.splitHash64",ht,void 0);function x(i,s){return 4294967296*s+(i>>>0)}b("jspb.utils.joinUint64",x,void 0);function Q(i,s){var y=s&2147483648;return y&&(i=~i+1>>>0,s=~s>>>0,i==0&&(s=s+1>>>0)),i=x(i,s),y?-i:i}b("jspb.utils.joinInt64",Q,void 0);function rt(i,s,y){var S=s>>31;return y(i<<1^S,(s<<1|i>>>31)^S)}b("jspb.utils.toZigzag64",rt,void 0);function ft(i,s){return mt(i,s,Q)}b("jspb.utils.joinZigzag64",ft,void 0);function mt(i,s,y){var S=-(i&1);return y((i>>>1|s<<31)^S,s>>>1^S)}b("jspb.utils.fromZigzag64",mt,void 0);function z(i){var s=2*(i>>31)+1,y=i>>>23&255;return i&=8388607,y==255?i?NaN:1/0*s:y==0?s*Math.pow(2,-149)*i:s*Math.pow(2,y-150)*(i+Math.pow(2,23))}b("jspb.utils.joinFloat32",z,void 0);function ot(i,s){var y=2*(s>>31)+1,S=s>>>20&2047;return i=4294967296*(s&1048575)+i,S==2047?i?NaN:1/0*y:S==0?y*Math.pow(2,-1074)*i:y*Math.pow(2,S-1075)*(i+4503599627370496)}b("jspb.utils.joinFloat64",ot,void 0);function A(i,s){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,s>>>0&255,s>>>8&255,s>>>16&255,s>>>24&255)}b("jspb.utils.joinHash64",A,void 0),b("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function H(i,s){function y(G,ut){return G=G?String(G):"",ut?"0000000".slice(G.length)+G:G}if(2097151>=s)return""+x(i,s);var S=(i>>>24|s<<8)>>>0&16777215;return s=s>>16&65535,i=(i&16777215)+6777216*S+6710656*s,S+=8147497*s,s*=2,1e7<=i&&(S+=Math.floor(i/1e7),i%=1e7),1e7<=S&&(s+=Math.floor(S/1e7),S%=1e7),y(s,0)+y(S,s)+y(i,1)}b("jspb.utils.joinUnsignedDecimalString",H,void 0);function it(i,s){var y=s&2147483648;return y&&(i=~i+1>>>0,s=~s+(i==0?1:0)>>>0),i=H(i,s),y?"-"+i:i}b("jspb.utils.joinSignedDecimalString",it,void 0);function bt(i,s){ht(i),i=L;var y=I;return s?it(i,y):H(i,y)}b("jspb.utils.hash64ToDecimalString",bt,void 0),b("jspb.utils.hash64ArrayToDecimalStrings",function(i,s){for(var y=Array(i.length),S=0;S<i.length;S++)y[S]=bt(i[S],s);return y},void 0);function f(i){function s(At,qt){for(var be=0;8>be&&(At!==1||0<qt);be++)qt=At*G[be]+qt,G[be]=qt&255,qt>>>=8}function y(){for(var At=0;8>At;At++)G[At]=~G[At]&255}T(0<i.length);var S=!1;i[0]==="-"&&(S=!0,i=i.slice(1));for(var G=[0,0,0,0,0,0,0,0],ut=0;ut<i.length;ut++)s(10,i.charCodeAt(ut)-48);return S&&(y(),s(1,1)),Z(G)}b("jspb.utils.decimalStringToHash64",f,void 0),b("jspb.utils.splitDecimalString",function(i){ht(f(i))},void 0);function h(i){return String.fromCharCode(10>i?48+i:87+i)}function g(i){return 97<=i?i-97+10:i-48}b("jspb.utils.hash64ToHexString",function(i){var s=Array(18);s[0]="0",s[1]="x";for(var y=0;8>y;y++){var S=i.charCodeAt(7-y);s[2*y+2]=h(S>>4),s[2*y+3]=h(S&15)}return s.join("")},void 0),b("jspb.utils.hexStringToHash64",function(i){i=i.toLowerCase(),T(i.length==18),T(i[0]=="0"),T(i[1]=="x");for(var s="",y=0;8>y;y++)s=String.fromCharCode(16*g(i.charCodeAt(2*y+2))+g(i.charCodeAt(2*y+3)))+s;return s},void 0),b("jspb.utils.hash64ToNumber",function(i,s){ht(i),i=L;var y=I;return s?Q(i,y):x(i,y)},void 0),b("jspb.utils.numberToHash64",function(i){return st(i),A(L,I)},void 0),b("jspb.utils.countVarints",function(i,s,y){for(var S=0,G=s;G<y;G++)S+=i[G]>>7;return y-s-S},void 0),b("jspb.utils.countVarintFields",function(i,s,y,S){var G=0;if(S*=8,128>S)for(;s<y&&i[s++]==S;)for(G++;;){var ut=i[s++];if(!(ut&128))break}else for(;s<y;){for(ut=S;128<ut;){if(i[s]!=(ut&127|128))return G;s++,ut>>=7}if(i[s++]!=ut)break;for(G++;ut=i[s++],(ut&128)!=0;);}return G},void 0);function B(i,s,y,S,G){var ut=0;if(128>S)for(;s<y&&i[s++]==S;)ut++,s+=G;else for(;s<y;){for(var At=S;128<At;){if(i[s++]!=(At&127|128))return ut;At>>=7}if(i[s++]!=At)break;ut++,s+=G}return ut}b("jspb.utils.countFixed32Fields",function(i,s,y,S){return B(i,s,y,8*S+5,4)},void 0),b("jspb.utils.countFixed64Fields",function(i,s,y,S){return B(i,s,y,8*S+1,8)},void 0),b("jspb.utils.countDelimitedFields",function(i,s,y,S){var G=0;for(S=8*S+2;s<y;){for(var ut=S;128<ut;){if(i[s++]!=(ut&127|128))return G;ut>>=7}if(i[s++]!=ut)break;G++;for(var At=0,qt=1;ut=i[s++],At+=(ut&127)*qt,qt*=128,(ut&128)!=0;);s+=At}return G},void 0),b("jspb.utils.debugBytesToTextFormat",function(i){var s='"';if(i){i=W(i);for(var y=0;y<i.length;y++)s+="\\x",16>i[y]&&(s+="0"),s+=i[y].toString(16)}return s+'"'},void 0),b("jspb.utils.debugScalarToTextFormat",function(i){if(typeof i=="string"){i=String(i);for(var s=['"'],y=0;y<i.length;y++){var S=i.charAt(y),G=S.charCodeAt(0),ut=y+1,At;(At=lt[S])||(31<G&&127>G||(G=S,G in gt?S=gt[G]:G in lt?S=gt[G]=lt[G]:(At=G.charCodeAt(0),31<At&&127>At?S=G:(256>At?(S="\\x",(16>At||256<At)&&(S+="0")):(S="\\u",4096>At&&(S+="0")),S+=At.toString(16).toUpperCase()),S=gt[G]=S)),At=S),s[ut]=At}s.push('"'),i=s.join("")}else i=i.toString();return i},void 0),b("jspb.utils.stringToByteArray",function(i){for(var s=new Uint8Array(i.length),y=0;y<i.length;y++){var S=i.charCodeAt(y);if(255<S)throw Error("Conversion error: string contains codepoint outside of byte range");s[y]=S}return s},void 0);function W(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer?new Uint8Array(i):i.constructor===Array?new Uint8Array(i):i.constructor===String?kt(i):i instanceof Uint8Array?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):($("Type not convertible to Uint8Array."),new Uint8Array(0))}b("jspb.utils.byteSourceToUint8Array",W,void 0);function O(i,s,y){this.b=null,this.a=this.c=this.h=0,this.v=!1,i&&this.H(i,s,y)}b("jspb.BinaryDecoder",O,void 0);var wt=[];O.getInstanceCacheLength=function(){return wt.length};function Dt(i,s,y){if(wt.length){var S=wt.pop();return i&&S.H(i,s,y),S}return new O(i,s,y)}O.alloc=Dt,O.prototype.Ca=function(){this.clear(),100>wt.length&&wt.push(this)},O.prototype.free=O.prototype.Ca,O.prototype.clone=function(){return Dt(this.b,this.h,this.c-this.h)},O.prototype.clone=O.prototype.clone,O.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},O.prototype.clear=O.prototype.clear,O.prototype.Y=function(){return this.b},O.prototype.getBuffer=O.prototype.Y,O.prototype.H=function(i,s,y){this.b=W(i),this.h=s!==void 0?s:0,this.c=y!==void 0?this.h+y:this.b.length,this.a=this.h},O.prototype.setBlock=O.prototype.H,O.prototype.Db=function(){return this.c},O.prototype.getEnd=O.prototype.Db,O.prototype.setEnd=function(i){this.c=i},O.prototype.setEnd=O.prototype.setEnd,O.prototype.reset=function(){this.a=this.h},O.prototype.reset=O.prototype.reset,O.prototype.B=function(){return this.a},O.prototype.getCursor=O.prototype.B,O.prototype.Ma=function(i){this.a=i},O.prototype.setCursor=O.prototype.Ma,O.prototype.advance=function(i){this.a+=i,T(this.a<=this.c)},O.prototype.advance=O.prototype.advance,O.prototype.ya=function(){return this.a==this.c},O.prototype.atEnd=O.prototype.ya,O.prototype.Qb=function(){return this.a>this.c},O.prototype.pastEnd=O.prototype.Qb,O.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},O.prototype.getError=O.prototype.getError,O.prototype.w=function(i){for(var s=128,y=0,S=0,G=0;4>G&&128<=s;G++)s=this.b[this.a++],y|=(s&127)<<7*G;if(128<=s&&(s=this.b[this.a++],y|=(s&127)<<28,S|=(s&127)>>4),128<=s)for(G=0;5>G&&128<=s;G++)s=this.b[this.a++],S|=(s&127)<<7*G+3;if(128>s)return i(y>>>0,S>>>0);$("Failed to read varint, encoding is invalid."),this.v=!0},O.prototype.readSplitVarint64=O.prototype.w,O.prototype.ea=function(i){return this.w(function(s,y){return mt(s,y,i)})},O.prototype.readSplitZigzagVarint64=O.prototype.ea,O.prototype.ta=function(i){var s=this.b,y=this.a;this.a+=8;for(var S=0,G=0,ut=y+7;ut>=y;ut--)S=S<<8|s[ut],G=G<<8|s[ut+4];return i(S,G)},O.prototype.readSplitFixed64=O.prototype.ta,O.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},O.prototype.skipVarint=O.prototype.kb,O.prototype.mb=function(i){for(;128<i;)this.a--,i>>>=7;this.a--},O.prototype.unskipVarint=O.prototype.mb,O.prototype.o=function(){var i=this.b,s=i[this.a],y=s&127;return 128>s?(this.a+=1,T(this.a<=this.c),y):(s=i[this.a+1],y|=(s&127)<<7,128>s?(this.a+=2,T(this.a<=this.c),y):(s=i[this.a+2],y|=(s&127)<<14,128>s?(this.a+=3,T(this.a<=this.c),y):(s=i[this.a+3],y|=(s&127)<<21,128>s?(this.a+=4,T(this.a<=this.c),y):(s=i[this.a+4],y|=(s&15)<<28,128>s?(this.a+=5,T(this.a<=this.c),y>>>0):(this.a+=5,128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&T(!1),T(this.a<=this.c),y)))))},O.prototype.readUnsignedVarint32=O.prototype.o,O.prototype.da=function(){return~~this.o()},O.prototype.readSignedVarint32=O.prototype.da,O.prototype.O=function(){return this.o().toString()},O.prototype.Ea=function(){return this.da().toString()},O.prototype.readSignedVarint32String=O.prototype.Ea,O.prototype.Ia=function(){var i=this.o();return i>>>1^-(i&1)},O.prototype.readZigzagVarint32=O.prototype.Ia,O.prototype.Ga=function(){return this.w(x)},O.prototype.readUnsignedVarint64=O.prototype.Ga,O.prototype.Ha=function(){return this.w(H)},O.prototype.readUnsignedVarint64String=O.prototype.Ha,O.prototype.sa=function(){return this.w(Q)},O.prototype.readSignedVarint64=O.prototype.sa,O.prototype.Fa=function(){return this.w(it)},O.prototype.readSignedVarint64String=O.prototype.Fa,O.prototype.Ja=function(){return this.w(ft)},O.prototype.readZigzagVarint64=O.prototype.Ja,O.prototype.fb=function(){return this.ea(A)},O.prototype.readZigzagVarintHash64=O.prototype.fb,O.prototype.Ka=function(){return this.ea(it)},O.prototype.readZigzagVarint64String=O.prototype.Ka,O.prototype.Gc=function(){var i=this.b[this.a];return this.a+=1,T(this.a<=this.c),i},O.prototype.readUint8=O.prototype.Gc,O.prototype.Ec=function(){var i=this.b[this.a],s=this.b[this.a+1];return this.a+=2,T(this.a<=this.c),i<<0|s<<8},O.prototype.readUint16=O.prototype.Ec,O.prototype.m=function(){var i=this.b[this.a],s=this.b[this.a+1],y=this.b[this.a+2],S=this.b[this.a+3];return this.a+=4,T(this.a<=this.c),(i<<0|s<<8|y<<16|S<<24)>>>0},O.prototype.readUint32=O.prototype.m,O.prototype.ga=function(){var i=this.m(),s=this.m();return x(i,s)},O.prototype.readUint64=O.prototype.ga,O.prototype.ha=function(){var i=this.m(),s=this.m();return H(i,s)},O.prototype.readUint64String=O.prototype.ha,O.prototype.Xb=function(){var i=this.b[this.a];return this.a+=1,T(this.a<=this.c),i<<24>>24},O.prototype.readInt8=O.prototype.Xb,O.prototype.Vb=function(){var i=this.b[this.a],s=this.b[this.a+1];return this.a+=2,T(this.a<=this.c),(i<<0|s<<8)<<16>>16},O.prototype.readInt16=O.prototype.Vb,O.prototype.P=function(){var i=this.b[this.a],s=this.b[this.a+1],y=this.b[this.a+2],S=this.b[this.a+3];return this.a+=4,T(this.a<=this.c),i<<0|s<<8|y<<16|S<<24},O.prototype.readInt32=O.prototype.P,O.prototype.ba=function(){var i=this.m(),s=this.m();return Q(i,s)},O.prototype.readInt64=O.prototype.ba,O.prototype.ca=function(){var i=this.m(),s=this.m();return it(i,s)},O.prototype.readInt64String=O.prototype.ca,O.prototype.aa=function(){var i=this.m();return z(i)},O.prototype.readFloat=O.prototype.aa,O.prototype.Z=function(){var i=this.m(),s=this.m();return ot(i,s)},O.prototype.readDouble=O.prototype.Z,O.prototype.pa=function(){return!!this.b[this.a++]},O.prototype.readBool=O.prototype.pa,O.prototype.ra=function(){return this.da()},O.prototype.readEnum=O.prototype.ra,O.prototype.fa=function(i){var s=this.b,y=this.a;i=y+i;for(var S=[],G="";y<i;){var ut=s[y++];if(128>ut)S.push(ut);else{if(192>ut)continue;if(224>ut){var At=s[y++];S.push((ut&31)<<6|At&63)}else if(240>ut){At=s[y++];var qt=s[y++];S.push((ut&15)<<12|(At&63)<<6|qt&63)}else if(248>ut){At=s[y++],qt=s[y++];var be=s[y++];ut=(ut&7)<<18|(At&63)<<12|(qt&63)<<6|be&63,ut-=65536,S.push((ut>>10&1023)+55296,(ut&1023)+56320)}}8192<=S.length&&(G+=String.fromCharCode.apply(null,S),S.length=0)}return G+=Z(S),this.a=y,G},O.prototype.readString=O.prototype.fa,O.prototype.Dc=function(){var i=this.o();return this.fa(i)},O.prototype.readStringWithLength=O.prototype.Dc,O.prototype.qa=function(i){if(0>i||this.a+i>this.b.length)return this.v=!0,$("Invalid byte length!"),new Uint8Array(0);var s=this.b.subarray(this.a,this.a+i);return this.a+=i,T(this.a<=this.c),s},O.prototype.readBytes=O.prototype.qa,O.prototype.ia=function(){return this.w(A)},O.prototype.readVarintHash64=O.prototype.ia,O.prototype.$=function(){var i=this.b,s=this.a,y=i[s],S=i[s+1],G=i[s+2],ut=i[s+3],At=i[s+4],qt=i[s+5],be=i[s+6];return i=i[s+7],this.a+=8,String.fromCharCode(y,S,G,ut,At,qt,be,i)},O.prototype.readFixedHash64=O.prototype.$;function F(i,s,y){this.a=Dt(i,s,y),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}b("jspb.BinaryReader",F,void 0);var zt=[];F.clearInstanceCache=function(){zt=[]},F.getInstanceCacheLength=function(){return zt.length};function Ut(i,s,y){if(zt.length){var S=zt.pop();return i&&S.a.H(i,s,y),S}return new F(i,s,y)}F.alloc=Ut,F.prototype.zb=Ut,F.prototype.alloc=F.prototype.zb,F.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>zt.length&&zt.push(this)},F.prototype.free=F.prototype.Ca,F.prototype.Fb=function(){return this.O},F.prototype.getFieldCursor=F.prototype.Fb,F.prototype.B=function(){return this.a.B()},F.prototype.getCursor=F.prototype.B,F.prototype.Y=function(){return this.a.Y()},F.prototype.getBuffer=F.prototype.Y,F.prototype.Hb=function(){return this.c},F.prototype.getFieldNumber=F.prototype.Hb,F.prototype.Lb=function(){return this.b},F.prototype.getWireType=F.prototype.Lb,F.prototype.Mb=function(){return this.b==2},F.prototype.isDelimited=F.prototype.Mb,F.prototype.bb=function(){return this.b==4},F.prototype.isEndGroup=F.prototype.bb,F.prototype.getError=function(){return this.h||this.a.getError()},F.prototype.getError=F.prototype.getError,F.prototype.H=function(i,s,y){this.a.H(i,s,y),this.b=this.c=-1},F.prototype.setBlock=F.prototype.H,F.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},F.prototype.reset=F.prototype.reset,F.prototype.advance=function(i){this.a.advance(i)},F.prototype.advance=F.prototype.advance,F.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return $("Decoder hit an error"),!1;this.O=this.a.B();var i=this.a.o(),s=i>>>3;return i&=7,i!=0&&i!=5&&i!=1&&i!=2&&i!=3&&i!=4?($("Invalid wire type: %s (at position %s)",i,this.O),this.h=!0,!1):(this.c=s,this.b=i,!0)},F.prototype.nextField=F.prototype.oa,F.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},F.prototype.unskipHeader=F.prototype.Oa,F.prototype.Lc=function(){var i=this.c;for(this.Oa();this.oa()&&this.c==i;)this.C();this.a.ya()||this.Oa()},F.prototype.skipMatchingFields=F.prototype.Lc,F.prototype.lb=function(){this.b!=0?($("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},F.prototype.skipVarintField=F.prototype.lb,F.prototype.gb=function(){if(this.b!=2)$("Invalid wire type for skipDelimitedField"),this.C();else{var i=this.a.o();this.a.advance(i)}},F.prototype.skipDelimitedField=F.prototype.gb,F.prototype.hb=function(){this.b!=5?($("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},F.prototype.skipFixed32Field=F.prototype.hb,F.prototype.ib=function(){this.b!=1?($("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},F.prototype.skipFixed64Field=F.prototype.ib,F.prototype.jb=function(){var i=this.c;do{if(!this.oa()){$("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=i&&($("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},F.prototype.skipGroup=F.prototype.jb,F.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:$("Invalid wire encoding for field.")}},F.prototype.skipField=F.prototype.C,F.prototype.Hc=function(i,s){this.v===null&&(this.v={}),T(!this.v[i]),this.v[i]=s},F.prototype.registerReadCallback=F.prototype.Hc,F.prototype.Ic=function(i){return T(this.v!==null),i=this.v[i],T(i),i(this)},F.prototype.runReadCallback=F.prototype.Ic,F.prototype.Yb=function(i,s){T(this.b==2);var y=this.a.c,S=this.a.o();S=this.a.B()+S,this.a.setEnd(S),s(i,this),this.a.Ma(S),this.a.setEnd(y)},F.prototype.readMessage=F.prototype.Yb,F.prototype.Ub=function(i,s,y){T(this.b==3),T(this.c==i),y(s,this),this.h||this.b==4||($("Group submessage did not end with an END_GROUP tag"),this.h=!0)},F.prototype.readGroup=F.prototype.Ub,F.prototype.Gb=function(){T(this.b==2);var i=this.a.o(),s=this.a.B(),y=s+i;return i=Dt(this.a.Y(),s,i),this.a.Ma(y),i},F.prototype.getFieldDecoder=F.prototype.Gb,F.prototype.P=function(){return T(this.b==0),this.a.da()},F.prototype.readInt32=F.prototype.P,F.prototype.Wb=function(){return T(this.b==0),this.a.Ea()},F.prototype.readInt32String=F.prototype.Wb,F.prototype.ba=function(){return T(this.b==0),this.a.sa()},F.prototype.readInt64=F.prototype.ba,F.prototype.ca=function(){return T(this.b==0),this.a.Fa()},F.prototype.readInt64String=F.prototype.ca,F.prototype.m=function(){return T(this.b==0),this.a.o()},F.prototype.readUint32=F.prototype.m,F.prototype.Fc=function(){return T(this.b==0),this.a.O()},F.prototype.readUint32String=F.prototype.Fc,F.prototype.ga=function(){return T(this.b==0),this.a.Ga()},F.prototype.readUint64=F.prototype.ga,F.prototype.ha=function(){return T(this.b==0),this.a.Ha()},F.prototype.readUint64String=F.prototype.ha,F.prototype.zc=function(){return T(this.b==0),this.a.Ia()},F.prototype.readSint32=F.prototype.zc,F.prototype.Ac=function(){return T(this.b==0),this.a.Ja()},F.prototype.readSint64=F.prototype.Ac,F.prototype.Bc=function(){return T(this.b==0),this.a.Ka()},F.prototype.readSint64String=F.prototype.Bc,F.prototype.Rb=function(){return T(this.b==5),this.a.m()},F.prototype.readFixed32=F.prototype.Rb,F.prototype.Sb=function(){return T(this.b==1),this.a.ga()},F.prototype.readFixed64=F.prototype.Sb,F.prototype.Tb=function(){return T(this.b==1),this.a.ha()},F.prototype.readFixed64String=F.prototype.Tb,F.prototype.vc=function(){return T(this.b==5),this.a.P()},F.prototype.readSfixed32=F.prototype.vc,F.prototype.wc=function(){return T(this.b==5),this.a.P().toString()},F.prototype.readSfixed32String=F.prototype.wc,F.prototype.xc=function(){return T(this.b==1),this.a.ba()},F.prototype.readSfixed64=F.prototype.xc,F.prototype.yc=function(){return T(this.b==1),this.a.ca()},F.prototype.readSfixed64String=F.prototype.yc,F.prototype.aa=function(){return T(this.b==5),this.a.aa()},F.prototype.readFloat=F.prototype.aa,F.prototype.Z=function(){return T(this.b==1),this.a.Z()},F.prototype.readDouble=F.prototype.Z,F.prototype.pa=function(){return T(this.b==0),!!this.a.o()},F.prototype.readBool=F.prototype.pa,F.prototype.ra=function(){return T(this.b==0),this.a.sa()},F.prototype.readEnum=F.prototype.ra,F.prototype.fa=function(){T(this.b==2);var i=this.a.o();return this.a.fa(i)},F.prototype.readString=F.prototype.fa,F.prototype.qa=function(){T(this.b==2);var i=this.a.o();return this.a.qa(i)},F.prototype.readBytes=F.prototype.qa,F.prototype.ia=function(){return T(this.b==0),this.a.ia()},F.prototype.readVarintHash64=F.prototype.ia,F.prototype.Cc=function(){return T(this.b==0),this.a.fb()},F.prototype.readSintHash64=F.prototype.Cc,F.prototype.w=function(i){return T(this.b==0),this.a.w(i)},F.prototype.readSplitVarint64=F.prototype.w,F.prototype.ea=function(i){return T(this.b==0),this.a.w(function(s,y){return mt(s,y,i)})},F.prototype.readSplitZigzagVarint64=F.prototype.ea,F.prototype.$=function(){return T(this.b==1),this.a.$()},F.prototype.readFixedHash64=F.prototype.$,F.prototype.ta=function(i){return T(this.b==1),this.a.ta(i)},F.prototype.readSplitFixed64=F.prototype.ta;function jt(i,s){T(i.b==2);var y=i.a.o();y=i.a.B()+y;for(var S=[];i.a.B()<y;)S.push(s.call(i.a));return S}F.prototype.gc=function(){return jt(this,this.a.da)},F.prototype.readPackedInt32=F.prototype.gc,F.prototype.hc=function(){return jt(this,this.a.Ea)},F.prototype.readPackedInt32String=F.prototype.hc,F.prototype.ic=function(){return jt(this,this.a.sa)},F.prototype.readPackedInt64=F.prototype.ic,F.prototype.jc=function(){return jt(this,this.a.Fa)},F.prototype.readPackedInt64String=F.prototype.jc,F.prototype.qc=function(){return jt(this,this.a.o)},F.prototype.readPackedUint32=F.prototype.qc,F.prototype.rc=function(){return jt(this,this.a.O)},F.prototype.readPackedUint32String=F.prototype.rc,F.prototype.sc=function(){return jt(this,this.a.Ga)},F.prototype.readPackedUint64=F.prototype.sc,F.prototype.tc=function(){return jt(this,this.a.Ha)},F.prototype.readPackedUint64String=F.prototype.tc,F.prototype.nc=function(){return jt(this,this.a.Ia)},F.prototype.readPackedSint32=F.prototype.nc,F.prototype.oc=function(){return jt(this,this.a.Ja)},F.prototype.readPackedSint64=F.prototype.oc,F.prototype.pc=function(){return jt(this,this.a.Ka)},F.prototype.readPackedSint64String=F.prototype.pc,F.prototype.bc=function(){return jt(this,this.a.m)},F.prototype.readPackedFixed32=F.prototype.bc,F.prototype.cc=function(){return jt(this,this.a.ga)},F.prototype.readPackedFixed64=F.prototype.cc,F.prototype.dc=function(){return jt(this,this.a.ha)},F.prototype.readPackedFixed64String=F.prototype.dc,F.prototype.kc=function(){return jt(this,this.a.P)},F.prototype.readPackedSfixed32=F.prototype.kc,F.prototype.lc=function(){return jt(this,this.a.ba)},F.prototype.readPackedSfixed64=F.prototype.lc,F.prototype.mc=function(){return jt(this,this.a.ca)},F.prototype.readPackedSfixed64String=F.prototype.mc,F.prototype.fc=function(){return jt(this,this.a.aa)},F.prototype.readPackedFloat=F.prototype.fc,F.prototype.$b=function(){return jt(this,this.a.Z)},F.prototype.readPackedDouble=F.prototype.$b,F.prototype.Zb=function(){return jt(this,this.a.pa)},F.prototype.readPackedBool=F.prototype.Zb,F.prototype.ac=function(){return jt(this,this.a.ra)},F.prototype.readPackedEnum=F.prototype.ac,F.prototype.uc=function(){return jt(this,this.a.ia)},F.prototype.readPackedVarintHash64=F.prototype.uc,F.prototype.ec=function(){return jt(this,this.a.$)},F.prototype.readPackedFixedHash64=F.prototype.ec;function Lt(i,s,y,S,G){this.ma=i,this.Ba=s,this.la=y,this.Na=S,this.na=G}b("jspb.ExtensionFieldInfo",Lt,void 0);function Zt(i,s,y,S,G,ut){this.Za=i,this.za=s,this.Aa=y,this.Wa=S,this.Ab=G,this.Nb=ut}b("jspb.ExtensionFieldBinaryInfo",Zt,void 0),Lt.prototype.F=function(){return!!this.la},Lt.prototype.isMessageType=Lt.prototype.F;function Ot(){}b("jspb.Message",Ot,void 0),Ot.GENERATE_TO_OBJECT=!0,Ot.GENERATE_FROM_OBJECT=!0;var Xt=typeof Uint8Array=="function";Ot.prototype.Ib=function(){return this.b},Ot.prototype.getJsPbMessageId=Ot.prototype.Ib,Ot.initialize=function(i,s,y,S,G,ut){i.f=null,s||(s=y?[y]:[]),i.b=y?String(y):void 0,i.D=y===0?-1:0,i.u=s;t:{if(y=i.u.length,s=-1,y&&(s=y-1,y=i.u[s],!(y===null||typeof y!="object"||Array.isArray(y)||Xt&&y instanceof Uint8Array))){i.G=s-i.D,i.i=y;break t}-1<S?(i.G=Math.max(S,s+1-i.D),i.i=null):i.G=Number.MAX_VALUE}if(i.a={},G)for(S=0;S<G.length;S++)s=G[S],s<i.G?(s+=i.D,i.u[s]=i.u[s]||te):(ee(i),i.i[s]=i.i[s]||te);if(ut&&ut.length)for(S=0;S<ut.length;S++)lr(i,ut[S])};var te=Object.freeze?Object.freeze([]):[];function ee(i){var s=i.G+i.D;i.u[s]||(i.i=i.u[s]={})}function vt(i,s,y){for(var S=[],G=0;G<i.length;G++)S[G]=s.call(i[G],y,i[G]);return S}Ot.toObjectList=vt,Ot.toObjectExtension=function(i,s,y,S,G){for(var ut in y){var At=y[ut],qt=S.call(i,At);if(qt!=null){for(var be in At.Ba)if(At.Ba.hasOwnProperty(be))break;s[be]=At.Na?At.na?vt(qt,At.Na,G):At.Na(G,qt):qt}}},Ot.serializeBinaryExtensions=function(i,s,y,S){for(var G in y){var ut=y[G],At=ut.Za;if(!ut.Aa)throw Error("Message extension present that was generated without binary serialization support");var qt=S.call(i,At);if(qt!=null)if(At.F())if(ut.Wa)ut.Aa.call(s,At.ma,qt,ut.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else ut.Aa.call(s,At.ma,qt)}},Ot.readBinaryExtension=function(i,s,y,S,G){var ut=y[s.c];if(ut){if(y=ut.Za,!ut.za)throw Error("Deserializing extension whose generated code does not support binary format");if(y.F()){var At=new y.la;ut.za.call(s,At,ut.Ab)}else At=ut.za.call(s);y.na&&!ut.Nb?(s=S.call(i,y))?s.push(At):G.call(i,y,[At]):G.call(i,y,At)}else s.C()};function Mt(i,s){if(s<i.G){s+=i.D;var y=i.u[s];return y===te?i.u[s]=[]:y}if(i.i)return y=i.i[s],y===te?i.i[s]=[]:y}Ot.getField=Mt,Ot.getRepeatedField=function(i,s){return Mt(i,s)};function xt(i,s){return i=Mt(i,s),i==null?i:+i}Ot.getOptionalFloatingPointField=xt;function Ht(i,s){return i=Mt(i,s),i==null?i:!!i}Ot.getBooleanField=Ht,Ot.getRepeatedFloatingPointField=function(i,s){var y=Mt(i,s);if(i.a||(i.a={}),!i.a[s]){for(var S=0;S<y.length;S++)y[S]=+y[S];i.a[s]=!0}return y},Ot.getRepeatedBooleanField=function(i,s){var y=Mt(i,s);if(i.a||(i.a={}),!i.a[s]){for(var S=0;S<y.length;S++)y[S]=!!y[S];i.a[s]=!0}return y};function $t(i){return i==null||typeof i=="string"?i:Xt&&i instanceof Uint8Array?ct(i):($("Cannot coerce to b64 string: "+w(i)),null)}Ot.bytesAsB64=$t;function Qt(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?kt(i):($("Cannot coerce to Uint8Array: "+w(i)),null)}Ot.bytesAsU8=Qt,Ot.bytesListAsB64=function(i){return ne(i),i.length&&typeof i[0]!="string"?q(i,$t):i},Ot.bytesListAsU8=function(i){return ne(i),!i.length||i[0]instanceof Uint8Array?i:q(i,Qt)};function ne(i){if(i&&1<i.length){var s=w(i[0]);R(i,function(y){w(y)!=s&&$("Inconsistent type in JSPB repeated field array. Got "+w(y)+" expected "+s)})}}function ge(i,s,y){return i=Mt(i,s),i??y}Ot.getFieldWithDefault=ge,Ot.getBooleanFieldWithDefault=function(i,s,y){return i=Ht(i,s),i??y},Ot.getFloatingPointFieldWithDefault=function(i,s,y){return i=xt(i,s),i??y},Ot.getFieldProto3=ge,Ot.getMapField=function(i,s,y,S){if(i.f||(i.f={}),s in i.f)return i.f[s];var G=Mt(i,s);if(!G){if(y)return;G=[],se(i,s,G)}return i.f[s]=new V(G,S)};function se(i,s,y){return yt(i,Ot),s<i.G?i.u[s+i.D]=y:(ee(i),i.i[s]=y),i}Ot.setField=se,Ot.setProto3IntField=function(i,s,y){return ve(i,s,y,0)},Ot.setProto3FloatField=function(i,s,y){return ve(i,s,y,0)},Ot.setProto3BooleanField=function(i,s,y){return ve(i,s,y,!1)},Ot.setProto3StringField=function(i,s,y){return ve(i,s,y,"")},Ot.setProto3BytesField=function(i,s,y){return ve(i,s,y,"")},Ot.setProto3EnumField=function(i,s,y){return ve(i,s,y,0)},Ot.setProto3StringIntField=function(i,s,y){return ve(i,s,y,"0")};function ve(i,s,y,S){return yt(i,Ot),y!==S?se(i,s,y):s<i.G?i.u[s+i.D]=null:(ee(i),delete i.i[s]),i}Ot.addToRepeatedField=function(i,s,y,S){return yt(i,Ot),s=Mt(i,s),S!=null?s.splice(S,0,y):s.push(y),i};function $e(i,s,y,S){return yt(i,Ot),(y=lr(i,y))&&y!==s&&S!==void 0&&(i.f&&y in i.f&&(i.f[y]=void 0),se(i,y,void 0)),se(i,s,S)}Ot.setOneofField=$e;function lr(i,s){for(var y,S,G=0;G<s.length;G++){var ut=s[G],At=Mt(i,ut);At!=null&&(y=ut,S=At,se(i,ut,void 0))}return y?(se(i,y,S),y):0}Ot.computeOneofCase=lr,Ot.getWrapperField=function(i,s,y,S){if(i.f||(i.f={}),!i.f[y]){var G=Mt(i,y);(S||G)&&(i.f[y]=new s(G))}return i.f[y]},Ot.getRepeatedWrapperField=function(i,s,y){return er(i,s,y),s=i.f[y],s==te&&(s=i.f[y]=[]),s};function er(i,s,y){if(i.f||(i.f={}),!i.f[y]){for(var S=Mt(i,y),G=[],ut=0;ut<S.length;ut++)G[ut]=new s(S[ut]);i.f[y]=G}}Ot.setWrapperField=function(i,s,y){yt(i,Ot),i.f||(i.f={});var S=y&&y.g();return i.f[s]=y,se(i,s,S)},Ot.setOneofWrapperField=function(i,s,y,S){yt(i,Ot),i.f||(i.f={});var G=S&&S.g();return i.f[s]=S,$e(i,s,y,G)},Ot.setRepeatedWrapperField=function(i,s,y){yt(i,Ot),i.f||(i.f={}),y=y||[];for(var S=[],G=0;G<y.length;G++)S[G]=y[G].g();return i.f[s]=y,se(i,s,S)},Ot.addToRepeatedWrapperField=function(i,s,y,S,G){er(i,S,s);var ut=i.f[s];return ut||(ut=i.f[s]=[]),y=y||new S,i=Mt(i,s),G!=null?(ut.splice(G,0,y),i.splice(G,0,y.g())):(ut.push(y),i.push(y.g())),y},Ot.toMap=function(i,s,y,S){for(var G={},ut=0;ut<i.length;ut++)G[s.call(i[ut])]=y?y.call(i[ut],S,i[ut]):i[ut];return G};function pr(i){if(i.f)for(var s in i.f){var y=i.f[s];if(Array.isArray(y))for(var S=0;S<y.length;S++)y[S]&&y[S].g();else y&&y.g()}}Ot.prototype.g=function(){return pr(this),this.u},Ot.prototype.toArray=Ot.prototype.g,Ot.prototype.toString=function(){return pr(this),this.u.toString()},Ot.prototype.getExtension=function(i){if(this.i){this.f||(this.f={});var s=i.ma;if(i.na){if(i.F())return this.f[s]||(this.f[s]=q(this.i[s]||[],function(y){return new i.la(y)})),this.f[s]}else if(i.F())return!this.f[s]&&this.i[s]&&(this.f[s]=new i.la(this.i[s])),this.f[s];return this.i[s]}},Ot.prototype.getExtension=Ot.prototype.getExtension,Ot.prototype.Kc=function(i,s){this.f||(this.f={}),ee(this);var y=i.ma;return i.na?(s=s||[],i.F()?(this.f[y]=s,this.i[y]=q(s,function(S){return S.g()})):this.i[y]=s):i.F()?(this.f[y]=s,this.i[y]=s&&s.g()):this.i[y]=s,this},Ot.prototype.setExtension=Ot.prototype.Kc,Ot.difference=function(i,s){if(!(i instanceof s.constructor))throw Error("Messages have different types.");var y=i.g();s=s.g();var S=[],G=0,ut=y.length>s.length?y.length:s.length;for(i.b&&(S[0]=i.b,G=1);G<ut;G++)Be(y[G],s[G])||(S[G]=s[G]);return new i.constructor(S)},Ot.equals=function(i,s){return i==s||!(!i||!s)&&i instanceof s.constructor&&Be(i.g(),s.g())};function ur(i,s){i=i||{},s=s||{};var y={},S;for(S in i)y[S]=0;for(S in s)y[S]=0;for(S in y)if(!Be(i[S],s[S]))return!1;return!0}Ot.compareExtensions=ur;function Be(i,s){if(i==s)return!0;if(!_(i)||!_(s))return typeof i=="number"&&isNaN(i)||typeof s=="number"&&isNaN(s)?String(i)==String(s):!1;if(i.constructor!=s.constructor)return!1;if(Xt&&i.constructor===Uint8Array){if(i.length!=s.length)return!1;for(var y=0;y<i.length;y++)if(i[y]!=s[y])return!1;return!0}if(i.constructor===Array){var S=void 0,G=void 0,ut=Math.max(i.length,s.length);for(y=0;y<ut;y++){var At=i[y],qt=s[y];if(At&&At.constructor==Object&&(T(S===void 0),T(y===i.length-1),S=At,At=void 0),qt&&qt.constructor==Object&&(T(G===void 0),T(y===s.length-1),G=qt,qt=void 0),!Be(At,qt))return!1}return S||G?(S=S||{},G=G||{},ur(S,G)):!0}if(i.constructor===Object)return ur(i,s);throw Error("Invalid type in JSPB array")}Ot.compareFields=Be,Ot.prototype.Bb=function(){return Ve(this)},Ot.prototype.cloneMessage=Ot.prototype.Bb,Ot.prototype.clone=function(){return Ve(this)},Ot.prototype.clone=Ot.prototype.clone,Ot.clone=function(i){return Ve(i)};function Ve(i){return new i.constructor(Fe(i.g()))}Ot.copyInto=function(i,s){yt(i,Ot),yt(s,Ot),T(i.constructor==s.constructor,"Copy source and target message should have the same type."),i=Ve(i);for(var y=s.g(),S=i.g(),G=y.length=0;G<S.length;G++)y[G]=S[G];s.f=i.f,s.i=i.i};function Fe(i){if(Array.isArray(i)){for(var s=Array(i.length),y=0;y<i.length;y++){var S=i[y];S!=null&&(s[y]=typeof S=="object"?Fe(T(S)):S)}return s}if(Xt&&i instanceof Uint8Array)return new Uint8Array(i);s={};for(y in i)S=i[y],S!=null&&(s[y]=typeof S=="object"?Fe(T(S)):S);return s}Ot.registerMessageType=function(i,s){s.we=i};var Te={dump:function(i){return yt(i,Ot,"jspb.Message instance expected"),T(i.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),Te.X(i)}};b("jspb.debug.dump",Te.dump,void 0),Te.X=function(i){var s=w(i);if(s=="number"||s=="string"||s=="boolean"||s=="null"||s=="undefined"||typeof Uint8Array<"u"&&i instanceof Uint8Array)return i;if(s=="array")return nt(i),q(i,Te.X);if(i instanceof V){var y={};i=i.entries();for(var S=i.next();!S.done;S=i.next())y[S.value[0]]=Te.X(S.value[1]);return y}yt(i,Ot,"Only messages expected: "+i),s=i.constructor;var G={$name:s.name||s.displayName};for(qt in s.prototype){var ut=/^get([A-Z]\w*)/.exec(qt);if(ut&&qt!="getExtension"&&qt!="getJsPbMessageId"){var At="has"+ut[1];(!i[At]||i[At]())&&(At=i[qt](),G[Te.$a(ut[1])]=Te.X(At))}}if(i.extensionObject_)return G.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",G;for(S in s.extensions)if(/^\d+$/.test(S)){At=s.extensions[S];var qt=i.getExtension(At);ut=void 0,At=At.Ba;var be=[],cr=0;for(ut in At)be[cr++]=ut;ut=be[0],qt!=null&&(y||(y=G.$extensions={}),y[Te.$a(ut)]=Te.X(qt))}return G},Te.$a=function(i){return i.replace(/^[A-Z]/,function(s){return s.toLowerCase()})};function Ft(){this.a=[]}b("jspb.BinaryEncoder",Ft,void 0),Ft.prototype.length=function(){return this.a.length},Ft.prototype.length=Ft.prototype.length,Ft.prototype.end=function(){var i=this.a;return this.a=[],i},Ft.prototype.end=Ft.prototype.end,Ft.prototype.l=function(i,s){for(T(i==Math.floor(i)),T(s==Math.floor(s)),T(0<=i&&4294967296>i),T(0<=s&&4294967296>s);0<s||127<i;)this.a.push(i&127|128),i=(i>>>7|s<<25)>>>0,s>>>=7;this.a.push(i)},Ft.prototype.writeSplitVarint64=Ft.prototype.l,Ft.prototype.A=function(i,s){T(i==Math.floor(i)),T(s==Math.floor(s)),T(0<=i&&4294967296>i),T(0<=s&&4294967296>s),this.s(i),this.s(s)},Ft.prototype.writeSplitFixed64=Ft.prototype.A,Ft.prototype.j=function(i){for(T(i==Math.floor(i)),T(0<=i&&4294967296>i);127<i;)this.a.push(i&127|128),i>>>=7;this.a.push(i)},Ft.prototype.writeUnsignedVarint32=Ft.prototype.j,Ft.prototype.M=function(i){if(T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),0<=i)this.j(i);else{for(var s=0;9>s;s++)this.a.push(i&127|128),i>>=7;this.a.push(1)}},Ft.prototype.writeSignedVarint32=Ft.prototype.M,Ft.prototype.va=function(i){T(i==Math.floor(i)),T(0<=i&&18446744073709552e3>i),st(i),this.l(L,I)},Ft.prototype.writeUnsignedVarint64=Ft.prototype.va,Ft.prototype.ua=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),st(i),this.l(L,I)},Ft.prototype.writeSignedVarint64=Ft.prototype.ua,Ft.prototype.wa=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.j((i<<1^i>>31)>>>0)},Ft.prototype.writeZigzagVarint32=Ft.prototype.wa,Ft.prototype.xa=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),et(i),this.l(L,I)},Ft.prototype.writeZigzagVarint64=Ft.prototype.xa,Ft.prototype.Ta=function(i){this.W(f(i))},Ft.prototype.writeZigzagVarint64String=Ft.prototype.Ta,Ft.prototype.W=function(i){var s=this;ht(i),rt(L,I,function(y,S){s.l(y>>>0,S>>>0)})},Ft.prototype.writeZigzagVarintHash64=Ft.prototype.W,Ft.prototype.be=function(i){T(i==Math.floor(i)),T(0<=i&&256>i),this.a.push(i>>>0&255)},Ft.prototype.writeUint8=Ft.prototype.be,Ft.prototype.ae=function(i){T(i==Math.floor(i)),T(0<=i&&65536>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Ft.prototype.writeUint16=Ft.prototype.ae,Ft.prototype.s=function(i){T(i==Math.floor(i)),T(0<=i&&4294967296>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Ft.prototype.writeUint32=Ft.prototype.s,Ft.prototype.V=function(i){T(i==Math.floor(i)),T(0<=i&&18446744073709552e3>i),U(i),this.s(L),this.s(I)},Ft.prototype.writeUint64=Ft.prototype.V,Ft.prototype.Qc=function(i){T(i==Math.floor(i)),T(-128<=i&&128>i),this.a.push(i>>>0&255)},Ft.prototype.writeInt8=Ft.prototype.Qc,Ft.prototype.Pc=function(i){T(i==Math.floor(i)),T(-32768<=i&&32768>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Ft.prototype.writeInt16=Ft.prototype.Pc,Ft.prototype.S=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Ft.prototype.writeInt32=Ft.prototype.S,Ft.prototype.T=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),st(i),this.A(L,I)},Ft.prototype.writeInt64=Ft.prototype.T,Ft.prototype.ka=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=+i&&9223372036854776e3>+i),ht(f(i)),this.A(L,I)},Ft.prototype.writeInt64String=Ft.prototype.ka,Ft.prototype.L=function(i){T(i===1/0||i===-1/0||isNaN(i)||-34028234663852886e22<=i&&34028234663852886e22>=i),X(i),this.s(L)},Ft.prototype.writeFloat=Ft.prototype.L,Ft.prototype.J=function(i){T(i===1/0||i===-1/0||isNaN(i)||-17976931348623157e292<=i&&17976931348623157e292>=i),at(i),this.s(L),this.s(I)},Ft.prototype.writeDouble=Ft.prototype.J,Ft.prototype.I=function(i){T(typeof i=="boolean"||typeof i=="number"),this.a.push(i?1:0)},Ft.prototype.writeBool=Ft.prototype.I,Ft.prototype.R=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.M(i)},Ft.prototype.writeEnum=Ft.prototype.R,Ft.prototype.ja=function(i){this.a.push.apply(this.a,i)},Ft.prototype.writeBytes=Ft.prototype.ja,Ft.prototype.N=function(i){ht(i),this.l(L,I)},Ft.prototype.writeVarintHash64=Ft.prototype.N,Ft.prototype.K=function(i){ht(i),this.s(L),this.s(I)},Ft.prototype.writeFixedHash64=Ft.prototype.K,Ft.prototype.U=function(i){var s=this.a.length;J(i);for(var y=0;y<i.length;y++){var S=i.charCodeAt(y);if(128>S)this.a.push(S);else if(2048>S)this.a.push(S>>6|192),this.a.push(S&63|128);else if(65536>S)if(55296<=S&&56319>=S&&y+1<i.length){var G=i.charCodeAt(y+1);56320<=G&&57343>=G&&(S=1024*(S-55296)+G-56320+65536,this.a.push(S>>18|240),this.a.push(S>>12&63|128),this.a.push(S>>6&63|128),this.a.push(S&63|128),y++)}else this.a.push(S>>12|224),this.a.push(S>>6&63|128),this.a.push(S&63|128)}return this.a.length-s},Ft.prototype.writeString=Ft.prototype.U;function Vt(i,s){this.lo=i,this.hi=s}b("jspb.arith.UInt64",Vt,void 0),Vt.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},Vt.prototype.cmp=Vt.prototype.cmp,Vt.prototype.La=function(){return new Vt((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},Vt.prototype.rightShift=Vt.prototype.La,Vt.prototype.Da=function(){return new Vt(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},Vt.prototype.leftShift=Vt.prototype.Da,Vt.prototype.cb=function(){return!!(this.hi&2147483648)},Vt.prototype.msb=Vt.prototype.cb,Vt.prototype.Ob=function(){return!!(this.lo&1)},Vt.prototype.lsb=Vt.prototype.Ob,Vt.prototype.Ua=function(){return this.lo==0&&this.hi==0},Vt.prototype.zero=Vt.prototype.Ua,Vt.prototype.add=function(i){return new Vt((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},Vt.prototype.add=Vt.prototype.add,Vt.prototype.sub=function(i){return new Vt((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},Vt.prototype.sub=Vt.prototype.sub;function qe(i,s){var y=i&65535;i>>>=16;var S=s&65535,G=s>>>16;for(s=y*S+65536*(y*G&65535)+65536*(i*S&65535),y=i*G+(y*G>>>16)+(i*S>>>16);4294967296<=s;)s-=4294967296,y+=1;return new Vt(s>>>0,y>>>0)}Vt.mul32x32=qe,Vt.prototype.eb=function(i){var s=qe(this.lo,i);return i=qe(this.hi,i),i.hi=i.lo,i.lo=0,s.add(i)},Vt.prototype.mul=Vt.prototype.eb,Vt.prototype.Xa=function(i){if(i==0)return[];var s=new Vt(0,0),y=new Vt(this.lo,this.hi);i=new Vt(i,0);for(var S=new Vt(1,0);!i.cb();)i=i.Da(),S=S.Da();for(;!S.Ua();)0>=i.cmp(y)&&(s=s.add(S),y=y.sub(i)),i=i.La(),S=S.La();return[s,y]},Vt.prototype.div=Vt.prototype.Xa,Vt.prototype.toString=function(){for(var i="",s=this;!s.Ua();){s=s.Xa(10);var y=s[0];i=s[1].lo+i,s=y}return i==""&&(i="0"),i},Vt.prototype.toString=Vt.prototype.toString;function ke(i){for(var s=new Vt(0,0),y=new Vt(0,0),S=0;S<i.length;S++){if("0">i[S]||"9"<i[S])return null;y.lo=parseInt(i[S],10),s=s.eb(10).add(y)}return s}Vt.fromString=ke,Vt.prototype.clone=function(){return new Vt(this.lo,this.hi)},Vt.prototype.clone=Vt.prototype.clone;function ue(i,s){this.lo=i,this.hi=s}b("jspb.arith.Int64",ue,void 0),ue.prototype.add=function(i){return new ue((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},ue.prototype.add=ue.prototype.add,ue.prototype.sub=function(i){return new ue((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},ue.prototype.sub=ue.prototype.sub,ue.prototype.clone=function(){return new ue(this.lo,this.hi)},ue.prototype.clone=ue.prototype.clone,ue.prototype.toString=function(){var i=(this.hi&2147483648)!=0,s=new Vt(this.lo,this.hi);return i&&(s=new Vt(0,0).sub(s)),(i?"-":"")+s.toString()},ue.prototype.toString=ue.prototype.toString;function We(i){var s=0<i.length&&i[0]=="-";return s&&(i=i.substring(1)),i=ke(i),i===null?null:(s&&(i=new Vt(0,0).sub(i)),new ue(i.lo,i.hi))}ue.fromString=We;function P(){this.c=[],this.b=0,this.a=new Ft,this.h=[]}b("jspb.BinaryWriter",P,void 0);function rr(i,s){var y=i.a.end();i.c.push(y),i.c.push(s),i.b+=y.length+s.length}function re(i,s){return Gt(i,s,2),s=i.a.end(),i.c.push(s),i.b+=s.length,s.push(i.b),s}function oe(i,s){var y=s.pop();for(y=i.b+i.a.length()-y,T(0<=y);127<y;)s.push(y&127|128),y>>>=7,i.b++;s.push(y),i.b++}P.prototype.pb=function(i,s,y){rr(this,i.subarray(s,y))},P.prototype.writeSerializedMessage=P.prototype.pb,P.prototype.Pb=function(i,s,y){i!=null&&s!=null&&y!=null&&this.pb(i,s,y)},P.prototype.maybeWriteSerializedMessage=P.prototype.Pb,P.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},P.prototype.reset=P.prototype.reset,P.prototype.ab=function(){T(this.h.length==0);for(var i=new Uint8Array(this.b+this.a.length()),s=this.c,y=s.length,S=0,G=0;G<y;G++){var ut=s[G];i.set(ut,S),S+=ut.length}return s=this.a.end(),i.set(s,S),S+=s.length,T(S==i.length),this.c=[i],i},P.prototype.getResultBuffer=P.prototype.ab,P.prototype.Kb=function(i){return ct(this.ab(),i)},P.prototype.getResultBase64String=P.prototype.Kb,P.prototype.Va=function(i){this.h.push(re(this,i))},P.prototype.beginSubMessage=P.prototype.Va,P.prototype.Ya=function(){T(0<=this.h.length),oe(this,this.h.pop())},P.prototype.endSubMessage=P.prototype.Ya;function Gt(i,s,y){T(1<=s&&s==Math.floor(s)),i.a.j(8*s+y)}P.prototype.Nc=function(i,s,y){switch(i){case 1:this.J(s,y);break;case 2:this.L(s,y);break;case 3:this.T(s,y);break;case 4:this.V(s,y);break;case 5:this.S(s,y);break;case 6:this.Qa(s,y);break;case 7:this.Pa(s,y);break;case 8:this.I(s,y);break;case 9:this.U(s,y);break;case 10:$("Group field type not supported in writeAny()");break;case 11:$("Message field type not supported in writeAny()");break;case 12:this.ja(s,y);break;case 13:this.s(s,y);break;case 14:this.R(s,y);break;case 15:this.Ra(s,y);break;case 16:this.Sa(s,y);break;case 17:this.rb(s,y);break;case 18:this.sb(s,y);break;case 30:this.K(s,y);break;case 31:this.N(s,y);break;default:$("Invalid field type in writeAny()")}},P.prototype.writeAny=P.prototype.Nc;function Ye(i,s,y){y!=null&&(Gt(i,s,0),i.a.j(y))}function Ke(i,s,y){y!=null&&(Gt(i,s,0),i.a.M(y))}P.prototype.S=function(i,s){s!=null&&(T(-2147483648<=s&&2147483648>s),Ke(this,i,s))},P.prototype.writeInt32=P.prototype.S,P.prototype.ob=function(i,s){s!=null&&(s=parseInt(s,10),T(-2147483648<=s&&2147483648>s),Ke(this,i,s))},P.prototype.writeInt32String=P.prototype.ob,P.prototype.T=function(i,s){s!=null&&(T(-9223372036854776e3<=s&&9223372036854776e3>s),s!=null&&(Gt(this,i,0),this.a.ua(s)))},P.prototype.writeInt64=P.prototype.T,P.prototype.ka=function(i,s){s!=null&&(s=We(s),Gt(this,i,0),this.a.l(s.lo,s.hi))},P.prototype.writeInt64String=P.prototype.ka,P.prototype.s=function(i,s){s!=null&&(T(0<=s&&4294967296>s),Ye(this,i,s))},P.prototype.writeUint32=P.prototype.s,P.prototype.ub=function(i,s){s!=null&&(s=parseInt(s,10),T(0<=s&&4294967296>s),Ye(this,i,s))},P.prototype.writeUint32String=P.prototype.ub,P.prototype.V=function(i,s){s!=null&&(T(0<=s&&18446744073709552e3>s),s!=null&&(Gt(this,i,0),this.a.va(s)))},P.prototype.writeUint64=P.prototype.V,P.prototype.vb=function(i,s){s!=null&&(s=ke(s),Gt(this,i,0),this.a.l(s.lo,s.hi))},P.prototype.writeUint64String=P.prototype.vb,P.prototype.rb=function(i,s){s!=null&&(T(-2147483648<=s&&2147483648>s),s!=null&&(Gt(this,i,0),this.a.wa(s)))},P.prototype.writeSint32=P.prototype.rb,P.prototype.sb=function(i,s){s!=null&&(T(-9223372036854776e3<=s&&9223372036854776e3>s),s!=null&&(Gt(this,i,0),this.a.xa(s)))},P.prototype.writeSint64=P.prototype.sb,P.prototype.$d=function(i,s){s!=null&&s!=null&&(Gt(this,i,0),this.a.W(s))},P.prototype.writeSintHash64=P.prototype.$d,P.prototype.Zd=function(i,s){s!=null&&s!=null&&(Gt(this,i,0),this.a.Ta(s))},P.prototype.writeSint64String=P.prototype.Zd,P.prototype.Pa=function(i,s){s!=null&&(T(0<=s&&4294967296>s),Gt(this,i,5),this.a.s(s))},P.prototype.writeFixed32=P.prototype.Pa,P.prototype.Qa=function(i,s){s!=null&&(T(0<=s&&18446744073709552e3>s),Gt(this,i,1),this.a.V(s))},P.prototype.writeFixed64=P.prototype.Qa,P.prototype.nb=function(i,s){s!=null&&(s=ke(s),Gt(this,i,1),this.a.A(s.lo,s.hi))},P.prototype.writeFixed64String=P.prototype.nb,P.prototype.Ra=function(i,s){s!=null&&(T(-2147483648<=s&&2147483648>s),Gt(this,i,5),this.a.S(s))},P.prototype.writeSfixed32=P.prototype.Ra,P.prototype.Sa=function(i,s){s!=null&&(T(-9223372036854776e3<=s&&9223372036854776e3>s),Gt(this,i,1),this.a.T(s))},P.prototype.writeSfixed64=P.prototype.Sa,P.prototype.qb=function(i,s){s!=null&&(s=We(s),Gt(this,i,1),this.a.A(s.lo,s.hi))},P.prototype.writeSfixed64String=P.prototype.qb,P.prototype.L=function(i,s){s!=null&&(Gt(this,i,5),this.a.L(s))},P.prototype.writeFloat=P.prototype.L,P.prototype.J=function(i,s){s!=null&&(Gt(this,i,1),this.a.J(s))},P.prototype.writeDouble=P.prototype.J,P.prototype.I=function(i,s){s!=null&&(T(typeof s=="boolean"||typeof s=="number"),Gt(this,i,0),this.a.I(s))},P.prototype.writeBool=P.prototype.I,P.prototype.R=function(i,s){s!=null&&(T(-2147483648<=s&&2147483648>s),Gt(this,i,0),this.a.M(s))},P.prototype.writeEnum=P.prototype.R,P.prototype.U=function(i,s){s!=null&&(i=re(this,i),this.a.U(s),oe(this,i))},P.prototype.writeString=P.prototype.U,P.prototype.ja=function(i,s){s!=null&&(s=W(s),Gt(this,i,2),this.a.j(s.length),rr(this,s))},P.prototype.writeBytes=P.prototype.ja,P.prototype.Rc=function(i,s,y){s!=null&&(i=re(this,i),y(s,this),oe(this,i))},P.prototype.writeMessage=P.prototype.Rc,P.prototype.Sc=function(i,s,y){s!=null&&(Gt(this,1,3),Gt(this,2,0),this.a.M(i),i=re(this,3),y(s,this),oe(this,i),Gt(this,1,4))},P.prototype.writeMessageSet=P.prototype.Sc,P.prototype.Oc=function(i,s,y){s!=null&&(Gt(this,i,3),y(s,this),Gt(this,i,4))},P.prototype.writeGroup=P.prototype.Oc,P.prototype.K=function(i,s){s!=null&&(T(s.length==8),Gt(this,i,1),this.a.K(s))},P.prototype.writeFixedHash64=P.prototype.K,P.prototype.N=function(i,s){s!=null&&(T(s.length==8),Gt(this,i,0),this.a.N(s))},P.prototype.writeVarintHash64=P.prototype.N,P.prototype.A=function(i,s,y){Gt(this,i,1),this.a.A(s,y)},P.prototype.writeSplitFixed64=P.prototype.A,P.prototype.l=function(i,s,y){Gt(this,i,0),this.a.l(s,y)},P.prototype.writeSplitVarint64=P.prototype.l,P.prototype.tb=function(i,s,y){Gt(this,i,0);var S=this.a;rt(s,y,function(G,ut){S.l(G>>>0,ut>>>0)})},P.prototype.writeSplitZigzagVarint64=P.prototype.tb,P.prototype.Ed=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)Ke(this,i,s[y])},P.prototype.writeRepeatedInt32=P.prototype.Ed,P.prototype.Fd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.ob(i,s[y])},P.prototype.writeRepeatedInt32String=P.prototype.Fd,P.prototype.Gd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++){var S=s[y];S!=null&&(Gt(this,i,0),this.a.ua(S))}},P.prototype.writeRepeatedInt64=P.prototype.Gd,P.prototype.Qd=function(i,s,y,S){if(s!=null)for(var G=0;G<s.length;G++)this.A(i,y(s[G]),S(s[G]))},P.prototype.writeRepeatedSplitFixed64=P.prototype.Qd,P.prototype.Rd=function(i,s,y,S){if(s!=null)for(var G=0;G<s.length;G++)this.l(i,y(s[G]),S(s[G]))},P.prototype.writeRepeatedSplitVarint64=P.prototype.Rd,P.prototype.Sd=function(i,s,y,S){if(s!=null)for(var G=0;G<s.length;G++)this.tb(i,y(s[G]),S(s[G]))},P.prototype.writeRepeatedSplitZigzagVarint64=P.prototype.Sd,P.prototype.Hd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.ka(i,s[y])},P.prototype.writeRepeatedInt64String=P.prototype.Hd,P.prototype.Ud=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)Ye(this,i,s[y])},P.prototype.writeRepeatedUint32=P.prototype.Ud,P.prototype.Vd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.ub(i,s[y])},P.prototype.writeRepeatedUint32String=P.prototype.Vd,P.prototype.Wd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++){var S=s[y];S!=null&&(Gt(this,i,0),this.a.va(S))}},P.prototype.writeRepeatedUint64=P.prototype.Wd,P.prototype.Xd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.vb(i,s[y])},P.prototype.writeRepeatedUint64String=P.prototype.Xd,P.prototype.Md=function(i,s){if(s!=null)for(var y=0;y<s.length;y++){var S=s[y];S!=null&&(Gt(this,i,0),this.a.wa(S))}},P.prototype.writeRepeatedSint32=P.prototype.Md,P.prototype.Nd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++){var S=s[y];S!=null&&(Gt(this,i,0),this.a.xa(S))}},P.prototype.writeRepeatedSint64=P.prototype.Nd,P.prototype.Od=function(i,s){if(s!=null)for(var y=0;y<s.length;y++){var S=s[y];S!=null&&(Gt(this,i,0),this.a.Ta(S))}},P.prototype.writeRepeatedSint64String=P.prototype.Od,P.prototype.Pd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++){var S=s[y];S!=null&&(Gt(this,i,0),this.a.W(S))}},P.prototype.writeRepeatedSintHash64=P.prototype.Pd,P.prototype.yd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.Pa(i,s[y])},P.prototype.writeRepeatedFixed32=P.prototype.yd,P.prototype.zd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.Qa(i,s[y])},P.prototype.writeRepeatedFixed64=P.prototype.zd,P.prototype.Ad=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.nb(i,s[y])},P.prototype.writeRepeatedFixed64String=P.prototype.Ad,P.prototype.Jd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.Ra(i,s[y])},P.prototype.writeRepeatedSfixed32=P.prototype.Jd,P.prototype.Kd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.Sa(i,s[y])},P.prototype.writeRepeatedSfixed64=P.prototype.Kd,P.prototype.Ld=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.qb(i,s[y])},P.prototype.writeRepeatedSfixed64String=P.prototype.Ld,P.prototype.Cd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.L(i,s[y])},P.prototype.writeRepeatedFloat=P.prototype.Cd,P.prototype.wd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.J(i,s[y])},P.prototype.writeRepeatedDouble=P.prototype.wd,P.prototype.ud=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.I(i,s[y])},P.prototype.writeRepeatedBool=P.prototype.ud,P.prototype.xd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.R(i,s[y])},P.prototype.writeRepeatedEnum=P.prototype.xd,P.prototype.Td=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.U(i,s[y])},P.prototype.writeRepeatedString=P.prototype.Td,P.prototype.vd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.ja(i,s[y])},P.prototype.writeRepeatedBytes=P.prototype.vd,P.prototype.Id=function(i,s,y){if(s!=null)for(var S=0;S<s.length;S++){var G=re(this,i);y(s[S],this),oe(this,G)}},P.prototype.writeRepeatedMessage=P.prototype.Id,P.prototype.Dd=function(i,s,y){if(s!=null)for(var S=0;S<s.length;S++)Gt(this,i,3),y(s[S],this),Gt(this,i,4)},P.prototype.writeRepeatedGroup=P.prototype.Dd,P.prototype.Bd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.K(i,s[y])},P.prototype.writeRepeatedFixedHash64=P.prototype.Bd,P.prototype.Yd=function(i,s){if(s!=null)for(var y=0;y<s.length;y++)this.N(i,s[y])},P.prototype.writeRepeatedVarintHash64=P.prototype.Yd,P.prototype.ad=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.M(s[y]);oe(this,i)}},P.prototype.writePackedInt32=P.prototype.ad,P.prototype.bd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.M(parseInt(s[y],10));oe(this,i)}},P.prototype.writePackedInt32String=P.prototype.bd,P.prototype.cd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.ua(s[y]);oe(this,i)}},P.prototype.writePackedInt64=P.prototype.cd,P.prototype.md=function(i,s,y,S){if(s!=null){i=re(this,i);for(var G=0;G<s.length;G++)this.a.A(y(s[G]),S(s[G]));oe(this,i)}},P.prototype.writePackedSplitFixed64=P.prototype.md,P.prototype.nd=function(i,s,y,S){if(s!=null){i=re(this,i);for(var G=0;G<s.length;G++)this.a.l(y(s[G]),S(s[G]));oe(this,i)}},P.prototype.writePackedSplitVarint64=P.prototype.nd,P.prototype.od=function(i,s,y,S){if(s!=null){i=re(this,i);for(var G=this.a,ut=0;ut<s.length;ut++)rt(y(s[ut]),S(s[ut]),function(At,qt){G.l(At>>>0,qt>>>0)});oe(this,i)}},P.prototype.writePackedSplitZigzagVarint64=P.prototype.od,P.prototype.dd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++){var S=We(s[y]);this.a.l(S.lo,S.hi)}oe(this,i)}},P.prototype.writePackedInt64String=P.prototype.dd,P.prototype.pd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.j(s[y]);oe(this,i)}},P.prototype.writePackedUint32=P.prototype.pd,P.prototype.qd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.j(parseInt(s[y],10));oe(this,i)}},P.prototype.writePackedUint32String=P.prototype.qd,P.prototype.rd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.va(s[y]);oe(this,i)}},P.prototype.writePackedUint64=P.prototype.rd,P.prototype.sd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++){var S=ke(s[y]);this.a.l(S.lo,S.hi)}oe(this,i)}},P.prototype.writePackedUint64String=P.prototype.sd,P.prototype.hd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.wa(s[y]);oe(this,i)}},P.prototype.writePackedSint32=P.prototype.hd,P.prototype.jd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.xa(s[y]);oe(this,i)}},P.prototype.writePackedSint64=P.prototype.jd,P.prototype.kd=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.W(f(s[y]));oe(this,i)}},P.prototype.writePackedSint64String=P.prototype.kd,P.prototype.ld=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.W(s[y]);oe(this,i)}},P.prototype.writePackedSintHash64=P.prototype.ld,P.prototype.Wc=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(4*s.length),i=0;i<s.length;i++)this.a.s(s[i])},P.prototype.writePackedFixed32=P.prototype.Wc,P.prototype.Xc=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(8*s.length),i=0;i<s.length;i++)this.a.V(s[i])},P.prototype.writePackedFixed64=P.prototype.Xc,P.prototype.Yc=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(8*s.length),i=0;i<s.length;i++){var y=ke(s[i]);this.a.A(y.lo,y.hi)}},P.prototype.writePackedFixed64String=P.prototype.Yc,P.prototype.ed=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(4*s.length),i=0;i<s.length;i++)this.a.S(s[i])},P.prototype.writePackedSfixed32=P.prototype.ed,P.prototype.fd=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(8*s.length),i=0;i<s.length;i++)this.a.T(s[i])},P.prototype.writePackedSfixed64=P.prototype.fd,P.prototype.gd=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(8*s.length),i=0;i<s.length;i++)this.a.ka(s[i])},P.prototype.writePackedSfixed64String=P.prototype.gd,P.prototype.$c=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(4*s.length),i=0;i<s.length;i++)this.a.L(s[i])},P.prototype.writePackedFloat=P.prototype.$c,P.prototype.Uc=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(8*s.length),i=0;i<s.length;i++)this.a.J(s[i])},P.prototype.writePackedDouble=P.prototype.Uc,P.prototype.Tc=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(s.length),i=0;i<s.length;i++)this.a.I(s[i])},P.prototype.writePackedBool=P.prototype.Tc,P.prototype.Vc=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.R(s[y]);oe(this,i)}},P.prototype.writePackedEnum=P.prototype.Vc,P.prototype.Zc=function(i,s){if(s!=null&&s.length)for(Gt(this,i,2),this.a.j(8*s.length),i=0;i<s.length;i++)this.a.K(s[i])},P.prototype.writePackedFixedHash64=P.prototype.Zc,P.prototype.td=function(i,s){if(s!=null&&s.length){i=re(this,i);for(var y=0;y<s.length;y++)this.a.N(s[y]);oe(this,i)}},P.prototype.writePackedVarintHash64=P.prototype.td,t.debug=Te,t.Map=V,t.Message=Ot,t.BinaryReader=F,t.BinaryWriter=P,t.ExtensionFieldInfo=Lt,t.ExtensionFieldBinaryInfo=Zt,t.exportSymbol=k,t.inherits=j,t.object={extend:C},t.typeOf=w}(jr)),jr}var E=Ic();const kc=Ql(E),Oc=ap({__proto__:null,default:kc},[E]);var _t=Oc,Kt=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof Kt<"u"&&Kt||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();_t.exportSymbol("proto.proto.mdds.v1.BoardEvent",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.ChangeOfContract",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.CouponPaymentDate",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.DeemTradePrice",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.DelistedInstrument",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Disclosure",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.ELWUnderlyingAssets",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.ETFIndexComposition",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.ETFTrackingError",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.ETFiIndex",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.ETFiNav",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.ForeignerOrderLimit",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Holiday",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Index",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.IndexConstituentsInformation",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.InstrumentDerivatives",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.InstrumentSBR",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.InvestorPerIndustry",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.InvestorPerSymbol",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.MarketIndex",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.MarketMakerInformation",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.MarketMakingContract",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.MemberTrader",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.OpenInterest",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Price",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.PriceLimitExpansion",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.PriceRecovery",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.RandomEnd",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.SecurityDefinition",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.SecurityInformationNotification",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.SecurityStatus",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.StockInfo",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.SymbolBoardEvent",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.SymbolClosingInformation",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.SymbolEvent",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Tick",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Tick.Side",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Timestamp",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TopNMembersPerSymbol",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TopPrice",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TradingResultOfForeignInvestor",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.TradingSchedule",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.VolatilityInterruption",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Wrapper",null,Kt);_t.exportSymbol("proto.proto.mdds.v1.Wrapper.KindCase",null,Kt);proto.proto.mdds.v1.Wrapper=function(t){E.Message.initialize(this,t,0,-1,null,proto.proto.mdds.v1.Wrapper.oneofGroups_)};_t.inherits(proto.proto.mdds.v1.Wrapper,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Wrapper.displayName="proto.proto.mdds.v1.Wrapper");proto.proto.mdds.v1.SecurityDefinition=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.SecurityDefinition,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityDefinition.displayName="proto.proto.mdds.v1.SecurityDefinition");proto.proto.mdds.v1.SecurityStatus=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.SecurityStatus,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityStatus.displayName="proto.proto.mdds.v1.SecurityStatus");proto.proto.mdds.v1.SecurityInformationNotification=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.SecurityInformationNotification,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityInformationNotification.displayName="proto.proto.mdds.v1.SecurityInformationNotification");proto.proto.mdds.v1.SymbolClosingInformation=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.SymbolClosingInformation,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolClosingInformation.displayName="proto.proto.mdds.v1.SymbolClosingInformation");proto.proto.mdds.v1.VolatilityInterruption=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.VolatilityInterruption,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.VolatilityInterruption.displayName="proto.proto.mdds.v1.VolatilityInterruption");proto.proto.mdds.v1.MarketMakerInformation=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.MarketMakerInformation,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakerInformation.displayName="proto.proto.mdds.v1.MarketMakerInformation");proto.proto.mdds.v1.SymbolEvent=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.SymbolEvent,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolEvent.displayName="proto.proto.mdds.v1.SymbolEvent");proto.proto.mdds.v1.IndexConstituentsInformation=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.IndexConstituentsInformation,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.IndexConstituentsInformation.displayName="proto.proto.mdds.v1.IndexConstituentsInformation");proto.proto.mdds.v1.RandomEnd=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.RandomEnd,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.RandomEnd.displayName="proto.proto.mdds.v1.RandomEnd");proto.proto.mdds.v1.Price=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.Price,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Price.displayName="proto.proto.mdds.v1.Price");proto.proto.mdds.v1.PriceRecovery=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.PriceRecovery,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceRecovery.displayName="proto.proto.mdds.v1.PriceRecovery");proto.proto.mdds.v1.Index=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.Index,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Index.displayName="proto.proto.mdds.v1.Index");proto.proto.mdds.v1.InvestorPerIndustry=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.InvestorPerIndustry,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerIndustry.displayName="proto.proto.mdds.v1.InvestorPerIndustry");proto.proto.mdds.v1.InvestorPerSymbol=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.InvestorPerSymbol,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerSymbol.displayName="proto.proto.mdds.v1.InvestorPerSymbol");proto.proto.mdds.v1.TopNMembersPerSymbol=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TopNMembersPerSymbol,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNMembersPerSymbol.displayName="proto.proto.mdds.v1.TopNMembersPerSymbol");proto.proto.mdds.v1.OpenInterest=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.OpenInterest,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.OpenInterest.displayName="proto.proto.mdds.v1.OpenInterest");proto.proto.mdds.v1.DeemTradePrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.DeemTradePrice,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DeemTradePrice.displayName="proto.proto.mdds.v1.DeemTradePrice");proto.proto.mdds.v1.ForeignerOrderLimit=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.ForeignerOrderLimit,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ForeignerOrderLimit.displayName="proto.proto.mdds.v1.ForeignerOrderLimit");proto.proto.mdds.v1.PriceLimitExpansion=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.PriceLimitExpansion,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceLimitExpansion.displayName="proto.proto.mdds.v1.PriceLimitExpansion");proto.proto.mdds.v1.ETFiNav=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.ETFiNav,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiNav.displayName="proto.proto.mdds.v1.ETFiNav");proto.proto.mdds.v1.ETFiIndex=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.ETFiIndex,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiIndex.displayName="proto.proto.mdds.v1.ETFiIndex");proto.proto.mdds.v1.ETFTrackingError=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.ETFTrackingError,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFTrackingError.displayName="proto.proto.mdds.v1.ETFTrackingError");proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.displayName="proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity");proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice");proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice");proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice");proto.proto.mdds.v1.TradingResultOfForeignInvestor=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TradingResultOfForeignInvestor,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.displayName="proto.proto.mdds.v1.TradingResultOfForeignInvestor");proto.proto.mdds.v1.Disclosure=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.Disclosure,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Disclosure.displayName="proto.proto.mdds.v1.Disclosure");proto.proto.mdds.v1.DelistedInstrument=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.DelistedInstrument,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DelistedInstrument.displayName="proto.proto.mdds.v1.DelistedInstrument");proto.proto.mdds.v1.CouponPaymentDate=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.CouponPaymentDate,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.CouponPaymentDate.displayName="proto.proto.mdds.v1.CouponPaymentDate");proto.proto.mdds.v1.ChangeOfContract=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.ChangeOfContract,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ChangeOfContract.displayName="proto.proto.mdds.v1.ChangeOfContract");proto.proto.mdds.v1.InstrumentDerivatives=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.InstrumentDerivatives,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentDerivatives.displayName="proto.proto.mdds.v1.InstrumentDerivatives");proto.proto.mdds.v1.InstrumentSBR=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.InstrumentSBR,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentSBR.displayName="proto.proto.mdds.v1.InstrumentSBR");proto.proto.mdds.v1.TradingSchedule=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TradingSchedule,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingSchedule.displayName="proto.proto.mdds.v1.TradingSchedule");proto.proto.mdds.v1.Holiday=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.Holiday,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Holiday.displayName="proto.proto.mdds.v1.Holiday");proto.proto.mdds.v1.MemberTrader=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.MemberTrader,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MemberTrader.displayName="proto.proto.mdds.v1.MemberTrader");proto.proto.mdds.v1.MarketMakingContract=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.MarketMakingContract,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakingContract.displayName="proto.proto.mdds.v1.MarketMakingContract");proto.proto.mdds.v1.ETFIndexComposition=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.ETFIndexComposition,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFIndexComposition.displayName="proto.proto.mdds.v1.ETFIndexComposition");proto.proto.mdds.v1.ELWUnderlyingAssets=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.ELWUnderlyingAssets,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ELWUnderlyingAssets.displayName="proto.proto.mdds.v1.ELWUnderlyingAssets");proto.proto.mdds.v1.StockInfo=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.StockInfo,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.StockInfo.displayName="proto.proto.mdds.v1.StockInfo");proto.proto.mdds.v1.MarketIndex=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.MarketIndex,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketIndex.displayName="proto.proto.mdds.v1.MarketIndex");proto.proto.mdds.v1.BoardEvent=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.BoardEvent,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.BoardEvent.displayName="proto.proto.mdds.v1.BoardEvent");proto.proto.mdds.v1.SymbolBoardEvent=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.SymbolBoardEvent,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolBoardEvent.displayName="proto.proto.mdds.v1.SymbolBoardEvent");proto.proto.mdds.v1.Tick=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.Tick,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Tick.displayName="proto.proto.mdds.v1.Tick");proto.proto.mdds.v1.TopPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.TopPrice,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopPrice.displayName="proto.proto.mdds.v1.TopPrice");proto.proto.mdds.v1.Timestamp=function(t){E.Message.initialize(this,t,0,-1,null,null)};_t.inherits(proto.proto.mdds.v1.Timestamp,E.Message);_t.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Timestamp.displayName="proto.proto.mdds.v1.Timestamp");proto.proto.mdds.v1.Wrapper.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]];proto.proto.mdds.v1.Wrapper.KindCase={KIND_NOT_SET:0,SECURITYDEFINITION:1,SECURITYSTATUS:2,SECURITYINFORMATIONNOTIFICATION:3,SYMBOLCLOSINGINFORMATION:4,VOLATILITYINTERRUPTION:5,MARKETMAKERINFORMATION:6,SYMBOLEVENT:7,INDEXCONSTITUENTSINFORMATION:8,RANDOMEND:9,PRICE:10,PRICERECOVERY:11,INDEX:12,INVESTORPERINDUSTRY:13,INVESTORPERSYMBOL:14,TOPNMEMBERSPERSYMBOL:15,OPENINTEREST:16,DEEMTRADEPRICE:17,FOREIGNERORDERLIMIT:18,PRICELIMITEXPANSION:19,ETFINAV:20,ETFIINDEX:21,ETFTRACKINGERROR:22,TOPNSYMBOLSWITHTRADINGQUANTITY:23,TOPNSYMBOLSWITHCURRENTPRICE:24,TOPNSYMBOLSWITHHIGHRATIOOFPRICE:25,TOPNSYMBOLSWITHLOWRATIOOFPRICE:26,TRADINGRESULTOFFOREIGNINVESTOR:27,DISCLOSURE:28,TIMESTAMP:29,DELISTEDINSTRUMENT:30,COUPONPAYMENTDATE:31,CHANGEOFCONTRACT:32,INSTRUMENTDERIVATIVES:33,INSTRUMENTSBR:34,TRADINGSCHEDULE:35,HOLIDAY:36,MEMBERTRADER:37,MARKETMAKINGCONTRACT:38,ETFINDEXCOMPOSITION:39,ELWUNDERLYINGASSETS:40,STOCKINFO:41,MARKETINDEX:42,BOARDEVENT:43,SYMBOLBOARDEVENT:44,TICK:45,TOPPRICE:46};proto.proto.mdds.v1.Wrapper.prototype.getKindCase=function(){return E.Message.computeOneofCase(this,proto.proto.mdds.v1.Wrapper.oneofGroups_[0])};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Wrapper.prototype.toObject=function(t){return proto.proto.mdds.v1.Wrapper.toObject(t,this)},proto.proto.mdds.v1.Wrapper.toObject=function(t,o){var e,p={securitydefinition:(e=o.getSecuritydefinition())&&proto.proto.mdds.v1.SecurityDefinition.toObject(t,e),securitystatus:(e=o.getSecuritystatus())&&proto.proto.mdds.v1.SecurityStatus.toObject(t,e),securityinformationnotification:(e=o.getSecurityinformationnotification())&&proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,e),symbolclosinginformation:(e=o.getSymbolclosinginformation())&&proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,e),volatilityinterruption:(e=o.getVolatilityinterruption())&&proto.proto.mdds.v1.VolatilityInterruption.toObject(t,e),marketmakerinformation:(e=o.getMarketmakerinformation())&&proto.proto.mdds.v1.MarketMakerInformation.toObject(t,e),symbolevent:(e=o.getSymbolevent())&&proto.proto.mdds.v1.SymbolEvent.toObject(t,e),indexconstituentsinformation:(e=o.getIndexconstituentsinformation())&&proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,e),randomend:(e=o.getRandomend())&&proto.proto.mdds.v1.RandomEnd.toObject(t,e),price:(e=o.getPrice())&&proto.proto.mdds.v1.Price.toObject(t,e),pricerecovery:(e=o.getPricerecovery())&&proto.proto.mdds.v1.PriceRecovery.toObject(t,e),index:(e=o.getIndex())&&proto.proto.mdds.v1.Index.toObject(t,e),investorperindustry:(e=o.getInvestorperindustry())&&proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,e),investorpersymbol:(e=o.getInvestorpersymbol())&&proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,e),topnmemberspersymbol:(e=o.getTopnmemberspersymbol())&&proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,e),openinterest:(e=o.getOpeninterest())&&proto.proto.mdds.v1.OpenInterest.toObject(t,e),deemtradeprice:(e=o.getDeemtradeprice())&&proto.proto.mdds.v1.DeemTradePrice.toObject(t,e),foreignerorderlimit:(e=o.getForeignerorderlimit())&&proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,e),pricelimitexpansion:(e=o.getPricelimitexpansion())&&proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,e),etfinav:(e=o.getEtfinav())&&proto.proto.mdds.v1.ETFiNav.toObject(t,e),etfiindex:(e=o.getEtfiindex())&&proto.proto.mdds.v1.ETFiIndex.toObject(t,e),etftrackingerror:(e=o.getEtftrackingerror())&&proto.proto.mdds.v1.ETFTrackingError.toObject(t,e),topnsymbolswithtradingquantity:(e=o.getTopnsymbolswithtradingquantity())&&proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,e),topnsymbolswithcurrentprice:(e=o.getTopnsymbolswithcurrentprice())&&proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,e),topnsymbolswithhighratioofprice:(e=o.getTopnsymbolswithhighratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,e),topnsymbolswithlowratioofprice:(e=o.getTopnsymbolswithlowratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,e),tradingresultofforeigninvestor:(e=o.getTradingresultofforeigninvestor())&&proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,e),disclosure:(e=o.getDisclosure())&&proto.proto.mdds.v1.Disclosure.toObject(t,e),timestamp:(e=o.getTimestamp())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),delistedinstrument:(e=o.getDelistedinstrument())&&proto.proto.mdds.v1.DelistedInstrument.toObject(t,e),couponpaymentdate:(e=o.getCouponpaymentdate())&&proto.proto.mdds.v1.CouponPaymentDate.toObject(t,e),changeofcontract:(e=o.getChangeofcontract())&&proto.proto.mdds.v1.ChangeOfContract.toObject(t,e),instrumentderivatives:(e=o.getInstrumentderivatives())&&proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,e),instrumentsbr:(e=o.getInstrumentsbr())&&proto.proto.mdds.v1.InstrumentSBR.toObject(t,e),tradingschedule:(e=o.getTradingschedule())&&proto.proto.mdds.v1.TradingSchedule.toObject(t,e),holiday:(e=o.getHoliday())&&proto.proto.mdds.v1.Holiday.toObject(t,e),membertrader:(e=o.getMembertrader())&&proto.proto.mdds.v1.MemberTrader.toObject(t,e),marketmakingcontract:(e=o.getMarketmakingcontract())&&proto.proto.mdds.v1.MarketMakingContract.toObject(t,e),etfindexcomposition:(e=o.getEtfindexcomposition())&&proto.proto.mdds.v1.ETFIndexComposition.toObject(t,e),elwunderlyingassets:(e=o.getElwunderlyingassets())&&proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,e),stockinfo:(e=o.getStockinfo())&&proto.proto.mdds.v1.StockInfo.toObject(t,e),marketindex:(e=o.getMarketindex())&&proto.proto.mdds.v1.MarketIndex.toObject(t,e),boardevent:(e=o.getBoardevent())&&proto.proto.mdds.v1.BoardEvent.toObject(t,e),symbolboardevent:(e=o.getSymbolboardevent())&&proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,e),tick:(e=o.getTick())&&proto.proto.mdds.v1.Tick.toObject(t,e),topprice:(e=o.getTopprice())&&proto.proto.mdds.v1.TopPrice.toObject(t,e)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Wrapper.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Wrapper;return proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=new proto.proto.mdds.v1.SecurityDefinition;o.readMessage(p,proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader),t.setSecuritydefinition(p);break;case 2:var p=new proto.proto.mdds.v1.SecurityStatus;o.readMessage(p,proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader),t.setSecuritystatus(p);break;case 3:var p=new proto.proto.mdds.v1.SecurityInformationNotification;o.readMessage(p,proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader),t.setSecurityinformationnotification(p);break;case 4:var p=new proto.proto.mdds.v1.SymbolClosingInformation;o.readMessage(p,proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader),t.setSymbolclosinginformation(p);break;case 5:var p=new proto.proto.mdds.v1.VolatilityInterruption;o.readMessage(p,proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader),t.setVolatilityinterruption(p);break;case 6:var p=new proto.proto.mdds.v1.MarketMakerInformation;o.readMessage(p,proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader),t.setMarketmakerinformation(p);break;case 7:var p=new proto.proto.mdds.v1.SymbolEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader),t.setSymbolevent(p);break;case 8:var p=new proto.proto.mdds.v1.IndexConstituentsInformation;o.readMessage(p,proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader),t.setIndexconstituentsinformation(p);break;case 9:var p=new proto.proto.mdds.v1.RandomEnd;o.readMessage(p,proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader),t.setRandomend(p);break;case 10:var p=new proto.proto.mdds.v1.Price;o.readMessage(p,proto.proto.mdds.v1.Price.deserializeBinaryFromReader),t.setPrice(p);break;case 11:var p=new proto.proto.mdds.v1.PriceRecovery;o.readMessage(p,proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader),t.setPricerecovery(p);break;case 12:var p=new proto.proto.mdds.v1.Index;o.readMessage(p,proto.proto.mdds.v1.Index.deserializeBinaryFromReader),t.setIndex(p);break;case 13:var p=new proto.proto.mdds.v1.InvestorPerIndustry;o.readMessage(p,proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader),t.setInvestorperindustry(p);break;case 14:var p=new proto.proto.mdds.v1.InvestorPerSymbol;o.readMessage(p,proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader),t.setInvestorpersymbol(p);break;case 15:var p=new proto.proto.mdds.v1.TopNMembersPerSymbol;o.readMessage(p,proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader),t.setTopnmemberspersymbol(p);break;case 16:var p=new proto.proto.mdds.v1.OpenInterest;o.readMessage(p,proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader),t.setOpeninterest(p);break;case 17:var p=new proto.proto.mdds.v1.DeemTradePrice;o.readMessage(p,proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader),t.setDeemtradeprice(p);break;case 18:var p=new proto.proto.mdds.v1.ForeignerOrderLimit;o.readMessage(p,proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader),t.setForeignerorderlimit(p);break;case 19:var p=new proto.proto.mdds.v1.PriceLimitExpansion;o.readMessage(p,proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader),t.setPricelimitexpansion(p);break;case 20:var p=new proto.proto.mdds.v1.ETFiNav;o.readMessage(p,proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader),t.setEtfinav(p);break;case 21:var p=new proto.proto.mdds.v1.ETFiIndex;o.readMessage(p,proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader),t.setEtfiindex(p);break;case 22:var p=new proto.proto.mdds.v1.ETFTrackingError;o.readMessage(p,proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader),t.setEtftrackingerror(p);break;case 23:var p=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader),t.setTopnsymbolswithtradingquantity(p);break;case 24:var p=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader),t.setTopnsymbolswithcurrentprice(p);break;case 25:var p=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithhighratioofprice(p);break;case 26:var p=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithlowratioofprice(p);break;case 27:var p=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;o.readMessage(p,proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader),t.setTradingresultofforeigninvestor(p);break;case 28:var p=new proto.proto.mdds.v1.Disclosure;o.readMessage(p,proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader),t.setDisclosure(p);break;case 29:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setTimestamp(p);break;case 30:var p=new proto.proto.mdds.v1.DelistedInstrument;o.readMessage(p,proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader),t.setDelistedinstrument(p);break;case 31:var p=new proto.proto.mdds.v1.CouponPaymentDate;o.readMessage(p,proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader),t.setCouponpaymentdate(p);break;case 32:var p=new proto.proto.mdds.v1.ChangeOfContract;o.readMessage(p,proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader),t.setChangeofcontract(p);break;case 33:var p=new proto.proto.mdds.v1.InstrumentDerivatives;o.readMessage(p,proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader),t.setInstrumentderivatives(p);break;case 34:var p=new proto.proto.mdds.v1.InstrumentSBR;o.readMessage(p,proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader),t.setInstrumentsbr(p);break;case 35:var p=new proto.proto.mdds.v1.TradingSchedule;o.readMessage(p,proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader),t.setTradingschedule(p);break;case 36:var p=new proto.proto.mdds.v1.Holiday;o.readMessage(p,proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader),t.setHoliday(p);break;case 37:var p=new proto.proto.mdds.v1.MemberTrader;o.readMessage(p,proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader),t.setMembertrader(p);break;case 38:var p=new proto.proto.mdds.v1.MarketMakingContract;o.readMessage(p,proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader),t.setMarketmakingcontract(p);break;case 39:var p=new proto.proto.mdds.v1.ETFIndexComposition;o.readMessage(p,proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader),t.setEtfindexcomposition(p);break;case 40:var p=new proto.proto.mdds.v1.ELWUnderlyingAssets;o.readMessage(p,proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader),t.setElwunderlyingassets(p);break;case 41:var p=new proto.proto.mdds.v1.StockInfo;o.readMessage(p,proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader),t.setStockinfo(p);break;case 42:var p=new proto.proto.mdds.v1.MarketIndex;o.readMessage(p,proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader),t.setMarketindex(p);break;case 43:var p=new proto.proto.mdds.v1.BoardEvent;o.readMessage(p,proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader),t.setBoardevent(p);break;case 44:var p=new proto.proto.mdds.v1.SymbolBoardEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader),t.setSymbolboardevent(p);break;case 45:var p=new proto.proto.mdds.v1.Tick;o.readMessage(p,proto.proto.mdds.v1.Tick.deserializeBinaryFromReader),t.setTick(p);break;case 46:var p=new proto.proto.mdds.v1.TopPrice;o.readMessage(p,proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader),t.setTopprice(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Wrapper.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSecuritydefinition(),e!=null&&o.writeMessage(1,e,proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter),e=t.getSecuritystatus(),e!=null&&o.writeMessage(2,e,proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter),e=t.getSecurityinformationnotification(),e!=null&&o.writeMessage(3,e,proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter),e=t.getSymbolclosinginformation(),e!=null&&o.writeMessage(4,e,proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter),e=t.getVolatilityinterruption(),e!=null&&o.writeMessage(5,e,proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter),e=t.getMarketmakerinformation(),e!=null&&o.writeMessage(6,e,proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter),e=t.getSymbolevent(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter),e=t.getIndexconstituentsinformation(),e!=null&&o.writeMessage(8,e,proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter),e=t.getRandomend(),e!=null&&o.writeMessage(9,e,proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter),e=t.getPrice(),e!=null&&o.writeMessage(10,e,proto.proto.mdds.v1.Price.serializeBinaryToWriter),e=t.getPricerecovery(),e!=null&&o.writeMessage(11,e,proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter),e=t.getIndex(),e!=null&&o.writeMessage(12,e,proto.proto.mdds.v1.Index.serializeBinaryToWriter),e=t.getInvestorperindustry(),e!=null&&o.writeMessage(13,e,proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter),e=t.getInvestorpersymbol(),e!=null&&o.writeMessage(14,e,proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter),e=t.getTopnmemberspersymbol(),e!=null&&o.writeMessage(15,e,proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter),e=t.getOpeninterest(),e!=null&&o.writeMessage(16,e,proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter),e=t.getDeemtradeprice(),e!=null&&o.writeMessage(17,e,proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter),e=t.getForeignerorderlimit(),e!=null&&o.writeMessage(18,e,proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter),e=t.getPricelimitexpansion(),e!=null&&o.writeMessage(19,e,proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter),e=t.getEtfinav(),e!=null&&o.writeMessage(20,e,proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter),e=t.getEtfiindex(),e!=null&&o.writeMessage(21,e,proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter),e=t.getEtftrackingerror(),e!=null&&o.writeMessage(22,e,proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter),e=t.getTopnsymbolswithtradingquantity(),e!=null&&o.writeMessage(23,e,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter),e=t.getTopnsymbolswithcurrentprice(),e!=null&&o.writeMessage(24,e,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithhighratioofprice(),e!=null&&o.writeMessage(25,e,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithlowratioofprice(),e!=null&&o.writeMessage(26,e,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter),e=t.getTradingresultofforeigninvestor(),e!=null&&o.writeMessage(27,e,proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter),e=t.getDisclosure(),e!=null&&o.writeMessage(28,e,proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter),e=t.getTimestamp(),e!=null&&o.writeMessage(29,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getDelistedinstrument(),e!=null&&o.writeMessage(30,e,proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter),e=t.getCouponpaymentdate(),e!=null&&o.writeMessage(31,e,proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter),e=t.getChangeofcontract(),e!=null&&o.writeMessage(32,e,proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter),e=t.getInstrumentderivatives(),e!=null&&o.writeMessage(33,e,proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter),e=t.getInstrumentsbr(),e!=null&&o.writeMessage(34,e,proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter),e=t.getTradingschedule(),e!=null&&o.writeMessage(35,e,proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter),e=t.getHoliday(),e!=null&&o.writeMessage(36,e,proto.proto.mdds.v1.Holiday.serializeBinaryToWriter),e=t.getMembertrader(),e!=null&&o.writeMessage(37,e,proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter),e=t.getMarketmakingcontract(),e!=null&&o.writeMessage(38,e,proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter),e=t.getEtfindexcomposition(),e!=null&&o.writeMessage(39,e,proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter),e=t.getElwunderlyingassets(),e!=null&&o.writeMessage(40,e,proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter),e=t.getStockinfo(),e!=null&&o.writeMessage(41,e,proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter),e=t.getMarketindex(),e!=null&&o.writeMessage(42,e,proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter),e=t.getBoardevent(),e!=null&&o.writeMessage(43,e,proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter),e=t.getSymbolboardevent(),e!=null&&o.writeMessage(44,e,proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter),e=t.getTick(),e!=null&&o.writeMessage(45,e,proto.proto.mdds.v1.Tick.serializeBinaryToWriter),e=t.getTopprice(),e!=null&&o.writeMessage(46,e,proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter)};proto.proto.mdds.v1.Wrapper.prototype.getSecuritydefinition=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityDefinition,1)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritydefinition=function(t){return E.Message.setOneofWrapperField(this,1,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritydefinition=function(){return this.setSecuritydefinition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritydefinition=function(){return E.Message.getField(this,1)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecuritystatus=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityStatus,2)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritystatus=function(t){return E.Message.setOneofWrapperField(this,2,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritystatus=function(){return this.setSecuritystatus(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritystatus=function(){return E.Message.getField(this,2)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecurityinformationnotification=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityInformationNotification,3)};proto.proto.mdds.v1.Wrapper.prototype.setSecurityinformationnotification=function(t){return E.Message.setOneofWrapperField(this,3,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecurityinformationnotification=function(){return this.setSecurityinformationnotification(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecurityinformationnotification=function(){return E.Message.getField(this,3)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolclosinginformation=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolClosingInformation,4)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolclosinginformation=function(t){return E.Message.setOneofWrapperField(this,4,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolclosinginformation=function(){return this.setSymbolclosinginformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolclosinginformation=function(){return E.Message.getField(this,4)!=null};proto.proto.mdds.v1.Wrapper.prototype.getVolatilityinterruption=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.VolatilityInterruption,5)};proto.proto.mdds.v1.Wrapper.prototype.setVolatilityinterruption=function(t){return E.Message.setOneofWrapperField(this,5,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearVolatilityinterruption=function(){return this.setVolatilityinterruption(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasVolatilityinterruption=function(){return E.Message.getField(this,5)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakerinformation=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakerInformation,6)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakerinformation=function(t){return E.Message.setOneofWrapperField(this,6,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakerinformation=function(){return this.setMarketmakerinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakerinformation=function(){return E.Message.getField(this,6)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolevent=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolEvent,7)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolevent=function(t){return E.Message.setOneofWrapperField(this,7,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolevent=function(){return this.setSymbolevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolevent=function(){return E.Message.getField(this,7)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndexconstituentsinformation=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.IndexConstituentsInformation,8)};proto.proto.mdds.v1.Wrapper.prototype.setIndexconstituentsinformation=function(t){return E.Message.setOneofWrapperField(this,8,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndexconstituentsinformation=function(){return this.setIndexconstituentsinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndexconstituentsinformation=function(){return E.Message.getField(this,8)!=null};proto.proto.mdds.v1.Wrapper.prototype.getRandomend=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.RandomEnd,9)};proto.proto.mdds.v1.Wrapper.prototype.setRandomend=function(t){return E.Message.setOneofWrapperField(this,9,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearRandomend=function(){return this.setRandomend(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasRandomend=function(){return E.Message.getField(this,9)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPrice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Price,10)};proto.proto.mdds.v1.Wrapper.prototype.setPrice=function(t){return E.Message.setOneofWrapperField(this,10,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPrice=function(){return this.setPrice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPrice=function(){return E.Message.getField(this,10)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricerecovery=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.PriceRecovery,11)};proto.proto.mdds.v1.Wrapper.prototype.setPricerecovery=function(t){return E.Message.setOneofWrapperField(this,11,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricerecovery=function(){return this.setPricerecovery(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricerecovery=function(){return E.Message.getField(this,11)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndex=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Index,12)};proto.proto.mdds.v1.Wrapper.prototype.setIndex=function(t){return E.Message.setOneofWrapperField(this,12,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndex=function(){return this.setIndex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndex=function(){return E.Message.getField(this,12)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorperindustry=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerIndustry,13)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorperindustry=function(t){return E.Message.setOneofWrapperField(this,13,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorperindustry=function(){return this.setInvestorperindustry(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorperindustry=function(){return E.Message.getField(this,13)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorpersymbol=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerSymbol,14)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorpersymbol=function(t){return E.Message.setOneofWrapperField(this,14,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorpersymbol=function(){return this.setInvestorpersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorpersymbol=function(){return E.Message.getField(this,14)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnmemberspersymbol=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNMembersPerSymbol,15)};proto.proto.mdds.v1.Wrapper.prototype.setTopnmemberspersymbol=function(t){return E.Message.setOneofWrapperField(this,15,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnmemberspersymbol=function(){return this.setTopnmemberspersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnmemberspersymbol=function(){return E.Message.getField(this,15)!=null};proto.proto.mdds.v1.Wrapper.prototype.getOpeninterest=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.OpenInterest,16)};proto.proto.mdds.v1.Wrapper.prototype.setOpeninterest=function(t){return E.Message.setOneofWrapperField(this,16,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearOpeninterest=function(){return this.setOpeninterest(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasOpeninterest=function(){return E.Message.getField(this,16)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDeemtradeprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.DeemTradePrice,17)};proto.proto.mdds.v1.Wrapper.prototype.setDeemtradeprice=function(t){return E.Message.setOneofWrapperField(this,17,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDeemtradeprice=function(){return this.setDeemtradeprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDeemtradeprice=function(){return E.Message.getField(this,17)!=null};proto.proto.mdds.v1.Wrapper.prototype.getForeignerorderlimit=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ForeignerOrderLimit,18)};proto.proto.mdds.v1.Wrapper.prototype.setForeignerorderlimit=function(t){return E.Message.setOneofWrapperField(this,18,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearForeignerorderlimit=function(){return this.setForeignerorderlimit(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasForeignerorderlimit=function(){return E.Message.getField(this,18)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricelimitexpansion=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.PriceLimitExpansion,19)};proto.proto.mdds.v1.Wrapper.prototype.setPricelimitexpansion=function(t){return E.Message.setOneofWrapperField(this,19,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricelimitexpansion=function(){return this.setPricelimitexpansion(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricelimitexpansion=function(){return E.Message.getField(this,19)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfinav=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiNav,20)};proto.proto.mdds.v1.Wrapper.prototype.setEtfinav=function(t){return E.Message.setOneofWrapperField(this,20,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfinav=function(){return this.setEtfinav(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfinav=function(){return E.Message.getField(this,20)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfiindex=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiIndex,21)};proto.proto.mdds.v1.Wrapper.prototype.setEtfiindex=function(t){return E.Message.setOneofWrapperField(this,21,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfiindex=function(){return this.setEtfiindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfiindex=function(){return E.Message.getField(this,21)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtftrackingerror=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFTrackingError,22)};proto.proto.mdds.v1.Wrapper.prototype.setEtftrackingerror=function(t){return E.Message.setOneofWrapperField(this,22,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtftrackingerror=function(){return this.setEtftrackingerror(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtftrackingerror=function(){return E.Message.getField(this,22)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithtradingquantity=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,23)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithtradingquantity=function(t){return E.Message.setOneofWrapperField(this,23,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithtradingquantity=function(){return this.setTopnsymbolswithtradingquantity(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithtradingquantity=function(){return E.Message.getField(this,23)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithcurrentprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,24)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithcurrentprice=function(t){return E.Message.setOneofWrapperField(this,24,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithcurrentprice=function(){return this.setTopnsymbolswithcurrentprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithcurrentprice=function(){return E.Message.getField(this,24)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithhighratioofprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,25)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithhighratioofprice=function(t){return E.Message.setOneofWrapperField(this,25,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithhighratioofprice=function(){return this.setTopnsymbolswithhighratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithhighratioofprice=function(){return E.Message.getField(this,25)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithlowratioofprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,26)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithlowratioofprice=function(t){return E.Message.setOneofWrapperField(this,26,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithlowratioofprice=function(){return this.setTopnsymbolswithlowratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithlowratioofprice=function(){return E.Message.getField(this,26)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingresultofforeigninvestor=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TradingResultOfForeignInvestor,27)};proto.proto.mdds.v1.Wrapper.prototype.setTradingresultofforeigninvestor=function(t){return E.Message.setOneofWrapperField(this,27,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingresultofforeigninvestor=function(){return this.setTradingresultofforeigninvestor(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingresultofforeigninvestor=function(){return E.Message.getField(this,27)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDisclosure=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Disclosure,28)};proto.proto.mdds.v1.Wrapper.prototype.setDisclosure=function(t){return E.Message.setOneofWrapperField(this,28,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDisclosure=function(){return this.setDisclosure(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDisclosure=function(){return E.Message.getField(this,28)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTimestamp=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,29)};proto.proto.mdds.v1.Wrapper.prototype.setTimestamp=function(t){return E.Message.setOneofWrapperField(this,29,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTimestamp=function(){return this.setTimestamp(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTimestamp=function(){return E.Message.getField(this,29)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDelistedinstrument=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.DelistedInstrument,30)};proto.proto.mdds.v1.Wrapper.prototype.setDelistedinstrument=function(t){return E.Message.setOneofWrapperField(this,30,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDelistedinstrument=function(){return this.setDelistedinstrument(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDelistedinstrument=function(){return E.Message.getField(this,30)!=null};proto.proto.mdds.v1.Wrapper.prototype.getCouponpaymentdate=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.CouponPaymentDate,31)};proto.proto.mdds.v1.Wrapper.prototype.setCouponpaymentdate=function(t){return E.Message.setOneofWrapperField(this,31,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearCouponpaymentdate=function(){return this.setCouponpaymentdate(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasCouponpaymentdate=function(){return E.Message.getField(this,31)!=null};proto.proto.mdds.v1.Wrapper.prototype.getChangeofcontract=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ChangeOfContract,32)};proto.proto.mdds.v1.Wrapper.prototype.setChangeofcontract=function(t){return E.Message.setOneofWrapperField(this,32,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearChangeofcontract=function(){return this.setChangeofcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasChangeofcontract=function(){return E.Message.getField(this,32)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentderivatives=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentDerivatives,33)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentderivatives=function(t){return E.Message.setOneofWrapperField(this,33,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentderivatives=function(){return this.setInstrumentderivatives(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentderivatives=function(){return E.Message.getField(this,33)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentsbr=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentSBR,34)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentsbr=function(t){return E.Message.setOneofWrapperField(this,34,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentsbr=function(){return this.setInstrumentsbr(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentsbr=function(){return E.Message.getField(this,34)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingschedule=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TradingSchedule,35)};proto.proto.mdds.v1.Wrapper.prototype.setTradingschedule=function(t){return E.Message.setOneofWrapperField(this,35,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingschedule=function(){return this.setTradingschedule(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingschedule=function(){return E.Message.getField(this,35)!=null};proto.proto.mdds.v1.Wrapper.prototype.getHoliday=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Holiday,36)};proto.proto.mdds.v1.Wrapper.prototype.setHoliday=function(t){return E.Message.setOneofWrapperField(this,36,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearHoliday=function(){return this.setHoliday(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasHoliday=function(){return E.Message.getField(this,36)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMembertrader=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MemberTrader,37)};proto.proto.mdds.v1.Wrapper.prototype.setMembertrader=function(t){return E.Message.setOneofWrapperField(this,37,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMembertrader=function(){return this.setMembertrader(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMembertrader=function(){return E.Message.getField(this,37)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakingcontract=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakingContract,38)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakingcontract=function(t){return E.Message.setOneofWrapperField(this,38,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakingcontract=function(){return this.setMarketmakingcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakingcontract=function(){return E.Message.getField(this,38)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfindexcomposition=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFIndexComposition,39)};proto.proto.mdds.v1.Wrapper.prototype.setEtfindexcomposition=function(t){return E.Message.setOneofWrapperField(this,39,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfindexcomposition=function(){return this.setEtfindexcomposition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfindexcomposition=function(){return E.Message.getField(this,39)!=null};proto.proto.mdds.v1.Wrapper.prototype.getElwunderlyingassets=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ELWUnderlyingAssets,40)};proto.proto.mdds.v1.Wrapper.prototype.setElwunderlyingassets=function(t){return E.Message.setOneofWrapperField(this,40,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearElwunderlyingassets=function(){return this.setElwunderlyingassets(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasElwunderlyingassets=function(){return E.Message.getField(this,40)!=null};proto.proto.mdds.v1.Wrapper.prototype.getStockinfo=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.StockInfo,41)};proto.proto.mdds.v1.Wrapper.prototype.setStockinfo=function(t){return E.Message.setOneofWrapperField(this,41,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearStockinfo=function(){return this.setStockinfo(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasStockinfo=function(){return E.Message.getField(this,41)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketindex=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MarketIndex,42)};proto.proto.mdds.v1.Wrapper.prototype.setMarketindex=function(t){return E.Message.setOneofWrapperField(this,42,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketindex=function(){return this.setMarketindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketindex=function(){return E.Message.getField(this,42)!=null};proto.proto.mdds.v1.Wrapper.prototype.getBoardevent=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.BoardEvent,43)};proto.proto.mdds.v1.Wrapper.prototype.setBoardevent=function(t){return E.Message.setOneofWrapperField(this,43,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearBoardevent=function(){return this.setBoardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasBoardevent=function(){return E.Message.getField(this,43)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolboardevent=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolBoardEvent,44)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolboardevent=function(t){return E.Message.setOneofWrapperField(this,44,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolboardevent=function(){return this.setSymbolboardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolboardevent=function(){return E.Message.getField(this,44)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTick=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Tick,45)};proto.proto.mdds.v1.Wrapper.prototype.setTick=function(t){return E.Message.setOneofWrapperField(this,45,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTick=function(){return this.setTick(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTick=function(){return E.Message.getField(this,45)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopPrice,46)};proto.proto.mdds.v1.Wrapper.prototype.setTopprice=function(t){return E.Message.setOneofWrapperField(this,46,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopprice=function(){return this.setTopprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopprice=function(){return E.Message.getField(this,46)!=null};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityDefinition.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityDefinition.toObject(t,this)},proto.proto.mdds.v1.SecurityDefinition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityDefinition.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityDefinition;return proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityDefinition.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityStatus.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityStatus.toObject(t,this)},proto.proto.mdds.v1.SecurityStatus.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityStatus.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityStatus;return proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityStatus.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityInformationNotification.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,this)},proto.proto.mdds.v1.SecurityInformationNotification.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityInformationNotification;return proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityInformationNotification.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolClosingInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,this)},proto.proto.mdds.v1.SymbolClosingInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolClosingInformation;return proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolClosingInformation.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.VolatilityInterruption.prototype.toObject=function(t){return proto.proto.mdds.v1.VolatilityInterruption.toObject(t,this)},proto.proto.mdds.v1.VolatilityInterruption.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.VolatilityInterruption.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.VolatilityInterruption;return proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.VolatilityInterruption.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakerInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakerInformation.toObject(t,this)},proto.proto.mdds.v1.MarketMakerInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakerInformation.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakerInformation;return proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakerInformation.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolEvent.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolEvent;return proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolEvent.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.IndexConstituentsInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,this)},proto.proto.mdds.v1.IndexConstituentsInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.IndexConstituentsInformation;return proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.IndexConstituentsInformation.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.RandomEnd.prototype.toObject=function(t){return proto.proto.mdds.v1.RandomEnd.toObject(t,this)},proto.proto.mdds.v1.RandomEnd.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.RandomEnd.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.RandomEnd;return proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.RandomEnd.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Price.prototype.toObject=function(t){return proto.proto.mdds.v1.Price.toObject(t,this)},proto.proto.mdds.v1.Price.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Price.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Price;return proto.proto.mdds.v1.Price.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Price.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Price.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Price.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Price.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceRecovery.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceRecovery.toObject(t,this)},proto.proto.mdds.v1.PriceRecovery.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceRecovery.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.PriceRecovery;return proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceRecovery.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Index.prototype.toObject=function(t){return proto.proto.mdds.v1.Index.toObject(t,this)},proto.proto.mdds.v1.Index.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Index.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Index;return proto.proto.mdds.v1.Index.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Index.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Index.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Index.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Index.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerIndustry.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,this)},proto.proto.mdds.v1.InvestorPerIndustry.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerIndustry;return proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerIndustry.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,this)},proto.proto.mdds.v1.InvestorPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerSymbol;return proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerSymbol.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,this)},proto.proto.mdds.v1.TopNMembersPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNMembersPerSymbol;return proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.OpenInterest.prototype.toObject=function(t){return proto.proto.mdds.v1.OpenInterest.toObject(t,this)},proto.proto.mdds.v1.OpenInterest.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.OpenInterest.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.OpenInterest;return proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.OpenInterest.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DeemTradePrice.prototype.toObject=function(t){return proto.proto.mdds.v1.DeemTradePrice.toObject(t,this)},proto.proto.mdds.v1.DeemTradePrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DeemTradePrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.DeemTradePrice;return proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DeemTradePrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ForeignerOrderLimit.prototype.toObject=function(t){return proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,this)},proto.proto.mdds.v1.ForeignerOrderLimit.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ForeignerOrderLimit;return proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ForeignerOrderLimit.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceLimitExpansion.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,this)},proto.proto.mdds.v1.PriceLimitExpansion.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.PriceLimitExpansion;return proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceLimitExpansion.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiNav.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiNav.toObject(t,this)},proto.proto.mdds.v1.ETFiNav.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiNav.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiNav;return proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiNav.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiIndex.toObject(t,this)},proto.proto.mdds.v1.ETFiIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiIndex.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiIndex;return proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiIndex.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFTrackingError.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFTrackingError.toObject(t,this)},proto.proto.mdds.v1.ETFTrackingError.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFTrackingError.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFTrackingError;return proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFTrackingError.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,this)},proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Disclosure.prototype.toObject=function(t){return proto.proto.mdds.v1.Disclosure.toObject(t,this)},proto.proto.mdds.v1.Disclosure.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Disclosure.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Disclosure;return proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Disclosure.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DelistedInstrument.prototype.toObject=function(t){return proto.proto.mdds.v1.DelistedInstrument.toObject(t,this)},proto.proto.mdds.v1.DelistedInstrument.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DelistedInstrument.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.DelistedInstrument;return proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DelistedInstrument.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.CouponPaymentDate.prototype.toObject=function(t){return proto.proto.mdds.v1.CouponPaymentDate.toObject(t,this)},proto.proto.mdds.v1.CouponPaymentDate.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.CouponPaymentDate.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.CouponPaymentDate;return proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.CouponPaymentDate.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ChangeOfContract.prototype.toObject=function(t){return proto.proto.mdds.v1.ChangeOfContract.toObject(t,this)},proto.proto.mdds.v1.ChangeOfContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ChangeOfContract.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ChangeOfContract;return proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ChangeOfContract.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentDerivatives.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,this)},proto.proto.mdds.v1.InstrumentDerivatives.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentDerivatives;return proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentDerivatives.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentSBR.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentSBR.toObject(t,this)},proto.proto.mdds.v1.InstrumentSBR.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentSBR.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentSBR;return proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentSBR.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingSchedule.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingSchedule.toObject(t,this)},proto.proto.mdds.v1.TradingSchedule.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingSchedule.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TradingSchedule;return proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingSchedule.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Holiday.prototype.toObject=function(t){return proto.proto.mdds.v1.Holiday.toObject(t,this)},proto.proto.mdds.v1.Holiday.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Holiday.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Holiday;return proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Holiday.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Holiday.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Holiday.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MemberTrader.prototype.toObject=function(t){return proto.proto.mdds.v1.MemberTrader.toObject(t,this)},proto.proto.mdds.v1.MemberTrader.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MemberTrader.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MemberTrader;return proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MemberTrader.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakingContract.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakingContract.toObject(t,this)},proto.proto.mdds.v1.MarketMakingContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakingContract.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakingContract;return proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakingContract.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFIndexComposition.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFIndexComposition.toObject(t,this)},proto.proto.mdds.v1.ETFIndexComposition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFIndexComposition.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFIndexComposition;return proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFIndexComposition.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.toObject=function(t){return proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,this)},proto.proto.mdds.v1.ELWUnderlyingAssets.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ELWUnderlyingAssets;return proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.StockInfo.prototype.toObject=function(t){return proto.proto.mdds.v1.StockInfo.toObject(t,this)},proto.proto.mdds.v1.StockInfo.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.StockInfo.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.StockInfo;return proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.StockInfo.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketIndex.toObject(t,this)},proto.proto.mdds.v1.MarketIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketIndex.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MarketIndex;return proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketIndex.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.BoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.BoardEvent.toObject(t,this)},proto.proto.mdds.v1.BoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.BoardEvent.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.BoardEvent;return proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.BoardEvent.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolBoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolBoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolBoardEvent;return proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolBoardEvent.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Tick.prototype.toObject=function(t){return proto.proto.mdds.v1.Tick.toObject(t,this)},proto.proto.mdds.v1.Tick.toObject=function(t,o){var e,p={marketid:E.Message.getFieldWithDefault(o,1,0),boardid:E.Message.getFieldWithDefault(o,2,0),isin:E.Message.getFieldWithDefault(o,3,""),symbol:E.Message.getFieldWithDefault(o,4,""),matchprice:E.Message.getFloatingPointFieldWithDefault(o,5,0),matchqtty:E.Message.getFloatingPointFieldWithDefault(o,6,0),sendingtime:(e=o.getSendingtime())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),boardidoriginal:E.Message.getFieldWithDefault(o,8,0),tradingsessionid:E.Message.getFieldWithDefault(o,9,0),totalvolumetraded:E.Message.getFieldWithDefault(o,10,0),grosstradeamount:E.Message.getFloatingPointFieldWithDefault(o,11,0),side:E.Message.getFieldWithDefault(o,12,0)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Tick.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Tick;return proto.proto.mdds.v1.Tick.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Tick.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt32();t.setMarketid(p);break;case 2:var p=o.readInt32();t.setBoardid(p);break;case 3:var p=o.readString();t.setIsin(p);break;case 4:var p=o.readString();t.setSymbol(p);break;case 5:var p=o.readDouble();t.setMatchprice(p);break;case 6:var p=o.readDouble();t.setMatchqtty(p);break;case 7:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setSendingtime(p);break;case 8:var p=o.readInt32();t.setBoardidoriginal(p);break;case 9:var p=o.readInt32();t.setTradingsessionid(p);break;case 10:var p=o.readUint64();t.setTotalvolumetraded(p);break;case 11:var p=o.readDouble();t.setGrosstradeamount(p);break;case 12:var p=o.readEnum();t.setSide(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Tick.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Tick.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Tick.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getMarketid(),e!==0&&o.writeInt32(1,e),e=t.getBoardid(),e!==0&&o.writeInt32(2,e),e=t.getIsin(),e.length>0&&o.writeString(3,e),e=t.getSymbol(),e.length>0&&o.writeString(4,e),e=t.getMatchprice(),e!==0&&o.writeDouble(5,e),e=t.getMatchqtty(),e!==0&&o.writeDouble(6,e),e=t.getSendingtime(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getBoardidoriginal(),e!==0&&o.writeInt32(8,e),e=t.getTradingsessionid(),e!==0&&o.writeInt32(9,e),e=t.getTotalvolumetraded(),e!==0&&o.writeUint64(10,e),e=t.getGrosstradeamount(),e!==0&&o.writeDouble(11,e),e=t.getSide(),e!==0&&o.writeEnum(12,e)};proto.proto.mdds.v1.Tick.Side={SIDE_UNSPECIFIED:0,SIDE_BUY:1,SIDE_SELL:2};proto.proto.mdds.v1.Tick.prototype.getMarketid=function(){return E.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Tick.prototype.setMarketid=function(t){return E.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Tick.prototype.getBoardid=function(){return E.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Tick.prototype.setBoardid=function(t){return E.Message.setProto3IntField(this,2,t)};proto.proto.mdds.v1.Tick.prototype.getIsin=function(){return E.Message.getFieldWithDefault(this,3,"")};proto.proto.mdds.v1.Tick.prototype.setIsin=function(t){return E.Message.setProto3StringField(this,3,t)};proto.proto.mdds.v1.Tick.prototype.getSymbol=function(){return E.Message.getFieldWithDefault(this,4,"")};proto.proto.mdds.v1.Tick.prototype.setSymbol=function(t){return E.Message.setProto3StringField(this,4,t)};proto.proto.mdds.v1.Tick.prototype.getMatchprice=function(){return E.Message.getFloatingPointFieldWithDefault(this,5,0)};proto.proto.mdds.v1.Tick.prototype.setMatchprice=function(t){return E.Message.setProto3FloatField(this,5,t)};proto.proto.mdds.v1.Tick.prototype.getMatchqtty=function(){return E.Message.getFloatingPointFieldWithDefault(this,6,0)};proto.proto.mdds.v1.Tick.prototype.setMatchqtty=function(t){return E.Message.setProto3FloatField(this,6,t)};proto.proto.mdds.v1.Tick.prototype.getSendingtime=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,7)};proto.proto.mdds.v1.Tick.prototype.setSendingtime=function(t){return E.Message.setWrapperField(this,7,t)};proto.proto.mdds.v1.Tick.prototype.clearSendingtime=function(){return this.setSendingtime(void 0)};proto.proto.mdds.v1.Tick.prototype.hasSendingtime=function(){return E.Message.getField(this,7)!=null};proto.proto.mdds.v1.Tick.prototype.getBoardidoriginal=function(){return E.Message.getFieldWithDefault(this,8,0)};proto.proto.mdds.v1.Tick.prototype.setBoardidoriginal=function(t){return E.Message.setProto3IntField(this,8,t)};proto.proto.mdds.v1.Tick.prototype.getTradingsessionid=function(){return E.Message.getFieldWithDefault(this,9,0)};proto.proto.mdds.v1.Tick.prototype.setTradingsessionid=function(t){return E.Message.setProto3IntField(this,9,t)};proto.proto.mdds.v1.Tick.prototype.getTotalvolumetraded=function(){return E.Message.getFieldWithDefault(this,10,0)};proto.proto.mdds.v1.Tick.prototype.setTotalvolumetraded=function(t){return E.Message.setProto3IntField(this,10,t)};proto.proto.mdds.v1.Tick.prototype.getGrosstradeamount=function(){return E.Message.getFloatingPointFieldWithDefault(this,11,0)};proto.proto.mdds.v1.Tick.prototype.setGrosstradeamount=function(t){return E.Message.setProto3FloatField(this,11,t)};proto.proto.mdds.v1.Tick.prototype.getSide=function(){return E.Message.getFieldWithDefault(this,12,0)};proto.proto.mdds.v1.Tick.prototype.setSide=function(t){return E.Message.setProto3EnumField(this,12,t)};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopPrice.toObject(t,this)},proto.proto.mdds.v1.TopPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopPrice;return proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Timestamp.prototype.toObject=function(t){return proto.proto.mdds.v1.Timestamp.toObject(t,this)},proto.proto.mdds.v1.Timestamp.toObject=function(t,o){var e={seconds:E.Message.getFieldWithDefault(o,1,0),nanos:E.Message.getFieldWithDefault(o,2,0)};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Timestamp.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Timestamp;return proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt64();t.setSeconds(p);break;case 2:var p=o.readInt32();t.setNanos(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Timestamp.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSeconds(),e!==0&&o.writeInt64(1,e),e=t.getNanos(),e!==0&&o.writeInt32(2,e)};proto.proto.mdds.v1.Timestamp.prototype.getSeconds=function(){return E.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Timestamp.prototype.setSeconds=function(t){return E.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Timestamp.prototype.getNanos=function(){return E.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Timestamp.prototype.setNanos=function(t){return E.Message.setProto3IntField(this,2,t)};const fi=proto.proto.mdds.v1,Mc=["title"],Bc=["title"],Rc=["title"],Pc=["title"],Cc=he("i",{class:"far fa-angle-double-right"},null,-1),Ac=[Cc],Nc={__name:"Chart",emits:["showPendingOrders","showMatchedOrders","showVpsOtpPopup"],setup(t,{expose:o,emit:e}){const p=Qr(),d=tp(),{t:a}=Dn(),n=ar("mf"),u=ar("devices"),l=ar("filters"),c=e,m=ce(null),v=ce(null),b=ce(null),w=ce(null),_=ce(null),k=ce(null),j=ce(null),Y=ce(null),C=ce(null),R=ce(null),q=ce(null),tt=ce(null),D=ce(null),T=Dr(new Date,"yyyy-MM-dd"),J={START:Oe(new Date(`${T}T08:45:00Z`)),ATO:Oe(new Date(`${T}T09:00:00Z`)),ATC:Oe(new Date(`${T}T14:30:00Z`)),END:Oe(new Date(`${T}T14:45:00Z`))},nt={FIREANT:"wss://tradestation.fireant.vn/quote-lite?access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxODg5NjIyNTMwLCJuYmYiOjE1ODk2MjI1MzAsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsiYWNhZGVteS1yZWFkIiwiYWNhZGVteS13cml0ZSIsImFjY291bnRzLXJlYWQiLCJhY2NvdW50cy13cml0ZSIsImJsb2ctcmVhZCIsImNvbXBhbmllcy1yZWFkIiwiZmluYW5jZS1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImludmVzdG9wZWRpYS1yZWFkIiwib3JkZXJzLXJlYWQiLCJvcmRlcnMtd3JpdGUiLCJwb3N0cy1yZWFkIiwicG9zdHMtd3JpdGUiLCJzZWFyY2giLCJzeW1ib2xzLXJlYWQiLCJ1c2VyLWRhdGEtcmVhZCIsInVzZXItZGF0YS13cml0ZSIsInVzZXJzLXJlYWQiXSwianRpIjoiMjYxYTZhYWQ2MTQ5Njk1ZmJiYzcwODM5MjM0Njc1NWQifQ.dA5-HVzWv-BRfEiAd24uNBiBxASO-PAyWeWESovZm_hj4aXMAZA1-bWNZeXt88dqogo18AwpDQ-h6gefLPdZSFrG5umC1dVWaeYvUnGm62g4XS29fj6p01dhKNNqrsu5KrhnhdnKYVv9VdmbmqDfWR8wDgglk5cJFqalzq6dJWJInFQEPmUs9BW_Zs8tQDn-i5r4tYq2U8vCdqptXoM7YgPllXaPVDeccC9QNu2Xlp9WUvoROzoQXg25lFub1IYkTrM66gJ6t9fJRZToewCt495WNEOQFa_rwLCZ1QwzvL0iYkONHS_jZ0BOhBCdW9dWSawD6iF1SIQaFROvMDH1rg",VPS:"wss://datafeed.vps.com.vn/socket.io/?EIO=3&transport=websocket",DNSE:"wss://datafeed-krx.dnse.com.vn/wss"};let $={ohlcMap:new Map,chart:{},series:{},whitespaces:[],crosshair:{},interval:null,refreshAt:To(new Date,11),statusAt:To(new Date,21),websocket:null,socketStop:!1,socketUpdatedAt:To(new Date,61),hasProgress:!1};const yt=Zl({prices:[],chartDate:d.query.date??T,clock:Dr(new Date,"HH:mm:ss"),chartHeightEnough:!1,isSocketWarning:!1,TIME:J}),N=Ge(()=>p.state.tradingDerivative.status),V=Ge(()=>p.state.tradingDerivative.config),dt=Ge(()=>p.state.tradingDerivative.isLoading);$.interval=setInterval(()=>{yt.clock=Dr(new Date,"HH:mm:ss"),f()&&(D.value&&D.value.cancelWithoutClose(),So(new Date,new Date($.refreshAt))>10&&(V.value.autoRefresh&&Y.value.refresh(),$.refreshAt=new Date),So(new Date,new Date($.statusAt))>10&&(Ut(),$.statusAt=new Date))},1e3),wt(),Ho(()=>{M(),pt(),Y.value.createSeries($.chart),q.value.createSeries($.chart),C.value.createSeries($.chart),new ResizeObserver(Et).observe(m.value),document.addEventListener("keydown",Nt)}),Ln(()=>{It(),document.removeEventListener("keydown",Nt),clearInterval($.interval),at(),$.socketStop=!0}),_o(()=>p.state.tradingDerivative.chartData,Tt),o({connectSocket:X,closeAllOrders:Zt});function pt(){const vt={localization:{dateFormat:"dd/MM/yyyy",locale:"vi-VN"},rightPriceScale:{visible:!0,scaleMargins:{top:.25,bottom:.25}},leftPriceScale:{visible:!1},layout:{backgroundColor:"#000000",textColor:"#CCCCCC"},grid:{vertLines:{color:"#1B1E27",style:2},horzLines:{color:"#1B1E27",style:2}},crosshair:{mode:0},timeScale:{timeVisible:!0,rightOffset:1e3,minBarSpacing:.01,barSpacing:.05}};$.chart=rp(v.value,vt),$.chart.subscribeCrosshairMove(ct),$.chart.subscribeCustomPriceLineDragged(kt),$.series.whitespace=$.chart.addHistogramSeries({priceScaleId:"whitespace",scaleMargins:{top:0,bottom:0},color:"#808080",lastValueVisible:!1,priceLineVisible:!1}),$.series.price=$.chart.addCandlestickSeries({upColor:"#F5F5F5",downColor:"#F5F5F5",borderVisible:!1,wickUpColor:"#F5F5F5",wickDownColor:"#F5F5F5",priceFormat:{minMove:.1}})}function It(){$.chart&&($.chart.remove(),$.chart=null)}function St(vt){A($.hasProgress),Y.value.isSelected()?Y.value.draw($.crosshair):C.value.isSelected()?C.value.draw($.crosshair):R.value.isSelected()?R.value.draw($.crosshair):q.value.isSelected()?q.value.draw($.crosshair):tt.value.isSelected()&&tt.value.draw($.crosshair)}function Z(vt){vt.preventDefault()}function lt(vt){vt.stopPropagation()}function gt(vt){vt.preventDefault(),vt.stopPropagation()}function Et(){m.value&&(M(),$.chart.resize(m.value.offsetWidth,m.value.offsetHeight),_.value.checkFullscreen())}function M(){yt.chartHeightEnough=m.value.offsetHeight>700}function ct(vt){if(vt.time){let Mt=Ot(vt.point.y);$.crosshair.time=vt.time,$.crosshair.price=Mt}else u.phone||($.crosshair.time=null,$.crosshair.price=null);vt.point!==void 0&&($.crosshair.x=vt.point.x,$.crosshair.y=vt.point.y)}function kt(vt){let Mt=vt.customPriceLine,xt=Mt.options();xt.price=n.fmtNum(xt.price);const Ht=+vt.fromPriceString,$t=xt.price;switch(xt.lineType){case"order":D.value.drag({line:Mt,lineOptions:xt,oldPrice:Ht,newPrice:$t});break;case"line":R.value.drag({lineOptions:xt,oldPrice:Ht,newPrice:$t});break;case"target":tt.value.drag({lineOptions:xt,newPrice:$t});break;case"pattern":Y.value.drag({lineOptions:xt});break}}function Nt(vt){const Mt=$.chart.timeScale(),xt=$.chart.options().timeScale.barSpacing;switch(vt.key){case"[":vt.ctrlKey?Mt.applyOptions({barSpacing:xt-.01}):vt.altKey&&Mt.scrollToPosition(Mt.scrollPosition()-50);break;case"]":vt.ctrlKey?Mt.applyOptions({barSpacing:xt+.01}):vt.altKey&&Mt.scrollToPosition(Mt.scrollPosition()+50);break}}function Tt(vt){yt.chartDate===T&&f()||(vt.ticks.length>0&&($.whitespaces=et($.whitespaces,st(yt.chartDate))),$.series.whitespace.setData($.whitespaces),I(vt.ticks,"FIREANT"),jt())}function L(vt,Mt){Mt?($.whitespaces=et($.whitespaces,st(T)),$.series.whitespace.setData($.whitespaces),I(vt),jt()):U(vt)}function I(vt,Mt=null){Mt||(Mt=V.value.source),vt.forEach(Ht=>{let $t,Qt,ne;switch(Mt){case"FIREANT":$t=zr(new Date(Ht.date),7),ne=Ht.price;break;case"VPS":$t=new Date(`${T}T${Ht.time}Z`),ne=Ht.lastPrice;break;case"DNSE":$t=zr(new Date(Ht.sendingTime),7),ne=Ht.matchPrice;break}if(Qt=Oe($t),$t=Dr($t,"yyyy/MM/dd hh:mm:ss"),$.ohlcMap.has(Qt)){const ge=$.ohlcMap.get(Qt);ge.high=Math.max(ge.high,ne),ge.low=Math.min(ge.low,ne),ge.open=ne,ge.close=ne}else{const ge={date:$t,time:Qt,open:ne,high:ne,low:ne,close:ne};$.ohlcMap.set(Qt,ge)}});const xt=Array.from($.ohlcMap.values()).sort((Ht,$t)=>new Date(Ht.time)-new Date($t.time));$.series.price.setData(xt),yt.bars=xt}function U(vt){if($.ohlcMap.size===0)return!1;V.value.source==="FIREANT"&&vt.sort((Mt,xt)=>Mt.date===xt.date?Mt.id-xt.id:new Date(Mt.date)-new Date(xt.date)),vt.forEach(Mt=>{let xt,Ht,$t;switch(V.value.source){case"FIREANT":xt=zr(new Date(Mt.date),7),$t=Mt.price;break;case"VPS":xt=new Date(`${T}T${Mt.time}Z`),$t=Mt.lastPrice;break;case"DNSE":xt=zr(new Date(Mt.sendingtime),7),$t=Mt.matchprice;break}if(Ht=Oe(xt),xt=Dr(xt,"yyyy/MM/dd hh:mm:ss"),$.ohlcMap.has(Ht))try{const Qt=$.ohlcMap.get(Ht);Qt.high=Math.max(Qt.high,$t),Qt.low=Math.min(Qt.low,$t),Qt.open=$t,Qt.close=$t,$.series.price.update(Qt),yt.bars.pop(),yt.bars.push(Qt)}catch{return}else{const Qt={date:xt,time:Ht,open:$t,high:$t,low:$t,close:$t};$.series.price.update(Qt),$.ohlcMap.set(Ht,Qt),yt.bars.push(Qt)}})}function st(vt){const Mt=Oe(new Date(`${vt}T09:00:00Z`)),xt=Oe(new Date(`${vt}T11:30:00Z`)),Ht=Oe(new Date(`${vt}T13:00:00Z`)),$t=Oe(new Date(`${vt}T14:30:00Z`)),Qt=Oe(new Date(`${vt}T13:00:00Z`)),ne=Oe(new Date(`${vt}T14:00:00Z`));let ge=[];for(let se=Mt;se<=$t;se++){if(se>xt&&se<Ht)continue;let ve={time:se};(se===Qt||se===ne||se===$t)&&(ve.value=1),ge.push(ve)}if(yt.chartDate===T){const se=Oe(new Date(`${vt}T17:00:00Z`));for(let ve=$t+1;ve<=se;ve++){let $e={time:ve};ge.push($e)}}return ge}function et(vt,Mt){return Array.from(new Map([...vt,...Mt].sort((xt,Ht)=>xt.time-Ht.time).map(xt=>[xt.time,xt])).values())}async function X(){if(f()){await at();const vt=V.value.source,Mt=nt[vt],xt=()=>{$.socketStop||(yt.isSocketWarning=!0,X())};vt==="DNSE"?($.websocket=Tc.connect(Mt,{username:"entrade",password:"entrade"}),$.websocket.on("close",xt),ft(),z()):($.websocket=new WebSocket(Mt),$.websocket.onclose=xt,vt==="FIREANT"?ht():(Q(),rt()))}}async function at(){const vt=V.value.source;$.websocket&&(vt==="DNSE"?$.websocket.connected:$.websocket.readyState===WebSocket.OPEN)?(vt==="DNSE"?$.websocket.end():$.websocket.close(),await new Promise(xt=>{const Ht=setInterval(()=>{(!$.websocket||(vt==="DNSE"?$.websocket.disconnected:$.websocket.readyState===WebSocket.CLOSED))&&($.websocket=null,clearInterval(Ht),xt())},100)})):$.websocket=null}function ht(){p.dispatch("tradingDerivative/setLoading",!0),$.websocket.onopen=vt=>{if($.websocket.readyState===WebSocket.OPEN){let Mt='{"protocol":"json","version":1}';$.websocket.send(Mt),Mt='{"arguments":["VN30F1M"],"invocationId":"0","target":"SubscribeTrades","type":1}',$.websocket.send(Mt)}},$.websocket.onmessage=vt=>{yt.isSocketWarning=!1,x(vt.data).forEach(xt=>{if(!xt)return!1;if(xt.type===3)xt.result[0].date.slice(0,10)===T&&(console.log("FIREANT-first",xt.result),L(xt.result,!0)),p.dispatch("tradingDerivative/setLoading",!1);else if(xt.type===1&&xt.target==="UpdateTrades"&&xt.arguments[0]==="VN30F1M"){console.log("FIREANT",xt.arguments[1]),D.value.scan(xt.arguments[1].at(-1).price);let Ht=xt.arguments[1];Ht.sort(($t,Qt)=>$t.date===Qt.date?$t.id-Qt.id:new Date($t.date)-new Date(Qt.date)),L(Ht)}})}}function x(vt){let Mt=[];return vt.split("").forEach(xt=>{const Ht=xt.indexOf("{"),$t=xt.lastIndexOf("}");let Qt=null;if(Ht!==-1&&$t!==-1&&$t>Ht){const ne=xt.substring(Ht,$t+1);ne!=="{}"&&(Qt=JSON.parse(ne))}Mt.push(Qt)}),Mt}function Q(){$.websocket.onopen=vt=>{if($.websocket.readyState===WebSocket.OPEN){const Mt={action:"join",list:V.value.vn30f1m},xt=`42${JSON.stringify(["regs",JSON.stringify(Mt)])}`;$.websocket.send(xt)}},$.websocket.onmessage=vt=>{if(yt.isSocketWarning=!1,vt.data.substr(0,1)==="4"&&vt.data.substr(1,1)==="2"){const Mt=JSON.parse(vt.data.substr(2));if(Mt[0]==="stockps"){const xt=Mt[1].data;xt.id===3220&&(console.log("VPS",xt),D.value.scan(xt.lastPrice),L([xt]))}}}}function rt(){So(new Date,new Date($.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getVpsData").then(vt=>{L(vt,!0),console.log("VPS-first: ",vt)}),$.socketUpdatedAt=new Date)}function ft(){$.websocket.on("connect",()=>{if($.websocket.connected){const vt=[`quotes/krx/mdds/tick/v1/roundlot/symbol/${V.value.vn30f1m}`];$.websocket.subscribe(vt),console.log("DNSE connected")}}),$.websocket.on("message",(vt,Mt)=>{yt.isSocketWarning=!1;const xt=mt(Mt);if(xt.type===fi.Wrapper.KindCase.TICK){let Ht=xt.payload;D.value.scan(Ht.matchprice);const $t=new Date(Ht.sendingtime.seconds*1e3);Ht.sendingtime=$t.toISOString(),console.log("DNSE: ",Ht),L([Ht])}})}function mt(vt){var Mt;try{const xt=new Uint8Array(vt),Ht=fi.Wrapper.deserializeBinary(xt);if(!Ht)return;const $t=Ht.getKindCase(),Qt={[fi.Wrapper.KindCase.TICK]:(Mt=Ht.getTick())==null?void 0:Mt.toObject()};return $t in Qt?{type:$t,payload:Qt[$t]}:void 0}catch(xt){console.error("An error occurred while parsing the message:",r,xt);return}}function z(){So(new Date,new Date($.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getDnseData").then(vt=>{L(vt,!0),console.log("DNSE-first: ",vt)}),$.socketUpdatedAt=new Date)}function ot(vt=!1){Y.value.refresh(vt)}function A(vt=!1){vt||j.value.hide(),R.value.hide(),D.value.hide()}function H(vt){u.phone||j.value.hide(n.isSet(vt)),j.value.set(vt),$.hasProgress=!!vt.step}function it(vt){D.value.setPatternOrder(vt)}function bt(){$.chart.timeScale().scrollToRealTime()}function f(){const vt=Oe(zr(new Date,7));return V.value.openingMarket&&vt>=J.START&&vt<=J.END}function h(){if(!yt.chartDate)return!1;Dt()}function g(){$.socketUpdatedAt=To(new Date,61),X(),Dt()}function B(){$.whitespaces=[],$.ohlcMap.clear(),g()}function W(){c("showPendingOrders")}function O(){c("showMatchedOrders")}function wt(){p.dispatch("tradingDerivative/initChart").then(()=>{X(),!d.query.date&&V.value.lastOpeningDate&&(yt.chartDate=V.value.lastOpeningDate),Dt()})}function Dt(){p.dispatch("tradingDerivative/getChartData",yt.chartDate)}function F(){N.value.connection?Ut():zt()}function zt(){c("showVpsOtpPopup")}function Ut(){p.dispatch("tradingDerivative/getStatus")}function jt(){p.dispatch("tradingDerivative/getTools")}function Lt(){p.dispatch("tradingDerivative/getAccountInfo").then(vt=>{let Mt="";Mt+='<div style="width: 200px;">',Mt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${a("trading.derivative.accountInfoPopup.nav")}</div><div>: ${l.currency(vt.nav)}</div></div>`,Mt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${a("trading.derivative.accountInfoPopup.maxVol")}</div><div>: ${l.numberVnFormat(vt.maxVol)}</div></div>`,Mt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${a("trading.derivative.accountInfoPopup.vm")}</div><div>: ${l.currency(vt.vm)}</div></div>`,Mt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${a("trading.derivative.accountInfoPopup.fee")}</div><div>: ${l.currency(vt.fee)}</div></div>`,Mt+="</div>",ep(Mt,a("trading.derivative.accountInfoPopup.title"))})}function Zt(){D.value.closeAllOrders()}function Ot(vt){return n.fmtNum($.series.price.coordinateToPrice(vt))}function Xt(vt){let Mt=$.whitespaces.findIndex(xt=>xt.time===vt);if(Mt===-1)try{const xt=Dr(new Date(vt*1e3),"yyyy-MM-dd"),Ht=Oe(new Date(`${xt}T11:30:00Z`)),$t=Oe(new Date(`${xt}T13:00:00Z`)),Qt=Oe(new Date(`${xt}T14:30:00Z`));vt>Ht&&vt<$t?vt=Ht:vt>Qt&&(vt=Qt),Mt=$.whitespaces.findIndex(ne=>ne.time===vt)}catch(xt){console.log("error",xt)}return Mt}function te(vt){return vt<$.whitespaces.length?$.whitespaces[vt].time:$.whitespaces.at(-1).time}function ee(vt,Mt=!1){if(Mt)$.series.price.removePriceLine(vt);else return $.series.price.createPriceLine(vt)}return(vt,Mt)=>(Ie(),Pe("div",{ref_key:"chartContainerRef",ref:m,class:"derivative-chart",onClick:St,onContextmenu:Z},[he("div",{ref_key:"chartRef",ref:v},null,512),he("div",{class:"area data-area",onClick:lt,onContextmenu:gt},[he("div",{ref_key:"connectionRef",ref:b,class:tr(["command",{yellow:N.value.pendingOrders.length>0,red:V.value.volInvalid}]),title:vt.$t("trading.derivative.connection"),onClick:F,onContextmenu:W},[he("i",{class:tr(["far",{"fa-link-simple":N.value.connection,"fa-link-simple-slash":!N.value.connection,blink:yt.isSocketWarning}])},null,2)],42,Mc),he("div",{class:tr(["command status",{green:N.value.position>0,red:N.value.position<0}]),title:vt.$t("trading.derivative.position"),onClick:Lt,onContextmenu:O},Ur(N.value.position),43,Bc),he("div",{class:"command clock",onClick:X},Ur(yt.clock),1),Un(he("input",{type:"date",class:"chart-date command",title:vt.$t("trading.derivative.date"),"onUpdate:modelValue":Mt[0]||(Mt[0]=xt=>yt.chartDate=xt),onChange:h},null,40,Rc),[[Xl,yt.chartDate]]),he("div",{ref_key:"reloadToolRef",ref:w,class:"command",title:vt.$t("trading.derivative.reload"),onClick:g,onContextmenu:B},[he("i",{class:tr(["far fa-sync-alt",{"fa-spin":dt.value}])},null,2)],40,Pc)],32),he("div",{class:"area tool-area",onClick:lt,onContextmenu:gt},[Se(op,{ref_key:"fullscreenToolRef",ref:_,chartContainerRef:m.value},null,8,["chartContainerRef"]),Se(ip,{ref_key:"tradingviewToolRef",ref:k,vpsUser:V.value.vpsUser,vpsSession:V.value.vpsSession,chartContainerRef:m.value,symbol:"VN30F1M",timeframe:"15"},null,8,["vpsUser","vpsSession","chartContainerRef"]),Se(gp,{ref_key:"progressToolRef",ref:j,chartHeightEnough:yt.chartHeightEnough,onRefreshPattern:Mt[1]||(Mt[1]=()=>ot(!0)),onHideContext:A},null,8,["chartHeightEnough"]),Se(Sp,{ref_key:"patternToolRef",ref:Y,bars:yt.bars,pickTimeToolRef:C.value,timeToIndex:Xt,indexToTime:te,onSetProgress:H,onSetPatternOrder:it,onHideContext:A},null,8,["bars","pickTimeToolRef"]),Se(Op,{ref_key:"pickTimeToolRef",ref:C,onRefreshPattern:Mt[2]||(Mt[2]=()=>ot()),onHideContext:A},null,512),Se(Pp,{ref_key:"timeRangeToolRef",ref:q,timeToIndex:Xt,indexToTime:te,onHideContext:A},null,512),Se(np,{ref_key:"lineToolRef",ref:R,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:ee,onHideContext:A},null,512),Se(sp,{ref_key:"targetToolRef",ref:tt,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:ee,levels:[.5,1,2,4],isPercent:!1,showPercent:!0,onHideContext:A},null,512),Se(Fp,{ref_key:"orderToolRef",ref:D,position:N.value.position,drawPriceLine:ee,inSession:f,TIME:yt.TIME,onHideContext:A},null,8,["position","TIME"])],32),he("div",null,[he("div",{class:"chart-top",onClick:bt},Ac)])],544))}};export{Nc as default};
