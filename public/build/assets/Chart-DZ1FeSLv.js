var Yl=Object.defineProperty;var ls=t=>{throw TypeError(t)};var Kl=(t,o,e)=>o in t?Yl(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var _e=(t,o,e)=>Kl(t,typeof o!="symbol"?o+"":o,e),si=(t,o,e)=>o.has(t)||ls("Cannot "+e);var Q=(t,o,e)=>(si(t,o,"read from private field"),e?e.call(t):o.get(t)),ae=(t,o,e)=>o.has(t)?ls("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(t):o.set(t,e),Qt=(t,o,e,p)=>(si(t,o,"write to private field"),p?p.call(t,e):o.set(t,e),e),Kt=(t,o,e)=>(si(t,o,"access private method"),e);var Mo=(t,o,e,p)=>({set _(f){Qt(t,o,f,e)},get _(){return Q(t,o,p)}});import{C as Jl,E as ta,G as Ql,H as Or,r as me,c as Je,y as Qo,I as Zl,J as Xl,m as Vo,o as Oe,p as Gn,f as qr,b as Fe,e as Ie,d as ye,t as zr,K as ir,F as lo,A as _o,q as tp,h as Zr,u as Zo,k as ur,L as qn,M as Yn,N as ea,O as ep,g as Yr,w as Io,Q as rp,n as So,_ as op,l as Lr,x as qe,R as ip,S as ai,T as np,a as sp,U as Bo,V as ap,j as lp,W as pp}from"./app-CbcvfCpU.js";import{_ as ra,g as Ce,c as up,a as cp,b as dp,d as hp,e as fp}from"./lightweight-charts.esm.development-DezrBK_y.js";function mp(t,o){for(var e=0;e<o.length;e++){const p=o[e];if(typeof p!="string"&&!Array.isArray(p)){for(const f in p)if(f!=="default"&&!(f in t)){const n=Object.getOwnPropertyDescriptor(p,f);n&&Object.defineProperty(t,f,n.get?n:{enumerable:!0,get:()=>p[f]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function oa(t,o,e){return Jl(t,+ta(t)+o)}function $r(t,o,e){return oa(t,o*Ql)}function yp(t,o,e){return oa(t,o*1e3)}function gp(t,o){const e=ta(t,o==null?void 0:o.in);if(isNaN(+e))throw new RangeError("Invalid time value");let p="",f="";const n="-",s=":";{const u=Or(e.getDate(),2),l=Or(e.getMonth()+1,2);p=`${Or(e.getFullYear(),4)}${n}${l}${n}${u}`}{const u=e.getTimezoneOffset();if(u!==0){const w=Math.abs(u),_=Or(Math.trunc(w/60),2),I=Or(w%60,2);f=`${u<0?"+":"-"}${_}:${I}`}else f="Z";const l=Or(e.getHours(),2),c=Or(e.getMinutes(),2),m=Or(e.getSeconds(),2),v=p===""?"":"T",b=[l,c,m].join(s);p=`${p}${v}${b}${f}`}return p}function Ro(t,o,e){return yp(t,-o)}const vp={key:0},bp=["innerHTML"],wp={key:1},_p={class:"conds"},Sp={key:0,class:"subs"},Ep={__name:"ProgressContext",props:["progress","chartHeightEnough"],emits:["refreshPattern"],setup(t,{emit:o}){const e=t,p=o,f=me([]),n=Je(()=>{var b;return((b=f.value[e.progress.pattern])==null?void 0:b[e.progress.subPattern])||{}});Qo(()=>{s()});function s(){Zl(Object.assign({"../../../../../lang/vi/derivative.js":()=>Xl(()=>import("./derivative-Be1p9s6M.js"),[])}),`../../../../../lang/${window.lang}/derivative.js`,8).then(b=>{f.value=b.default||[]})}function u(){p("refreshPattern")}function l(b){return b.map(w=>c(w)).every(Boolean)}function c(b){return Array.isArray(b)?b.some(Boolean):b}function m(b){return v(b)?b.name:b}function v(b){return b&&typeof b=="object"&&!Array.isArray(b)}return(b,w)=>{const _=Vo("DxButton");return Oe(),Gn(ra,{class:"pattern-context"},{default:qr(()=>{var I,x;return[t.progress.step?(Oe(),Fe("div",vp,[Ie(_,{type:"success",stylingMode:"outlined",icon:"refresh",text:b.$t("buttons.refresh"),onClick:u},null,8,["text"]),ye("div",{class:"pattern-name",innerHTML:(I=n.value)==null?void 0:I.name},null,8,bp)])):(Oe(),Fe("div",wp,zr(b.$t("trading.derivative.noPattern")),1)),ye("div",{class:ir(["steps",{portrait:t.chartHeightEnough}])},[(Oe(!0),Fe(lo,null,_o((x=n.value)==null?void 0:x.steps,(Y,z)=>(Oe(),Fe("div",{key:z,class:ir(["step",[t.progress.step&&t.progress.step===z+1?t.progress.result?"current-success":"current-fail":"",t.progress.step?l(t.progress.steps[z])?"success":"fail":""]])},[ye("div",null,zr(z+1)+". "+zr(Y.name),1),ye("ol",_p,[(Oe(!0),Fe(lo,null,_o(Y.conds,(M,$)=>(Oe(),Fe("li",{key:$,class:ir(["cond",[t.progress.step?c(t.progress.steps[z][$])?"success":"fail":""]])},[ye("div",null,zr(m(M)),1),v(M)?(Oe(),Fe("ul",Sp,[(Oe(!0),Fe(lo,null,_o(M.subs,(X,j)=>(Oe(),Fe("li",{key:$,class:ir(["sub",[t.progress.step?t.progress.steps[z][$][j]?"success":"fail":""]])},zr(X),3))),128))])):tp("",!0)],2))),128))])],2))),128))],2)]}),_:1})}}},Tp=["title"],Ip={__name:"ProgressTool",props:["chartHeightEnough"],emits:["refreshPattern","hideContext"],setup(t,{expose:o,emit:e}){const p=Zr(),{t:f}=Zo(),n=ur("mf"),s=ur("mc"),u=e,l=me({}),c=me(!1),m=Je(()=>p.state.tradingDerivative.config.autoRefresh);o({hide:b,set:w}),Qo(()=>{window.addEventListener("keydown",z)}),qn(()=>{window.removeEventListener("keydown",z)});function v(){const M=c.value;u("hideContext"),c.value=!M}function b(M=!1){c.value=M}function w(M){x(M,l.value),l.value=M}function _(){u("refreshPattern")}function I(){p.dispatch("tradingDerivative/setAutoRefresh",!m.value)}function x(M,$){if(n.isSet(M)&&(M.step!==$.step||M.step===$.step&&M.result!==$.result)){let X="";M.result?X=f("trading.derivative.toasts.progressSuccess",M):X=f("trading.derivative.toasts.progressFail",M),Y(X)}}function Y(M){const $=new SpeechSynthesisUtterance(M);$.lang="vi-VN",speechSynthesis.speak($)}function z(M){M.key==="F3"&&(v(),M.preventDefault())}return(M,$)=>(Oe(),Fe("div",{class:"context command",style:ep({color:l.value.step?Yr(s).CHART_COLOR_MAP[l.value.color]:""}),title:M.$t("trading.derivative.tools.progress"),onClick:v,onContextmenu:I},[ye("i",{class:ir(["far",{"fa-badge-check":!l.value.step,[`fa-circle-${l.value.step}`]:l.value.step,blink:m.value}])},null,2),Yn(Ie(Ep,{class:"contextmenu",progress:l.value,chartHeightEnough:t.chartHeightEnough,onRefreshPattern:_},null,8,["progress","chartHeightEnough"]),[[ea,c.value]])],44,Tp))}},kp=["title"],Op=ye("i",{class:"far fa-heart-rate"},null,-1),Mp=[Op],Bp="VN30F1M",Rp=1,ps=.8,Cp={__name:"PatternTool",props:["bars","stopTimeToolRef","timeRangeToolRef","timeToIndex","indexToTime"],emits:["setProgress","setPatternOrder","hideContext"],setup(t,{expose:o,emit:e}){const p=Zr(),{t:f}=Zo(),n=ur("mf"),s=ur("mc"),u=t,l=e,c=me(null),m=Je(()=>p.state.tradingDerivative.tools.pattern),v=Je(()=>p.state.tradingDerivative.config.patternType),b=[`C - ${f("trading.derivative.patternTool.continue")}`,`N - ${f("trading.derivative.patternTool.nestedContinue")}`,`R - ${f("trading.derivative.patternTool.reversal")}`,`S - ${f("trading.derivative.patternTool.sideway")}`],w=Object.keys(s.CHART_COLOR_MAP);let _={},I={},x={};o({isSelected:Y,createSeries:z,draw:X,refresh:K,remove:A}),Io(m,it=>{setTimeout(()=>{T(it,{isCheck:!0})},0)});function Y(){return c.value.classList.contains("selected")}function z(it){if(!it)return!1;x.pattern=it.addLineSeries({color:"#F5F5F5",lastValueVisible:!1,priceLineVisible:!1}),x.timeMark=it.addHistogramSeries({priceScaleId:"timeMark",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function M(it){l("hideContext");const J=it.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(R=>R.classList.remove("selected")),J||it.target.classList.add("selected")}function $(it){it.target.classList.remove("selected"),l("hideContext"),A()}function X({time:it,price:J}){let R={};if(n.isSet(I.O)){R=n.cloneDeep(_);const F=gp(new Date(it*1e3));R.A={time:{t:it,d:F},price:J},console.log("points",R)}else{const F=it?u.bars.filter(ot=>!n.cmp(ot.time,!0,it)):u.bars;R=j(F)}const W=u.indexToTime(u.timeToIndex(R.C.time.t)+R.C.time.i-R.A.time.i);u.stopTimeToolRef.set(W),T(R,{isSave:!0}),c.value.classList.remove("selected")}function j(it){let J,R,[W,F,ot,at]=Array(4).fill({});for(let H=it.length-1;H>=0;H--){const rt=it[H].high,U=it[H].low,V=it[H].time,et=it[H].date,gt=u.timeToIndex(V),h={t:V,d:et,i:gt};if(R===void 0){if(H===it.length-1||rt>=J.high&&U<=J.low){J={time:h,high:rt,low:U};continue}if(rt<J.high&&U>J.low)continue;rt>J.high&&U>=J.low&&(R=!0),U<J.low&&rt<=J.high&&(R=!1),ot={time1:J.time,time:J.time,price:R?J.low:J.high},[F,W,at]=Array(3).fill(null).map(()=>n.cloneDeep(ot))}const d=R?rt:U,g=R?U:rt;if(n.cmp(d,R,F.price)&&(n.cmp(W.price,!R,ot.price)?([ot,F]=[F,W].map(O=>n.cloneDeep(O)),W={time1:h,time:h,price:d},at=n.cloneDeep(W),R=!R):F={time1:h,time:h,price:d}),n.cmp(g,!R,W.price,!0)&&(g===W.price?W.time1=h:W={time1:h,time:h,price:g},at={time:W.time1,price:W.price}),n.cmp(d,R,at.price)&&(at={time:h,price:d}),ot.time.i>W.time.i&&n.cmp(ot.price,R,W.price)&&ot.time.i-F.time.i>50){const O=n.fmtNum(F.price-ot.price,1,!0);if(O>=Rp){const D=n.fmtNum(W.price-at.price,1,!0);if(D>O||ut({pr:D,tr:W.time1.i-at.time.i},{pr:O,tr:ot.time.i-F.time.i}))break}}}return{A:W,B:F,C:ot}}function T(it,{isSave:J=!1,isCheck:R=!1}={}){if(!n.isSet(it))return!1;_=n.cloneDeep(it),J&&ht(),(R?tt(_.A.time.t):!0)&&(C(),nt())}function K(it=!1){n.isSet(I.O)&&(it&&Tt(),C(),nt())}function nt(){let J={lineType:"pattern",lineWidth:1,lineStyle:1,draggable:!1};const{entry:R,target:{x:W,y:F,z:ot,w:at,t:H}}=q();J.point="O",J.price=R,J.title="O",J.color=s.CHART_COLOR_MAP.cyan,J.draggable=!1,I[J.point]=x.pattern.createPriceLine(J),n.isSet(W)&&(J.point="X",J.price=W[0],J.title=`X ${W[1]}`,J.color=s.CHART_COLOR_MAP.blue,J.draggable=!1,I[J.point]=x.pattern.createPriceLine(J)),n.isSet(F)&&(J.point="Y",J.price=F[0],J.title=`Y ${F[1]}`,J.color=s.CHART_COLOR_MAP.purple,J.draggable=!1,I[J.point]=x.pattern.createPriceLine(J)),n.isSet(ot)&&(J.point="Z",J.price=ot[0],J.title=`Z ${ot[1]}`,J.color=s.CHART_COLOR_MAP.pink,J.draggable=!1,I[J.point]=x.pattern.createPriceLine(J)),n.isSet(at)&&(J.point="W",J.price=at[0],J.title=`W ${at[1]}`,J.color=s.CHART_COLOR_MAP.lime,J.draggable=!1,I[J.point]=x.pattern.createPriceLine(J)),n.isSet(H)&&(J.point="T",J.price=H[0],J.title=`T ${H[1]}`,J.color=s.CHART_COLOR_MAP.orange,J.draggable=!1,I[J.point]=x.pattern.createPriceLine(J))}function q(){let it={};switch(v.value){case"C":it=ft();break;case"N":it=L();break;case"R":it=Z();break;case"S":it=wt();break}return l("setProgress",it.progress),l("setPatternOrder",it.order),ct(it.timeMark),x.pattern.setData(it.points),it}function ft(){const{A:it,B:J,C:R}=_,W=J.price-R.price;let F=W>0,ot=u.stopTimeToolRef.get();ot<R.time.t&&(ot=void 0);const at=pt({side:F,start:it,end:{time:J.time,price:J.price}}),H=at.S,rt=at.R,U=pt({side:!F,start:rt,end:{time:R.time,price:R.price}}),V=U.R,et=pt({side:F,start:{time:V.time},end:{time:{t:ot}}}),gt=ut(et.ext,et,{isNot:!0}),h=gt?et.R1:et.ext.R,d=gt?et.S1:et.ext.S,g=pt({side:!F,start:h,end:{time:{t:Math.min(ot??d.time.t,d.time.t)},price:d.price}}),O=pt({side:F,start:d,end:{time:{t:ot}}}),D=ut(O.ext,O,{isNot:!0}),k=D?O.R1:O.ext.R,mt=D?O.S1:O.ext.S,Dt=pt({side:!F,start:k,end:{time:{t:Math.min(ot??mt.time.t,mt.time.t)},price:mt.price}}),P=pt({side:F,start:mt,end:{time:{t:ot}}}),$t=ut(P.ext,P,{isNot:!0}),jt=$t?P.R1:P.ext.R,Lt=$t?P.S1:P.ext.S;console.log("calcContinuePattern",[at,U,et,g,O,Dt,P]);const Ut=n.fmtNum(rt.price-H.price,1,!0),Zt=n.fmtNum(W,1,!0),Ct=n.fmtNum(h.price-V.price,1,!0),ee=n.fmtNum(d.price-h.price,1,!0),ne=n.fmtNum(k.price-d.price,1,!0),se=n.fmtNum(mt.price-k.price,1,!0),te=n.fmtNum(jt.price-mt.price,1,!0),yt=rt.time1.i-H.time.i,At=V.time1.i-rt.time.i,xt=h.time1.i-V.time.i,Ht=d.time1.i-h.time.i,zt=k.time1.i-d.time.i,Yt=mt.time1.i-k.time.i,Xt=jt.time1.i-mt.time.i,oe=gt?et.pre.tr:et.tr,le=gt?et.pre.pr:et.pr,Me=D?O.pre.tr:O.tr,ke=D?O.pre.pr:O.pr,Ue={pr:Ut,tr:yt},ze={pr:Zt,tr:At},De={pr:Ct,tr:xt},we={pr:ee,tr:Ht},Be={pr:ne,tr:zt},xe={pr:se,tr:Yt},Ee={pr:te,tr:Xt},Ft={pr:le,tr:oe},Vt={pr:ke,tr:Me},cr=jt.time.i+yt-At-xt-Ht-zt-Yt-Xt,Qe=V.time.i+At,he=k.time.i+xt-Ht-zt,Xe=jt.time.i+zt-Yt-Xt,N={times:[cr,Qe,he,Xe],colors:["yellow","red","purple","cyan"]},dr=n.cmp(h.price,F,rt.price),ie=n.cmp(d.price,!F,V.price),re=n.cmp(k.price,F,h.price),Gt=n.cmp(jt.price,F,k.price),Re=F?1:-1,Ge=jt.price,i=n.fmtNum(Ge+Re*.1),a=Wt("continue",{B:rt,C:V,E:d,H:jt},F),y=st(mt.price,.75*a,Re),S=n.fmtNum(y-i),G=st(mt.price,a,Re),dt=n.fmtNum(G-i),Rt=st(mt.price,1.5*a,Re),qt=n.fmtNum(Rt-i),pe=n.fmtNum((Gt?jt.price+Lt.price:re?k.price+mt.price:h.price+d.price)/2),$e=n.fmtNum(pe-i,1),nr=n.fmtNum(mt.price+.5*Re*a),ho=[[ut(De,U),ut(De,Ue,{isNot:!0}),[dr&&ut(De,ze,{isNot:!0,threshold:2}),!dr&&ut(De,ze,{threshold:.5})&&zt>=xt-Ht]],[ut(we,Ft),ut(we,ze,{threshold:.5}),ut(we,De,{isNot:!0,threshold:1.5})],[ut(Be,g),ut(Be,De,{threshold:.5}),[re,!re&&ut(Be,we,{threshold:.7})&&Xt>=zt-Yt,!re&&ie&&ut(Be,we,{threshold:.5})&&Yt>=zt]],[ut(xe,Vt),ut(xe,we,{threshold:.5}),ut(xe,It(ze,we),{isNot:!0,threshold:.7})],[ut(Ee,Dt),ut(Ee,Be,{threshold:.5}),Xt>=yt-At-xt-Ht-zt-Yt,Gt,n.cmp(jt.price,F,nr)]],oo=kt("continue",ho,w,3),io=_t([H,rt,V,h,d,k,mt,jt,Lt],w,1),ko=n.cmp(jt.price,F,y)?Rt:G,ni=mt.price,Oo={data:{type:"SLO",side:Re,price:i,tpPrice:ko,slPrice:n.fmtNum(ni-Re*.1),sl1Price:n.fmtNum(Lt.price-Re*.1)},points:{F:k,G:mt,H:jt,I:Lt,t:pe},isOk:oo.result};return console.log("order",Oo),{timeMark:N,progress:oo,order:Oo,points:Et(io),entry:i,target:{x:[y,S],y:[G,dt],z:[Rt,qt],t:[pe,$e]}}}function L(){const{A:it,B:J,C:R}=_;let W=it.price-J.price>0,F=u.stopTimeToolRef.get();F<J.time.t&&(F=void 0);const ot=pt({side:!W,start:it,end:{time:J.time,price:J.price}}),at=ot.S,H=ot.R,rt=pt({side:W,start:H,end:{time:{t:F}}}),U=ut(rt.ext,rt,{isNot:!0}),V=U?rt.R1:rt.ext.R,et=U?rt.S1:rt.ext.S,gt=pt({side:!W,start:V,end:{time:{t:Math.min(F??et.time.t,et.time.t)},price:et.price}}),h=pt({side:W,start:et,end:{time:{t:F}}}),d=ut(h.ext,h,{isNot:!0}),g=d?h.R1:h.ext.R,O=d?h.S1:h.ext.S,D=pt({side:!W,start:g,end:{time:{t:Math.min(F??O.time.t,O.time.t)},price:O.price}}),k=pt({side:W,start:O,end:{time:{t:F}}}),mt=ut(k.ext,k,{isNot:!0}),Dt=mt?k.R1:k.ext.R,P=mt?k.S1:k.ext.S,$t=pt({side:!W,start:Dt,end:{time:{t:Math.min(F??P.time.t,P.time.t)},price:P.price}}),jt=pt({side:W,start:P,end:{time:{t:F}}}),Lt=ut(jt.ext,jt,{isNot:!0}),Ut=Lt?jt.R1:jt.ext.R,Zt=Lt?jt.S1:jt.ext.S;console.log("calcNestedContinuePattern",[ot,rt,gt,h,D,k,$t,jt]);const Ct=n.fmtNum(V.price-H.price,1,!0),ee=n.fmtNum(et.price-V.price,1,!0),ne=n.fmtNum(g.price-et.price,1,!0),se=n.fmtNum(O.price-g.price,1,!0),te=n.fmtNum(Dt.price-O.price,1,!0),yt=n.fmtNum(P.price-Dt.price,1,!0),At=n.fmtNum(Ut.price-P.price,1,!0),xt=V.time1.i-H.time.i,Ht=et.time1.i-V.time.i,zt=g.time1.i-et.time.i,Yt=O.time1.i-g.time.i,Xt=Dt.time1.i-O.time.i,oe=P.time1.i-Dt.time.i,le=Ut.time1.i-P.time.i,Me=d?h.pre.tr:h.tr,ke=d?h.pre.pr:h.pr,Ue=mt?k.pre.tr:k.tr,ze=mt?k.pre.pr:k.pr,De={pr:Ct,tr:xt},we={pr:ee,tr:Ht},Be={pr:ne,tr:zt},xe={pr:se,tr:Yt},Ee={pr:te,tr:Xt},Ft={pr:yt,tr:oe},Vt={pr:At,tr:le},cr={pr:ke,tr:Me},Qe={pr:ze,tr:Ue},he=Ut.time.i+xt-Ht-zt-Yt-Xt-oe-le,Xe=et.time.i+Ht,N=Dt.time.i+zt-Yt-Xt,dr=Ut.time.i+Xt-oe-le,ie={times:[he,Xe,N,dr],colors:["yellow","red","purple","cyan"]},re=n.cmp(g.price,W,V.price),Gt=n.cmp(O.price,!W,et.price),Re=n.cmp(Dt.price,W,g.price),Ge=n.cmp(Ut.price,W,Dt.price),i=W?1:-1,a=Ut.price,y=n.fmtNum(a+i*.1),S=Wt("continue",{B:V,C:et,E:O,H:Ut},W),G=st(P.price,.75*S,i),dt=n.fmtNum(G-y),Rt=st(P.price,S,i),qt=n.fmtNum(Rt-y),pe=st(P.price,1.5*S,i),$e=n.fmtNum(pe-y),nr=n.fmtNum((Ge?Ut.price+Zt.price:Re?Dt.price+P.price:g.price+O.price)/2),ho=n.fmtNum(nr-y,1),oo=n.fmtNum(P.price+.5*i*S),io=[[ut(Be,gt),ut(Be,De,{isNot:!0}),[re&&ut(Be,we,{isNot:!0,threshold:2}),!re&&ut(Be,we,{threshold:.5})&&Xt>=zt-Yt]],[ut(xe,cr),ut(xe,we,{threshold:.5}),ut(xe,Be,{isNot:!0,threshold:1.5})],[ut(Ee,D),ut(Ee,Be,{threshold:.5}),[Re,!Re&&ut(Ee,xe,{threshold:.7})&&le>=Xt-oe,!Re&&Gt&&ut(Ee,xe,{threshold:.5})&&oe>=Xt]],[ut(Ft,Qe),ut(Ft,xe,{threshold:.5}),ut(Ft,It(we,xe),{isNot:!0,threshold:.7})],[ut(Vt,$t),ut(Vt,Ee,{threshold:.5}),le>=xt-Ht-zt-Yt-Xt-oe,Ge,n.cmp(Ut.price,W,oo)]],ko=kt("continue",io,w,3),ni=_t([at,H,V,et,g,O,Dt,P,Ut,Zt],w),Oo=n.cmp(Ut.price,W,G)?pe:Rt,ql=P.price,as={data:{type:"SLO",side:i,price:y,tpPrice:Oo,slPrice:n.fmtNum(ql-i*.1),sl1Price:n.fmtNum(Zt.price-i*.1)},points:{F:Dt,G:P,H:Ut,I:Zt,t:nr},isOk:ko.result};return console.log("order",as),{timeMark:ie,progress:ko,order:as,points:Et(ni),entry:y,target:{x:[G,dt],y:[Rt,qt],z:[pe,$e],t:[nr,ho]}}}function Z(){const{A:it,B:J,C:R}=_,W=it.price-J.price;let F=W>0,ot=u.stopTimeToolRef.get();ot<J.time.t&&(ot=void 0);let at=u.timeRangeToolRef.getFirstTime();at<R.time.t&&(at=void 0);const H=pt({side:!F,start:it,end:{time:J.time,price:J.price}}),rt=H.S,U=H.R,V=pt({side:F,start:{time:U.time},end:{time:{t:ot}}}),et=ut(V.ext,V,{isNot:!0}),gt=et?V.R1:V.ext.R;let h=et?V.S1:V.ext.S;const d=pt({side:!F,start:gt,end:{time:{t:Math.min(at??ot??h.time.t,h.time.t)},price:h.price}});h=d.R;const g=pt({side:F,start:{time:h.time},end:{time:{t:ot}}}),O=ut(g.ext,g,{isNot:!0}),D=O?g.R1:g.ext.R,k=O?g.S1:g.ext.S,mt=pt({side:!F,start:D,end:{time:{t:Math.min(ot??k.time.t,k.time.t)},price:k.price}}),Dt=pt({side:F,start:k,end:{time:{t:ot}}}),P=ut(Dt.ext,Dt,{isNot:!0}),$t=P?Dt.R1:Dt.ext.R,jt=P?Dt.S1:Dt.ext.S;console.log("calcReversalPattern",[H,V,d,g,mt,Dt]);const Lt=n.fmtNum(W,1,!0),Ut=n.fmtNum(gt.price-U.price,1,!0),Zt=n.fmtNum(h.price-gt.price,1,!0),Ct=n.fmtNum(D.price-h.price,1,!0),ee=n.fmtNum(k.price-D.price,1,!0),ne=n.fmtNum($t.price-k.price,1,!0),se=U.time1.i-rt.time.i,te=gt.time1.i-U.time.i,yt=h.time1.i-gt.time.i,At=D.time1.i-h.time.i,xt=k.time1.i-D.time.i,Ht=$t.time1.i-k.time.i,zt=et?V.pre.tr:V.tr,Yt=et?V.pre.pr:V.pr,Xt=O?g.pre.tr:g.tr,oe=O?g.pre.pr:g.pr,le={pr:Lt,tr:se},Me={pr:Ut,tr:te},ke={pr:Zt,tr:yt},Ue={pr:Ct,tr:At},ze={pr:ee,tr:xt},De={pr:ne,tr:Ht},we={pr:Yt,tr:zt},Be={pr:oe,tr:Xt},xe=$t.time.i+se-te-yt-At-xt-Ht,Ee=gt.time.i+te,Ft=D.time.i+te-yt-At,Vt=$t.time.i+At-xt-Ht,cr={times:[xe,Ee,Ft,Vt],colors:["orange","pink","purple","cyan"]},Qe=n.cmp(h.price,!F,U.price),he=n.cmp(D.price,F,gt.price),Xe=n.cmp($t.price,F,D.price),N=F?1:-1,dr=$t.price,ie=n.fmtNum(dr+N*.1),re=Wt("reversal",{C:U,E:h,H:$t},F),Gt=st(k.price,.75*re,N),Re=n.fmtNum(Gt-ie),Ge=st(k.price,re,N),i=n.fmtNum(Ge-ie),a=st(k.price,1.5*re,N),y=n.fmtNum(a-ie),S=st(k.price,2*re,N),G=n.fmtNum(S-ie),dt=n.fmtNum((Xe?$t.price+jt.price:he?D.price+k.price:gt.price+h.price)/2),Rt=n.fmtNum(dt-ie),qt=n.fmtNum(k.price+.5*N*re),pe=[[ut(Me,H),At>=te-yt],[ut(ke,we),ut(ke,le,{isNot:!0}),ut(ke,Me,{isNot:!0,threshold:2})],[ut(Ue,d),ut(Ue,Me,{threshold:.5}),[he,!he&&ut(Ue,ke,{threshold:.7})&&Ht>=At-xt,!he&&Qe&&ut(Ue,ke,{threshold:.5})&&xt>=At]],[ut(ze,Be),ut(ze,ke,{threshold:.5}),ut(ze,ke,{isNot:!0,threshold:.8})],[ut(De,mt),ut(De,Ue,{threshold:.5}),Ht>=se-te-yt-At-xt,Xe,n.cmp($t.price,F,qt)]],$e=kt("reversal",pe,w,3),nr=_t([rt,U,gt,h,D,k,$t,jt],w,2),ho=n.cmp($t.price,F,Ge)?S:n.cmp($t.price,F,Gt)?a:Ge,oo=k.price,io={data:{type:"SLO",side:N,price:ie,tpPrice:ho,slPrice:n.fmtNum(oo-N*.1),sl1Price:n.fmtNum(jt.price-N*.1)},points:{F:D,G:k,H:$t,I:jt,t:dt},isOk:$e.result};return console.log("order",io),{timeMark:cr,progress:$e,order:io,points:Et(nr),entry:ie,target:{x:[Gt,Re],y:[Ge,i],z:[a,y],w:[S,G],t:[dt,Rt]}}}function wt(){const{A:it,B:J,C:R}=_,W=it.price-J.price;let F=W>0,ot=u.stopTimeToolRef.get();ot<J.time.t&&(ot=void 0);const at=pt({side:!F,start:it,end:{time:J.time}}),H=at.S,rt=at.R,U=pt({side:F,start:{time:rt.time},end:{time:R.time}}),V=U.R,et=pt({side:!F,start:V,end:{time:{t:ot}}}),gt=ut(et.ext,et,{isNot:!0}),h=gt?et.R1:et.ext.R,d=gt?et.S1:et.ext.S;console.log("calcSidewayPattern",[at,U,et]);const g=n.fmtNum(W,1,!0),O=n.fmtNum(V.price-rt.price,1,!0),D=rt.time1.i-H.time.i,k=V.time1.i-rt.time.i,mt=h.time1.i-V.time.i,Dt=d.time1.i-h.time.i,P=d.time.i+D-k-mt-Dt,$t=d.time.i+k-mt-Dt,jt=u.timeToIndex(ot??u.bars.at(-1).time),Lt={times:[P,$t],colors:["orange","pink"]},Ut=O/g,Zt=k>D&&Ut>=.75,Ct=k>D&&ut(at,U)&&n.cmp(V.price,F,at.S1.price)&&Ut>=.6,ee=k<D&&jt<P&&Ut<.4,se=[[ut({pr:O,tr:k},at),O>=3,$t>jt,[Zt,Ct,ee]]],te=["orange","red","pink","purple","purple"],yt=kt("sideway",se,te,1),At=_t([H,rt,V,h,d],te),xt=F?1:-1,zt=rt.price,Yt=O,Xt=n.fmtNum(rt.price+xt*.5*Yt),oe=n.fmtNum(Xt-zt),le=n.fmtNum(rt.price-xt*.5*Yt),Me=n.fmtNum(le-zt),ke=n.fmtNum(rt.price-xt*Yt),Ue=n.fmtNum(ke-zt),we={data:{type:"LO",side:xt,price:zt,tpPrice:Xt,slPrice:ke,sl1Price:null},points:{},isOk:yt.result};return console.log("order",we),{timeMark:Lt,progress:yt,order:we,points:Et(At),entry:zt,target:{x:[Xt,oe],y:[le,Me],z:[ke,Ue]}}}function pt({side:it,start:J,end:R}){let W=n.cloneDeep(J),F={},ot={},at={},H={},rt={};W.time.i=u.timeToIndex(W.time.t);const U=u.bars.filter(V=>{let et=V.time>=J.time.t;return R.time.t&&(et=et&&V.time<=R.time.t),et});return U.length>0?(U.every((V,et)=>{const gt=it?V.high:V.low,h=it?V.low:V.high,d=V.time,g=V.date,O=u.timeToIndex(d);if((et===0||J.price&&h===J.price)&&(ot={R:{price:gt,price1:gt,time:{t:d,d:g,i:O},time1:{t:d,d:g,i:O}},S:{price:gt,time:{t:d,d:g,i:O},time1:{t:d,d:g,i:O}},pr:0,tr:0},at=n.cloneDeep(ot)),J.price&&n.cmp(h,!it,J.price)||R.price&&n.cmp(gt,it,R.price))return!1;if(n.cmp(gt,it,ot.R.price,!0)){ot.pr>0&&(!R.price||gt!==R.price)&&ut(ot,at)&&(H=n.cloneDeep(at),at=n.cloneDeep(ot),at.tr<H.tr&&(at.tr=H.tr),at.pr<H.pr&&(at.pr=H.pr));const D=gt===ot.R.price,k=it?Math.min(ot.R.price1,ot.S.price):Math.max(ot.R.price1,ot.S.price);ot={R:{price:gt,price1:D?k:gt,time:{t:d,d:g,i:O},time1:D?ot.R.time1:{t:d,d:g,i:O}},S:{price:gt,time:{t:d,d:g,i:O},time1:{t:d,d:g,i:O}},pr:0,tr:0}}else n.cmp(h,!it,ot.S.price,!0)&&(ot.S.time={t:d,d:g,i:O},h!==ot.S.price&&(ot.S.price=h,ot.S.time1={t:d,d:g,i:O},ot.pr=n.fmtNum(ot.S.price-ot.R.price,1,!0),ot.tr=ot.S.time1.i-ot.R.time.i));return!0}),rt=n.cloneDeep(ot),F=n.cloneDeep(ot.R)):(F=n.cloneDeep(W),at={R:F,S:{},pr:0,tr:0},H=n.cloneDeep(at),rt=n.cloneDeep(at)),{S:W,R:F,S1:at.S,R1:at.R,tr:at.tr,pr:at.pr,pre:H,ext:rt}}function ut(it,J,{isNot:R=!1,threshold:W=1}={}){const F=lt(it,J);return R?F<W:F>=W}function It(it,J,R=!1){return lt(it,J)>=1!==R?it:J}function lt(it,J){return n.fmtNum(ps*(it.pr/J.pr)+(1-ps)*(it.tr/J.tr),2)}function kt(it,J,R,W=0){let F={pattern:v.value,subPattern:it,steps:J,step:0,result:!0};return F.steps.map((ot,at)=>(F.result&&(F.step=at+1,F.result=B(ot)),ot)),F.color=F.result?"green":R[F.step+W-1],F}function _t(it,J,R=0){const W=[],F=it.length-1;return it.forEach((ot,at)=>{const H={value:ot.price,color:at!==F?s.CHART_COLOR_MAP[J[at+R]]:null};at!==0&&W.push({...H,time:ot.time1.t}),at!==it.length-1&&W.push({...H,time:ot.time.t})}),W}function Wt(it,{B:J,C:R,E:W,H:F},ot){const at=it==="continue"?ot?Math.max(J.price,F.price):Math.min(J.price,F.price):F.price,H=ot?Math.min(R.price,W.price):Math.max(R.price,W.price);return n.fmtNum(at-H,1,!0)}function B(it){return it.map(J=>Array.isArray(J)?J.some(Boolean):J).every(Boolean)}function tt(it){var W,F;if(!u.bars.length)return!1;const J=(W=u.bars[0])==null?void 0:W.time,R=(F=u.bars.at(-1))==null?void 0:F.time;return typeof J!="number"||typeof R!="number"?!1:it>=J&&it<=R}function st(it,J,R){const W=it+R*J;let F=n.fmtNum(W%1),ot=W;return R>0?F>=.1&&F<=.2?ot=Math.floor(W):F>=.6&&F<=.7&&(ot=Math.floor(W)+.5):F>=.8&&F<=.9?ot=Math.ceil(W):F>=.3&&F<=.4&&(ot=Math.floor(W)+.5),n.fmtNum(ot)}function Tt(){const it=u.stopTimeToolRef.get(),J=_.B.price>_.A.price,R=u.bars.findIndex(F=>F.time===_.C.time.t);let W=n.cloneDeep(_.C);for(let F=R;F<u.bars.length;F++){const ot=u.bars[F].time;if(it&&ot>it)break;const at=u.bars[F].date,H=J?u.bars[F].low:u.bars[F].high;n.cmp(H,!J,W.price,!0)&&(W.time={t:ot,d:at},W.price=H)}W.time.t!==_.C.time.t&&(_.C=W,ht())}function ht(it=!1){let J={isRemove:it,symbol:Bp,name:"pattern",points:[],data:[]};it?_={}:Object.entries(_).forEach(([R,W])=>{J.points.push(R),J.data.push(W)}),p.dispatch("tradingDerivative/drawTools",J)}function A(){ht(!0),u.stopTimeToolRef.remove(),C(),ct({times:[]}),l("setProgress",{}),l("setPatternOrder",{}),x.pattern.setData([])}function C(){n.isSet(I.O)&&x.pattern.removePriceLine(I.O),n.isSet(I.X)&&x.pattern.removePriceLine(I.X),n.isSet(I.Y)&&x.pattern.removePriceLine(I.Y),n.isSet(I.Z)&&x.pattern.removePriceLine(I.Z),n.isSet(I.W)&&x.pattern.removePriceLine(I.W),n.isSet(I.T)&&x.pattern.removePriceLine(I.T),I={}}function ct({times:it,colors:J}){let R=[];it.forEach((W,F)=>{let ot=u.indexToTime(W);ot&&R.push({time:ot,value:1,color:s.CHART_COLOR_MAP[J[F]]})}),R.length&&(R=Et(R),R.sort((W,F)=>W.time-F.time)),x.timeMark.setData(R)}function Et(it){const J=new Set;return it.map(R=>{let W={...R};for(;J.has(W.time);)W.time++;return J.add(W.time),W})}function St({itemData:it}){const J=it.split(" - ")[0];p.dispatch("tradingDerivative/setPatternType",J).then(R=>{R&&K()})}function bt(){const it=b.map(R=>R.split(" - ")[0]),J=v.value===it[0]?it[1]:it[0];p.dispatch("tradingDerivative/setPatternType",J).then(R=>{R&&K()})}return(it,J)=>(Oe(),Fe(lo,null,[ye("div",{class:"command",onContextmenu:bt},[Ie(Yr(rp),{items:b,"drop-down-options":{width:145,wrapperAttr:{class:"select-pattern-popup"},position:{my:"top left",at:"top right",of:".select-pattern"}},icon:`far fa-circle-${(v.value||"question").toLowerCase()} pattern`,hint:it.$t("trading.derivative.tools.selectPattern"),stylingMode:"text",showArrowIcon:!1,elementAttr:{class:"select-pattern"},onItemClick:St},null,8,["icon","hint"])],32),ye("div",{ref_key:"patternToolRef",ref:c,class:"context command",title:it.$t("trading.derivative.tools.pattern"),onClick:M,onContextmenu:$},Mp,40,kp)],64))}},Pp=["title"],Ap=ye("i",{class:"far fa-pipe"},null,-1),xp=[Ap],us="VN30F1M",Fp={__name:"StopTimeTool",emits:["done","hideContext"],setup(t,{expose:o,emit:e}){const p=Zr(),f=e,n=ur("mc"),s=me(null),u=Je(()=>p.state.tradingDerivative.tools.stopTime);let l=null,c={};o({isSelected:m,createSeries:v,draw:x,remove:z,get:b,set:w}),Io(u,M=>{M&&Y(M[0])});function m(){return s.value.classList.contains("selected")}function v(M){if(!M)return!1;c.stopTime=M.addHistogramSeries({priceScaleId:"stopTime",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function b(){return l}function w(M){p.dispatch("tradingDerivative/drawTools",{isRemove:!1,symbol:us,name:"stopTime",points:[0],data:[M]}),Y(M)}function _(M){f("hideContext");const $=M.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(X=>X.classList.remove("selected")),$||M.target.classList.add("selected")}function I(M){M.target.classList.remove("selected"),z(),f("done",null)}function x({time:M}){w(M),f("done",M),s.value.classList.remove("selected")}function Y(M){l=M,c.stopTime.setData([{time:M,color:n.CHART_COLOR_MAP.green,value:1}])}function z(M=!0){M&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:us,name:"stopTime"}),c.stopTime.setData([]),l=null}return(M,$)=>(Oe(),Fe("div",{ref_key:"stopTimeToolRef",ref:s,class:"command",title:M.$t("trading.derivative.tools.stopTime"),onClick:_,onContextmenu:I},xp,40,Pp))}},Np=["title"],Wp=ye("i",{class:"far fa-grip-lines-vertical"},null,-1),jp=[Wp],cs="VN30F1M",Dp={__name:"TimeRangeTool",props:["timeToIndex","indexToTime"],emits:["done","hideContext"],setup(t,{expose:o,emit:e}){const p=Zr(),f=ur("mf"),n=t,s=e,u=me(null),l=Je(()=>p.state.tradingDerivative.tools.timeRange);let c=[],m={};o({isSelected:v,createSeries:b,getFirstTime:w,draw:x}),Io(l,$=>{$&&Y($)});function v(){return u.value.classList.contains("selected")}function b($){if(!$)return!1;m.timeRange=$.addHistogramSeries({priceScaleId:"timeRange",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function w(){return c[0]?c[0].time:null}function _($){s("hideContext");const X=$.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(j=>j.classList.remove("selected")),X||$.target.classList.add("selected")}function I($){M(),s("done"),$.target.classList.remove("selected")}function x({time:$}){let X={isRemove:!1,symbol:cs,name:"timeRange",points:[],data:[]},j={time:$,value:1};switch(c.length){case 0:j.color="OrangeRed",c[0]=j,X.points.push(0),X.data.push($);break;case 1:$>c[0].time&&(j.color="lime",c[1]=j,X.points.push(1),X.data.push($)),s("done"),u.value.classList.remove("selected");break;default:const T=n.timeToIndex(c[0].time),K=n.timeToIndex(c[1].time),q=n.timeToIndex($)+(K-T),ft=n.indexToTime(q);j.color="OrangeRed",c[0]=f.cloneDeep(j),X.points.push(0),X.data.push($),j.time=ft,j.color="lime",c[1]=j,X.points.push(1),X.data.push(ft),u.value.classList.remove("selected");break}m.timeRange.setData(c),p.dispatch("tradingDerivative/drawTools",X)}function Y($){M(!1),z($)}function z($){let X,j;switch($.length){case 1:X=$[0];break;case 2:X=$[0],j=$[1];break;case 3:const T=n.timeToIndex($[0]),K=n.timeToIndex($[1]),q=n.timeToIndex($[2])+(K-T);X=$[2],j=n.indexToTime(q);break}X&&c.push({time:X,value:1,color:"OrangeRed"}),j&&c.push({time:j,value:1,color:"lime"}),m.timeRange.setData(c)}function M($=!0){$&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:cs,name:"timeRange"}),c=[],m.timeRange.setData([])}return($,X)=>(Oe(),Fe("div",{ref_key:"timeRangeToolRef",ref:u,class:"command",title:$.$t("trading.derivative.tools.timeRange"),onClick:_,onContextmenu:I},jp,40,Np))}},Lp={__name:"PuttedOrdersPopup",setup(t,{expose:o}){const e=Zr(),p=me(null),f=me([]),n=[{field:"time",minWidth:200},{field:"type",minWidth:70},{field:"side",minWidth:90},{field:"price",minWidth:100},{field:"tpPrice",minWidth:100},{field:"slPrice",minWidth:100}];function s(){p.value.show()}function u(){e.dispatch("tradingDerivative/getPuttedOrders").then(m=>{f.value=l(m)})}function l(m){return m.map(v=>({id:v.id,time:Lr(new Date(v.created_at),"dd/MM/yyyy HH:mm:ss"),type:v.type,side:v.side>0?"LONG":"SHORT",price:v.entry_price,tpPrice:v.tp_price,slPrice:v.sl_price}))}function c(){}return o({show:s}),(m,v)=>{const b=Vo("DxScrollView");return Oe(),Gn(op,{ref_key:"popupRef",ref:p,class:"der-putted-orders-popup",title:m.$t("trading.derivative.orderContext.history"),onShown:u,onHidden:c},{default:qr(()=>[Ie(b,null,{default:qr(()=>[Ie(Yr(So.DxDataGrid),{"data-source":f.value,"key-expr":"id","show-borders":!0},{default:qr(()=>[(Oe(),Fe(lo,null,_o(n,w=>Ie(Yr(So.DxColumn),{"data-field":w.field,minWidth:w.minWidth,caption:m.$t(`trading.derivative.orderContext.${w.field}`)},null,8,["data-field","minWidth","caption"])),64))]),_:1},8,["data-source"])]),_:1})]),_:1},8,["title"])}}},Up={__name:"OrderContext",props:["orders"],emits:["closeOrder","closeAllOrders","putOrder"],setup(t,{emit:o}){const e=t,p=o,f=me(null),n=Je(()=>Object.values(e.orders).map(v=>({id:v.id,type:v.type,side:v.side>0?"LONG":"SHORT",price:v.entry_price}))),s=[{field:"id",minWidth:50},{field:"type",minWidth:90},{field:"side",minWidth:90},{field:"price",minWidth:100}];function u(){p("closeAllOrders")}function l(v){const b=e.orders[v];p("closeOrder",b)}function c(){p("putOrder")}function m(){f.value.show()}return(v,b)=>{const w=Vo("DxButton"),_=Vo("DxToolbar");return Oe(),Gn(ra,{class:"order-context"},{default:qr(()=>[Ie(Yr(So.DxDataGrid),{"data-source":n.value,"key-expr":"id","show-borders":!0},{commandCellTemplate:qr(({data:I})=>[Ie(w,{type:"danger",stylingMode:"text",icon:"trash",onClick:()=>l(I.data.id)},null,8,["onClick"])]),default:qr(()=>[Ie(Yr(So.DxColumn),{width:50,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate"}),(Oe(),Fe(lo,null,_o(s,I=>Ie(Yr(So.DxColumn),{"data-field":I.field,width:I.minWidth,caption:v.$t(`trading.derivative.orderContext.${I.field}`)},null,8,["data-field","width","caption"])),64))]),_:1},8,["data-source"]),Ie(_,{items:[{location:"before",widget:"dxButton",options:{type:"success",stylingMode:"outlined",icon:"far fa-gavel",text:v.$t("trading.derivative.orderContext.putOrder"),onClick:c}},{location:"center",widget:"dxButton",options:{type:"danger",stylingMode:"outlined",icon:"trash",text:v.$t("trading.derivative.orderContext.closeAll"),onClick:u}},{location:"after",widget:"dxButton",options:{type:"normal",stylingMode:"outlined",icon:"far fa-history small",hint:v.$t("trading.derivative.orderContext.history"),onClick:m}}]},null,8,["items"]),Ie(Lp,{ref_key:"puttedOrdersPopupRef",ref:f},null,512)]),_:1})}}},zp=["title"],$p={__name:"OrderTool",props:["position","drawPriceLine","inSession","TIME"],emits:["hideContext"],setup(t,{expose:o,emit:e}){const p=Zr(),{t:f}=Zo(),n=ur("mf"),s=t,u=e,l=me(null),c=me(!1),m=me(!1),v=me({}),b=Je(()=>p.state.tradingDerivative.config.orders),w=Je(()=>p.state.tradingDerivative.config.patternType),_=Je(()=>p.state.tradingDerivative.status.position||p.state.tradingDerivative.status.pendingOrders.length>0||Object.keys(v.value).length>0);let I={},x={},Y=!1;o({hide:M,scan:K,drag:pt,closeAllOrders:X,cancelWithoutClose:T,setPatternOrder:z}),Qo(()=>{window.addEventListener("keydown",B)}),qn(()=>{window.removeEventListener("keydown",B)}),Io(b,tt=>{n.isSet(tt)&&L(tt)});function z(tt){I=tt}function M(tt=!1){m.value=tt}function $(){let tt=!1,st=()=>{};if(s.inSession()){const Tt=Ce($r(new Date,7));if(Tt<s.TIME.ATO)tt=!0,st=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATO"}).then(ht=>{ht.isOk?qe.success(f("trading.derivative.toasts.atoOrderSuccess")):_t(ht)})};else if(Tt>s.TIME.ATC)tt=!0,st=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATC"}).then(ht=>{ht.isOk?qe.success(f("trading.derivative.toasts.atcOrderSuccess")):_t(ht)})};else if(!s.position)I.isOk&&(tt=!0,st=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"entry",data:{cmd:"new",...I.data}}).then(ht=>{ht.isOk?(v.value[ht.order.id]=ht.order,x[ht.order.id]={},Z(["entry"],ht.order),qe.success(f("trading.derivative.toasts.newEntrySuccess"))):_t(ht)})});else{const ht=kt(0);if(ht.length===1){const A=ht[0];tt=!0,st=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:A.id}).then(C=>{C.isOk?(v.value[A.id]=C.order,x[A.id].entry.applyOptions({draggable:!1}),Z(["tp","sl"],C.order),qe.success(f("trading.derivative.toasts.newTpSlSuccess"))):_t(C)})}}}}tt?ip(f("trading.derivative.toasts.orderConfirm"),f("titles.confirm")).then(ht=>{ht&&st()}):qe.warning(f("trading.derivative.toasts.noPutOrder"))}function X(){const tt=Object.values(v.value);tt.length?tt.forEach(st=>j(st,st.status===1)):p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"MTL"}).then(st=>{st.isOk?qe.success(f("trading.derivative.toasts.cancelSuccess")):_t(st)})}function j(tt,st,Tt="cancelSuccess"){p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:tt.id,exit:st?"MTL":""}).then(ht=>{ht.isOk?(wt(["entry","tp","sl"],tt.id),delete v.value[tt.id],qe.success(f("trading.derivative.toasts."+Tt))):_t(ht)})}function T(){if(s.inSession()&&s.position){const tt=Ce($r(new Date,7));tt>s.TIME.ATC-5*60&&(c.value=!0,tt>s.TIME.ATC-15&&kt(1).forEach(Tt=>{j(Tt,!1,"cancelNotExitSuccess")}))}}function K(tt){Object.values(v.value).forEach(st=>{switch(st.status){case 0:nt(st,tt);break;case 1:q(st,tt),ft(st,tt);break}})}function nt(tt,st){const Tt=tt.side>0;(tt.type==="SLO"&&n.cmp(st,Tt,tt.entry_price,!0)||tt.type==="LO"&&n.cmp(st,!Tt,tt.entry_price,!0))&&(Y||(Y=!0,setTimeout(()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:tt.id}).then(ht=>{ht.isOk?(v.value[tt.id]=ht.order,x[tt.id].entry.applyOptions({draggable:!1}),Z(["tp","sl"],ht.order),Object.keys(v.value).forEach(A=>{Number(A)!==tt.id&&v.value[A].status===0&&(wt(["entry"],A),delete v.value[A])}),qe.success(f("trading.derivative.toasts.newTpSlSuccess"))):_t(ht),Y=!1})},1e3)))}function q(tt,st){const Tt=tt.side>0;let ht="";n.cmp(st,Tt,tt.tp_price,!0)&&(ht="sl"),n.cmp(st,!Tt,tt.sl_price,!0)&&(ht="tp"),ht&&(Y||(Y=!0,p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:tt.id,kind:ht}).then(A=>{A.isOk?(wt(["entry","tp","sl"],tt.id),delete v.value[tt.id],qe.success(f("trading.derivative.toasts.cancelSuccess"))):_t(A),Y=!1})))}function ft(tt,st){if(["C","N","R"].includes(w.value)){const Tt=tt.side>0;let ht="",A=null;const C=n.cmp(I.points.H.price,Tt,tt.entry_price,!0),ct=n.cmp(I.points.I.price,Tt,tt.sl1_price),Et=n.cmp(st,Tt,I.points.H.price),St=n.cmp(I.points.F.price,Tt,tt.entry_price,!0),bt=n.cmp(I.points.G.price,Tt,tt.sl1_price),it=n.cmp(st,Tt,I.points.F.price);if(tt.tp_price!==I.points.t&&(C&&!ct||St&&!bt)&&(ht="tp",A=I.points.t),tt.sl_price!==I.data.sl1Price&&(C&&ct&&Et||St&&bt&&it)&&(ht="sl",A=I.data.sl1Price),ht&&!Y){const J=()=>{Y=!1};Y=!0,ut(ht,tt,A,{callback:J})}}}function L(tt){v.value=n.cloneDeep(tt),Object.values(v.value).forEach(st=>{let Tt=["entry"];st.status===1&&Tt.push("tp","sl"),wt(["entry","tp","sl"],st.id),Z(Tt,st)})}function Z(tt,st){let Tt,ht;tt.forEach(A=>{switch(A){case"entry":Tt="yellow",ht=`${st.side>0?"LONG":"SHORT"}[${st.id}]`;break;case"tp":Tt="lime",ht=`TP[${st.id}] ${n.fmtNum(st.tp_price-st.entry_price,1)}`;break;case"sl":Tt="red",ht=`SL[${st.id}] ${n.fmtNum(st.sl_price-st.entry_price,1)}`;break}if(n.isSet(x[st.id])||(x[st.id]={}),n.isSet(x[st.id][A]))x[st.id][A].applyOptions({title:ht}),n.fmtNum(x[st.id][A].options().price)!==st[`${A}_price`]&&x[st.id][A].applyOptions({price:st[`${A}_price`]});else{const C={lineType:"order",kind:A,price:st[`${A}_price`],color:Tt,lineWidth:1,lineStyle:0,title:ht,draggable:!(A==="entry"&&st.status===1)};x[st.id][A]=s.drawPriceLine(C)}})}function wt(tt,st){n.isSet(x[st])&&(tt.forEach(Tt=>{n.isSet(x[st][Tt])&&s.drawPriceLine(x[st][Tt],!0)}),delete x[st])}function pt({line:tt,lineOptions:st,oldPrice:Tt,newPrice:ht}){if(ht!==Tt){const A=st.kind,C=A!=="entry"||!s.position,ct=()=>{tt.applyOptions({price:Tt})};if(C){const Et=lt(A,Tt);if(!n.isSet(Et))return!1;ut(A,Et,ht,{errorCallback:ct})}else ct(),qe.show(f("trading.derivative.toasts.noChangeOrderLine"))}}function ut(tt,st,Tt,{callback:ht,errorCallback:A}){p.dispatch("tradingDerivative/executeOrder",{action:tt,orderId:st.id,data:{cmd:"change",orderNo:String(st[`${tt}_no`]),price:Tt}}).then(C=>{if(C.isOk){v.value[st.id]=C.order,Z([tt],C.order);const ct=`change${n.capitalize(tt)}Success`;qe.success(f(`trading.derivative.toasts.${ct}`))}else A&&A(),_t(C);ht&&ht()})}function It(){p.dispatch("tradingDerivative/cleanOldOrders")}function lt(tt,st){return Object.values(v.value).find(Tt=>Tt[`${tt}_price`]===st)}function kt(tt,st=!1){const Tt=Object.values(v.value).filter(ht=>ht.status===tt);return st?Tt.length>0:Tt}function _t(tt){if(tt.error)qe.error(tt.error);else{const st=tt.message??"unknown";qe.error(f(`trading.derivative.toasts.${st}`))}}function Wt(){const tt=m.value;u("hideContext"),m.value=!tt}function B(tt){tt.key==="F4"&&(Wt(),tt.preventDefault())}return(tt,st)=>(Oe(),Fe("div",{ref_key:"orderToolRef",ref:l,class:ir(["cancel-order context command",{red:_.value}]),title:tt.$t("trading.derivative.tools.order"),onClick:Wt,onContextmenu:It},[ye("i",{class:ir(["far fa-gavel",{blink:c.value}])},null,2),Yn(Ie(Up,{class:"contextmenu",orders:v.value,onCloseOrder:j,onCloseAllOrders:X,onPutOrder:$},null,8,["orders"]),[[ea,m.value]])],42,zp))}};var Kn=Object.defineProperty,Hp=Object.getOwnPropertyDescriptor,Vp=Object.getOwnPropertyNames,Gp=Object.prototype.hasOwnProperty,Ne=(t,o)=>()=>(t&&(o=t(t=0)),o),Nt=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports),Xr=(t,o)=>{for(var e in o)Kn(t,e,{get:o[e],enumerable:!0})},qp=(t,o,e,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let f of Vp(o))!Gp.call(t,f)&&f!==e&&Kn(t,f,{get:()=>o[f],enumerable:!(p=Hp(o,f))||p.enumerable});return t},fe=t=>qp(Kn({},"__esModule",{value:!0}),t),Ot=Ne(()=>{}),ue={};Xr(ue,{_debugEnd:()=>en,_debugProcess:()=>tn,_events:()=>gn,_eventsCount:()=>vn,_exiting:()=>Li,_fatalExceptions:()=>Qi,_getActiveHandles:()=>ua,_getActiveRequests:()=>pa,_kill:()=>$i,_linkedBinding:()=>aa,_maxListeners:()=>yn,_preload_modules:()=>fn,_rawDebug:()=>Wi,_startProfilerIdleNotifier:()=>rn,_stopProfilerIdleNotifier:()=>on,_tickCallback:()=>Xi,abort:()=>ln,addListener:()=>bn,allowedNodeEnvironmentFlags:()=>Ki,arch:()=>Ti,argv:()=>Oi,argv0:()=>hn,assert:()=>ca,binding:()=>Pi,chdir:()=>Fi,config:()=>Ui,cpuUsage:()=>vo,cwd:()=>xi,debugPort:()=>dn,default:()=>Qn,dlopen:()=>la,domain:()=>Di,emit:()=>Tn,emitWarning:()=>Ci,env:()=>ki,execArgv:()=>Mi,execPath:()=>cn,exit:()=>qi,features:()=>Ji,hasUncaughtExceptionCaptureCallback:()=>da,hrtime:()=>Wo,kill:()=>Gi,listeners:()=>fa,memoryUsage:()=>Vi,moduleLoadList:()=>ji,nextTick:()=>na,off:()=>_n,on:()=>fr,once:()=>wn,openStdin:()=>Yi,pid:()=>pn,platform:()=>Ii,ppid:()=>un,prependListener:()=>In,prependOnceListener:()=>kn,reallyExit:()=>zi,release:()=>Ni,removeAllListeners:()=>En,removeListener:()=>Sn,resourceUsage:()=>Hi,setSourceMapsEnabled:()=>mn,setUncaughtExceptionCaptureCallback:()=>Zi,stderr:()=>sn,stdin:()=>an,stdout:()=>nn,title:()=>Ei,umask:()=>Ai,uptime:()=>ha,version:()=>Bi,versions:()=>Ri});function Jn(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Yp(){!Kr||!Vr||(Kr=!1,Vr.length?lr=Vr.concat(lr):Eo=-1,lr.length&&ia())}function ia(){if(!Kr){var t=setTimeout(Yp,0);Kr=!0;for(var o=lr.length;o;){for(Vr=lr,lr=[];++Eo<o;)Vr&&Vr[Eo].run();Eo=-1,o=lr.length}Vr=null,Kr=!1,clearTimeout(t)}}function na(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];lr.push(new sa(t,o)),lr.length===1&&!Kr&&setTimeout(ia,0)}function sa(t,o){this.fun=t,this.array=o}function Le(){}function aa(t){Jn("_linkedBinding")}function la(t){Jn("dlopen")}function pa(){return[]}function ua(){return[]}function ca(t,o){if(!t)throw new Error(o||"assertion error")}function da(){return!1}function ha(){return vr.now()/1e3}function Wo(t){var o=Math.floor((Date.now()-vr.now())*.001),e=vr.now()*.001,p=Math.floor(e)+o,f=Math.floor(e%1*1e9);return t&&(p=p-t[0],f=f-t[1],f<0&&(p--,f+=jo)),[p,f]}function fr(){return Qn}function fa(t){return[]}var lr,Kr,Vr,Eo,Ei,Ti,Ii,ki,Oi,Mi,Bi,Ri,Ci,Pi,Ai,xi,Fi,Ni,Wi,ji,Di,Li,Ui,zi,$i,vo,Hi,Vi,Gi,qi,Yi,Ki,Ji,Qi,Zi,Xi,tn,en,rn,on,nn,sn,an,ln,pn,un,cn,dn,hn,fn,mn,vr,li,jo,yn,gn,vn,bn,wn,_n,Sn,En,Tn,In,kn,Qn,Kp=Ne(()=>{Ot(),Bt(),Mt(),lr=[],Kr=!1,Eo=-1,sa.prototype.run=function(){this.fun.apply(null,this.array)},Ei="browser",Ti="x64",Ii="browser",ki={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Oi=["/usr/bin/node"],Mi=[],Bi="v16.8.0",Ri={},Ci=function(t,o){console.warn((o?o+": ":"")+t)},Pi=function(t){Jn("binding")},Ai=function(t){return 0},xi=function(){return"/"},Fi=function(t){},Ni={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Wi=Le,ji=[],Di={},Li=!1,Ui={},zi=Le,$i=Le,vo=function(){return{}},Hi=vo,Vi=vo,Gi=Le,qi=Le,Yi=Le,Ki={},Ji={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Qi=Le,Zi=Le,Xi=Le,tn=Le,en=Le,rn=Le,on=Le,nn=void 0,sn=void 0,an=void 0,ln=Le,pn=2,un=1,cn="/bin/usr/node",dn=9229,hn="node",fn=[],mn=Le,vr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},vr.now===void 0&&(li=Date.now(),vr.timing&&vr.timing.navigationStart&&(li=vr.timing.navigationStart),vr.now=()=>Date.now()-li),jo=1e9,Wo.bigint=function(t){var o=Wo(t);return typeof BigInt>"u"?o[0]*jo+o[1]:BigInt(o[0]*jo)+BigInt(o[1])},yn=10,gn={},vn=0,bn=fr,wn=fr,_n=fr,Sn=fr,En=fr,Tn=Le,In=fr,kn=fr,Qn={version:Bi,versions:Ri,arch:Ti,platform:Ii,release:Ni,_rawDebug:Wi,moduleLoadList:ji,binding:Pi,_linkedBinding:aa,_events:gn,_eventsCount:vn,_maxListeners:yn,on:fr,addListener:bn,once:wn,off:_n,removeListener:Sn,removeAllListeners:En,emit:Tn,prependListener:In,prependOnceListener:kn,listeners:fa,domain:Di,_exiting:Li,config:Ui,dlopen:la,uptime:ha,_getActiveRequests:pa,_getActiveHandles:ua,reallyExit:zi,_kill:$i,cpuUsage:vo,resourceUsage:Hi,memoryUsage:Vi,kill:Gi,exit:qi,openStdin:Yi,allowedNodeEnvironmentFlags:Ki,assert:ca,features:Ji,_fatalExceptions:Qi,setUncaughtExceptionCaptureCallback:Zi,hasUncaughtExceptionCaptureCallback:da,emitWarning:Ci,nextTick:na,_tickCallback:Xi,_debugProcess:tn,_debugEnd:en,_startProfilerIdleNotifier:rn,_stopProfilerIdleNotifier:on,stdout:nn,stdin:an,stderr:sn,abort:ln,umask:Ai,chdir:Fi,cwd:xi,env:ki,title:Ei,argv:Oi,execArgv:Mi,pid:pn,ppid:un,execPath:cn,debugPort:dn,hrtime:Wo,argv0:hn,_preload_modules:fn,setSourceMapsEnabled:mn}}),Mt=Ne(()=>{Kp()}),We={};Xr(We,{Buffer:()=>Go,INSPECT_MAX_BYTES:()=>ma,default:()=>mr,kMaxLength:()=>ya});function Jp(){if(On)return so;On=!0,so.byteLength=u,so.toByteArray=c,so.fromByteArray=b;for(var t=[],o=[],e=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,n=p.length;f<n;++f)t[f]=p[f],o[p.charCodeAt(f)]=f;o[45]=62,o[95]=63;function s(w){var _=w.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=w.indexOf("=");I===-1&&(I=_);var x=I===_?0:4-I%4;return[I,x]}function u(w){var _=s(w),I=_[0],x=_[1];return(I+x)*3/4-x}function l(w,_,I){return(_+I)*3/4-I}function c(w){var _,I=s(w),x=I[0],Y=I[1],z=new e(l(w,x,Y)),M=0,$=Y>0?x-4:x,X;for(X=0;X<$;X+=4)_=o[w.charCodeAt(X)]<<18|o[w.charCodeAt(X+1)]<<12|o[w.charCodeAt(X+2)]<<6|o[w.charCodeAt(X+3)],z[M++]=_>>16&255,z[M++]=_>>8&255,z[M++]=_&255;return Y===2&&(_=o[w.charCodeAt(X)]<<2|o[w.charCodeAt(X+1)]>>4,z[M++]=_&255),Y===1&&(_=o[w.charCodeAt(X)]<<10|o[w.charCodeAt(X+1)]<<4|o[w.charCodeAt(X+2)]>>2,z[M++]=_>>8&255,z[M++]=_&255),z}function m(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function v(w,_,I){for(var x,Y=[],z=_;z<I;z+=3)x=(w[z]<<16&16711680)+(w[z+1]<<8&65280)+(w[z+2]&255),Y.push(m(x));return Y.join("")}function b(w){for(var _,I=w.length,x=I%3,Y=[],z=16383,M=0,$=I-x;M<$;M+=z)Y.push(v(w,M,M+z>$?$:M+z));return x===1?(_=w[I-1],Y.push(t[_>>2]+t[_<<4&63]+"==")):x===2&&(_=(w[I-2]<<8)+w[I-1],Y.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),Y.join("")}return so}function Qp(){return Mn?bo:(Mn=!0,bo.read=function(t,o,e,p,f){var n,s,u=f*8-p-1,l=(1<<u)-1,c=l>>1,m=-7,v=e?f-1:0,b=e?-1:1,w=t[o+v];for(v+=b,n=w&(1<<-m)-1,w>>=-m,m+=u;m>0;n=n*256+t[o+v],v+=b,m-=8);for(s=n&(1<<-m)-1,n>>=-m,m+=p;m>0;s=s*256+t[o+v],v+=b,m-=8);if(n===0)n=1-c;else{if(n===l)return s?NaN:(w?-1:1)*(1/0);s=s+Math.pow(2,p),n=n-c}return(w?-1:1)*s*Math.pow(2,n-p)},bo.write=function(t,o,e,p,f,n){var s,u,l,c=n*8-f-1,m=(1<<c)-1,v=m>>1,b=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:n-1,_=p?1:-1,I=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,s=m):(s=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+v>=1?o+=b/l:o+=b*Math.pow(2,1-v),o*l>=2&&(s++,l/=2),s+v>=m?(u=0,s=m):s+v>=1?(u=(o*l-1)*Math.pow(2,f),s=s+v):(u=o*Math.pow(2,v-1)*Math.pow(2,f),s=0));f>=8;t[e+w]=u&255,w+=_,u/=256,f-=8);for(s=s<<f|u,c+=f;c>0;t[e+w]=s&255,w+=_,s/=256,c-=8);t[e+w-_]|=I*128},bo)}function Zp(){if(Bn)return Mr;Bn=!0;let t=Jp(),o=Qp(),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Mr.Buffer=s,Mr.SlowBuffer=Y,Mr.INSPECT_MAX_BYTES=50;let p=2147483647;Mr.kMaxLength=p,s.TYPED_ARRAY_SUPPORT=f(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{let h=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(h,d),h.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function n(h){if(h>p)throw new RangeError('The value "'+h+'" is invalid for option "size"');let d=new Uint8Array(h);return Object.setPrototypeOf(d,s.prototype),d}function s(h,d,g){if(typeof h=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(h)}return u(h,d,g)}s.poolSize=8192;function u(h,d,g){if(typeof h=="string")return v(h,d);if(ArrayBuffer.isView(h))return w(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(rt(h,ArrayBuffer)||h&&rt(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rt(h,SharedArrayBuffer)||h&&rt(h.buffer,SharedArrayBuffer)))return _(h,d,g);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=h.valueOf&&h.valueOf();if(O!=null&&O!==h)return s.from(O,d,g);let D=I(h);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return s.from(h[Symbol.toPrimitive]("string"),d,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}s.from=function(h,d,g){return u(h,d,g)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function c(h,d,g){return l(h),h<=0?n(h):d!==void 0?typeof g=="string"?n(h).fill(d,g):n(h).fill(d):n(h)}s.alloc=function(h,d,g){return c(h,d,g)};function m(h){return l(h),n(h<0?0:x(h)|0)}s.allocUnsafe=function(h){return m(h)},s.allocUnsafeSlow=function(h){return m(h)};function v(h,d){if((typeof d!="string"||d==="")&&(d="utf8"),!s.isEncoding(d))throw new TypeError("Unknown encoding: "+d);let g=z(h,d)|0,O=n(g),D=O.write(h,d);return D!==g&&(O=O.slice(0,D)),O}function b(h){let d=h.length<0?0:x(h.length)|0,g=n(d);for(let O=0;O<d;O+=1)g[O]=h[O]&255;return g}function w(h){if(rt(h,Uint8Array)){let d=new Uint8Array(h);return _(d.buffer,d.byteOffset,d.byteLength)}return b(h)}function _(h,d,g){if(d<0||h.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<d+(g||0))throw new RangeError('"length" is outside of buffer bounds');let O;return d===void 0&&g===void 0?O=new Uint8Array(h):g===void 0?O=new Uint8Array(h,d):O=new Uint8Array(h,d,g),Object.setPrototypeOf(O,s.prototype),O}function I(h){if(s.isBuffer(h)){let d=x(h.length)|0,g=n(d);return g.length===0||h.copy(g,0,0,d),g}if(h.length!==void 0)return typeof h.length!="number"||U(h.length)?n(0):b(h);if(h.type==="Buffer"&&Array.isArray(h.data))return b(h.data)}function x(h){if(h>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return h|0}function Y(h){return+h!=h&&(h=0),s.alloc(+h)}s.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==s.prototype},s.compare=function(h,d){if(rt(h,Uint8Array)&&(h=s.from(h,h.offset,h.byteLength)),rt(d,Uint8Array)&&(d=s.from(d,d.offset,d.byteLength)),!s.isBuffer(h)||!s.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===d)return 0;let g=h.length,O=d.length;for(let D=0,k=Math.min(g,O);D<k;++D)if(h[D]!==d[D]){g=h[D],O=d[D];break}return g<O?-1:O<g?1:0},s.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(h,d){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return s.alloc(0);let g;if(d===void 0)for(d=0,g=0;g<h.length;++g)d+=h[g].length;let O=s.allocUnsafe(d),D=0;for(g=0;g<h.length;++g){let k=h[g];if(rt(k,Uint8Array))D+k.length>O.length?(s.isBuffer(k)||(k=s.from(k)),k.copy(O,D)):Uint8Array.prototype.set.call(O,k,D);else if(s.isBuffer(k))k.copy(O,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=k.length}return O};function z(h,d){if(s.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||rt(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);let g=h.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&g===0)return 0;let D=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return W(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return at(h).length;default:if(D)return O?-1:W(h).length;d=(""+d).toLowerCase(),D=!0}}s.byteLength=z;function M(h,d,g){let O=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,d>>>=0,g<=d))return"";for(h||(h="utf8");;)switch(h){case"hex":return lt(this,d,g);case"utf8":case"utf-8":return Z(this,d,g);case"ascii":return ut(this,d,g);case"latin1":case"binary":return It(this,d,g);case"base64":return L(this,d,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kt(this,d,g);default:if(O)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),O=!0}}s.prototype._isBuffer=!0;function $(h,d,g){let O=h[d];h[d]=h[g],h[g]=O}s.prototype.swap16=function(){let h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<h;d+=2)$(this,d,d+1);return this},s.prototype.swap32=function(){let h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<h;d+=4)$(this,d,d+3),$(this,d+1,d+2);return this},s.prototype.swap64=function(){let h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<h;d+=8)$(this,d,d+7),$(this,d+1,d+6),$(this,d+2,d+5),$(this,d+3,d+4);return this},s.prototype.toString=function(){let h=this.length;return h===0?"":arguments.length===0?Z(this,0,h):M.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(h){if(!s.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:s.compare(this,h)===0},s.prototype.inspect=function(){let h="",d=Mr.INSPECT_MAX_BYTES;return h=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(h+=" ... "),"<Buffer "+h+">"},e&&(s.prototype[e]=s.prototype.inspect),s.prototype.compare=function(h,d,g,O,D){if(rt(h,Uint8Array)&&(h=s.from(h,h.offset,h.byteLength)),!s.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(d===void 0&&(d=0),g===void 0&&(g=h?h.length:0),O===void 0&&(O=0),D===void 0&&(D=this.length),d<0||g>h.length||O<0||D>this.length)throw new RangeError("out of range index");if(O>=D&&d>=g)return 0;if(O>=D)return-1;if(d>=g)return 1;if(d>>>=0,g>>>=0,O>>>=0,D>>>=0,this===h)return 0;let k=D-O,mt=g-d,Dt=Math.min(k,mt),P=this.slice(O,D),$t=h.slice(d,g);for(let jt=0;jt<Dt;++jt)if(P[jt]!==$t[jt]){k=P[jt],mt=$t[jt];break}return k<mt?-1:mt<k?1:0};function X(h,d,g,O,D){if(h.length===0)return-1;if(typeof g=="string"?(O=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,U(g)&&(g=D?0:h.length-1),g<0&&(g=h.length+g),g>=h.length){if(D)return-1;g=h.length-1}else if(g<0)if(D)g=0;else return-1;if(typeof d=="string"&&(d=s.from(d,O)),s.isBuffer(d))return d.length===0?-1:j(h,d,g,O,D);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(h,d,g):Uint8Array.prototype.lastIndexOf.call(h,d,g):j(h,[d],g,O,D);throw new TypeError("val must be string, number or Buffer")}function j(h,d,g,O,D){let k=1,mt=h.length,Dt=d.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(h.length<2||d.length<2)return-1;k=2,mt/=2,Dt/=2,g/=2}function P(jt,Lt){return k===1?jt[Lt]:jt.readUInt16BE(Lt*k)}let $t;if(D){let jt=-1;for($t=g;$t<mt;$t++)if(P(h,$t)===P(d,jt===-1?0:$t-jt)){if(jt===-1&&(jt=$t),$t-jt+1===Dt)return jt*k}else jt!==-1&&($t-=$t-jt),jt=-1}else for(g+Dt>mt&&(g=mt-Dt),$t=g;$t>=0;$t--){let jt=!0;for(let Lt=0;Lt<Dt;Lt++)if(P(h,$t+Lt)!==P(d,Lt)){jt=!1;break}if(jt)return $t}return-1}s.prototype.includes=function(h,d,g){return this.indexOf(h,d,g)!==-1},s.prototype.indexOf=function(h,d,g){return X(this,h,d,g,!0)},s.prototype.lastIndexOf=function(h,d,g){return X(this,h,d,g,!1)};function T(h,d,g,O){g=Number(g)||0;let D=h.length-g;O?(O=Number(O),O>D&&(O=D)):O=D;let k=d.length;O>k/2&&(O=k/2);let mt;for(mt=0;mt<O;++mt){let Dt=parseInt(d.substr(mt*2,2),16);if(U(Dt))return mt;h[g+mt]=Dt}return mt}function K(h,d,g,O){return H(W(d,h.length-g),h,g,O)}function nt(h,d,g,O){return H(F(d),h,g,O)}function q(h,d,g,O){return H(at(d),h,g,O)}function ft(h,d,g,O){return H(ot(d,h.length-g),h,g,O)}s.prototype.write=function(h,d,g,O){if(d===void 0)O="utf8",g=this.length,d=0;else if(g===void 0&&typeof d=="string")O=d,g=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(g)?(g=g>>>0,O===void 0&&(O="utf8")):(O=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let D=this.length-d;if((g===void 0||g>D)&&(g=D),h.length>0&&(g<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let k=!1;for(;;)switch(O){case"hex":return T(this,h,d,g);case"utf8":case"utf-8":return K(this,h,d,g);case"ascii":case"latin1":case"binary":return nt(this,h,d,g);case"base64":return q(this,h,d,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ft(this,h,d,g);default:if(k)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),k=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(h,d,g){return d===0&&g===h.length?t.fromByteArray(h):t.fromByteArray(h.slice(d,g))}function Z(h,d,g){g=Math.min(h.length,g);let O=[],D=d;for(;D<g;){let k=h[D],mt=null,Dt=k>239?4:k>223?3:k>191?2:1;if(D+Dt<=g){let P,$t,jt,Lt;switch(Dt){case 1:k<128&&(mt=k);break;case 2:P=h[D+1],(P&192)===128&&(Lt=(k&31)<<6|P&63,Lt>127&&(mt=Lt));break;case 3:P=h[D+1],$t=h[D+2],(P&192)===128&&($t&192)===128&&(Lt=(k&15)<<12|(P&63)<<6|$t&63,Lt>2047&&(Lt<55296||Lt>57343)&&(mt=Lt));break;case 4:P=h[D+1],$t=h[D+2],jt=h[D+3],(P&192)===128&&($t&192)===128&&(jt&192)===128&&(Lt=(k&15)<<18|(P&63)<<12|($t&63)<<6|jt&63,Lt>65535&&Lt<1114112&&(mt=Lt))}}mt===null?(mt=65533,Dt=1):mt>65535&&(mt-=65536,O.push(mt>>>10&1023|55296),mt=56320|mt&1023),O.push(mt),D+=Dt}return pt(O)}let wt=4096;function pt(h){let d=h.length;if(d<=wt)return String.fromCharCode.apply(String,h);let g="",O=0;for(;O<d;)g+=String.fromCharCode.apply(String,h.slice(O,O+=wt));return g}function ut(h,d,g){let O="";g=Math.min(h.length,g);for(let D=d;D<g;++D)O+=String.fromCharCode(h[D]&127);return O}function It(h,d,g){let O="";g=Math.min(h.length,g);for(let D=d;D<g;++D)O+=String.fromCharCode(h[D]);return O}function lt(h,d,g){let O=h.length;(!d||d<0)&&(d=0),(!g||g<0||g>O)&&(g=O);let D="";for(let k=d;k<g;++k)D+=V[h[k]];return D}function kt(h,d,g){let O=h.slice(d,g),D="";for(let k=0;k<O.length-1;k+=2)D+=String.fromCharCode(O[k]+O[k+1]*256);return D}s.prototype.slice=function(h,d){let g=this.length;h=~~h,d=d===void 0?g:~~d,h<0?(h+=g,h<0&&(h=0)):h>g&&(h=g),d<0?(d+=g,d<0&&(d=0)):d>g&&(d=g),d<h&&(d=h);let O=this.subarray(h,d);return Object.setPrototypeOf(O,s.prototype),O};function _t(h,d,g){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+d>g)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(h,d,g){h=h>>>0,d=d>>>0,g||_t(h,d,this.length);let O=this[h],D=1,k=0;for(;++k<d&&(D*=256);)O+=this[h+k]*D;return O},s.prototype.readUintBE=s.prototype.readUIntBE=function(h,d,g){h=h>>>0,d=d>>>0,g||_t(h,d,this.length);let O=this[h+--d],D=1;for(;d>0&&(D*=256);)O+=this[h+--d]*D;return O},s.prototype.readUint8=s.prototype.readUInt8=function(h,d){return h=h>>>0,d||_t(h,1,this.length),this[h]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(h,d){return h=h>>>0,d||_t(h,2,this.length),this[h]|this[h+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(h,d){return h=h>>>0,d||_t(h,2,this.length),this[h]<<8|this[h+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(h,d){return h=h>>>0,d||_t(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(h,d){return h=h>>>0,d||_t(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},s.prototype.readBigUInt64LE=et(function(h){h=h>>>0,bt(h,"offset");let d=this[h],g=this[h+7];(d===void 0||g===void 0)&&it(h,this.length-8);let O=d+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,D=this[++h]+this[++h]*2**8+this[++h]*2**16+g*2**24;return BigInt(O)+(BigInt(D)<<BigInt(32))}),s.prototype.readBigUInt64BE=et(function(h){h=h>>>0,bt(h,"offset");let d=this[h],g=this[h+7];(d===void 0||g===void 0)&&it(h,this.length-8);let O=d*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],D=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+g;return(BigInt(O)<<BigInt(32))+BigInt(D)}),s.prototype.readIntLE=function(h,d,g){h=h>>>0,d=d>>>0,g||_t(h,d,this.length);let O=this[h],D=1,k=0;for(;++k<d&&(D*=256);)O+=this[h+k]*D;return D*=128,O>=D&&(O-=Math.pow(2,8*d)),O},s.prototype.readIntBE=function(h,d,g){h=h>>>0,d=d>>>0,g||_t(h,d,this.length);let O=d,D=1,k=this[h+--O];for(;O>0&&(D*=256);)k+=this[h+--O]*D;return D*=128,k>=D&&(k-=Math.pow(2,8*d)),k},s.prototype.readInt8=function(h,d){return h=h>>>0,d||_t(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},s.prototype.readInt16LE=function(h,d){h=h>>>0,d||_t(h,2,this.length);let g=this[h]|this[h+1]<<8;return g&32768?g|4294901760:g},s.prototype.readInt16BE=function(h,d){h=h>>>0,d||_t(h,2,this.length);let g=this[h+1]|this[h]<<8;return g&32768?g|4294901760:g},s.prototype.readInt32LE=function(h,d){return h=h>>>0,d||_t(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},s.prototype.readInt32BE=function(h,d){return h=h>>>0,d||_t(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},s.prototype.readBigInt64LE=et(function(h){h=h>>>0,bt(h,"offset");let d=this[h],g=this[h+7];(d===void 0||g===void 0)&&it(h,this.length-8);let O=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(g<<24);return(BigInt(O)<<BigInt(32))+BigInt(d+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),s.prototype.readBigInt64BE=et(function(h){h=h>>>0,bt(h,"offset");let d=this[h],g=this[h+7];(d===void 0||g===void 0)&&it(h,this.length-8);let O=(d<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(O)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+g)}),s.prototype.readFloatLE=function(h,d){return h=h>>>0,d||_t(h,4,this.length),o.read(this,h,!0,23,4)},s.prototype.readFloatBE=function(h,d){return h=h>>>0,d||_t(h,4,this.length),o.read(this,h,!1,23,4)},s.prototype.readDoubleLE=function(h,d){return h=h>>>0,d||_t(h,8,this.length),o.read(this,h,!0,52,8)},s.prototype.readDoubleBE=function(h,d){return h=h>>>0,d||_t(h,8,this.length),o.read(this,h,!1,52,8)};function Wt(h,d,g,O,D,k){if(!s.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>D||d<k)throw new RangeError('"value" argument is out of bounds');if(g+O>h.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(h,d,g,O){if(h=+h,d=d>>>0,g=g>>>0,!O){let mt=Math.pow(2,8*g)-1;Wt(this,h,d,g,mt,0)}let D=1,k=0;for(this[d]=h&255;++k<g&&(D*=256);)this[d+k]=h/D&255;return d+g},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(h,d,g,O){if(h=+h,d=d>>>0,g=g>>>0,!O){let mt=Math.pow(2,8*g)-1;Wt(this,h,d,g,mt,0)}let D=g-1,k=1;for(this[d+D]=h&255;--D>=0&&(k*=256);)this[d+D]=h/k&255;return d+g},s.prototype.writeUint8=s.prototype.writeUInt8=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,1,255,0),this[d]=h&255,d+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,2,65535,0),this[d]=h&255,this[d+1]=h>>>8,d+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,2,65535,0),this[d]=h>>>8,this[d+1]=h&255,d+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,4,4294967295,0),this[d+3]=h>>>24,this[d+2]=h>>>16,this[d+1]=h>>>8,this[d]=h&255,d+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,4,4294967295,0),this[d]=h>>>24,this[d+1]=h>>>16,this[d+2]=h>>>8,this[d+3]=h&255,d+4};function B(h,d,g,O,D){St(d,O,D,h,g,7);let k=Number(d&BigInt(4294967295));h[g++]=k,k=k>>8,h[g++]=k,k=k>>8,h[g++]=k,k=k>>8,h[g++]=k;let mt=Number(d>>BigInt(32)&BigInt(4294967295));return h[g++]=mt,mt=mt>>8,h[g++]=mt,mt=mt>>8,h[g++]=mt,mt=mt>>8,h[g++]=mt,g}function tt(h,d,g,O,D){St(d,O,D,h,g,7);let k=Number(d&BigInt(4294967295));h[g+7]=k,k=k>>8,h[g+6]=k,k=k>>8,h[g+5]=k,k=k>>8,h[g+4]=k;let mt=Number(d>>BigInt(32)&BigInt(4294967295));return h[g+3]=mt,mt=mt>>8,h[g+2]=mt,mt=mt>>8,h[g+1]=mt,mt=mt>>8,h[g]=mt,g+8}s.prototype.writeBigUInt64LE=et(function(h,d=0){return B(this,h,d,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=et(function(h,d=0){return tt(this,h,d,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(h,d,g,O){if(h=+h,d=d>>>0,!O){let Dt=Math.pow(2,8*g-1);Wt(this,h,d,g,Dt-1,-Dt)}let D=0,k=1,mt=0;for(this[d]=h&255;++D<g&&(k*=256);)h<0&&mt===0&&this[d+D-1]!==0&&(mt=1),this[d+D]=(h/k>>0)-mt&255;return d+g},s.prototype.writeIntBE=function(h,d,g,O){if(h=+h,d=d>>>0,!O){let Dt=Math.pow(2,8*g-1);Wt(this,h,d,g,Dt-1,-Dt)}let D=g-1,k=1,mt=0;for(this[d+D]=h&255;--D>=0&&(k*=256);)h<0&&mt===0&&this[d+D+1]!==0&&(mt=1),this[d+D]=(h/k>>0)-mt&255;return d+g},s.prototype.writeInt8=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,1,127,-128),h<0&&(h=255+h+1),this[d]=h&255,d+1},s.prototype.writeInt16LE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,2,32767,-32768),this[d]=h&255,this[d+1]=h>>>8,d+2},s.prototype.writeInt16BE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,2,32767,-32768),this[d]=h>>>8,this[d+1]=h&255,d+2},s.prototype.writeInt32LE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,4,2147483647,-2147483648),this[d]=h&255,this[d+1]=h>>>8,this[d+2]=h>>>16,this[d+3]=h>>>24,d+4},s.prototype.writeInt32BE=function(h,d,g){return h=+h,d=d>>>0,g||Wt(this,h,d,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[d]=h>>>24,this[d+1]=h>>>16,this[d+2]=h>>>8,this[d+3]=h&255,d+4},s.prototype.writeBigInt64LE=et(function(h,d=0){return B(this,h,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=et(function(h,d=0){return tt(this,h,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function st(h,d,g,O,D,k){if(g+O>h.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Tt(h,d,g,O,D){return d=+d,g=g>>>0,D||st(h,d,g,4),o.write(h,d,g,O,23,4),g+4}s.prototype.writeFloatLE=function(h,d,g){return Tt(this,h,d,!0,g)},s.prototype.writeFloatBE=function(h,d,g){return Tt(this,h,d,!1,g)};function ht(h,d,g,O,D){return d=+d,g=g>>>0,D||st(h,d,g,8),o.write(h,d,g,O,52,8),g+8}s.prototype.writeDoubleLE=function(h,d,g){return ht(this,h,d,!0,g)},s.prototype.writeDoubleBE=function(h,d,g){return ht(this,h,d,!1,g)},s.prototype.copy=function(h,d,g,O){if(!s.isBuffer(h))throw new TypeError("argument should be a Buffer");if(g||(g=0),!O&&O!==0&&(O=this.length),d>=h.length&&(d=h.length),d||(d=0),O>0&&O<g&&(O=g),O===g||h.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),h.length-d<O-g&&(O=h.length-d+g);let D=O-g;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,g,O):Uint8Array.prototype.set.call(h,this.subarray(g,O),d),D},s.prototype.fill=function(h,d,g,O){if(typeof h=="string"){if(typeof d=="string"?(O=d,d=0,g=this.length):typeof g=="string"&&(O=g,g=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!s.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(h.length===1){let k=h.charCodeAt(0);(O==="utf8"&&k<128||O==="latin1")&&(h=k)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(d<0||this.length<d||this.length<g)throw new RangeError("Out of range index");if(g<=d)return this;d=d>>>0,g=g===void 0?this.length:g>>>0,h||(h=0);let D;if(typeof h=="number")for(D=d;D<g;++D)this[D]=h;else{let k=s.isBuffer(h)?h:s.from(h,O),mt=k.length;if(mt===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(D=0;D<g-d;++D)this[D+d]=k[D%mt]}return this};let A={};function C(h,d,g){A[h]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}C("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),C("ERR_INVALID_ARG_TYPE",function(h,d){return`The "${h}" argument must be of type number. Received type ${typeof d}`},TypeError),C("ERR_OUT_OF_RANGE",function(h,d,g){let O=`The value of "${h}" is out of range.`,D=g;return Number.isInteger(g)&&Math.abs(g)>2**32?D=ct(String(g)):typeof g=="bigint"&&(D=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(D=ct(D)),D+="n"),O+=` It must be ${d}. Received ${D}`,O},RangeError);function ct(h){let d="",g=h.length,O=h[0]==="-"?1:0;for(;g>=O+4;g-=3)d=`_${h.slice(g-3,g)}${d}`;return`${h.slice(0,g)}${d}`}function Et(h,d,g){bt(d,"offset"),(h[d]===void 0||h[d+g]===void 0)&&it(d,h.length-(g+1))}function St(h,d,g,O,D,k){if(h>g||h<d){let mt=typeof d=="bigint"?"n":"",Dt;throw d===0||d===BigInt(0)?Dt=`>= 0${mt} and < 2${mt} ** ${(k+1)*8}${mt}`:Dt=`>= -(2${mt} ** ${(k+1)*8-1}${mt}) and < 2 ** ${(k+1)*8-1}${mt}`,new A.ERR_OUT_OF_RANGE("value",Dt,h)}Et(O,D,k)}function bt(h,d){if(typeof h!="number")throw new A.ERR_INVALID_ARG_TYPE(d,"number",h)}function it(h,d,g){throw Math.floor(h)!==h?(bt(h,g),new A.ERR_OUT_OF_RANGE("offset","an integer",h)):d<0?new A.ERR_BUFFER_OUT_OF_BOUNDS:new A.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${d}`,h)}let J=/[^+/0-9A-Za-z-_]/g;function R(h){if(h=h.split("=")[0],h=h.trim().replace(J,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function W(h,d){d=d||1/0;let g,O=h.length,D=null,k=[];for(let mt=0;mt<O;++mt){if(g=h.charCodeAt(mt),g>55295&&g<57344){if(!D){if(g>56319){(d-=3)>-1&&k.push(239,191,189);continue}else if(mt+1===O){(d-=3)>-1&&k.push(239,191,189);continue}D=g;continue}if(g<56320){(d-=3)>-1&&k.push(239,191,189),D=g;continue}g=(D-55296<<10|g-56320)+65536}else D&&(d-=3)>-1&&k.push(239,191,189);if(D=null,g<128){if((d-=1)<0)break;k.push(g)}else if(g<2048){if((d-=2)<0)break;k.push(g>>6|192,g&63|128)}else if(g<65536){if((d-=3)<0)break;k.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((d-=4)<0)break;k.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return k}function F(h){let d=[];for(let g=0;g<h.length;++g)d.push(h.charCodeAt(g)&255);return d}function ot(h,d){let g,O,D,k=[];for(let mt=0;mt<h.length&&!((d-=2)<0);++mt)g=h.charCodeAt(mt),O=g>>8,D=g%256,k.push(D),k.push(O);return k}function at(h){return t.toByteArray(R(h))}function H(h,d,g,O){let D;for(D=0;D<O&&!(D+g>=d.length||D>=h.length);++D)d[D+g]=h[D];return D}function rt(h,d){return h instanceof d||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===d.name}function U(h){return h!==h}let V=function(){let h="0123456789abcdef",d=new Array(256);for(let g=0;g<16;++g){let O=g*16;for(let D=0;D<16;++D)d[O+D]=h[g]+h[D]}return d}();function et(h){return typeof BigInt>"u"?gt:h}function gt(){throw new Error("BigInt not supported")}return Mr}var so,On,bo,Mn,Mr,Bn,mr,Go,ma,ya,je=Ne(()=>{Ot(),Bt(),Mt(),so={},On=!1,bo={},Mn=!1,Mr={},Bn=!1,mr=Zp(),mr.Buffer,mr.SlowBuffer,mr.INSPECT_MAX_BYTES,mr.kMaxLength,Go=mr.Buffer,ma=mr.INSPECT_MAX_BYTES,ya=mr.kMaxLength}),Bt=Ne(()=>{je()}),Xp=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(e){this.aliasToTopic={},this.max=e}put(e,p){return p===0||p>this.max?!1:(this.aliasToTopic[p]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};t.default=o}),Pe=Nt((t,o)=>{Ot(),Bt(),Mt(),o.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,p){return e.includes(p)},ArrayPrototypeIndexOf(e,p){return e.indexOf(p)},ArrayPrototypeJoin(e,p){return e.join(p)},ArrayPrototypeMap(e,p){return e.map(p)},ArrayPrototypePop(e,p){return e.pop(p)},ArrayPrototypePush(e,p){return e.push(p)},ArrayPrototypeSlice(e,p,f){return e.slice(p,f)},Error,FunctionPrototypeCall(e,p,...f){return e.call(p,...f)},FunctionPrototypeSymbolHasInstance(e,p){return Function.prototype[Symbol.hasInstance].call(e,p)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,p){return Object.defineProperties(e,p)},ObjectDefineProperty(e,p,f){return Object.defineProperty(e,p,f)},ObjectGetOwnPropertyDescriptor(e,p){return Object.getOwnPropertyDescriptor(e,p)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,p){return Object.setPrototypeOf(e,p)},Promise,PromisePrototypeCatch(e,p){return e.catch(p)},PromisePrototypeThen(e,p,f){return e.then(p,f)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,p){return e.test(p)},SafeSet:Set,String,StringPrototypeSlice(e,p,f){return e.slice(p,f)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,p,f){return e.set(p,f)},Uint8Array}}),_r=Nt((t,o)=>{Ot(),Bt(),Mt();var e=(je(),fe(We)),p=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||e.Blob,n=typeof f<"u"?function(u){return u instanceof f}:function(u){return!1},s=class extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let l="";for(let c=0;c<u.length;c++)l+=`    ${u[c].stack}
`;super(l),this.name="AggregateError",this.errors=u}};o.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(u){let l=!1;return function(...c){l||(l=!0,u.apply(this,c))}},createDeferredPromise:function(){let u,l;return{promise:new Promise((c,m)=>{u=c,l=m}),resolve:u,reject:l}},promisify(u){return new Promise((l,c)=>{u((m,...v)=>m?c(m):l(...v))})},debuglog(){return function(){}},format(u,...l){return u.replace(/%([sdifj])/g,function(...[c,m]){let v=l.shift();return m==="f"?v.toFixed(6):m==="j"?JSON.stringify(v):m==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(u){switch(typeof u){case"string":if(u.includes("'"))if(u.includes('"')){if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}else return`"${u}"`;return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}},types:{isAsyncFunction(u){return u instanceof p},isArrayBufferView(u){return ArrayBuffer.isView(u)}},isBlob:n},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Zn=Nt((t,o)=>{Ot(),Bt(),Mt();var{AbortController:e,AbortSignal:p}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=e,o.exports.AbortSignal=p,o.exports.default=e}),Ve=Nt((t,o)=>{Ot(),Bt(),Mt();var{format:e,inspect:p,AggregateError:f}=_r(),n=globalThis.AggregateError||f,s=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",m={};function v(z,M){if(!z)throw new m.ERR_INTERNAL_ASSERTION(M)}function b(z){let M="",$=z.length,X=z[0]==="-"?1:0;for(;$>=X+4;$-=3)M=`_${z.slice($-3,$)}${M}`;return`${z.slice(0,$)}${M}`}function w(z,M,$){if(typeof M=="function")return v(M.length<=$.length,`Code: ${z}; The provided arguments length (${$.length}) does not match the required ones (${M.length}).`),M(...$);let X=(M.match(/%[dfijoOs]/g)||[]).length;return v(X===$.length,`Code: ${z}; The provided arguments length (${$.length}) does not match the required ones (${X}).`),$.length===0?M:e(M,...$)}function _(z,M,$){$||($=Error);class X extends ${constructor(...T){super(w(z,M,T))}toString(){return`${this.name} [${z}]: ${this.message}`}}Object.defineProperties(X.prototype,{name:{value:$.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),X.prototype.code=z,X.prototype[s]=!0,m[z]=X}function I(z){let M=c+z.name;return Object.defineProperty(z,"name",{value:M}),z}function x(z,M){if(z&&M&&z!==M){if(Array.isArray(M.errors))return M.errors.push(z),M;let $=new n([M,z],M.message);return $.code=M.code,$}return z||M}var Y=class extends Error{constructor(z="The operation was aborted",M=void 0){if(M!==void 0&&typeof M!="object")throw new m.ERR_INVALID_ARG_TYPE("options","Object",M);super(z,M),this.code="ABORT_ERR",this.name="AbortError"}};_("ERR_ASSERTION","%s",Error),_("ERR_INVALID_ARG_TYPE",(z,M,$)=>{v(typeof z=="string","'name' must be a string"),Array.isArray(M)||(M=[M]);let X="The ";z.endsWith(" argument")?X+=`${z} `:X+=`"${z}" ${z.includes(".")?"property":"argument"} `,X+="must be ";let j=[],T=[],K=[];for(let q of M)v(typeof q=="string","All expected entries have to be of type string"),u.includes(q)?j.push(q.toLowerCase()):l.test(q)?T.push(q):(v(q!=="object",'The value "object" should be written as "Object"'),K.push(q));if(T.length>0){let q=j.indexOf("object");q!==-1&&(j.splice(j,q,1),T.push("Object"))}if(j.length>0){switch(j.length){case 1:X+=`of type ${j[0]}`;break;case 2:X+=`one of type ${j[0]} or ${j[1]}`;break;default:{let q=j.pop();X+=`one of type ${j.join(", ")}, or ${q}`}}(T.length>0||K.length>0)&&(X+=" or ")}if(T.length>0){switch(T.length){case 1:X+=`an instance of ${T[0]}`;break;case 2:X+=`an instance of ${T[0]} or ${T[1]}`;break;default:{let q=T.pop();X+=`an instance of ${T.join(", ")}, or ${q}`}}K.length>0&&(X+=" or ")}switch(K.length){case 0:break;case 1:K[0].toLowerCase()!==K[0]&&(X+="an "),X+=`${K[0]}`;break;case 2:X+=`one of ${K[0]} or ${K[1]}`;break;default:{let q=K.pop();X+=`one of ${K.join(", ")}, or ${q}`}}if($==null)X+=`. Received ${$}`;else if(typeof $=="function"&&$.name)X+=`. Received function ${$.name}`;else if(typeof $=="object"){var nt;if((nt=$.constructor)!==null&&nt!==void 0&&nt.name)X+=`. Received an instance of ${$.constructor.name}`;else{let q=p($,{depth:-1});X+=`. Received ${q}`}}else{let q=p($,{colors:!1});q.length>25&&(q=`${q.slice(0,25)}...`),X+=`. Received type ${typeof $} (${q})`}return X},TypeError),_("ERR_INVALID_ARG_VALUE",(z,M,$="is invalid")=>{let X=p(M);return X.length>128&&(X=X.slice(0,128)+"..."),`The ${z.includes(".")?"property":"argument"} '${z}' ${$}. Received ${X}`},TypeError),_("ERR_INVALID_RETURN_VALUE",(z,M,$)=>{var X;let j=$!=null&&(X=$.constructor)!==null&&X!==void 0&&X.name?`instance of ${$.constructor.name}`:`type ${typeof $}`;return`Expected ${z} to be returned from the "${M}" function but got ${j}.`},TypeError),_("ERR_MISSING_ARGS",(...z)=>{v(z.length>0,"At least one arg needs to be specified");let M,$=z.length;switch(z=(Array.isArray(z)?z:[z]).map(X=>`"${X}"`).join(" or "),$){case 1:M+=`The ${z[0]} argument`;break;case 2:M+=`The ${z[0]} and ${z[1]} arguments`;break;default:{let X=z.pop();M+=`The ${z.join(", ")}, and ${X} arguments`}break}return`${M} must be specified`},TypeError),_("ERR_OUT_OF_RANGE",(z,M,$)=>{v(M,'Missing "range" argument');let X;return Number.isInteger($)&&Math.abs($)>2**32?X=b(String($)):typeof $=="bigint"?(X=String($),($>2n**32n||$<-(2n**32n))&&(X=b(X)),X+="n"):X=p($),`The value of "${z}" is out of range. It must be ${M}. Received ${X}`},RangeError),_("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),_("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),_("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),_("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),_("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),_("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),_("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),_("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),_("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),_("ERR_STREAM_WRITE_AFTER_END","write after end",Error),_("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:Y,aggregateTwoErrors:I(x),hideStackFrames:I,codes:m}}),Xo=Nt((t,o)=>{Ot(),Bt(),Mt();var{ArrayIsArray:e,ArrayPrototypeIncludes:p,ArrayPrototypeJoin:f,ArrayPrototypeMap:n,NumberIsInteger:s,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:m,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:b,String:w,StringPrototypeToUpperCase:_,StringPrototypeTrim:I}=Pe(),{hideStackFrames:x,codes:{ERR_SOCKET_BAD_PORT:Y,ERR_INVALID_ARG_TYPE:z,ERR_INVALID_ARG_VALUE:M,ERR_OUT_OF_RANGE:$,ERR_UNKNOWN_SIGNAL:X}}=Ve(),{normalizeEncoding:j}=_r(),{isAsyncFunction:T,isArrayBufferView:K}=_r().types,nt={};function q(H){return H===(H|0)}function ft(H){return H===H>>>0}var L=/^[0-7]+$/,Z="must be a 32-bit unsigned integer or an octal string";function wt(H,rt,U){if(typeof H>"u"&&(H=U),typeof H=="string"){if(b(L,H)===null)throw new M(rt,H,Z);H=m(H,8)}return It(H,rt),H}var pt=x((H,rt,U=c,V=l)=>{if(typeof H!="number")throw new z(rt,"number",H);if(!s(H))throw new $(rt,"an integer",H);if(H<U||H>V)throw new $(rt,`>= ${U} && <= ${V}`,H)}),ut=x((H,rt,U=-2147483648,V=2147483647)=>{if(typeof H!="number")throw new z(rt,"number",H);if(!s(H))throw new $(rt,"an integer",H);if(H<U||H>V)throw new $(rt,`>= ${U} && <= ${V}`,H)}),It=x((H,rt,U=!1)=>{if(typeof H!="number")throw new z(rt,"number",H);if(!s(H))throw new $(rt,"an integer",H);let V=U?1:0,et=4294967295;if(H<V||H>et)throw new $(rt,`>= ${V} && <= ${et}`,H)});function lt(H,rt){if(typeof H!="string")throw new z(rt,"string",H)}function kt(H,rt,U=void 0,V){if(typeof H!="number")throw new z(rt,"number",H);if(U!=null&&H<U||V!=null&&H>V||(U!=null||V!=null)&&u(H))throw new $(rt,`${U!=null?`>= ${U}`:""}${U!=null&&V!=null?" && ":""}${V!=null?`<= ${V}`:""}`,H)}var _t=x((H,rt,U)=>{if(!p(U,H)){let V="must be one of: "+f(n(U,et=>typeof et=="string"?`'${et}'`:w(et)),", ");throw new M(rt,H,V)}});function Wt(H,rt){if(typeof H!="boolean")throw new z(rt,"boolean",H)}function B(H,rt,U){return H==null||!v(H,rt)?U:H[rt]}var tt=x((H,rt,U=null)=>{let V=B(U,"allowArray",!1),et=B(U,"allowFunction",!1);if(!B(U,"nullable",!1)&&H===null||!V&&e(H)||typeof H!="object"&&(!et||typeof H!="function"))throw new z(rt,"Object",H)}),st=x((H,rt)=>{if(H!=null&&typeof H!="object"&&typeof H!="function")throw new z(rt,"a dictionary",H)}),Tt=x((H,rt,U=0)=>{if(!e(H))throw new z(rt,"Array",H);if(H.length<U){let V=`must be longer than ${U}`;throw new M(rt,H,V)}});function ht(H,rt){Tt(H,rt);for(let U=0;U<H.length;U++)lt(H[U],`${rt}[${U}]`)}function A(H,rt){Tt(H,rt);for(let U=0;U<H.length;U++)Wt(H[U],`${rt}[${U}]`)}function C(H,rt="signal"){if(lt(H,rt),nt[H]===void 0)throw nt[_(H)]!==void 0?new X(H+" (signals must use all capital letters)"):new X(H)}var ct=x((H,rt="buffer")=>{if(!K(H))throw new z(rt,["Buffer","TypedArray","DataView"],H)});function Et(H,rt){let U=j(rt),V=H.length;if(U==="hex"&&V%2!==0)throw new M("encoding",rt,`is invalid for data of length ${V}`)}function St(H,rt="Port",U=!0){if(typeof H!="number"&&typeof H!="string"||typeof H=="string"&&I(H).length===0||+H!==+H>>>0||H>65535||H===0&&!U)throw new Y(rt,H,U);return H|0}var bt=x((H,rt)=>{if(H!==void 0&&(H===null||typeof H!="object"||!("aborted"in H)))throw new z(rt,"AbortSignal",H)}),it=x((H,rt)=>{if(typeof H!="function")throw new z(rt,"Function",H)}),J=x((H,rt)=>{if(typeof H!="function"||T(H))throw new z(rt,"Function",H)}),R=x((H,rt)=>{if(H!==void 0)throw new z(rt,"undefined",H)});function W(H,rt,U){if(!p(U,H))throw new z(rt,`('${f(U,"|")}')`,H)}var F=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ot(H,rt){if(typeof H>"u"||!b(F,H))throw new M(rt,H,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function at(H){if(typeof H=="string")return ot(H,"hints"),H;if(e(H)){let rt=H.length,U="";if(rt===0)return U;for(let V=0;V<rt;V++){let et=H[V];ot(et,"hints"),U+=et,V!==rt-1&&(U+=", ")}return U}throw new M("hints",H,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:q,isUint32:ft,parseFileMode:wt,validateArray:Tt,validateStringArray:ht,validateBooleanArray:A,validateBoolean:Wt,validateBuffer:ct,validateDictionary:st,validateEncoding:Et,validateFunction:it,validateInt32:ut,validateInteger:pt,validateNumber:kt,validateObject:tt,validateOneOf:_t,validatePlainFunction:J,validatePort:St,validateSignalName:C,validateString:lt,validateUint32:It,validateUndefined:R,validateUnion:W,validateAbortSignal:bt,validateLinkHeaderValue:at}}),to=Nt((t,o)=>{Ot(),Bt(),Mt();var e=o.exports={},p,f;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=n}catch{p=n}try{typeof clearTimeout=="function"?f=clearTimeout:f=s}catch{f=s}})();function u(Y){if(p===setTimeout)return setTimeout(Y,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(Y,0);try{return p(Y,0)}catch{try{return p.call(null,Y,0)}catch{return p.call(this,Y,0)}}}function l(Y){if(f===clearTimeout)return clearTimeout(Y);if((f===s||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(Y);try{return f(Y)}catch{try{return f.call(null,Y)}catch{return f.call(this,Y)}}}var c=[],m=!1,v,b=-1;function w(){!m||!v||(m=!1,v.length?c=v.concat(c):b=-1,c.length&&_())}function _(){if(!m){var Y=u(w);m=!0;for(var z=c.length;z;){for(v=c,c=[];++b<z;)v&&v[b].run();b=-1,z=c.length}v=null,m=!1,l(Y)}}e.nextTick=function(Y){var z=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)z[M-1]=arguments[M];c.push(new I(Y,z)),c.length===1&&!m&&u(_)};function I(Y,z){this.fun=Y,this.array=z}I.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function x(){}e.on=x,e.addListener=x,e.once=x,e.off=x,e.removeListener=x,e.removeAllListeners=x,e.emit=x,e.prependListener=x,e.prependOnceListener=x,e.listeners=function(Y){return[]},e.binding=function(Y){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(Y){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}),Tr=Nt((t,o)=>{Ot(),Bt(),Mt();var{Symbol:e,SymbolAsyncIterator:p,SymbolIterator:f,SymbolFor:n}=Pe(),s=e("kDestroyed"),u=e("kIsErrored"),l=e("kIsReadable"),c=e("kIsDisturbed"),m=n("nodejs.webstream.isClosedPromise"),v=n("nodejs.webstream.controllerErrorFunction");function b(B,tt=!1){var st;return!!(B&&typeof B.pipe=="function"&&typeof B.on=="function"&&(!tt||typeof B.pause=="function"&&typeof B.resume=="function")&&(!B._writableState||((st=B._readableState)===null||st===void 0?void 0:st.readable)!==!1)&&(!B._writableState||B._readableState))}function w(B){var tt;return!!(B&&typeof B.write=="function"&&typeof B.on=="function"&&(!B._readableState||((tt=B._writableState)===null||tt===void 0?void 0:tt.writable)!==!1))}function _(B){return!!(B&&typeof B.pipe=="function"&&B._readableState&&typeof B.on=="function"&&typeof B.write=="function")}function I(B){return B&&(B._readableState||B._writableState||typeof B.write=="function"&&typeof B.on=="function"||typeof B.pipe=="function"&&typeof B.on=="function")}function x(B){return!!(B&&!I(B)&&typeof B.pipeThrough=="function"&&typeof B.getReader=="function"&&typeof B.cancel=="function")}function Y(B){return!!(B&&!I(B)&&typeof B.getWriter=="function"&&typeof B.abort=="function")}function z(B){return!!(B&&!I(B)&&typeof B.readable=="object"&&typeof B.writable=="object")}function M(B){return x(B)||Y(B)||z(B)}function $(B,tt){return B==null?!1:tt===!0?typeof B[p]=="function":tt===!1?typeof B[f]=="function":typeof B[p]=="function"||typeof B[f]=="function"}function X(B){if(!I(B))return null;let tt=B._writableState,st=B._readableState,Tt=tt||st;return!!(B.destroyed||B[s]||Tt!=null&&Tt.destroyed)}function j(B){if(!w(B))return null;if(B.writableEnded===!0)return!0;let tt=B._writableState;return tt!=null&&tt.errored?!1:typeof(tt==null?void 0:tt.ended)!="boolean"?null:tt.ended}function T(B,tt){if(!w(B))return null;if(B.writableFinished===!0)return!0;let st=B._writableState;return st!=null&&st.errored?!1:typeof(st==null?void 0:st.finished)!="boolean"?null:!!(st.finished||tt===!1&&st.ended===!0&&st.length===0)}function K(B){if(!b(B))return null;if(B.readableEnded===!0)return!0;let tt=B._readableState;return!tt||tt.errored?!1:typeof(tt==null?void 0:tt.ended)!="boolean"?null:tt.ended}function nt(B,tt){if(!b(B))return null;let st=B._readableState;return st!=null&&st.errored?!1:typeof(st==null?void 0:st.endEmitted)!="boolean"?null:!!(st.endEmitted||tt===!1&&st.ended===!0&&st.length===0)}function q(B){return B&&B[l]!=null?B[l]:typeof(B==null?void 0:B.readable)!="boolean"?null:X(B)?!1:b(B)&&B.readable&&!nt(B)}function ft(B){return typeof(B==null?void 0:B.writable)!="boolean"?null:X(B)?!1:w(B)&&B.writable&&!j(B)}function L(B,tt){return I(B)?X(B)?!0:!((tt==null?void 0:tt.readable)!==!1&&q(B)||(tt==null?void 0:tt.writable)!==!1&&ft(B)):null}function Z(B){var tt,st;return I(B)?B.writableErrored?B.writableErrored:(tt=(st=B._writableState)===null||st===void 0?void 0:st.errored)!==null&&tt!==void 0?tt:null:null}function wt(B){var tt,st;return I(B)?B.readableErrored?B.readableErrored:(tt=(st=B._readableState)===null||st===void 0?void 0:st.errored)!==null&&tt!==void 0?tt:null:null}function pt(B){if(!I(B))return null;if(typeof B.closed=="boolean")return B.closed;let tt=B._writableState,st=B._readableState;return typeof(tt==null?void 0:tt.closed)=="boolean"||typeof(st==null?void 0:st.closed)=="boolean"?(tt==null?void 0:tt.closed)||(st==null?void 0:st.closed):typeof B._closed=="boolean"&&ut(B)?B._closed:null}function ut(B){return typeof B._closed=="boolean"&&typeof B._defaultKeepAlive=="boolean"&&typeof B._removedConnection=="boolean"&&typeof B._removedContLen=="boolean"}function It(B){return typeof B._sent100=="boolean"&&ut(B)}function lt(B){var tt;return typeof B._consuming=="boolean"&&typeof B._dumped=="boolean"&&((tt=B.req)===null||tt===void 0?void 0:tt.upgradeOrConnect)===void 0}function kt(B){if(!I(B))return null;let tt=B._writableState,st=B._readableState,Tt=tt||st;return!Tt&&It(B)||!!(Tt&&Tt.autoDestroy&&Tt.emitClose&&Tt.closed===!1)}function _t(B){var tt;return!!(B&&((tt=B[c])!==null&&tt!==void 0?tt:B.readableDidRead||B.readableAborted))}function Wt(B){var tt,st,Tt,ht,A,C,ct,Et,St,bt;return!!(B&&((tt=(st=(Tt=(ht=(A=(C=B[u])!==null&&C!==void 0?C:B.readableErrored)!==null&&A!==void 0?A:B.writableErrored)!==null&&ht!==void 0?ht:(ct=B._readableState)===null||ct===void 0?void 0:ct.errorEmitted)!==null&&Tt!==void 0?Tt:(Et=B._writableState)===null||Et===void 0?void 0:Et.errorEmitted)!==null&&st!==void 0?st:(St=B._readableState)===null||St===void 0?void 0:St.errored)!==null&&tt!==void 0?tt:!((bt=B._writableState)===null||bt===void 0)&&bt.errored))}o.exports={kDestroyed:s,isDisturbed:_t,kIsDisturbed:c,isErrored:Wt,kIsErrored:u,isReadable:q,kIsReadable:l,kIsClosedPromise:m,kControllerErrorFunction:v,isClosed:pt,isDestroyed:X,isDuplexNodeStream:_,isFinished:L,isIterable:$,isReadableNodeStream:b,isReadableStream:x,isReadableEnded:K,isReadableFinished:nt,isReadableErrored:wt,isNodeStream:I,isWebStream:M,isWritable:ft,isWritableNodeStream:w,isWritableStream:Y,isWritableEnded:j,isWritableFinished:T,isWritableErrored:Z,isServerRequest:lt,isServerResponse:It,willEmitClose:kt,isTransformStream:z}}),Pr=Nt((t,o)=>{Ot(),Bt(),Mt();var e=to(),{AbortError:p,codes:f}=Ve(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:s}=f,{kEmptyObject:u,once:l}=_r(),{validateAbortSignal:c,validateFunction:m,validateObject:v,validateBoolean:b}=Xo(),{Promise:w,PromisePrototypeThen:_}=Pe(),{isClosed:I,isReadable:x,isReadableNodeStream:Y,isReadableStream:z,isReadableFinished:M,isReadableErrored:$,isWritable:X,isWritableNodeStream:j,isWritableStream:T,isWritableFinished:K,isWritableErrored:nt,isNodeStream:q,willEmitClose:ft,kIsClosedPromise:L}=Tr();function Z(lt){return lt.setHeader&&typeof lt.abort=="function"}var wt=()=>{};function pt(lt,kt,_t){var Wt,B;if(arguments.length===2?(_t=kt,kt=u):kt==null?kt=u:v(kt,"options"),m(_t,"callback"),c(kt.signal,"options.signal"),_t=l(_t),z(lt)||T(lt))return ut(lt,kt,_t);if(!q(lt))throw new n("stream",["ReadableStream","WritableStream","Stream"],lt);let tt=(Wt=kt.readable)!==null&&Wt!==void 0?Wt:Y(lt),st=(B=kt.writable)!==null&&B!==void 0?B:j(lt),Tt=lt._writableState,ht=lt._readableState,A=()=>{lt.writable||Et()},C=ft(lt)&&Y(lt)===tt&&j(lt)===st,ct=K(lt,!1),Et=()=>{ct=!0,lt.destroyed&&(C=!1),!(C&&(!lt.readable||tt))&&(!tt||St)&&_t.call(lt)},St=M(lt,!1),bt=()=>{St=!0,lt.destroyed&&(C=!1),!(C&&(!lt.writable||st))&&(!st||ct)&&_t.call(lt)},it=at=>{_t.call(lt,at)},J=I(lt),R=()=>{J=!0;let at=nt(lt)||$(lt);if(at&&typeof at!="boolean")return _t.call(lt,at);if(tt&&!St&&Y(lt,!0)&&!M(lt,!1))return _t.call(lt,new s);if(st&&!ct&&!K(lt,!1))return _t.call(lt,new s);_t.call(lt)},W=()=>{J=!0;let at=nt(lt)||$(lt);if(at&&typeof at!="boolean")return _t.call(lt,at);_t.call(lt)},F=()=>{lt.req.on("finish",Et)};Z(lt)?(lt.on("complete",Et),C||lt.on("abort",R),lt.req?F():lt.on("request",F)):st&&!Tt&&(lt.on("end",A),lt.on("close",A)),!C&&typeof lt.aborted=="boolean"&&lt.on("aborted",R),lt.on("end",bt),lt.on("finish",Et),kt.error!==!1&&lt.on("error",it),lt.on("close",R),J?e.nextTick(R):Tt!=null&&Tt.errorEmitted||ht!=null&&ht.errorEmitted?C||e.nextTick(W):(!tt&&(!C||x(lt))&&(ct||X(lt)===!1)||!st&&(!C||X(lt))&&(St||x(lt)===!1)||ht&&lt.req&&lt.aborted)&&e.nextTick(W);let ot=()=>{_t=wt,lt.removeListener("aborted",R),lt.removeListener("complete",Et),lt.removeListener("abort",R),lt.removeListener("request",F),lt.req&&lt.req.removeListener("finish",Et),lt.removeListener("end",A),lt.removeListener("close",A),lt.removeListener("finish",Et),lt.removeListener("end",bt),lt.removeListener("error",it),lt.removeListener("close",R)};if(kt.signal&&!J){let at=()=>{let H=_t;ot(),H.call(lt,new p(void 0,{cause:kt.signal.reason}))};if(kt.signal.aborted)e.nextTick(at);else{let H=_t;_t=l((...rt)=>{kt.signal.removeEventListener("abort",at),H.apply(lt,rt)}),kt.signal.addEventListener("abort",at)}}return ot}function ut(lt,kt,_t){let Wt=!1,B=wt;if(kt.signal)if(B=()=>{Wt=!0,_t.call(lt,new p(void 0,{cause:kt.signal.reason}))},kt.signal.aborted)e.nextTick(B);else{let st=_t;_t=l((...Tt)=>{kt.signal.removeEventListener("abort",B),st.apply(lt,Tt)}),kt.signal.addEventListener("abort",B)}let tt=(...st)=>{Wt||e.nextTick(()=>_t.apply(lt,st))};return _(lt[L].promise,tt,tt),wt}function It(lt,kt){var _t;let Wt=!1;return kt===null&&(kt=u),(_t=kt)!==null&&_t!==void 0&&_t.cleanup&&(b(kt.cleanup,"cleanup"),Wt=kt.cleanup),new w((B,tt)=>{let st=pt(lt,kt,Tt=>{Wt&&st(),Tt?tt(Tt):B()})})}o.exports=pt,o.exports.finished=It}),po=Nt((t,o)=>{Ot(),Bt(),Mt();var e=to(),{aggregateTwoErrors:p,codes:{ERR_MULTIPLE_CALLBACK:f},AbortError:n}=Ve(),{Symbol:s}=Pe(),{kDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:m}=Tr(),v=s("kDestroy"),b=s("kConstruct");function w(L,Z,wt){L&&(L.stack,Z&&!Z.errored&&(Z.errored=L),wt&&!wt.errored&&(wt.errored=L))}function _(L,Z){let wt=this._readableState,pt=this._writableState,ut=pt||wt;return pt!=null&&pt.destroyed||wt!=null&&wt.destroyed?(typeof Z=="function"&&Z(),this):(w(L,pt,wt),pt&&(pt.destroyed=!0),wt&&(wt.destroyed=!0),ut.constructed?I(this,L,Z):this.once(v,function(It){I(this,p(It,L),Z)}),this)}function I(L,Z,wt){let pt=!1;function ut(It){if(pt)return;pt=!0;let lt=L._readableState,kt=L._writableState;w(It,kt,lt),kt&&(kt.closed=!0),lt&&(lt.closed=!0),typeof wt=="function"&&wt(It),It?e.nextTick(x,L,It):e.nextTick(Y,L)}try{L._destroy(Z||null,ut)}catch(It){ut(It)}}function x(L,Z){z(L,Z),Y(L)}function Y(L){let Z=L._readableState,wt=L._writableState;wt&&(wt.closeEmitted=!0),Z&&(Z.closeEmitted=!0),(wt!=null&&wt.emitClose||Z!=null&&Z.emitClose)&&L.emit("close")}function z(L,Z){let wt=L._readableState,pt=L._writableState;pt!=null&&pt.errorEmitted||wt!=null&&wt.errorEmitted||(pt&&(pt.errorEmitted=!0),wt&&(wt.errorEmitted=!0),L.emit("error",Z))}function M(){let L=this._readableState,Z=this._writableState;L&&(L.constructed=!0,L.closed=!1,L.closeEmitted=!1,L.destroyed=!1,L.errored=null,L.errorEmitted=!1,L.reading=!1,L.ended=L.readable===!1,L.endEmitted=L.readable===!1),Z&&(Z.constructed=!0,Z.destroyed=!1,Z.closed=!1,Z.closeEmitted=!1,Z.errored=null,Z.errorEmitted=!1,Z.finalCalled=!1,Z.prefinished=!1,Z.ended=Z.writable===!1,Z.ending=Z.writable===!1,Z.finished=Z.writable===!1)}function $(L,Z,wt){let pt=L._readableState,ut=L._writableState;if(ut!=null&&ut.destroyed||pt!=null&&pt.destroyed)return this;pt!=null&&pt.autoDestroy||ut!=null&&ut.autoDestroy?L.destroy(Z):Z&&(Z.stack,ut&&!ut.errored&&(ut.errored=Z),pt&&!pt.errored&&(pt.errored=Z),wt?e.nextTick(z,L,Z):z(L,Z))}function X(L,Z){if(typeof L._construct!="function")return;let wt=L._readableState,pt=L._writableState;wt&&(wt.constructed=!1),pt&&(pt.constructed=!1),L.once(b,Z),!(L.listenerCount(b)>1)&&e.nextTick(j,L)}function j(L){let Z=!1;function wt(pt){if(Z){$(L,pt??new f);return}Z=!0;let ut=L._readableState,It=L._writableState,lt=It||ut;ut&&(ut.constructed=!0),It&&(It.constructed=!0),lt.destroyed?L.emit(v,pt):pt?$(L,pt,!0):e.nextTick(T,L)}try{L._construct(pt=>{e.nextTick(wt,pt)})}catch(pt){e.nextTick(wt,pt)}}function T(L){L.emit(b)}function K(L){return(L==null?void 0:L.setHeader)&&typeof L.abort=="function"}function nt(L){L.emit("close")}function q(L,Z){L.emit("error",Z),e.nextTick(nt,L)}function ft(L,Z){!L||l(L)||(!Z&&!c(L)&&(Z=new n),m(L)?(L.socket=null,L.destroy(Z)):K(L)?L.abort():K(L.req)?L.req.abort():typeof L.destroy=="function"?L.destroy(Z):typeof L.close=="function"?L.close():Z?e.nextTick(q,L,Z):e.nextTick(nt,L),L.destroyed||(L[u]=!0))}o.exports={construct:X,destroyer:ft,destroy:_,undestroy:M,errorOrDestroy:$}});function de(){de.init.call(this)}function Do(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function ga(t){return t._maxListeners===void 0?de.defaultMaxListeners:t._maxListeners}function ds(t,o,e,p){var f,n,s,u;if(Do(e),(n=t._events)===void 0?(n=t._events=Object.create(null),t._eventsCount=0):(n.newListener!==void 0&&(t.emit("newListener",o,e.listener?e.listener:e),n=t._events),s=n[o]),s===void 0)s=n[o]=e,++t._eventsCount;else if(typeof s=="function"?s=n[o]=p?[e,s]:[s,e]:p?s.unshift(e):s.push(e),(f=ga(t))>0&&s.length>f&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=o,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function tu(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hs(t,o,e){var p={fired:!1,wrapFn:void 0,target:t,type:o,listener:e},f=tu.bind(p);return f.listener=e,p.wrapFn=f,f}function fs(t,o,e){var p=t._events;if(p===void 0)return[];var f=p[o];return f===void 0?[]:typeof f=="function"?e?[f.listener||f]:[f]:e?function(n){for(var s=new Array(n.length),u=0;u<s.length;++u)s[u]=n[u].listener||n[u];return s}(f):va(f,f.length)}function ms(t){var o=this._events;if(o!==void 0){var e=o[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}function va(t,o){for(var e=new Array(o),p=0;p<o;++p)e[p]=t[p];return e}var ys,gs,Ar,pi,ui,ci,Ke,vs=Ne(()=>{Ot(),Bt(),Mt(),Ar=typeof Reflect=="object"?Reflect:null,pi=Ar&&typeof Ar.apply=="function"?Ar.apply:function(t,o,e){return Function.prototype.apply.call(t,o,e)},gs=Ar&&typeof Ar.ownKeys=="function"?Ar.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},ui=Number.isNaN||function(t){return t!=t},ys=de,de.EventEmitter=de,de.prototype._events=void 0,de.prototype._eventsCount=0,de.prototype._maxListeners=void 0,ci=10,Object.defineProperty(de,"defaultMaxListeners",{enumerable:!0,get:function(){return ci},set:function(t){if(typeof t!="number"||t<0||ui(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ci=t}}),de.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},de.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ui(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},de.prototype.getMaxListeners=function(){return ga(this)},de.prototype.emit=function(t){for(var o=[],e=1;e<arguments.length;e++)o.push(arguments[e]);var p=t==="error",f=this._events;if(f!==void 0)p=p&&f.error===void 0;else if(!p)return!1;if(p){var n;if(o.length>0&&(n=o[0]),n instanceof Error)throw n;var s=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw s.context=n,s}var u=f[t];if(u===void 0)return!1;if(typeof u=="function")pi(u,this,o);else{var l=u.length,c=va(u,l);for(e=0;e<l;++e)pi(c[e],this,o)}return!0},de.prototype.addListener=function(t,o){return ds(this,t,o,!1)},de.prototype.on=de.prototype.addListener,de.prototype.prependListener=function(t,o){return ds(this,t,o,!0)},de.prototype.once=function(t,o){return Do(o),this.on(t,hs(this,t,o)),this},de.prototype.prependOnceListener=function(t,o){return Do(o),this.prependListener(t,hs(this,t,o)),this},de.prototype.removeListener=function(t,o){var e,p,f,n,s;if(Do(o),(p=this._events)===void 0)return this;if((e=p[t])===void 0)return this;if(e===o||e.listener===o)--this._eventsCount==0?this._events=Object.create(null):(delete p[t],p.removeListener&&this.emit("removeListener",t,e.listener||o));else if(typeof e!="function"){for(f=-1,n=e.length-1;n>=0;n--)if(e[n]===o||e[n].listener===o){s=e[n].listener,f=n;break}if(f<0)return this;f===0?e.shift():function(u,l){for(;l+1<u.length;l++)u[l]=u[l+1];u.pop()}(e,f),e.length===1&&(p[t]=e[0]),p.removeListener!==void 0&&this.emit("removeListener",t,s||o)}return this},de.prototype.off=de.prototype.removeListener,de.prototype.removeAllListeners=function(t){var o,e,p;if((e=this._events)===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var f,n=Object.keys(e);for(p=0;p<n.length;++p)(f=n[p])!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(o=e[t])=="function")this.removeListener(t,o);else if(o!==void 0)for(p=o.length-1;p>=0;p--)this.removeListener(t,o[p]);return this},de.prototype.listeners=function(t){return fs(this,t,!0)},de.prototype.rawListeners=function(t){return fs(this,t,!1)},de.listenerCount=function(t,o){return typeof t.listenerCount=="function"?t.listenerCount(o):ms.call(t,o)},de.prototype.listenerCount=ms,de.prototype.eventNames=function(){return this._eventsCount>0?gs(this._events):[]},Ke=ys,Ke.EventEmitter,Ke.defaultMaxListeners,Ke.init,Ke.listenerCount,Ke.EventEmitter,Ke.defaultMaxListeners,Ke.init,Ke.listenerCount}),eo={};Xr(eo,{EventEmitter:()=>ba,default:()=>Ke,defaultMaxListeners:()=>wa,init:()=>_a,listenerCount:()=>Sa,on:()=>Ea,once:()=>Ta});var ba,wa,_a,Sa,Ea,Ta,uo=Ne(()=>{Ot(),Bt(),Mt(),vs(),vs(),Ke.once=function(t,o){return new Promise((e,p)=>{function f(...s){n!==void 0&&t.removeListener("error",n),e(s)}let n;o!=="error"&&(n=s=>{t.removeListener(name,f),p(s)},t.once("error",n)),t.once(o,f)})},Ke.on=function(t,o){let e=[],p=[],f=null,n=!1,s={async next(){let c=e.shift();if(c)return createIterResult(c,!1);if(f){let m=Promise.reject(f);return f=null,m}return n?createIterResult(void 0,!0):new Promise((m,v)=>p.push({resolve:m,reject:v}))},async return(){t.removeListener(o,u),t.removeListener("error",l),n=!0;for(let c of p)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){f=c,t.removeListener(o,u),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(o,u),t.on("error",l),s;function u(...c){let m=p.shift();m?m.resolve(createIterResult(c,!1)):e.push(c)}function l(c){n=!0;let m=p.shift();m?m.reject(c):f=c,s.return()}},{EventEmitter:ba,defaultMaxListeners:wa,init:_a,listenerCount:Sa,on:Ea,once:Ta}=Ke}),Xn=Nt((t,o)=>{Ot(),Bt(),Mt();var{ArrayIsArray:e,ObjectSetPrototypeOf:p}=Pe(),{EventEmitter:f}=(uo(),fe(eo));function n(u){f.call(this,u)}p(n.prototype,f.prototype),p(n,f),n.prototype.pipe=function(u,l){let c=this;function m(Y){u.writable&&u.write(Y)===!1&&c.pause&&c.pause()}c.on("data",m);function v(){c.readable&&c.resume&&c.resume()}u.on("drain",v),!u._isStdio&&(!l||l.end!==!1)&&(c.on("end",w),c.on("close",_));let b=!1;function w(){b||(b=!0,u.end())}function _(){b||(b=!0,typeof u.destroy=="function"&&u.destroy())}function I(Y){x(),f.listenerCount(this,"error")===0&&this.emit("error",Y)}s(c,"error",I),s(u,"error",I);function x(){c.removeListener("data",m),u.removeListener("drain",v),c.removeListener("end",w),c.removeListener("close",_),c.removeListener("error",I),u.removeListener("error",I),c.removeListener("end",x),c.removeListener("close",x),u.removeListener("close",x)}return c.on("end",x),c.on("close",x),u.on("close",x),u.emit("pipe",c),u};function s(u,l,c){if(typeof u.prependListener=="function")return u.prependListener(l,c);!u._events||!u._events[l]?u.on(l,c):e(u._events[l])?u._events[l].unshift(c):u._events[l]=[c,u._events[l]]}o.exports={Stream:n,prependListener:s}}),ti=Nt((t,o)=>{Ot(),Bt(),Mt();var{AbortError:e,codes:p}=Ve(),{isNodeStream:f,isWebStream:n,kControllerErrorFunction:s}=Tr(),u=Pr(),{ERR_INVALID_ARG_TYPE:l}=p,c=(m,v)=>{if(typeof m!="object"||!("aborted"in m))throw new l(v,"AbortSignal",m)};o.exports.addAbortSignal=function(m,v){if(c(m,"signal"),!f(v)&&!n(v))throw new l("stream",["ReadableStream","WritableStream","Stream"],v);return o.exports.addAbortSignalNoValidate(m,v)},o.exports.addAbortSignalNoValidate=function(m,v){if(typeof m!="object"||!("aborted"in m))return v;let b=f(v)?()=>{v.destroy(new e(void 0,{cause:m.reason}))}:()=>{v[s](new e(void 0,{cause:m.reason}))};return m.aborted?b():(m.addEventListener("abort",b),u(v,()=>m.removeEventListener("abort",b))),v}}),eu=Nt((t,o)=>{Ot(),Bt(),Mt();var{StringPrototypeSlice:e,SymbolIterator:p,TypedArrayPrototypeSet:f,Uint8Array:n}=Pe(),{Buffer:s}=(je(),fe(We)),{inspect:u}=_r();o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,m=""+c.data;for(;(c=c.next)!==null;)m+=l+c.data;return m}concat(l){if(this.length===0)return s.alloc(0);let c=s.allocUnsafe(l>>>0),m=this.head,v=0;for(;m;)f(c,m.data,v),v+=m.data.length,m=m.next;return c}consume(l,c){let m=this.head.data;if(l<m.length){let v=m.slice(0,l);return this.head.data=m.slice(l),v}return l===m.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[p](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",m=this.head,v=0;do{let b=m.data;if(l>b.length)c+=b,l-=b.length;else{l===b.length?(c+=b,++v,m.next?this.head=m.next:this.head=this.tail=null):(c+=e(b,0,l),this.head=m,m.data=e(b,l));break}++v}while((m=m.next)!==null);return this.length-=v,c}_getBuffer(l){let c=s.allocUnsafe(l),m=l,v=this.head,b=0;do{let w=v.data;if(l>w.length)f(c,w,m-l),l-=w.length;else{l===w.length?(f(c,w,m-l),++b,v.next?this.head=v.next:this.head=this.tail=null):(f(c,new n(w.buffer,w.byteOffset,l),m-l),this.head=v,v.data=w.slice(l));break}++b}while((v=v.next)!==null);return this.length-=b,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return u(this,{...c,depth:0,customInspect:!1})}}}),ts=Nt((t,o)=>{Ot(),Bt(),Mt();var{MathFloor:e,NumberIsInteger:p}=Pe(),{ERR_INVALID_ARG_VALUE:f}=Ve().codes;function n(l,c,m){return l.highWaterMark!=null?l.highWaterMark:c?l[m]:null}function s(l){return l?16:16*1024}function u(l,c,m,v){let b=n(c,v,m);if(b!=null){if(!p(b)||b<0){let w=v?`options.${m}`:"options.highWaterMark";throw new f(w,b)}return e(b)}return s(l.objectMode)}o.exports={getHighWaterMark:u,getDefaultHighWaterMark:s}});function bs(t){var o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return e===-1&&(e=o),[e,e===o?0:4-e%4]}function ru(t,o,e){for(var p,f,n=[],s=o;s<e;s+=3)p=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),n.push(or[(f=p)>>18&63]+or[f>>12&63]+or[f>>6&63]+or[63&f]);return n.join("")}function br(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var o=new Uint8Array(t);return Object.setPrototypeOf(o,Pt.prototype),o}function Pt(t,o,e){if(typeof t=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Rn(t)}return Ia(t,o,e)}function Ia(t,o,e){if(typeof t=="string")return function(n,s){if(typeof s=="string"&&s!==""||(s="utf8"),!Pt.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var u=0|Oa(n,s),l=br(u),c=l.write(n,s);return c!==u&&(l=l.slice(0,c)),l}(t,o);if(ArrayBuffer.isView(t))return di(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(wr(t,ArrayBuffer)||t&&wr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wr(t,SharedArrayBuffer)||t&&wr(t.buffer,SharedArrayBuffer)))return ou(t,o,e);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=t.valueOf&&t.valueOf();if(p!=null&&p!==t)return Pt.from(p,o,e);var f=function(n){if(Pt.isBuffer(n)){var s=0|es(n.length),u=br(s);return u.length===0||n.copy(u,0,0,s),u}if(n.length!==void 0)return typeof n.length!="number"||rs(n.length)?br(0):di(n);if(n.type==="Buffer"&&Array.isArray(n.data))return di(n.data)}(t);if(f)return f;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Pt.from(t[Symbol.toPrimitive]("string"),o,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function ka(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Rn(t){return ka(t),br(t<0?0:0|es(t))}function di(t){for(var o=t.length<0?0:0|es(t.length),e=br(o),p=0;p<o;p+=1)e[p]=255&t[p];return e}function ou(t,o,e){if(o<0||t.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<o+(e||0))throw new RangeError('"length" is outside of buffer bounds');var p;return p=o===void 0&&e===void 0?new Uint8Array(t):e===void 0?new Uint8Array(t,o):new Uint8Array(t,o,e),Object.setPrototypeOf(p,Pt.prototype),p}function es(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function Oa(t,o){if(Pt.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||wr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&e===0)return 0;for(var f=!1;;)switch(o){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Cn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return Ca(t).length;default:if(f)return p?-1:Cn(t).length;o=(""+o).toLowerCase(),f=!0}}function iu(t,o,e){var p=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0)<=(o>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return hu(this,o,e);case"utf8":case"utf-8":return Ba(this,o,e);case"ascii":return cu(this,o,e);case"latin1":case"binary":return du(this,o,e);case"base64":return uu(this,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fu(this,o,e);default:if(p)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),p=!0}}function xr(t,o,e){var p=t[o];t[o]=t[e],t[e]=p}function ws(t,o,e,p,f){if(t.length===0)return-1;if(typeof e=="string"?(p=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),rs(e=+e)&&(e=f?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(f)return-1;e=t.length-1}else if(e<0){if(!f)return-1;e=0}if(typeof o=="string"&&(o=Pt.from(o,p)),Pt.isBuffer(o))return o.length===0?-1:_s(t,o,e,p,f);if(typeof o=="number")return o&=255,typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(t,o,e):Uint8Array.prototype.lastIndexOf.call(t,o,e):_s(t,[o],e,p,f);throw new TypeError("val must be string, number or Buffer")}function _s(t,o,e,p,f){var n,s=1,u=t.length,l=o.length;if(p!==void 0&&((p=String(p).toLowerCase())==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(t.length<2||o.length<2)return-1;s=2,u/=2,l/=2,e/=2}function c(w,_){return s===1?w[_]:w.readUInt16BE(_*s)}if(f){var m=-1;for(n=e;n<u;n++)if(c(t,n)===c(o,m===-1?0:n-m)){if(m===-1&&(m=n),n-m+1===l)return m*s}else m!==-1&&(n-=n-m),m=-1}else for(e+l>u&&(e=u-l),n=e;n>=0;n--){for(var v=!0,b=0;b<l;b++)if(c(t,n+b)!==c(o,b)){v=!1;break}if(v)return n}return-1}function nu(t,o,e,p){e=Number(e)||0;var f=t.length-e;p?(p=Number(p))>f&&(p=f):p=f;var n=o.length;p>n/2&&(p=n/2);for(var s=0;s<p;++s){var u=parseInt(o.substr(2*s,2),16);if(rs(u))return s;t[e+s]=u}return s}function su(t,o,e,p){return ei(Cn(o,t.length-e),t,e,p)}function Ma(t,o,e,p){return ei(function(f){for(var n=[],s=0;s<f.length;++s)n.push(255&f.charCodeAt(s));return n}(o),t,e,p)}function au(t,o,e,p){return Ma(t,o,e,p)}function lu(t,o,e,p){return ei(Ca(o),t,e,p)}function pu(t,o,e,p){return ei(function(f,n){for(var s,u,l,c=[],m=0;m<f.length&&!((n-=2)<0);++m)s=f.charCodeAt(m),u=s>>8,l=s%256,c.push(l),c.push(u);return c}(o,t.length-e),t,e,p)}function uu(t,o,e){return o===0&&e===t.length?qo.fromByteArray(t):qo.fromByteArray(t.slice(o,e))}function Ba(t,o,e){e=Math.min(t.length,e);for(var p=[],f=o;f<e;){var n,s,u,l,c=t[f],m=null,v=c>239?4:c>223?3:c>191?2:1;if(f+v<=e)switch(v){case 1:c<128&&(m=c);break;case 2:(192&(n=t[f+1]))==128&&(l=(31&c)<<6|63&n)>127&&(m=l);break;case 3:n=t[f+1],s=t[f+2],(192&n)==128&&(192&s)==128&&(l=(15&c)<<12|(63&n)<<6|63&s)>2047&&(l<55296||l>57343)&&(m=l);break;case 4:n=t[f+1],s=t[f+2],u=t[f+3],(192&n)==128&&(192&s)==128&&(192&u)==128&&(l=(15&c)<<18|(63&n)<<12|(63&s)<<6|63&u)>65535&&l<1114112&&(m=l)}m===null?(m=65533,v=1):m>65535&&(m-=65536,p.push(m>>>10&1023|55296),m=56320|1023&m),p.push(m),f+=v}return function(b){var w=b.length;if(w<=4096)return String.fromCharCode.apply(String,b);for(var _="",I=0;I<w;)_+=String.fromCharCode.apply(String,b.slice(I,I+=4096));return _}(p)}function cu(t,o,e){var p="";e=Math.min(t.length,e);for(var f=o;f<e;++f)p+=String.fromCharCode(127&t[f]);return p}function du(t,o,e){var p="";e=Math.min(t.length,e);for(var f=o;f<e;++f)p+=String.fromCharCode(t[f]);return p}function hu(t,o,e){var p=t.length;(!o||o<0)&&(o=0),(!e||e<0||e>p)&&(e=p);for(var f="",n=o;n<e;++n)f+=Aa[t[n]];return f}function fu(t,o,e){for(var p=t.slice(o,e),f="",n=0;n<p.length;n+=2)f+=String.fromCharCode(p[n]+256*p[n+1]);return f}function Ae(t,o,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+o>e)throw new RangeError("Trying to access beyond buffer length")}function He(t,o,e,p,f,n){if(!Pt.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>f||o<n)throw new RangeError('"value" argument is out of bounds');if(e+p>t.length)throw new RangeError("Index out of range")}function Ra(t,o,e,p,f,n){if(e+p>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Ss(t,o,e,p,f){return o=+o,e>>>=0,f||Ra(t,0,e,4),Hr.write(t,o,e,p,23,4),e+4}function Es(t,o,e,p,f){return o=+o,e>>>=0,f||Ra(t,0,e,8),Hr.write(t,o,e,p,52,8),e+8}function Cn(t,o){var e;o=o||1/0;for(var p=t.length,f=null,n=[],s=0;s<p;++s){if((e=t.charCodeAt(s))>55295&&e<57344){if(!f){if(e>56319){(o-=3)>-1&&n.push(239,191,189);continue}if(s+1===p){(o-=3)>-1&&n.push(239,191,189);continue}f=e;continue}if(e<56320){(o-=3)>-1&&n.push(239,191,189),f=e;continue}e=65536+(f-55296<<10|e-56320)}else f&&(o-=3)>-1&&n.push(239,191,189);if(f=null,e<128){if((o-=1)<0)break;n.push(e)}else if(e<2048){if((o-=2)<0)break;n.push(e>>6|192,63&e|128)}else if(e<65536){if((o-=3)<0)break;n.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;n.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return n}function Ca(t){return qo.toByteArray(function(o){if((o=(o=o.split("=")[0]).trim().replace(Pa,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(t))}function ei(t,o,e,p){for(var f=0;f<p&&!(f+e>=o.length||f>=t.length);++f)o[f+e]=t[f];return f}function wr(t,o){return t instanceof o||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===o.name}function rs(t){return t!=t}function Ts(t,o){for(var e in t)o[e]=t[e]}function Fr(t,o,e){return er(t,o,e)}function fo(t){var o;switch(this.encoding=function(e){var p=function(f){if(!f)return"utf8";for(var n;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(n)return;f=(""+f).toLowerCase(),n=!0}}(e);if(typeof p!="string"&&(Yo.isEncoding===Pn||!Pn(e)))throw new Error("Unknown encoding: "+e);return p||e}(t),this.encoding){case"utf16le":this.text=yu,this.end=gu,o=4;break;case"utf8":this.fillLast=mu,o=4;break;case"base64":this.text=vu,this.end=bu,o=3;break;default:return this.write=wu,this.end=_u,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Yo.allocUnsafe(o)}function hi(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function mu(t){var o=this.lastTotal-this.lastNeed,e=function(p,f,n){if((192&f[0])!=128)return p.lastNeed=0,"�";if(p.lastNeed>1&&f.length>1){if((192&f[1])!=128)return p.lastNeed=1,"�";if(p.lastNeed>2&&f.length>2&&(192&f[2])!=128)return p.lastNeed=2,"�"}}(this,t);return e!==void 0?e:this.lastNeed<=t.length?(t.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,o,0,t.length),this.lastNeed-=t.length,void 0)}function yu(t,o){if((t.length-o)%2==0){var e=t.toString("utf16le",o);if(e){var p=e.charCodeAt(e.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",o,t.length-1)}function gu(t){var o=t&&t.length?this.write(t):"";if(this.lastNeed){var e=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,e)}return o}function vu(t,o){var e=(t.length-o)%3;return e===0?t.toString("base64",o):(this.lastNeed=3-e,this.lastTotal=3,e===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",o,t.length-e))}function bu(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function wu(t){return t.toString(this.encoding)}function _u(t){return t&&t.length?this.write(t):""}var Is,or,Ye,ks,Co,Nr,Os,Ms,sr,qo,Hr,fi,Pa,Aa,mo,yo,er,Bs,ao,Yo,Pn,Rs=Ne(()=>{for(Ot(),Bt(),Mt(),Is={byteLength:function(t){var o=bs(t),e=o[0],p=o[1];return 3*(e+p)/4-p},toByteArray:function(t){var o,e,p=bs(t),f=p[0],n=p[1],s=new ks(function(c,m,v){return 3*(m+v)/4-v}(0,f,n)),u=0,l=n>0?f-4:f;for(e=0;e<l;e+=4)o=Ye[t.charCodeAt(e)]<<18|Ye[t.charCodeAt(e+1)]<<12|Ye[t.charCodeAt(e+2)]<<6|Ye[t.charCodeAt(e+3)],s[u++]=o>>16&255,s[u++]=o>>8&255,s[u++]=255&o;return n===2&&(o=Ye[t.charCodeAt(e)]<<2|Ye[t.charCodeAt(e+1)]>>4,s[u++]=255&o),n===1&&(o=Ye[t.charCodeAt(e)]<<10|Ye[t.charCodeAt(e+1)]<<4|Ye[t.charCodeAt(e+2)]>>2,s[u++]=o>>8&255,s[u++]=255&o),s},fromByteArray:function(t){for(var o,e=t.length,p=e%3,f=[],n=0,s=e-p;n<s;n+=16383)f.push(ru(t,n,n+16383>s?s:n+16383));return p===1?(o=t[e-1],f.push(or[o>>2]+or[o<<4&63]+"==")):p===2&&(o=(t[e-2]<<8)+t[e-1],f.push(or[o>>10]+or[o>>4&63]+or[o<<2&63]+"=")),f.join("")}},or=[],Ye=[],ks=typeof Uint8Array<"u"?Uint8Array:Array,Co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nr=0,Os=Co.length;Nr<Os;++Nr)or[Nr]=Co[Nr],Ye[Co.charCodeAt(Nr)]=Nr;Ye[45]=62,Ye[95]=63,Ms={read:function(t,o,e,p,f){var n,s,u=8*f-p-1,l=(1<<u)-1,c=l>>1,m=-7,v=e?f-1:0,b=e?-1:1,w=t[o+v];for(v+=b,n=w&(1<<-m)-1,w>>=-m,m+=u;m>0;n=256*n+t[o+v],v+=b,m-=8);for(s=n&(1<<-m)-1,n>>=-m,m+=p;m>0;s=256*s+t[o+v],v+=b,m-=8);if(n===0)n=1-c;else{if(n===l)return s?NaN:1/0*(w?-1:1);s+=Math.pow(2,p),n-=c}return(w?-1:1)*s*Math.pow(2,n-p)},write:function(t,o,e,p,f,n){var s,u,l,c=8*n-f-1,m=(1<<c)-1,v=m>>1,b=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:n-1,_=p?1:-1,I=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,s=m):(s=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-s))<1&&(s--,l*=2),(o+=s+v>=1?b/l:b*Math.pow(2,1-v))*l>=2&&(s++,l/=2),s+v>=m?(u=0,s=m):s+v>=1?(u=(o*l-1)*Math.pow(2,f),s+=v):(u=o*Math.pow(2,v-1)*Math.pow(2,f),s=0));f>=8;t[e+w]=255&u,w+=_,u/=256,f-=8);for(s=s<<f|u,c+=f;c>0;t[e+w]=255&s,w+=_,s/=256,c-=8);t[e+w-_]|=128*I}},sr={},qo=Is,Hr=Ms,fi=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,sr.Buffer=Pt,sr.SlowBuffer=function(t){return+t!=t&&(t=0),Pt.alloc(+t)},sr.INSPECT_MAX_BYTES=50,sr.kMaxLength=2147483647,Pt.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(t,o),t.foo()===42}catch{return!1}}(),Pt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Pt.prototype,"parent",{enumerable:!0,get:function(){if(Pt.isBuffer(this))return this.buffer}}),Object.defineProperty(Pt.prototype,"offset",{enumerable:!0,get:function(){if(Pt.isBuffer(this))return this.byteOffset}}),Pt.poolSize=8192,Pt.from=function(t,o,e){return Ia(t,o,e)},Object.setPrototypeOf(Pt.prototype,Uint8Array.prototype),Object.setPrototypeOf(Pt,Uint8Array),Pt.alloc=function(t,o,e){return function(p,f,n){return ka(p),p<=0?br(p):f!==void 0?typeof n=="string"?br(p).fill(f,n):br(p).fill(f):br(p)}(t,o,e)},Pt.allocUnsafe=function(t){return Rn(t)},Pt.allocUnsafeSlow=function(t){return Rn(t)},Pt.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==Pt.prototype},Pt.compare=function(t,o){if(wr(t,Uint8Array)&&(t=Pt.from(t,t.offset,t.byteLength)),wr(o,Uint8Array)&&(o=Pt.from(o,o.offset,o.byteLength)),!Pt.isBuffer(t)||!Pt.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===o)return 0;for(var e=t.length,p=o.length,f=0,n=Math.min(e,p);f<n;++f)if(t[f]!==o[f]){e=t[f],p=o[f];break}return e<p?-1:p<e?1:0},Pt.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Pt.concat=function(t,o){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Pt.alloc(0);var e;if(o===void 0)for(o=0,e=0;e<t.length;++e)o+=t[e].length;var p=Pt.allocUnsafe(o),f=0;for(e=0;e<t.length;++e){var n=t[e];if(wr(n,Uint8Array)&&(n=Pt.from(n)),!Pt.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(p,f),f+=n.length}return p},Pt.byteLength=Oa,Pt.prototype._isBuffer=!0,Pt.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<t;o+=2)xr(this,o,o+1);return this},Pt.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<t;o+=4)xr(this,o,o+3),xr(this,o+1,o+2);return this},Pt.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<t;o+=8)xr(this,o,o+7),xr(this,o+1,o+6),xr(this,o+2,o+5),xr(this,o+3,o+4);return this},Pt.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Ba(this,0,t):iu.apply(this,arguments)},Pt.prototype.toLocaleString=Pt.prototype.toString,Pt.prototype.equals=function(t){if(!Pt.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||Pt.compare(this,t)===0},Pt.prototype.inspect=function(){var t="",o=sr.INSPECT_MAX_BYTES;return t=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(t+=" ... "),"<Buffer "+t+">"},fi&&(Pt.prototype[fi]=Pt.prototype.inspect),Pt.prototype.compare=function(t,o,e,p,f){if(wr(t,Uint8Array)&&(t=Pt.from(t,t.offset,t.byteLength)),!Pt.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(o===void 0&&(o=0),e===void 0&&(e=t?t.length:0),p===void 0&&(p=0),f===void 0&&(f=this.length),o<0||e>t.length||p<0||f>this.length)throw new RangeError("out of range index");if(p>=f&&o>=e)return 0;if(p>=f)return-1;if(o>=e)return 1;if(this===t)return 0;for(var n=(f>>>=0)-(p>>>=0),s=(e>>>=0)-(o>>>=0),u=Math.min(n,s),l=this.slice(p,f),c=t.slice(o,e),m=0;m<u;++m)if(l[m]!==c[m]){n=l[m],s=c[m];break}return n<s?-1:s<n?1:0},Pt.prototype.includes=function(t,o,e){return this.indexOf(t,o,e)!==-1},Pt.prototype.indexOf=function(t,o,e){return ws(this,t,o,e,!0)},Pt.prototype.lastIndexOf=function(t,o,e){return ws(this,t,o,e,!1)},Pt.prototype.write=function(t,o,e,p){if(o===void 0)p="utf8",e=this.length,o=0;else if(e===void 0&&typeof o=="string")p=o,e=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(e)?(e>>>=0,p===void 0&&(p="utf8")):(p=e,e=void 0)}var f=this.length-o;if((e===void 0||e>f)&&(e=f),t.length>0&&(e<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var n=!1;;)switch(p){case"hex":return nu(this,t,o,e);case"utf8":case"utf-8":return su(this,t,o,e);case"ascii":return Ma(this,t,o,e);case"latin1":case"binary":return au(this,t,o,e);case"base64":return lu(this,t,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pu(this,t,o,e);default:if(n)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),n=!0}},Pt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Pt.prototype.slice=function(t,o){var e=this.length;(t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(o=o===void 0?e:~~o)<0?(o+=e)<0&&(o=0):o>e&&(o=e),o<t&&(o=t);var p=this.subarray(t,o);return Object.setPrototypeOf(p,Pt.prototype),p},Pt.prototype.readUIntLE=function(t,o,e){t>>>=0,o>>>=0,e||Ae(t,o,this.length);for(var p=this[t],f=1,n=0;++n<o&&(f*=256);)p+=this[t+n]*f;return p},Pt.prototype.readUIntBE=function(t,o,e){t>>>=0,o>>>=0,e||Ae(t,o,this.length);for(var p=this[t+--o],f=1;o>0&&(f*=256);)p+=this[t+--o]*f;return p},Pt.prototype.readUInt8=function(t,o){return t>>>=0,o||Ae(t,1,this.length),this[t]},Pt.prototype.readUInt16LE=function(t,o){return t>>>=0,o||Ae(t,2,this.length),this[t]|this[t+1]<<8},Pt.prototype.readUInt16BE=function(t,o){return t>>>=0,o||Ae(t,2,this.length),this[t]<<8|this[t+1]},Pt.prototype.readUInt32LE=function(t,o){return t>>>=0,o||Ae(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Pt.prototype.readUInt32BE=function(t,o){return t>>>=0,o||Ae(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Pt.prototype.readIntLE=function(t,o,e){t>>>=0,o>>>=0,e||Ae(t,o,this.length);for(var p=this[t],f=1,n=0;++n<o&&(f*=256);)p+=this[t+n]*f;return p>=(f*=128)&&(p-=Math.pow(2,8*o)),p},Pt.prototype.readIntBE=function(t,o,e){t>>>=0,o>>>=0,e||Ae(t,o,this.length);for(var p=o,f=1,n=this[t+--p];p>0&&(f*=256);)n+=this[t+--p]*f;return n>=(f*=128)&&(n-=Math.pow(2,8*o)),n},Pt.prototype.readInt8=function(t,o){return t>>>=0,o||Ae(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Pt.prototype.readInt16LE=function(t,o){t>>>=0,o||Ae(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},Pt.prototype.readInt16BE=function(t,o){t>>>=0,o||Ae(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},Pt.prototype.readInt32LE=function(t,o){return t>>>=0,o||Ae(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Pt.prototype.readInt32BE=function(t,o){return t>>>=0,o||Ae(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Pt.prototype.readFloatLE=function(t,o){return t>>>=0,o||Ae(t,4,this.length),Hr.read(this,t,!0,23,4)},Pt.prototype.readFloatBE=function(t,o){return t>>>=0,o||Ae(t,4,this.length),Hr.read(this,t,!1,23,4)},Pt.prototype.readDoubleLE=function(t,o){return t>>>=0,o||Ae(t,8,this.length),Hr.read(this,t,!0,52,8)},Pt.prototype.readDoubleBE=function(t,o){return t>>>=0,o||Ae(t,8,this.length),Hr.read(this,t,!1,52,8)},Pt.prototype.writeUIntLE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||He(this,t,o,e,Math.pow(2,8*e)-1,0);var f=1,n=0;for(this[o]=255&t;++n<e&&(f*=256);)this[o+n]=t/f&255;return o+e},Pt.prototype.writeUIntBE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||He(this,t,o,e,Math.pow(2,8*e)-1,0);var f=e-1,n=1;for(this[o+f]=255&t;--f>=0&&(n*=256);)this[o+f]=t/n&255;return o+e},Pt.prototype.writeUInt8=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,1,255,0),this[o]=255&t,o+1},Pt.prototype.writeUInt16LE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,2,65535,0),this[o]=255&t,this[o+1]=t>>>8,o+2},Pt.prototype.writeUInt16BE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,2,65535,0),this[o]=t>>>8,this[o+1]=255&t,o+2},Pt.prototype.writeUInt32LE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,4,4294967295,0),this[o+3]=t>>>24,this[o+2]=t>>>16,this[o+1]=t>>>8,this[o]=255&t,o+4},Pt.prototype.writeUInt32BE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,4,4294967295,0),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},Pt.prototype.writeIntLE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var f=Math.pow(2,8*e-1);He(this,t,o,e,f-1,-f)}var n=0,s=1,u=0;for(this[o]=255&t;++n<e&&(s*=256);)t<0&&u===0&&this[o+n-1]!==0&&(u=1),this[o+n]=(t/s>>0)-u&255;return o+e},Pt.prototype.writeIntBE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var f=Math.pow(2,8*e-1);He(this,t,o,e,f-1,-f)}var n=e-1,s=1,u=0;for(this[o+n]=255&t;--n>=0&&(s*=256);)t<0&&u===0&&this[o+n+1]!==0&&(u=1),this[o+n]=(t/s>>0)-u&255;return o+e},Pt.prototype.writeInt8=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,1,127,-128),t<0&&(t=255+t+1),this[o]=255&t,o+1},Pt.prototype.writeInt16LE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,2,32767,-32768),this[o]=255&t,this[o+1]=t>>>8,o+2},Pt.prototype.writeInt16BE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,2,32767,-32768),this[o]=t>>>8,this[o+1]=255&t,o+2},Pt.prototype.writeInt32LE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,4,2147483647,-2147483648),this[o]=255&t,this[o+1]=t>>>8,this[o+2]=t>>>16,this[o+3]=t>>>24,o+4},Pt.prototype.writeInt32BE=function(t,o,e){return t=+t,o>>>=0,e||He(this,t,o,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},Pt.prototype.writeFloatLE=function(t,o,e){return Ss(this,t,o,!0,e)},Pt.prototype.writeFloatBE=function(t,o,e){return Ss(this,t,o,!1,e)},Pt.prototype.writeDoubleLE=function(t,o,e){return Es(this,t,o,!0,e)},Pt.prototype.writeDoubleBE=function(t,o,e){return Es(this,t,o,!1,e)},Pt.prototype.copy=function(t,o,e,p){if(!Pt.isBuffer(t))throw new TypeError("argument should be a Buffer");if(e||(e=0),p||p===0||(p=this.length),o>=t.length&&(o=t.length),o||(o=0),p>0&&p<e&&(p=e),p===e||t.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),t.length-o<p-e&&(p=t.length-o+e);var f=p-e;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(o,e,p);else if(this===t&&e<o&&o<p)for(var n=f-1;n>=0;--n)t[n+o]=this[n+e];else Uint8Array.prototype.set.call(t,this.subarray(e,p),o);return f},Pt.prototype.fill=function(t,o,e,p){if(typeof t=="string"){if(typeof o=="string"?(p=o,o=0,e=this.length):typeof e=="string"&&(p=e,e=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!Pt.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(t.length===1){var f=t.charCodeAt(0);(p==="utf8"&&f<128||p==="latin1")&&(t=f)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(o<0||this.length<o||this.length<e)throw new RangeError("Out of range index");if(e<=o)return this;var n;if(o>>>=0,e=e===void 0?this.length:e>>>0,t||(t=0),typeof t=="number")for(n=o;n<e;++n)this[n]=t;else{var s=Pt.isBuffer(t)?t:Pt.from(t,p),u=s.length;if(u===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(n=0;n<e-o;++n)this[n+o]=s[n%u]}return this},Pa=/[^+/0-9A-Za-z-_]/g,Aa=function(){for(var t=new Array(256),o=0;o<16;++o)for(var e=16*o,p=0;p<16;++p)t[e+p]="0123456789abcdef"[o]+"0123456789abcdef"[p];return t}(),sr.Buffer,sr.INSPECT_MAX_BYTES,sr.kMaxLength,mo={},yo=sr,er=yo.Buffer,er.from&&er.alloc&&er.allocUnsafe&&er.allocUnsafeSlow?mo=yo:(Ts(yo,mo),mo.Buffer=Fr),Fr.prototype=Object.create(er.prototype),Ts(er,Fr),Fr.from=function(t,o,e){if(typeof t=="number")throw new TypeError("Argument must not be a number");return er(t,o,e)},Fr.alloc=function(t,o,e){if(typeof t!="number")throw new TypeError("Argument must be a number");var p=er(t);return o!==void 0?typeof e=="string"?p.fill(o,e):p.fill(o):p.fill(0),p},Fr.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return er(t)},Fr.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yo.SlowBuffer(t)},Bs=mo,ao={},Yo=Bs.Buffer,Pn=Yo.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},ao.StringDecoder=fo,fo.prototype.write=function(t){if(t.length===0)return"";var o,e;if(this.lastNeed){if((o=this.fillLast(t))===void 0)return"";e=this.lastNeed,this.lastNeed=0}else e=0;return e<t.length?o?o+this.text(t,e):this.text(t,e):o||""},fo.prototype.end=function(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+"�":o},fo.prototype.text=function(t,o){var e=function(f,n,s){var u=n.length-1;if(u<s)return 0;var l=hi(n[u]);return l>=0?(l>0&&(f.lastNeed=l-1),l):--u<s||l===-2?0:(l=hi(n[u]))>=0?(l>0&&(f.lastNeed=l-2),l):--u<s||l===-2?0:(l=hi(n[u]))>=0?(l>0&&(l===2?l=0:f.lastNeed=l-3),l):0}(this,t,o);if(!this.lastNeed)return t.toString("utf8",o);this.lastTotal=e;var p=t.length-(e-this.lastNeed);return t.copy(this.lastChar,0,p),t.toString("utf8",o,p)},fo.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},ao.StringDecoder,ao.StringDecoder}),xa={};Xr(xa,{StringDecoder:()=>Fa,default:()=>ao});var Fa,Su=Ne(()=>{Ot(),Bt(),Mt(),Rs(),Rs(),Fa=ao.StringDecoder}),Na=Nt((t,o)=>{Ot(),Bt(),Mt();var e=to(),{PromisePrototypeThen:p,SymbolAsyncIterator:f,SymbolIterator:n}=Pe(),{Buffer:s}=(je(),fe(We)),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=Ve().codes;function c(m,v,b){let w;if(typeof v=="string"||v instanceof s)return new m({objectMode:!0,...b,read(){this.push(v),this.push(null)}});let _;if(v&&v[f])_=!0,w=v[f]();else if(v&&v[n])_=!1,w=v[n]();else throw new u("iterable",["Iterable"],v);let I=new m({objectMode:!0,highWaterMark:1,...b}),x=!1;I._read=function(){x||(x=!0,z())},I._destroy=function(M,$){p(Y(M),()=>e.nextTick($,M),X=>e.nextTick($,X||M))};async function Y(M){let $=M!=null,X=typeof w.throw=="function";if($&&X){let{value:j,done:T}=await w.throw(M);if(await j,T)return}if(typeof w.return=="function"){let{value:j}=await w.return();await j}}async function z(){for(;;){try{let{value:M,done:$}=_?await w.next():w.next();if($)I.push(null);else{let X=M&&typeof M.then=="function"?await M:M;if(X===null)throw x=!1,new l;if(I.push(X))continue;x=!1}}catch(M){I.destroy(M)}break}}return I}o.exports=c}),ri=Nt((t,o)=>{Ot(),Bt(),Mt();var e=to(),{ArrayPrototypeIndexOf:p,NumberIsInteger:f,NumberIsNaN:n,NumberParseInt:s,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:m,SafeSet:v,SymbolAsyncIterator:b,Symbol:w}=Pe();o.exports=B,B.ReadableState=Wt;var{EventEmitter:_}=(uo(),fe(eo)),{Stream:I,prependListener:x}=Xn(),{Buffer:Y}=(je(),fe(We)),{addAbortSignal:z}=ti(),M=Pr(),$=_r().debuglog("stream",d=>{$=d}),X=eu(),j=po(),{getHighWaterMark:T,getDefaultHighWaterMark:K}=ts(),{aggregateTwoErrors:nt,codes:{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:ft,ERR_OUT_OF_RANGE:L,ERR_STREAM_PUSH_AFTER_EOF:Z,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:wt}}=Ve(),{validateObject:pt}=Xo(),ut=w("kPaused"),{StringDecoder:It}=(Su(),fe(xa)),lt=Na();c(B.prototype,I.prototype),c(B,I);var kt=()=>{},{errorOrDestroy:_t}=j;function Wt(d,g,O){typeof O!="boolean"&&(O=g instanceof Sr()),this.objectMode=!!(d&&d.objectMode),O&&(this.objectMode=this.objectMode||!!(d&&d.readableObjectMode)),this.highWaterMark=d?T(this,d,"readableHighWaterMark",O):K(!1),this.buffer=new X,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ut]=null,this.errorEmitted=!1,this.emitClose=!d||d.emitClose!==!1,this.autoDestroy=!d||d.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=d&&d.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,d&&d.encoding&&(this.decoder=new It(d.encoding),this.encoding=d.encoding)}function B(d){if(!(this instanceof B))return new B(d);let g=this instanceof Sr();this._readableState=new Wt(d,this,g),d&&(typeof d.read=="function"&&(this._read=d.read),typeof d.destroy=="function"&&(this._destroy=d.destroy),typeof d.construct=="function"&&(this._construct=d.construct),d.signal&&!g&&z(d.signal,this)),I.call(this,d),j.construct(this,()=>{this._readableState.needReadable&&St(this,this._readableState)})}B.prototype.destroy=j.destroy,B.prototype._undestroy=j.undestroy,B.prototype._destroy=function(d,g){g(d)},B.prototype[_.captureRejectionSymbol]=function(d){this.destroy(d)},B.prototype.push=function(d,g){return tt(this,d,g,!1)},B.prototype.unshift=function(d,g){return tt(this,d,g,!0)};function tt(d,g,O,D){$("readableAddChunk",g);let k=d._readableState,mt;if(k.objectMode||(typeof g=="string"?(O=O||k.defaultEncoding,k.encoding!==O&&(D&&k.encoding?g=Y.from(g,O).toString(k.encoding):(g=Y.from(g,O),O=""))):g instanceof Y?O="":I._isUint8Array(g)?(g=I._uint8ArrayToBuffer(g),O=""):g!=null&&(mt=new q("chunk",["string","Buffer","Uint8Array"],g))),mt)_t(d,mt);else if(g===null)k.reading=!1,C(d,k);else if(k.objectMode||g&&g.length>0)if(D)if(k.endEmitted)_t(d,new wt);else{if(k.destroyed||k.errored)return!1;st(d,k,g,!0)}else if(k.ended)_t(d,new Z);else{if(k.destroyed||k.errored)return!1;k.reading=!1,k.decoder&&!O?(g=k.decoder.write(g),k.objectMode||g.length!==0?st(d,k,g,!1):St(d,k)):st(d,k,g,!1)}else D||(k.reading=!1,St(d,k));return!k.ended&&(k.length<k.highWaterMark||k.length===0)}function st(d,g,O,D){g.flowing&&g.length===0&&!g.sync&&d.listenerCount("data")>0?(g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null,g.dataEmitted=!0,d.emit("data",O)):(g.length+=g.objectMode?1:O.length,D?g.buffer.unshift(O):g.buffer.push(O),g.needReadable&&ct(d)),St(d,g)}B.prototype.isPaused=function(){let d=this._readableState;return d[ut]===!0||d.flowing===!1},B.prototype.setEncoding=function(d){let g=new It(d);this._readableState.decoder=g,this._readableState.encoding=this._readableState.decoder.encoding;let O=this._readableState.buffer,D="";for(let k of O)D+=g.write(k);return O.clear(),D!==""&&O.push(D),this._readableState.length=D.length,this};var Tt=1073741824;function ht(d){if(d>Tt)throw new L("size","<= 1GiB",d);return d--,d|=d>>>1,d|=d>>>2,d|=d>>>4,d|=d>>>8,d|=d>>>16,d++,d}function A(d,g){return d<=0||g.length===0&&g.ended?0:g.objectMode?1:n(d)?g.flowing&&g.length?g.buffer.first().length:g.length:d<=g.length?d:g.ended?g.length:0}B.prototype.read=function(d){$("read",d),d===void 0?d=NaN:f(d)||(d=s(d,10));let g=this._readableState,O=d;if(d>g.highWaterMark&&(g.highWaterMark=ht(d)),d!==0&&(g.emittedReadable=!1),d===0&&g.needReadable&&((g.highWaterMark!==0?g.length>=g.highWaterMark:g.length>0)||g.ended))return $("read: emitReadable",g.length,g.ended),g.length===0&&g.ended?U(this):ct(this),null;if(d=A(d,g),d===0&&g.ended)return g.length===0&&U(this),null;let D=g.needReadable;if($("need readable",D),(g.length===0||g.length-d<g.highWaterMark)&&(D=!0,$("length less than watermark",D)),g.ended||g.reading||g.destroyed||g.errored||!g.constructed)D=!1,$("reading, ended or constructing",D);else if(D){$("do read"),g.reading=!0,g.sync=!0,g.length===0&&(g.needReadable=!0);try{this._read(g.highWaterMark)}catch(mt){_t(this,mt)}g.sync=!1,g.reading||(d=A(O,g))}let k;return d>0?k=rt(d,g):k=null,k===null?(g.needReadable=g.length<=g.highWaterMark,d=0):(g.length-=d,g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null),g.length===0&&(g.ended||(g.needReadable=!0),O!==d&&g.ended&&U(this)),k!==null&&!g.errorEmitted&&!g.closeEmitted&&(g.dataEmitted=!0,this.emit("data",k)),k};function C(d,g){if($("onEofChunk"),!g.ended){if(g.decoder){let O=g.decoder.end();O&&O.length&&(g.buffer.push(O),g.length+=g.objectMode?1:O.length)}g.ended=!0,g.sync?ct(d):(g.needReadable=!1,g.emittedReadable=!0,Et(d))}}function ct(d){let g=d._readableState;$("emitReadable",g.needReadable,g.emittedReadable),g.needReadable=!1,g.emittedReadable||($("emitReadable",g.flowing),g.emittedReadable=!0,e.nextTick(Et,d))}function Et(d){let g=d._readableState;$("emitReadable_",g.destroyed,g.length,g.ended),!g.destroyed&&!g.errored&&(g.length||g.ended)&&(d.emit("readable"),g.emittedReadable=!1),g.needReadable=!g.flowing&&!g.ended&&g.length<=g.highWaterMark,ot(d)}function St(d,g){!g.readingMore&&g.constructed&&(g.readingMore=!0,e.nextTick(bt,d,g))}function bt(d,g){for(;!g.reading&&!g.ended&&(g.length<g.highWaterMark||g.flowing&&g.length===0);){let O=g.length;if($("maybeReadMore read 0"),d.read(0),O===g.length)break}g.readingMore=!1}B.prototype._read=function(d){throw new ft("_read()")},B.prototype.pipe=function(d,g){let O=this,D=this._readableState;D.pipes.length===1&&(D.multiAwaitDrain||(D.multiAwaitDrain=!0,D.awaitDrainWriters=new v(D.awaitDrainWriters?[D.awaitDrainWriters]:[]))),D.pipes.push(d),$("pipe count=%d opts=%j",D.pipes.length,g);let k=(!g||g.end!==!1)&&d!==e.stdout&&d!==e.stderr?Dt:ne;D.endEmitted?e.nextTick(k):O.once("end",k),d.on("unpipe",mt);function mt(se,te){$("onunpipe"),se===O&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,jt())}function Dt(){$("onend"),d.end()}let P,$t=!1;function jt(){$("cleanup"),d.removeListener("close",Ct),d.removeListener("finish",ee),P&&d.removeListener("drain",P),d.removeListener("error",Zt),d.removeListener("unpipe",mt),O.removeListener("end",Dt),O.removeListener("end",ne),O.removeListener("data",Ut),$t=!0,P&&D.awaitDrainWriters&&(!d._writableState||d._writableState.needDrain)&&P()}function Lt(){$t||(D.pipes.length===1&&D.pipes[0]===d?($("false write response, pause",0),D.awaitDrainWriters=d,D.multiAwaitDrain=!1):D.pipes.length>1&&D.pipes.includes(d)&&($("false write response, pause",D.awaitDrainWriters.size),D.awaitDrainWriters.add(d)),O.pause()),P||(P=it(O,d),d.on("drain",P))}O.on("data",Ut);function Ut(se){$("ondata");let te=d.write(se);$("dest.write",te),te===!1&&Lt()}function Zt(se){if($("onerror",se),ne(),d.removeListener("error",Zt),d.listenerCount("error")===0){let te=d._writableState||d._readableState;te&&!te.errorEmitted?_t(d,se):d.emit("error",se)}}x(d,"error",Zt);function Ct(){d.removeListener("finish",ee),ne()}d.once("close",Ct);function ee(){$("onfinish"),d.removeListener("close",Ct),ne()}d.once("finish",ee);function ne(){$("unpipe"),O.unpipe(d)}return d.emit("pipe",O),d.writableNeedDrain===!0?D.flowing&&Lt():D.flowing||($("pipe resume"),O.resume()),d};function it(d,g){return function(){let O=d._readableState;O.awaitDrainWriters===g?($("pipeOnDrain",1),O.awaitDrainWriters=null):O.multiAwaitDrain&&($("pipeOnDrain",O.awaitDrainWriters.size),O.awaitDrainWriters.delete(g)),(!O.awaitDrainWriters||O.awaitDrainWriters.size===0)&&d.listenerCount("data")&&d.resume()}}B.prototype.unpipe=function(d){let g=this._readableState,O={hasUnpiped:!1};if(g.pipes.length===0)return this;if(!d){let k=g.pipes;g.pipes=[],this.pause();for(let mt=0;mt<k.length;mt++)k[mt].emit("unpipe",this,{hasUnpiped:!1});return this}let D=p(g.pipes,d);return D===-1?this:(g.pipes.splice(D,1),g.pipes.length===0&&this.pause(),d.emit("unpipe",this,O),this)},B.prototype.on=function(d,g){let O=I.prototype.on.call(this,d,g),D=this._readableState;return d==="data"?(D.readableListening=this.listenerCount("readable")>0,D.flowing!==!1&&this.resume()):d==="readable"&&!D.endEmitted&&!D.readableListening&&(D.readableListening=D.needReadable=!0,D.flowing=!1,D.emittedReadable=!1,$("on readable",D.length,D.reading),D.length?ct(this):D.reading||e.nextTick(R,this)),O},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(d,g){let O=I.prototype.removeListener.call(this,d,g);return d==="readable"&&e.nextTick(J,this),O},B.prototype.off=B.prototype.removeListener,B.prototype.removeAllListeners=function(d){let g=I.prototype.removeAllListeners.apply(this,arguments);return(d==="readable"||d===void 0)&&e.nextTick(J,this),g};function J(d){let g=d._readableState;g.readableListening=d.listenerCount("readable")>0,g.resumeScheduled&&g[ut]===!1?g.flowing=!0:d.listenerCount("data")>0?d.resume():g.readableListening||(g.flowing=null)}function R(d){$("readable nexttick read 0"),d.read(0)}B.prototype.resume=function(){let d=this._readableState;return d.flowing||($("resume"),d.flowing=!d.readableListening,W(this,d)),d[ut]=!1,this};function W(d,g){g.resumeScheduled||(g.resumeScheduled=!0,e.nextTick(F,d,g))}function F(d,g){$("resume",g.reading),g.reading||d.read(0),g.resumeScheduled=!1,d.emit("resume"),ot(d),g.flowing&&!g.reading&&d.read(0)}B.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ut]=!0,this};function ot(d){let g=d._readableState;for($("flow",g.flowing);g.flowing&&d.read()!==null;);}B.prototype.wrap=function(d){let g=!1;d.on("data",D=>{!this.push(D)&&d.pause&&(g=!0,d.pause())}),d.on("end",()=>{this.push(null)}),d.on("error",D=>{_t(this,D)}),d.on("close",()=>{this.destroy()}),d.on("destroy",()=>{this.destroy()}),this._read=()=>{g&&d.resume&&(g=!1,d.resume())};let O=l(d);for(let D=1;D<O.length;D++){let k=O[D];this[k]===void 0&&typeof d[k]=="function"&&(this[k]=d[k].bind(d))}return this},B.prototype[b]=function(){return at(this)},B.prototype.iterator=function(d){return d!==void 0&&pt(d,"options"),at(this,d)};function at(d,g){typeof d.read!="function"&&(d=B.wrap(d,{objectMode:!0}));let O=H(d,g);return O.stream=d,O}async function*H(d,g){let O=kt;function D(Dt){this===d?(O(),O=kt):O=Dt}d.on("readable",D);let k,mt=M(d,{writable:!1},Dt=>{k=Dt?nt(k,Dt):null,O(),O=kt});try{for(;;){let Dt=d.destroyed?null:d.read();if(Dt!==null)yield Dt;else{if(k)throw k;if(k===null)return;await new m(D)}}}catch(Dt){throw k=nt(k,Dt),k}finally{(k||(g==null?void 0:g.destroyOnReturn)!==!1)&&(k===void 0||d._readableState.autoDestroy)?j.destroyer(d,null):(d.off("readable",D),mt())}}u(B.prototype,{readable:{__proto__:null,get(){let d=this._readableState;return!!d&&d.readable!==!1&&!d.destroyed&&!d.errorEmitted&&!d.endEmitted},set(d){this._readableState&&(this._readableState.readable=!!d)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(d){this._readableState&&(this._readableState.flowing=d)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(d){this._readableState&&(this._readableState.destroyed=d)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(Wt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ut]!==!1},set(d){this[ut]=!!d}}}),B._fromList=rt;function rt(d,g){if(g.length===0)return null;let O;return g.objectMode?O=g.buffer.shift():!d||d>=g.length?(g.decoder?O=g.buffer.join(""):g.buffer.length===1?O=g.buffer.first():O=g.buffer.concat(g.length),g.buffer.clear()):O=g.buffer.consume(d,g.decoder),O}function U(d){let g=d._readableState;$("endReadable",g.endEmitted),g.endEmitted||(g.ended=!0,e.nextTick(V,g,d))}function V(d,g){if($("endReadableNT",d.endEmitted,d.length),!d.errored&&!d.closeEmitted&&!d.endEmitted&&d.length===0){if(d.endEmitted=!0,g.emit("end"),g.writable&&g.allowHalfOpen===!1)e.nextTick(et,g);else if(d.autoDestroy){let O=g._writableState;(!O||O.autoDestroy&&(O.finished||O.writable===!1))&&g.destroy()}}}function et(d){d.writable&&!d.writableEnded&&!d.destroyed&&d.end()}B.from=function(d,g){return lt(B,d,g)};var gt;function h(){return gt===void 0&&(gt={}),gt}B.fromWeb=function(d,g){return h().newStreamReadableFromReadableStream(d,g)},B.toWeb=function(d,g){return h().newReadableStreamFromStreamReadable(d,g)},B.wrap=function(d,g){var O,D;return new B({objectMode:(O=(D=d.readableObjectMode)!==null&&D!==void 0?D:d.objectMode)!==null&&O!==void 0?O:!0,...g,destroy(k,mt){j.destroyer(d,k),mt(k)}}).wrap(d)}}),Wa=Nt((t,o)=>{Ot(),Bt(),Mt();var e=to(),{ArrayPrototypeSlice:p,Error:f,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:s,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:m,SymbolHasInstance:v}=Pe();o.exports=It,It.WritableState=pt;var{EventEmitter:b}=(uo(),fe(eo)),w=Xn().Stream,{Buffer:_}=(je(),fe(We)),I=po(),{addAbortSignal:x}=ti(),{getHighWaterMark:Y,getDefaultHighWaterMark:z}=ts(),{ERR_INVALID_ARG_TYPE:M,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_MULTIPLE_CALLBACK:X,ERR_STREAM_CANNOT_PIPE:j,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:K,ERR_STREAM_NULL_VALUES:nt,ERR_STREAM_WRITE_AFTER_END:q,ERR_UNKNOWN_ENCODING:ft}=Ve().codes,{errorOrDestroy:L}=I;l(It.prototype,w.prototype),l(It,w);function Z(){}var wt=m("kOnFinished");function pt(R,W,F){typeof F!="boolean"&&(F=W instanceof Sr()),this.objectMode=!!(R&&R.objectMode),F&&(this.objectMode=this.objectMode||!!(R&&R.writableObjectMode)),this.highWaterMark=R?Y(this,R,"writableHighWaterMark",F):z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ot=!!(R&&R.decodeStrings===!1);this.decodeStrings=!ot,this.defaultEncoding=R&&R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,W),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ut(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!R||R.emitClose!==!1,this.autoDestroy=!R||R.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[wt]=[]}function ut(R){R.buffered=[],R.bufferedIndex=0,R.allBuffers=!0,R.allNoop=!0}pt.prototype.getBuffer=function(){return p(this.buffered,this.bufferedIndex)},s(pt.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function It(R){let W=this instanceof Sr();if(!W&&!n(It,this))return new It(R);this._writableState=new pt(R,this,W),R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final),typeof R.construct=="function"&&(this._construct=R.construct),R.signal&&x(R.signal,this)),w.call(this,R),I.construct(this,()=>{let F=this._writableState;F.writing||ht(this,F),Et(this,F)})}s(It,v,{__proto__:null,value:function(R){return n(this,R)?!0:this!==It?!1:R&&R._writableState instanceof pt}}),It.prototype.pipe=function(){L(this,new j)};function lt(R,W,F,ot){let at=R._writableState;if(typeof F=="function")ot=F,F=at.defaultEncoding;else{if(!F)F=at.defaultEncoding;else if(F!=="buffer"&&!_.isEncoding(F))throw new ft(F);typeof ot!="function"&&(ot=Z)}if(W===null)throw new nt;if(!at.objectMode)if(typeof W=="string")at.decodeStrings!==!1&&(W=_.from(W,F),F="buffer");else if(W instanceof _)F="buffer";else if(w._isUint8Array(W))W=w._uint8ArrayToBuffer(W),F="buffer";else throw new M("chunk",["string","Buffer","Uint8Array"],W);let H;return at.ending?H=new q:at.destroyed&&(H=new T("write")),H?(e.nextTick(ot,H),L(R,H,!0),H):(at.pendingcb++,kt(R,at,W,F,ot))}It.prototype.write=function(R,W,F){return lt(this,R,W,F)===!0},It.prototype.cork=function(){this._writableState.corked++},It.prototype.uncork=function(){let R=this._writableState;R.corked&&(R.corked--,R.writing||ht(this,R))},It.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=c(R)),!_.isEncoding(R))throw new ft(R);return this._writableState.defaultEncoding=R,this};function kt(R,W,F,ot,at){let H=W.objectMode?1:F.length;W.length+=H;let rt=W.length<W.highWaterMark;return rt||(W.needDrain=!0),W.writing||W.corked||W.errored||!W.constructed?(W.buffered.push({chunk:F,encoding:ot,callback:at}),W.allBuffers&&ot!=="buffer"&&(W.allBuffers=!1),W.allNoop&&at!==Z&&(W.allNoop=!1)):(W.writelen=H,W.writecb=at,W.writing=!0,W.sync=!0,R._write(F,ot,W.onwrite),W.sync=!1),rt&&!W.errored&&!W.destroyed}function _t(R,W,F,ot,at,H,rt){W.writelen=ot,W.writecb=rt,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new T("write")):F?R._writev(at,W.onwrite):R._write(at,H,W.onwrite),W.sync=!1}function Wt(R,W,F,ot){--W.pendingcb,ot(F),Tt(W),L(R,F)}function B(R,W){let F=R._writableState,ot=F.sync,at=F.writecb;if(typeof at!="function"){L(R,new X);return}F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0,W?(W.stack,F.errored||(F.errored=W),R._readableState&&!R._readableState.errored&&(R._readableState.errored=W),ot?e.nextTick(Wt,R,F,W,at):Wt(R,F,W,at)):(F.buffered.length>F.bufferedIndex&&ht(R,F),ot?F.afterWriteTickInfo!==null&&F.afterWriteTickInfo.cb===at?F.afterWriteTickInfo.count++:(F.afterWriteTickInfo={count:1,cb:at,stream:R,state:F},e.nextTick(tt,F.afterWriteTickInfo)):st(R,F,1,at))}function tt({stream:R,state:W,count:F,cb:ot}){return W.afterWriteTickInfo=null,st(R,W,F,ot)}function st(R,W,F,ot){for(!W.ending&&!R.destroyed&&W.length===0&&W.needDrain&&(W.needDrain=!1,R.emit("drain"));F-- >0;)W.pendingcb--,ot();W.destroyed&&Tt(W),Et(R,W)}function Tt(R){if(R.writing)return;for(let at=R.bufferedIndex;at<R.buffered.length;++at){var W;let{chunk:H,callback:rt}=R.buffered[at],U=R.objectMode?1:H.length;R.length-=U,rt((W=R.errored)!==null&&W!==void 0?W:new T("write"))}let F=R[wt].splice(0);for(let at=0;at<F.length;at++){var ot;F[at]((ot=R.errored)!==null&&ot!==void 0?ot:new T("end"))}ut(R)}function ht(R,W){if(W.corked||W.bufferProcessing||W.destroyed||!W.constructed)return;let{buffered:F,bufferedIndex:ot,objectMode:at}=W,H=F.length-ot;if(!H)return;let rt=ot;if(W.bufferProcessing=!0,H>1&&R._writev){W.pendingcb-=H-1;let U=W.allNoop?Z:et=>{for(let gt=rt;gt<F.length;++gt)F[gt].callback(et)},V=W.allNoop&&rt===0?F:p(F,rt);V.allBuffers=W.allBuffers,_t(R,W,!0,W.length,V,"",U),ut(W)}else{do{let{chunk:U,encoding:V,callback:et}=F[rt];F[rt++]=null;let gt=at?1:U.length;_t(R,W,!1,gt,U,V,et)}while(rt<F.length&&!W.writing);rt===F.length?ut(W):rt>256?(F.splice(0,rt),W.bufferedIndex=0):W.bufferedIndex=rt}W.bufferProcessing=!1}It.prototype._write=function(R,W,F){if(this._writev)this._writev([{chunk:R,encoding:W}],F);else throw new $("_write()")},It.prototype._writev=null,It.prototype.end=function(R,W,F){let ot=this._writableState;typeof R=="function"?(F=R,R=null,W=null):typeof W=="function"&&(F=W,W=null);let at;if(R!=null){let H=lt(this,R,W);H instanceof f&&(at=H)}return ot.corked&&(ot.corked=1,this.uncork()),at||(!ot.errored&&!ot.ending?(ot.ending=!0,Et(this,ot,!0),ot.ended=!0):ot.finished?at=new K("end"):ot.destroyed&&(at=new T("end"))),typeof F=="function"&&(at||ot.finished?e.nextTick(F,at):ot[wt].push(F)),this};function A(R){return R.ending&&!R.destroyed&&R.constructed&&R.length===0&&!R.errored&&R.buffered.length===0&&!R.finished&&!R.writing&&!R.errorEmitted&&!R.closeEmitted}function C(R,W){let F=!1;function ot(at){if(F){L(R,at??X());return}if(F=!0,W.pendingcb--,at){let H=W[wt].splice(0);for(let rt=0;rt<H.length;rt++)H[rt](at);L(R,at,W.sync)}else A(W)&&(W.prefinished=!0,R.emit("prefinish"),W.pendingcb++,e.nextTick(St,R,W))}W.sync=!0,W.pendingcb++;try{R._final(ot)}catch(at){ot(at)}W.sync=!1}function ct(R,W){!W.prefinished&&!W.finalCalled&&(typeof R._final=="function"&&!W.destroyed?(W.finalCalled=!0,C(R,W)):(W.prefinished=!0,R.emit("prefinish")))}function Et(R,W,F){A(W)&&(ct(R,W),W.pendingcb===0&&(F?(W.pendingcb++,e.nextTick((ot,at)=>{A(at)?St(ot,at):at.pendingcb--},R,W)):A(W)&&(W.pendingcb++,St(R,W))))}function St(R,W){W.pendingcb--,W.finished=!0;let F=W[wt].splice(0);for(let ot=0;ot<F.length;ot++)F[ot]();if(R.emit("finish"),W.autoDestroy){let ot=R._readableState;(!ot||ot.autoDestroy&&(ot.endEmitted||ot.readable===!1))&&R.destroy()}}u(It.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(R){this._writableState&&(this._writableState.destroyed=R)}},writable:{__proto__:null,get(){let R=this._writableState;return!!R&&R.writable!==!1&&!R.destroyed&&!R.errored&&!R.ending&&!R.ended},set(R){this._writableState&&(this._writableState.writable=!!R)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let R=this._writableState;return R?!R.destroyed&&!R.ending&&R.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var bt=I.destroy;It.prototype.destroy=function(R,W){let F=this._writableState;return!F.destroyed&&(F.bufferedIndex<F.buffered.length||F[wt].length)&&e.nextTick(Tt,F),bt.call(this,R,W),this},It.prototype._undestroy=I.undestroy,It.prototype._destroy=function(R,W){W(R)},It.prototype[b.captureRejectionSymbol]=function(R){this.destroy(R)};var it;function J(){return it===void 0&&(it={}),it}It.fromWeb=function(R,W){return J().newStreamWritableFromWritableStream(R,W)},It.toWeb=function(R){return J().newWritableStreamFromStreamWritable(R)}}),Eu=Nt((t,o)=>{Ot(),Bt(),Mt();var e=to(),p=(je(),fe(We)),{isReadable:f,isWritable:n,isIterable:s,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:m}=Tr(),v=Pr(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:w,ERR_INVALID_RETURN_VALUE:_}}=Ve(),{destroyer:I}=po(),x=Sr(),Y=ri(),{createDeferredPromise:z}=_r(),M=Na(),$=globalThis.Blob||p.Blob,X=typeof $<"u"?function(ft){return ft instanceof $}:function(ft){return!1},j=globalThis.AbortController||Zn().AbortController,{FunctionPrototypeCall:T}=Pe(),K=class extends x{constructor(ft){super(ft),(ft==null?void 0:ft.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ft==null?void 0:ft.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};o.exports=function ft(L,Z){if(m(L))return L;if(l(L))return q({readable:L});if(c(L))return q({writable:L});if(u(L))return q({writable:!1,readable:!1});if(typeof L=="function"){let{value:pt,write:ut,final:It,destroy:lt}=nt(L);if(s(pt))return M(K,pt,{objectMode:!0,write:ut,final:It,destroy:lt});let kt=pt==null?void 0:pt.then;if(typeof kt=="function"){let _t,Wt=T(kt,pt,B=>{if(B!=null)throw new _("nully","body",B)},B=>{I(_t,B)});return _t=new K({objectMode:!0,readable:!1,write:ut,final(B){It(async()=>{try{await Wt,e.nextTick(B,null)}catch(tt){e.nextTick(B,tt)}})},destroy:lt})}throw new _("Iterable, AsyncIterable or AsyncFunction",Z,pt)}if(X(L))return ft(L.arrayBuffer());if(s(L))return M(K,L,{objectMode:!0,writable:!1});if(typeof(L==null?void 0:L.writable)=="object"||typeof(L==null?void 0:L.readable)=="object"){let pt=L!=null&&L.readable?l(L==null?void 0:L.readable)?L==null?void 0:L.readable:ft(L.readable):void 0,ut=L!=null&&L.writable?c(L==null?void 0:L.writable)?L==null?void 0:L.writable:ft(L.writable):void 0;return q({readable:pt,writable:ut})}let wt=L==null?void 0:L.then;if(typeof wt=="function"){let pt;return T(wt,L,ut=>{ut!=null&&pt.push(ut),pt.push(null)},ut=>{I(pt,ut)}),pt=new K({objectMode:!0,writable:!1,read(){}})}throw new w(Z,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],L)};function nt(ft){let{promise:L,resolve:Z}=z(),wt=new j,pt=wt.signal;return{value:ft(async function*(){for(;;){let ut=L;L=null;let{chunk:It,done:lt,cb:kt}=await ut;if(e.nextTick(kt),lt)return;if(pt.aborted)throw new b(void 0,{cause:pt.reason});({promise:L,resolve:Z}=z()),yield It}}(),{signal:pt}),write(ut,It,lt){let kt=Z;Z=null,kt({chunk:ut,done:!1,cb:lt})},final(ut){let It=Z;Z=null,It({done:!0,cb:ut})},destroy(ut,It){wt.abort(),It(ut)}}}function q(ft){let L=ft.readable&&typeof ft.readable.read!="function"?Y.wrap(ft.readable):ft.readable,Z=ft.writable,wt=!!f(L),pt=!!n(Z),ut,It,lt,kt,_t;function Wt(B){let tt=kt;kt=null,tt?tt(B):B&&_t.destroy(B)}return _t=new K({readableObjectMode:!!(L!=null&&L.readableObjectMode),writableObjectMode:!!(Z!=null&&Z.writableObjectMode),readable:wt,writable:pt}),pt&&(v(Z,B=>{pt=!1,B&&I(L,B),Wt(B)}),_t._write=function(B,tt,st){Z.write(B,tt)?st():ut=st},_t._final=function(B){Z.end(),It=B},Z.on("drain",function(){if(ut){let B=ut;ut=null,B()}}),Z.on("finish",function(){if(It){let B=It;It=null,B()}})),wt&&(v(L,B=>{wt=!1,B&&I(L,B),Wt(B)}),L.on("readable",function(){if(lt){let B=lt;lt=null,B()}}),L.on("end",function(){_t.push(null)}),_t._read=function(){for(;;){let B=L.read();if(B===null){lt=_t._read;return}if(!_t.push(B))return}}),_t._destroy=function(B,tt){!B&&kt!==null&&(B=new b),lt=null,ut=null,It=null,kt===null?tt(B):(kt=tt,I(Z,B),I(L,B))},_t}}),Sr=Nt((t,o)=>{Ot(),Bt(),Mt();var{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:p,ObjectKeys:f,ObjectSetPrototypeOf:n}=Pe();o.exports=l;var s=ri(),u=Wa();n(l.prototype,s.prototype),n(l,s);{let b=f(u.prototype);for(let w=0;w<b.length;w++){let _=b[w];l.prototype[_]||(l.prototype[_]=u.prototype[_])}}function l(b){if(!(this instanceof l))return new l(b);s.call(this,b),u.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(l.prototype,{writable:{__proto__:null,...p(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...p(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...p(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...p(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...p(u.prototype,"writableLength")},writableFinished:{__proto__:null,...p(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...p(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...p(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...p(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});var c;function m(){return c===void 0&&(c={}),c}l.fromWeb=function(b,w){return m().newStreamDuplexFromReadableWritablePair(b,w)},l.toWeb=function(b){return m().newReadableWritablePairFromDuplex(b)};var v;l.from=function(b){return v||(v=Eu()),v(b,"body")}}),ja=Nt((t,o)=>{Ot(),Bt(),Mt();var{ObjectSetPrototypeOf:e,Symbol:p}=Pe();o.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:f}=Ve().codes,n=Sr(),{getHighWaterMark:s}=ts();e(l.prototype,n.prototype),e(l,n);var u=p("kCallback");function l(v){if(!(this instanceof l))return new l(v);let b=v?s(this,v,"readableHighWaterMark",!0):null;b===0&&(v={...v,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:v.writableHighWaterMark||0}),n.call(this,v),this._readableState.sync=!1,this[u]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",m)}function c(v){typeof this._flush=="function"&&!this.destroyed?this._flush((b,w)=>{if(b){v?v(b):this.destroy(b);return}w!=null&&this.push(w),this.push(null),v&&v()}):(this.push(null),v&&v())}function m(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(v,b,w){throw new f("_transform()")},l.prototype._write=function(v,b,w){let _=this._readableState,I=this._writableState,x=_.length;this._transform(v,b,(Y,z)=>{if(Y){w(Y);return}z!=null&&this.push(z),I.ended||x===_.length||_.length<_.highWaterMark?w():this[u]=w})},l.prototype._read=function(){if(this[u]){let v=this[u];this[u]=null,v()}}}),Da=Nt((t,o)=>{Ot(),Bt(),Mt();var{ObjectSetPrototypeOf:e}=Pe();o.exports=f;var p=ja();e(f.prototype,p.prototype),e(f,p);function f(n){if(!(this instanceof f))return new f(n);p.call(this,n)}f.prototype._transform=function(n,s,u){u(null,n)}}),os=Nt((t,o)=>{Ot(),Bt(),Mt();var e=to(),{ArrayIsArray:p,Promise:f,SymbolAsyncIterator:n}=Pe(),s=Pr(),{once:u}=_r(),l=po(),c=Sr(),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:I},AbortError:x}=Ve(),{validateFunction:Y,validateAbortSignal:z}=Xo(),{isIterable:M,isReadable:$,isReadableNodeStream:X,isNodeStream:j,isTransformStream:T,isWebStream:K,isReadableStream:nt,isReadableEnded:q}=Tr(),ft=globalThis.AbortController||Zn().AbortController,L,Z;function wt(tt,st,Tt){let ht=!1;tt.on("close",()=>{ht=!0});let A=s(tt,{readable:st,writable:Tt},C=>{ht=!C});return{destroy:C=>{ht||(ht=!0,l.destroyer(tt,C||new _("pipe")))},cleanup:A}}function pt(tt){return Y(tt[tt.length-1],"streams[stream.length - 1]"),tt.pop()}function ut(tt){if(M(tt))return tt;if(X(tt))return It(tt);throw new v("val",["Readable","Iterable","AsyncIterable"],tt)}async function*It(tt){Z||(Z=ri()),yield*Z.prototype[n].call(tt)}async function lt(tt,st,Tt,{end:ht}){let A,C=null,ct=bt=>{if(bt&&(A=bt),C){let it=C;C=null,it()}},Et=()=>new f((bt,it)=>{A?it(A):C=()=>{A?it(A):bt()}});st.on("drain",ct);let St=s(st,{readable:!1},ct);try{st.writableNeedDrain&&await Et();for await(let bt of tt)st.write(bt)||await Et();ht&&st.end(),await Et(),Tt()}catch(bt){Tt(A!==bt?m(A,bt):bt)}finally{St(),st.off("drain",ct)}}async function kt(tt,st,Tt,{end:ht}){T(st)&&(st=st.writable);let A=st.getWriter();try{for await(let C of tt)await A.ready,A.write(C).catch(()=>{});await A.ready,ht&&await A.close(),Tt()}catch(C){try{await A.abort(C),Tt(C)}catch(ct){Tt(ct)}}}function _t(...tt){return Wt(tt,u(pt(tt)))}function Wt(tt,st,Tt){if(tt.length===1&&p(tt[0])&&(tt=tt[0]),tt.length<2)throw new w("streams");let ht=new ft,A=ht.signal,C=Tt==null?void 0:Tt.signal,ct=[];z(C,"options.signal");function Et(){W(new x)}C==null||C.addEventListener("abort",Et);let St,bt,it=[],J=0;function R(H){W(H,--J===0)}function W(H,rt){if(H&&(!St||St.code==="ERR_STREAM_PREMATURE_CLOSE")&&(St=H),!(!St&&!rt)){for(;it.length;)it.shift()(St);C==null||C.removeEventListener("abort",Et),ht.abort(),rt&&(St||ct.forEach(U=>U()),e.nextTick(st,St,bt))}}let F;for(let H=0;H<tt.length;H++){let rt=tt[H],U=H<tt.length-1,V=H>0,et=U||(Tt==null?void 0:Tt.end)!==!1,gt=H===tt.length-1;if(j(rt)){let h=function(d){d&&d.name!=="AbortError"&&d.code!=="ERR_STREAM_PREMATURE_CLOSE"&&R(d)};if(et){let{destroy:d,cleanup:g}=wt(rt,U,V);it.push(d),$(rt)&&gt&&ct.push(g)}rt.on("error",h),$(rt)&&gt&&ct.push(()=>{rt.removeListener("error",h)})}if(H===0)if(typeof rt=="function"){if(F=rt({signal:A}),!M(F))throw new b("Iterable, AsyncIterable or Stream","source",F)}else M(rt)||X(rt)||T(rt)?F=rt:F=c.from(rt);else if(typeof rt=="function"){if(T(F)){var ot;F=ut((ot=F)===null||ot===void 0?void 0:ot.readable)}else F=ut(F);if(F=rt(F,{signal:A}),U){if(!M(F,!0))throw new b("AsyncIterable",`transform[${H-1}]`,F)}else{var at;L||(L=Da());let h=new L({objectMode:!0}),d=(at=F)===null||at===void 0?void 0:at.then;if(typeof d=="function")J++,d.call(F,D=>{bt=D,D!=null&&h.write(D),et&&h.end(),e.nextTick(R)},D=>{h.destroy(D),e.nextTick(R,D)});else if(M(F,!0))J++,lt(F,h,R,{end:et});else if(nt(F)||T(F)){let D=F.readable||F;J++,lt(D,h,R,{end:et})}else throw new b("AsyncIterable or Promise","destination",F);F=h;let{destroy:g,cleanup:O}=wt(F,!1,!0);it.push(g),gt&&ct.push(O)}}else if(j(rt)){if(X(F)){J+=2;let h=B(F,rt,R,{end:et});$(rt)&&gt&&ct.push(h)}else if(T(F)||nt(F)){let h=F.readable||F;J++,lt(h,rt,R,{end:et})}else if(M(F))J++,lt(F,rt,R,{end:et});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);F=rt}else if(K(rt)){if(X(F))J++,kt(ut(F),rt,R,{end:et});else if(nt(F)||M(F))J++,kt(F,rt,R,{end:et});else if(T(F))J++,kt(F.readable,rt,R,{end:et});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);F=rt}else F=c.from(rt)}return(A!=null&&A.aborted||C!=null&&C.aborted)&&e.nextTick(Et),F}function B(tt,st,Tt,{end:ht}){let A=!1;if(st.on("close",()=>{A||Tt(new I)}),tt.pipe(st,{end:!1}),ht){let C=function(){A=!0,st.end()};q(tt)?e.nextTick(C):tt.once("end",C)}else Tt();return s(tt,{readable:!0,writable:!1},C=>{let ct=tt._readableState;C&&C.code==="ERR_STREAM_PREMATURE_CLOSE"&&ct&&ct.ended&&!ct.errored&&!ct.errorEmitted?tt.once("end",Tt).once("error",Tt):Tt(C)}),s(st,{readable:!1,writable:!0},Tt)}o.exports={pipelineImpl:Wt,pipeline:_t}}),La=Nt((t,o)=>{Ot(),Bt(),Mt();var{pipeline:e}=os(),p=Sr(),{destroyer:f}=po(),{isNodeStream:n,isReadable:s,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:m,isReadableStream:v}=Tr(),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:w,ERR_MISSING_ARGS:_}}=Ve(),I=Pr();o.exports=function(...x){if(x.length===0)throw new _("streams");if(x.length===1)return p.from(x[0]);let Y=[...x];if(typeof x[0]=="function"&&(x[0]=p.from(x[0])),typeof x[x.length-1]=="function"){let L=x.length-1;x[L]=p.from(x[L])}for(let L=0;L<x.length;++L)if(!(!n(x[L])&&!l(x[L]))){if(L<x.length-1&&!(s(x[L])||v(x[L])||c(x[L])))throw new w(`streams[${L}]`,Y[L],"must be readable");if(L>0&&!(u(x[L])||m(x[L])||c(x[L])))throw new w(`streams[${L}]`,Y[L],"must be writable")}let z,M,$,X,j;function T(L){let Z=X;X=null,Z?Z(L):L?j.destroy(L):!ft&&!q&&j.destroy()}let K=x[0],nt=e(x,T),q=!!(u(K)||m(K)||c(K)),ft=!!(s(nt)||v(nt)||c(nt));if(j=new p({writableObjectMode:!!(K!=null&&K.writableObjectMode),readableObjectMode:!!(nt!=null&&nt.writableObjectMode),writable:q,readable:ft}),q){if(n(K))j._write=function(Z,wt,pt){K.write(Z,wt)?pt():z=pt},j._final=function(Z){K.end(),M=Z},K.on("drain",function(){if(z){let Z=z;z=null,Z()}});else if(l(K)){let Z=(c(K)?K.writable:K).getWriter();j._write=async function(wt,pt,ut){try{await Z.ready,Z.write(wt).catch(()=>{}),ut()}catch(It){ut(It)}},j._final=async function(wt){try{await Z.ready,Z.close().catch(()=>{}),M=wt}catch(pt){wt(pt)}}}let L=c(nt)?nt.readable:nt;I(L,()=>{if(M){let Z=M;M=null,Z()}})}if(ft){if(n(nt))nt.on("readable",function(){if($){let L=$;$=null,L()}}),nt.on("end",function(){j.push(null)}),j._read=function(){for(;;){let L=nt.read();if(L===null){$=j._read;return}if(!j.push(L))return}};else if(l(nt)){let L=(c(nt)?nt.readable:nt).getReader();j._read=async function(){for(;;)try{let{value:Z,done:wt}=await L.read();if(!j.push(Z))return;if(wt){j.push(null);return}}catch{return}}}}return j._destroy=function(L,Z){!L&&X!==null&&(L=new b),$=null,z=null,M=null,X===null?Z(L):(X=Z,n(nt)&&f(nt,L))},j}}),Tu=Nt((t,o)=>{Ot(),Bt(),Mt();var e=globalThis.AbortController||Zn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:p,ERR_INVALID_ARG_TYPE:f,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:s},AbortError:u}=Ve(),{validateAbortSignal:l,validateInteger:c,validateObject:m}=Xo(),v=Pe().Symbol("kWeak"),{finished:b}=Pr(),w=La(),{addAbortSignalNoValidate:_}=ti(),{isWritable:I,isNodeStream:x}=Tr(),{ArrayPrototypePush:Y,MathFloor:z,Number:M,NumberIsNaN:$,Promise:X,PromiseReject:j,PromisePrototypeThen:T,Symbol:K}=Pe(),nt=K("kEmpty"),q=K("kEof");function ft(ht,A){if(A!=null&&m(A,"options"),(A==null?void 0:A.signal)!=null&&l(A.signal,"options.signal"),x(ht)&&!I(ht))throw new p("stream",ht,"must be writable");let C=w(this,ht);return A!=null&&A.signal&&_(A.signal,C),C}function L(ht,A){if(typeof ht!="function")throw new f("fn",["Function","AsyncFunction"],ht);A!=null&&m(A,"options"),(A==null?void 0:A.signal)!=null&&l(A.signal,"options.signal");let C=1;return(A==null?void 0:A.concurrency)!=null&&(C=z(A.concurrency)),c(C,"concurrency",1),(async function*(){var ct,Et;let St=new e,bt=this,it=[],J=St.signal,R={signal:J},W=()=>St.abort();A!=null&&(ct=A.signal)!==null&&ct!==void 0&&ct.aborted&&W(),A==null||(Et=A.signal)===null||Et===void 0||Et.addEventListener("abort",W);let F,ot,at=!1;function H(){at=!0}async function rt(){try{for await(let et of bt){var U;if(at)return;if(J.aborted)throw new u;try{et=ht(et,R)}catch(gt){et=j(gt)}et!==nt&&(typeof((U=et)===null||U===void 0?void 0:U.catch)=="function"&&et.catch(H),it.push(et),F&&(F(),F=null),!at&&it.length&&it.length>=C&&await new X(gt=>{ot=gt}))}it.push(q)}catch(et){let gt=j(et);T(gt,void 0,H),it.push(gt)}finally{var V;at=!0,F&&(F(),F=null),A==null||(V=A.signal)===null||V===void 0||V.removeEventListener("abort",W)}}rt();try{for(;;){for(;it.length>0;){let U=await it[0];if(U===q)return;if(J.aborted)throw new u;U!==nt&&(yield U),it.shift(),ot&&(ot(),ot=null)}await new X(U=>{F=U})}}finally{St.abort(),at=!0,ot&&(ot(),ot=null)}}).call(this)}function Z(ht=void 0){return ht!=null&&m(ht,"options"),(ht==null?void 0:ht.signal)!=null&&l(ht.signal,"options.signal"),(async function*(){let A=0;for await(let ct of this){var C;if(ht!=null&&(C=ht.signal)!==null&&C!==void 0&&C.aborted)throw new u({cause:ht.signal.reason});yield[A++,ct]}}).call(this)}async function wt(ht,A=void 0){for await(let C of lt.call(this,ht,A))return!0;return!1}async function pt(ht,A=void 0){if(typeof ht!="function")throw new f("fn",["Function","AsyncFunction"],ht);return!await wt.call(this,async(...C)=>!await ht(...C),A)}async function ut(ht,A){for await(let C of lt.call(this,ht,A))return C}async function It(ht,A){if(typeof ht!="function")throw new f("fn",["Function","AsyncFunction"],ht);async function C(ct,Et){return await ht(ct,Et),nt}for await(let ct of L.call(this,C,A));}function lt(ht,A){if(typeof ht!="function")throw new f("fn",["Function","AsyncFunction"],ht);async function C(ct,Et){return await ht(ct,Et)?ct:nt}return L.call(this,C,A)}var kt=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function _t(ht,A,C){var ct;if(typeof ht!="function")throw new f("reducer",["Function","AsyncFunction"],ht);C!=null&&m(C,"options"),(C==null?void 0:C.signal)!=null&&l(C.signal,"options.signal");let Et=arguments.length>1;if(C!=null&&(ct=C.signal)!==null&&ct!==void 0&&ct.aborted){let R=new u(void 0,{cause:C.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(R)),R}let St=new e,bt=St.signal;if(C!=null&&C.signal){let R={once:!0,[v]:this};C.signal.addEventListener("abort",()=>St.abort(),R)}let it=!1;try{for await(let R of this){var J;if(it=!0,C!=null&&(J=C.signal)!==null&&J!==void 0&&J.aborted)throw new u;Et?A=await ht(A,R,{signal:bt}):(A=R,Et=!0)}if(!it&&!Et)throw new kt}finally{St.abort()}return A}async function Wt(ht){ht!=null&&m(ht,"options"),(ht==null?void 0:ht.signal)!=null&&l(ht.signal,"options.signal");let A=[];for await(let ct of this){var C;if(ht!=null&&(C=ht.signal)!==null&&C!==void 0&&C.aborted)throw new u(void 0,{cause:ht.signal.reason});Y(A,ct)}return A}function B(ht,A){let C=L.call(this,ht,A);return(async function*(){for await(let ct of C)yield*ct}).call(this)}function tt(ht){if(ht=M(ht),$(ht))return 0;if(ht<0)throw new s("number",">= 0",ht);return ht}function st(ht,A=void 0){return A!=null&&m(A,"options"),(A==null?void 0:A.signal)!=null&&l(A.signal,"options.signal"),ht=tt(ht),(async function*(){var C;if(A!=null&&(C=A.signal)!==null&&C!==void 0&&C.aborted)throw new u;for await(let Et of this){var ct;if(A!=null&&(ct=A.signal)!==null&&ct!==void 0&&ct.aborted)throw new u;ht--<=0&&(yield Et)}}).call(this)}function Tt(ht,A=void 0){return A!=null&&m(A,"options"),(A==null?void 0:A.signal)!=null&&l(A.signal,"options.signal"),ht=tt(ht),(async function*(){var C;if(A!=null&&(C=A.signal)!==null&&C!==void 0&&C.aborted)throw new u;for await(let Et of this){var ct;if(A!=null&&(ct=A.signal)!==null&&ct!==void 0&&ct.aborted)throw new u;if(ht-- >0)yield Et;else return}}).call(this)}o.exports.streamReturningOperators={asIndexedPairs:Z,drop:st,filter:lt,flatMap:B,map:L,take:Tt,compose:ft},o.exports.promiseReturningOperators={every:pt,forEach:It,reduce:_t,toArray:Wt,some:wt,find:ut}}),Ua=Nt((t,o)=>{Ot(),Bt(),Mt();var{ArrayPrototypePop:e,Promise:p}=Pe(),{isIterable:f,isNodeStream:n,isWebStream:s}=Tr(),{pipelineImpl:u}=os(),{finished:l}=Pr();za();function c(...m){return new p((v,b)=>{let w,_,I=m[m.length-1];if(I&&typeof I=="object"&&!n(I)&&!f(I)&&!s(I)){let x=e(m);w=x.signal,_=x.end}u(m,(x,Y)=>{x?b(x):v(Y)},{signal:w,end:_})})}o.exports={finished:l,pipeline:c}}),za=Nt((t,o)=>{Ot(),Bt(),Mt();var{Buffer:e}=(je(),fe(We)),{ObjectDefineProperty:p,ObjectKeys:f,ReflectApply:n}=Pe(),{promisify:{custom:s}}=_r(),{streamReturningOperators:u,promiseReturningOperators:l}=Tu(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=Ve(),m=La(),{pipeline:v}=os(),{destroyer:b}=po(),w=Pr(),_=Ua(),I=Tr(),x=o.exports=Xn().Stream;x.isDisturbed=I.isDisturbed,x.isErrored=I.isErrored,x.isReadable=I.isReadable,x.Readable=ri();for(let z of f(u)){let M=function(...X){if(new.target)throw c();return x.Readable.from(n($,this,X))},$=u[z];p(M,"name",{__proto__:null,value:$.name}),p(M,"length",{__proto__:null,value:$.length}),p(x.Readable.prototype,z,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(let z of f(l)){let M=function(...X){if(new.target)throw c();return n($,this,X)},$=l[z];p(M,"name",{__proto__:null,value:$.name}),p(M,"length",{__proto__:null,value:$.length}),p(x.Readable.prototype,z,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}x.Writable=Wa(),x.Duplex=Sr(),x.Transform=ja(),x.PassThrough=Da(),x.pipeline=v;var{addAbortSignal:Y}=ti();x.addAbortSignal=Y,x.finished=w,x.destroy=b,x.compose=m,p(x,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),p(v,s,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),p(w,s,{__proto__:null,enumerable:!0,get(){return _.finished}}),x.Stream=x,x._isUint8Array=function(z){return z instanceof Uint8Array},x._uint8ArrayToBuffer=function(z){return e.from(z.buffer,z.byteOffset,z.byteLength)}}),ro=Nt((t,o)=>{Ot(),Bt(),Mt();var e=za(),p=Ua(),f=e.Readable.destroy;o.exports=e.Readable,o.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,o.exports._isUint8Array=e._isUint8Array,o.exports.isDisturbed=e.isDisturbed,o.exports.isErrored=e.isErrored,o.exports.isReadable=e.isReadable,o.exports.Readable=e.Readable,o.exports.Writable=e.Writable,o.exports.Duplex=e.Duplex,o.exports.Transform=e.Transform,o.exports.PassThrough=e.PassThrough,o.exports.addAbortSignal=e.addAbortSignal,o.exports.finished=e.finished,o.exports.destroy=e.destroy,o.exports.destroy=f,o.exports.pipeline=e.pipeline,o.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return p}}),o.exports.Stream=e.Stream,o.exports.default=o.exports}),Iu=Nt((t,o)=>{Ot(),Bt(),Mt(),typeof Object.create=="function"?o.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(e,p){if(p){e.super_=p;var f=function(){};f.prototype=p.prototype,e.prototype=new f,e.prototype.constructor=e}}}),ku=Nt((t,o)=>{Ot(),Bt(),Mt();var{Buffer:e}=(je(),fe(We)),p=Symbol.for("BufferList");function f(n){if(!(this instanceof f))return new f(n);f._init.call(this,n)}f._init=function(n){Object.defineProperty(this,p,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},f.prototype._new=function(n){return new f(n)},f.prototype._offset=function(n){if(n===0)return[0,0];let s=0;for(let u=0;u<this._bufs.length;u++){let l=s+this._bufs[u].length;if(n<l||u===this._bufs.length-1)return[u,n-s];s=l}},f.prototype._reverseOffset=function(n){let s=n[0],u=n[1];for(let l=0;l<s;l++)u+=this._bufs[l].length;return u},f.prototype.get=function(n){if(n>this.length||n<0)return;let s=this._offset(n);return this._bufs[s[0]][s[1]]},f.prototype.slice=function(n,s){return typeof n=="number"&&n<0&&(n+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,n,s)},f.prototype.copy=function(n,s,u,l){if((typeof u!="number"||u<0)&&(u=0),(typeof l!="number"||l>this.length)&&(l=this.length),u>=this.length||l<=0)return n||e.alloc(0);let c=!!n,m=this._offset(u),v=l-u,b=v,w=c&&s||0,_=m[1];if(u===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:e.concat(this._bufs,this.length);for(let I=0;I<this._bufs.length;I++)this._bufs[I].copy(n,w),w+=this._bufs[I].length;return n}if(b<=this._bufs[m[0]].length-_)return c?this._bufs[m[0]].copy(n,s,_,_+b):this._bufs[m[0]].slice(_,_+b);c||(n=e.allocUnsafe(v));for(let I=m[0];I<this._bufs.length;I++){let x=this._bufs[I].length-_;if(b>x)this._bufs[I].copy(n,w,_),w+=x;else{this._bufs[I].copy(n,w,_,_+b),w+=x;break}b-=x,_&&(_=0)}return n.length>w?n.slice(0,w):n},f.prototype.shallowSlice=function(n,s){if(n=n||0,s=typeof s!="number"?this.length:s,n<0&&(n+=this.length),s<0&&(s+=this.length),n===s)return this._new();let u=this._offset(n),l=this._offset(s),c=this._bufs.slice(u[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),u[1]!==0&&(c[0]=c[0].slice(u[1])),this._new(c)},f.prototype.toString=function(n,s,u){return this.slice(s,u).toString(n)},f.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},f.prototype.duplicate=function(){let n=this._new();for(let s=0;s<this._bufs.length;s++)n.append(this._bufs[s]);return n},f.prototype.append=function(n){if(n==null)return this;if(n.buffer)this._appendBuffer(e.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n))for(let s=0;s<n.length;s++)this.append(n[s]);else if(this._isBufferList(n))for(let s=0;s<n._bufs.length;s++)this.append(n._bufs[s]);else typeof n=="number"&&(n=n.toString()),this._appendBuffer(e.from(n));return this},f.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},f.prototype.indexOf=function(n,s,u){if(u===void 0&&typeof s=="string"&&(u=s,s=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=e.from([n]):typeof n=="string"?n=e.from(n,u):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=e.from(n.buffer,n.byteOffset,n.byteLength):e.isBuffer(n)||(n=e.from(n)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),n.length===0)return s>this.length?this.length:s;let l=this._offset(s),c=l[0],m=l[1];for(;c<this._bufs.length;c++){let v=this._bufs[c];for(;m<v.length;)if(v.length-m>=n.length){let b=v.indexOf(n,m);if(b!==-1)return this._reverseOffset([c,b]);m=v.length-n.length+1}else{let b=this._reverseOffset([c,m]);if(this._match(b,n))return b;m++}m=0}return-1},f.prototype._match=function(n,s){if(this.length-n<s.length)return!1;for(let u=0;u<s.length;u++)if(this.get(n+u)!==s[u])return!1;return!0},function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in n)(function(u){n[u]===null?f.prototype[u]=function(l,c){return this.slice(l,l+c)[u](0,c)}:f.prototype[u]=function(l=0){return this.slice(l,l+n[u])[u](0)}})(s)}(),f.prototype._isBufferList=function(n){return n instanceof f||f.isBufferList(n)},f.isBufferList=function(n){return n!=null&&n[p]},o.exports=f}),Ou=Nt((t,o)=>{Ot(),Bt(),Mt();var e=ro().Duplex,p=Iu(),f=ku();function n(s){if(!(this instanceof n))return new n(s);if(typeof s=="function"){this._callback=s;let u=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",u)}),this.on("unpipe",function(l){l.removeListener("error",u)}),s=null}f._init.call(this,s),e.call(this)}p(n,e),Object.assign(n.prototype,f.prototype),n.prototype._new=function(s){return new n(s)},n.prototype._write=function(s,u,l){this._appendBuffer(s),typeof l=="function"&&l()},n.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},n.prototype.end=function(s){e.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(s,u){this._bufs.length=0,this.length=0,u(s)},n.prototype._isBufferList=function(s){return s instanceof n||s instanceof f||n.isBufferList(s)},n.isBufferList=f.isBufferList,o.exports=n,o.exports.BufferListStream=n,o.exports.BufferList=f}),Mu=Nt((t,o)=>{Ot(),Bt(),Mt();var e=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};o.exports=e}),$a=Nt((t,o)=>{Ot(),Bt(),Mt();var e=o.exports,{Buffer:p}=(je(),fe(We));e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(let n in e.requiredHeaderFlags){let s=e.requiredHeaderFlags[n];e.requiredHeaderFlagsErrors[n]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+e.types[n]+" packet"}e.codes={};for(let n in e.types){let s=e.types[n];e.codes[s]=n}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=p.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=p.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=p.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(let n in e.properties){let s=e.properties[n];e.propertiesCodes[s]=n}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function f(n){return[0,1,2].map(s=>[0,1].map(u=>[0,1].map(l=>{let c=p.alloc(1);return c.writeUInt8(e.codes[n]<<e.CMD_SHIFT|(u?e.DUP_MASK:0)|s<<e.QOS_SHIFT|l,0,!0),c})))}e.PUBLISH_HEADER=f("publish"),e.SUBSCRIBE_HEADER=f("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=f("unsubscribe"),e.ACKS={unsuback:f("unsuback"),puback:f("puback"),pubcomp:f("pubcomp"),pubrel:f("pubrel"),pubrec:f("pubrec")},e.SUBACK_HEADER=p.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=p.from([3]),e.VERSION4=p.from([4]),e.VERSION5=p.from([5]),e.VERSION131=p.from([131]),e.VERSION132=p.from([132]),e.QOS=[0,1,2].map(n=>p.from([n])),e.EMPTY={pingreq:p.from([e.codes.pingreq<<4,0]),pingresp:p.from([e.codes.pingresp<<4,0]),disconnect:p.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Bu=Nt((t,o)=>{Ot(),Bt(),Mt();var e=1e3,p=e*60,f=p*60,n=f*24,s=n*7,u=n*365.25;o.exports=function(b,w){w=w||{};var _=typeof b;if(_==="string"&&b.length>0)return l(b);if(_==="number"&&isFinite(b))return w.long?m(b):c(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function l(b){if(b=String(b),!(b.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(w){var _=parseFloat(w[1]),I=(w[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return _*u;case"weeks":case"week":case"w":return _*s;case"days":case"day":case"d":return _*n;case"hours":case"hour":case"hrs":case"hr":case"h":return _*f;case"minutes":case"minute":case"mins":case"min":case"m":return _*p;case"seconds":case"second":case"secs":case"sec":case"s":return _*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function c(b){var w=Math.abs(b);return w>=n?Math.round(b/n)+"d":w>=f?Math.round(b/f)+"h":w>=p?Math.round(b/p)+"m":w>=e?Math.round(b/e)+"s":b+"ms"}function m(b){var w=Math.abs(b);return w>=n?v(b,w,n,"day"):w>=f?v(b,w,f,"hour"):w>=p?v(b,w,p,"minute"):w>=e?v(b,w,e,"second"):b+" ms"}function v(b,w,_,I){var x=w>=_*1.5;return Math.round(b/_)+" "+I+(x?"s":"")}}),Ru=Nt((t,o)=>{Ot(),Bt(),Mt();function e(p){n.debug=n,n.default=n,n.coerce=v,n.disable=l,n.enable=u,n.enabled=c,n.humanize=Bu(),n.destroy=b,Object.keys(p).forEach(w=>{n[w]=p[w]}),n.names=[],n.skips=[],n.formatters={};function f(w){let _=0;for(let I=0;I<w.length;I++)_=(_<<5)-_+w.charCodeAt(I),_|=0;return n.colors[Math.abs(_)%n.colors.length]}n.selectColor=f;function n(w){let _,I=null,x,Y;function z(...M){if(!z.enabled)return;let $=z,X=Number(new Date),j=X-(_||X);$.diff=j,$.prev=_,$.curr=X,_=X,M[0]=n.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let T=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(K,nt)=>{if(K==="%%")return"%";T++;let q=n.formatters[nt];if(typeof q=="function"){let ft=M[T];K=q.call($,ft),M.splice(T,1),T--}return K}),n.formatArgs.call($,M),($.log||n.log).apply($,M)}return z.namespace=w,z.useColors=n.useColors(),z.color=n.selectColor(w),z.extend=s,z.destroy=n.destroy,Object.defineProperty(z,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(x!==n.namespaces&&(x=n.namespaces,Y=n.enabled(w)),Y),set:M=>{I=M}}),typeof n.init=="function"&&n.init(z),z}function s(w,_){let I=n(this.namespace+(typeof _>"u"?":":_)+w);return I.log=this.log,I}function u(w){n.save(w),n.namespaces=w,n.names=[],n.skips=[];let _,I=(typeof w=="string"?w:"").split(/[\s,]+/),x=I.length;for(_=0;_<x;_++)I[_]&&(w=I[_].replace(/\*/g,".*?"),w[0]==="-"?n.skips.push(new RegExp("^"+w.slice(1)+"$")):n.names.push(new RegExp("^"+w+"$")))}function l(){let w=[...n.names.map(m),...n.skips.map(m).map(_=>"-"+_)].join(",");return n.enable(""),w}function c(w){if(w[w.length-1]==="*")return!0;let _,I;for(_=0,I=n.skips.length;_<I;_++)if(n.skips[_].test(w))return!1;for(_=0,I=n.names.length;_<I;_++)if(n.names[_].test(w))return!0;return!1}function m(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}function v(w){return w instanceof Error?w.stack||w.message:w}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}o.exports=e}),Er=Nt((t,o)=>{Ot(),Bt(),Mt(),t.formatArgs=p,t.save=f,t.load=n,t.useColors=e,t.storage=s(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let m=0,v=0;l[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(m++,b==="%c"&&(v=m))}),l.splice(v,0,c)}t.log=console.debug||console.log||(()=>{});function f(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function n(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof ue<"u"&&"env"in ue&&(l=ue.env.DEBUG),l}function s(){try{return localStorage}catch{}}o.exports=Ru()(t);var{formatters:u}=o.exports;u.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),Cu=Nt((t,o)=>{Ot(),Bt(),Mt();var e=Ou(),{EventEmitter:p}=(uo(),fe(eo)),f=Mu(),n=$a(),s=Er()("mqtt-packet:parser"),u=class An extends p{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof An?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new An().parser(c)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new f,this.error=null,this._list=e(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),m=c>>n.CMD_SHIFT;this.packet.cmd=n.types[m];let v=c&15,b=n.requiredHeaderFlags[m];return b!=null&&v!==b?this._emitError(new Error(n.requiredHeaderFlagsErrors[m])):(this.packet.retain=(c&n.RETAIN_MASK)!==0,this.packet.qos=c>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&n.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),s("_parseLength %d",c.value),!!c}_parsePayload(){s("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return s("_parsePayload complete result: %s",c),c}_parseConnect(){s("_parseConnect");let c,m,v,b,w={},_=this.packet,I=this._parseString();if(I===null)return this._emitError(new Error("Cannot parse protocolId"));if(I!=="MQTT"&&I!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(_.protocolId=I,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(_.protocolVersion=this._list.readUInt8(this._pos),_.protocolVersion>=128&&(_.bridgeMode=!0,_.protocolVersion=_.protocolVersion-128),_.protocolVersion!==3&&_.protocolVersion!==4&&_.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));w.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,w.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,w.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;let x=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),Y=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(w.will)_.will={},_.will.retain=x,_.will.qos=Y;else{if(x)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(Y)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(_.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,_.keepalive=this._parseNum(),_.keepalive===-1)return this._emitError(new Error("Packet too short"));if(_.protocolVersion===5){let M=this._parseProperties();Object.getOwnPropertyNames(M).length&&(_.properties=M)}let z=this._parseString();if(z===null)return this._emitError(new Error("Packet too short"));if(_.clientId=z,s("_parseConnect: packet.clientId: %s",_.clientId),w.will){if(_.protocolVersion===5){let M=this._parseProperties();Object.getOwnPropertyNames(M).length&&(_.will.properties=M)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(_.will.topic=c,s("_parseConnect: packet.will.topic: %s",_.will.topic),m=this._parseBuffer(),m===null)return this._emitError(new Error("Cannot parse will payload"));_.will.payload=m,s("_parseConnect: packet.will.paylaod: %s",_.will.payload)}if(w.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));_.username=b,s("_parseConnect: packet.username: %s",_.username)}if(w.password){if(v=this._parseBuffer(),v===null)return this._emitError(new Error("Cannot parse password"));_.password=v}return this.settings=_,s("_parseConnect: complete"),_}_parseConnack(){s("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let m=this._list.readUInt8(this._pos++);if(m>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(m&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(c.properties=v)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}c.payload=this._list.slice(this._pos,c.length),s("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){s("_parseSubscribe");let c=this.packet,m,v,b,w,_,I,x;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let Y=this._parseProperties();Object.getOwnPropertyNames(Y).length&&(c.properties=Y)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(v=this._parseByte(),this.settings.protocolVersion===5){if(v&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(v&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=v&n.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(I=(v>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,_=(v>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,w=v>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,w>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));x={topic:m,qos:b},this.settings.protocolVersion===5?(x.nl=I,x.rap=_,x.rh=w):this.settings.bridgeMode&&(x.rh=0,x.rap=!0,x.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",x),c.subscriptions.push(x)}}}_parseSuback(){s("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let m=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[m])return this._emitError(new Error("Invalid suback code"))}else if(m>2&&m!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(m)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let m=this._parseString();if(m===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",m),c.unsubscriptions.push(m)}}}_parseUnsuback(){s("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let m=this._parseProperties();for(Object.getOwnPropertyNames(m).length&&(c.properties=m),c.granted=[];this._pos<this.packet.length;){let v=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[v])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(v)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}}return!0}_parseDisconnect(){let c=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let m=this._parseProperties();return Object.getOwnPropertyNames(m).length&&(c.properties=m),s("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let m=this._parseNum(),v=m+this._pos;if(m===-1||v>this._list.length||v>this.packet.length)return null;let b=this._list.toString("utf8",this._pos,v);return this._pos+=m,s("_parseString: result: %s",b),b}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),m=c+this._pos;if(c===-1||m>this._list.length||m>this.packet.length)return null;let v=this._list.slice(this._pos,m);return this._pos+=c,s("_parseBuffer: result: %o",v),v}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){s("_parseVarByteNum");let m=4,v=0,b=1,w=0,_=!1,I,x=this._pos?this._pos:0;for(;v<m&&x+v<this._list.length;){if(I=this._list.readUInt8(x+v++),w+=b*(I&n.VARBYTEINT_MASK),b*=128,!(I&n.VARBYTEINT_FIN_MASK)){_=!0;break}if(this._list.length<=v)break}return!_&&v===m&&this._list.length>=v&&this._emitError(new Error("Invalid variable byte integer")),x&&(this._pos+=v),_?c?_={bytes:v,value:w}:_=w:_=!1,s("_parseVarByteNum: result: %o",_),_}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",c),c}_parseByType(c){switch(s("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let c=this._parseVarByteNum(),m=this._pos+c,v={};for(;this._pos<m;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let w=n.propertiesCodes[b];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){v[w]||(v[w]=Object.create(null));let _=this._parseByType(n.propertiesTypes[w]);if(v[w][_.name])if(Array.isArray(v[w][_.name]))v[w][_.name].push(_.value);else{let I=v[w][_.name];v[w][_.name]=[I],v[w][_.name].push(_.value)}else v[w][_.name]=_.value;continue}v[w]?Array.isArray(v[w])?v[w].push(this._parseByType(n.propertiesTypes[w])):(v[w]=[v[w]],v[w].push(this._parseByType(n.propertiesTypes[w]))):v[w]=this._parseByType(n.propertiesTypes[w])}return v}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new f,this._pos=0,!0}_emitError(c){s("_emitError",c),this.error=c,this.emit("error",c)}};o.exports=u}),Pu=Nt((t,o)=>{Ot(),Bt(),Mt();var{Buffer:e}=(je(),fe(We)),p=65536,f={},n=e.isBuffer(e.from([1,2]).subarray(0,1));function s(m){let v=e.allocUnsafe(2);return v.writeUInt8(m>>8,0),v.writeUInt8(m&255,1),v}function u(){for(let m=0;m<p;m++)f[m]=s(m)}function l(m){let v=0,b=0,w=e.allocUnsafe(4);do v=m%128|0,m=m/128|0,m>0&&(v=v|128),w.writeUInt8(v,b++);while(m>0&&b<4);return m>0&&(b=0),n?w.subarray(0,b):w.slice(0,b)}function c(m){let v=e.allocUnsafe(4);return v.writeUInt32BE(m,0),v}o.exports={cache:f,generateCache:u,generateNumber:s,genBufVariableByteInt:l,generate4ByteBuffer:c}}),Au=Nt((t,o)=>{Ot(),Bt(),Mt(),typeof ue>"u"||!ue.version||ue.version.indexOf("v0.")===0||ue.version.indexOf("v1.")===0&&ue.version.indexOf("v1.8.")!==0?o.exports={nextTick:e}:o.exports=ue;function e(p,f,n,s){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,l,c;switch(u){case 0:case 1:return ue.nextTick(p);case 2:return ue.nextTick(function(){p.call(null,f)});case 3:return ue.nextTick(function(){p.call(null,f,n)});case 4:return ue.nextTick(function(){p.call(null,f,n,s)});default:for(l=new Array(u-1),c=0;c<l.length;)l[c++]=arguments[c];return ue.nextTick(function(){p.apply(null,l)})}}}),Ha=Nt((t,o)=>{Ot(),Bt(),Mt();var e=$a(),{Buffer:p}=(je(),fe(We)),f=p.allocUnsafe(0),n=p.from([0]),s=Pu(),u=Au().nextTick,l=Er()("mqtt-packet:writeToStream"),c=s.cache,m=s.generateNumber,v=s.generateCache,b=s.genBufVariableByteInt,w=s.generate4ByteBuffer,_=It,I=!0;function x(A,C,ct){switch(l("generate called"),C.cork&&(C.cork(),u(Y,C)),I&&(I=!1,v()),l("generate: packet.cmd: %s",A.cmd),A.cmd){case"connect":return z(A,C);case"connack":return M(A,C,ct);case"publish":return $(A,C,ct);case"puback":case"pubrec":case"pubrel":case"pubcomp":return X(A,C,ct);case"subscribe":return j(A,C,ct);case"suback":return T(A,C,ct);case"unsubscribe":return K(A,C,ct);case"unsuback":return nt(A,C,ct);case"pingreq":case"pingresp":return q(A,C);case"disconnect":return ft(A,C,ct);case"auth":return L(A,C,ct);default:return C.destroy(new Error("Unknown command")),!1}}Object.defineProperty(x,"cacheNumbers",{get(){return _===It},set(A){A?((!c||Object.keys(c).length===0)&&(I=!0),_=It):(I=!1,_=lt)}});function Y(A){A.uncork()}function z(A,C,ct){let Et=A||{},St=Et.protocolId||"MQTT",bt=Et.protocolVersion||4,it=Et.will,J=Et.clean,R=Et.keepalive||0,W=Et.clientId||"",F=Et.username,ot=Et.password,at=Et.properties;J===void 0&&(J=!0);let H=0;if(!St||typeof St!="string"&&!p.isBuffer(St))return C.destroy(new Error("Invalid protocolId")),!1;if(H+=St.length+2,bt!==3&&bt!==4&&bt!==5)return C.destroy(new Error("Invalid protocol version")),!1;if(H+=1,(typeof W=="string"||p.isBuffer(W))&&(W||bt>=4)&&(W||J))H+=p.byteLength(W)+2;else{if(bt<4)return C.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(J*1===0)return C.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof R!="number"||R<0||R>65535||R%1!==0)return C.destroy(new Error("Invalid keepalive")),!1;H+=2,H+=1;let rt,U;if(bt===5){if(rt=Wt(C,at),!rt)return!1;H+=rt.length}if(it){if(typeof it!="object")return C.destroy(new Error("Invalid will")),!1;if(!it.topic||typeof it.topic!="string")return C.destroy(new Error("Invalid will topic")),!1;if(H+=p.byteLength(it.topic)+2,H+=2,it.payload)if(it.payload.length>=0)typeof it.payload=="string"?H+=p.byteLength(it.payload):H+=it.payload.length;else return C.destroy(new Error("Invalid will payload")),!1;if(U={},bt===5){if(U=Wt(C,it.properties),!U)return!1;H+=U.length}}let V=!1;if(F!=null)if(ht(F))V=!0,H+=p.byteLength(F)+2;else return C.destroy(new Error("Invalid username")),!1;if(ot!=null){if(!V)return C.destroy(new Error("Username is required to use password")),!1;if(ht(ot))H+=Tt(ot)+2;else return C.destroy(new Error("Invalid password")),!1}C.write(e.CONNECT_HEADER),wt(C,H),_t(C,St),Et.bridgeMode&&(bt+=128),C.write(bt===131?e.VERSION131:bt===132?e.VERSION132:bt===4?e.VERSION4:bt===5?e.VERSION5:e.VERSION3);let et=0;return et|=F!=null?e.USERNAME_MASK:0,et|=ot!=null?e.PASSWORD_MASK:0,et|=it&&it.retain?e.WILL_RETAIN_MASK:0,et|=it&&it.qos?it.qos<<e.WILL_QOS_SHIFT:0,et|=it?e.WILL_FLAG_MASK:0,et|=J?e.CLEAN_SESSION_MASK:0,C.write(p.from([et])),_(C,R),bt===5&&rt.write(),_t(C,W),it&&(bt===5&&U.write(),pt(C,it.topic),_t(C,it.payload)),F!=null&&_t(C,F),ot!=null&&_t(C,ot),!0}function M(A,C,ct){let Et=ct?ct.protocolVersion:4,St=A||{},bt=Et===5?St.reasonCode:St.returnCode,it=St.properties,J=2;if(typeof bt!="number")return C.destroy(new Error("Invalid return code")),!1;let R=null;if(Et===5){if(R=Wt(C,it),!R)return!1;J+=R.length}return C.write(e.CONNACK_HEADER),wt(C,J),C.write(St.sessionPresent?e.SESSIONPRESENT_HEADER:n),C.write(p.from([bt])),R==null||R.write(),!0}function $(A,C,ct){l("publish: packet: %o",A);let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.qos||0,it=St.retain?e.RETAIN_MASK:0,J=St.topic,R=St.payload||f,W=St.messageId,F=St.properties,ot=0;if(typeof J=="string")ot+=p.byteLength(J)+2;else if(p.isBuffer(J))ot+=J.length+2;else return C.destroy(new Error("Invalid topic")),!1;if(p.isBuffer(R)?ot+=R.length:ot+=p.byteLength(R),bt&&typeof W!="number")return C.destroy(new Error("Invalid messageId")),!1;bt&&(ot+=2);let at=null;if(Et===5){if(at=Wt(C,F),!at)return!1;ot+=at.length}return C.write(e.PUBLISH_HEADER[bt][St.dup?1:0][it?1:0]),wt(C,ot),_(C,Tt(J)),C.write(J),bt>0&&_(C,W),at==null||at.write(),l("publish: payload: %o",R),C.write(R)}function X(A,C,ct){let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.cmd||"puback",it=St.messageId,J=St.dup&&bt==="pubrel"?e.DUP_MASK:0,R=0,W=St.reasonCode,F=St.properties,ot=Et===5?3:2;if(bt==="pubrel"&&(R=1),typeof it!="number")return C.destroy(new Error("Invalid messageId")),!1;let at=null;if(Et===5&&typeof F=="object"){if(at=B(C,F,ct,ot),!at)return!1;ot+=at.length}return C.write(e.ACKS[bt][R][J][0]),ot===3&&(ot+=W!==0?1:-1),wt(C,ot),_(C,it),Et===5&&ot!==2&&C.write(p.from([W])),at!==null?at.write():ot===4&&C.write(p.from([0])),!0}function j(A,C,ct){l("subscribe: packet: ");let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.dup?e.DUP_MASK:0,it=St.messageId,J=St.subscriptions,R=St.properties,W=0;if(typeof it!="number")return C.destroy(new Error("Invalid messageId")),!1;W+=2;let F=null;if(Et===5){if(F=Wt(C,R),!F)return!1;W+=F.length}if(typeof J=="object"&&J.length)for(let at=0;at<J.length;at+=1){let H=J[at].topic,rt=J[at].qos;if(typeof H!="string")return C.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof rt!="number")return C.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Et===5){if(typeof(J[at].nl||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(J[at].rap||!1)!="boolean")return C.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let U=J[at].rh||0;if(typeof U!="number"||U>2)return C.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}W+=p.byteLength(H)+2+1}else return C.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",e.SUBSCRIBE_HEADER),C.write(e.SUBSCRIBE_HEADER[1][bt?1:0][0]),wt(C,W),_(C,it),F!==null&&F.write();let ot=!0;for(let at of J){let H=at.topic,rt=at.qos,U=+at.nl,V=+at.rap,et=at.rh,gt;pt(C,H),gt=e.SUBSCRIBE_OPTIONS_QOS[rt],Et===5&&(gt|=U?e.SUBSCRIBE_OPTIONS_NL:0,gt|=V?e.SUBSCRIBE_OPTIONS_RAP:0,gt|=et?e.SUBSCRIBE_OPTIONS_RH[et]:0),ot=C.write(p.from([gt]))}return ot}function T(A,C,ct){let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.messageId,it=St.granted,J=St.properties,R=0;if(typeof bt!="number")return C.destroy(new Error("Invalid messageId")),!1;if(R+=2,typeof it=="object"&&it.length)for(let F=0;F<it.length;F+=1){if(typeof it[F]!="number")return C.destroy(new Error("Invalid qos vector")),!1;R+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let W=null;if(Et===5){if(W=B(C,J,ct,R),!W)return!1;R+=W.length}return C.write(e.SUBACK_HEADER),wt(C,R),_(C,bt),W!==null&&W.write(),C.write(p.from(it))}function K(A,C,ct){let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.messageId,it=St.dup?e.DUP_MASK:0,J=St.unsubscriptions,R=St.properties,W=0;if(typeof bt!="number")return C.destroy(new Error("Invalid messageId")),!1;if(W+=2,typeof J=="object"&&J.length)for(let at=0;at<J.length;at+=1){if(typeof J[at]!="string")return C.destroy(new Error("Invalid unsubscriptions")),!1;W+=p.byteLength(J[at])+2}else return C.destroy(new Error("Invalid unsubscriptions")),!1;let F=null;if(Et===5){if(F=Wt(C,R),!F)return!1;W+=F.length}C.write(e.UNSUBSCRIBE_HEADER[1][it?1:0][0]),wt(C,W),_(C,bt),F!==null&&F.write();let ot=!0;for(let at=0;at<J.length;at++)ot=pt(C,J[at]);return ot}function nt(A,C,ct){let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.messageId,it=St.dup?e.DUP_MASK:0,J=St.granted,R=St.properties,W=St.cmd,F=0,ot=2;if(typeof bt!="number")return C.destroy(new Error("Invalid messageId")),!1;if(Et===5)if(typeof J=="object"&&J.length)for(let H=0;H<J.length;H+=1){if(typeof J[H]!="number")return C.destroy(new Error("Invalid qos vector")),!1;ot+=1}else return C.destroy(new Error("Invalid qos vector")),!1;let at=null;if(Et===5){if(at=B(C,R,ct,ot),!at)return!1;ot+=at.length}return C.write(e.ACKS[W][F][it][0]),wt(C,ot),_(C,bt),at!==null&&at.write(),Et===5&&C.write(p.from(J)),!0}function q(A,C,ct){return C.write(e.EMPTY[A.cmd])}function ft(A,C,ct){let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.reasonCode,it=St.properties,J=Et===5?1:0,R=null;if(Et===5){if(R=B(C,it,ct,J),!R)return!1;J+=R.length}return C.write(p.from([e.codes.disconnect<<4])),wt(C,J),Et===5&&C.write(p.from([bt])),R!==null&&R.write(),!0}function L(A,C,ct){let Et=ct?ct.protocolVersion:4,St=A||{},bt=St.reasonCode,it=St.properties,J=Et===5?1:0;Et!==5&&C.destroy(new Error("Invalid mqtt version for auth packet"));let R=B(C,it,ct,J);return R?(J+=R.length,C.write(p.from([e.codes.auth<<4])),wt(C,J),C.write(p.from([bt])),R!==null&&R.write(),!0):!1}var Z={};function wt(A,C){if(C>e.VARBYTEINT_MAX)return A.destroy(new Error(`Invalid variable byte integer: ${C}`)),!1;let ct=Z[C];return ct||(ct=b(C),C<16384&&(Z[C]=ct)),l("writeVarByteInt: writing to stream: %o",ct),A.write(ct)}function pt(A,C){let ct=p.byteLength(C);return _(A,ct),l("writeString: %s",C),A.write(C,"utf8")}function ut(A,C,ct){pt(A,C),pt(A,ct)}function It(A,C){return l("writeNumberCached: number: %d",C),l("writeNumberCached: %o",c[C]),A.write(c[C])}function lt(A,C){let ct=m(C);return l("writeNumberGenerated: %o",ct),A.write(ct)}function kt(A,C){let ct=w(C);return l("write4ByteNumber: %o",ct),A.write(ct)}function _t(A,C){typeof C=="string"?pt(A,C):C?(_(A,C.length),A.write(C)):_(A,0)}function Wt(A,C){if(typeof C!="object"||C.length!=null)return{length:1,write(){st(A,{},0)}};let ct=0;function Et(St,bt){let it=e.propertiesTypes[St],J=0;switch(it){case"byte":{if(typeof bt!="boolean")return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=2;break}case"int8":{if(typeof bt!="number"||bt<0||bt>255)return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=2;break}case"binary":{if(bt&&bt===null)return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=1+p.byteLength(bt)+2;break}case"int16":{if(typeof bt!="number"||bt<0||bt>65535)return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=3;break}case"int32":{if(typeof bt!="number"||bt<0||bt>4294967295)return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=5;break}case"var":{if(typeof bt!="number"||bt<0||bt>268435455)return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=1+p.byteLength(b(bt));break}case"string":{if(typeof bt!="string")return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=3+p.byteLength(bt.toString());break}case"pair":{if(typeof bt!="object")return A.destroy(new Error(`Invalid ${St}: ${bt}`)),!1;J+=Object.getOwnPropertyNames(bt).reduce((R,W)=>{let F=bt[W];return Array.isArray(F)?R+=F.reduce((ot,at)=>(ot+=3+p.byteLength(W.toString())+2+p.byteLength(at.toString()),ot),0):R+=3+p.byteLength(W.toString())+2+p.byteLength(bt[W].toString()),R},0);break}default:return A.destroy(new Error(`Invalid property ${St}: ${bt}`)),!1}return J}if(C)for(let St in C){let bt=0,it=0,J=C[St];if(Array.isArray(J))for(let R=0;R<J.length;R++){if(it=Et(St,J[R]),!it)return!1;bt+=it}else{if(it=Et(St,J),!it)return!1;bt=it}if(!bt)return!1;ct+=bt}return{length:p.byteLength(b(ct))+ct,write(){st(A,C,ct)}}}function B(A,C,ct,Et){let St=["reasonString","userProperties"],bt=ct&&ct.properties&&ct.properties.maximumPacketSize?ct.properties.maximumPacketSize:0,it=Wt(A,C);if(bt)for(;Et+it.length>bt;){let J=St.shift();if(J&&C[J])delete C[J],it=Wt(A,C);else return!1}return it}function tt(A,C,ct){switch(e.propertiesTypes[C]){case"byte":{A.write(p.from([e.properties[C]])),A.write(p.from([+ct]));break}case"int8":{A.write(p.from([e.properties[C]])),A.write(p.from([ct]));break}case"binary":{A.write(p.from([e.properties[C]])),_t(A,ct);break}case"int16":{A.write(p.from([e.properties[C]])),_(A,ct);break}case"int32":{A.write(p.from([e.properties[C]])),kt(A,ct);break}case"var":{A.write(p.from([e.properties[C]])),wt(A,ct);break}case"string":{A.write(p.from([e.properties[C]])),pt(A,ct);break}case"pair":{Object.getOwnPropertyNames(ct).forEach(Et=>{let St=ct[Et];Array.isArray(St)?St.forEach(bt=>{A.write(p.from([e.properties[C]])),ut(A,Et.toString(),bt.toString())}):(A.write(p.from([e.properties[C]])),ut(A,Et.toString(),St.toString()))});break}default:return A.destroy(new Error(`Invalid property ${C} value: ${ct}`)),!1}}function st(A,C,ct){wt(A,ct);for(let Et in C)if(Object.prototype.hasOwnProperty.call(C,Et)&&C[Et]!==null){let St=C[Et];if(Array.isArray(St))for(let bt=0;bt<St.length;bt++)tt(A,Et,St[bt]);else tt(A,Et,St)}}function Tt(A){return A?A instanceof p?A.length:p.byteLength(A):0}function ht(A){return typeof A=="string"||A instanceof p}o.exports=x}),xu=Nt((t,o)=>{Ot(),Bt(),Mt();var e=Ha(),{EventEmitter:p}=(uo(),fe(eo)),{Buffer:f}=(je(),fe(We));function n(u,l){let c=new s;return e(u,c,l),c.concat()}var s=class extends p{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0,l=new Array(this._array.length),c=this._array,m=0,v;for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?l[v]=c[v].length:l[v]=f.byteLength(c[v]),u+=l[v];let b=f.allocUnsafe(u);for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?(c[v].copy(b,m),m+=l[v]):(b.write(c[v],m),m+=l[v]);return b}destroy(u){u&&this.emit("error",u)}};o.exports=n}),Fu=Nt(t=>{Ot(),Bt(),Mt(),t.parser=Cu().parser,t.generate=xu(),t.writeToStream=Ha()}),Va=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};t.default=o}),Nu=Nt((t,o)=>{Ot(),Bt(),Mt(),o.exports=p;function e(n){return n instanceof Go?Go.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function p(n){if(n=n||{},n.circles)return f(n);return n.proto?l:u;function s(c,m){for(var v=Object.keys(c),b=new Array(v.length),w=0;w<v.length;w++){var _=v[w],I=c[_];typeof I!="object"||I===null?b[_]=I:I instanceof Date?b[_]=new Date(I):ArrayBuffer.isView(I)?b[_]=e(I):b[_]=m(I)}return b}function u(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return s(c,u);if(c instanceof Map)return new Map(s(Array.from(c),u));if(c instanceof Set)return new Set(s(Array.from(c),u));var m={};for(var v in c)if(Object.hasOwnProperty.call(c,v)!==!1){var b=c[v];typeof b!="object"||b===null?m[v]=b:b instanceof Date?m[v]=new Date(b):b instanceof Map?m[v]=new Map(s(Array.from(b),u)):b instanceof Set?m[v]=new Set(s(Array.from(b),u)):ArrayBuffer.isView(b)?m[v]=e(b):m[v]=u(b)}return m}function l(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return s(c,l);if(c instanceof Map)return new Map(s(Array.from(c),l));if(c instanceof Set)return new Set(s(Array.from(c),l));var m={};for(var v in c){var b=c[v];typeof b!="object"||b===null?m[v]=b:b instanceof Date?m[v]=new Date(b):b instanceof Map?m[v]=new Map(s(Array.from(b),l)):b instanceof Set?m[v]=new Set(s(Array.from(b),l)):ArrayBuffer.isView(b)?m[v]=e(b):m[v]=l(b)}return m}}function f(n){var s=[],u=[];return n.proto?m:c;function l(v,b){for(var w=Object.keys(v),_=new Array(w.length),I=0;I<w.length;I++){var x=w[I],Y=v[x];if(typeof Y!="object"||Y===null)_[x]=Y;else if(Y instanceof Date)_[x]=new Date(Y);else if(ArrayBuffer.isView(Y))_[x]=e(Y);else{var z=s.indexOf(Y);z!==-1?_[x]=u[z]:_[x]=b(Y)}}return _}function c(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,c);if(v instanceof Map)return new Map(l(Array.from(v),c));if(v instanceof Set)return new Set(l(Array.from(v),c));var b={};s.push(v),u.push(b);for(var w in v)if(Object.hasOwnProperty.call(v,w)!==!1){var _=v[w];if(typeof _!="object"||_===null)b[w]=_;else if(_ instanceof Date)b[w]=new Date(_);else if(_ instanceof Map)b[w]=new Map(l(Array.from(_),c));else if(_ instanceof Set)b[w]=new Set(l(Array.from(_),c));else if(ArrayBuffer.isView(_))b[w]=e(_);else{var I=s.indexOf(_);I!==-1?b[w]=u[I]:b[w]=c(_)}}return s.pop(),u.pop(),b}function m(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,m);if(v instanceof Map)return new Map(l(Array.from(v),m));if(v instanceof Set)return new Set(l(Array.from(v),m));var b={};s.push(v),u.push(b);for(var w in v){var _=v[w];if(typeof _!="object"||_===null)b[w]=_;else if(_ instanceof Date)b[w]=new Date(_);else if(_ instanceof Map)b[w]=new Map(l(Array.from(_),m));else if(_ instanceof Set)b[w]=new Set(l(Array.from(_),m));else if(ArrayBuffer.isView(_))b[w]=e(_);else{var I=s.indexOf(_);I!==-1?b[w]=u[I]:b[w]=m(_)}}return s.pop(),u.pop(),b}}}),Wu=Nt((t,o)=>{Ot(),Bt(),Mt(),o.exports=Nu()()}),ju=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopics=t.validateTopic=void 0;function o(p){let f=p.split("/");for(let n=0;n<f.length;n++)if(f[n]!=="+"){if(f[n]==="#")return n===f.length-1;if(f[n].indexOf("+")!==-1||f[n].indexOf("#")!==-1)return!1}return!0}t.validateTopic=o;function e(p){if(p.length===0)return"empty_topic_list";for(let f=0;f<p.length;f++)if(!o(p[f]))return p[f];return null}t.validateTopics=e}),Ga=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=ro(),e={objectMode:!0},p={clean:!0},f=class{constructor(n){this.options=n||{},this.options=Object.assign(Object.assign({},p),n),this._inflights=new Map}put(n,s){return this._inflights.set(n.messageId,n),s&&s(),this}createStream(){let n=new o.Readable(e),s=[],u=!1,l=0;return this._inflights.forEach((c,m)=>{s.push(c)}),n._read=()=>{!u&&l<s.length?n.push(s[l++]):n.push(null)},n.destroy=c=>{if(!u)return u=!0,setTimeout(()=>{n.emit("close")},0),n},n}del(n,s){let u=this._inflights.get(n.messageId);return u?(this._inflights.delete(n.messageId),s(null,u)):s&&s(new Error("missing packet")),this}get(n,s){let u=this._inflights.get(n.messageId);return u?s(null,u):s&&s(new Error("missing packet")),this}close(n){this.options.clean&&(this._inflights=null),n&&n()}};t.default=f}),Du=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=[0,16,128,131,135,144,145,151,153],e=(p,f,n)=>{p.log("handlePublish: packet %o",f),n=typeof n<"u"?n:p.noop;let s=f.topic.toString(),u=f.payload,{qos:l}=f,{messageId:c}=f,{options:m}=p;if(p.options.protocolVersion===5){let v;if(f.properties&&(v=f.properties.topicAlias),typeof v<"u")if(s.length===0)if(v>0&&v<=65535){let b=p.topicAliasRecv.getTopicByAlias(v);if(b)s=b,p.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,v);else{p.log("handlePublish :: unregistered topic alias. alias: %d",v),p.emit("error",new Error("Received unregistered Topic Alias"));return}}else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}else if(p.topicAliasRecv.put(s,v))p.log("handlePublish :: registered topic: %s - alias: %d",s,v);else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(p.log("handlePublish: qos %d",l),l){case 2:{m.customHandleAcks(s,u,f,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for pubrec"));b?p._sendPacket({cmd:"pubrec",messageId:c,reasonCode:b},n):p.incomingStore.put(f,()=>{p._sendPacket({cmd:"pubrec",messageId:c},n)})});break}case 1:{m.customHandleAcks(s,u,f,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for puback"));b||p.emit("message",s,u,f),p.handleMessage(f,w=>{if(w)return n&&n(w);p._sendPacket({cmd:"puback",messageId:c,reasonCode:b},n)})});break}case 0:p.emit("message",s,u,f),p.handleMessage(f,n);break;default:p.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=e}),Lu=Nt((t,o)=>{o.exports={version:"5.10.3"}}),co=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.applyMixin=t.ErrorWithReasonCode=void 0;var o=class qa extends Error{constructor(f,n){super(f),this.code=n,Object.setPrototypeOf(this,qa.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=o;function e(p,f,n=!1){var s;let u=[f];for(;;){let l=u[0],c=Object.getPrototypeOf(l);if(c!=null&&c.prototype)u.unshift(c);else break}for(let l of u)for(let c of Object.getOwnPropertyNames(l.prototype))(n||c!=="constructor")&&Object.defineProperty(p.prototype,c,(s=Object.getOwnPropertyDescriptor(l.prototype,c))!==null&&s!==void 0?s:Object.create(null))}t.applyMixin=e,t.nextTick=typeof(ue==null?void 0:ue.nextTick)=="function"?ue.nextTick:p=>{setTimeout(p,0)},t.MQTTJS_VERSION=Lu().version}),oi=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var o=co();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(p,f)=>{let{messageId:n}=f,s=f.cmd,u=null,l=p.outgoing[n]?p.outgoing[n].cb:null,c=null;if(!l){p.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(p.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let m=f.reasonCode;m&&m>0&&m!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[m]}`,m),p._removeOutgoingAndStoreMessage(n,()=>{l(c,f)})):p._removeOutgoingAndStoreMessage(n,l);break}case"pubrec":{u={cmd:"pubrel",qos:2,messageId:n};let m=f.reasonCode;m&&m>0&&m!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[m]}`,m),p._removeOutgoingAndStoreMessage(n,()=>{l(c,f)})):p._sendPacket(u);break}case"suback":{delete p.outgoing[n],p.messageIdProvider.deallocate(n);let m=f.granted;for(let v=0;v<m.length;v++){let b=m[v];if(b&128){c=new Error(`Subscribe error: ${t.ReasonCodes[b]}`),c.code=b;let w=p.messageIdToTopic[n];w&&w.forEach(_=>{delete p._resubscribeTopics[_]})}}delete p.messageIdToTopic[n],p._invokeStoreProcessingQueue(),l(c,f);break}case"unsuback":{delete p.outgoing[n],p.messageIdProvider.deallocate(n),p._invokeStoreProcessingQueue(),l(null,f);break}default:p.emit("error",new Error("unrecognized packet type"))}p.disconnecting&&Object.keys(p.outgoing).length===0&&p.emit("outgoingEmpty")};t.default=e}),Uu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=co(),e=oi(),p=(f,n)=>{let{options:s}=f,u=s.protocolVersion,l=u===5?n.reasonCode:n.returnCode;if(u!==5){let c=new o.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${u}`,l);f.emit("error",c);return}f.handleAuth(n,(c,m)=>{if(c){f.emit("error",c);return}if(l===24)f.reconnecting=!1,f._sendPacket(m);else{let v=new o.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[l]}`,l);f.emit("error",v)}})};t.default=p}),zu=Nt(t=>{var w,_,I,x,Y,z,M,$,X,j,T,K,nt,q,ft,L,Z,wt,pt,ut,It,lt,kt,_t,Wt,B,xn,st,Tt,ht,A,Ya,ct,Et,St,Br,Rr,Fn,Lo,Uo,ge,Nn,wo,H;Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var o=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,p=typeof ue=="object"&&ue?ue:{},f=(rt,U,V,et)=>{typeof p.emitWarning=="function"?p.emitWarning(rt,U,V,et):console.error(`[${V}] ${U}: ${rt}`)},n=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof n>"u"){s=class{constructor(){_e(this,"onabort");_e(this,"_onabort",[]);_e(this,"reason");_e(this,"aborted",!1)}addEventListener(V,et){this._onabort.push(et)}},n=class{constructor(){_e(this,"signal",new s);U()}abort(V){var et,gt;if(!this.signal.aborted){this.signal.reason=V,this.signal.aborted=!0;for(let h of this.signal._onabort)h(V);(gt=(et=this.signal).onabort)==null||gt.call(et,V)}}};let rt=((w=p.env)==null?void 0:w.LRU_CACHE_IGNORE_AC_WARNING)!=="1",U=()=>{rt&&(rt=!1,f("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",U))}}var u=rt=>!e.has(rt),l=rt=>rt&&rt===Math.floor(rt)&&rt>0&&isFinite(rt),c=rt=>l(rt)?rt<=Math.pow(2,8)?Uint8Array:rt<=Math.pow(2,16)?Uint16Array:rt<=Math.pow(2,32)?Uint32Array:rt<=Number.MAX_SAFE_INTEGER?m:null:null,m=class extends Array{constructor(rt){super(rt),this.fill(0)}},v=(_=class{constructor(U,V){_e(this,"heap");_e(this,"length");if(!Q(_,I))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new V(U),this.length=0}static create(U){let V=c(U);if(!V)return[];Qt(_,I,!0);let et=new _(U,V);return Qt(_,I,!1),et}push(U){this.heap[this.length++]=U}pop(){return this.heap[--this.length]}},I=new WeakMap,ae(_,I,!1),_),b=(H=class{constructor(U){ae(this,B);ae(this,x);ae(this,Y);ae(this,z);ae(this,M);ae(this,$);_e(this,"ttl");_e(this,"ttlResolution");_e(this,"ttlAutopurge");_e(this,"updateAgeOnGet");_e(this,"updateAgeOnHas");_e(this,"allowStale");_e(this,"noDisposeOnSet");_e(this,"noUpdateTTL");_e(this,"maxEntrySize");_e(this,"sizeCalculation");_e(this,"noDeleteOnFetchRejection");_e(this,"noDeleteOnStaleGet");_e(this,"allowStaleOnFetchAbort");_e(this,"allowStaleOnFetchRejection");_e(this,"ignoreFetchAbort");ae(this,X);ae(this,j);ae(this,T);ae(this,K);ae(this,nt);ae(this,q);ae(this,ft);ae(this,L);ae(this,Z);ae(this,wt);ae(this,pt);ae(this,ut);ae(this,It);ae(this,lt);ae(this,kt);ae(this,_t);ae(this,Wt);ae(this,st,()=>{});ae(this,Tt,()=>{});ae(this,ht,()=>{});ae(this,A,()=>!1);ae(this,ct,U=>{});ae(this,Et,(U,V,et)=>{});ae(this,St,(U,V,et,gt)=>{if(et||gt)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:V=0,ttl:et,ttlResolution:gt=1,ttlAutopurge:h,updateAgeOnGet:d,updateAgeOnHas:g,allowStale:O,dispose:D,disposeAfter:k,noDisposeOnSet:mt,noUpdateTTL:Dt,maxSize:P=0,maxEntrySize:$t=0,sizeCalculation:jt,fetchMethod:Lt,noDeleteOnFetchRejection:Ut,noDeleteOnStaleGet:Zt,allowStaleOnFetchRejection:Ct,allowStaleOnFetchAbort:ee,ignoreFetchAbort:ne}=U;if(V!==0&&!l(V))throw new TypeError("max option must be a nonnegative integer");let se=V?c(V):Array;if(!se)throw new Error("invalid max value: "+V);if(Qt(this,x,V),Qt(this,Y,P),this.maxEntrySize=$t||Q(this,Y),this.sizeCalculation=jt,this.sizeCalculation){if(!Q(this,Y)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Lt!==void 0&&typeof Lt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Qt(this,$,Lt),Qt(this,_t,!!Lt),Qt(this,T,new Map),Qt(this,K,new Array(V).fill(void 0)),Qt(this,nt,new Array(V).fill(void 0)),Qt(this,q,new se(V)),Qt(this,ft,new se(V)),Qt(this,L,0),Qt(this,Z,0),Qt(this,wt,v.create(V)),Qt(this,X,0),Qt(this,j,0),typeof D=="function"&&Qt(this,z,D),typeof k=="function"?(Qt(this,M,k),Qt(this,pt,[])):(Qt(this,M,void 0),Qt(this,pt,void 0)),Qt(this,kt,!!Q(this,z)),Qt(this,Wt,!!Q(this,M)),this.noDisposeOnSet=!!mt,this.noUpdateTTL=!!Dt,this.noDeleteOnFetchRejection=!!Ut,this.allowStaleOnFetchRejection=!!Ct,this.allowStaleOnFetchAbort=!!ee,this.ignoreFetchAbort=!!ne,this.maxEntrySize!==0){if(Q(this,Y)!==0&&!l(Q(this,Y)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Kt(this,B,Ya).call(this)}if(this.allowStale=!!O,this.noDeleteOnStaleGet=!!Zt,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!g,this.ttlResolution=l(gt)||gt===0?gt:1,this.ttlAutopurge=!!h,this.ttl=et||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Kt(this,B,xn).call(this)}if(Q(this,x)===0&&this.ttl===0&&Q(this,Y)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!Q(this,x)&&!Q(this,Y)){let te="LRU_CACHE_UNBOUNDED";u(te)&&(e.add(te),f("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",te,H))}}static unsafeExposeInternals(U){return{starts:Q(U,It),ttls:Q(U,lt),sizes:Q(U,ut),keyMap:Q(U,T),keyList:Q(U,K),valList:Q(U,nt),next:Q(U,q),prev:Q(U,ft),get head(){return Q(U,L)},get tail(){return Q(U,Z)},free:Q(U,wt),isBackgroundFetch:V=>{var et;return Kt(et=U,B,ge).call(et,V)},backgroundFetch:(V,et,gt,h)=>{var d;return Kt(d=U,B,Uo).call(d,V,et,gt,h)},moveToTail:V=>{var et;return Kt(et=U,B,wo).call(et,V)},indexes:V=>{var et;return Kt(et=U,B,Br).call(et,V)},rindexes:V=>{var et;return Kt(et=U,B,Rr).call(et,V)},isStale:V=>{var et;return Q(et=U,A).call(et,V)}}}get max(){return Q(this,x)}get maxSize(){return Q(this,Y)}get calculatedSize(){return Q(this,j)}get size(){return Q(this,X)}get fetchMethod(){return Q(this,$)}get dispose(){return Q(this,z)}get disposeAfter(){return Q(this,M)}getRemainingTTL(U){return Q(this,T).has(U)?1/0:0}*entries(){for(let U of Kt(this,B,Br).call(this))Q(this,nt)[U]!==void 0&&Q(this,K)[U]!==void 0&&!Kt(this,B,ge).call(this,Q(this,nt)[U])&&(yield[Q(this,K)[U],Q(this,nt)[U]])}*rentries(){for(let U of Kt(this,B,Rr).call(this))Q(this,nt)[U]!==void 0&&Q(this,K)[U]!==void 0&&!Kt(this,B,ge).call(this,Q(this,nt)[U])&&(yield[Q(this,K)[U],Q(this,nt)[U]])}*keys(){for(let U of Kt(this,B,Br).call(this)){let V=Q(this,K)[U];V!==void 0&&!Kt(this,B,ge).call(this,Q(this,nt)[U])&&(yield V)}}*rkeys(){for(let U of Kt(this,B,Rr).call(this)){let V=Q(this,K)[U];V!==void 0&&!Kt(this,B,ge).call(this,Q(this,nt)[U])&&(yield V)}}*values(){for(let U of Kt(this,B,Br).call(this))Q(this,nt)[U]!==void 0&&!Kt(this,B,ge).call(this,Q(this,nt)[U])&&(yield Q(this,nt)[U])}*rvalues(){for(let U of Kt(this,B,Rr).call(this))Q(this,nt)[U]!==void 0&&!Kt(this,B,ge).call(this,Q(this,nt)[U])&&(yield Q(this,nt)[U])}[Symbol.iterator](){return this.entries()}find(U,V={}){for(let et of Kt(this,B,Br).call(this)){let gt=Q(this,nt)[et],h=Kt(this,B,ge).call(this,gt)?gt.__staleWhileFetching:gt;if(h!==void 0&&U(h,Q(this,K)[et],this))return this.get(Q(this,K)[et],V)}}forEach(U,V=this){for(let et of Kt(this,B,Br).call(this)){let gt=Q(this,nt)[et],h=Kt(this,B,ge).call(this,gt)?gt.__staleWhileFetching:gt;h!==void 0&&U.call(V,h,Q(this,K)[et],this)}}rforEach(U,V=this){for(let et of Kt(this,B,Rr).call(this)){let gt=Q(this,nt)[et],h=Kt(this,B,ge).call(this,gt)?gt.__staleWhileFetching:gt;h!==void 0&&U.call(V,h,Q(this,K)[et],this)}}purgeStale(){let U=!1;for(let V of Kt(this,B,Rr).call(this,{allowStale:!0}))Q(this,A).call(this,V)&&(this.delete(Q(this,K)[V]),U=!0);return U}dump(){let U=[];for(let V of Kt(this,B,Br).call(this,{allowStale:!0})){let et=Q(this,K)[V],gt=Q(this,nt)[V],h=Kt(this,B,ge).call(this,gt)?gt.__staleWhileFetching:gt;if(h===void 0||et===void 0)continue;let d={value:h};if(Q(this,lt)&&Q(this,It)){d.ttl=Q(this,lt)[V];let g=o.now()-Q(this,It)[V];d.start=Math.floor(Date.now()-g)}Q(this,ut)&&(d.size=Q(this,ut)[V]),U.unshift([et,d])}return U}load(U){this.clear();for(let[V,et]of U){if(et.start){let gt=Date.now()-et.start;et.start=o.now()-gt}this.set(V,et.value,et)}}set(U,V,et={}){var Dt,P,$t,jt,Lt;if(V===void 0)return this.delete(U),this;let{ttl:gt=this.ttl,start:h,noDisposeOnSet:d=this.noDisposeOnSet,sizeCalculation:g=this.sizeCalculation,status:O}=et,{noUpdateTTL:D=this.noUpdateTTL}=et,k=Q(this,St).call(this,U,V,et.size||0,g);if(this.maxEntrySize&&k>this.maxEntrySize)return O&&(O.set="miss",O.maxEntrySizeExceeded=!0),this.delete(U),this;let mt=Q(this,X)===0?void 0:Q(this,T).get(U);if(mt===void 0)mt=Q(this,X)===0?Q(this,Z):Q(this,wt).length!==0?Q(this,wt).pop():Q(this,X)===Q(this,x)?Kt(this,B,Lo).call(this,!1):Q(this,X),Q(this,K)[mt]=U,Q(this,nt)[mt]=V,Q(this,T).set(U,mt),Q(this,q)[Q(this,Z)]=mt,Q(this,ft)[mt]=Q(this,Z),Qt(this,Z,mt),Mo(this,X)._++,Q(this,Et).call(this,mt,k,O),O&&(O.set="add"),D=!1;else{Kt(this,B,wo).call(this,mt);let Ut=Q(this,nt)[mt];if(V!==Ut){if(Q(this,_t)&&Kt(this,B,ge).call(this,Ut)){Ut.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Zt}=Ut;Zt!==void 0&&!d&&(Q(this,kt)&&((Dt=Q(this,z))==null||Dt.call(this,Zt,U,"set")),Q(this,Wt)&&((P=Q(this,pt))==null||P.push([Zt,U,"set"])))}else d||(Q(this,kt)&&(($t=Q(this,z))==null||$t.call(this,Ut,U,"set")),Q(this,Wt)&&((jt=Q(this,pt))==null||jt.push([Ut,U,"set"])));if(Q(this,ct).call(this,mt),Q(this,Et).call(this,mt,k,O),Q(this,nt)[mt]=V,O){O.set="replace";let Zt=Ut&&Kt(this,B,ge).call(this,Ut)?Ut.__staleWhileFetching:Ut;Zt!==void 0&&(O.oldValue=Zt)}}else O&&(O.set="update")}if(gt!==0&&!Q(this,lt)&&Kt(this,B,xn).call(this),Q(this,lt)&&(D||Q(this,ht).call(this,mt,gt,h),O&&Q(this,Tt).call(this,O,mt)),!d&&Q(this,Wt)&&Q(this,pt)){let Ut=Q(this,pt),Zt;for(;Zt=Ut==null?void 0:Ut.shift();)(Lt=Q(this,M))==null||Lt.call(this,...Zt)}return this}pop(){var U;try{for(;Q(this,X);){let V=Q(this,nt)[Q(this,L)];if(Kt(this,B,Lo).call(this,!0),Kt(this,B,ge).call(this,V)){if(V.__staleWhileFetching)return V.__staleWhileFetching}else if(V!==void 0)return V}}finally{if(Q(this,Wt)&&Q(this,pt)){let V=Q(this,pt),et;for(;et=V==null?void 0:V.shift();)(U=Q(this,M))==null||U.call(this,...et)}}}has(U,V={}){let{updateAgeOnHas:et=this.updateAgeOnHas,status:gt}=V,h=Q(this,T).get(U);if(h!==void 0){let d=Q(this,nt)[h];if(Kt(this,B,ge).call(this,d)&&d.__staleWhileFetching===void 0)return!1;if(Q(this,A).call(this,h))gt&&(gt.has="stale",Q(this,Tt).call(this,gt,h));else return et&&Q(this,st).call(this,h),gt&&(gt.has="hit",Q(this,Tt).call(this,gt,h)),!0}else gt&&(gt.has="miss");return!1}peek(U,V={}){let{allowStale:et=this.allowStale}=V,gt=Q(this,T).get(U);if(gt!==void 0&&(et||!Q(this,A).call(this,gt))){let h=Q(this,nt)[gt];return Kt(this,B,ge).call(this,h)?h.__staleWhileFetching:h}}async fetch(U,V={}){let{allowStale:et=this.allowStale,updateAgeOnGet:gt=this.updateAgeOnGet,noDeleteOnStaleGet:h=this.noDeleteOnStaleGet,ttl:d=this.ttl,noDisposeOnSet:g=this.noDisposeOnSet,size:O=0,sizeCalculation:D=this.sizeCalculation,noUpdateTTL:k=this.noUpdateTTL,noDeleteOnFetchRejection:mt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Dt=this.allowStaleOnFetchRejection,ignoreFetchAbort:P=this.ignoreFetchAbort,allowStaleOnFetchAbort:$t=this.allowStaleOnFetchAbort,context:jt,forceRefresh:Lt=!1,status:Ut,signal:Zt}=V;if(!Q(this,_t))return Ut&&(Ut.fetch="get"),this.get(U,{allowStale:et,updateAgeOnGet:gt,noDeleteOnStaleGet:h,status:Ut});let Ct={allowStale:et,updateAgeOnGet:gt,noDeleteOnStaleGet:h,ttl:d,noDisposeOnSet:g,size:O,sizeCalculation:D,noUpdateTTL:k,noDeleteOnFetchRejection:mt,allowStaleOnFetchRejection:Dt,allowStaleOnFetchAbort:$t,ignoreFetchAbort:P,status:Ut,signal:Zt},ee=Q(this,T).get(U);if(ee===void 0){Ut&&(Ut.fetch="miss");let ne=Kt(this,B,Uo).call(this,U,ee,Ct,jt);return ne.__returned=ne}else{let ne=Q(this,nt)[ee];if(Kt(this,B,ge).call(this,ne)){let At=et&&ne.__staleWhileFetching!==void 0;return Ut&&(Ut.fetch="inflight",At&&(Ut.returnedStale=!0)),At?ne.__staleWhileFetching:ne.__returned=ne}let se=Q(this,A).call(this,ee);if(!Lt&&!se)return Ut&&(Ut.fetch="hit"),Kt(this,B,wo).call(this,ee),gt&&Q(this,st).call(this,ee),Ut&&Q(this,Tt).call(this,Ut,ee),ne;let te=Kt(this,B,Uo).call(this,U,ee,Ct,jt),yt=te.__staleWhileFetching!==void 0&&et;return Ut&&(Ut.fetch=se?"stale":"refresh",yt&&se&&(Ut.returnedStale=!0)),yt?te.__staleWhileFetching:te.__returned=te}}get(U,V={}){let{allowStale:et=this.allowStale,updateAgeOnGet:gt=this.updateAgeOnGet,noDeleteOnStaleGet:h=this.noDeleteOnStaleGet,status:d}=V,g=Q(this,T).get(U);if(g!==void 0){let O=Q(this,nt)[g],D=Kt(this,B,ge).call(this,O);return d&&Q(this,Tt).call(this,d,g),Q(this,A).call(this,g)?(d&&(d.get="stale"),D?(d&&et&&O.__staleWhileFetching!==void 0&&(d.returnedStale=!0),et?O.__staleWhileFetching:void 0):(h||this.delete(U),d&&et&&(d.returnedStale=!0),et?O:void 0)):(d&&(d.get="hit"),D?O.__staleWhileFetching:(Kt(this,B,wo).call(this,g),gt&&Q(this,st).call(this,g),O))}else d&&(d.get="miss")}delete(U){var et,gt,h,d;let V=!1;if(Q(this,X)!==0){let g=Q(this,T).get(U);if(g!==void 0)if(V=!0,Q(this,X)===1)this.clear();else{Q(this,ct).call(this,g);let O=Q(this,nt)[g];Kt(this,B,ge).call(this,O)?O.__abortController.abort(new Error("deleted")):(Q(this,kt)||Q(this,Wt))&&(Q(this,kt)&&((et=Q(this,z))==null||et.call(this,O,U,"delete")),Q(this,Wt)&&((gt=Q(this,pt))==null||gt.push([O,U,"delete"]))),Q(this,T).delete(U),Q(this,K)[g]=void 0,Q(this,nt)[g]=void 0,g===Q(this,Z)?Qt(this,Z,Q(this,ft)[g]):g===Q(this,L)?Qt(this,L,Q(this,q)[g]):(Q(this,q)[Q(this,ft)[g]]=Q(this,q)[g],Q(this,ft)[Q(this,q)[g]]=Q(this,ft)[g]),Mo(this,X)._--,Q(this,wt).push(g)}}if(Q(this,Wt)&&((h=Q(this,pt))!=null&&h.length)){let g=Q(this,pt),O;for(;O=g==null?void 0:g.shift();)(d=Q(this,M))==null||d.call(this,...O)}return V}clear(){var U,V,et;for(let gt of Kt(this,B,Rr).call(this,{allowStale:!0})){let h=Q(this,nt)[gt];if(Kt(this,B,ge).call(this,h))h.__abortController.abort(new Error("deleted"));else{let d=Q(this,K)[gt];Q(this,kt)&&((U=Q(this,z))==null||U.call(this,h,d,"delete")),Q(this,Wt)&&((V=Q(this,pt))==null||V.push([h,d,"delete"]))}}if(Q(this,T).clear(),Q(this,nt).fill(void 0),Q(this,K).fill(void 0),Q(this,lt)&&Q(this,It)&&(Q(this,lt).fill(0),Q(this,It).fill(0)),Q(this,ut)&&Q(this,ut).fill(0),Qt(this,L,0),Qt(this,Z,0),Q(this,wt).length=0,Qt(this,j,0),Qt(this,X,0),Q(this,Wt)&&Q(this,pt)){let gt=Q(this,pt),h;for(;h=gt==null?void 0:gt.shift();)(et=Q(this,M))==null||et.call(this,...h)}}},x=new WeakMap,Y=new WeakMap,z=new WeakMap,M=new WeakMap,$=new WeakMap,X=new WeakMap,j=new WeakMap,T=new WeakMap,K=new WeakMap,nt=new WeakMap,q=new WeakMap,ft=new WeakMap,L=new WeakMap,Z=new WeakMap,wt=new WeakMap,pt=new WeakMap,ut=new WeakMap,It=new WeakMap,lt=new WeakMap,kt=new WeakMap,_t=new WeakMap,Wt=new WeakMap,B=new WeakSet,xn=function(){let U=new m(Q(this,x)),V=new m(Q(this,x));Qt(this,lt,U),Qt(this,It,V),Qt(this,ht,(h,d,g=o.now())=>{if(V[h]=d!==0?g:0,U[h]=d,d!==0&&this.ttlAutopurge){let O=setTimeout(()=>{Q(this,A).call(this,h)&&this.delete(Q(this,K)[h])},d+1);O.unref&&O.unref()}}),Qt(this,st,h=>{V[h]=U[h]!==0?o.now():0}),Qt(this,Tt,(h,d)=>{if(U[d]){let g=U[d],O=V[d];h.ttl=g,h.start=O,h.now=et||gt();let D=h.now-O;h.remainingTTL=g-D}});let et=0,gt=()=>{let h=o.now();if(this.ttlResolution>0){et=h;let d=setTimeout(()=>et=0,this.ttlResolution);d.unref&&d.unref()}return h};this.getRemainingTTL=h=>{let d=Q(this,T).get(h);if(d===void 0)return 0;let g=U[d],O=V[d];if(g===0||O===0)return 1/0;let D=(et||gt())-O;return g-D},Qt(this,A,h=>U[h]!==0&&V[h]!==0&&(et||gt())-V[h]>U[h])},st=new WeakMap,Tt=new WeakMap,ht=new WeakMap,A=new WeakMap,Ya=function(){let U=new m(Q(this,x));Qt(this,j,0),Qt(this,ut,U),Qt(this,ct,V=>{Qt(this,j,Q(this,j)-U[V]),U[V]=0}),Qt(this,St,(V,et,gt,h)=>{if(Kt(this,B,ge).call(this,et))return 0;if(!l(gt))if(h){if(typeof h!="function")throw new TypeError("sizeCalculation must be a function");if(gt=h(et,V),!l(gt))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return gt}),Qt(this,Et,(V,et,gt)=>{if(U[V]=et,Q(this,Y)){let h=Q(this,Y)-U[V];for(;Q(this,j)>h;)Kt(this,B,Lo).call(this,!0)}Qt(this,j,Q(this,j)+U[V]),gt&&(gt.entrySize=et,gt.totalCalculatedSize=Q(this,j))})},ct=new WeakMap,Et=new WeakMap,St=new WeakMap,Br=function*({allowStale:U=this.allowStale}={}){if(Q(this,X))for(let V=Q(this,Z);!(!Kt(this,B,Fn).call(this,V)||((U||!Q(this,A).call(this,V))&&(yield V),V===Q(this,L)));)V=Q(this,ft)[V]},Rr=function*({allowStale:U=this.allowStale}={}){if(Q(this,X))for(let V=Q(this,L);!(!Kt(this,B,Fn).call(this,V)||((U||!Q(this,A).call(this,V))&&(yield V),V===Q(this,Z)));)V=Q(this,q)[V]},Fn=function(U){return U!==void 0&&Q(this,T).get(Q(this,K)[U])===U},Lo=function(U){var h,d;let V=Q(this,L),et=Q(this,K)[V],gt=Q(this,nt)[V];return Q(this,_t)&&Kt(this,B,ge).call(this,gt)?gt.__abortController.abort(new Error("evicted")):(Q(this,kt)||Q(this,Wt))&&(Q(this,kt)&&((h=Q(this,z))==null||h.call(this,gt,et,"evict")),Q(this,Wt)&&((d=Q(this,pt))==null||d.push([gt,et,"evict"]))),Q(this,ct).call(this,V),U&&(Q(this,K)[V]=void 0,Q(this,nt)[V]=void 0,Q(this,wt).push(V)),Q(this,X)===1?(Qt(this,L,Qt(this,Z,0)),Q(this,wt).length=0):Qt(this,L,Q(this,q)[V]),Q(this,T).delete(et),Mo(this,X)._--,V},Uo=function(U,V,et,gt){let h=V===void 0?void 0:Q(this,nt)[V];if(Kt(this,B,ge).call(this,h))return h;let d=new n,{signal:g}=et;g==null||g.addEventListener("abort",()=>d.abort(g.reason),{signal:d.signal});let O={signal:d.signal,options:et,context:gt},D=(jt,Lt=!1)=>{let{aborted:Ut}=d.signal,Zt=et.ignoreFetchAbort&&jt!==void 0;if(et.status&&(Ut&&!Lt?(et.status.fetchAborted=!0,et.status.fetchError=d.signal.reason,Zt&&(et.status.fetchAbortIgnored=!0)):et.status.fetchResolved=!0),Ut&&!Zt&&!Lt)return mt(d.signal.reason);let Ct=P;return Q(this,nt)[V]===P&&(jt===void 0?Ct.__staleWhileFetching?Q(this,nt)[V]=Ct.__staleWhileFetching:this.delete(U):(et.status&&(et.status.fetchUpdated=!0),this.set(U,jt,O.options))),jt},k=jt=>(et.status&&(et.status.fetchRejected=!0,et.status.fetchError=jt),mt(jt)),mt=jt=>{let{aborted:Lt}=d.signal,Ut=Lt&&et.allowStaleOnFetchAbort,Zt=Ut||et.allowStaleOnFetchRejection,Ct=Zt||et.noDeleteOnFetchRejection,ee=P;if(Q(this,nt)[V]===P&&(!Ct||ee.__staleWhileFetching===void 0?this.delete(U):Ut||(Q(this,nt)[V]=ee.__staleWhileFetching)),Zt)return et.status&&ee.__staleWhileFetching!==void 0&&(et.status.returnedStale=!0),ee.__staleWhileFetching;if(ee.__returned===ee)throw jt},Dt=(jt,Lt)=>{var Zt;let Ut=(Zt=Q(this,$))==null?void 0:Zt.call(this,U,h,O);Ut&&Ut instanceof Promise&&Ut.then(Ct=>jt(Ct===void 0?void 0:Ct),Lt),d.signal.addEventListener("abort",()=>{(!et.ignoreFetchAbort||et.allowStaleOnFetchAbort)&&(jt(void 0),et.allowStaleOnFetchAbort&&(jt=Ct=>D(Ct,!0)))})};et.status&&(et.status.fetchDispatched=!0);let P=new Promise(Dt).then(D,k),$t=Object.assign(P,{__abortController:d,__staleWhileFetching:h,__returned:void 0});return V===void 0?(this.set(U,$t,{...O.options,status:void 0}),V=Q(this,T).get(U)):Q(this,nt)[V]=$t,$t},ge=function(U){if(!Q(this,_t))return!1;let V=U;return!!V&&V instanceof Promise&&V.hasOwnProperty("__staleWhileFetching")&&V.__abortController instanceof n},Nn=function(U,V){Q(this,ft)[V]=U,Q(this,q)[U]=V},wo=function(U){U!==Q(this,Z)&&(U===Q(this,L)?Qt(this,L,Q(this,q)[U]):Kt(this,B,Nn).call(this,Q(this,ft)[U],Q(this,q)[U]),Kt(this,B,Nn).call(this,Q(this,Z),U),Qt(this,Z,U))},H);t.LRUCache=b}),Ir=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var o=class{constructor(f=0){this.iteratorType=f}equals(f){return this.o===f.o}};t.ContainerIterator=o;var e=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=e;var p=class extends e{};t.Container=p}),$u=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Ir(),e=class extends o.Base{constructor(f=[]){super(),this.S=[];let n=this;f.forEach(function(s){n.push(s)})}clear(){this.i=0,this.S=[]}push(f){return this.S.push(f),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},p=e;t.default=p}),Hu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Ir(),e=class extends o.Base{constructor(f=[]){super(),this.j=0,this.q=[];let n=this;f.forEach(function(s){n.push(s)})}clear(){this.q=[],this.i=this.j=0}push(f){let n=this.q.length;if(this.j/n>.5&&this.j+this.i>=n&&n>4096){let s=this.i;for(let u=0;u<s;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=f}else this.q[this.j+this.i]=f;return++this.i}pop(){if(this.i===0)return;let f=this.q[this.j++];return this.i-=1,f}front(){if(this.i!==0)return this.q[this.j]}},p=e;t.default=p}),Vu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Ir(),e=class extends o.Base{constructor(f=[],n=function(u,l){return u>l?-1:u<l?1:0},s=!0){if(super(),this.v=n,Array.isArray(f))this.C=s?[...f]:f;else{this.C=[];let l=this;f.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let u=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,u)}m(f){let n=this.C[f];for(;f>0;){let s=f-1>>1,u=this.C[s];if(this.v(u,n)<=0)break;this.C[f]=u,f=s}this.C[f]=n}k(f,n){let s=this.C[f];for(;f<n;){let u=f<<1|1,l=u+1,c=this.C[u];if(l<this.i&&this.v(c,this.C[l])>0&&(u=l,c=this.C[l]),this.v(c,s)>=0)break;this.C[f]=c,f=u}this.C[f]=s}clear(){this.i=0,this.C.length=0}push(f){this.C.push(f),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let f=this.C[0],n=this.C.pop();return this.i-=1,this.i&&(this.C[0]=n,this.k(0,this.i>>1)),f}top(){return this.C[0]}find(f){return this.C.indexOf(f)>=0}remove(f){let n=this.C.indexOf(f);return n<0?!1:(n===0?this.pop():n===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(n,1,this.C.pop()),this.i-=1,this.m(n),this.k(n,this.i>>1)),!0)}updateItem(f){let n=this.C.indexOf(f);return n<0?!1:(this.m(n),this.k(n,this.i>>1),!0)}toArray(){return[...this.C]}},p=e;t.default=p}),is=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Ir(),e=class extends o.Container{},p=e;t.default=p}),kr=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=o;function o(){throw new RangeError("Iterator access denied!")}}),Ka=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var o=Ir(),e=kr(),p=class extends o.ContainerIterator{constructor(f,n){super(n),this.o=f,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,e.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,e.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,e.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,e.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(f){this.container.setElementByPos(this.o,f)}};t.RandomIterator=p}),Gu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(is()),e=Ka();function p(u){return u&&u.t?u:{default:u}}var f=class Ja extends e.RandomIterator{constructor(l,c,m){super(l,m),this.container=c}copy(){return new Ja(this.o,this.container,this.iteratorType)}},n=class extends o.default{constructor(u=[],l=!0){if(super(),Array.isArray(u))this.J=l?[...u]:u,this.i=u.length;else{this.J=[];let c=this;u.forEach(function(m){c.pushBack(m)})}}clear(){this.i=0,this.J.length=0}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==u&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(u){let l=u.o;return u=u.next(),this.eraseElementByPos(l),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(c).fill(l)),this.i+=c,this.i}find(u){for(let l=0;l<this.i;++l)if(this.J[l]===u)return new f(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[u++]=this.J[l]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let l=0;l<this.i;++l)u(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},s=n;t.default=s}),qu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=f(is()),e=Ir(),p=kr();function f(l){return l&&l.t?l:{default:l}}var n=class Qa extends e.ContainerIterator{constructor(c,m,v,b){super(b),this.o=c,this.h=m,this.container=v,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l=c}copy(){return new Qa(this.o,this.h,this.container,this.iteratorType)}},s=class extends o.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(m){c.pushBack(m)})}V(l){let{L:c,B:m}=l;c.B=m,m.L=c,l===this.p&&(this.p=m),l===this._&&(this._=c),this.i-=1}G(l,c){let m=c.B,v={l,L:c,B:m};c.B=v,m.L=v,c===this.h&&(this.p=v),m===this.h&&(this._=v),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,p.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let m=this.p;for(;l--;)m=m.B;m.l=c}insert(l,c,m=1){if(l<0||l>this.i)throw new RangeError;if(m<=0)return this.i;if(l===0)for(;m--;)this.pushFront(c);else if(l===this.i)for(;m--;)this.pushBack(c);else{let v=this.p;for(let w=1;w<l;++w)v=v.B;let b=v.B;for(this.i+=m;m--;)v.B={l:c,L:v},v.B.L=v,v=v.B;v.B=b,b.L=v}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new n(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,m=0;for(;m<<1<this.i;){let v=l.l;l.l=c.l,c.l=v,l=l.B,c=c.L,m+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(v){c.push(v)}),c.sort(l);let m=this.p;c.forEach(function(v){m.l=v,m=m.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(m){c.pushBack(m)});else{let m=this.p;l.forEach(function(v){for(;m!==c.h&&m.l<=v;)m=m.B;c.G(v,m.L)})}return this.i}forEach(l){let c=this.p,m=0;for(;c!==this.h;)l(c.l,m++,this),c=c.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},u=s;t.default=u}),Yu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(is()),e=Ka();function p(u){return u&&u.t?u:{default:u}}var f=class Za extends e.RandomIterator{constructor(l,c,m){super(l,m),this.container=c}copy(){return new Za(this.o,this.container,this.iteratorType)}},n=class extends o.default{constructor(u=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let b=0;b<this.P;++b)this.A.push(new Array(this.F));let m=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(m>>1),this.D=this.N=this.F-c%this.F>>1;let v=this;u.forEach(function(b){v.pushBack(b)})}T(){let u=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)u[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)u[u.length]=this.A[c];for(let c=0;c<this.R;++c)u[u.length]=this.A[c];u[u.length]=[...this.A[this.R]],this.j=l,this.R=u.length-1;for(let c=0;c<l;++c)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let l=this.D+u+1,c=l%this.F,m=c-1,v=this.j+(l-c)/this.F;return c===0&&(v-=1),v%=this.P,m<0&&(m+=this.F),{curNodeBucketIndex:v,curNodePointerIndex:m}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.A[l][c]}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:m}=this.O(u);this.A[c][m]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;c--;)this.pushFront(l);else if(u===this.i)for(;c--;)this.pushBack(l);else{let m=[];for(let v=u;v<this.i;++v)m.push(this.getElementByPos(v));this.cut(u-1);for(let v=0;v<c;++v)this.pushBack(l);for(let v=0;v<m.length;++v)this.pushBack(m[v])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.R=l,this.N=c,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let l=[];for(let m=u+1;m<this.i;++m)l.push(this.getElementByPos(m));this.cut(u),this.popBack();let c=this;l.forEach(function(m){c.pushBack(m)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let l=[];for(let m=0;m<this.i;++m){let v=this.getElementByPos(m);v!==u&&l.push(v)}let c=l.length;for(let m=0;m<c;++m)this.setElementByPos(m,l[m]);return this.cut(c-1)}eraseElementByIterator(u){let l=u.o;return this.eraseElementByPos(l),u=u.next(),u}find(u){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===u)return new f(l,this);return this.end()}reverse(){let u=0,l=this.i-1;for(;u<l;){let c=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(l)),this.setElementByPos(l,c),u+=1,l-=1}}unique(){if(this.i<=1)return this.i;let u=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let m=this.getElementByPos(c);m!==l&&(l=m,this.setElementByPos(u++,m))}for(;this.i>u;)this.popBack();return this.i}sort(u){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(u);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(l){u.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<u.length;++l)this.pushBack(u[l])}forEach(u){for(let l=0;l<this.i;++l)u(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}},s=n;t.default=s}),Ku=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var o=class{constructor(p,f){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=p,this.l=f}L(){let p=this;if(p.ee===1&&p.tt.tt===p)p=p.W;else if(p.U)for(p=p.U;p.W;)p=p.W;else{let f=p.tt;for(;f.U===p;)p=f,f=p.tt;p=f}return p}B(){let p=this;if(p.W){for(p=p.W;p.U;)p=p.U;return p}else{let f=p.tt;for(;f.W===p;)p=f,f=p.tt;return p.W!==f?f:p}}te(){let p=this.tt,f=this.W,n=f.U;return p.tt===this?p.tt=f:p.U===this?p.U=f:p.W=f,f.tt=p,f.U=this,this.tt=f,this.W=n,n&&(n.tt=this),f}se(){let p=this.tt,f=this.U,n=f.W;return p.tt===this?p.tt=f:p.U===this?p.U=f:p.W=f,f.tt=p,f.W=this,this.tt=f,this.U=n,n&&(n.tt=this),f}};t.TreeNode=o;var e=class extends o{constructor(){super(...arguments),this.rt=1}te(){let p=super.te();return this.ie(),p.ie(),p}se(){let p=super.se();return this.ie(),p.ie(),p}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=e}),Xa=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Ku(),e=Ir(),p=kr(),f=class extends e.Container{constructor(s=function(l,c){return l<c?-1:l>c?1:0},u=!1){super(),this.Y=void 0,this.v=s,u?(this.re=o.TreeNodeEnableIndex,this.M=function(l,c,m){let v=this.ne(l,c,m);if(v){let b=v.tt;for(;b!==this.h;)b.rt+=1,b=b.tt;let w=this.he(v);if(w){let{parentNode:_,grandParent:I,curNode:x}=w;_.ie(),I.ie(),x.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=o.TreeNode,this.M=function(l,c,m){let v=this.ne(l,c,m);return v&&this.he(v),this.i},this.V=this.fe),this.h=new this.re}X(s,u){let l=this.h;for(;s;){let c=this.v(s.u,u);if(c<0)s=s.W;else if(c>0)l=s,s=s.U;else return s}return l}Z(s,u){let l=this.h;for(;s;)this.v(s.u,u)<=0?s=s.W:(l=s,s=s.U);return l}$(s,u){let l=this.h;for(;s;){let c=this.v(s.u,u);if(c<0)l=s,s=s.W;else if(c>0)s=s.U;else return s}return l}rr(s,u){let l=this.h;for(;s;)this.v(s.u,u)<0?(l=s,s=s.W):s=s.U;return l}ue(s){for(;;){let u=s.tt;if(u===this.h)return;if(s.ee===1){s.ee=0;return}if(s===u.U){let l=u.W;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(l.W&&l.W.ee===1){l.ee=u.ee,u.ee=0,l.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,s=u)}else{let l=u.U;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(l.U&&l.U.ee===1){l.ee=u.ee,u.ee=0,l.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,s=u)}}}fe(s){if(this.i===1)return this.clear(),this.h;let u=s;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[s.u,u.u]=[u.u,s.u],[s.l,u.l]=[u.l,s.l],s=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let l=u.tt;return u===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(s,u){return s===void 0?!1:this.oe(s.U,u)||u(s)?!0:this.oe(s.W,u)}he(s){for(;;){let u=s.tt;if(u.ee===0)return;let l=u.tt;if(u===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===u.W){if(s.ee=0,s.U&&(s.U.tt=u),s.W&&(s.W.tt=l),u.W=s.U,l.U=s.W,s.U=u,s.W=l,l===this.Y)this.Y=s,this.h.tt=s;else{let m=l.tt;m.U===l?m.U=s:m.W=s}return s.tt=l.tt,u.tt=s,l.tt=s,l.ee=1,{parentNode:u,grandParent:l,curNode:s}}else u.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,s=l;continue}else if(s===u.U){if(s.ee=0,s.U&&(s.U.tt=l),s.W&&(s.W.tt=u),l.W=s.U,u.U=s.W,s.U=l,s.W=u,l===this.Y)this.Y=s,this.h.tt=s;else{let m=l.tt;m.U===l?m.U=s:m.W=s}return s.tt=l.tt,u.tt=s,l.tt=s,l.ee=1,{parentNode:u,grandParent:l,curNode:s}}else u.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(s,u,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,m=this.h.U,v=this.v(m.u,s);if(v===0){m.l=u;return}else if(v>0)m.U=new this.re(s,u),m.U.tt=m,c=m.U,this.h.U=c;else{let b=this.h.W,w=this.v(b.u,s);if(w===0){b.l=u;return}else if(w<0)b.W=new this.re(s,u),b.W.tt=b,c=b.W,this.h.W=c;else{if(l!==void 0){let _=l.o;if(_!==this.h){let I=this.v(_.u,s);if(I===0){_.l=u;return}else if(I>0){let x=_.L(),Y=this.v(x.u,s);if(Y===0){x.l=u;return}else Y<0&&(c=new this.re(s,u),x.W===void 0?(x.W=c,c.tt=x):(_.U=c,c.tt=_))}}}if(c===void 0)for(c=this.Y;;){let _=this.v(c.u,s);if(_>0){if(c.U===void 0){c.U=new this.re(s,u),c.U.tt=c,c=c.U;break}c=c.U}else if(_<0){if(c.W===void 0){c.W=new this.re(s,u),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=u;return}}}}return this.i+=1,c}I(s,u){for(;s;){let l=this.v(s.u,u);if(l<0)s=s.W;else if(l>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,u){let l=s.o;if(l===this.h&&(0,p.throwIteratorAccessError)(),this.i===1)return l.u=u,!0;if(l===this.h.U)return this.v(l.B().u,u)>0?(l.u=u,!0):!1;if(l===this.h.W)return this.v(l.L().u,u)<0?(l.u=u,!0):!1;let c=l.L().u;if(this.v(c,u)>=0)return!1;let m=l.B().u;return this.v(m,u)<=0?!1:(l.u=u,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let u=0,l=this;return this.oe(this.Y,function(c){return s===u?(l.V(c),!0):(u+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let u=this.I(this.Y,s);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(s){let u=s.o;u===this.h&&(0,p.throwIteratorAccessError)();let l=u.W===void 0;return s.iteratorType===0?l&&s.next():(!l||u.U===void 0)&&s.next(),this.V(u),s}forEach(s){let u=0;for(let l of this)s(l,u++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let u,l=0;for(let c of this){if(l===s){u=c;break}l+=1}return u}getHeight(){if(this.i===0)return 0;let s=function(u){return u?Math.max(s(u.U),s(u.W))+1:0};return s(this.Y)}},n=f;t.default=n}),tl=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Ir(),e=kr(),p=class extends o.ContainerIterator{constructor(n,s,u){super(u),this.o=n,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let n=this.o,s=this.h.tt;if(n===this.h)return s?s.rt-1:0;let u=0;for(n.U&&(u+=n.U.rt);n!==s;){let l=n.tt;n===l.W&&(u+=1,l.U&&(u+=l.U.rt)),n=l}return u}},f=p;t.default=f}),Ju=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=f(Xa()),e=f(tl()),p=kr();function f(l){return l&&l.t?l:{default:l}}var n=class el extends e.default{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.u}copy(){return new el(this.o,this.h,this.container,this.iteratorType)}},s=class extends o.default{constructor(l=[],c,m){super(c,m);let v=this;l.forEach(function(b){v.insert(b)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new n(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new n(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new n(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new n(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new n(c,this.h,this)}union(l){let c=this;return l.forEach(function(m){c.insert(m)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=s;t.default=u}),Qu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=f(Xa()),e=f(tl()),p=kr();function f(l){return l&&l.t?l:{default:l}}var n=class rl extends e.default{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(m,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(m,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new rl(this.o,this.h,this.container,this.iteratorType)}},s=class extends o.default{constructor(l=[],c,m){super(c,m);let v=this;l.forEach(function(b){v.setElement(b[0],b[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new n(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new n(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new n(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new n(c,this.h,this)}setElement(l,c,m){return this.M(l,c,m)}find(l){let c=this.I(this.Y,l);return new n(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(m){c.setElement(m[0],m[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=s;t.default=u}),ol=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=o;function o(e){let p=typeof e;return p==="object"&&e!==null||p==="function"}}),il=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var o=Ir(),e=f(ol()),p=kr();function f(u){return u&&u.t?u:{default:u}}var n=class extends o.ContainerIterator{constructor(u,l,c){super(c),this.o=u,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=n;var s=class extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:l,B:c}=u;l.B=c,c.L=l,u===this.p&&(this.p=c),u===this._&&(this._=l),this.i-=1}M(u,l,c){c===void 0&&(c=(0,e.default)(u));let m;if(c){let v=u[this.HASH_TAG];if(v!==void 0)return this.H[v].l=l,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),m={u,l,L:this._,B:this.h},this.H.push(m)}else{let v=this.g[u];if(v)return v.l=l,this.i;m={u,l,L:this._,B:this.h},this.g[u]=m}return this.i===0?(this.p=m,this.h.B=m):this._.B=m,this._=m,this.h.L=m,++this.i}I(u,l){if(l===void 0&&(l=(0,e.default)(u)),l){let c=u[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(l){delete l.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,l){let c;if(l===void 0&&(l=(0,e.default)(u)),l){let m=u[this.HASH_TAG];if(m===void 0)return!1;delete u[this.HASH_TAG],c=this.H[m],delete this.H[m]}else{if(c=this.g[u],c===void 0)return!1;delete this.g[u]}return this.V(c),!0}eraseElementByIterator(u){let l=u.o;return l===this.h&&(0,p.throwIteratorAccessError)(),this.V(l),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let l=this.p;for(;u--;)l=l.B;return this.V(l),this.i}};t.HashContainer=s}),Zu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=il(),e=kr(),p=class nl extends o.HashContainerIterator{constructor(u,l,c,m){super(u,l,m),this.container=c}get pointer(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o.u}copy(){return new nl(this.o,this.h,this.container,this.iteratorType)}},f=class extends o.HashContainer{constructor(s=[]){super();let u=this;s.forEach(function(l){u.insert(l)})}begin(){return new p(this.p,this.h,this)}end(){return new p(this.h,this.h,this)}rBegin(){return new p(this._,this.h,this,1)}rEnd(){return new p(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,u){return this.M(s,void 0,u)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let u=this.p;for(;s--;)u=u.B;return u.u}find(s,u){let l=this.I(s,u);return new p(l,this.h,this)}forEach(s){let u=0,l=this.p;for(;l!==this.h;)s(l.u,u++,this),l=l.B}[Symbol.iterator](){return(function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}).bind(this)()}},n=f;t.default=n}),Xu=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=il(),e=f(ol()),p=kr();function f(l){return l&&l.t?l:{default:l}}var n=class sl extends o.HashContainerIterator{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(m,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(m,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new sl(this.o,this.h,this.container,this.iteratorType)}},s=class extends o.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(m){c.setElement(m[0],m[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,m){return this.M(l,c,m)}getElementByKey(l,c){if(c===void 0&&(c=(0,e.default)(l)),c){let v=l[this.HASH_TAG];return v!==void 0?this.H[v].l:void 0}let m=this.g[l];return m?m.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let m=this.I(l,c);return new n(m,this.h,this)}forEach(l){let c=0,m=this.p;for(;m!==this.h;)l([m.u,m.l],c++,this),m=m.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},u=s;t.default=u}),tc=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return f.default}});var o=v($u()),e=v(Hu()),p=v(Vu()),f=v(Gu()),n=v(qu()),s=v(Yu()),u=v(Ju()),l=v(Qu()),c=v(Zu()),m=v(Xu());function v(b){return b&&b.t?b:{default:b}}}),ec=Nt((t,o)=>{Ot(),Bt(),Mt();var e=tc().OrderedSet,p=Er()("number-allocator:trace"),f=Er()("number-allocator:error");function n(u,l){this.low=u,this.high=l}n.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},n.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0};function s(u,l){if(!(this instanceof s))return new s(u,l);this.min=u,this.max=l,this.ss=new e([],(c,m)=>c.compare(m)),p("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return p("alloc():empty"),null;let u=this.ss.begin(),l=u.pointer.low,c=u.pointer.high,m=l;return m+1<=c?this.ss.updateKeyByIterator(u,new n(l+1,c)):this.ss.eraseElementByPos(0),p("alloc():"+m),m},s.prototype.use=function(u){let l=new n(u,u),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let m=c.pointer.low,v=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),p("use():"+u),!0):m>u?!1:m===u?(this.ss.updateKeyByIterator(c,new n(m+1,v)),p("use():"+u),!0):v===u?(this.ss.updateKeyByIterator(c,new n(m,v-1)),p("use():"+u),!0):(this.ss.updateKeyByIterator(c,new n(u+1,v)),this.ss.insert(new n(m,u-1)),p("use():"+u),!0)}return p("use():failed"),!1},s.prototype.free=function(u){if(u<this.min||u>this.max){f("free():"+u+" is out of range");return}let l=new n(u,u),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let m=c.pointer.high;c.pointer.high+1===u?this.ss.updateKeyByIterator(c,new n(m,u)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(u+1===c.pointer.low){let m=c.pointer.high;this.ss.updateKeyByIterator(c,new n(u,m))}else this.ss.insert(l);else{let m=c.pointer.low,v=c.pointer.high;c.pre();let b=c.pointer.low;c.pointer.high+1===u?u+1===m?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new n(b,v))):this.ss.updateKeyByIterator(c,new n(b,u)):u+1===m?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new n(u,v))):this.ss.insert(l)}p("free():"+u)},s.prototype.clear=function(){p("clear()"),this.ss.clear(),this.ss.insert(new n(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let u of this.ss)console.log(u)},o.exports=s}),al=Nt((t,o)=>{Ot(),Bt(),Mt();var e=ec();o.exports.NumberAllocator=e}),rc=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=zu(),e=al(),p=class{constructor(f){f>0&&(this.aliasToTopic=new o.LRUCache({max:f}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,f),this.max=f,this.length=0)}put(f,n){if(n===0||n>this.max)return!1;let s=this.aliasToTopic.get(n);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(n,f),this.topicToAlias[f]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.size,!0}getTopicByAlias(f){return this.aliasToTopic.get(f)}getAliasByTopic(f){let n=this.topicToAlias[f];return typeof n<"u"&&this.aliasToTopic.get(n),n}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=p}),oc=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0});var e=oi(),p=o(rc()),f=co(),n=(s,u)=>{s.log("_handleConnack");let{options:l}=s,c=l.protocolVersion===5?u.reasonCode:u.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,u.properties){if(u.properties.topicAliasMaximum){if(u.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}u.properties.topicAliasMaximum>0&&(s.topicAliasSend=new p.default(u.properties.topicAliasMaximum))}u.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=u.properties.serverKeepAlive),u.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=u.properties.maximumPacketSize)}if(c===0)s.reconnecting=!1,s._onConnect(u);else if(c>0){let m=new f.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[c]}`,c);s.emit("error",m),s.options.reconnectOnConnackError&&s._cleanUp(!0)}};t.default=n}),ic=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(e,p,f)=>{e.log("handling pubrel packet");let n=typeof f<"u"?f:e.noop,{messageId:s}=p,u={cmd:"pubcomp",messageId:s};e.incomingStore.get(p,(l,c)=>{l?e._sendPacket(u,n):(e.emit("message",c.topic,c.payload,c),e.handleMessage(c,m=>{if(m)return n(m);e.incomingStore.del(c,e.noop),e._sendPacket(u,n)}))})};t.default=o}),nc=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(Du()),p=o(Uu()),f=o(oc()),n=o(oi()),s=o(ic()),u=(l,c,m)=>{let{options:v}=l;if(v.protocolVersion===5&&v.properties&&v.properties.maximumPacketSize&&v.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,e.default)(l,c,m);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,n.default)(l,c),m();break;case"pubrel":l.reschedulePing(),(0,s.default)(l,c,m);break;case"connack":(0,f.default)(l,c),m();break;case"auth":l.reschedulePing(),(0,p.default)(l,c),m();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),m();break;case"disconnect":l.emit("disconnect",c),m();break;default:l.log("_handlePacket :: unknown command"),m();break}};t.default=u}),sc=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var e=o((uo(),fe(eo))),p=co(),f=class{};t.TypedEventEmitter=f,(0,p.applyMixin)(f,e.default)}),ii=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var o=()=>{var n;return typeof window<"u"?typeof navigator<"u"&&((n=navigator.userAgent)===null||n===void 0?void 0:n.toLowerCase().indexOf(" electron/"))>-1&&ue!=null&&ue.versions?!Object.prototype.hasOwnProperty.call(ue.versions,"electron"):typeof window.document<"u":!1},e=()=>{var n,s;return!!(typeof self=="object"&&!((s=(n=self==null?void 0:self.constructor)===null||n===void 0?void 0:n.name)===null||s===void 0)&&s.includes("WorkerGlobalScope"))},p=()=>typeof navigator<"u"&&navigator.product==="ReactNative",f=o()||e()||p();t.isWebWorker=e(),t.isReactNativeBrowser=p(),t.default=f}),ac=Nt((t,o)=>{Ot(),Bt(),Mt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t):typeof define=="function"&&define.amd?define(["exports"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.fastUniqueNumbers={}))}(t,function(e){var p=function(w){return function(_){var I=w(_);return _.add(I),I}},f=function(w){return function(_,I){return w.set(_,I),I}},n=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,u=s*2,l=function(w,_){return function(I){var x=_.get(I),Y=x===void 0?I.size:x<u?x+1:0;if(!I.has(Y))return w(I,Y);if(I.size<s){for(;I.has(Y);)Y=Math.floor(Math.random()*u);return w(I,Y)}if(I.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;I.has(Y);)Y=Math.floor(Math.random()*n);return w(I,Y)}},c=new WeakMap,m=f(c),v=l(m,c),b=p(v);e.addUniqueNumber=b,e.generateUniqueNumber=v})}),lc=Nt((t,o)=>{Ot(),Bt(),Mt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,ac()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimersBroker={},e.fastUniqueNumbers))}(t,function(e,p){var f=function(u){return u.method!==void 0&&u.method==="call"},n=function(u){return u.error===null&&typeof u.id=="number"},s=function(u){var l=new Map([[0,function(){}]]),c=new Map([[0,function(){}]]),m=new Map,v=new Worker(u);v.addEventListener("message",function(x){var Y=x.data;if(f(Y)){var z=Y.params,M=z.timerId,$=z.timerType;if($==="interval"){var X=l.get(M);if(typeof X=="number"){var j=m.get(X);if(j===void 0||j.timerId!==M||j.timerType!==$)throw new Error("The timer is in an undefined state.")}else if(typeof X<"u")X();else throw new Error("The timer is in an undefined state.")}else if($==="timeout"){var T=c.get(M);if(typeof T=="number"){var K=m.get(T);if(K===void 0||K.timerId!==M||K.timerType!==$)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T(),c.delete(M);else throw new Error("The timer is in an undefined state.")}}else if(n(Y)){var nt=Y.id,q=m.get(nt);if(q===void 0)throw new Error("The timer is in an undefined state.");var ft=q.timerId,L=q.timerType;m.delete(nt),L==="interval"?l.delete(ft):c.delete(ft)}else{var Z=Y.error.message;throw new Error(Z)}});var b=function(x){var Y=p.generateUniqueNumber(m);m.set(Y,{timerId:x,timerType:"interval"}),l.set(x,Y),v.postMessage({id:Y,method:"clear",params:{timerId:x,timerType:"interval"}})},w=function(x){var Y=p.generateUniqueNumber(m);m.set(Y,{timerId:x,timerType:"timeout"}),c.set(x,Y),v.postMessage({id:Y,method:"clear",params:{timerId:x,timerType:"timeout"}})},_=function(x){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=p.generateUniqueNumber(l);return l.set(z,function(){x(),typeof l.get(z)=="function"&&v.postMessage({id:null,method:"set",params:{delay:Y,now:performance.now(),timerId:z,timerType:"interval"}})}),v.postMessage({id:null,method:"set",params:{delay:Y,now:performance.now(),timerId:z,timerType:"interval"}}),z},I=function(x){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=p.generateUniqueNumber(c);return c.set(z,x),v.postMessage({id:null,method:"set",params:{delay:Y,now:performance.now(),timerId:z,timerType:"timeout"}}),z};return{clearInterval:b,clearTimeout:w,setInterval:_,setTimeout:I}};e.load=s})}),pc=Nt((t,o)=>{Ot(),Bt(),Mt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,lc()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimers={},e.workerTimersBroker))}(t,function(e,p){var f=function(v,b){var w=null;return function(){if(w!==null)return w;var _=new Blob([b],{type:"application/javascript; charset=utf-8"}),I=URL.createObjectURL(_);return w=v(I),setTimeout(function(){return URL.revokeObjectURL(I)}),w}},n=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=f(p.load,n),u=function(v){return s().clearInterval(v)},l=function(v){return s().clearTimeout(v)},c=function(){var v;return(v=s()).setInterval.apply(v,arguments)},m=function(){var v;return(v=s()).setTimeout.apply(v,arguments)};e.clearInterval=u,e.clearTimeout=l,e.setInterval=c,e.setTimeout=m})}),uc=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(c,m,v,b){b===void 0&&(b=v);var w=Object.getOwnPropertyDescriptor(m,v);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(c,b,w)}:function(c,m,v,b){b===void 0&&(b=v),c[b]=m[v]}),e=t&&t.__setModuleDefault||(Object.create?function(c,m){Object.defineProperty(c,"default",{enumerable:!0,value:m})}:function(c,m){c.default=m}),p=t&&t.__importStar||function(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var v in c)v!=="default"&&Object.prototype.hasOwnProperty.call(c,v)&&o(m,c,v);return e(m,c),m};Object.defineProperty(t,"__esModule",{value:!0});var f=p(ii()),n=pc(),s={set:n.setInterval,clear:n.clearInterval},u={set:(c,m)=>setInterval(c,m),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return u;case"worker":return s;case"auto":default:return f.default&&!f.isWebWorker&&!f.isReactNativeBrowser?s:u}};t.default=l}),ll=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(uc()),p=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(f,n){this.destroyed=!1,this.client=f,this.timer=typeof n=="object"&&"set"in n&&"clear"in n?n:(0,e.default)(n),this.setKeepalive(f.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(f){if(f*=1e3,isNaN(f)||f<=0||f>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${f}`);this._keepalive=f,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${f}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let f=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+f,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=p}),Wn=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(X,j,T,K){K===void 0&&(K=T);var nt=Object.getOwnPropertyDescriptor(j,T);(!nt||("get"in nt?!j.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return j[T]}}),Object.defineProperty(X,K,nt)}:function(X,j,T,K){K===void 0&&(K=T),X[K]=j[T]}),e=t&&t.__setModuleDefault||(Object.create?function(X,j){Object.defineProperty(X,"default",{enumerable:!0,value:j})}:function(X,j){X.default=j}),p=t&&t.__importStar||function(X){if(X&&X.__esModule)return X;var j={};if(X!=null)for(var T in X)T!=="default"&&Object.prototype.hasOwnProperty.call(X,T)&&o(j,X,T);return e(j,X),j},f=t&&t.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(t,"__esModule",{value:!0});var n=f(Xp()),s=f(Fu()),u=f(Va()),l=ro(),c=f(Wu()),m=p(ju()),v=f(Er()),b=f(Ga()),w=f(nc()),_=co(),I=sc(),x=f(ll()),Y=p(ii()),z=globalThis.setImmediate||((...X)=>{let j=X.shift();(0,_.nextTick)(()=>{j(...X)})}),M={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},$=class jn extends I.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(j,T){super(),this.options=T||{};for(let K in M)typeof this.options[K]>"u"?this.options[K]=M[K]:this.options[K]=T[K];this.log=this.options.log||(0,v.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",jn.VERSION),Y.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",Y.default?"browser":"node"),this.log("MqttClient :: options.protocol",T.protocol),this.log("MqttClient :: options.protocolVersion",T.protocolVersion),this.log("MqttClient :: options.username",T.username),this.log("MqttClient :: options.keepalive",T.keepalive),this.log("MqttClient :: options.reconnectPeriod",T.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",T.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",T.properties?T.properties.topicAliasMaximum:void 0),this.options.clientId=typeof T.clientId=="string"?T.clientId:jn.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=T.protocolVersion===5&&T.customHandleAcks?T.customHandleAcks:(...K)=>{K[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=j,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new u.default:this.options.messageIdProvider,this.outgoingStore=T.outgoingStore||new b.default,this.incomingStore=T.incomingStore||new b.default,this.queueQoSZero=T.queueQoSZero===void 0?!0:T.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,T.properties&&T.properties.topicAliasMaximum>0&&(T.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new n.default(T.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:K}=this,nt=()=>{let q=K.shift();this.log("deliver :: entry %o",q);let ft=null;if(!q){this._resubscribe();return}ft=q.packet,this.log("deliver :: call _sendPacket for %o",ft);let L=!0;ft.messageId&&ft.messageId!==0&&(this.messageIdProvider.register(ft.messageId)||(L=!1)),L?this._sendPacket(ft,Z=>{q.cb&&q.cb(Z),nt()}):(this.log("messageId: %d has already used. The message is skipped and removed.",ft.messageId),nt())};this.log("connect :: sending queued packets"),nt()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(j,T){T()}handleMessage(j,T){T()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var j;let T=new l.Writable,K=s.default.parser(this.options),nt=null,q=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),K.on("packet",pt=>{this.log("parser :: on packet push to packets array."),q.push(pt)});let ft=()=>{this.log("work :: getting next packet in queue");let pt=q.shift();if(pt)this.log("work :: packet pulled from queue"),(0,w.default)(this,pt,L);else{this.log("work :: no packets in queue");let ut=nt;nt=null,this.log("work :: done flag is %s",!!ut),ut&&ut()}},L=()=>{if(q.length)(0,_.nextTick)(ft);else{let pt=nt;nt=null,pt()}};T._write=(pt,ut,It)=>{nt=It,this.log("writable stream :: parsing buffer"),K.parse(pt),ft()};let Z=pt=>{this.log("streamErrorHandler :: error",pt.message),pt.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",pt)):this.noop(pt)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(T),this.stream.on("error",Z),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let wt={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(wt.will=Object.assign(Object.assign({},this.options.will),{payload:(j=this.options.will)===null||j===void 0?void 0:j.payload})),this.topicAliasRecv&&(wt.properties||(wt.properties={}),this.topicAliasRecv&&(wt.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(wt),K.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let pt=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(pt)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(j,T,K,nt){this.log("publish :: message `%s` to topic `%s`",T,j);let{options:q}=this;typeof K=="function"&&(nt=K,K=null),K=K||{},K=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),K);let{qos:ft,retain:L,dup:Z,properties:wt,cbStorePut:pt}=K;if(this._checkDisconnecting(nt))return this;let ut=()=>{let It=0;if((ft===1||ft===2)&&(It=this._nextId(),It===null))return this.log("No messageId left"),!1;let lt={cmd:"publish",topic:j,payload:T,qos:ft,retain:L,messageId:It,dup:Z};switch(q.protocolVersion===5&&(lt.properties=wt),this.log("publish :: qos",ft),ft){case 1:case 2:this.outgoing[lt.messageId]={volatile:!1,cb:nt||this.noop},this.log("MqttClient:publish: packet cmd: %s",lt.cmd),this._sendPacket(lt,void 0,pt);break;default:this.log("MqttClient:publish: packet cmd: %s",lt.cmd),this._sendPacket(lt,nt,pt);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ut())&&this._storeProcessingQueue.push({invoke:ut,cbStorePut:K.cbStorePut,callback:nt}),this}publishAsync(j,T,K){return new Promise((nt,q)=>{this.publish(j,T,K,(ft,L)=>{ft?q(ft):nt(L)})})}subscribe(j,T,K){let nt=this.options.protocolVersion;typeof T=="function"&&(K=T),K=K||this.noop;let q=!1,ft=[];typeof j=="string"?(j=[j],ft=j):Array.isArray(j)?ft=j:typeof j=="object"&&(q=j.resubscribe,delete j.resubscribe,ft=Object.keys(j));let L=m.validateTopics(ft);if(L!==null)return z(K,new Error(`Invalid topic ${L}`)),this;if(this._checkDisconnecting(K))return this.log("subscribe: discconecting true"),this;let Z={qos:0};nt===5&&(Z.nl=!1,Z.rap=!1,Z.rh=0),T=Object.assign(Object.assign({},Z),T);let wt=T.properties,pt=[],ut=(lt,kt)=>{if(kt=kt||T,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,lt)||this._resubscribeTopics[lt].qos<kt.qos||q){let _t={topic:lt,qos:kt.qos};nt===5&&(_t.nl=kt.nl,_t.rap=kt.rap,_t.rh=kt.rh,_t.properties=wt),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",_t.topic,_t.qos),pt.push(_t)}};if(Array.isArray(j)?j.forEach(lt=>{this.log("subscribe: array topic %s",lt),ut(lt)}):Object.keys(j).forEach(lt=>{this.log("subscribe: object topic %s, %o",lt,j[lt]),ut(lt,j[lt])}),!pt.length)return K(null,[]),this;let It=()=>{let lt=this._nextId();if(lt===null)return this.log("No messageId left"),!1;let kt={cmd:"subscribe",subscriptions:pt,messageId:lt};if(wt&&(kt.properties=wt),this.options.resubscribe){this.log("subscribe :: resubscribe true");let _t=[];pt.forEach(Wt=>{if(this.options.reconnectPeriod>0){let B={qos:Wt.qos};nt===5&&(B.nl=Wt.nl||!1,B.rap=Wt.rap||!1,B.rh=Wt.rh||0,B.properties=Wt.properties),this._resubscribeTopics[Wt.topic]=B,_t.push(Wt.topic)}}),this.messageIdToTopic[kt.messageId]=_t}return this.outgoing[kt.messageId]={volatile:!0,cb(_t,Wt){if(!_t){let{granted:B}=Wt;for(let tt=0;tt<B.length;tt+=1)pt[tt].qos=B[tt]}K(_t,pt,Wt)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(kt),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!It())&&this._storeProcessingQueue.push({invoke:It,callback:K}),this}subscribeAsync(j,T){return new Promise((K,nt)=>{this.subscribe(j,T,(q,ft)=>{q?nt(q):K(ft)})})}unsubscribe(j,T,K){typeof j=="string"&&(j=[j]),typeof T=="function"&&(K=T),K=K||this.noop;let nt=m.validateTopics(j);if(nt!==null)return z(K,new Error(`Invalid topic ${nt}`)),this;if(this._checkDisconnecting(K))return this;let q=()=>{let ft=this._nextId();if(ft===null)return this.log("No messageId left"),!1;let L={cmd:"unsubscribe",messageId:ft,unsubscriptions:[]};return typeof j=="string"?L.unsubscriptions=[j]:Array.isArray(j)&&(L.unsubscriptions=j),this.options.resubscribe&&L.unsubscriptions.forEach(Z=>{delete this._resubscribeTopics[Z]}),typeof T=="object"&&T.properties&&(L.properties=T.properties),this.outgoing[L.messageId]={volatile:!0,cb:K},this.log("unsubscribe: call _sendPacket"),this._sendPacket(L),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!q())&&this._storeProcessingQueue.push({invoke:q,callback:K}),this}unsubscribeAsync(j,T){return new Promise((K,nt)=>{this.unsubscribe(j,T,(q,ft)=>{q?nt(q):K(ft)})})}end(j,T,K){this.log("end :: (%s)",this.options.clientId),(j==null||typeof j!="boolean")&&(K=K||T,T=j,j=!1),typeof T!="object"&&(K=K||T,T=null),this.log("end :: cb? %s",!!K),(!K||typeof K!="function")&&(K=this.noop);let nt=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(ft=>{this.outgoingStore.close(L=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),K){let Z=ft||L;this.log("end :: closeStores: invoking callback with args"),K(Z)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},q=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,j),this._cleanUp(j,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,_.nextTick)(nt)},T)};return this.disconnecting?(K(),this):(this._clearReconnect(),this.disconnecting=!0,!j&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,q,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),q()),this)}endAsync(j,T){return new Promise((K,nt)=>{this.end(j,T,q=>{q?nt(q):K()})})}removeOutgoingMessage(j){if(this.outgoing[j]){let{cb:T}=this.outgoing[j];this._removeOutgoingAndStoreMessage(j,()=>{T(new Error("Message removed"))})}return this}reconnect(j){this.log("client reconnect");let T=()=>{j?(this.options.incomingStore=j.incomingStore,this.options.outgoingStore=j.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=T:T(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(j=>{this.outgoing[j].volatile&&typeof this.outgoing[j].cb=="function"&&(this.outgoing[j].cb(new Error("Connection closed")),delete this.outgoing[j])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(j=>{typeof this.outgoing[j].cb=="function"&&(this.outgoing[j].cb(new Error("Connection closed")),delete this.outgoing[j])}))}_removeTopicAliasAndRecoverTopicName(j){let T;j.properties&&(T=j.properties.topicAlias);let K=j.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",T,K),K.length===0){if(typeof T>"u")return new Error("Unregistered Topic Alias");if(K=this.topicAliasSend.getTopicByAlias(T),typeof K>"u")return new Error("Unregistered Topic Alias");j.topic=K}T&&delete j.properties.topicAlias}_checkDisconnecting(j){return this.disconnecting&&(j&&j!==this.noop?j(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(j,T,K={}){if(T&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",T)),this.log("_cleanUp :: forced? %s",j),j)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let nt=Object.assign({cmd:"disconnect"},K);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(nt,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),z(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),T&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",T),T())}_storeAndSend(j,T,K){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",j.cmd);let nt=j,q;if(nt.cmd==="publish"&&(nt=(0,c.default)(j),q=this._removeTopicAliasAndRecoverTopicName(nt),q))return T&&T(q);this.outgoingStore.put(nt,ft=>{if(ft)return T&&T(ft);K(),this._writePacket(j,T)})}_applyTopicAlias(j){if(this.options.protocolVersion===5&&j.cmd==="publish"){let T;j.properties&&(T=j.properties.topicAlias);let K=j.topic.toString();if(this.topicAliasSend)if(T){if(K.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",K,T),!this.topicAliasSend.put(K,T)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,T),new Error("Sending Topic Alias out of range")}else K.length!==0&&(this.options.autoAssignTopicAlias?(T=this.topicAliasSend.getAliasByTopic(K),T?(j.topic="",j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",K,T)):(T=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(K,T),j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",K,T))):this.options.autoUseTopicAlias&&(T=this.topicAliasSend.getAliasByTopic(K),T&&(j.topic="",j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",K,T))));else if(T)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,T),new Error("Sending Topic Alias out of range")}}_noop(j){this.log("noop ::",j)}_writePacket(j,T){this.log("_writePacket :: packet: %O",j),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",j),this.log("_writePacket :: writing to stream");let K=s.default.writeToStream(j,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",K),!K&&T&&T!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",T)):T&&(this.log("_writePacket :: invoking cb"),T())}_sendPacket(j,T,K,nt){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),K=K||this.noop,T=T||this.noop;let q=this._applyTopicAlias(j);if(q){T(q);return}if(!this.connected){if(j.cmd==="auth"){this._writePacket(j,T);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(j,T,K);return}if(nt){this._writePacket(j,T);return}switch(j.cmd){case"publish":break;case"pubrel":this._storeAndSend(j,T,K);return;default:this._writePacket(j,T);return}switch(j.qos){case 2:case 1:this._storeAndSend(j,T,K);break;case 0:default:this._writePacket(j,T);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(j,T,K){this.log("_storePacket :: packet: %o",j),this.log("_storePacket :: cb? %s",!!T),K=K||this.noop;let nt=j;if(nt.cmd==="publish"){nt=(0,c.default)(j);let ft=this._removeTopicAliasAndRecoverTopicName(nt);if(ft)return T&&T(ft)}let q=nt.qos||0;q===0&&this.queueQoSZero||nt.cmd!=="publish"?this.queue.push({packet:nt,cb:T}):q>0?(T=this.outgoing[nt.messageId]?this.outgoing[nt.messageId].cb:null,this.outgoingStore.put(nt,ft=>{if(ft)return T&&T(ft);K()})):T&&T(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new x.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(j=!1){this.keepaliveManager&&this.options.keepalive&&(j||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let j=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&j.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let T=0;T<j.length;T++){let K={};K[j[T]]=this._resubscribeTopics[j[T]],K.resubscribe=!0,this.subscribe(K,{properties:K[j[T]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(j){if(this.disconnected){this.emit("connect",j);return}this.connackPacket=j,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let T=()=>{let K=this.outgoingStore.createStream(),nt=()=>{K.destroy(),K=null,this._flushStoreProcessingQueue(),q()},q=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",nt),K.on("error",L=>{q(),this._flushStoreProcessingQueue(),this.removeListener("close",nt),this.emit("error",L)});let ft=()=>{if(!K)return;let L=K.read(1),Z;if(!L){K.once("readable",ft);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[L.messageId]){ft();return}!this.disconnecting&&!this.reconnectTimer?(Z=this.outgoing[L.messageId]?this.outgoing[L.messageId].cb:null,this.outgoing[L.messageId]={volatile:!1,cb(wt,pt){Z&&Z(wt,pt),ft()}},this._packetIdsDuringStoreProcessing[L.messageId]=!0,this.messageIdProvider.register(L.messageId)?this._sendPacket(L,void 0,void 0,!0):this.log("messageId: %d has already used.",L.messageId)):K.destroy&&K.destroy()};K.on("end",()=>{let L=!0;for(let Z in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Z]){L=!1;break}this.removeListener("close",nt),L?(q(),this._invokeAllStoreProcessingQueue(),this.emit("connect",j)):T()}),ft()};T()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let j=this._storeProcessingQueue[0];if(j&&j.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let j of this._storeProcessingQueue)j.cbStorePut&&j.cbStorePut(new Error("Connection closed")),j.callback&&j.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(j,T){delete this.outgoing[j],this.outgoingStore.del({messageId:j},(K,nt)=>{T(K,nt),this.messageIdProvider.deallocate(j),this._invokeStoreProcessingQueue()})}};$.VERSION=_.MQTTJS_VERSION,t.default=$}),cc=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=al(),e=class{constructor(){this.numberAllocator=new o.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(p){return this.numberAllocator.use(p)}deallocate(p){this.numberAllocator.free(p)}clear(){this.numberAllocator.clear()}};t.default=e});function Wr(t){throw new RangeError(ul[t])}function Cs(t,o){let e=t.split("@"),p="";e.length>1&&(p=e[0]+"@",t=e[1]);let f=function(n,s){let u=[],l=n.length;for(;l--;)u[l]=s(n[l]);return u}((t=t.replace(pl,".")).split("."),o).join(".");return p+f}function Ps(t){let o=[],e=0,p=t.length;for(;e<p;){let f=t.charCodeAt(e++);if(f>=55296&&f<=56319&&e<p){let n=t.charCodeAt(e++);(64512&n)==56320?o.push(((1023&f)<<10)+(1023&n)+65536):(o.push(f),e--)}else o.push(f)}return o}var As,xs,pl,ul,tr,Po,mi,yi,gi,vi,Cr,dc=Ne(()=>{Ot(),Bt(),Mt(),As=/^xn--/,xs=/[^\0-\x7E]/,pl=/[\x2E\u3002\uFF0E\uFF61]/g,ul={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},tr=Math.floor,Po=String.fromCharCode,mi=function(t,o){return t+22+75*(t<26)-((o!=0)<<5)},yi=function(t,o,e){let p=0;for(t=e?tr(t/700):t>>1,t+=tr(t/o);t>455;p+=36)t=tr(t/35);return tr(p+36*t/(t+38))},gi=function(t){let o=[],e=t.length,p=0,f=128,n=72,s=t.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)t.charCodeAt(l)>=128&&Wr("not-basic"),o.push(t.charCodeAt(l));for(let l=s>0?s+1:0;l<e;){let c=p;for(let v=1,b=36;;b+=36){l>=e&&Wr("invalid-input");let w=(u=t.charCodeAt(l++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(w>=36||w>tr((2147483647-p)/v))&&Wr("overflow"),p+=w*v;let _=b<=n?1:b>=n+26?26:b-n;if(w<_)break;let I=36-_;v>tr(2147483647/I)&&Wr("overflow"),v*=I}let m=o.length+1;n=yi(p-c,m,c==0),tr(p/m)>2147483647-f&&Wr("overflow"),f+=tr(p/m),p%=m,o.splice(p++,0,f)}var u;return String.fromCodePoint(...o)},vi=function(t){let o=[],e=(t=Ps(t)).length,p=128,f=0,n=72;for(let l of t)l<128&&o.push(Po(l));let s=o.length,u=s;for(s&&o.push("-");u<e;){let l=2147483647;for(let m of t)m>=p&&m<l&&(l=m);let c=u+1;l-p>tr((2147483647-f)/c)&&Wr("overflow"),f+=(l-p)*c,p=l;for(let m of t)if(m<p&&++f>2147483647&&Wr("overflow"),m==p){let v=f;for(let b=36;;b+=36){let w=b<=n?1:b>=n+26?26:b-n;if(v<w)break;let _=v-w,I=36-w;o.push(Po(mi(w+_%I,0))),v=tr(_/I)}o.push(Po(mi(v,0))),n=yi(f,c,u==s),f=0,++u}++f,++p}return o.join("")},Cr={version:"2.1.0",ucs2:{decode:Ps,encode:t=>String.fromCodePoint(...t)},decode:gi,encode:vi,toASCII:function(t){return Cs(t,function(o){return xs.test(o)?"xn--"+vi(o):o})},toUnicode:function(t){return Cs(t,function(o){return As.test(o)?gi(o.slice(4).toLowerCase()):o})}},Cr.decode,Cr.encode,Cr.toASCII,Cr.toUnicode,Cr.ucs2,Cr.version});function hc(t,o){return Object.prototype.hasOwnProperty.call(t,o)}var Fs,no,Ns,ar,fc=Ne(()=>{Ot(),Bt(),Mt(),Fs=function(t,o,e,p){o=o||"&",e=e||"=";var f={};if(typeof t!="string"||t.length===0)return f;var n=/\+/g;t=t.split(o);var s=1e3;p&&typeof p.maxKeys=="number"&&(s=p.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,m,v,b,w=t[l].replace(n,"%20"),_=w.indexOf(e);_>=0?(c=w.substr(0,_),m=w.substr(_+1)):(c=w,m=""),v=decodeURIComponent(c),b=decodeURIComponent(m),hc(f,v)?Array.isArray(f[v])?f[v].push(b):f[v]=[f[v],b]:f[v]=b}return f},no=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Ns=function(t,o,e,p){return o=o||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(f){var n=encodeURIComponent(no(f))+e;return Array.isArray(t[f])?t[f].map(function(s){return n+encodeURIComponent(no(s))}).join(o):n+encodeURIComponent(no(t[f]))}).join(o):p?encodeURIComponent(no(p))+e+encodeURIComponent(no(t)):""},ar={},ar.decode=ar.parse=Fs,ar.encode=ar.stringify=Ns,ar.decode,ar.encode,ar.parse,ar.stringify});function Dn(){throw new Error("setTimeout has not been defined")}function Ln(){throw new Error("clearTimeout has not been defined")}function cl(t){if(yr===setTimeout)return setTimeout(t,0);if((yr===Dn||!yr)&&setTimeout)return yr=setTimeout,setTimeout(t,0);try{return yr(t,0)}catch{try{return yr.call(null,t,0)}catch{return yr.call(this||Jr,t,0)}}}function mc(){Qr&&Gr&&(Qr=!1,Gr.length?pr=Gr.concat(pr):To=-1,pr.length&&dl())}function dl(){if(!Qr){var t=cl(mc);Qr=!0;for(var o=pr.length;o;){for(Gr=pr,pr=[];++To<o;)Gr&&Gr[To].run();To=-1,o=pr.length}Gr=null,Qr=!1,function(e){if(gr===clearTimeout)return clearTimeout(e);if((gr===Ln||!gr)&&clearTimeout)return gr=clearTimeout,clearTimeout(e);try{gr(e)}catch{try{return gr.call(null,e)}catch{return gr.call(this||Jr,e)}}}(t)}}function Ws(t,o){(this||Jr).fun=t,(this||Jr).array=o}function hr(){}var js,yr,gr,Jr,Te,Gr,pr,Qr,To,Se,yc=Ne(()=>{Ot(),Bt(),Mt(),Jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Te=js={},function(){try{yr=typeof setTimeout=="function"?setTimeout:Dn}catch{yr=Dn}try{gr=typeof clearTimeout=="function"?clearTimeout:Ln}catch{gr=Ln}}(),pr=[],Qr=!1,To=-1,Te.nextTick=function(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];pr.push(new Ws(t,o)),pr.length!==1||Qr||cl(dl)},Ws.prototype.run=function(){(this||Jr).fun.apply(null,(this||Jr).array)},Te.title="browser",Te.browser=!0,Te.env={},Te.argv=[],Te.version="",Te.versions={},Te.on=hr,Te.addListener=hr,Te.once=hr,Te.off=hr,Te.removeListener=hr,Te.removeAllListeners=hr,Te.emit=hr,Te.prependListener=hr,Te.prependOnceListener=hr,Te.listeners=function(t){return[]},Te.binding=function(t){throw new Error("process.binding is not supported")},Te.cwd=function(){return"/"},Te.chdir=function(t){throw new Error("process.chdir is not supported")},Te.umask=function(){return 0},Se=js,Se.addListener,Se.argv,Se.binding,Se.browser,Se.chdir,Se.cwd,Se.emit,Se.env,Se.listeners,Se.nextTick,Se.off,Se.on,Se.once,Se.prependListener,Se.prependOnceListener,Se.removeAllListeners,Se.removeListener,Se.title,Se.umask,Se.version,Se.versions});function gc(){if(Un)return zo;Un=!0;var t=zo={},o,e;function p(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=p}catch{o=p}try{typeof clearTimeout=="function"?e=clearTimeout:e=f}catch{e=f}})();function n(I){if(o===setTimeout)return setTimeout(I,0);if((o===p||!o)&&setTimeout)return o=setTimeout,setTimeout(I,0);try{return o(I,0)}catch{try{return o.call(null,I,0)}catch{return o.call(this||Ur,I,0)}}}function s(I){if(e===clearTimeout)return clearTimeout(I);if((e===f||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(I);try{return e(I)}catch{try{return e.call(null,I)}catch{return e.call(this||Ur,I)}}}var u=[],l=!1,c,m=-1;function v(){!l||!c||(l=!1,c.length?u=c.concat(u):m=-1,u.length&&b())}function b(){if(!l){var I=n(v);l=!0;for(var x=u.length;x;){for(c=u,u=[];++m<x;)c&&c[m].run();m=-1,x=u.length}c=null,l=!1,s(I)}}t.nextTick=function(I){var x=new Array(arguments.length-1);if(arguments.length>1)for(var Y=1;Y<arguments.length;Y++)x[Y-1]=arguments[Y];u.push(new w(I,x)),u.length===1&&!l&&n(b)};function w(I,x){(this||Ur).fun=I,(this||Ur).array=x}w.prototype.run=function(){(this||Ur).fun.apply(null,(this||Ur).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function _(){}return t.on=_,t.addListener=_,t.once=_,t.off=_,t.removeListener=_,t.removeAllListeners=_,t.emit=_,t.prependListener=_,t.prependOnceListener=_,t.listeners=function(I){return[]},t.binding=function(I){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(I){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},zo}var zo,Un,Ur,ve,hl=Ne(()=>{Ot(),Bt(),Mt(),zo={},Un=!1,Ur=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ve=gc(),ve.platform="browser",ve.addListener,ve.argv,ve.binding,ve.browser,ve.chdir,ve.cwd,ve.emit,ve.env,ve.listeners,ve.nextTick,ve.off,ve.on,ve.once,ve.prependListener,ve.prependOnceListener,ve.removeAllListeners,ve.removeListener,ve.title,ve.umask,ve.version,ve.versions});function vc(){if(zn)return $o;zn=!0;var t=ve;function o(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function e(n,s){for(var u="",l=0,c=-1,m=0,v,b=0;b<=n.length;++b){if(b<n.length)v=n.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||m===1))if(c!==b-1&&m===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,m=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,m=0;continue}}s&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+n.slice(c+1,b):u=n.slice(c+1,b),l=b-c-1;c=b,m=0}else v===46&&m!==-1?++m:m=-1}return u}function p(n,s){var u=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return u?u===s.root?u+l:u+n+l:l}var f={resolve:function(){for(var n="",s=!1,u,l=arguments.length-1;l>=-1&&!s;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(n=c+"/"+n,s=c.charCodeAt(0)===47)}return n=e(n,!s),s?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(o(n),n.length===0)return".";var s=n.charCodeAt(0)===47,u=n.charCodeAt(n.length-1)===47;return n=e(n,!s),n.length===0&&!s&&(n="."),n.length>0&&u&&(n+="/"),s?"/"+n:n},isAbsolute:function(n){return o(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,s=0;s<arguments.length;++s){var u=arguments[s];o(u),u.length>0&&(n===void 0?n=u:n+="/"+u)}return n===void 0?".":f.normalize(n)},relative:function(n,s){if(o(n),o(s),n===s||(n=f.resolve(n),s=f.resolve(s),n===s))return"";for(var u=1;u<n.length&&n.charCodeAt(u)===47;++u);for(var l=n.length,c=l-u,m=1;m<s.length&&s.charCodeAt(m)===47;++m);for(var v=s.length,b=v-m,w=c<b?c:b,_=-1,I=0;I<=w;++I){if(I===w){if(b>w){if(s.charCodeAt(m+I)===47)return s.slice(m+I+1);if(I===0)return s.slice(m+I)}else c>w&&(n.charCodeAt(u+I)===47?_=I:I===0&&(_=0));break}var x=n.charCodeAt(u+I),Y=s.charCodeAt(m+I);if(x!==Y)break;x===47&&(_=I)}var z="";for(I=u+_+1;I<=l;++I)(I===l||n.charCodeAt(I)===47)&&(z.length===0?z+="..":z+="/..");return z.length>0?z+s.slice(m+_):(m+=_,s.charCodeAt(m)===47&&++m,s.slice(m))},_makeLong:function(n){return n},dirname:function(n){if(o(n),n.length===0)return".";for(var s=n.charCodeAt(0),u=s===47,l=-1,c=!0,m=n.length-1;m>=1;--m)if(s=n.charCodeAt(m),s===47){if(!c){l=m;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":n.slice(0,l)},basename:function(n,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');o(n);var u=0,l=-1,c=!0,m;if(s!==void 0&&s.length>0&&s.length<=n.length){if(s.length===n.length&&s===n)return"";var v=s.length-1,b=-1;for(m=n.length-1;m>=0;--m){var w=n.charCodeAt(m);if(w===47){if(!c){u=m+1;break}}else b===-1&&(c=!1,b=m+1),v>=0&&(w===s.charCodeAt(v)?--v===-1&&(l=m):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=n.length),n.slice(u,l)}else{for(m=n.length-1;m>=0;--m)if(n.charCodeAt(m)===47){if(!c){u=m+1;break}}else l===-1&&(c=!1,l=m+1);return l===-1?"":n.slice(u,l)}},extname:function(n){o(n);for(var s=-1,u=0,l=-1,c=!0,m=0,v=n.length-1;v>=0;--v){var b=n.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?s===-1?s=v:m!==1&&(m=1):s!==-1&&(m=-1)}return s===-1||l===-1||m===0||m===1&&s===l-1&&s===u+1?"":n.slice(s,l)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return p("/",n)},parse:function(n){o(n);var s={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return s;var u=n.charCodeAt(0),l=u===47,c;l?(s.root="/",c=1):c=0;for(var m=-1,v=0,b=-1,w=!0,_=n.length-1,I=0;_>=c;--_){if(u=n.charCodeAt(_),u===47){if(!w){v=_+1;break}continue}b===-1&&(w=!1,b=_+1),u===46?m===-1?m=_:I!==1&&(I=1):m!==-1&&(I=-1)}return m===-1||b===-1||I===0||I===1&&m===b-1&&m===v+1?b!==-1&&(v===0&&l?s.base=s.name=n.slice(1,b):s.base=s.name=n.slice(v,b)):(v===0&&l?(s.name=n.slice(1,m),s.base=n.slice(1,b)):(s.name=n.slice(v,m),s.base=n.slice(v,b)),s.ext=n.slice(m,b)),v>0?s.dir=n.slice(0,v-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,$o=f,$o}var $o,zn,$n,bc=Ne(()=>{Ot(),Bt(),Mt(),hl(),$o={},zn=!1,$n=vc()}),fl={};Xr(fl,{URL:()=>Pl,Url:()=>Ol,default:()=>ce,fileURLToPath:()=>ml,format:()=>Ml,parse:()=>Cl,pathToFileURL:()=>yl,resolve:()=>Bl,resolveObject:()=>Rl});function Ze(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function go(t,o,e){if(t&&rr.isObject(t)&&t instanceof Ze)return t;var p=new Ze;return p.parse(t,o,e),p}function wc(){if(Hn)return Ho;Hn=!0;var t=Se;function o(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function e(n,s){for(var u="",l=0,c=-1,m=0,v,b=0;b<=n.length;++b){if(b<n.length)v=n.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||m===1))if(c!==b-1&&m===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,m=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,m=0;continue}}s&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+n.slice(c+1,b):u=n.slice(c+1,b),l=b-c-1;c=b,m=0}else v===46&&m!==-1?++m:m=-1}return u}function p(n,s){var u=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return u?u===s.root?u+l:u+n+l:l}var f={resolve:function(){for(var n="",s=!1,u,l=arguments.length-1;l>=-1&&!s;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(n=c+"/"+n,s=c.charCodeAt(0)===47)}return n=e(n,!s),s?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(o(n),n.length===0)return".";var s=n.charCodeAt(0)===47,u=n.charCodeAt(n.length-1)===47;return n=e(n,!s),n.length===0&&!s&&(n="."),n.length>0&&u&&(n+="/"),s?"/"+n:n},isAbsolute:function(n){return o(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,s=0;s<arguments.length;++s){var u=arguments[s];o(u),u.length>0&&(n===void 0?n=u:n+="/"+u)}return n===void 0?".":f.normalize(n)},relative:function(n,s){if(o(n),o(s),n===s||(n=f.resolve(n),s=f.resolve(s),n===s))return"";for(var u=1;u<n.length&&n.charCodeAt(u)===47;++u);for(var l=n.length,c=l-u,m=1;m<s.length&&s.charCodeAt(m)===47;++m);for(var v=s.length,b=v-m,w=c<b?c:b,_=-1,I=0;I<=w;++I){if(I===w){if(b>w){if(s.charCodeAt(m+I)===47)return s.slice(m+I+1);if(I===0)return s.slice(m+I)}else c>w&&(n.charCodeAt(u+I)===47?_=I:I===0&&(_=0));break}var x=n.charCodeAt(u+I),Y=s.charCodeAt(m+I);if(x!==Y)break;x===47&&(_=I)}var z="";for(I=u+_+1;I<=l;++I)(I===l||n.charCodeAt(I)===47)&&(z.length===0?z+="..":z+="/..");return z.length>0?z+s.slice(m+_):(m+=_,s.charCodeAt(m)===47&&++m,s.slice(m))},_makeLong:function(n){return n},dirname:function(n){if(o(n),n.length===0)return".";for(var s=n.charCodeAt(0),u=s===47,l=-1,c=!0,m=n.length-1;m>=1;--m)if(s=n.charCodeAt(m),s===47){if(!c){l=m;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":n.slice(0,l)},basename:function(n,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');o(n);var u=0,l=-1,c=!0,m;if(s!==void 0&&s.length>0&&s.length<=n.length){if(s.length===n.length&&s===n)return"";var v=s.length-1,b=-1;for(m=n.length-1;m>=0;--m){var w=n.charCodeAt(m);if(w===47){if(!c){u=m+1;break}}else b===-1&&(c=!1,b=m+1),v>=0&&(w===s.charCodeAt(v)?--v===-1&&(l=m):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=n.length),n.slice(u,l)}else{for(m=n.length-1;m>=0;--m)if(n.charCodeAt(m)===47){if(!c){u=m+1;break}}else l===-1&&(c=!1,l=m+1);return l===-1?"":n.slice(u,l)}},extname:function(n){o(n);for(var s=-1,u=0,l=-1,c=!0,m=0,v=n.length-1;v>=0;--v){var b=n.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?s===-1?s=v:m!==1&&(m=1):s!==-1&&(m=-1)}return s===-1||l===-1||m===0||m===1&&s===l-1&&s===u+1?"":n.slice(s,l)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return p("/",n)},parse:function(n){o(n);var s={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return s;var u=n.charCodeAt(0),l=u===47,c;l?(s.root="/",c=1):c=0;for(var m=-1,v=0,b=-1,w=!0,_=n.length-1,I=0;_>=c;--_){if(u=n.charCodeAt(_),u===47){if(!w){v=_+1;break}continue}b===-1&&(w=!1,b=_+1),u===46?m===-1?m=_:I!==1&&(I=1):m!==-1&&(I=-1)}return m===-1||b===-1||I===0||I===1&&m===b-1&&m===v+1?b!==-1&&(v===0&&l?s.base=s.name=n.slice(1,b):s.base=s.name=n.slice(v,b)):(v===0&&l?(s.name=n.slice(1,m),s.base=n.slice(1,b)):(s.name=n.slice(v,m),s.base=n.slice(v,b)),s.ext=n.slice(m,b)),v>0?s.dir=n.slice(0,v-1):l&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return f.posix=f,Ho=f,Ho}function _c(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Ko?Sc(t):Ec(t)}function Sc(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let f=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&f===102||e[p+1]==="5"&&f===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(_l,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,f=e[2];if(p<bl||p>wl||f!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function Ec(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function Tc(t){let o=Vn.resolve(t),e=t.charCodeAt(t.length-1);(e===vl||Ko&&e===gl)&&o[o.length-1]!==Vn.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(Sl,"%25")),!Ko&&o.includes("\\")&&(o=o.replace(El,"%5C")),o.includes(`
`)&&(o=o.replace(Tl,"%0A")),o.includes("\r")&&(o=o.replace(Il,"%0D")),o.includes("	")&&(o=o.replace(kl,"%09")),p.pathname=o,p}function ml(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Jo?Ic(t):kc(t)}function Ic(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let f=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&f===102||e[p+1]==="5"&&f===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(Wl,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,f=e[2];if(p<Fl||p>Nl||f!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function kc(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function yl(t){let o=$n.resolve(t),e=t.charCodeAt(t.length-1);(e===xl||Jo&&e===Al)&&o[o.length-1]!==$n.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(jl,"%25")),!Jo&&o.includes("\\")&&(o=o.replace(Dl,"%5C")),o.includes(`
`)&&(o=o.replace(Ll,"%0A")),o.includes("\r")&&(o=o.replace(Ul,"%0D")),o.includes("	")&&(o=o.replace(zl,"%09")),p.pathname=o,p}var ce,Ds,rr,Ls,Us,zs,$s,Ao,bi,wi,_i,Hs,Vs,xo,jr,Fo,Ho,Hn,Vn,Gs,gl,vl,bl,wl,Ko,_l,Sl,El,Tl,Il,kl,qs,Ol,Ml,Bl,Rl,Cl,Pl,Al,xl,Fl,Nl,Jo,Wl,jl,Dl,Ll,Ul,zl,Oc=Ne(()=>{Ot(),Bt(),Mt(),dc(),fc(),yc(),bc(),hl(),ce={},Ds=Cr,rr={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},ce.parse=go,ce.resolve=function(t,o){return go(t,!1,!0).resolve(o)},ce.resolveObject=function(t,o){return t?go(t,!1,!0).resolveObject(o):o},ce.format=function(t){return rr.isString(t)&&(t=go(t)),t instanceof Ze?t.format():Ze.prototype.format.call(t)},ce.Url=Ze,Ls=/^([a-z0-9.+-]+:)/i,Us=/:[0-9]*$/,zs=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Ao=["'"].concat($s),bi=["%","/","?",";","#"].concat(Ao),wi=["/","?","#"],_i=/^[+a-z0-9A-Z_-]{0,63}$/,Hs=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Vs={javascript:!0,"javascript:":!0},xo={javascript:!0,"javascript:":!0},jr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Fo=ar,Ze.prototype.parse=function(t,o,e){if(!rr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var p=t.indexOf("?"),f=p!==-1&&p<t.indexOf("#")?"?":"#",n=t.split(f);n[0]=n[0].replace(/\\/g,"/");var s=t=n.join(f);if(s=s.trim(),!e&&t.split("#").length===1){var u=zs.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],this.query=o?Fo.parse(this.search.substr(1)):this.search.substr(1)):o&&(this.search="",this.query={}),this}var l=Ls.exec(s);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,s=s.substr(l.length)}if(e||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var m=s.substr(0,2)==="//";!m||l&&xo[l]||(s=s.substr(2),this.slashes=!0)}if(!xo[l]&&(m||l&&!jr[l])){for(var v,b,w=-1,_=0;_<wi.length;_++)(I=s.indexOf(wi[_]))!==-1&&(w===-1||I<w)&&(w=I);for((b=w===-1?s.lastIndexOf("@"):s.lastIndexOf("@",w))!==-1&&(v=s.slice(0,b),s=s.slice(b+1),this.auth=decodeURIComponent(v)),w=-1,_=0;_<bi.length;_++){var I;(I=s.indexOf(bi[_]))!==-1&&(w===-1||I<w)&&(w=I)}w===-1&&(w=s.length),this.host=s.slice(0,w),s=s.slice(w),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var Y=this.hostname.split(/\./),z=(_=0,Y.length);_<z;_++){var M=Y[_];if(M&&!M.match(_i)){for(var $="",X=0,j=M.length;X<j;X++)M.charCodeAt(X)>127?$+="x":$+=M[X];if(!$.match(_i)){var T=Y.slice(0,_),K=Y.slice(_+1),nt=M.match(Hs);nt&&(T.push(nt[1]),K.unshift(nt[2])),K.length&&(s="/"+K.join(".")+s),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=Ds.toASCII(this.hostname));var q=this.port?":"+this.port:"",ft=this.hostname||"";this.host=ft+q,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Vs[c])for(_=0,z=Ao.length;_<z;_++){var L=Ao[_];if(s.indexOf(L)!==-1){var Z=encodeURIComponent(L);Z===L&&(Z=escape(L)),s=s.split(L).join(Z)}}var wt=s.indexOf("#");wt!==-1&&(this.hash=s.substr(wt),s=s.slice(0,wt));var pt=s.indexOf("?");if(pt!==-1?(this.search=s.substr(pt),this.query=s.substr(pt+1),o&&(this.query=Fo.parse(this.query)),s=s.slice(0,pt)):o&&(this.search="",this.query={}),s&&(this.pathname=s),jr[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var ut=this.search||"";this.path=q+ut}return this.href=this.format(),this},Ze.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var o=this.protocol||"",e=this.pathname||"",p=this.hash||"",f=!1,n="";this.host?f=t+this.host:this.hostname&&(f=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(f+=":"+this.port)),this.query&&rr.isObject(this.query)&&Object.keys(this.query).length&&(n=Fo.stringify(this.query));var s=this.search||n&&"?"+n||"";return o&&o.substr(-1)!==":"&&(o+=":"),this.slashes||(!o||jr[o])&&f!==!1?(f="//"+(f||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):f||(f=""),p&&p.charAt(0)!=="#"&&(p="#"+p),s&&s.charAt(0)!=="?"&&(s="?"+s),o+f+(e=e.replace(/[?#]/g,function(u){return encodeURIComponent(u)}))+(s=s.replace("#","%23"))+p},Ze.prototype.resolve=function(t){return this.resolveObject(go(t,!1,!0)).format()},Ze.prototype.resolveObject=function(t){if(rr.isString(t)){var o=new Ze;o.parse(t,!1,!0),t=o}for(var e=new Ze,p=Object.keys(this),f=0;f<p.length;f++){var n=p[f];e[n]=this[n]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u];l!=="protocol"&&(e[l]=t[l])}return jr[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!jr[t.protocol]){for(var c=Object.keys(t),m=0;m<c.length;m++){var v=c[m];e[v]=t[v]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||xo[t.protocol])e.pathname=t.pathname;else{for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),e.pathname=b.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var w=e.pathname||"",_=e.search||"";e.path=w+_}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var I=e.pathname&&e.pathname.charAt(0)==="/",x=t.host||t.pathname&&t.pathname.charAt(0)==="/",Y=x||I||e.host&&t.pathname,z=Y,M=e.pathname&&e.pathname.split("/")||[],$=(b=t.pathname&&t.pathname.split("/")||[],e.protocol&&!jr[e.protocol]);if($&&(e.hostname="",e.port=null,e.host&&(M[0]===""?M[0]=e.host:M.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),Y=Y&&(b[0]===""||M[0]==="")),x)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,M=b;else if(b.length)M||(M=[]),M.pop(),M=M.concat(b),e.search=t.search,e.query=t.query;else if(!rr.isNullOrUndefined(t.search))return $&&(e.hostname=e.host=M.shift(),(nt=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=nt.shift(),e.host=e.hostname=nt.shift())),e.search=t.search,e.query=t.query,rr.isNull(e.pathname)&&rr.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!M.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var X=M.slice(-1)[0],j=(e.host||t.host||M.length>1)&&(X==="."||X==="..")||X==="",T=0,K=M.length;K>=0;K--)(X=M[K])==="."?M.splice(K,1):X===".."?(M.splice(K,1),T++):T&&(M.splice(K,1),T--);if(!Y&&!z)for(;T--;T)M.unshift("..");!Y||M[0]===""||M[0]&&M[0].charAt(0)==="/"||M.unshift(""),j&&M.join("/").substr(-1)!=="/"&&M.push("");var nt,q=M[0]===""||M[0]&&M[0].charAt(0)==="/";return $&&(e.hostname=e.host=q?"":M.length?M.shift():"",(nt=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=nt.shift(),e.host=e.hostname=nt.shift())),(Y=Y||e.host&&M.length)&&!q&&M.unshift(""),M.length?e.pathname=M.join("/"):(e.pathname=null,e.path=null),rr.isNull(e.pathname)&&rr.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Ze.prototype.parseHost=function(){var t=this.host,o=Us.exec(t);o&&((o=o[0])!==":"&&(this.port=o.substr(1)),t=t.substr(0,t.length-o.length)),t&&(this.hostname=t)},ce.Url,ce.format,ce.resolve,ce.resolveObject,Ho={},Hn=!1,Vn=wc(),Gs=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ce.URL=typeof URL<"u"?URL:null,ce.pathToFileURL=Tc,ce.fileURLToPath=_c,ce.Url,ce.format,ce.resolve,ce.resolveObject,ce.URL,gl=92,vl=47,bl=97,wl=122,Ko=Gs==="win32",_l=/\//g,Sl=/%/g,El=/\\/g,Tl=/\n/g,Il=/\r/g,kl=/\t/g,qs=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ce.URL=typeof URL<"u"?URL:null,ce.pathToFileURL=yl,ce.fileURLToPath=ml,Ol=ce.Url,Ml=ce.format,Bl=ce.resolve,Rl=ce.resolveObject,Cl=ce.parse,Pl=ce.URL,Al=92,xl=47,Fl=97,Nl=122,Jo=qs==="win32",Wl=/\//g,jl=/%/g,Dl=/\\/g,Ll=/\n/g,Ul=/\r/g,zl=/\t/g}),Mc=Nt((t,o)=>{Ot(),Bt(),Mt(),o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),ns=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=t.writev=void 0;var o=ro(),e=(je(),fe(We));function p(n,s){let u=new Array(n.length);for(let l=0;l<n.length;l++)typeof n[l].chunk=="string"?u[l]=e.Buffer.from(n[l].chunk,"utf8"):u[l]=n[l].chunk;this._write(e.Buffer.concat(u),"binary",s)}t.writev=p;var f=class extends o.Duplex{constructor(n,s,u){super({objectMode:!0}),this.proxy=s,this.socket=u,this.writeQueue=[],n.objectMode||(this._writev=p.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{this.destroyed||this.push(l)})}_read(n){this.proxy.read(n)}_write(n,s,u){this.isSocketOpen?this.writeToProxy(n,s,u):this.writeQueue.push({chunk:n,encoding:s,cb:u})}_final(n){this.writeQueue=[],this.proxy.end(n)}_destroy(n,s){this.writeQueue=[],this.proxy.destroy(),s(n)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(n,s,u){this.proxy.write(n,s)===!1?this.proxy.once("drain",u):u()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:n,encoding:s,cb:u}=this.writeQueue.shift();this.writeToProxy(n,s,u)}}};t.BufferedDuplex=f}),No=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var e=(je(),fe(We)),p=o(Mc()),f=o(Er()),n=ro(),s=o(ii()),u=ns(),l=(0,f.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function m(Y,z){let M=`${Y.protocol}://${Y.hostname}:${Y.port}${Y.path}`;return typeof Y.transformWsUrl=="function"&&(M=Y.transformWsUrl(M,Y,z)),M}function v(Y){let z=Y;return Y.port||(Y.protocol==="wss"?z.port=443:z.port=80),Y.path||(z.path="/"),Y.wsOptions||(z.wsOptions={}),!s.default&&!Y.forceNativeWebSocket&&Y.protocol==="wss"&&c.forEach(M=>{Object.prototype.hasOwnProperty.call(Y,M)&&!Object.prototype.hasOwnProperty.call(Y.wsOptions,M)&&(z.wsOptions[M]=Y[M])}),z}function b(Y){let z=v(Y);if(z.hostname||(z.hostname=z.host),!z.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let M=new URL(document.URL);z.hostname=M.hostname,z.port||(z.port=Number(M.port))}return z.objectMode===void 0&&(z.objectMode=!(z.binary===!0||z.binary===void 0)),z}function w(Y,z,M){l("createWebSocket"),l(`protocol: ${M.protocolId} ${M.protocolVersion}`);let $=M.protocolId==="MQIsdp"&&M.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${z} and protocol: ${$}`);let X;return M.createWebsocket?X=M.createWebsocket(z,[$],M):X=new p.default(z,[$],M.wsOptions),X}function _(Y,z){let M=z.protocolId==="MQIsdp"&&z.protocolVersion===3?"mqttv3.1":"mqtt",$=m(z,Y),X;return z.createWebsocket?X=z.createWebsocket($,[M],z):X=new WebSocket($,[M]),X.binaryType="arraybuffer",X}var I=(Y,z)=>{l("streamBuilder");let M=v(z);M.hostname=M.hostname||M.host||"localhost";let $=m(M,Y),X=w(Y,$,M),j=p.default.createWebSocketStream(X,M.wsOptions);return j.url=$,X.on("close",()=>{j.destroy()}),j};t.streamBuilder=I;var x=(Y,z)=>{l("browserStreamBuilder");let M,$=b(z).browserBufferSize||1024*512,X=z.browserBufferTimeout||1e3,j=!z.objectMode,T=_(Y,z),K=q(z,pt,ut);z.objectMode||(K._writev=u.writev.bind(K)),K.on("close",()=>{T.close()});let nt=typeof T.addEventListener<"u";T.readyState===T.OPEN?(M=K,M.socket=T):(M=new u.BufferedDuplex(z,K,T),nt?T.addEventListener("open",ft):T.onopen=ft),nt?(T.addEventListener("close",L),T.addEventListener("error",Z),T.addEventListener("message",wt)):(T.onclose=L,T.onerror=Z,T.onmessage=wt);function q(It,lt,kt){let _t=new n.Transform({objectMode:It.objectMode});return _t._write=lt,_t._flush=kt,_t}function ft(){l("WebSocket onOpen"),M instanceof u.BufferedDuplex&&M.socketReady()}function L(It){l("WebSocket onClose",It),M.end(),M.destroy()}function Z(It){l("WebSocket onError",It);let lt=new Error("WebSocket error");lt.event=It,M.destroy(lt)}async function wt(It){let{data:lt}=It;lt instanceof ArrayBuffer?lt=e.Buffer.from(lt):lt instanceof Blob?lt=e.Buffer.from(await new Response(lt).arrayBuffer()):lt=e.Buffer.from(lt,"utf8"),K&&!K.destroyed&&K.push(lt)}function pt(It,lt,kt){if(T.bufferedAmount>$){setTimeout(pt,X,It,lt,kt);return}j&&typeof It=="string"&&(It=e.Buffer.from(It,"utf8"));try{T.send(It)}catch(_t){return kt(_t)}kt()}function ut(It){T.close(),It()}return M};t.browserStreamBuilder=x}),ss={};Xr(ss,{Server:()=>be,Socket:()=>be,Stream:()=>be,_createServerHandle:()=>be,_normalizeArgs:()=>be,_setSimultaneousAccepts:()=>be,connect:()=>be,createConnection:()=>be,createServer:()=>be,default:()=>$l,isIP:()=>be,isIPv4:()=>be,isIPv6:()=>be});function be(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var $l,Hl=Ne(()=>{Ot(),Bt(),Mt(),$l={_createServerHandle:be,_normalizeArgs:be,_setSimultaneousAccepts:be,connect:be,createConnection:be,createServer:be,isIP:be,isIPv4:be,isIPv6:be,Server:be,Socket:be,Stream:be}}),Ys=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((Hl(),fe(ss))),p=o(Er()),f=(0,p.default)("mqttjs:tcp"),n=(s,u)=>{u.port=u.port||1883,u.hostname=u.hostname||u.host||"localhost";let{port:l,path:c}=u,m=u.hostname;return f("port %d and host %s",l,m),e.default.createConnection({port:l,host:m,path:c})};t.default=n}),Vl={};Xr(Vl,{default:()=>Gl});var Gl,Bc=Ne(()=>{Ot(),Bt(),Mt(),Gl={}}),Ks=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((Bc(),fe(Vl))),p=o((Hl(),fe(ss))),f=o(Er()),n=(0,f.default)("mqttjs:tls"),s=(u,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",p.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,n("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let c=e.default.connect(l);c.on("secureConnect",()=>{l.rejectUnauthorized&&!c.authorized?c.emit("error",new Error("TLS not authorized")):c.removeListener("error",m)});function m(v){l.rejectUnauthorized&&u.emit("error",v),c.end()}return c.on("error",m),c};t.default=s}),Js=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(je(),fe(We)),e=ro(),p=ns(),f,n,s;function u(){let b=new e.Transform;return b._write=(w,_,I)=>{f.send({data:w.buffer,success(){I()},fail(x){I(new Error(x))}})},b._flush=w=>{f.close({success(){w()}})},b}function l(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,w){let _=b.protocol==="wxs"?"wss":"ws",I=`${_}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(I=`${_}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(I=b.transformWsUrl(I,b,w)),I}function m(){f.onOpen(()=>{s.socketReady()}),f.onMessage(b=>{let{data:w}=b;w instanceof ArrayBuffer?w=o.Buffer.from(w):w=o.Buffer.from(w,"utf8"),n.push(w)}),f.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),f.onError(b=>{let w=new Error(b.errMsg);s.destroy(w)})}var v=(b,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let _=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";l(w);let I=c(w,b);f=wx.connectSocket({url:I,protocols:[_]}),n=u(),s=new p.BufferedDuplex(w,n,f),s._destroy=(Y,z)=>{f.close({success(){z&&z(Y)}})};let x=s.destroy;return s.destroy=(Y,z)=>(s.destroy=x,setTimeout(()=>{f.close({fail(){s._destroy(Y,z)}})},0),s),m(),s};t.default=v}),Qs=Nt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(je(),fe(We)),e=ro(),p=ns(),f,n,s,u=!1;function l(){let w=new e.Transform;return w._write=(_,I,x)=>{f.sendSocketMessage({data:_.buffer,success(){x()},fail(){x(new Error)}})},w._flush=_=>{f.closeSocket({success(){_()}})},w}function c(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function m(w,_){let I=w.protocol==="alis"?"wss":"ws",x=`${I}://${w.hostname}${w.path}`;return w.port&&w.port!==80&&w.port!==443&&(x=`${I}://${w.hostname}:${w.port}${w.path}`),typeof w.transformWsUrl=="function"&&(x=w.transformWsUrl(x,w,_)),x}function v(){u||(u=!0,f.onSocketOpen(()=>{s.socketReady()}),f.onSocketMessage(w=>{if(typeof w.data=="string"){let _=o.Buffer.from(w.data,"base64");n.push(_)}else{let _=new FileReader;_.addEventListener("load",()=>{let I=_.result;I instanceof ArrayBuffer?I=o.Buffer.from(I):I=o.Buffer.from(I,"utf8"),n.push(I)}),_.readAsArrayBuffer(w.data)}}),f.onSocketClose(()=>{s.end(),s.destroy()}),f.onSocketError(w=>{s.destroy(w)}))}var b=(w,_)=>{if(_.hostname=_.hostname||_.host,!_.hostname)throw new Error("Could not determine host. Specify host manually.");let I=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt";c(_);let x=m(_,w);return f=_.my,f.connectSocket({url:x,protocols:I}),n=l(),s=new p.BufferedDuplex(_,n,f),v(),s};t.default=b}),Rc=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=void 0;var e=o(Er()),p=o((Oc(),fe(fl))),f=o(Wn()),n=o(ii());typeof(ue==null?void 0:ue.nextTick)!="function"&&(ue.nextTick=setImmediate);var s=(0,e.default)("mqttjs"),u=null;function l(v){let b;v.auth&&(b=v.auth.match(/^(.+):(.+)$/),b?(v.username=b[1],v.password=b[2]):v.username=v.auth)}function c(v,b){var w,_,I,x;if(s("connecting to an MQTT broker..."),typeof v=="object"&&!b&&(b=v,v=""),b=b||{},v&&typeof v=="string"){let M=p.default.parse(v,!0),$={};if(M.port!=null&&($.port=Number(M.port)),$.host=M.hostname,$.query=M.query,$.auth=M.auth,$.protocol=M.protocol,$.path=M.path,$.protocol=(w=$.protocol)===null||w===void 0?void 0:w.replace(/:$/,""),b=Object.assign(Object.assign({},$),b),!b.protocol)throw new Error("Missing protocol")}if(b.unixSocket=b.unixSocket||((_=b.protocol)===null||_===void 0?void 0:_.includes("+unix")),b.unixSocket?b.protocol=b.protocol.replace("+unix",""):!(!((I=b.protocol)===null||I===void 0)&&I.startsWith("ws"))&&!(!((x=b.protocol)===null||x===void 0)&&x.startsWith("wx"))&&delete b.path,l(b),b.query&&typeof b.query.clientId=="string"&&(b.clientId=b.query.clientId),b.cert&&b.key)if(b.protocol){if(["mqtts","wss","wxs","alis"].indexOf(b.protocol)===-1)switch(b.protocol){case"mqtt":b.protocol="mqtts";break;case"ws":b.protocol="wss";break;case"wx":b.protocol="wxs";break;case"ali":b.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${b.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(u||(u={},!n.default&&!b.forceNativeWebSocket?(u.ws=No().streamBuilder,u.wss=No().streamBuilder,u.mqtt=Ys().default,u.tcp=Ys().default,u.ssl=Ks().default,u.tls=u.ssl,u.mqtts=Ks().default):(u.ws=No().browserStreamBuilder,u.wss=No().browserStreamBuilder,u.wx=Js().default,u.wxs=Js().default,u.ali=Qs().default,u.alis=Qs().default)),!u[b.protocol]){let M=["mqtts","wss"].indexOf(b.protocol)!==-1;b.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(($,X)=>M&&X%2===0?!1:typeof u[$]=="function")[0]}if(b.clean===!1&&!b.clientId)throw new Error("Missing clientId for unclean clients");b.protocol&&(b.defaultProtocol=b.protocol);function Y(M){return b.servers&&((!M._reconnectCount||M._reconnectCount===b.servers.length)&&(M._reconnectCount=0),b.host=b.servers[M._reconnectCount].host,b.port=b.servers[M._reconnectCount].port,b.protocol=b.servers[M._reconnectCount].protocol?b.servers[M._reconnectCount].protocol:b.defaultProtocol,b.hostname=b.host,M._reconnectCount++),s("calling streambuilder for",b.protocol),u[b.protocol](M,b)}let z=new f.default(Y,b);return z.on("error",()=>{}),z}function m(v,b,w=!0){return new Promise((_,I)=>{let x=c(v,b),Y={connect:M=>{z(),_(x)},end:()=>{z(),_(x)},error:M=>{z(),x.end(),I(M)}};w===!1&&(Y.close=()=>{Y.error(new Error("Couldn't connect to server"))});function z(){Object.keys(Y).forEach(M=>{x.off(M,Y[M])})}Object.keys(Y).forEach(M=>{x.on(M,Y[M])})})}t.connectAsync=m,t.default=c}),Zs=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(w,_,I,x){x===void 0&&(x=I);var Y=Object.getOwnPropertyDescriptor(_,I);(!Y||("get"in Y?!_.__esModule:Y.writable||Y.configurable))&&(Y={enumerable:!0,get:function(){return _[I]}}),Object.defineProperty(w,x,Y)}:function(w,_,I,x){x===void 0&&(x=I),w[x]=_[I]}),e=t&&t.__setModuleDefault||(Object.create?function(w,_){Object.defineProperty(w,"default",{enumerable:!0,value:_})}:function(w,_){w.default=_}),p=t&&t.__importStar||function(w){if(w&&w.__esModule)return w;var _={};if(w!=null)for(var I in w)I!=="default"&&Object.prototype.hasOwnProperty.call(w,I)&&o(_,w,I);return e(_,w),_},f=t&&t.__exportStar||function(w,_){for(var I in w)I!=="default"&&!Object.prototype.hasOwnProperty.call(_,I)&&o(_,w,I)},n=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var s=n(Wn());t.MqttClient=s.default;var u=n(Va());t.DefaultMessageIdProvider=u.default;var l=n(cc());t.UniqueMessageIdProvider=l.default;var c=n(Ga());t.Store=c.default;var m=p(Rc());t.connect=m.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return m.connectAsync}});var v=n(ll());t.KeepaliveManager=v.default,t.Client=s.default,f(Wn(),t),f(co(),t);var b=oi();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})}),Cc=Nt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(s,u,l,c){c===void 0&&(c=l);var m=Object.getOwnPropertyDescriptor(u,l);(!m||("get"in m?!u.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(s,c,m)}:function(s,u,l,c){c===void 0&&(c=l),s[c]=u[l]}),e=t&&t.__setModuleDefault||(Object.create?function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}:function(s,u){s.default=u}),p=t&&t.__importStar||function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var l in s)l!=="default"&&Object.prototype.hasOwnProperty.call(s,l)&&o(u,s,l);return e(u,s),u},f=t&&t.__exportStar||function(s,u){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&o(u,s,l)};Object.defineProperty(t,"__esModule",{value:!0});var n=p(Zs());t.default=n,f(Zs(),t)});const Pc=Cc();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/var Dr={},Xs;function Ac(){return Xs||(Xs=1,function(t){var o=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,y){i!=Array.prototype&&i!=Object.prototype&&(i[a]=y.value)},e=typeof window<"u"&&window===Dr?Dr:typeof ai<"u"&&ai!=null?ai:Dr;function p(i,a){if(a){var y=e;i=i.split(".");for(var S=0;S<i.length-1;S++){var G=i[S];G in y||(y[G]={}),y=y[G]}i=i[i.length-1],S=y[i],a=a(S),a!=S&&a!=null&&o(y,i,{configurable:!0,writable:!0,value:a})}}function f(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function n(){n=function(){},e.Symbol||(e.Symbol=u)}function s(i,a){this.a=i,o(this,"description",{configurable:!0,writable:!0,value:a})}s.prototype.toString=function(){return this.a};var u=function(){function i(y){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new s("jscomp_symbol_"+(y||"")+"_"+a++,y)}var a=0;return i}();function l(){n();var i=e.Symbol.iterator;i||(i=e.Symbol.iterator=e.Symbol("Symbol.iterator")),typeof Array.prototype[i]!="function"&&o(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return c(f(this))}}),l=function(){}}function c(i){return l(),i={next:i},i[e.Symbol.iterator]=function(){return this},i}function m(i,a){l(),i instanceof String&&(i+="");var y=0,S={next:function(){if(y<i.length){var G=y++;return{value:a(G,i[G]),done:!1}}return S.next=function(){return{done:!0,value:void 0}},S.next()}};return S[Symbol.iterator]=function(){return S},S}p("Array.prototype.entries",function(i){return i||function(){return m(this,function(a,y){return[a,y]})}});var v=Dr||self;function b(i,a,y){i=i.split("."),y=y||v,i[0]in y||typeof y.execScript>"u"||y.execScript("var "+i[0]);for(var S;i.length&&(S=i.shift());)i.length||a===void 0?y[S]&&y[S]!==Object.prototype[S]?y=y[S]:y=y[S]={}:y[S]=a}function w(i){var a=typeof i;if(a=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return a;var y=Object.prototype.toString.call(i);if(y=="[object Window]")return"object";if(y=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(y=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof i.call>"u")return"object";return a}function _(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function I(i,a,y){b(i,a,y)}function x(i,a){function y(){}y.prototype=a.prototype,i.prototype=new y,i.prototype.constructor=i}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(i,a){for(var y,S,G=1;G<arguments.length;G++){S=arguments[G];for(y in S)i[y]=S[y];for(var dt=0;dt<Y.length;dt++)y=Y[dt],Object.prototype.hasOwnProperty.call(S,y)&&(i[y]=S[y])}}var M=Array.prototype.forEach?function(i,a){Array.prototype.forEach.call(i,a,void 0)}:function(i,a){for(var y=i.length,S=typeof i=="string"?i.split(""):i,G=0;G<y;G++)G in S&&a.call(void 0,S[G],G,i)},$=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var y=i.length,S=Array(y),G=typeof i=="string"?i.split(""):i,dt=0;dt<y;dt++)dt in G&&(S[dt]=a.call(void 0,G[dt],dt,i));return S};function X(i,a,y){return 2>=arguments.length?Array.prototype.slice.call(i,a):Array.prototype.slice.call(i,a,y)}function j(i,a,y,S){var G="Assertion failed";if(y){G+=": "+y;var dt=S}else i&&(G+=": "+i,dt=a);throw Error(G,dt||[])}function T(i,a,y){for(var S=[],G=2;G<arguments.length;++G)S[G-2]=arguments[G];return i||j("",null,a,S),i}function K(i,a,y){for(var S=[],G=2;G<arguments.length;++G)S[G-2]=arguments[G];typeof i!="string"&&j("Expected string but got %s: %s.",[w(i),i],a,S)}function nt(i,a,y){for(var S=[],G=2;G<arguments.length;++G)S[G-2]=arguments[G];Array.isArray(i)||j("Expected array but got %s: %s.",[w(i),i],a,S)}function q(i,a){for(var y=[],S=1;S<arguments.length;++S)y[S-1]=arguments[S];throw Error("Failure"+(i?": "+i:""),y)}function ft(i,a,y,S){for(var G=[],dt=3;dt<arguments.length;++dt)G[dt-3]=arguments[dt];i instanceof a||j("Expected instanceof %s but got %s.",[L(a),L(i)],y,G)}function L(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i}function Z(i,a){if(this.c=i,this.b=a,this.a={},this.arrClean=!0,0<this.c.length){for(i=0;i<this.c.length;i++){a=this.c[i];var y=a[0];this.a[y.toString()]=new It(y,a[1])}this.arrClean=!0}}b("jspb.Map",Z,void 0),Z.prototype.g=function(){if(this.arrClean){if(this.b){var i=this.a,a;for(a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var y=i[a].a;y&&y.g()}}}else{for(this.c.length=0,i=ut(this),i.sort(),a=0;a<i.length;a++){var S=this.a[i[a]];(y=S.a)&&y.g(),this.c.push([S.key,S.value])}this.arrClean=!0}return this.c},Z.prototype.toArray=Z.prototype.g,Z.prototype.Mc=function(i,a){for(var y=this.g(),S=[],G=0;G<y.length;G++){var dt=this.a[y[G][0].toString()];pt(this,dt);var Rt=dt.a;Rt?(T(a),S.push([dt.key,a(i,Rt)])):S.push([dt.key,dt.value])}return S},Z.prototype.toObject=Z.prototype.Mc,Z.fromObject=function(i,a,y){a=new Z([],a);for(var S=0;S<i.length;S++){var G=i[S][0],dt=y(i[S][1]);a.set(G,dt)}return a};function wt(i){this.a=0,this.b=i}wt.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(wt.prototype[Symbol.iterator]=function(){return this}),Z.prototype.Jb=function(){return ut(this).length},Z.prototype.getLength=Z.prototype.Jb,Z.prototype.clear=function(){this.a={},this.arrClean=!1},Z.prototype.clear=Z.prototype.clear,Z.prototype.Cb=function(i){i=i.toString();var a=this.a.hasOwnProperty(i);return delete this.a[i],this.arrClean=!1,a},Z.prototype.del=Z.prototype.Cb,Z.prototype.Eb=function(){var i=[],a=ut(this);a.sort();for(var y=0;y<a.length;y++){var S=this.a[a[y]];i.push([S.key,S.value])}return i},Z.prototype.getEntryList=Z.prototype.Eb,Z.prototype.entries=function(){var i=[],a=ut(this);a.sort();for(var y=0;y<a.length;y++){var S=this.a[a[y]];i.push([S.key,pt(this,S)])}return new wt(i)},Z.prototype.entries=Z.prototype.entries,Z.prototype.keys=function(){var i=[],a=ut(this);a.sort();for(var y=0;y<a.length;y++)i.push(this.a[a[y]].key);return new wt(i)},Z.prototype.keys=Z.prototype.keys,Z.prototype.values=function(){var i=[],a=ut(this);a.sort();for(var y=0;y<a.length;y++)i.push(pt(this,this.a[a[y]]));return new wt(i)},Z.prototype.values=Z.prototype.values,Z.prototype.forEach=function(i,a){var y=ut(this);y.sort();for(var S=0;S<y.length;S++){var G=this.a[y[S]];i.call(a,pt(this,G),G.key,this)}},Z.prototype.forEach=Z.prototype.forEach,Z.prototype.set=function(i,a){var y=new It(i);return this.b?(y.a=a,y.value=a.g()):y.value=a,this.a[i.toString()]=y,this.arrClean=!1,this},Z.prototype.set=Z.prototype.set;function pt(i,a){return i.b?(a.a||(a.a=new i.b(a.value)),a.a):a.value}Z.prototype.get=function(i){if(i=this.a[i.toString()])return pt(this,i)},Z.prototype.get=Z.prototype.get,Z.prototype.has=function(i){return i.toString()in this.a},Z.prototype.has=Z.prototype.has,Z.prototype.Jc=function(i,a,y,S,G){var dt=ut(this);dt.sort();for(var Rt=0;Rt<dt.length;Rt++){var qt=this.a[dt[Rt]];a.Va(i),y.call(a,1,qt.key),this.b?S.call(a,2,pt(this,qt),G):S.call(a,2,qt.value),a.Ya()}},Z.prototype.serializeBinary=Z.prototype.Jc,Z.deserializeBinary=function(i,a,y,S,G,dt,Rt){for(;a.oa()&&!a.bb();){var qt=a.c;qt==1?dt=y.call(a):qt==2&&(i.b?(T(G),Rt||(Rt=new i.b),S.call(a,Rt,G)):Rt=S.call(a))}T(dt!=null),T(Rt!=null),i.set(dt,Rt)};function ut(i){i=i.a;var a=[],y;for(y in i)Object.prototype.hasOwnProperty.call(i,y)&&a.push(y);return a}function It(i,a){this.key=i,this.value=a,this.a=void 0}function lt(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var a="",y=0;y<i.length;y+=8192)a+=String.fromCharCode.apply(null,X(i,y,y+8192));return a}var kt={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},_t={"'":"\\'"},Wt={},B=null;function tt(i,a){a===void 0&&(a=0),ht(),a=Wt[a];for(var y=[],S=0;S<i.length;S+=3){var G=i[S],dt=S+1<i.length,Rt=dt?i[S+1]:0,qt=S+2<i.length,pe=qt?i[S+2]:0,$e=G>>2;G=(G&3)<<4|Rt>>4,Rt=(Rt&15)<<2|pe>>6,pe&=63,qt||(pe=64,dt||(Rt=64)),y.push(a[$e],a[G],a[Rt]||"",a[pe]||"")}return y.join("")}function st(i){var a=i.length,y=3*a/4;y%3?y=Math.floor(y):"=.".indexOf(i[a-1])!=-1&&(y="=.".indexOf(i[a-2])!=-1?y-2:y-1);var S=new Uint8Array(y),G=0;return Tt(i,function(dt){S[G++]=dt}),S.subarray(0,G)}function Tt(i,a){function y(pe){for(;S<i.length;){var $e=i.charAt(S++),nr=B[$e];if(nr!=null)return nr;if(!/^[\s\xa0]*$/.test($e))throw Error("Unknown base64 encoding at char: "+$e)}return pe}ht();for(var S=0;;){var G=y(-1),dt=y(0),Rt=y(64),qt=y(64);if(qt===64&&G===-1)break;a(G<<2|dt>>4),Rt!=64&&(a(dt<<4&240|Rt>>2),qt!=64&&a(Rt<<6&192|qt))}}function ht(){if(!B){B={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],y=0;5>y;y++){var S=i.concat(a[y].split(""));Wt[y]=S;for(var G=0;G<S.length;G++){var dt=S[G];B[dt]===void 0&&(B[dt]=G)}}}}b("jspb.ConstBinaryMessage",function(){},void 0),b("jspb.BinaryMessage",function(){},void 0),b("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),b("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),b("jspb.BinaryConstants.FieldTypeToWireType",function(i){switch(i){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),b("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),b("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),b("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),b("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),b("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),b("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),b("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),b("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),b("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),b("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),b("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),b("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),b("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var A=0,C=0;b("jspb.utils.getSplit64Low",function(){return A},void 0),b("jspb.utils.getSplit64High",function(){return C},void 0);function ct(i){var a=i>>>0;i=Math.floor((i-a)/4294967296)>>>0,A=a,C=i}b("jspb.utils.splitUint64",ct,void 0);function Et(i){var a=0>i;i=Math.abs(i);var y=i>>>0;i=Math.floor((i-y)/4294967296),i>>>=0,a&&(i=~i>>>0,y=(~y>>>0)+1,4294967295<y&&(y=0,i++,4294967295<i&&(i=0))),A=y,C=i}b("jspb.utils.splitInt64",Et,void 0);function St(i){var a=0>i;i=2*Math.abs(i),ct(i),i=A;var y=C;a&&(i==0?y==0?y=i=4294967295:(y--,i=4294967295):i--),A=i,C=y}b("jspb.utils.splitZigzag64",St,void 0);function bt(i){var a=0>i?1:0;if(i=a?-i:i,i===0)0<1/i?A=C=0:(C=0,A=2147483648);else if(isNaN(i))C=0,A=2147483647;else if(34028234663852886e22<i)C=0,A=(a<<31|2139095040)>>>0;else if(11754943508222875e-54>i)i=Math.round(i/Math.pow(2,-149)),C=0,A=(a<<31|i)>>>0;else{var y=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-y),i=Math.round(8388608*i),16777216<=i&&++y,C=0,A=(a<<31|y+127<<23|i&8388607)>>>0}}b("jspb.utils.splitFloat32",bt,void 0);function it(i){var a=0>i?1:0;if(i=a?-i:i,i===0)C=0<1/i?0:2147483648,A=0;else if(isNaN(i))C=2147483647,A=4294967295;else if(17976931348623157e292<i)C=(a<<31|2146435072)>>>0,A=0;else if(22250738585072014e-324>i)i/=Math.pow(2,-1074),C=(a<<31|i/4294967296)>>>0,A=i>>>0;else{var y=i,S=0;if(2<=y)for(;2<=y&&1023>S;)S++,y/=2;else for(;1>y&&-1022<S;)y*=2,S--;i*=Math.pow(2,-S),C=(a<<31|S+1023<<20|1048576*i&1048575)>>>0,A=4503599627370496*i>>>0}}b("jspb.utils.splitFloat64",it,void 0);function J(i){var a=i.charCodeAt(4),y=i.charCodeAt(5),S=i.charCodeAt(6),G=i.charCodeAt(7);A=i.charCodeAt(0)+(i.charCodeAt(1)<<8)+(i.charCodeAt(2)<<16)+(i.charCodeAt(3)<<24)>>>0,C=a+(y<<8)+(S<<16)+(G<<24)>>>0}b("jspb.utils.splitHash64",J,void 0);function R(i,a){return 4294967296*a+(i>>>0)}b("jspb.utils.joinUint64",R,void 0);function W(i,a){var y=a&2147483648;return y&&(i=~i+1>>>0,a=~a>>>0,i==0&&(a=a+1>>>0)),i=R(i,a),y?-i:i}b("jspb.utils.joinInt64",W,void 0);function F(i,a,y){var S=a>>31;return y(i<<1^S,(a<<1|i>>>31)^S)}b("jspb.utils.toZigzag64",F,void 0);function ot(i,a){return at(i,a,W)}b("jspb.utils.joinZigzag64",ot,void 0);function at(i,a,y){var S=-(i&1);return y((i>>>1|a<<31)^S,a>>>1^S)}b("jspb.utils.fromZigzag64",at,void 0);function H(i){var a=2*(i>>31)+1,y=i>>>23&255;return i&=8388607,y==255?i?NaN:1/0*a:y==0?a*Math.pow(2,-149)*i:a*Math.pow(2,y-150)*(i+Math.pow(2,23))}b("jspb.utils.joinFloat32",H,void 0);function rt(i,a){var y=2*(a>>31)+1,S=a>>>20&2047;return i=4294967296*(a&1048575)+i,S==2047?i?NaN:1/0*y:S==0?y*Math.pow(2,-1074)*i:y*Math.pow(2,S-1075)*(i+4503599627370496)}b("jspb.utils.joinFloat64",rt,void 0);function U(i,a){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255)}b("jspb.utils.joinHash64",U,void 0),b("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function V(i,a){function y(G,dt){return G=G?String(G):"",dt?"0000000".slice(G.length)+G:G}if(2097151>=a)return""+R(i,a);var S=(i>>>24|a<<8)>>>0&16777215;return a=a>>16&65535,i=(i&16777215)+6777216*S+6710656*a,S+=8147497*a,a*=2,1e7<=i&&(S+=Math.floor(i/1e7),i%=1e7),1e7<=S&&(a+=Math.floor(S/1e7),S%=1e7),y(a,0)+y(S,a)+y(i,1)}b("jspb.utils.joinUnsignedDecimalString",V,void 0);function et(i,a){var y=a&2147483648;return y&&(i=~i+1>>>0,a=~a+(i==0?1:0)>>>0),i=V(i,a),y?"-"+i:i}b("jspb.utils.joinSignedDecimalString",et,void 0);function gt(i,a){J(i),i=A;var y=C;return a?et(i,y):V(i,y)}b("jspb.utils.hash64ToDecimalString",gt,void 0),b("jspb.utils.hash64ArrayToDecimalStrings",function(i,a){for(var y=Array(i.length),S=0;S<i.length;S++)y[S]=gt(i[S],a);return y},void 0);function h(i){function a(Rt,qt){for(var pe=0;8>pe&&(Rt!==1||0<qt);pe++)qt=Rt*G[pe]+qt,G[pe]=qt&255,qt>>>=8}function y(){for(var Rt=0;8>Rt;Rt++)G[Rt]=~G[Rt]&255}T(0<i.length);var S=!1;i[0]==="-"&&(S=!0,i=i.slice(1));for(var G=[0,0,0,0,0,0,0,0],dt=0;dt<i.length;dt++)a(10,i.charCodeAt(dt)-48);return S&&(y(),a(1,1)),lt(G)}b("jspb.utils.decimalStringToHash64",h,void 0),b("jspb.utils.splitDecimalString",function(i){J(h(i))},void 0);function d(i){return String.fromCharCode(10>i?48+i:87+i)}function g(i){return 97<=i?i-97+10:i-48}b("jspb.utils.hash64ToHexString",function(i){var a=Array(18);a[0]="0",a[1]="x";for(var y=0;8>y;y++){var S=i.charCodeAt(7-y);a[2*y+2]=d(S>>4),a[2*y+3]=d(S&15)}return a.join("")},void 0),b("jspb.utils.hexStringToHash64",function(i){i=i.toLowerCase(),T(i.length==18),T(i[0]=="0"),T(i[1]=="x");for(var a="",y=0;8>y;y++)a=String.fromCharCode(16*g(i.charCodeAt(2*y+2))+g(i.charCodeAt(2*y+3)))+a;return a},void 0),b("jspb.utils.hash64ToNumber",function(i,a){J(i),i=A;var y=C;return a?W(i,y):R(i,y)},void 0),b("jspb.utils.numberToHash64",function(i){return Et(i),U(A,C)},void 0),b("jspb.utils.countVarints",function(i,a,y){for(var S=0,G=a;G<y;G++)S+=i[G]>>7;return y-a-S},void 0),b("jspb.utils.countVarintFields",function(i,a,y,S){var G=0;if(S*=8,128>S)for(;a<y&&i[a++]==S;)for(G++;;){var dt=i[a++];if(!(dt&128))break}else for(;a<y;){for(dt=S;128<dt;){if(i[a]!=(dt&127|128))return G;a++,dt>>=7}if(i[a++]!=dt)break;for(G++;dt=i[a++],(dt&128)!=0;);}return G},void 0);function O(i,a,y,S,G){var dt=0;if(128>S)for(;a<y&&i[a++]==S;)dt++,a+=G;else for(;a<y;){for(var Rt=S;128<Rt;){if(i[a++]!=(Rt&127|128))return dt;Rt>>=7}if(i[a++]!=Rt)break;dt++,a+=G}return dt}b("jspb.utils.countFixed32Fields",function(i,a,y,S){return O(i,a,y,8*S+5,4)},void 0),b("jspb.utils.countFixed64Fields",function(i,a,y,S){return O(i,a,y,8*S+1,8)},void 0),b("jspb.utils.countDelimitedFields",function(i,a,y,S){var G=0;for(S=8*S+2;a<y;){for(var dt=S;128<dt;){if(i[a++]!=(dt&127|128))return G;dt>>=7}if(i[a++]!=dt)break;G++;for(var Rt=0,qt=1;dt=i[a++],Rt+=(dt&127)*qt,qt*=128,(dt&128)!=0;);a+=Rt}return G},void 0),b("jspb.utils.debugBytesToTextFormat",function(i){var a='"';if(i){i=D(i);for(var y=0;y<i.length;y++)a+="\\x",16>i[y]&&(a+="0"),a+=i[y].toString(16)}return a+'"'},void 0),b("jspb.utils.debugScalarToTextFormat",function(i){if(typeof i=="string"){i=String(i);for(var a=['"'],y=0;y<i.length;y++){var S=i.charAt(y),G=S.charCodeAt(0),dt=y+1,Rt;(Rt=kt[S])||(31<G&&127>G||(G=S,G in _t?S=_t[G]:G in kt?S=_t[G]=kt[G]:(Rt=G.charCodeAt(0),31<Rt&&127>Rt?S=G:(256>Rt?(S="\\x",(16>Rt||256<Rt)&&(S+="0")):(S="\\u",4096>Rt&&(S+="0")),S+=Rt.toString(16).toUpperCase()),S=_t[G]=S)),Rt=S),a[dt]=Rt}a.push('"'),i=a.join("")}else i=i.toString();return i},void 0),b("jspb.utils.stringToByteArray",function(i){for(var a=new Uint8Array(i.length),y=0;y<i.length;y++){var S=i.charCodeAt(y);if(255<S)throw Error("Conversion error: string contains codepoint outside of byte range");a[y]=S}return a},void 0);function D(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer?new Uint8Array(i):i.constructor===Array?new Uint8Array(i):i.constructor===String?st(i):i instanceof Uint8Array?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):(q("Type not convertible to Uint8Array."),new Uint8Array(0))}b("jspb.utils.byteSourceToUint8Array",D,void 0);function k(i,a,y){this.b=null,this.a=this.c=this.h=0,this.v=!1,i&&this.H(i,a,y)}b("jspb.BinaryDecoder",k,void 0);var mt=[];k.getInstanceCacheLength=function(){return mt.length};function Dt(i,a,y){if(mt.length){var S=mt.pop();return i&&S.H(i,a,y),S}return new k(i,a,y)}k.alloc=Dt,k.prototype.Ca=function(){this.clear(),100>mt.length&&mt.push(this)},k.prototype.free=k.prototype.Ca,k.prototype.clone=function(){return Dt(this.b,this.h,this.c-this.h)},k.prototype.clone=k.prototype.clone,k.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},k.prototype.clear=k.prototype.clear,k.prototype.Y=function(){return this.b},k.prototype.getBuffer=k.prototype.Y,k.prototype.H=function(i,a,y){this.b=D(i),this.h=a!==void 0?a:0,this.c=y!==void 0?this.h+y:this.b.length,this.a=this.h},k.prototype.setBlock=k.prototype.H,k.prototype.Db=function(){return this.c},k.prototype.getEnd=k.prototype.Db,k.prototype.setEnd=function(i){this.c=i},k.prototype.setEnd=k.prototype.setEnd,k.prototype.reset=function(){this.a=this.h},k.prototype.reset=k.prototype.reset,k.prototype.B=function(){return this.a},k.prototype.getCursor=k.prototype.B,k.prototype.Ma=function(i){this.a=i},k.prototype.setCursor=k.prototype.Ma,k.prototype.advance=function(i){this.a+=i,T(this.a<=this.c)},k.prototype.advance=k.prototype.advance,k.prototype.ya=function(){return this.a==this.c},k.prototype.atEnd=k.prototype.ya,k.prototype.Qb=function(){return this.a>this.c},k.prototype.pastEnd=k.prototype.Qb,k.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},k.prototype.getError=k.prototype.getError,k.prototype.w=function(i){for(var a=128,y=0,S=0,G=0;4>G&&128<=a;G++)a=this.b[this.a++],y|=(a&127)<<7*G;if(128<=a&&(a=this.b[this.a++],y|=(a&127)<<28,S|=(a&127)>>4),128<=a)for(G=0;5>G&&128<=a;G++)a=this.b[this.a++],S|=(a&127)<<7*G+3;if(128>a)return i(y>>>0,S>>>0);q("Failed to read varint, encoding is invalid."),this.v=!0},k.prototype.readSplitVarint64=k.prototype.w,k.prototype.ea=function(i){return this.w(function(a,y){return at(a,y,i)})},k.prototype.readSplitZigzagVarint64=k.prototype.ea,k.prototype.ta=function(i){var a=this.b,y=this.a;this.a+=8;for(var S=0,G=0,dt=y+7;dt>=y;dt--)S=S<<8|a[dt],G=G<<8|a[dt+4];return i(S,G)},k.prototype.readSplitFixed64=k.prototype.ta,k.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},k.prototype.skipVarint=k.prototype.kb,k.prototype.mb=function(i){for(;128<i;)this.a--,i>>>=7;this.a--},k.prototype.unskipVarint=k.prototype.mb,k.prototype.o=function(){var i=this.b,a=i[this.a],y=a&127;return 128>a?(this.a+=1,T(this.a<=this.c),y):(a=i[this.a+1],y|=(a&127)<<7,128>a?(this.a+=2,T(this.a<=this.c),y):(a=i[this.a+2],y|=(a&127)<<14,128>a?(this.a+=3,T(this.a<=this.c),y):(a=i[this.a+3],y|=(a&127)<<21,128>a?(this.a+=4,T(this.a<=this.c),y):(a=i[this.a+4],y|=(a&15)<<28,128>a?(this.a+=5,T(this.a<=this.c),y>>>0):(this.a+=5,128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&T(!1),T(this.a<=this.c),y)))))},k.prototype.readUnsignedVarint32=k.prototype.o,k.prototype.da=function(){return~~this.o()},k.prototype.readSignedVarint32=k.prototype.da,k.prototype.O=function(){return this.o().toString()},k.prototype.Ea=function(){return this.da().toString()},k.prototype.readSignedVarint32String=k.prototype.Ea,k.prototype.Ia=function(){var i=this.o();return i>>>1^-(i&1)},k.prototype.readZigzagVarint32=k.prototype.Ia,k.prototype.Ga=function(){return this.w(R)},k.prototype.readUnsignedVarint64=k.prototype.Ga,k.prototype.Ha=function(){return this.w(V)},k.prototype.readUnsignedVarint64String=k.prototype.Ha,k.prototype.sa=function(){return this.w(W)},k.prototype.readSignedVarint64=k.prototype.sa,k.prototype.Fa=function(){return this.w(et)},k.prototype.readSignedVarint64String=k.prototype.Fa,k.prototype.Ja=function(){return this.w(ot)},k.prototype.readZigzagVarint64=k.prototype.Ja,k.prototype.fb=function(){return this.ea(U)},k.prototype.readZigzagVarintHash64=k.prototype.fb,k.prototype.Ka=function(){return this.ea(et)},k.prototype.readZigzagVarint64String=k.prototype.Ka,k.prototype.Gc=function(){var i=this.b[this.a];return this.a+=1,T(this.a<=this.c),i},k.prototype.readUint8=k.prototype.Gc,k.prototype.Ec=function(){var i=this.b[this.a],a=this.b[this.a+1];return this.a+=2,T(this.a<=this.c),i<<0|a<<8},k.prototype.readUint16=k.prototype.Ec,k.prototype.m=function(){var i=this.b[this.a],a=this.b[this.a+1],y=this.b[this.a+2],S=this.b[this.a+3];return this.a+=4,T(this.a<=this.c),(i<<0|a<<8|y<<16|S<<24)>>>0},k.prototype.readUint32=k.prototype.m,k.prototype.ga=function(){var i=this.m(),a=this.m();return R(i,a)},k.prototype.readUint64=k.prototype.ga,k.prototype.ha=function(){var i=this.m(),a=this.m();return V(i,a)},k.prototype.readUint64String=k.prototype.ha,k.prototype.Xb=function(){var i=this.b[this.a];return this.a+=1,T(this.a<=this.c),i<<24>>24},k.prototype.readInt8=k.prototype.Xb,k.prototype.Vb=function(){var i=this.b[this.a],a=this.b[this.a+1];return this.a+=2,T(this.a<=this.c),(i<<0|a<<8)<<16>>16},k.prototype.readInt16=k.prototype.Vb,k.prototype.P=function(){var i=this.b[this.a],a=this.b[this.a+1],y=this.b[this.a+2],S=this.b[this.a+3];return this.a+=4,T(this.a<=this.c),i<<0|a<<8|y<<16|S<<24},k.prototype.readInt32=k.prototype.P,k.prototype.ba=function(){var i=this.m(),a=this.m();return W(i,a)},k.prototype.readInt64=k.prototype.ba,k.prototype.ca=function(){var i=this.m(),a=this.m();return et(i,a)},k.prototype.readInt64String=k.prototype.ca,k.prototype.aa=function(){var i=this.m();return H(i)},k.prototype.readFloat=k.prototype.aa,k.prototype.Z=function(){var i=this.m(),a=this.m();return rt(i,a)},k.prototype.readDouble=k.prototype.Z,k.prototype.pa=function(){return!!this.b[this.a++]},k.prototype.readBool=k.prototype.pa,k.prototype.ra=function(){return this.da()},k.prototype.readEnum=k.prototype.ra,k.prototype.fa=function(i){var a=this.b,y=this.a;i=y+i;for(var S=[],G="";y<i;){var dt=a[y++];if(128>dt)S.push(dt);else{if(192>dt)continue;if(224>dt){var Rt=a[y++];S.push((dt&31)<<6|Rt&63)}else if(240>dt){Rt=a[y++];var qt=a[y++];S.push((dt&15)<<12|(Rt&63)<<6|qt&63)}else if(248>dt){Rt=a[y++],qt=a[y++];var pe=a[y++];dt=(dt&7)<<18|(Rt&63)<<12|(qt&63)<<6|pe&63,dt-=65536,S.push((dt>>10&1023)+55296,(dt&1023)+56320)}}8192<=S.length&&(G+=String.fromCharCode.apply(null,S),S.length=0)}return G+=lt(S),this.a=y,G},k.prototype.readString=k.prototype.fa,k.prototype.Dc=function(){var i=this.o();return this.fa(i)},k.prototype.readStringWithLength=k.prototype.Dc,k.prototype.qa=function(i){if(0>i||this.a+i>this.b.length)return this.v=!0,q("Invalid byte length!"),new Uint8Array(0);var a=this.b.subarray(this.a,this.a+i);return this.a+=i,T(this.a<=this.c),a},k.prototype.readBytes=k.prototype.qa,k.prototype.ia=function(){return this.w(U)},k.prototype.readVarintHash64=k.prototype.ia,k.prototype.$=function(){var i=this.b,a=this.a,y=i[a],S=i[a+1],G=i[a+2],dt=i[a+3],Rt=i[a+4],qt=i[a+5],pe=i[a+6];return i=i[a+7],this.a+=8,String.fromCharCode(y,S,G,dt,Rt,qt,pe,i)},k.prototype.readFixedHash64=k.prototype.$;function P(i,a,y){this.a=Dt(i,a,y),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}b("jspb.BinaryReader",P,void 0);var $t=[];P.clearInstanceCache=function(){$t=[]},P.getInstanceCacheLength=function(){return $t.length};function jt(i,a,y){if($t.length){var S=$t.pop();return i&&S.a.H(i,a,y),S}return new P(i,a,y)}P.alloc=jt,P.prototype.zb=jt,P.prototype.alloc=P.prototype.zb,P.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>$t.length&&$t.push(this)},P.prototype.free=P.prototype.Ca,P.prototype.Fb=function(){return this.O},P.prototype.getFieldCursor=P.prototype.Fb,P.prototype.B=function(){return this.a.B()},P.prototype.getCursor=P.prototype.B,P.prototype.Y=function(){return this.a.Y()},P.prototype.getBuffer=P.prototype.Y,P.prototype.Hb=function(){return this.c},P.prototype.getFieldNumber=P.prototype.Hb,P.prototype.Lb=function(){return this.b},P.prototype.getWireType=P.prototype.Lb,P.prototype.Mb=function(){return this.b==2},P.prototype.isDelimited=P.prototype.Mb,P.prototype.bb=function(){return this.b==4},P.prototype.isEndGroup=P.prototype.bb,P.prototype.getError=function(){return this.h||this.a.getError()},P.prototype.getError=P.prototype.getError,P.prototype.H=function(i,a,y){this.a.H(i,a,y),this.b=this.c=-1},P.prototype.setBlock=P.prototype.H,P.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},P.prototype.reset=P.prototype.reset,P.prototype.advance=function(i){this.a.advance(i)},P.prototype.advance=P.prototype.advance,P.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return q("Decoder hit an error"),!1;this.O=this.a.B();var i=this.a.o(),a=i>>>3;return i&=7,i!=0&&i!=5&&i!=1&&i!=2&&i!=3&&i!=4?(q("Invalid wire type: %s (at position %s)",i,this.O),this.h=!0,!1):(this.c=a,this.b=i,!0)},P.prototype.nextField=P.prototype.oa,P.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},P.prototype.unskipHeader=P.prototype.Oa,P.prototype.Lc=function(){var i=this.c;for(this.Oa();this.oa()&&this.c==i;)this.C();this.a.ya()||this.Oa()},P.prototype.skipMatchingFields=P.prototype.Lc,P.prototype.lb=function(){this.b!=0?(q("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},P.prototype.skipVarintField=P.prototype.lb,P.prototype.gb=function(){if(this.b!=2)q("Invalid wire type for skipDelimitedField"),this.C();else{var i=this.a.o();this.a.advance(i)}},P.prototype.skipDelimitedField=P.prototype.gb,P.prototype.hb=function(){this.b!=5?(q("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},P.prototype.skipFixed32Field=P.prototype.hb,P.prototype.ib=function(){this.b!=1?(q("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},P.prototype.skipFixed64Field=P.prototype.ib,P.prototype.jb=function(){var i=this.c;do{if(!this.oa()){q("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=i&&(q("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},P.prototype.skipGroup=P.prototype.jb,P.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:q("Invalid wire encoding for field.")}},P.prototype.skipField=P.prototype.C,P.prototype.Hc=function(i,a){this.v===null&&(this.v={}),T(!this.v[i]),this.v[i]=a},P.prototype.registerReadCallback=P.prototype.Hc,P.prototype.Ic=function(i){return T(this.v!==null),i=this.v[i],T(i),i(this)},P.prototype.runReadCallback=P.prototype.Ic,P.prototype.Yb=function(i,a){T(this.b==2);var y=this.a.c,S=this.a.o();S=this.a.B()+S,this.a.setEnd(S),a(i,this),this.a.Ma(S),this.a.setEnd(y)},P.prototype.readMessage=P.prototype.Yb,P.prototype.Ub=function(i,a,y){T(this.b==3),T(this.c==i),y(a,this),this.h||this.b==4||(q("Group submessage did not end with an END_GROUP tag"),this.h=!0)},P.prototype.readGroup=P.prototype.Ub,P.prototype.Gb=function(){T(this.b==2);var i=this.a.o(),a=this.a.B(),y=a+i;return i=Dt(this.a.Y(),a,i),this.a.Ma(y),i},P.prototype.getFieldDecoder=P.prototype.Gb,P.prototype.P=function(){return T(this.b==0),this.a.da()},P.prototype.readInt32=P.prototype.P,P.prototype.Wb=function(){return T(this.b==0),this.a.Ea()},P.prototype.readInt32String=P.prototype.Wb,P.prototype.ba=function(){return T(this.b==0),this.a.sa()},P.prototype.readInt64=P.prototype.ba,P.prototype.ca=function(){return T(this.b==0),this.a.Fa()},P.prototype.readInt64String=P.prototype.ca,P.prototype.m=function(){return T(this.b==0),this.a.o()},P.prototype.readUint32=P.prototype.m,P.prototype.Fc=function(){return T(this.b==0),this.a.O()},P.prototype.readUint32String=P.prototype.Fc,P.prototype.ga=function(){return T(this.b==0),this.a.Ga()},P.prototype.readUint64=P.prototype.ga,P.prototype.ha=function(){return T(this.b==0),this.a.Ha()},P.prototype.readUint64String=P.prototype.ha,P.prototype.zc=function(){return T(this.b==0),this.a.Ia()},P.prototype.readSint32=P.prototype.zc,P.prototype.Ac=function(){return T(this.b==0),this.a.Ja()},P.prototype.readSint64=P.prototype.Ac,P.prototype.Bc=function(){return T(this.b==0),this.a.Ka()},P.prototype.readSint64String=P.prototype.Bc,P.prototype.Rb=function(){return T(this.b==5),this.a.m()},P.prototype.readFixed32=P.prototype.Rb,P.prototype.Sb=function(){return T(this.b==1),this.a.ga()},P.prototype.readFixed64=P.prototype.Sb,P.prototype.Tb=function(){return T(this.b==1),this.a.ha()},P.prototype.readFixed64String=P.prototype.Tb,P.prototype.vc=function(){return T(this.b==5),this.a.P()},P.prototype.readSfixed32=P.prototype.vc,P.prototype.wc=function(){return T(this.b==5),this.a.P().toString()},P.prototype.readSfixed32String=P.prototype.wc,P.prototype.xc=function(){return T(this.b==1),this.a.ba()},P.prototype.readSfixed64=P.prototype.xc,P.prototype.yc=function(){return T(this.b==1),this.a.ca()},P.prototype.readSfixed64String=P.prototype.yc,P.prototype.aa=function(){return T(this.b==5),this.a.aa()},P.prototype.readFloat=P.prototype.aa,P.prototype.Z=function(){return T(this.b==1),this.a.Z()},P.prototype.readDouble=P.prototype.Z,P.prototype.pa=function(){return T(this.b==0),!!this.a.o()},P.prototype.readBool=P.prototype.pa,P.prototype.ra=function(){return T(this.b==0),this.a.sa()},P.prototype.readEnum=P.prototype.ra,P.prototype.fa=function(){T(this.b==2);var i=this.a.o();return this.a.fa(i)},P.prototype.readString=P.prototype.fa,P.prototype.qa=function(){T(this.b==2);var i=this.a.o();return this.a.qa(i)},P.prototype.readBytes=P.prototype.qa,P.prototype.ia=function(){return T(this.b==0),this.a.ia()},P.prototype.readVarintHash64=P.prototype.ia,P.prototype.Cc=function(){return T(this.b==0),this.a.fb()},P.prototype.readSintHash64=P.prototype.Cc,P.prototype.w=function(i){return T(this.b==0),this.a.w(i)},P.prototype.readSplitVarint64=P.prototype.w,P.prototype.ea=function(i){return T(this.b==0),this.a.w(function(a,y){return at(a,y,i)})},P.prototype.readSplitZigzagVarint64=P.prototype.ea,P.prototype.$=function(){return T(this.b==1),this.a.$()},P.prototype.readFixedHash64=P.prototype.$,P.prototype.ta=function(i){return T(this.b==1),this.a.ta(i)},P.prototype.readSplitFixed64=P.prototype.ta;function Lt(i,a){T(i.b==2);var y=i.a.o();y=i.a.B()+y;for(var S=[];i.a.B()<y;)S.push(a.call(i.a));return S}P.prototype.gc=function(){return Lt(this,this.a.da)},P.prototype.readPackedInt32=P.prototype.gc,P.prototype.hc=function(){return Lt(this,this.a.Ea)},P.prototype.readPackedInt32String=P.prototype.hc,P.prototype.ic=function(){return Lt(this,this.a.sa)},P.prototype.readPackedInt64=P.prototype.ic,P.prototype.jc=function(){return Lt(this,this.a.Fa)},P.prototype.readPackedInt64String=P.prototype.jc,P.prototype.qc=function(){return Lt(this,this.a.o)},P.prototype.readPackedUint32=P.prototype.qc,P.prototype.rc=function(){return Lt(this,this.a.O)},P.prototype.readPackedUint32String=P.prototype.rc,P.prototype.sc=function(){return Lt(this,this.a.Ga)},P.prototype.readPackedUint64=P.prototype.sc,P.prototype.tc=function(){return Lt(this,this.a.Ha)},P.prototype.readPackedUint64String=P.prototype.tc,P.prototype.nc=function(){return Lt(this,this.a.Ia)},P.prototype.readPackedSint32=P.prototype.nc,P.prototype.oc=function(){return Lt(this,this.a.Ja)},P.prototype.readPackedSint64=P.prototype.oc,P.prototype.pc=function(){return Lt(this,this.a.Ka)},P.prototype.readPackedSint64String=P.prototype.pc,P.prototype.bc=function(){return Lt(this,this.a.m)},P.prototype.readPackedFixed32=P.prototype.bc,P.prototype.cc=function(){return Lt(this,this.a.ga)},P.prototype.readPackedFixed64=P.prototype.cc,P.prototype.dc=function(){return Lt(this,this.a.ha)},P.prototype.readPackedFixed64String=P.prototype.dc,P.prototype.kc=function(){return Lt(this,this.a.P)},P.prototype.readPackedSfixed32=P.prototype.kc,P.prototype.lc=function(){return Lt(this,this.a.ba)},P.prototype.readPackedSfixed64=P.prototype.lc,P.prototype.mc=function(){return Lt(this,this.a.ca)},P.prototype.readPackedSfixed64String=P.prototype.mc,P.prototype.fc=function(){return Lt(this,this.a.aa)},P.prototype.readPackedFloat=P.prototype.fc,P.prototype.$b=function(){return Lt(this,this.a.Z)},P.prototype.readPackedDouble=P.prototype.$b,P.prototype.Zb=function(){return Lt(this,this.a.pa)},P.prototype.readPackedBool=P.prototype.Zb,P.prototype.ac=function(){return Lt(this,this.a.ra)},P.prototype.readPackedEnum=P.prototype.ac,P.prototype.uc=function(){return Lt(this,this.a.ia)},P.prototype.readPackedVarintHash64=P.prototype.uc,P.prototype.ec=function(){return Lt(this,this.a.$)},P.prototype.readPackedFixedHash64=P.prototype.ec;function Ut(i,a,y,S,G){this.ma=i,this.Ba=a,this.la=y,this.Na=S,this.na=G}b("jspb.ExtensionFieldInfo",Ut,void 0);function Zt(i,a,y,S,G,dt){this.Za=i,this.za=a,this.Aa=y,this.Wa=S,this.Ab=G,this.Nb=dt}b("jspb.ExtensionFieldBinaryInfo",Zt,void 0),Ut.prototype.F=function(){return!!this.la},Ut.prototype.isMessageType=Ut.prototype.F;function Ct(){}b("jspb.Message",Ct,void 0),Ct.GENERATE_TO_OBJECT=!0,Ct.GENERATE_FROM_OBJECT=!0;var ee=typeof Uint8Array=="function";Ct.prototype.Ib=function(){return this.b},Ct.prototype.getJsPbMessageId=Ct.prototype.Ib,Ct.initialize=function(i,a,y,S,G,dt){i.f=null,a||(a=y?[y]:[]),i.b=y?String(y):void 0,i.D=y===0?-1:0,i.u=a;t:{if(y=i.u.length,a=-1,y&&(a=y-1,y=i.u[a],!(y===null||typeof y!="object"||Array.isArray(y)||ee&&y instanceof Uint8Array))){i.G=a-i.D,i.i=y;break t}-1<S?(i.G=Math.max(S,a+1-i.D),i.i=null):i.G=Number.MAX_VALUE}if(i.a={},G)for(S=0;S<G.length;S++)a=G[S],a<i.G?(a+=i.D,i.u[a]=i.u[a]||ne):(se(i),i.i[a]=i.i[a]||ne);if(dt&&dt.length)for(S=0;S<dt.length;S++)ke(i,dt[S])};var ne=Object.freeze?Object.freeze([]):[];function se(i){var a=i.G+i.D;i.u[a]||(i.i=i.u[a]={})}function te(i,a,y){for(var S=[],G=0;G<i.length;G++)S[G]=a.call(i[G],y,i[G]);return S}Ct.toObjectList=te,Ct.toObjectExtension=function(i,a,y,S,G){for(var dt in y){var Rt=y[dt],qt=S.call(i,Rt);if(qt!=null){for(var pe in Rt.Ba)if(Rt.Ba.hasOwnProperty(pe))break;a[pe]=Rt.Na?Rt.na?te(qt,Rt.Na,G):Rt.Na(G,qt):qt}}},Ct.serializeBinaryExtensions=function(i,a,y,S){for(var G in y){var dt=y[G],Rt=dt.Za;if(!dt.Aa)throw Error("Message extension present that was generated without binary serialization support");var qt=S.call(i,Rt);if(qt!=null)if(Rt.F())if(dt.Wa)dt.Aa.call(a,Rt.ma,qt,dt.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else dt.Aa.call(a,Rt.ma,qt)}},Ct.readBinaryExtension=function(i,a,y,S,G){var dt=y[a.c];if(dt){if(y=dt.Za,!dt.za)throw Error("Deserializing extension whose generated code does not support binary format");if(y.F()){var Rt=new y.la;dt.za.call(a,Rt,dt.Ab)}else Rt=dt.za.call(a);y.na&&!dt.Nb?(a=S.call(i,y))?a.push(Rt):G.call(i,y,[Rt]):G.call(i,y,Rt)}else a.C()};function yt(i,a){if(a<i.G){a+=i.D;var y=i.u[a];return y===ne?i.u[a]=[]:y}if(i.i)return y=i.i[a],y===ne?i.i[a]=[]:y}Ct.getField=yt,Ct.getRepeatedField=function(i,a){return yt(i,a)};function At(i,a){return i=yt(i,a),i==null?i:+i}Ct.getOptionalFloatingPointField=At;function xt(i,a){return i=yt(i,a),i==null?i:!!i}Ct.getBooleanField=xt,Ct.getRepeatedFloatingPointField=function(i,a){var y=yt(i,a);if(i.a||(i.a={}),!i.a[a]){for(var S=0;S<y.length;S++)y[S]=+y[S];i.a[a]=!0}return y},Ct.getRepeatedBooleanField=function(i,a){var y=yt(i,a);if(i.a||(i.a={}),!i.a[a]){for(var S=0;S<y.length;S++)y[S]=!!y[S];i.a[a]=!0}return y};function Ht(i){return i==null||typeof i=="string"?i:ee&&i instanceof Uint8Array?tt(i):(q("Cannot coerce to b64 string: "+w(i)),null)}Ct.bytesAsB64=Ht;function zt(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?st(i):(q("Cannot coerce to Uint8Array: "+w(i)),null)}Ct.bytesAsU8=zt,Ct.bytesListAsB64=function(i){return Yt(i),i.length&&typeof i[0]!="string"?$(i,Ht):i},Ct.bytesListAsU8=function(i){return Yt(i),!i.length||i[0]instanceof Uint8Array?i:$(i,zt)};function Yt(i){if(i&&1<i.length){var a=w(i[0]);M(i,function(y){w(y)!=a&&q("Inconsistent type in JSPB repeated field array. Got "+w(y)+" expected "+a)})}}function Xt(i,a,y){return i=yt(i,a),i??y}Ct.getFieldWithDefault=Xt,Ct.getBooleanFieldWithDefault=function(i,a,y){return i=xt(i,a),i??y},Ct.getFloatingPointFieldWithDefault=function(i,a,y){return i=At(i,a),i??y},Ct.getFieldProto3=Xt,Ct.getMapField=function(i,a,y,S){if(i.f||(i.f={}),a in i.f)return i.f[a];var G=yt(i,a);if(!G){if(y)return;G=[],oe(i,a,G)}return i.f[a]=new Z(G,S)};function oe(i,a,y){return ft(i,Ct),a<i.G?i.u[a+i.D]=y:(se(i),i.i[a]=y),i}Ct.setField=oe,Ct.setProto3IntField=function(i,a,y){return le(i,a,y,0)},Ct.setProto3FloatField=function(i,a,y){return le(i,a,y,0)},Ct.setProto3BooleanField=function(i,a,y){return le(i,a,y,!1)},Ct.setProto3StringField=function(i,a,y){return le(i,a,y,"")},Ct.setProto3BytesField=function(i,a,y){return le(i,a,y,"")},Ct.setProto3EnumField=function(i,a,y){return le(i,a,y,0)},Ct.setProto3StringIntField=function(i,a,y){return le(i,a,y,"0")};function le(i,a,y,S){return ft(i,Ct),y!==S?oe(i,a,y):a<i.G?i.u[a+i.D]=null:(se(i),delete i.i[a]),i}Ct.addToRepeatedField=function(i,a,y,S){return ft(i,Ct),a=yt(i,a),S!=null?a.splice(S,0,y):a.push(y),i};function Me(i,a,y,S){return ft(i,Ct),(y=ke(i,y))&&y!==a&&S!==void 0&&(i.f&&y in i.f&&(i.f[y]=void 0),oe(i,y,void 0)),oe(i,a,S)}Ct.setOneofField=Me;function ke(i,a){for(var y,S,G=0;G<a.length;G++){var dt=a[G],Rt=yt(i,dt);Rt!=null&&(y=dt,S=Rt,oe(i,dt,void 0))}return y?(oe(i,y,S),y):0}Ct.computeOneofCase=ke,Ct.getWrapperField=function(i,a,y,S){if(i.f||(i.f={}),!i.f[y]){var G=yt(i,y);(S||G)&&(i.f[y]=new a(G))}return i.f[y]},Ct.getRepeatedWrapperField=function(i,a,y){return Ue(i,a,y),a=i.f[y],a==ne&&(a=i.f[y]=[]),a};function Ue(i,a,y){if(i.f||(i.f={}),!i.f[y]){for(var S=yt(i,y),G=[],dt=0;dt<S.length;dt++)G[dt]=new a(S[dt]);i.f[y]=G}}Ct.setWrapperField=function(i,a,y){ft(i,Ct),i.f||(i.f={});var S=y&&y.g();return i.f[a]=y,oe(i,a,S)},Ct.setOneofWrapperField=function(i,a,y,S){ft(i,Ct),i.f||(i.f={});var G=S&&S.g();return i.f[a]=S,Me(i,a,y,G)},Ct.setRepeatedWrapperField=function(i,a,y){ft(i,Ct),i.f||(i.f={}),y=y||[];for(var S=[],G=0;G<y.length;G++)S[G]=y[G].g();return i.f[a]=y,oe(i,a,S)},Ct.addToRepeatedWrapperField=function(i,a,y,S,G){Ue(i,S,a);var dt=i.f[a];return dt||(dt=i.f[a]=[]),y=y||new S,i=yt(i,a),G!=null?(dt.splice(G,0,y),i.splice(G,0,y.g())):(dt.push(y),i.push(y.g())),y},Ct.toMap=function(i,a,y,S){for(var G={},dt=0;dt<i.length;dt++)G[a.call(i[dt])]=y?y.call(i[dt],S,i[dt]):i[dt];return G};function ze(i){if(i.f)for(var a in i.f){var y=i.f[a];if(Array.isArray(y))for(var S=0;S<y.length;S++)y[S]&&y[S].g();else y&&y.g()}}Ct.prototype.g=function(){return ze(this),this.u},Ct.prototype.toArray=Ct.prototype.g,Ct.prototype.toString=function(){return ze(this),this.u.toString()},Ct.prototype.getExtension=function(i){if(this.i){this.f||(this.f={});var a=i.ma;if(i.na){if(i.F())return this.f[a]||(this.f[a]=$(this.i[a]||[],function(y){return new i.la(y)})),this.f[a]}else if(i.F())return!this.f[a]&&this.i[a]&&(this.f[a]=new i.la(this.i[a])),this.f[a];return this.i[a]}},Ct.prototype.getExtension=Ct.prototype.getExtension,Ct.prototype.Kc=function(i,a){this.f||(this.f={}),se(this);var y=i.ma;return i.na?(a=a||[],i.F()?(this.f[y]=a,this.i[y]=$(a,function(S){return S.g()})):this.i[y]=a):i.F()?(this.f[y]=a,this.i[y]=a&&a.g()):this.i[y]=a,this},Ct.prototype.setExtension=Ct.prototype.Kc,Ct.difference=function(i,a){if(!(i instanceof a.constructor))throw Error("Messages have different types.");var y=i.g();a=a.g();var S=[],G=0,dt=y.length>a.length?y.length:a.length;for(i.b&&(S[0]=i.b,G=1);G<dt;G++)we(y[G],a[G])||(S[G]=a[G]);return new i.constructor(S)},Ct.equals=function(i,a){return i==a||!(!i||!a)&&i instanceof a.constructor&&we(i.g(),a.g())};function De(i,a){i=i||{},a=a||{};var y={},S;for(S in i)y[S]=0;for(S in a)y[S]=0;for(S in y)if(!we(i[S],a[S]))return!1;return!0}Ct.compareExtensions=De;function we(i,a){if(i==a)return!0;if(!_(i)||!_(a))return typeof i=="number"&&isNaN(i)||typeof a=="number"&&isNaN(a)?String(i)==String(a):!1;if(i.constructor!=a.constructor)return!1;if(ee&&i.constructor===Uint8Array){if(i.length!=a.length)return!1;for(var y=0;y<i.length;y++)if(i[y]!=a[y])return!1;return!0}if(i.constructor===Array){var S=void 0,G=void 0,dt=Math.max(i.length,a.length);for(y=0;y<dt;y++){var Rt=i[y],qt=a[y];if(Rt&&Rt.constructor==Object&&(T(S===void 0),T(y===i.length-1),S=Rt,Rt=void 0),qt&&qt.constructor==Object&&(T(G===void 0),T(y===a.length-1),G=qt,qt=void 0),!we(Rt,qt))return!1}return S||G?(S=S||{},G=G||{},De(S,G)):!0}if(i.constructor===Object)return De(i,a);throw Error("Invalid type in JSPB array")}Ct.compareFields=we,Ct.prototype.Bb=function(){return Be(this)},Ct.prototype.cloneMessage=Ct.prototype.Bb,Ct.prototype.clone=function(){return Be(this)},Ct.prototype.clone=Ct.prototype.clone,Ct.clone=function(i){return Be(i)};function Be(i){return new i.constructor(xe(i.g()))}Ct.copyInto=function(i,a){ft(i,Ct),ft(a,Ct),T(i.constructor==a.constructor,"Copy source and target message should have the same type."),i=Be(i);for(var y=a.g(),S=i.g(),G=y.length=0;G<S.length;G++)y[G]=S[G];a.f=i.f,a.i=i.i};function xe(i){if(Array.isArray(i)){for(var a=Array(i.length),y=0;y<i.length;y++){var S=i[y];S!=null&&(a[y]=typeof S=="object"?xe(T(S)):S)}return a}if(ee&&i instanceof Uint8Array)return new Uint8Array(i);a={};for(y in i)S=i[y],S!=null&&(a[y]=typeof S=="object"?xe(T(S)):S);return a}Ct.registerMessageType=function(i,a){a.we=i};var Ee={dump:function(i){return ft(i,Ct,"jspb.Message instance expected"),T(i.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),Ee.X(i)}};b("jspb.debug.dump",Ee.dump,void 0),Ee.X=function(i){var a=w(i);if(a=="number"||a=="string"||a=="boolean"||a=="null"||a=="undefined"||typeof Uint8Array<"u"&&i instanceof Uint8Array)return i;if(a=="array")return nt(i),$(i,Ee.X);if(i instanceof Z){var y={};i=i.entries();for(var S=i.next();!S.done;S=i.next())y[S.value[0]]=Ee.X(S.value[1]);return y}ft(i,Ct,"Only messages expected: "+i),a=i.constructor;var G={$name:a.name||a.displayName};for(qt in a.prototype){var dt=/^get([A-Z]\w*)/.exec(qt);if(dt&&qt!="getExtension"&&qt!="getJsPbMessageId"){var Rt="has"+dt[1];(!i[Rt]||i[Rt]())&&(Rt=i[qt](),G[Ee.$a(dt[1])]=Ee.X(Rt))}}if(i.extensionObject_)return G.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",G;for(S in a.extensions)if(/^\d+$/.test(S)){Rt=a.extensions[S];var qt=i.getExtension(Rt);dt=void 0,Rt=Rt.Ba;var pe=[],$e=0;for(dt in Rt)pe[$e++]=dt;dt=pe[0],qt!=null&&(y||(y=G.$extensions={}),y[Ee.$a(dt)]=Ee.X(qt))}return G},Ee.$a=function(i){return i.replace(/^[A-Z]/,function(a){return a.toLowerCase()})};function Ft(){this.a=[]}b("jspb.BinaryEncoder",Ft,void 0),Ft.prototype.length=function(){return this.a.length},Ft.prototype.length=Ft.prototype.length,Ft.prototype.end=function(){var i=this.a;return this.a=[],i},Ft.prototype.end=Ft.prototype.end,Ft.prototype.l=function(i,a){for(T(i==Math.floor(i)),T(a==Math.floor(a)),T(0<=i&&4294967296>i),T(0<=a&&4294967296>a);0<a||127<i;)this.a.push(i&127|128),i=(i>>>7|a<<25)>>>0,a>>>=7;this.a.push(i)},Ft.prototype.writeSplitVarint64=Ft.prototype.l,Ft.prototype.A=function(i,a){T(i==Math.floor(i)),T(a==Math.floor(a)),T(0<=i&&4294967296>i),T(0<=a&&4294967296>a),this.s(i),this.s(a)},Ft.prototype.writeSplitFixed64=Ft.prototype.A,Ft.prototype.j=function(i){for(T(i==Math.floor(i)),T(0<=i&&4294967296>i);127<i;)this.a.push(i&127|128),i>>>=7;this.a.push(i)},Ft.prototype.writeUnsignedVarint32=Ft.prototype.j,Ft.prototype.M=function(i){if(T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),0<=i)this.j(i);else{for(var a=0;9>a;a++)this.a.push(i&127|128),i>>=7;this.a.push(1)}},Ft.prototype.writeSignedVarint32=Ft.prototype.M,Ft.prototype.va=function(i){T(i==Math.floor(i)),T(0<=i&&18446744073709552e3>i),Et(i),this.l(A,C)},Ft.prototype.writeUnsignedVarint64=Ft.prototype.va,Ft.prototype.ua=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),Et(i),this.l(A,C)},Ft.prototype.writeSignedVarint64=Ft.prototype.ua,Ft.prototype.wa=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.j((i<<1^i>>31)>>>0)},Ft.prototype.writeZigzagVarint32=Ft.prototype.wa,Ft.prototype.xa=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),St(i),this.l(A,C)},Ft.prototype.writeZigzagVarint64=Ft.prototype.xa,Ft.prototype.Ta=function(i){this.W(h(i))},Ft.prototype.writeZigzagVarint64String=Ft.prototype.Ta,Ft.prototype.W=function(i){var a=this;J(i),F(A,C,function(y,S){a.l(y>>>0,S>>>0)})},Ft.prototype.writeZigzagVarintHash64=Ft.prototype.W,Ft.prototype.be=function(i){T(i==Math.floor(i)),T(0<=i&&256>i),this.a.push(i>>>0&255)},Ft.prototype.writeUint8=Ft.prototype.be,Ft.prototype.ae=function(i){T(i==Math.floor(i)),T(0<=i&&65536>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Ft.prototype.writeUint16=Ft.prototype.ae,Ft.prototype.s=function(i){T(i==Math.floor(i)),T(0<=i&&4294967296>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Ft.prototype.writeUint32=Ft.prototype.s,Ft.prototype.V=function(i){T(i==Math.floor(i)),T(0<=i&&18446744073709552e3>i),ct(i),this.s(A),this.s(C)},Ft.prototype.writeUint64=Ft.prototype.V,Ft.prototype.Qc=function(i){T(i==Math.floor(i)),T(-128<=i&&128>i),this.a.push(i>>>0&255)},Ft.prototype.writeInt8=Ft.prototype.Qc,Ft.prototype.Pc=function(i){T(i==Math.floor(i)),T(-32768<=i&&32768>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Ft.prototype.writeInt16=Ft.prototype.Pc,Ft.prototype.S=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Ft.prototype.writeInt32=Ft.prototype.S,Ft.prototype.T=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),Et(i),this.A(A,C)},Ft.prototype.writeInt64=Ft.prototype.T,Ft.prototype.ka=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=+i&&9223372036854776e3>+i),J(h(i)),this.A(A,C)},Ft.prototype.writeInt64String=Ft.prototype.ka,Ft.prototype.L=function(i){T(i===1/0||i===-1/0||isNaN(i)||-34028234663852886e22<=i&&34028234663852886e22>=i),bt(i),this.s(A)},Ft.prototype.writeFloat=Ft.prototype.L,Ft.prototype.J=function(i){T(i===1/0||i===-1/0||isNaN(i)||-17976931348623157e292<=i&&17976931348623157e292>=i),it(i),this.s(A),this.s(C)},Ft.prototype.writeDouble=Ft.prototype.J,Ft.prototype.I=function(i){T(typeof i=="boolean"||typeof i=="number"),this.a.push(i?1:0)},Ft.prototype.writeBool=Ft.prototype.I,Ft.prototype.R=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.M(i)},Ft.prototype.writeEnum=Ft.prototype.R,Ft.prototype.ja=function(i){this.a.push.apply(this.a,i)},Ft.prototype.writeBytes=Ft.prototype.ja,Ft.prototype.N=function(i){J(i),this.l(A,C)},Ft.prototype.writeVarintHash64=Ft.prototype.N,Ft.prototype.K=function(i){J(i),this.s(A),this.s(C)},Ft.prototype.writeFixedHash64=Ft.prototype.K,Ft.prototype.U=function(i){var a=this.a.length;K(i);for(var y=0;y<i.length;y++){var S=i.charCodeAt(y);if(128>S)this.a.push(S);else if(2048>S)this.a.push(S>>6|192),this.a.push(S&63|128);else if(65536>S)if(55296<=S&&56319>=S&&y+1<i.length){var G=i.charCodeAt(y+1);56320<=G&&57343>=G&&(S=1024*(S-55296)+G-56320+65536,this.a.push(S>>18|240),this.a.push(S>>12&63|128),this.a.push(S>>6&63|128),this.a.push(S&63|128),y++)}else this.a.push(S>>12|224),this.a.push(S>>6&63|128),this.a.push(S&63|128)}return this.a.length-a},Ft.prototype.writeString=Ft.prototype.U;function Vt(i,a){this.lo=i,this.hi=a}b("jspb.arith.UInt64",Vt,void 0),Vt.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},Vt.prototype.cmp=Vt.prototype.cmp,Vt.prototype.La=function(){return new Vt((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},Vt.prototype.rightShift=Vt.prototype.La,Vt.prototype.Da=function(){return new Vt(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},Vt.prototype.leftShift=Vt.prototype.Da,Vt.prototype.cb=function(){return!!(this.hi&2147483648)},Vt.prototype.msb=Vt.prototype.cb,Vt.prototype.Ob=function(){return!!(this.lo&1)},Vt.prototype.lsb=Vt.prototype.Ob,Vt.prototype.Ua=function(){return this.lo==0&&this.hi==0},Vt.prototype.zero=Vt.prototype.Ua,Vt.prototype.add=function(i){return new Vt((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},Vt.prototype.add=Vt.prototype.add,Vt.prototype.sub=function(i){return new Vt((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},Vt.prototype.sub=Vt.prototype.sub;function cr(i,a){var y=i&65535;i>>>=16;var S=a&65535,G=a>>>16;for(a=y*S+65536*(y*G&65535)+65536*(i*S&65535),y=i*G+(y*G>>>16)+(i*S>>>16);4294967296<=a;)a-=4294967296,y+=1;return new Vt(a>>>0,y>>>0)}Vt.mul32x32=cr,Vt.prototype.eb=function(i){var a=cr(this.lo,i);return i=cr(this.hi,i),i.hi=i.lo,i.lo=0,a.add(i)},Vt.prototype.mul=Vt.prototype.eb,Vt.prototype.Xa=function(i){if(i==0)return[];var a=new Vt(0,0),y=new Vt(this.lo,this.hi);i=new Vt(i,0);for(var S=new Vt(1,0);!i.cb();)i=i.Da(),S=S.Da();for(;!S.Ua();)0>=i.cmp(y)&&(a=a.add(S),y=y.sub(i)),i=i.La(),S=S.La();return[a,y]},Vt.prototype.div=Vt.prototype.Xa,Vt.prototype.toString=function(){for(var i="",a=this;!a.Ua();){a=a.Xa(10);var y=a[0];i=a[1].lo+i,a=y}return i==""&&(i="0"),i},Vt.prototype.toString=Vt.prototype.toString;function Qe(i){for(var a=new Vt(0,0),y=new Vt(0,0),S=0;S<i.length;S++){if("0">i[S]||"9"<i[S])return null;y.lo=parseInt(i[S],10),a=a.eb(10).add(y)}return a}Vt.fromString=Qe,Vt.prototype.clone=function(){return new Vt(this.lo,this.hi)},Vt.prototype.clone=Vt.prototype.clone;function he(i,a){this.lo=i,this.hi=a}b("jspb.arith.Int64",he,void 0),he.prototype.add=function(i){return new he((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},he.prototype.add=he.prototype.add,he.prototype.sub=function(i){return new he((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},he.prototype.sub=he.prototype.sub,he.prototype.clone=function(){return new he(this.lo,this.hi)},he.prototype.clone=he.prototype.clone,he.prototype.toString=function(){var i=(this.hi&2147483648)!=0,a=new Vt(this.lo,this.hi);return i&&(a=new Vt(0,0).sub(a)),(i?"-":"")+a.toString()},he.prototype.toString=he.prototype.toString;function Xe(i){var a=0<i.length&&i[0]=="-";return a&&(i=i.substring(1)),i=Qe(i),i===null?null:(a&&(i=new Vt(0,0).sub(i)),new he(i.lo,i.hi))}he.fromString=Xe;function N(){this.c=[],this.b=0,this.a=new Ft,this.h=[]}b("jspb.BinaryWriter",N,void 0);function dr(i,a){var y=i.a.end();i.c.push(y),i.c.push(a),i.b+=y.length+a.length}function ie(i,a){return Gt(i,a,2),a=i.a.end(),i.c.push(a),i.b+=a.length,a.push(i.b),a}function re(i,a){var y=a.pop();for(y=i.b+i.a.length()-y,T(0<=y);127<y;)a.push(y&127|128),y>>>=7,i.b++;a.push(y),i.b++}N.prototype.pb=function(i,a,y){dr(this,i.subarray(a,y))},N.prototype.writeSerializedMessage=N.prototype.pb,N.prototype.Pb=function(i,a,y){i!=null&&a!=null&&y!=null&&this.pb(i,a,y)},N.prototype.maybeWriteSerializedMessage=N.prototype.Pb,N.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},N.prototype.reset=N.prototype.reset,N.prototype.ab=function(){T(this.h.length==0);for(var i=new Uint8Array(this.b+this.a.length()),a=this.c,y=a.length,S=0,G=0;G<y;G++){var dt=a[G];i.set(dt,S),S+=dt.length}return a=this.a.end(),i.set(a,S),S+=a.length,T(S==i.length),this.c=[i],i},N.prototype.getResultBuffer=N.prototype.ab,N.prototype.Kb=function(i){return tt(this.ab(),i)},N.prototype.getResultBase64String=N.prototype.Kb,N.prototype.Va=function(i){this.h.push(ie(this,i))},N.prototype.beginSubMessage=N.prototype.Va,N.prototype.Ya=function(){T(0<=this.h.length),re(this,this.h.pop())},N.prototype.endSubMessage=N.prototype.Ya;function Gt(i,a,y){T(1<=a&&a==Math.floor(a)),i.a.j(8*a+y)}N.prototype.Nc=function(i,a,y){switch(i){case 1:this.J(a,y);break;case 2:this.L(a,y);break;case 3:this.T(a,y);break;case 4:this.V(a,y);break;case 5:this.S(a,y);break;case 6:this.Qa(a,y);break;case 7:this.Pa(a,y);break;case 8:this.I(a,y);break;case 9:this.U(a,y);break;case 10:q("Group field type not supported in writeAny()");break;case 11:q("Message field type not supported in writeAny()");break;case 12:this.ja(a,y);break;case 13:this.s(a,y);break;case 14:this.R(a,y);break;case 15:this.Ra(a,y);break;case 16:this.Sa(a,y);break;case 17:this.rb(a,y);break;case 18:this.sb(a,y);break;case 30:this.K(a,y);break;case 31:this.N(a,y);break;default:q("Invalid field type in writeAny()")}},N.prototype.writeAny=N.prototype.Nc;function Re(i,a,y){y!=null&&(Gt(i,a,0),i.a.j(y))}function Ge(i,a,y){y!=null&&(Gt(i,a,0),i.a.M(y))}N.prototype.S=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),Ge(this,i,a))},N.prototype.writeInt32=N.prototype.S,N.prototype.ob=function(i,a){a!=null&&(a=parseInt(a,10),T(-2147483648<=a&&2147483648>a),Ge(this,i,a))},N.prototype.writeInt32String=N.prototype.ob,N.prototype.T=function(i,a){a!=null&&(T(-9223372036854776e3<=a&&9223372036854776e3>a),a!=null&&(Gt(this,i,0),this.a.ua(a)))},N.prototype.writeInt64=N.prototype.T,N.prototype.ka=function(i,a){a!=null&&(a=Xe(a),Gt(this,i,0),this.a.l(a.lo,a.hi))},N.prototype.writeInt64String=N.prototype.ka,N.prototype.s=function(i,a){a!=null&&(T(0<=a&&4294967296>a),Re(this,i,a))},N.prototype.writeUint32=N.prototype.s,N.prototype.ub=function(i,a){a!=null&&(a=parseInt(a,10),T(0<=a&&4294967296>a),Re(this,i,a))},N.prototype.writeUint32String=N.prototype.ub,N.prototype.V=function(i,a){a!=null&&(T(0<=a&&18446744073709552e3>a),a!=null&&(Gt(this,i,0),this.a.va(a)))},N.prototype.writeUint64=N.prototype.V,N.prototype.vb=function(i,a){a!=null&&(a=Qe(a),Gt(this,i,0),this.a.l(a.lo,a.hi))},N.prototype.writeUint64String=N.prototype.vb,N.prototype.rb=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),a!=null&&(Gt(this,i,0),this.a.wa(a)))},N.prototype.writeSint32=N.prototype.rb,N.prototype.sb=function(i,a){a!=null&&(T(-9223372036854776e3<=a&&9223372036854776e3>a),a!=null&&(Gt(this,i,0),this.a.xa(a)))},N.prototype.writeSint64=N.prototype.sb,N.prototype.$d=function(i,a){a!=null&&a!=null&&(Gt(this,i,0),this.a.W(a))},N.prototype.writeSintHash64=N.prototype.$d,N.prototype.Zd=function(i,a){a!=null&&a!=null&&(Gt(this,i,0),this.a.Ta(a))},N.prototype.writeSint64String=N.prototype.Zd,N.prototype.Pa=function(i,a){a!=null&&(T(0<=a&&4294967296>a),Gt(this,i,5),this.a.s(a))},N.prototype.writeFixed32=N.prototype.Pa,N.prototype.Qa=function(i,a){a!=null&&(T(0<=a&&18446744073709552e3>a),Gt(this,i,1),this.a.V(a))},N.prototype.writeFixed64=N.prototype.Qa,N.prototype.nb=function(i,a){a!=null&&(a=Qe(a),Gt(this,i,1),this.a.A(a.lo,a.hi))},N.prototype.writeFixed64String=N.prototype.nb,N.prototype.Ra=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),Gt(this,i,5),this.a.S(a))},N.prototype.writeSfixed32=N.prototype.Ra,N.prototype.Sa=function(i,a){a!=null&&(T(-9223372036854776e3<=a&&9223372036854776e3>a),Gt(this,i,1),this.a.T(a))},N.prototype.writeSfixed64=N.prototype.Sa,N.prototype.qb=function(i,a){a!=null&&(a=Xe(a),Gt(this,i,1),this.a.A(a.lo,a.hi))},N.prototype.writeSfixed64String=N.prototype.qb,N.prototype.L=function(i,a){a!=null&&(Gt(this,i,5),this.a.L(a))},N.prototype.writeFloat=N.prototype.L,N.prototype.J=function(i,a){a!=null&&(Gt(this,i,1),this.a.J(a))},N.prototype.writeDouble=N.prototype.J,N.prototype.I=function(i,a){a!=null&&(T(typeof a=="boolean"||typeof a=="number"),Gt(this,i,0),this.a.I(a))},N.prototype.writeBool=N.prototype.I,N.prototype.R=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),Gt(this,i,0),this.a.M(a))},N.prototype.writeEnum=N.prototype.R,N.prototype.U=function(i,a){a!=null&&(i=ie(this,i),this.a.U(a),re(this,i))},N.prototype.writeString=N.prototype.U,N.prototype.ja=function(i,a){a!=null&&(a=D(a),Gt(this,i,2),this.a.j(a.length),dr(this,a))},N.prototype.writeBytes=N.prototype.ja,N.prototype.Rc=function(i,a,y){a!=null&&(i=ie(this,i),y(a,this),re(this,i))},N.prototype.writeMessage=N.prototype.Rc,N.prototype.Sc=function(i,a,y){a!=null&&(Gt(this,1,3),Gt(this,2,0),this.a.M(i),i=ie(this,3),y(a,this),re(this,i),Gt(this,1,4))},N.prototype.writeMessageSet=N.prototype.Sc,N.prototype.Oc=function(i,a,y){a!=null&&(Gt(this,i,3),y(a,this),Gt(this,i,4))},N.prototype.writeGroup=N.prototype.Oc,N.prototype.K=function(i,a){a!=null&&(T(a.length==8),Gt(this,i,1),this.a.K(a))},N.prototype.writeFixedHash64=N.prototype.K,N.prototype.N=function(i,a){a!=null&&(T(a.length==8),Gt(this,i,0),this.a.N(a))},N.prototype.writeVarintHash64=N.prototype.N,N.prototype.A=function(i,a,y){Gt(this,i,1),this.a.A(a,y)},N.prototype.writeSplitFixed64=N.prototype.A,N.prototype.l=function(i,a,y){Gt(this,i,0),this.a.l(a,y)},N.prototype.writeSplitVarint64=N.prototype.l,N.prototype.tb=function(i,a,y){Gt(this,i,0);var S=this.a;F(a,y,function(G,dt){S.l(G>>>0,dt>>>0)})},N.prototype.writeSplitZigzagVarint64=N.prototype.tb,N.prototype.Ed=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)Ge(this,i,a[y])},N.prototype.writeRepeatedInt32=N.prototype.Ed,N.prototype.Fd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ob(i,a[y])},N.prototype.writeRepeatedInt32String=N.prototype.Fd,N.prototype.Gd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var S=a[y];S!=null&&(Gt(this,i,0),this.a.ua(S))}},N.prototype.writeRepeatedInt64=N.prototype.Gd,N.prototype.Qd=function(i,a,y,S){if(a!=null)for(var G=0;G<a.length;G++)this.A(i,y(a[G]),S(a[G]))},N.prototype.writeRepeatedSplitFixed64=N.prototype.Qd,N.prototype.Rd=function(i,a,y,S){if(a!=null)for(var G=0;G<a.length;G++)this.l(i,y(a[G]),S(a[G]))},N.prototype.writeRepeatedSplitVarint64=N.prototype.Rd,N.prototype.Sd=function(i,a,y,S){if(a!=null)for(var G=0;G<a.length;G++)this.tb(i,y(a[G]),S(a[G]))},N.prototype.writeRepeatedSplitZigzagVarint64=N.prototype.Sd,N.prototype.Hd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ka(i,a[y])},N.prototype.writeRepeatedInt64String=N.prototype.Hd,N.prototype.Ud=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)Re(this,i,a[y])},N.prototype.writeRepeatedUint32=N.prototype.Ud,N.prototype.Vd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ub(i,a[y])},N.prototype.writeRepeatedUint32String=N.prototype.Vd,N.prototype.Wd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var S=a[y];S!=null&&(Gt(this,i,0),this.a.va(S))}},N.prototype.writeRepeatedUint64=N.prototype.Wd,N.prototype.Xd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.vb(i,a[y])},N.prototype.writeRepeatedUint64String=N.prototype.Xd,N.prototype.Md=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var S=a[y];S!=null&&(Gt(this,i,0),this.a.wa(S))}},N.prototype.writeRepeatedSint32=N.prototype.Md,N.prototype.Nd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var S=a[y];S!=null&&(Gt(this,i,0),this.a.xa(S))}},N.prototype.writeRepeatedSint64=N.prototype.Nd,N.prototype.Od=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var S=a[y];S!=null&&(Gt(this,i,0),this.a.Ta(S))}},N.prototype.writeRepeatedSint64String=N.prototype.Od,N.prototype.Pd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var S=a[y];S!=null&&(Gt(this,i,0),this.a.W(S))}},N.prototype.writeRepeatedSintHash64=N.prototype.Pd,N.prototype.yd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Pa(i,a[y])},N.prototype.writeRepeatedFixed32=N.prototype.yd,N.prototype.zd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Qa(i,a[y])},N.prototype.writeRepeatedFixed64=N.prototype.zd,N.prototype.Ad=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.nb(i,a[y])},N.prototype.writeRepeatedFixed64String=N.prototype.Ad,N.prototype.Jd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Ra(i,a[y])},N.prototype.writeRepeatedSfixed32=N.prototype.Jd,N.prototype.Kd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Sa(i,a[y])},N.prototype.writeRepeatedSfixed64=N.prototype.Kd,N.prototype.Ld=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.qb(i,a[y])},N.prototype.writeRepeatedSfixed64String=N.prototype.Ld,N.prototype.Cd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.L(i,a[y])},N.prototype.writeRepeatedFloat=N.prototype.Cd,N.prototype.wd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.J(i,a[y])},N.prototype.writeRepeatedDouble=N.prototype.wd,N.prototype.ud=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.I(i,a[y])},N.prototype.writeRepeatedBool=N.prototype.ud,N.prototype.xd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.R(i,a[y])},N.prototype.writeRepeatedEnum=N.prototype.xd,N.prototype.Td=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.U(i,a[y])},N.prototype.writeRepeatedString=N.prototype.Td,N.prototype.vd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ja(i,a[y])},N.prototype.writeRepeatedBytes=N.prototype.vd,N.prototype.Id=function(i,a,y){if(a!=null)for(var S=0;S<a.length;S++){var G=ie(this,i);y(a[S],this),re(this,G)}},N.prototype.writeRepeatedMessage=N.prototype.Id,N.prototype.Dd=function(i,a,y){if(a!=null)for(var S=0;S<a.length;S++)Gt(this,i,3),y(a[S],this),Gt(this,i,4)},N.prototype.writeRepeatedGroup=N.prototype.Dd,N.prototype.Bd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.K(i,a[y])},N.prototype.writeRepeatedFixedHash64=N.prototype.Bd,N.prototype.Yd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.N(i,a[y])},N.prototype.writeRepeatedVarintHash64=N.prototype.Yd,N.prototype.ad=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.M(a[y]);re(this,i)}},N.prototype.writePackedInt32=N.prototype.ad,N.prototype.bd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.M(parseInt(a[y],10));re(this,i)}},N.prototype.writePackedInt32String=N.prototype.bd,N.prototype.cd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.ua(a[y]);re(this,i)}},N.prototype.writePackedInt64=N.prototype.cd,N.prototype.md=function(i,a,y,S){if(a!=null){i=ie(this,i);for(var G=0;G<a.length;G++)this.a.A(y(a[G]),S(a[G]));re(this,i)}},N.prototype.writePackedSplitFixed64=N.prototype.md,N.prototype.nd=function(i,a,y,S){if(a!=null){i=ie(this,i);for(var G=0;G<a.length;G++)this.a.l(y(a[G]),S(a[G]));re(this,i)}},N.prototype.writePackedSplitVarint64=N.prototype.nd,N.prototype.od=function(i,a,y,S){if(a!=null){i=ie(this,i);for(var G=this.a,dt=0;dt<a.length;dt++)F(y(a[dt]),S(a[dt]),function(Rt,qt){G.l(Rt>>>0,qt>>>0)});re(this,i)}},N.prototype.writePackedSplitZigzagVarint64=N.prototype.od,N.prototype.dd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++){var S=Xe(a[y]);this.a.l(S.lo,S.hi)}re(this,i)}},N.prototype.writePackedInt64String=N.prototype.dd,N.prototype.pd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.j(a[y]);re(this,i)}},N.prototype.writePackedUint32=N.prototype.pd,N.prototype.qd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.j(parseInt(a[y],10));re(this,i)}},N.prototype.writePackedUint32String=N.prototype.qd,N.prototype.rd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.va(a[y]);re(this,i)}},N.prototype.writePackedUint64=N.prototype.rd,N.prototype.sd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++){var S=Qe(a[y]);this.a.l(S.lo,S.hi)}re(this,i)}},N.prototype.writePackedUint64String=N.prototype.sd,N.prototype.hd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.wa(a[y]);re(this,i)}},N.prototype.writePackedSint32=N.prototype.hd,N.prototype.jd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.xa(a[y]);re(this,i)}},N.prototype.writePackedSint64=N.prototype.jd,N.prototype.kd=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.W(h(a[y]));re(this,i)}},N.prototype.writePackedSint64String=N.prototype.kd,N.prototype.ld=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.W(a[y]);re(this,i)}},N.prototype.writePackedSintHash64=N.prototype.ld,N.prototype.Wc=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.s(a[i])},N.prototype.writePackedFixed32=N.prototype.Wc,N.prototype.Xc=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.V(a[i])},N.prototype.writePackedFixed64=N.prototype.Xc,N.prototype.Yc=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++){var y=Qe(a[i]);this.a.A(y.lo,y.hi)}},N.prototype.writePackedFixed64String=N.prototype.Yc,N.prototype.ed=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.S(a[i])},N.prototype.writePackedSfixed32=N.prototype.ed,N.prototype.fd=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.T(a[i])},N.prototype.writePackedSfixed64=N.prototype.fd,N.prototype.gd=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.ka(a[i])},N.prototype.writePackedSfixed64String=N.prototype.gd,N.prototype.$c=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.L(a[i])},N.prototype.writePackedFloat=N.prototype.$c,N.prototype.Uc=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.J(a[i])},N.prototype.writePackedDouble=N.prototype.Uc,N.prototype.Tc=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(a.length),i=0;i<a.length;i++)this.a.I(a[i])},N.prototype.writePackedBool=N.prototype.Tc,N.prototype.Vc=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.R(a[y]);re(this,i)}},N.prototype.writePackedEnum=N.prototype.Vc,N.prototype.Zc=function(i,a){if(a!=null&&a.length)for(Gt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.K(a[i])},N.prototype.writePackedFixedHash64=N.prototype.Zc,N.prototype.td=function(i,a){if(a!=null&&a.length){i=ie(this,i);for(var y=0;y<a.length;y++)this.a.N(a[y]);re(this,i)}},N.prototype.writePackedVarintHash64=N.prototype.td,t.debug=Ee,t.Map=Z,t.Message=Ct,t.BinaryReader=P,t.BinaryWriter=N,t.ExtensionFieldInfo=Ut,t.ExtensionFieldBinaryInfo=Zt,t.exportSymbol=I,t.inherits=x,t.object={extend:z},t.typeOf=w}(Dr)),Dr}var E=Ac();const xc=np(E),Fc=mp({__proto__:null,default:xc},[E]);var vt=Fc,Jt=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof Jt<"u"&&Jt||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();vt.exportSymbol("proto.proto.mdds.v1.BoardEvent",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.ChangeOfContract",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.CouponPaymentDate",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.DeemTradePrice",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.DelistedInstrument",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Disclosure",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.ELWUnderlyingAssets",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.ETFIndexComposition",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.ETFTrackingError",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.ETFiIndex",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.ETFiNav",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.ForeignerOrderLimit",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Holiday",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Index",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.IndexConstituentsInformation",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.InstrumentDerivatives",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.InstrumentSBR",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.InvestorPerIndustry",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.InvestorPerSymbol",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.MarketIndex",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.MarketMakerInformation",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.MarketMakingContract",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.MemberTrader",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.OpenInterest",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Price",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.PriceLimitExpansion",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.PriceRecovery",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.RandomEnd",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.SecurityDefinition",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.SecurityInformationNotification",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.SecurityStatus",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.StockInfo",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.SymbolBoardEvent",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.SymbolClosingInformation",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.SymbolEvent",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Tick",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Tick.Side",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Timestamp",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TopNMembersPerSymbol",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TopPrice",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TradingResultOfForeignInvestor",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.TradingSchedule",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.VolatilityInterruption",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Wrapper",null,Jt);vt.exportSymbol("proto.proto.mdds.v1.Wrapper.KindCase",null,Jt);proto.proto.mdds.v1.Wrapper=function(t){E.Message.initialize(this,t,0,-1,null,proto.proto.mdds.v1.Wrapper.oneofGroups_)};vt.inherits(proto.proto.mdds.v1.Wrapper,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Wrapper.displayName="proto.proto.mdds.v1.Wrapper");proto.proto.mdds.v1.SecurityDefinition=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SecurityDefinition,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityDefinition.displayName="proto.proto.mdds.v1.SecurityDefinition");proto.proto.mdds.v1.SecurityStatus=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SecurityStatus,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityStatus.displayName="proto.proto.mdds.v1.SecurityStatus");proto.proto.mdds.v1.SecurityInformationNotification=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SecurityInformationNotification,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityInformationNotification.displayName="proto.proto.mdds.v1.SecurityInformationNotification");proto.proto.mdds.v1.SymbolClosingInformation=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SymbolClosingInformation,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolClosingInformation.displayName="proto.proto.mdds.v1.SymbolClosingInformation");proto.proto.mdds.v1.VolatilityInterruption=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.VolatilityInterruption,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.VolatilityInterruption.displayName="proto.proto.mdds.v1.VolatilityInterruption");proto.proto.mdds.v1.MarketMakerInformation=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MarketMakerInformation,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakerInformation.displayName="proto.proto.mdds.v1.MarketMakerInformation");proto.proto.mdds.v1.SymbolEvent=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SymbolEvent,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolEvent.displayName="proto.proto.mdds.v1.SymbolEvent");proto.proto.mdds.v1.IndexConstituentsInformation=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.IndexConstituentsInformation,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.IndexConstituentsInformation.displayName="proto.proto.mdds.v1.IndexConstituentsInformation");proto.proto.mdds.v1.RandomEnd=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.RandomEnd,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.RandomEnd.displayName="proto.proto.mdds.v1.RandomEnd");proto.proto.mdds.v1.Price=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Price,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Price.displayName="proto.proto.mdds.v1.Price");proto.proto.mdds.v1.PriceRecovery=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.PriceRecovery,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceRecovery.displayName="proto.proto.mdds.v1.PriceRecovery");proto.proto.mdds.v1.Index=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Index,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Index.displayName="proto.proto.mdds.v1.Index");proto.proto.mdds.v1.InvestorPerIndustry=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InvestorPerIndustry,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerIndustry.displayName="proto.proto.mdds.v1.InvestorPerIndustry");proto.proto.mdds.v1.InvestorPerSymbol=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InvestorPerSymbol,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerSymbol.displayName="proto.proto.mdds.v1.InvestorPerSymbol");proto.proto.mdds.v1.TopNMembersPerSymbol=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNMembersPerSymbol,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNMembersPerSymbol.displayName="proto.proto.mdds.v1.TopNMembersPerSymbol");proto.proto.mdds.v1.OpenInterest=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.OpenInterest,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.OpenInterest.displayName="proto.proto.mdds.v1.OpenInterest");proto.proto.mdds.v1.DeemTradePrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.DeemTradePrice,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DeemTradePrice.displayName="proto.proto.mdds.v1.DeemTradePrice");proto.proto.mdds.v1.ForeignerOrderLimit=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ForeignerOrderLimit,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ForeignerOrderLimit.displayName="proto.proto.mdds.v1.ForeignerOrderLimit");proto.proto.mdds.v1.PriceLimitExpansion=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.PriceLimitExpansion,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceLimitExpansion.displayName="proto.proto.mdds.v1.PriceLimitExpansion");proto.proto.mdds.v1.ETFiNav=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFiNav,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiNav.displayName="proto.proto.mdds.v1.ETFiNav");proto.proto.mdds.v1.ETFiIndex=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFiIndex,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiIndex.displayName="proto.proto.mdds.v1.ETFiIndex");proto.proto.mdds.v1.ETFTrackingError=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFTrackingError,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFTrackingError.displayName="proto.proto.mdds.v1.ETFTrackingError");proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.displayName="proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity");proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice");proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice");proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice");proto.proto.mdds.v1.TradingResultOfForeignInvestor=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TradingResultOfForeignInvestor,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.displayName="proto.proto.mdds.v1.TradingResultOfForeignInvestor");proto.proto.mdds.v1.Disclosure=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Disclosure,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Disclosure.displayName="proto.proto.mdds.v1.Disclosure");proto.proto.mdds.v1.DelistedInstrument=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.DelistedInstrument,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DelistedInstrument.displayName="proto.proto.mdds.v1.DelistedInstrument");proto.proto.mdds.v1.CouponPaymentDate=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.CouponPaymentDate,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.CouponPaymentDate.displayName="proto.proto.mdds.v1.CouponPaymentDate");proto.proto.mdds.v1.ChangeOfContract=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ChangeOfContract,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ChangeOfContract.displayName="proto.proto.mdds.v1.ChangeOfContract");proto.proto.mdds.v1.InstrumentDerivatives=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InstrumentDerivatives,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentDerivatives.displayName="proto.proto.mdds.v1.InstrumentDerivatives");proto.proto.mdds.v1.InstrumentSBR=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InstrumentSBR,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentSBR.displayName="proto.proto.mdds.v1.InstrumentSBR");proto.proto.mdds.v1.TradingSchedule=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TradingSchedule,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingSchedule.displayName="proto.proto.mdds.v1.TradingSchedule");proto.proto.mdds.v1.Holiday=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Holiday,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Holiday.displayName="proto.proto.mdds.v1.Holiday");proto.proto.mdds.v1.MemberTrader=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MemberTrader,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MemberTrader.displayName="proto.proto.mdds.v1.MemberTrader");proto.proto.mdds.v1.MarketMakingContract=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MarketMakingContract,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakingContract.displayName="proto.proto.mdds.v1.MarketMakingContract");proto.proto.mdds.v1.ETFIndexComposition=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFIndexComposition,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFIndexComposition.displayName="proto.proto.mdds.v1.ETFIndexComposition");proto.proto.mdds.v1.ELWUnderlyingAssets=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ELWUnderlyingAssets,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ELWUnderlyingAssets.displayName="proto.proto.mdds.v1.ELWUnderlyingAssets");proto.proto.mdds.v1.StockInfo=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.StockInfo,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.StockInfo.displayName="proto.proto.mdds.v1.StockInfo");proto.proto.mdds.v1.MarketIndex=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MarketIndex,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketIndex.displayName="proto.proto.mdds.v1.MarketIndex");proto.proto.mdds.v1.BoardEvent=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.BoardEvent,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.BoardEvent.displayName="proto.proto.mdds.v1.BoardEvent");proto.proto.mdds.v1.SymbolBoardEvent=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SymbolBoardEvent,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolBoardEvent.displayName="proto.proto.mdds.v1.SymbolBoardEvent");proto.proto.mdds.v1.Tick=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Tick,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Tick.displayName="proto.proto.mdds.v1.Tick");proto.proto.mdds.v1.TopPrice=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopPrice,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopPrice.displayName="proto.proto.mdds.v1.TopPrice");proto.proto.mdds.v1.Timestamp=function(t){E.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Timestamp,E.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Timestamp.displayName="proto.proto.mdds.v1.Timestamp");proto.proto.mdds.v1.Wrapper.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]];proto.proto.mdds.v1.Wrapper.KindCase={KIND_NOT_SET:0,SECURITYDEFINITION:1,SECURITYSTATUS:2,SECURITYINFORMATIONNOTIFICATION:3,SYMBOLCLOSINGINFORMATION:4,VOLATILITYINTERRUPTION:5,MARKETMAKERINFORMATION:6,SYMBOLEVENT:7,INDEXCONSTITUENTSINFORMATION:8,RANDOMEND:9,PRICE:10,PRICERECOVERY:11,INDEX:12,INVESTORPERINDUSTRY:13,INVESTORPERSYMBOL:14,TOPNMEMBERSPERSYMBOL:15,OPENINTEREST:16,DEEMTRADEPRICE:17,FOREIGNERORDERLIMIT:18,PRICELIMITEXPANSION:19,ETFINAV:20,ETFIINDEX:21,ETFTRACKINGERROR:22,TOPNSYMBOLSWITHTRADINGQUANTITY:23,TOPNSYMBOLSWITHCURRENTPRICE:24,TOPNSYMBOLSWITHHIGHRATIOOFPRICE:25,TOPNSYMBOLSWITHLOWRATIOOFPRICE:26,TRADINGRESULTOFFOREIGNINVESTOR:27,DISCLOSURE:28,TIMESTAMP:29,DELISTEDINSTRUMENT:30,COUPONPAYMENTDATE:31,CHANGEOFCONTRACT:32,INSTRUMENTDERIVATIVES:33,INSTRUMENTSBR:34,TRADINGSCHEDULE:35,HOLIDAY:36,MEMBERTRADER:37,MARKETMAKINGCONTRACT:38,ETFINDEXCOMPOSITION:39,ELWUNDERLYINGASSETS:40,STOCKINFO:41,MARKETINDEX:42,BOARDEVENT:43,SYMBOLBOARDEVENT:44,TICK:45,TOPPRICE:46};proto.proto.mdds.v1.Wrapper.prototype.getKindCase=function(){return E.Message.computeOneofCase(this,proto.proto.mdds.v1.Wrapper.oneofGroups_[0])};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Wrapper.prototype.toObject=function(t){return proto.proto.mdds.v1.Wrapper.toObject(t,this)},proto.proto.mdds.v1.Wrapper.toObject=function(t,o){var e,p={securitydefinition:(e=o.getSecuritydefinition())&&proto.proto.mdds.v1.SecurityDefinition.toObject(t,e),securitystatus:(e=o.getSecuritystatus())&&proto.proto.mdds.v1.SecurityStatus.toObject(t,e),securityinformationnotification:(e=o.getSecurityinformationnotification())&&proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,e),symbolclosinginformation:(e=o.getSymbolclosinginformation())&&proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,e),volatilityinterruption:(e=o.getVolatilityinterruption())&&proto.proto.mdds.v1.VolatilityInterruption.toObject(t,e),marketmakerinformation:(e=o.getMarketmakerinformation())&&proto.proto.mdds.v1.MarketMakerInformation.toObject(t,e),symbolevent:(e=o.getSymbolevent())&&proto.proto.mdds.v1.SymbolEvent.toObject(t,e),indexconstituentsinformation:(e=o.getIndexconstituentsinformation())&&proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,e),randomend:(e=o.getRandomend())&&proto.proto.mdds.v1.RandomEnd.toObject(t,e),price:(e=o.getPrice())&&proto.proto.mdds.v1.Price.toObject(t,e),pricerecovery:(e=o.getPricerecovery())&&proto.proto.mdds.v1.PriceRecovery.toObject(t,e),index:(e=o.getIndex())&&proto.proto.mdds.v1.Index.toObject(t,e),investorperindustry:(e=o.getInvestorperindustry())&&proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,e),investorpersymbol:(e=o.getInvestorpersymbol())&&proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,e),topnmemberspersymbol:(e=o.getTopnmemberspersymbol())&&proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,e),openinterest:(e=o.getOpeninterest())&&proto.proto.mdds.v1.OpenInterest.toObject(t,e),deemtradeprice:(e=o.getDeemtradeprice())&&proto.proto.mdds.v1.DeemTradePrice.toObject(t,e),foreignerorderlimit:(e=o.getForeignerorderlimit())&&proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,e),pricelimitexpansion:(e=o.getPricelimitexpansion())&&proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,e),etfinav:(e=o.getEtfinav())&&proto.proto.mdds.v1.ETFiNav.toObject(t,e),etfiindex:(e=o.getEtfiindex())&&proto.proto.mdds.v1.ETFiIndex.toObject(t,e),etftrackingerror:(e=o.getEtftrackingerror())&&proto.proto.mdds.v1.ETFTrackingError.toObject(t,e),topnsymbolswithtradingquantity:(e=o.getTopnsymbolswithtradingquantity())&&proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,e),topnsymbolswithcurrentprice:(e=o.getTopnsymbolswithcurrentprice())&&proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,e),topnsymbolswithhighratioofprice:(e=o.getTopnsymbolswithhighratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,e),topnsymbolswithlowratioofprice:(e=o.getTopnsymbolswithlowratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,e),tradingresultofforeigninvestor:(e=o.getTradingresultofforeigninvestor())&&proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,e),disclosure:(e=o.getDisclosure())&&proto.proto.mdds.v1.Disclosure.toObject(t,e),timestamp:(e=o.getTimestamp())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),delistedinstrument:(e=o.getDelistedinstrument())&&proto.proto.mdds.v1.DelistedInstrument.toObject(t,e),couponpaymentdate:(e=o.getCouponpaymentdate())&&proto.proto.mdds.v1.CouponPaymentDate.toObject(t,e),changeofcontract:(e=o.getChangeofcontract())&&proto.proto.mdds.v1.ChangeOfContract.toObject(t,e),instrumentderivatives:(e=o.getInstrumentderivatives())&&proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,e),instrumentsbr:(e=o.getInstrumentsbr())&&proto.proto.mdds.v1.InstrumentSBR.toObject(t,e),tradingschedule:(e=o.getTradingschedule())&&proto.proto.mdds.v1.TradingSchedule.toObject(t,e),holiday:(e=o.getHoliday())&&proto.proto.mdds.v1.Holiday.toObject(t,e),membertrader:(e=o.getMembertrader())&&proto.proto.mdds.v1.MemberTrader.toObject(t,e),marketmakingcontract:(e=o.getMarketmakingcontract())&&proto.proto.mdds.v1.MarketMakingContract.toObject(t,e),etfindexcomposition:(e=o.getEtfindexcomposition())&&proto.proto.mdds.v1.ETFIndexComposition.toObject(t,e),elwunderlyingassets:(e=o.getElwunderlyingassets())&&proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,e),stockinfo:(e=o.getStockinfo())&&proto.proto.mdds.v1.StockInfo.toObject(t,e),marketindex:(e=o.getMarketindex())&&proto.proto.mdds.v1.MarketIndex.toObject(t,e),boardevent:(e=o.getBoardevent())&&proto.proto.mdds.v1.BoardEvent.toObject(t,e),symbolboardevent:(e=o.getSymbolboardevent())&&proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,e),tick:(e=o.getTick())&&proto.proto.mdds.v1.Tick.toObject(t,e),topprice:(e=o.getTopprice())&&proto.proto.mdds.v1.TopPrice.toObject(t,e)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Wrapper.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Wrapper;return proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=new proto.proto.mdds.v1.SecurityDefinition;o.readMessage(p,proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader),t.setSecuritydefinition(p);break;case 2:var p=new proto.proto.mdds.v1.SecurityStatus;o.readMessage(p,proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader),t.setSecuritystatus(p);break;case 3:var p=new proto.proto.mdds.v1.SecurityInformationNotification;o.readMessage(p,proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader),t.setSecurityinformationnotification(p);break;case 4:var p=new proto.proto.mdds.v1.SymbolClosingInformation;o.readMessage(p,proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader),t.setSymbolclosinginformation(p);break;case 5:var p=new proto.proto.mdds.v1.VolatilityInterruption;o.readMessage(p,proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader),t.setVolatilityinterruption(p);break;case 6:var p=new proto.proto.mdds.v1.MarketMakerInformation;o.readMessage(p,proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader),t.setMarketmakerinformation(p);break;case 7:var p=new proto.proto.mdds.v1.SymbolEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader),t.setSymbolevent(p);break;case 8:var p=new proto.proto.mdds.v1.IndexConstituentsInformation;o.readMessage(p,proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader),t.setIndexconstituentsinformation(p);break;case 9:var p=new proto.proto.mdds.v1.RandomEnd;o.readMessage(p,proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader),t.setRandomend(p);break;case 10:var p=new proto.proto.mdds.v1.Price;o.readMessage(p,proto.proto.mdds.v1.Price.deserializeBinaryFromReader),t.setPrice(p);break;case 11:var p=new proto.proto.mdds.v1.PriceRecovery;o.readMessage(p,proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader),t.setPricerecovery(p);break;case 12:var p=new proto.proto.mdds.v1.Index;o.readMessage(p,proto.proto.mdds.v1.Index.deserializeBinaryFromReader),t.setIndex(p);break;case 13:var p=new proto.proto.mdds.v1.InvestorPerIndustry;o.readMessage(p,proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader),t.setInvestorperindustry(p);break;case 14:var p=new proto.proto.mdds.v1.InvestorPerSymbol;o.readMessage(p,proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader),t.setInvestorpersymbol(p);break;case 15:var p=new proto.proto.mdds.v1.TopNMembersPerSymbol;o.readMessage(p,proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader),t.setTopnmemberspersymbol(p);break;case 16:var p=new proto.proto.mdds.v1.OpenInterest;o.readMessage(p,proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader),t.setOpeninterest(p);break;case 17:var p=new proto.proto.mdds.v1.DeemTradePrice;o.readMessage(p,proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader),t.setDeemtradeprice(p);break;case 18:var p=new proto.proto.mdds.v1.ForeignerOrderLimit;o.readMessage(p,proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader),t.setForeignerorderlimit(p);break;case 19:var p=new proto.proto.mdds.v1.PriceLimitExpansion;o.readMessage(p,proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader),t.setPricelimitexpansion(p);break;case 20:var p=new proto.proto.mdds.v1.ETFiNav;o.readMessage(p,proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader),t.setEtfinav(p);break;case 21:var p=new proto.proto.mdds.v1.ETFiIndex;o.readMessage(p,proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader),t.setEtfiindex(p);break;case 22:var p=new proto.proto.mdds.v1.ETFTrackingError;o.readMessage(p,proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader),t.setEtftrackingerror(p);break;case 23:var p=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader),t.setTopnsymbolswithtradingquantity(p);break;case 24:var p=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader),t.setTopnsymbolswithcurrentprice(p);break;case 25:var p=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithhighratioofprice(p);break;case 26:var p=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithlowratioofprice(p);break;case 27:var p=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;o.readMessage(p,proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader),t.setTradingresultofforeigninvestor(p);break;case 28:var p=new proto.proto.mdds.v1.Disclosure;o.readMessage(p,proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader),t.setDisclosure(p);break;case 29:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setTimestamp(p);break;case 30:var p=new proto.proto.mdds.v1.DelistedInstrument;o.readMessage(p,proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader),t.setDelistedinstrument(p);break;case 31:var p=new proto.proto.mdds.v1.CouponPaymentDate;o.readMessage(p,proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader),t.setCouponpaymentdate(p);break;case 32:var p=new proto.proto.mdds.v1.ChangeOfContract;o.readMessage(p,proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader),t.setChangeofcontract(p);break;case 33:var p=new proto.proto.mdds.v1.InstrumentDerivatives;o.readMessage(p,proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader),t.setInstrumentderivatives(p);break;case 34:var p=new proto.proto.mdds.v1.InstrumentSBR;o.readMessage(p,proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader),t.setInstrumentsbr(p);break;case 35:var p=new proto.proto.mdds.v1.TradingSchedule;o.readMessage(p,proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader),t.setTradingschedule(p);break;case 36:var p=new proto.proto.mdds.v1.Holiday;o.readMessage(p,proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader),t.setHoliday(p);break;case 37:var p=new proto.proto.mdds.v1.MemberTrader;o.readMessage(p,proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader),t.setMembertrader(p);break;case 38:var p=new proto.proto.mdds.v1.MarketMakingContract;o.readMessage(p,proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader),t.setMarketmakingcontract(p);break;case 39:var p=new proto.proto.mdds.v1.ETFIndexComposition;o.readMessage(p,proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader),t.setEtfindexcomposition(p);break;case 40:var p=new proto.proto.mdds.v1.ELWUnderlyingAssets;o.readMessage(p,proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader),t.setElwunderlyingassets(p);break;case 41:var p=new proto.proto.mdds.v1.StockInfo;o.readMessage(p,proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader),t.setStockinfo(p);break;case 42:var p=new proto.proto.mdds.v1.MarketIndex;o.readMessage(p,proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader),t.setMarketindex(p);break;case 43:var p=new proto.proto.mdds.v1.BoardEvent;o.readMessage(p,proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader),t.setBoardevent(p);break;case 44:var p=new proto.proto.mdds.v1.SymbolBoardEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader),t.setSymbolboardevent(p);break;case 45:var p=new proto.proto.mdds.v1.Tick;o.readMessage(p,proto.proto.mdds.v1.Tick.deserializeBinaryFromReader),t.setTick(p);break;case 46:var p=new proto.proto.mdds.v1.TopPrice;o.readMessage(p,proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader),t.setTopprice(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Wrapper.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSecuritydefinition(),e!=null&&o.writeMessage(1,e,proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter),e=t.getSecuritystatus(),e!=null&&o.writeMessage(2,e,proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter),e=t.getSecurityinformationnotification(),e!=null&&o.writeMessage(3,e,proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter),e=t.getSymbolclosinginformation(),e!=null&&o.writeMessage(4,e,proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter),e=t.getVolatilityinterruption(),e!=null&&o.writeMessage(5,e,proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter),e=t.getMarketmakerinformation(),e!=null&&o.writeMessage(6,e,proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter),e=t.getSymbolevent(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter),e=t.getIndexconstituentsinformation(),e!=null&&o.writeMessage(8,e,proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter),e=t.getRandomend(),e!=null&&o.writeMessage(9,e,proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter),e=t.getPrice(),e!=null&&o.writeMessage(10,e,proto.proto.mdds.v1.Price.serializeBinaryToWriter),e=t.getPricerecovery(),e!=null&&o.writeMessage(11,e,proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter),e=t.getIndex(),e!=null&&o.writeMessage(12,e,proto.proto.mdds.v1.Index.serializeBinaryToWriter),e=t.getInvestorperindustry(),e!=null&&o.writeMessage(13,e,proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter),e=t.getInvestorpersymbol(),e!=null&&o.writeMessage(14,e,proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter),e=t.getTopnmemberspersymbol(),e!=null&&o.writeMessage(15,e,proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter),e=t.getOpeninterest(),e!=null&&o.writeMessage(16,e,proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter),e=t.getDeemtradeprice(),e!=null&&o.writeMessage(17,e,proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter),e=t.getForeignerorderlimit(),e!=null&&o.writeMessage(18,e,proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter),e=t.getPricelimitexpansion(),e!=null&&o.writeMessage(19,e,proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter),e=t.getEtfinav(),e!=null&&o.writeMessage(20,e,proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter),e=t.getEtfiindex(),e!=null&&o.writeMessage(21,e,proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter),e=t.getEtftrackingerror(),e!=null&&o.writeMessage(22,e,proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter),e=t.getTopnsymbolswithtradingquantity(),e!=null&&o.writeMessage(23,e,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter),e=t.getTopnsymbolswithcurrentprice(),e!=null&&o.writeMessage(24,e,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithhighratioofprice(),e!=null&&o.writeMessage(25,e,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithlowratioofprice(),e!=null&&o.writeMessage(26,e,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter),e=t.getTradingresultofforeigninvestor(),e!=null&&o.writeMessage(27,e,proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter),e=t.getDisclosure(),e!=null&&o.writeMessage(28,e,proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter),e=t.getTimestamp(),e!=null&&o.writeMessage(29,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getDelistedinstrument(),e!=null&&o.writeMessage(30,e,proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter),e=t.getCouponpaymentdate(),e!=null&&o.writeMessage(31,e,proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter),e=t.getChangeofcontract(),e!=null&&o.writeMessage(32,e,proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter),e=t.getInstrumentderivatives(),e!=null&&o.writeMessage(33,e,proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter),e=t.getInstrumentsbr(),e!=null&&o.writeMessage(34,e,proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter),e=t.getTradingschedule(),e!=null&&o.writeMessage(35,e,proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter),e=t.getHoliday(),e!=null&&o.writeMessage(36,e,proto.proto.mdds.v1.Holiday.serializeBinaryToWriter),e=t.getMembertrader(),e!=null&&o.writeMessage(37,e,proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter),e=t.getMarketmakingcontract(),e!=null&&o.writeMessage(38,e,proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter),e=t.getEtfindexcomposition(),e!=null&&o.writeMessage(39,e,proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter),e=t.getElwunderlyingassets(),e!=null&&o.writeMessage(40,e,proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter),e=t.getStockinfo(),e!=null&&o.writeMessage(41,e,proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter),e=t.getMarketindex(),e!=null&&o.writeMessage(42,e,proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter),e=t.getBoardevent(),e!=null&&o.writeMessage(43,e,proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter),e=t.getSymbolboardevent(),e!=null&&o.writeMessage(44,e,proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter),e=t.getTick(),e!=null&&o.writeMessage(45,e,proto.proto.mdds.v1.Tick.serializeBinaryToWriter),e=t.getTopprice(),e!=null&&o.writeMessage(46,e,proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter)};proto.proto.mdds.v1.Wrapper.prototype.getSecuritydefinition=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityDefinition,1)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritydefinition=function(t){return E.Message.setOneofWrapperField(this,1,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritydefinition=function(){return this.setSecuritydefinition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritydefinition=function(){return E.Message.getField(this,1)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecuritystatus=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityStatus,2)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritystatus=function(t){return E.Message.setOneofWrapperField(this,2,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritystatus=function(){return this.setSecuritystatus(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritystatus=function(){return E.Message.getField(this,2)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecurityinformationnotification=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityInformationNotification,3)};proto.proto.mdds.v1.Wrapper.prototype.setSecurityinformationnotification=function(t){return E.Message.setOneofWrapperField(this,3,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecurityinformationnotification=function(){return this.setSecurityinformationnotification(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecurityinformationnotification=function(){return E.Message.getField(this,3)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolclosinginformation=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolClosingInformation,4)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolclosinginformation=function(t){return E.Message.setOneofWrapperField(this,4,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolclosinginformation=function(){return this.setSymbolclosinginformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolclosinginformation=function(){return E.Message.getField(this,4)!=null};proto.proto.mdds.v1.Wrapper.prototype.getVolatilityinterruption=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.VolatilityInterruption,5)};proto.proto.mdds.v1.Wrapper.prototype.setVolatilityinterruption=function(t){return E.Message.setOneofWrapperField(this,5,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearVolatilityinterruption=function(){return this.setVolatilityinterruption(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasVolatilityinterruption=function(){return E.Message.getField(this,5)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakerinformation=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakerInformation,6)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakerinformation=function(t){return E.Message.setOneofWrapperField(this,6,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakerinformation=function(){return this.setMarketmakerinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakerinformation=function(){return E.Message.getField(this,6)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolevent=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolEvent,7)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolevent=function(t){return E.Message.setOneofWrapperField(this,7,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolevent=function(){return this.setSymbolevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolevent=function(){return E.Message.getField(this,7)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndexconstituentsinformation=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.IndexConstituentsInformation,8)};proto.proto.mdds.v1.Wrapper.prototype.setIndexconstituentsinformation=function(t){return E.Message.setOneofWrapperField(this,8,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndexconstituentsinformation=function(){return this.setIndexconstituentsinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndexconstituentsinformation=function(){return E.Message.getField(this,8)!=null};proto.proto.mdds.v1.Wrapper.prototype.getRandomend=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.RandomEnd,9)};proto.proto.mdds.v1.Wrapper.prototype.setRandomend=function(t){return E.Message.setOneofWrapperField(this,9,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearRandomend=function(){return this.setRandomend(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasRandomend=function(){return E.Message.getField(this,9)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPrice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Price,10)};proto.proto.mdds.v1.Wrapper.prototype.setPrice=function(t){return E.Message.setOneofWrapperField(this,10,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPrice=function(){return this.setPrice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPrice=function(){return E.Message.getField(this,10)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricerecovery=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.PriceRecovery,11)};proto.proto.mdds.v1.Wrapper.prototype.setPricerecovery=function(t){return E.Message.setOneofWrapperField(this,11,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricerecovery=function(){return this.setPricerecovery(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricerecovery=function(){return E.Message.getField(this,11)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndex=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Index,12)};proto.proto.mdds.v1.Wrapper.prototype.setIndex=function(t){return E.Message.setOneofWrapperField(this,12,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndex=function(){return this.setIndex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndex=function(){return E.Message.getField(this,12)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorperindustry=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerIndustry,13)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorperindustry=function(t){return E.Message.setOneofWrapperField(this,13,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorperindustry=function(){return this.setInvestorperindustry(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorperindustry=function(){return E.Message.getField(this,13)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorpersymbol=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerSymbol,14)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorpersymbol=function(t){return E.Message.setOneofWrapperField(this,14,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorpersymbol=function(){return this.setInvestorpersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorpersymbol=function(){return E.Message.getField(this,14)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnmemberspersymbol=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNMembersPerSymbol,15)};proto.proto.mdds.v1.Wrapper.prototype.setTopnmemberspersymbol=function(t){return E.Message.setOneofWrapperField(this,15,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnmemberspersymbol=function(){return this.setTopnmemberspersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnmemberspersymbol=function(){return E.Message.getField(this,15)!=null};proto.proto.mdds.v1.Wrapper.prototype.getOpeninterest=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.OpenInterest,16)};proto.proto.mdds.v1.Wrapper.prototype.setOpeninterest=function(t){return E.Message.setOneofWrapperField(this,16,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearOpeninterest=function(){return this.setOpeninterest(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasOpeninterest=function(){return E.Message.getField(this,16)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDeemtradeprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.DeemTradePrice,17)};proto.proto.mdds.v1.Wrapper.prototype.setDeemtradeprice=function(t){return E.Message.setOneofWrapperField(this,17,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDeemtradeprice=function(){return this.setDeemtradeprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDeemtradeprice=function(){return E.Message.getField(this,17)!=null};proto.proto.mdds.v1.Wrapper.prototype.getForeignerorderlimit=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ForeignerOrderLimit,18)};proto.proto.mdds.v1.Wrapper.prototype.setForeignerorderlimit=function(t){return E.Message.setOneofWrapperField(this,18,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearForeignerorderlimit=function(){return this.setForeignerorderlimit(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasForeignerorderlimit=function(){return E.Message.getField(this,18)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricelimitexpansion=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.PriceLimitExpansion,19)};proto.proto.mdds.v1.Wrapper.prototype.setPricelimitexpansion=function(t){return E.Message.setOneofWrapperField(this,19,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricelimitexpansion=function(){return this.setPricelimitexpansion(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricelimitexpansion=function(){return E.Message.getField(this,19)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfinav=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiNav,20)};proto.proto.mdds.v1.Wrapper.prototype.setEtfinav=function(t){return E.Message.setOneofWrapperField(this,20,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfinav=function(){return this.setEtfinav(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfinav=function(){return E.Message.getField(this,20)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfiindex=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiIndex,21)};proto.proto.mdds.v1.Wrapper.prototype.setEtfiindex=function(t){return E.Message.setOneofWrapperField(this,21,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfiindex=function(){return this.setEtfiindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfiindex=function(){return E.Message.getField(this,21)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtftrackingerror=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFTrackingError,22)};proto.proto.mdds.v1.Wrapper.prototype.setEtftrackingerror=function(t){return E.Message.setOneofWrapperField(this,22,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtftrackingerror=function(){return this.setEtftrackingerror(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtftrackingerror=function(){return E.Message.getField(this,22)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithtradingquantity=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,23)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithtradingquantity=function(t){return E.Message.setOneofWrapperField(this,23,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithtradingquantity=function(){return this.setTopnsymbolswithtradingquantity(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithtradingquantity=function(){return E.Message.getField(this,23)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithcurrentprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,24)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithcurrentprice=function(t){return E.Message.setOneofWrapperField(this,24,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithcurrentprice=function(){return this.setTopnsymbolswithcurrentprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithcurrentprice=function(){return E.Message.getField(this,24)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithhighratioofprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,25)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithhighratioofprice=function(t){return E.Message.setOneofWrapperField(this,25,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithhighratioofprice=function(){return this.setTopnsymbolswithhighratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithhighratioofprice=function(){return E.Message.getField(this,25)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithlowratioofprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,26)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithlowratioofprice=function(t){return E.Message.setOneofWrapperField(this,26,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithlowratioofprice=function(){return this.setTopnsymbolswithlowratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithlowratioofprice=function(){return E.Message.getField(this,26)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingresultofforeigninvestor=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TradingResultOfForeignInvestor,27)};proto.proto.mdds.v1.Wrapper.prototype.setTradingresultofforeigninvestor=function(t){return E.Message.setOneofWrapperField(this,27,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingresultofforeigninvestor=function(){return this.setTradingresultofforeigninvestor(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingresultofforeigninvestor=function(){return E.Message.getField(this,27)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDisclosure=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Disclosure,28)};proto.proto.mdds.v1.Wrapper.prototype.setDisclosure=function(t){return E.Message.setOneofWrapperField(this,28,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDisclosure=function(){return this.setDisclosure(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDisclosure=function(){return E.Message.getField(this,28)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTimestamp=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,29)};proto.proto.mdds.v1.Wrapper.prototype.setTimestamp=function(t){return E.Message.setOneofWrapperField(this,29,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTimestamp=function(){return this.setTimestamp(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTimestamp=function(){return E.Message.getField(this,29)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDelistedinstrument=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.DelistedInstrument,30)};proto.proto.mdds.v1.Wrapper.prototype.setDelistedinstrument=function(t){return E.Message.setOneofWrapperField(this,30,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDelistedinstrument=function(){return this.setDelistedinstrument(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDelistedinstrument=function(){return E.Message.getField(this,30)!=null};proto.proto.mdds.v1.Wrapper.prototype.getCouponpaymentdate=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.CouponPaymentDate,31)};proto.proto.mdds.v1.Wrapper.prototype.setCouponpaymentdate=function(t){return E.Message.setOneofWrapperField(this,31,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearCouponpaymentdate=function(){return this.setCouponpaymentdate(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasCouponpaymentdate=function(){return E.Message.getField(this,31)!=null};proto.proto.mdds.v1.Wrapper.prototype.getChangeofcontract=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ChangeOfContract,32)};proto.proto.mdds.v1.Wrapper.prototype.setChangeofcontract=function(t){return E.Message.setOneofWrapperField(this,32,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearChangeofcontract=function(){return this.setChangeofcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasChangeofcontract=function(){return E.Message.getField(this,32)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentderivatives=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentDerivatives,33)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentderivatives=function(t){return E.Message.setOneofWrapperField(this,33,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentderivatives=function(){return this.setInstrumentderivatives(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentderivatives=function(){return E.Message.getField(this,33)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentsbr=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentSBR,34)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentsbr=function(t){return E.Message.setOneofWrapperField(this,34,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentsbr=function(){return this.setInstrumentsbr(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentsbr=function(){return E.Message.getField(this,34)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingschedule=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TradingSchedule,35)};proto.proto.mdds.v1.Wrapper.prototype.setTradingschedule=function(t){return E.Message.setOneofWrapperField(this,35,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingschedule=function(){return this.setTradingschedule(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingschedule=function(){return E.Message.getField(this,35)!=null};proto.proto.mdds.v1.Wrapper.prototype.getHoliday=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Holiday,36)};proto.proto.mdds.v1.Wrapper.prototype.setHoliday=function(t){return E.Message.setOneofWrapperField(this,36,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearHoliday=function(){return this.setHoliday(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasHoliday=function(){return E.Message.getField(this,36)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMembertrader=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MemberTrader,37)};proto.proto.mdds.v1.Wrapper.prototype.setMembertrader=function(t){return E.Message.setOneofWrapperField(this,37,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMembertrader=function(){return this.setMembertrader(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMembertrader=function(){return E.Message.getField(this,37)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakingcontract=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakingContract,38)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakingcontract=function(t){return E.Message.setOneofWrapperField(this,38,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakingcontract=function(){return this.setMarketmakingcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakingcontract=function(){return E.Message.getField(this,38)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfindexcomposition=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ETFIndexComposition,39)};proto.proto.mdds.v1.Wrapper.prototype.setEtfindexcomposition=function(t){return E.Message.setOneofWrapperField(this,39,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfindexcomposition=function(){return this.setEtfindexcomposition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfindexcomposition=function(){return E.Message.getField(this,39)!=null};proto.proto.mdds.v1.Wrapper.prototype.getElwunderlyingassets=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.ELWUnderlyingAssets,40)};proto.proto.mdds.v1.Wrapper.prototype.setElwunderlyingassets=function(t){return E.Message.setOneofWrapperField(this,40,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearElwunderlyingassets=function(){return this.setElwunderlyingassets(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasElwunderlyingassets=function(){return E.Message.getField(this,40)!=null};proto.proto.mdds.v1.Wrapper.prototype.getStockinfo=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.StockInfo,41)};proto.proto.mdds.v1.Wrapper.prototype.setStockinfo=function(t){return E.Message.setOneofWrapperField(this,41,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearStockinfo=function(){return this.setStockinfo(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasStockinfo=function(){return E.Message.getField(this,41)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketindex=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.MarketIndex,42)};proto.proto.mdds.v1.Wrapper.prototype.setMarketindex=function(t){return E.Message.setOneofWrapperField(this,42,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketindex=function(){return this.setMarketindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketindex=function(){return E.Message.getField(this,42)!=null};proto.proto.mdds.v1.Wrapper.prototype.getBoardevent=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.BoardEvent,43)};proto.proto.mdds.v1.Wrapper.prototype.setBoardevent=function(t){return E.Message.setOneofWrapperField(this,43,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearBoardevent=function(){return this.setBoardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasBoardevent=function(){return E.Message.getField(this,43)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolboardevent=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolBoardEvent,44)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolboardevent=function(t){return E.Message.setOneofWrapperField(this,44,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolboardevent=function(){return this.setSymbolboardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolboardevent=function(){return E.Message.getField(this,44)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTick=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Tick,45)};proto.proto.mdds.v1.Wrapper.prototype.setTick=function(t){return E.Message.setOneofWrapperField(this,45,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTick=function(){return this.setTick(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTick=function(){return E.Message.getField(this,45)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopprice=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.TopPrice,46)};proto.proto.mdds.v1.Wrapper.prototype.setTopprice=function(t){return E.Message.setOneofWrapperField(this,46,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopprice=function(){return this.setTopprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopprice=function(){return E.Message.getField(this,46)!=null};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityDefinition.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityDefinition.toObject(t,this)},proto.proto.mdds.v1.SecurityDefinition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityDefinition.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityDefinition;return proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityDefinition.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityStatus.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityStatus.toObject(t,this)},proto.proto.mdds.v1.SecurityStatus.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityStatus.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityStatus;return proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityStatus.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityInformationNotification.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,this)},proto.proto.mdds.v1.SecurityInformationNotification.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityInformationNotification;return proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityInformationNotification.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolClosingInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,this)},proto.proto.mdds.v1.SymbolClosingInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolClosingInformation;return proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolClosingInformation.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.VolatilityInterruption.prototype.toObject=function(t){return proto.proto.mdds.v1.VolatilityInterruption.toObject(t,this)},proto.proto.mdds.v1.VolatilityInterruption.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.VolatilityInterruption.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.VolatilityInterruption;return proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.VolatilityInterruption.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakerInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakerInformation.toObject(t,this)},proto.proto.mdds.v1.MarketMakerInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakerInformation.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakerInformation;return proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakerInformation.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolEvent.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolEvent;return proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolEvent.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.IndexConstituentsInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,this)},proto.proto.mdds.v1.IndexConstituentsInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.IndexConstituentsInformation;return proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.IndexConstituentsInformation.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.RandomEnd.prototype.toObject=function(t){return proto.proto.mdds.v1.RandomEnd.toObject(t,this)},proto.proto.mdds.v1.RandomEnd.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.RandomEnd.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.RandomEnd;return proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.RandomEnd.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Price.prototype.toObject=function(t){return proto.proto.mdds.v1.Price.toObject(t,this)},proto.proto.mdds.v1.Price.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Price.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Price;return proto.proto.mdds.v1.Price.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Price.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Price.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Price.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Price.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceRecovery.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceRecovery.toObject(t,this)},proto.proto.mdds.v1.PriceRecovery.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceRecovery.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.PriceRecovery;return proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceRecovery.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Index.prototype.toObject=function(t){return proto.proto.mdds.v1.Index.toObject(t,this)},proto.proto.mdds.v1.Index.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Index.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Index;return proto.proto.mdds.v1.Index.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Index.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Index.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Index.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Index.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerIndustry.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,this)},proto.proto.mdds.v1.InvestorPerIndustry.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerIndustry;return proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerIndustry.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,this)},proto.proto.mdds.v1.InvestorPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerSymbol;return proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerSymbol.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,this)},proto.proto.mdds.v1.TopNMembersPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNMembersPerSymbol;return proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.OpenInterest.prototype.toObject=function(t){return proto.proto.mdds.v1.OpenInterest.toObject(t,this)},proto.proto.mdds.v1.OpenInterest.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.OpenInterest.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.OpenInterest;return proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.OpenInterest.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DeemTradePrice.prototype.toObject=function(t){return proto.proto.mdds.v1.DeemTradePrice.toObject(t,this)},proto.proto.mdds.v1.DeemTradePrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DeemTradePrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.DeemTradePrice;return proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DeemTradePrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ForeignerOrderLimit.prototype.toObject=function(t){return proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,this)},proto.proto.mdds.v1.ForeignerOrderLimit.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ForeignerOrderLimit;return proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ForeignerOrderLimit.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceLimitExpansion.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,this)},proto.proto.mdds.v1.PriceLimitExpansion.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.PriceLimitExpansion;return proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceLimitExpansion.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiNav.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiNav.toObject(t,this)},proto.proto.mdds.v1.ETFiNav.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiNav.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiNav;return proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiNav.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiIndex.toObject(t,this)},proto.proto.mdds.v1.ETFiIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiIndex.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiIndex;return proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiIndex.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFTrackingError.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFTrackingError.toObject(t,this)},proto.proto.mdds.v1.ETFTrackingError.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFTrackingError.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFTrackingError;return proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFTrackingError.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,this)},proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Disclosure.prototype.toObject=function(t){return proto.proto.mdds.v1.Disclosure.toObject(t,this)},proto.proto.mdds.v1.Disclosure.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Disclosure.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Disclosure;return proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Disclosure.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DelistedInstrument.prototype.toObject=function(t){return proto.proto.mdds.v1.DelistedInstrument.toObject(t,this)},proto.proto.mdds.v1.DelistedInstrument.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DelistedInstrument.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.DelistedInstrument;return proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DelistedInstrument.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.CouponPaymentDate.prototype.toObject=function(t){return proto.proto.mdds.v1.CouponPaymentDate.toObject(t,this)},proto.proto.mdds.v1.CouponPaymentDate.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.CouponPaymentDate.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.CouponPaymentDate;return proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.CouponPaymentDate.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ChangeOfContract.prototype.toObject=function(t){return proto.proto.mdds.v1.ChangeOfContract.toObject(t,this)},proto.proto.mdds.v1.ChangeOfContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ChangeOfContract.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ChangeOfContract;return proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ChangeOfContract.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentDerivatives.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,this)},proto.proto.mdds.v1.InstrumentDerivatives.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentDerivatives;return proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentDerivatives.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentSBR.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentSBR.toObject(t,this)},proto.proto.mdds.v1.InstrumentSBR.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentSBR.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentSBR;return proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentSBR.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingSchedule.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingSchedule.toObject(t,this)},proto.proto.mdds.v1.TradingSchedule.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingSchedule.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TradingSchedule;return proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingSchedule.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Holiday.prototype.toObject=function(t){return proto.proto.mdds.v1.Holiday.toObject(t,this)},proto.proto.mdds.v1.Holiday.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Holiday.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Holiday;return proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Holiday.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Holiday.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Holiday.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MemberTrader.prototype.toObject=function(t){return proto.proto.mdds.v1.MemberTrader.toObject(t,this)},proto.proto.mdds.v1.MemberTrader.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MemberTrader.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MemberTrader;return proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MemberTrader.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakingContract.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakingContract.toObject(t,this)},proto.proto.mdds.v1.MarketMakingContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakingContract.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakingContract;return proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakingContract.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFIndexComposition.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFIndexComposition.toObject(t,this)},proto.proto.mdds.v1.ETFIndexComposition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFIndexComposition.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ETFIndexComposition;return proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFIndexComposition.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.toObject=function(t){return proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,this)},proto.proto.mdds.v1.ELWUnderlyingAssets.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.ELWUnderlyingAssets;return proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.StockInfo.prototype.toObject=function(t){return proto.proto.mdds.v1.StockInfo.toObject(t,this)},proto.proto.mdds.v1.StockInfo.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.StockInfo.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.StockInfo;return proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.StockInfo.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketIndex.toObject(t,this)},proto.proto.mdds.v1.MarketIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketIndex.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.MarketIndex;return proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketIndex.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.BoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.BoardEvent.toObject(t,this)},proto.proto.mdds.v1.BoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.BoardEvent.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.BoardEvent;return proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.BoardEvent.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolBoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolBoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolBoardEvent;return proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolBoardEvent.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Tick.prototype.toObject=function(t){return proto.proto.mdds.v1.Tick.toObject(t,this)},proto.proto.mdds.v1.Tick.toObject=function(t,o){var e,p={marketid:E.Message.getFieldWithDefault(o,1,0),boardid:E.Message.getFieldWithDefault(o,2,0),isin:E.Message.getFieldWithDefault(o,3,""),symbol:E.Message.getFieldWithDefault(o,4,""),matchprice:E.Message.getFloatingPointFieldWithDefault(o,5,0),matchqtty:E.Message.getFloatingPointFieldWithDefault(o,6,0),sendingtime:(e=o.getSendingtime())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),boardidoriginal:E.Message.getFieldWithDefault(o,8,0),tradingsessionid:E.Message.getFieldWithDefault(o,9,0),totalvolumetraded:E.Message.getFieldWithDefault(o,10,0),grosstradeamount:E.Message.getFloatingPointFieldWithDefault(o,11,0),side:E.Message.getFieldWithDefault(o,12,0)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Tick.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Tick;return proto.proto.mdds.v1.Tick.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Tick.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt32();t.setMarketid(p);break;case 2:var p=o.readInt32();t.setBoardid(p);break;case 3:var p=o.readString();t.setIsin(p);break;case 4:var p=o.readString();t.setSymbol(p);break;case 5:var p=o.readDouble();t.setMatchprice(p);break;case 6:var p=o.readDouble();t.setMatchqtty(p);break;case 7:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setSendingtime(p);break;case 8:var p=o.readInt32();t.setBoardidoriginal(p);break;case 9:var p=o.readInt32();t.setTradingsessionid(p);break;case 10:var p=o.readUint64();t.setTotalvolumetraded(p);break;case 11:var p=o.readDouble();t.setGrosstradeamount(p);break;case 12:var p=o.readEnum();t.setSide(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Tick.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Tick.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Tick.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getMarketid(),e!==0&&o.writeInt32(1,e),e=t.getBoardid(),e!==0&&o.writeInt32(2,e),e=t.getIsin(),e.length>0&&o.writeString(3,e),e=t.getSymbol(),e.length>0&&o.writeString(4,e),e=t.getMatchprice(),e!==0&&o.writeDouble(5,e),e=t.getMatchqtty(),e!==0&&o.writeDouble(6,e),e=t.getSendingtime(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getBoardidoriginal(),e!==0&&o.writeInt32(8,e),e=t.getTradingsessionid(),e!==0&&o.writeInt32(9,e),e=t.getTotalvolumetraded(),e!==0&&o.writeUint64(10,e),e=t.getGrosstradeamount(),e!==0&&o.writeDouble(11,e),e=t.getSide(),e!==0&&o.writeEnum(12,e)};proto.proto.mdds.v1.Tick.Side={SIDE_UNSPECIFIED:0,SIDE_BUY:1,SIDE_SELL:2};proto.proto.mdds.v1.Tick.prototype.getMarketid=function(){return E.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Tick.prototype.setMarketid=function(t){return E.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Tick.prototype.getBoardid=function(){return E.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Tick.prototype.setBoardid=function(t){return E.Message.setProto3IntField(this,2,t)};proto.proto.mdds.v1.Tick.prototype.getIsin=function(){return E.Message.getFieldWithDefault(this,3,"")};proto.proto.mdds.v1.Tick.prototype.setIsin=function(t){return E.Message.setProto3StringField(this,3,t)};proto.proto.mdds.v1.Tick.prototype.getSymbol=function(){return E.Message.getFieldWithDefault(this,4,"")};proto.proto.mdds.v1.Tick.prototype.setSymbol=function(t){return E.Message.setProto3StringField(this,4,t)};proto.proto.mdds.v1.Tick.prototype.getMatchprice=function(){return E.Message.getFloatingPointFieldWithDefault(this,5,0)};proto.proto.mdds.v1.Tick.prototype.setMatchprice=function(t){return E.Message.setProto3FloatField(this,5,t)};proto.proto.mdds.v1.Tick.prototype.getMatchqtty=function(){return E.Message.getFloatingPointFieldWithDefault(this,6,0)};proto.proto.mdds.v1.Tick.prototype.setMatchqtty=function(t){return E.Message.setProto3FloatField(this,6,t)};proto.proto.mdds.v1.Tick.prototype.getSendingtime=function(){return E.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,7)};proto.proto.mdds.v1.Tick.prototype.setSendingtime=function(t){return E.Message.setWrapperField(this,7,t)};proto.proto.mdds.v1.Tick.prototype.clearSendingtime=function(){return this.setSendingtime(void 0)};proto.proto.mdds.v1.Tick.prototype.hasSendingtime=function(){return E.Message.getField(this,7)!=null};proto.proto.mdds.v1.Tick.prototype.getBoardidoriginal=function(){return E.Message.getFieldWithDefault(this,8,0)};proto.proto.mdds.v1.Tick.prototype.setBoardidoriginal=function(t){return E.Message.setProto3IntField(this,8,t)};proto.proto.mdds.v1.Tick.prototype.getTradingsessionid=function(){return E.Message.getFieldWithDefault(this,9,0)};proto.proto.mdds.v1.Tick.prototype.setTradingsessionid=function(t){return E.Message.setProto3IntField(this,9,t)};proto.proto.mdds.v1.Tick.prototype.getTotalvolumetraded=function(){return E.Message.getFieldWithDefault(this,10,0)};proto.proto.mdds.v1.Tick.prototype.setTotalvolumetraded=function(t){return E.Message.setProto3IntField(this,10,t)};proto.proto.mdds.v1.Tick.prototype.getGrosstradeamount=function(){return E.Message.getFloatingPointFieldWithDefault(this,11,0)};proto.proto.mdds.v1.Tick.prototype.setGrosstradeamount=function(t){return E.Message.setProto3FloatField(this,11,t)};proto.proto.mdds.v1.Tick.prototype.getSide=function(){return E.Message.getFieldWithDefault(this,12,0)};proto.proto.mdds.v1.Tick.prototype.setSide=function(t){return E.Message.setProto3EnumField(this,12,t)};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopPrice.toObject(t,this)},proto.proto.mdds.v1.TopPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopPrice.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.TopPrice;return proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopPrice.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter=function(t,o){};E.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Timestamp.prototype.toObject=function(t){return proto.proto.mdds.v1.Timestamp.toObject(t,this)},proto.proto.mdds.v1.Timestamp.toObject=function(t,o){var e={seconds:E.Message.getFieldWithDefault(o,1,0),nanos:E.Message.getFieldWithDefault(o,2,0)};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Timestamp.deserializeBinary=function(t){var o=new E.BinaryReader(t),e=new proto.proto.mdds.v1.Timestamp;return proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt64();t.setSeconds(p);break;case 2:var p=o.readInt32();t.setNanos(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Timestamp.prototype.serializeBinary=function(){var t=new E.BinaryWriter;return proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSeconds(),e!==0&&o.writeInt64(1,e),e=t.getNanos(),e!==0&&o.writeInt32(2,e)};proto.proto.mdds.v1.Timestamp.prototype.getSeconds=function(){return E.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Timestamp.prototype.setSeconds=function(t){return E.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Timestamp.prototype.getNanos=function(){return E.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Timestamp.prototype.setNanos=function(t){return E.Message.setProto3IntField(this,2,t)};const Si=proto.proto.mdds.v1,Nc=["title"],Wc=["title"],jc=["title"],Dc=["title"],Lc=ye("i",{class:"far fa-angle-double-right"},null,-1),Uc=[Lc],Vc={__name:"Chart",emits:["showPendingOrders","showMatchedOrders","showVpsOtpPopup"],setup(t,{expose:o,emit:e}){const p=Zr(),f=lp(),{t:n}=Zo(),s=ur("mf"),u=ur("devices"),l=ur("filters"),c=e,m=me(null),v=me(null),b=me(null),w=me(null),_=me(null),I=me(null),x=me(null),Y=me(null),z=me(null),M=me(null),$=me(null),X=me(null),j=me(null),T=Lr(new Date,"yyyy-MM-dd"),K={START:Ce(new Date(`${T}T08:45:00Z`)),ATO:Ce(new Date(`${T}T09:00:00Z`)),ATC:Ce(new Date(`${T}T14:30:00Z`)),END:Ce(new Date(`${T}T14:45:00Z`))},nt={FIREANT:"wss://tradestation.fireant.vn/quote-lite?access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxODg5NjIyNTMwLCJuYmYiOjE1ODk2MjI1MzAsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsiYWNhZGVteS1yZWFkIiwiYWNhZGVteS13cml0ZSIsImFjY291bnRzLXJlYWQiLCJhY2NvdW50cy13cml0ZSIsImJsb2ctcmVhZCIsImNvbXBhbmllcy1yZWFkIiwiZmluYW5jZS1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImludmVzdG9wZWRpYS1yZWFkIiwib3JkZXJzLXJlYWQiLCJvcmRlcnMtd3JpdGUiLCJwb3N0cy1yZWFkIiwicG9zdHMtd3JpdGUiLCJzZWFyY2giLCJzeW1ib2xzLXJlYWQiLCJ1c2VyLWRhdGEtcmVhZCIsInVzZXItZGF0YS13cml0ZSIsInVzZXJzLXJlYWQiXSwianRpIjoiMjYxYTZhYWQ2MTQ5Njk1ZmJiYzcwODM5MjM0Njc1NWQifQ.dA5-HVzWv-BRfEiAd24uNBiBxASO-PAyWeWESovZm_hj4aXMAZA1-bWNZeXt88dqogo18AwpDQ-h6gefLPdZSFrG5umC1dVWaeYvUnGm62g4XS29fj6p01dhKNNqrsu5KrhnhdnKYVv9VdmbmqDfWR8wDgglk5cJFqalzq6dJWJInFQEPmUs9BW_Zs8tQDn-i5r4tYq2U8vCdqptXoM7YgPllXaPVDeccC9QNu2Xlp9WUvoROzoQXg25lFub1IYkTrM66gJ6t9fJRZToewCt495WNEOQFa_rwLCZ1QwzvL0iYkONHS_jZ0BOhBCdW9dWSawD6iF1SIQaFROvMDH1rg",VPS:"wss://datafeed.vps.com.vn/socket.io/?EIO=3&transport=websocket",DNSE:"wss://datafeed-krx.dnse.com.vn/wss"};let q={ohlcMap:new Map,chart:{},series:{},whitespaces:[],crosshair:{},interval:null,refreshAt:Ro(new Date,11),statusAt:Ro(new Date,21),websocket:null,socketStop:!1,socketUpdatedAt:Ro(new Date,61),hasProgress:!1};const ft=sp({prices:[],chartDate:f.query.date??T,clock:Lr(new Date,"HH:mm:ss"),chartHeightEnough:!1,isSocketWarning:!1,TIME:K}),L=Je(()=>p.state.tradingDerivative.status),Z=Je(()=>p.state.tradingDerivative.config),wt=Je(()=>p.state.tradingDerivative.isLoading);q.interval=setInterval(()=>{ft.clock=Lr(new Date,"HH:mm:ss"),d()&&(j.value&&j.value.cancelWithoutClose(),Bo(new Date,new Date(q.refreshAt))>10&&(Z.value.autoRefresh&&Y.value.refresh(),q.refreshAt=new Date),Bo(new Date,new Date(q.statusAt))>10&&(Lt(),q.statusAt=new Date))},1e3),Dt(),Qo(()=>{B(),pt(),Y.value.createSeries(q.chart),$.value.createSeries(q.chart),z.value.createSeries(q.chart),new ResizeObserver(Wt).observe(m.value),document.addEventListener("keydown",Tt)}),qn(()=>{ut(),document.removeEventListener("keydown",Tt),clearInterval(q.interval),it(),q.socketStop=!0}),Io(()=>p.state.tradingDerivative.chartData,ht),o({connectSocket:bt,closeAllOrders:Ct});function pt(){const yt={localization:{dateFormat:"dd/MM/yyyy",locale:"vi-VN"},rightPriceScale:{visible:!0,scaleMargins:{top:.25,bottom:.25}},leftPriceScale:{visible:!1},layout:{backgroundColor:"#000000",textColor:"#CCCCCC"},grid:{vertLines:{color:"#1B1E27",style:2},horzLines:{color:"#1B1E27",style:2}},crosshair:{mode:0},timeScale:{timeVisible:!0,rightOffset:1e3,minBarSpacing:.01,barSpacing:.05}};q.chart=up(v.value,yt),q.chart.subscribeCrosshairMove(tt),q.chart.subscribeCustomPriceLineDragged(st),q.series.whitespace=q.chart.addHistogramSeries({priceScaleId:"whitespace",scaleMargins:{top:0,bottom:0},color:"#808080",lastValueVisible:!1,priceLineVisible:!1}),q.series.price=q.chart.addCandlestickSeries({upColor:"#F5F5F5",downColor:"#F5F5F5",borderVisible:!1,wickUpColor:"#F5F5F5",wickDownColor:"#F5F5F5",priceFormat:{minMove:.1}})}function ut(){q.chart&&(q.chart.remove(),q.chart=null)}function It(yt){V(q.hasProgress),Y.value.isSelected()?Y.value.draw(q.crosshair):z.value.isSelected()?z.value.draw(q.crosshair):M.value.isSelected()?M.value.draw(q.crosshair):$.value.isSelected()?$.value.draw(q.crosshair):X.value.isSelected()&&X.value.draw(q.crosshair)}function lt(yt){yt.preventDefault()}function kt(yt){yt.stopPropagation()}function _t(yt){yt.preventDefault(),yt.stopPropagation()}function Wt(){m.value&&(B(),q.chart.resize(m.value.offsetWidth,m.value.offsetHeight),_.value.checkFullscreen())}function B(){ft.chartHeightEnough=m.value.offsetHeight>700}function tt(yt){if(yt.time){let At=ee(yt.point.y);q.crosshair.time=yt.time,q.crosshair.price=At}else u.phone||(q.crosshair.time=null,q.crosshair.price=null);yt.point!==void 0&&(q.crosshair.x=yt.point.x,q.crosshair.y=yt.point.y)}function st(yt){let At=yt.customPriceLine,xt=At.options();xt.price=s.fmtNum(xt.price);const Ht=+yt.fromPriceString,zt=xt.price;switch(xt.lineType){case"order":j.value.drag({line:At,lineOptions:xt,oldPrice:Ht,newPrice:zt});break;case"line":M.value.drag({lineOptions:xt,oldPrice:Ht,newPrice:zt});break;case"target":X.value.drag({lineOptions:xt,newPrice:zt});break;case"pattern":Y.value.drag({lineOptions:xt});break}}function Tt(yt){const At=q.chart.timeScale(),xt=q.chart.options().timeScale.barSpacing;switch(yt.key){case"[":yt.ctrlKey?At.applyOptions({barSpacing:xt-.01}):yt.altKey&&At.scrollToPosition(At.scrollPosition()-50);break;case"]":yt.ctrlKey?At.applyOptions({barSpacing:xt+.01}):yt.altKey&&At.scrollToPosition(At.scrollPosition()+50);break}}function ht(yt){ft.chartDate===T&&d()||(yt.ticks.length>0&&(q.whitespaces=St(q.whitespaces,Et(ft.chartDate))),q.series.whitespace.setData(q.whitespaces),C(yt.ticks,"FIREANT"),Ut())}function A(yt,At){At?(q.whitespaces=St(q.whitespaces,Et(T)),q.series.whitespace.setData(q.whitespaces),C(yt),Ut()):ct(yt)}function C(yt,At=null){At||(At=Z.value.source),yt.forEach(Ht=>{let zt,Yt,Xt;switch(At){case"FIREANT":zt=$r(new Date(Ht.date),7),Xt=Ht.price;break;case"VPS":zt=new Date(`${T}T${Ht.time}Z`),Xt=Ht.lastPrice;break;case"DNSE":zt=$r(new Date(Ht.sendingTime),7),Xt=Ht.matchPrice;break}if(Yt=Ce(zt),zt=Lr(zt,"yyyy/MM/dd hh:mm:ss"),q.ohlcMap.has(Yt)){const oe=q.ohlcMap.get(Yt);oe.high=Math.max(oe.high,Xt),oe.low=Math.min(oe.low,Xt),oe.open=Xt,oe.close=Xt}else{const oe={date:zt,time:Yt,open:Xt,high:Xt,low:Xt,close:Xt};q.ohlcMap.set(Yt,oe)}});const xt=Array.from(q.ohlcMap.values()).sort((Ht,zt)=>new Date(Ht.time)-new Date(zt.time));q.series.price.setData(xt),ft.bars=xt}function ct(yt){if(q.ohlcMap.size===0)return!1;Z.value.source==="FIREANT"&&yt.sort((At,xt)=>At.date===xt.date?At.id-xt.id:new Date(At.date)-new Date(xt.date)),yt.forEach(At=>{let xt,Ht,zt;switch(Z.value.source){case"FIREANT":xt=$r(new Date(At.date),7),zt=At.price;break;case"VPS":xt=new Date(`${T}T${At.time}Z`),zt=At.lastPrice;break;case"DNSE":xt=$r(new Date(At.sendingtime),7),zt=At.matchprice;break}if(Ht=Ce(xt),xt=Lr(xt,"yyyy/MM/dd hh:mm:ss"),q.ohlcMap.has(Ht))try{const Yt=q.ohlcMap.get(Ht);Yt.high=Math.max(Yt.high,zt),Yt.low=Math.min(Yt.low,zt),Yt.open=zt,Yt.close=zt,q.series.price.update(Yt),ft.bars.pop(),ft.bars.push(Yt)}catch{return}else{const Yt={date:xt,time:Ht,open:zt,high:zt,low:zt,close:zt};q.series.price.update(Yt),q.ohlcMap.set(Ht,Yt),ft.bars.push(Yt)}})}function Et(yt){const At=Ce(new Date(`${yt}T09:00:00Z`)),xt=Ce(new Date(`${yt}T11:30:00Z`)),Ht=Ce(new Date(`${yt}T13:00:00Z`)),zt=Ce(new Date(`${yt}T14:30:00Z`)),Yt=Ce(new Date(`${yt}T13:00:00Z`)),Xt=Ce(new Date(`${yt}T14:00:00Z`));let oe=[];for(let le=At;le<=zt;le++){if(le>xt&&le<Ht)continue;let Me={time:le};(le===Yt||le===Xt||le===zt)&&(Me.value=1),oe.push(Me)}if(ft.chartDate===T){const le=Ce(new Date(`${yt}T17:00:00Z`));for(let Me=zt+1;Me<=le;Me++){let ke={time:Me};oe.push(ke)}}return oe}function St(yt,At){return Array.from(new Map([...yt,...At].sort((xt,Ht)=>xt.time-Ht.time).map(xt=>[xt.time,xt])).values())}async function bt(){if(d()){await it();const yt=Z.value.source,At=nt[yt],xt=()=>{q.socketStop||(ft.isSocketWarning=!0,bt())};yt==="DNSE"?(q.websocket=Pc.connect(At,{username:"entrade",password:"entrade"}),q.websocket.on("close",xt),ot(),H()):(q.websocket=new WebSocket(At),q.websocket.onclose=xt,yt==="FIREANT"?J():(W(),F()))}}async function it(){const yt=Z.value.source;q.websocket&&(yt==="DNSE"?q.websocket.connected:q.websocket.readyState===WebSocket.OPEN)?(yt==="DNSE"?q.websocket.end():q.websocket.close(),await new Promise(xt=>{const Ht=setInterval(()=>{(!q.websocket||(yt==="DNSE"?q.websocket.disconnected:q.websocket.readyState===WebSocket.CLOSED))&&(q.websocket=null,clearInterval(Ht),xt())},100)})):q.websocket=null}function J(){p.dispatch("tradingDerivative/setLoading",!0),q.websocket.onopen=yt=>{if(q.websocket.readyState===WebSocket.OPEN){let At='{"protocol":"json","version":1}';q.websocket.send(At),At='{"arguments":["VN30F1M"],"invocationId":"0","target":"SubscribeTrades","type":1}',q.websocket.send(At)}},q.websocket.onmessage=yt=>{ft.isSocketWarning=!1,R(yt.data).forEach(xt=>{if(!xt)return!1;if(xt.type===3)xt.result[0].date.slice(0,10)===T&&(console.log("FIREANT-first",xt.result),A(xt.result,!0)),p.dispatch("tradingDerivative/setLoading",!1);else if(xt.type===1&&xt.target==="UpdateTrades"&&xt.arguments[0]==="VN30F1M"){j.value.scan(xt.arguments[1].at(-1).price);let Ht=xt.arguments[1];Ht.sort((zt,Yt)=>zt.date===Yt.date?zt.id-Yt.id:new Date(zt.date)-new Date(Yt.date)),A(Ht)}})}}function R(yt){let At=[];return yt.split("").forEach(xt=>{const Ht=xt.indexOf("{"),zt=xt.lastIndexOf("}");let Yt=null;if(Ht!==-1&&zt!==-1&&zt>Ht){const Xt=xt.substring(Ht,zt+1);Xt!=="{}"&&(Yt=JSON.parse(Xt))}At.push(Yt)}),At}function W(){q.websocket.onopen=yt=>{if(q.websocket.readyState===WebSocket.OPEN){const At={action:"join",list:Z.value.vn30f1m},xt=`42${JSON.stringify(["regs",JSON.stringify(At)])}`;q.websocket.send(xt)}},q.websocket.onmessage=yt=>{if(ft.isSocketWarning=!1,yt.data.substr(0,1)==="4"&&yt.data.substr(1,1)==="2"){const At=JSON.parse(yt.data.substr(2));if(At[0]==="stockps"){const xt=At[1].data;xt.id===3220&&(j.value.scan(xt.lastPrice),A([xt]))}}}}function F(){Bo(new Date,new Date(q.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getVpsData").then(yt=>{s.isSet(yt)||(yt=[]),A(yt,!0),console.log("VPS-first: ",yt)}),q.socketUpdatedAt=new Date)}function ot(){q.websocket.on("connect",()=>{if(q.websocket.connected){const yt=[`quotes/krx/mdds/tick/v1/roundlot/symbol/${Z.value.vn30f1m}`];q.websocket.subscribe(yt),console.log("DNSE connected")}}),q.websocket.on("message",(yt,At)=>{ft.isSocketWarning=!1;const xt=at(At);if(xt.type===Si.Wrapper.KindCase.TICK){let Ht=xt.payload;j.value.scan(Ht.matchprice);const zt=new Date(Ht.sendingtime.seconds*1e3);Ht.sendingtime=zt.toISOString(),A([Ht])}})}function at(yt){var At;try{const xt=new Uint8Array(yt),Ht=Si.Wrapper.deserializeBinary(xt);if(!Ht)return;const zt=Ht.getKindCase(),Yt={[Si.Wrapper.KindCase.TICK]:(At=Ht.getTick())==null?void 0:At.toObject()};return zt in Yt?{type:zt,payload:Yt[zt]}:void 0}catch(xt){console.error("An error occurred while parsing the message:",r,xt);return}}function H(){Bo(new Date,new Date(q.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getDnseData").then(yt=>{s.isSet(yt)||(yt=[]),A(yt,!0),console.log("DNSE-first: ",yt)}),q.socketUpdatedAt=new Date)}function rt(yt){U();const At=yt?ft.bars.find(Ht=>Ht.time===yt):ft.bars.at(-1),xt=At==null?void 0:At.close;j.value.scan(xt)}function U(yt=!1){Y.value.refresh(yt)}function V(yt=!1){yt||x.value.hide(),M.value.hide(),j.value.hide()}function et(yt){u.phone||x.value.hide(s.isSet(yt)),x.value.set(yt),q.hasProgress=!!yt.step}function gt(yt){j.value.setPatternOrder(yt)}function h(){q.chart.timeScale().scrollToRealTime()}function d(){const yt=Ce($r(new Date,7));return Z.value.openingMarket&&yt>=K.START&&yt<=K.END}function g(){if(!ft.chartDate)return!1;P()}function O(){q.socketUpdatedAt=Ro(new Date,61),bt(),P()}function D(){q.whitespaces=[],q.ohlcMap.clear(),O()}function k(){c("showPendingOrders")}function mt(){c("showMatchedOrders")}function Dt(){p.dispatch("tradingDerivative/initChart").then(()=>{bt(),!f.query.date&&Z.value.lastOpeningDate&&(ft.chartDate=Z.value.lastOpeningDate),P()})}function P(){p.dispatch("tradingDerivative/getChartData",ft.chartDate)}function $t(){L.value.connection?Lt():jt()}function jt(){c("showVpsOtpPopup")}function Lt(){p.dispatch("tradingDerivative/getStatus")}function Ut(){p.dispatch("tradingDerivative/getTools")}function Zt(){p.dispatch("tradingDerivative/getAccountInfo").then(yt=>{let At="";At+='<div style="width: 200px;">',At+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${n("trading.derivative.accountInfoPopup.nav")}</div><div>: ${l.currency(yt.nav)}</div></div>`,At+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${n("trading.derivative.accountInfoPopup.maxVol")}</div><div>: ${l.numberVnFormat(yt.maxVol)}</div></div>`,At+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${n("trading.derivative.accountInfoPopup.vm")}</div><div>: ${l.currency(yt.vm)}</div></div>`,At+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${n("trading.derivative.accountInfoPopup.fee")}</div><div>: ${l.currency(yt.fee)}</div></div>`,At+="</div>",pp(At,n("trading.derivative.accountInfoPopup.title"))})}function Ct(){j.value.closeAllOrders()}function ee(yt){return s.fmtNum(q.series.price.coordinateToPrice(yt))}function ne(yt){let At=q.whitespaces.findIndex(xt=>xt.time===yt);if(At===-1)try{const xt=Lr(new Date(yt*1e3),"yyyy-MM-dd"),Ht=Ce(new Date(`${xt}T11:30:00Z`)),zt=Ce(new Date(`${xt}T13:00:00Z`)),Yt=Ce(new Date(`${xt}T14:30:00Z`));yt>Ht&&yt<zt?yt=Ht:yt>Yt&&(yt=Yt),At=q.whitespaces.findIndex(Xt=>Xt.time===yt)}catch(xt){console.log("error",xt)}return At}function se(yt){return yt<q.whitespaces.length?q.whitespaces[yt].time:q.whitespaces.at(-1).time}function te(yt,At=!1){if(At)q.series.price.removePriceLine(yt);else return q.series.price.createPriceLine(yt)}return(yt,At)=>(Oe(),Fe("div",{ref_key:"chartContainerRef",ref:m,class:"derivative-chart",onClick:It,onContextmenu:lt},[ye("div",{ref_key:"chartRef",ref:v},null,512),ye("div",{class:"area data-area",onClick:kt,onContextmenu:_t},[ye("div",{ref_key:"connectionRef",ref:b,class:ir(["command",{yellow:L.value.pendingOrders.length>0,red:Z.value.volInvalid}]),title:yt.$t("trading.derivative.connection"),onClick:$t,onContextmenu:k},[ye("i",{class:ir(["far",{"fa-link-simple":L.value.connection,"fa-link-simple-slash":!L.value.connection,blink:ft.isSocketWarning}])},null,2)],42,Nc),ye("div",{class:ir(["command status",{green:L.value.position>0,red:L.value.position<0}]),title:yt.$t("trading.derivative.position"),onClick:Zt,onContextmenu:mt},zr(L.value.position),43,Wc),ye("div",{class:"command clock",onClick:bt},zr(ft.clock),1),Yn(ye("input",{type:"date",class:"chart-date command",title:yt.$t("trading.derivative.date"),"onUpdate:modelValue":At[0]||(At[0]=xt=>ft.chartDate=xt),onChange:g},null,40,jc),[[ap,ft.chartDate]]),ye("div",{ref_key:"reloadToolRef",ref:w,class:"command",title:yt.$t("trading.derivative.reload"),onClick:O,onContextmenu:D},[ye("i",{class:ir(["far fa-sync-alt",{"fa-spin":wt.value}])},null,2)],40,Dc)],32),ye("div",{class:"area tool-area",onClick:kt,onContextmenu:_t},[Ie(cp,{ref_key:"fullscreenToolRef",ref:_,chartContainerRef:m.value},null,8,["chartContainerRef"]),Ie(dp,{ref_key:"tradingviewToolRef",ref:I,vpsUser:Z.value.vpsUser,vpsSession:Z.value.vpsSession,chartContainerRef:m.value,symbol:"VN30F1M",timeframe:"15"},null,8,["vpsUser","vpsSession","chartContainerRef"]),Ie(Ip,{ref_key:"progressToolRef",ref:x,chartHeightEnough:ft.chartHeightEnough,onRefreshPattern:At[1]||(At[1]=()=>U(!0)),onHideContext:V},null,8,["chartHeightEnough"]),Ie(Cp,{ref_key:"patternToolRef",ref:Y,bars:ft.bars,stopTimeToolRef:z.value,timeRangeToolRef:$.value,timeToIndex:ne,indexToTime:se,onSetProgress:et,onSetPatternOrder:gt,onHideContext:V},null,8,["bars","stopTimeToolRef","timeRangeToolRef"]),Ie(Fp,{ref_key:"stopTimeToolRef",ref:z,onDone:rt,onHideContext:V},null,512),Ie(Dp,{ref_key:"timeRangeToolRef",ref:$,timeToIndex:ne,indexToTime:se,onDone:At[2]||(At[2]=()=>U()),onHideContext:V},null,512),Ie(hp,{ref_key:"lineToolRef",ref:M,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:te,onHideContext:V},null,512),Ie(fp,{ref_key:"targetToolRef",ref:X,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:te,levels:[.5,1,2,4],isPercent:!1,showPercent:!0,onHideContext:V},null,512),Ie($p,{ref_key:"orderToolRef",ref:j,position:L.value.position,drawPriceLine:te,inSession:d,TIME:ft.TIME,onHideContext:V},null,8,["position","TIME"])],32),ye("div",null,[ye("div",{class:"chart-top",onClick:h},Uc)])],544))}};export{Vc as default};
