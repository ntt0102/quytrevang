import{_ as h,m,c as f,d as a,t as r,e as l,w as d,r as c,o as _,J as D,M as g}from"./app-d106301a.js";import{D as C,a as w}from"./data-grid-6b2f5208.js";import"./row_dragging-ab51ab2a.js";import"./dialog-a3bfaf41.js";import"./exporter-683d1596.js";const q={components:{DxDataGrid:C,DxColumn:w},data(){return{selectedId:null,gridData:null,searchValue:null}},created(){this.$route.query.search&&(this.searchValue=this.$route.query.search),this.faqs&&this.cloneDeepData()},computed:{...m("Policy",["faqs"]),dataGrid:function(){return this.$refs.dataGrid.instance}},watch:{faqs(){this.cloneDeepData(),this.selectedId=this.faqs.reduce((e,s)=>s.question==this.searchValue?s.id:e,0)}},methods:{onItemClick(e){this.selectedId=this.selectedId!=e.data.id?e.data.id:null},cloneDeepData(){this.gridData=this.$mf.cloneDeep(this.faqs)},onRowPrepared(e){e.rowType=="header"&&(e.rowElement.style.display="none")},onClick(e){console.log(e)}}},v={class:"faqs"},y={class:"uppercase center"},x={class:"item"},T=["onClick"],k=["innerHTML"],G=["onClick"];function P(e,s,I,b,i,o){const n=c("DxColumn"),p=c("DxDataGrid");return _(),f("section",v,[a("h5",y,[a("b",null,r(e.$t("policy.faq.title")),1)]),l(p,{ref:"dataGrid","data-source":i.gridData,"show-borders":!1,"column-auto-width":!0,paging:{pageSize:10},loadPanel:{enabled:!0},searchPanel:{visible:!0,text:i.searchValue},editing:{allowAdding:!1,allowUpdating:!1,allowDeleting:!1},onContentReady:s[0]||(s[0]=t=>e.$mf.dataGridPreload(i.gridData,o.dataGrid)),onRowPrepared:o.onRowPrepared},{dataCellTemplate:d(({data:t})=>[a("div",x,[a("div",{class:"question",onClick:u=>o.onItemClick(t)},r(t.data.question),9,T),D(a("div",{class:"answer",innerHTML:t.data.answer},null,8,k),[[g,t.data.id==i.selectedId]])])]),groupCellTemplate:d(({data:t})=>[a("div",{onClick:u=>o.onClick(t)},r(t.text),9,G)]),default:d(()=>[l(n,{"group-index":0,"data-field":"topic",dataType:"string",groupCellTemplate:"groupCellTemplate"}),l(n,{dataType:"string","cell-template":"dataCellTemplate"}),l(n,{"data-field":"question",dataType:"string",visible:!1}),l(n,{"data-field":"answer",dataType:"string",visible:!1})]),_:1},8,["data-source","searchPanel","onRowPrepared"])])}const S=h(q,[["render",P]]);export{S as default};
