import{d as Fn,s as Io,aI as Zn,Y as Yr,z as Oe,aF as Hi,e as ue,aJ as Cn,W as cn,$ as Wt,a1 as Xr,a0 as Qr,aK as an,aL as un,aM as Sr,N as ln,ae as Yt,F as de,ad as Wn,aN as _i,r as Jn,b as Ee,am as ti,aO as No,aP as ki,aQ as Lo,J as Zr,aR as Bo,aS as me,aT as $n,K as Ln,ab as He,aU as Mo,A as ei,aV as Rn,G as Do,aW as jo,aX as Fi,aY as Un,aZ as fn,a_ as Ho,a$ as ko,X as Oi,O as Wi,b0 as zn,b1 as Ci,b2 as Fo,a3 as $i,b3 as Ei,b4 as Wo,aH as $o,y as Uo,b5 as zo,b6 as Ko,b7 as Vo,c as Go,ac as qo,b8 as En,g as Xo,f as Ui,l as Qo,m as Yo,a as Zo,n as Jo}from"./app-089c7b72.js";import{D as ta,a as ea}from"./data-grid-9e4dd793.js";import{C as hr,D as wn,a as ra}from"./ui.data_grid.row_dragging-13991560.js";import{P as na}from"./PickImagePopup-90fd02ce.js";import"./dialog-e8748e84.js";import"./FileManager-b4e80e90.js";var ye={},zi={exports:{}};/*!
 * DevExtreme-Quill Editor v.1.5.20
 * https://js.devexpress.com/
 * Copyright (c) 2020, Developer Express Inc.
 * Copyright (c) 2017, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,n){(function(i,t){e.exports=t()})(Fn,function(){return function(r){var i={};function t(l){if(i[l])return i[l].exports;var o=i[l]={i:l,l:!1,exports:{}};return r[l].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=r,t.c=i,t.d=function(l,o,u){t.o(l,o)||Object.defineProperty(l,o,{enumerable:!0,get:u})},t.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},t.t=function(l,o){if(o&1&&(l=t(l)),o&8||o&4&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),o&2&&typeof l!="string")for(var p in l)t.d(u,p,function(S){return l[S]}.bind(null,p));return u},t.n=function(l){var o=l&&l.__esModule?function(){return l.default}:function(){return l};return t.d(o,"a",o),o},t.o=function(l,o){return Object.prototype.hasOwnProperty.call(l,o)},t.p="",t(t.s=176)}([function(r,i,t){t.d(i,"c",function(){return M}),t.d(i,"b",function(){return ut}),t.d(i,"d",function(){return it}),t.d(i,"a",function(){return Z});var l=t(1),o=t.n(l),u=t(16),p=t.n(u),S=t(37),A=t.n(S),O=t(2),g=t(4),P=t(3),_=t(12),E=t(7),w=t(44),I=t(23),v=t(57);function x(Y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(L){return typeof L}:x=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},x(Y)}function W(Y,V,L){return V in Y?Object.defineProperty(Y,V,{value:L,enumerable:!0,configurable:!0,writable:!0}):Y[V]=L,Y}function U(Y,V){return R(Y)||d(Y,V)||a(Y,V)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(Y,V){if(Y){if(typeof Y=="string")return f(Y,V);var L=Object.prototype.toString.call(Y).slice(8,-1);if(L==="Object"&&Y.constructor&&(L=Y.constructor.name),L==="Map"||L==="Set")return Array.from(Y);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return f(Y,V)}}function f(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var L=0,et=new Array(V);L<V;L++)et[L]=Y[L];return et}function d(Y,V){var L=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(L!=null){var et=[],st=!0,_t=!1,ot,dt;try{for(L=L.call(Y);!(st=(ot=L.next()).done)&&(et.push(ot.value),!(V&&et.length===V));st=!0);}catch(Tt){_t=!0,dt=Tt}finally{try{!st&&L.return!=null&&L.return()}finally{if(_t)throw dt}}return et}}function R(Y){if(Array.isArray(Y))return Y}function B(Y,V){if(!(Y instanceof V))throw new TypeError("Cannot call a class as a function")}function F(Y,V){for(var L=0;L<V.length;L++){var et=V[L];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Y,et.key,et)}}function N(Y,V,L){return V&&F(Y.prototype,V),L&&F(Y,L),Y}var tt=Object(I.a)("quill"),M=new O.Registry;O.ParentBlot.uiClass="ql-ui";var Z=function(){function Y(V){var L=this,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(B(this,Y),this.options=ut(V,et),this.container=this.options.container,this.container==null)return tt.error("Invalid Quill container",V);this.options.debug&&Y.debug(this.options.debug);var st=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",w.a.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new P.a;var _t=this.options.registry.query(O.ScrollBlot.blotName);this.scroll=new _t(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new g.a(this.scroll),this.selection=new E.b(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(P.a.events.EDITOR_CHANGE,function(ot){ot===P.a.events.TEXT_CHANGE&&L.toggleBlankClass()}),this.emitter.on(P.a.events.SCROLL_UPDATE,function(ot,dt){var Tt=L.selection.lastRange,Rt=L.selection.getRange(),rt=U(Rt,1),z=rt[0],Q=Tt&&z?{oldRange:Tt,newRange:z}:void 0;ht.call(L,function(){return L.editor.update(null,dt,Q)},ot)}),this.setContents(this.getInitialContent(st)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return N(Y,[{key:"getInitialContent",value:function(L){return this.clipboard.convert({html:"".concat(L,"<p><br></p>"),text:`
`})}},{key:"toggleBlankClass",value:function(){var L=this.selection.composing;this.root.classList.toggle("ql-blank",this.editor.isBlank(L))}},{key:"addContainer",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var st=L;L=document.createElement("div"),L.classList.add(st)}return this.container.insertBefore(L,et),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,et,st){var _t=this,ot=it(L,et,st),dt=U(ot,4);return L=dt[0],et=dt[1],st=dt[3],ht.call(this,function(){return _t.editor.deleteText(L,et)},st,L,-1*et)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(L){this.allowReadOnlyEdits=!0;var et=L();return this.allowReadOnlyEdits=!1,et}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,et){var st=this,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P.a.sources.API;return ht.call(this,function(){var ot=st.getSelection(!0),dt=new o.a;if(ot==null)return dt;if(st.scroll.query(L,O.Scope.BLOCK))dt=st.editor.formatLine(ot.index,ot.length,W({},L,et));else{if(ot.length===0)return st.selection.format(L,et),dt;dt=st.editor.formatText(ot.index,ot.length,W({},L,et))}return st.setSelection(ot,P.a.sources.SILENT),dt},_t)}},{key:"formatLine",value:function(L,et,st,_t,ot){var dt=this,Tt,Rt=it(L,et,st,_t,ot),rt=U(Rt,4);return L=rt[0],et=rt[1],Tt=rt[2],ot=rt[3],ht.call(this,function(){return dt.editor.formatLine(L,et,Tt)},ot,L,0)}},{key:"formatText",value:function(L,et,st,_t,ot){var dt=this,Tt,Rt=it(L,et,st,_t,ot),rt=U(Rt,4);return L=rt[0],et=rt[1],Tt=rt[2],ot=rt[3],ht.call(this,function(){return dt.editor.formatText(L,et,Tt)},ot,L,0)}},{key:"getBounds",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,st;typeof L=="number"?st=this.selection.getBounds(L,et):st=this.selection.getBounds(L.index,L.length);var _t=this.container.getBoundingClientRect();return{bottom:st.bottom-_t.top,height:st.height,left:st.left-_t.left,right:st.right-_t.left,top:st.top-_t.top,width:st.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,st=it(L,et),_t=U(st,2);return L=_t[0],et=_t[1],this.editor.getContents(L,et)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,et):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,et)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,st=it(L,et),_t=U(st,2);return L=_t[0],et=_t[1],this.editor.getHTML(L,et)}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,st=it(L,et),_t=U(st,2);return L=_t[0],et=_t[1],this.editor.getText(L,et)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,et,st){var _t=this,ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return ht.call(this,function(){return _t.editor.insertEmbed(L,et,st)},ot,L)}},{key:"insertText",value:function(L,et,st,_t,ot){var dt=this,Tt,Rt=it(L,0,st,_t,ot),rt=U(Rt,4);return L=rt[0],Tt=rt[2],ot=rt[3],ht.call(this,function(){return dt.editor.insertText(L,et,Tt)},ot,L,et.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var L;return(L=this.emitter).off.apply(L,arguments)}},{key:"on",value:function(){var L;return(L=this.emitter).on.apply(L,arguments)}},{key:"once",value:function(){var L;return(L=this.emitter).once.apply(L,arguments)}},{key:"removeFormat",value:function(L,et,st){var _t=this,ot=it(L,et,st),dt=U(ot,4);return L=dt[0],et=dt[1],st=dt[3],ht.call(this,function(){return _t.editor.removeFormat(L,et)},st,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var et=this,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.a.sources.API;return ht.call(this,function(){L=new o.a(L);var _t=et.getLength(),ot=et.editor.deleteText(0,_t),dt=et.editor.applyDelta(L),Tt=et.editor.deleteText(et.getLength()-1,1);return et.emitter.emit(Y.events.CONTENT_SETTED),ot.compose(dt).compose(Tt)},st)}},{key:"setSelection",value:function(L,et,st){if(L==null)this.selection.setRange(null,et||Y.sources.API);else{var _t=it(L,et,st),ot=U(_t,4);L=ot[0],et=ot[1],st=ot[3],this.selection.setRange(new E.a(Math.max(0,L),et),st),st!==P.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.a.sources.API,st=new o.a().insert(L);return this.setContents(st,et)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:P.a.sources.USER,et=this.scroll.update(L);return this.selection.update(L),et}},{key:"updateContents",value:function(L){var et=this,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.a.sources.API;return ht.call(this,function(){return L=new o.a(L),et.editor.applyDelta(L,st)},st,!0)}}],[{key:"debug",value:function(L){L===!0&&(L="log"),I.a.level(L)}},{key:"find",value:function(L){return w.a.get(L)||M.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&tt.error("Cannot import ".concat(L,". Are you sure it was registered?")),this.imports[L]}},{key:"register",value:function(L,et){var st=this,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var ot=L.attrName||L.blotName;typeof ot=="string"?this.register("formats/".concat(ot),L,et):Object.keys(L).forEach(function(dt){st.register(dt,L[dt],et)})}else this.imports[L]!=null&&!_t&&tt.warn("Overwriting ".concat(L," with"),et),this.imports[L]=et,(L.indexOf("blots/")===0||L.indexOf("formats/")===0)&&et.blotName!=="abstract"&&M.register(et),typeof et.register=="function"&&et.register(M)}}]),Y}();Z.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:M,scrollingContainer:null,theme:"default"},Z.events=P.a.events,Z.sources=P.a.sources,Z.version="1.5.20",Z.imports={delta:o.a,parchment:O,"core/module":_.a,"core/theme":v.a};function ut(Y,V){if(V=A()({container:Y,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},V),!V.theme||V.theme===Z.DEFAULTS.theme)V.theme=v.a;else if(V.theme=Z.import("themes/".concat(V.theme)),V.theme==null)throw new Error("Invalid theme ".concat(V.theme,". Did you register it?"));var L=p()(V.theme.DEFAULTS);[L,V].forEach(function(_t){_t.modules=_t.modules||{},Object.keys(_t.modules).forEach(function(ot){_t.modules[ot]===!0&&(_t.modules[ot]={})})});var et=Object.keys(L.modules).concat(Object.keys(V.modules)),st=et.reduce(function(_t,ot){var dt=Z.import("modules/".concat(ot));return dt==null?tt.error("Cannot load ".concat(ot," module. Are you sure you registered it?")):_t[ot]=dt.DEFAULTS||{},_t},{});return V.modules!=null&&V.modules.toolbar&&V.modules.toolbar.constructor!==Object&&(V.modules.toolbar={container:V.modules.toolbar}),V=A()({},Z.DEFAULTS,{modules:st},L,V),["bounds","container","scrollingContainer"].forEach(function(_t){typeof V[_t]=="string"&&(V[_t]=document.querySelector(V[_t]))}),V.modules=Object.keys(V.modules).reduce(function(_t,ot){return V.modules[ot]&&(_t[ot]=V.modules[ot]),_t},{}),V}function ht(Y,V,L,et){if(!this.isEnabled()&&V===P.a.sources.USER&&!this.allowReadOnlyEdits)return new o.a;var st=L==null?null:this.getSelection(),_t=this.editor.delta,ot=Y();if(st!=null&&(L===!0&&(L=st.index),et==null?st=mt(st,ot,V):et!==0&&(st=mt(st,L,et,V)),this.setSelection(st,P.a.sources.SILENT)),ot.length()>0){var dt,Tt=[P.a.events.TEXT_CHANGE,ot,_t,V];if((dt=this.emitter).emit.apply(dt,[P.a.events.EDITOR_CHANGE].concat(Tt)),V!==P.a.sources.SILENT){var Rt;(Rt=this.emitter).emit.apply(Rt,Tt)}}return ot}function it(Y,V,L,et,st){var _t={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof V!="number"?(st=et,et=L,L=V,V=Y.length,Y=Y.index):(V=Y.length,Y=Y.index):typeof V!="number"&&(st=et,et=L,L=V,V=0),x(L)==="object"?(_t=L,st=et):typeof L=="string"&&(et!=null?_t[L]=et:st=L),st=st||P.a.sources.API,[Y,V,_t,st]}function mt(Y,V,L,et){if(Y==null)return null;var st,_t;if(V instanceof o.a){var ot=[Y.index,Y.index+Y.length].map(function(rt){return V.transformPosition(rt,et!==P.a.sources.USER)}),dt=U(ot,2);st=dt[0],_t=dt[1]}else{var Tt=[Y.index,Y.index+Y.length].map(function(rt){return rt<V||rt===V&&et===P.a.sources.USER?rt:L>=0?rt+L:Math.max(V,rt+L)}),Rt=U(Tt,2);st=Rt[0],_t=Rt[1]}return new E.a(st,_t-st)}},function(r,i,t){var l=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},o=l(t(118)),u=l(t(16)),p=l(t(30)),S=l(t(119)),A=l(t(94)),O=String.fromCharCode(0),g=function(){function P(_){Array.isArray(_)?this.ops=_:_!=null&&Array.isArray(_.ops)?this.ops=_.ops:this.ops=[]}return P.prototype.insert=function(_,E){var w={};return typeof _=="string"&&_.length===0?this:(w.insert=_,E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(w.attributes=E),this.push(w))},P.prototype.delete=function(_){return _<=0?this:this.push({delete:_})},P.prototype.retain=function(_,E){if(_<=0)return this;var w={retain:_};return E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(w.attributes=E),this.push(w)},P.prototype.push=function(_){var E=this.ops.length,w=this.ops[E-1];if(_=u.default(_),typeof w=="object"){if(typeof _.delete=="number"&&typeof w.delete=="number")return this.ops[E-1]={delete:w.delete+_.delete},this;if(typeof w.delete=="number"&&_.insert!=null&&(E-=1,w=this.ops[E-1],typeof w!="object"))return this.ops.unshift(_),this;if(p.default(_.attributes,w.attributes)){if(typeof _.insert=="string"&&typeof w.insert=="string")return this.ops[E-1]={insert:w.insert+_.insert},typeof _.attributes=="object"&&(this.ops[E-1].attributes=_.attributes),this;if(typeof _.retain=="number"&&typeof w.retain=="number")return this.ops[E-1]={retain:w.retain+_.retain},typeof _.attributes=="object"&&(this.ops[E-1].attributes=_.attributes),this}}return E===this.ops.length?this.ops.push(_):this.ops.splice(E,0,_),this},P.prototype.chop=function(){var _=this.ops[this.ops.length-1];return _&&_.retain&&!_.attributes&&this.ops.pop(),this},P.prototype.filter=function(_){return this.ops.filter(_)},P.prototype.forEach=function(_){this.ops.forEach(_)},P.prototype.map=function(_){return this.ops.map(_)},P.prototype.partition=function(_){var E=[],w=[];return this.forEach(function(I){var v=_(I)?E:w;v.push(I)}),[E,w]},P.prototype.reduce=function(_,E){return this.ops.reduce(_,E)},P.prototype.changeLength=function(){return this.reduce(function(_,E){return E.insert?_+A.default.length(E):E.delete?_-E.delete:_},0)},P.prototype.length=function(){return this.reduce(function(_,E){return _+A.default.length(E)},0)},P.prototype.slice=function(_,E){_===void 0&&(_=0),E===void 0&&(E=1/0);for(var w=[],I=A.default.iterator(this.ops),v=0;v<E&&I.hasNext();){var x=void 0;v<_?x=I.next(_-v):(x=I.next(E-v),w.push(x)),v+=A.default.length(x)}return new P(w)},P.prototype.compose=function(_){var E=A.default.iterator(this.ops),w=A.default.iterator(_.ops),I=[],v=w.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var x=v.retain;E.peekType()==="insert"&&E.peekLength()<=x;)x-=E.peekLength(),I.push(E.next());v.retain-x>0&&w.next(v.retain-x)}for(var W=new P(I);E.hasNext()||w.hasNext();)if(w.peekType()==="insert")W.push(w.next());else if(E.peekType()==="delete")W.push(E.next());else{var U=Math.min(E.peekLength(),w.peekLength()),m=E.next(U),a=w.next(U);if(typeof a.retain=="number"){var f={};typeof m.retain=="number"?f.retain=U:f.insert=m.insert;var d=S.default.compose(m.attributes,a.attributes,typeof m.retain=="number");if(d&&(f.attributes=d),W.push(f),!w.hasNext()&&p.default(W.ops[W.ops.length-1],f)){var R=new P(E.rest());return W.concat(R).chop()}}else typeof a.delete=="number"&&typeof m.retain=="number"&&W.push(a)}return W.chop()},P.prototype.concat=function(_){var E=new P(this.ops.slice());return _.ops.length>0&&(E.push(_.ops[0]),E.ops=E.ops.concat(_.ops.slice(1))),E},P.prototype.diff=function(_,E){if(this.ops===_.ops)return new P;var w=[this,_].map(function(U){return U.map(function(m){if(m.insert!=null)return typeof m.insert=="string"?m.insert:O;var a=U===_?"on":"with";throw new Error("diff() called "+a+" non-document")}).join("")}),I=new P,v=o.default(w[0],w[1],E),x=A.default.iterator(this.ops),W=A.default.iterator(_.ops);return v.forEach(function(U){for(var m=U[1].length;m>0;){var a=0;switch(U[0]){case o.default.INSERT:a=Math.min(W.peekLength(),m),I.push(W.next(a));break;case o.default.DELETE:a=Math.min(m,x.peekLength()),x.next(a),I.delete(a);break;case o.default.EQUAL:a=Math.min(x.peekLength(),W.peekLength(),m);var f=x.next(a),d=W.next(a);p.default(f.insert,d.insert)?I.retain(a,S.default.diff(f.attributes,d.attributes)):I.push(d).delete(a);break}m-=a}}),I.chop()},P.prototype.eachLine=function(_,E){E===void 0&&(E=`
`);for(var w=A.default.iterator(this.ops),I=new P,v=0;w.hasNext();){if(w.peekType()!=="insert")return;var x=w.peek(),W=A.default.length(x)-w.peekLength(),U=typeof x.insert=="string"?x.insert.indexOf(E,W)-W:-1;if(U<0)I.push(w.next());else if(U>0)I.push(w.next(U));else{if(_(I,w.next(1).attributes||{},v)===!1)return;v+=1,I=new P}}I.length()>0&&_(I,{},v)},P.prototype.invert=function(_){var E=new P;return this.reduce(function(w,I){if(I.insert)E.delete(A.default.length(I));else{if(I.retain&&I.attributes==null)return E.retain(I.retain),w+I.retain;if(I.delete||I.retain&&I.attributes){var v=I.delete||I.retain,x=_.slice(w,w+v);return x.forEach(function(W){I.delete?E.push(W):I.retain&&I.attributes&&E.retain(A.default.length(W),S.default.invert(I.attributes,W.attributes))}),w+v}}return w},0),E.chop()},P.prototype.transform=function(_,E){if(E===void 0&&(E=!1),E=!!E,typeof _=="number")return this.transformPosition(_,E);for(var w=_,I=A.default.iterator(this.ops),v=A.default.iterator(w.ops),x=new P;I.hasNext()||v.hasNext();)if(I.peekType()==="insert"&&(E||v.peekType()!=="insert"))x.retain(A.default.length(I.next()));else if(v.peekType()==="insert")x.push(v.next());else{var W=Math.min(I.peekLength(),v.peekLength()),U=I.next(W),m=v.next(W);if(U.delete)continue;m.delete?x.push(m):x.retain(W,S.default.transform(U.attributes,m.attributes,E))}return x.chop()},P.prototype.transformPosition=function(_,E){E===void 0&&(E=!1),E=!!E;for(var w=A.default.iterator(this.ops),I=0;w.hasNext()&&I<=_;){var v=w.peekLength(),x=w.peekType();if(w.next(),x==="delete"){_-=Math.min(v,_-I);continue}else x==="insert"&&(I<_||!E)&&(_+=v);I+=v}return _},P.Op=A.default,P.AttributeMap=S.default,P}();r.exports=g},function(r,i,t){t.r(i),t.d(i,"ParentBlot",function(){return x}),t.d(i,"ContainerBlot",function(){return m}),t.d(i,"LeafBlot",function(){return d}),t.d(i,"EmbedBlot",function(){return rt}),t.d(i,"ScrollBlot",function(){return gt}),t.d(i,"BlockBlot",function(){return dt}),t.d(i,"InlineBlot",function(){return st}),t.d(i,"TextBlot",function(){return Nt}),t.d(i,"Attributor",function(){return B}),t.d(i,"ClassAttributor",function(){return M}),t.d(i,"StyleAttributor",function(){return it}),t.d(i,"AttributorStore",function(){return Y}),t.d(i,"Registry",function(){return P}),t.d(i,"Scope",function(){return o});var l;(function(q){q[q.TYPE=3]="TYPE",q[q.LEVEL=12]="LEVEL",q[q.ATTRIBUTE=13]="ATTRIBUTE",q[q.BLOT=14]="BLOT",q[q.INLINE=7]="INLINE",q[q.BLOCK=11]="BLOCK",q[q.BLOCK_BLOT=10]="BLOCK_BLOT",q[q.INLINE_BLOT=6]="INLINE_BLOT",q[q.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",q[q.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",q[q.ANY=15]="ANY"})(l||(l={}));var o=l,u=function(){function q(){this.head=null,this.tail=null,this.length=0}return q.prototype.append=function(){for(var y=[],c=0;c<arguments.length;c++)y[c]=arguments[c];if(this.insertBefore(y[0],null),y.length>1){var T=y.slice(1);this.append.apply(this,T)}},q.prototype.at=function(y){for(var c=this.iterator(),T=c();T&&y>0;)y-=1,T=c();return T},q.prototype.contains=function(y){for(var c=this.iterator(),T=c();T;){if(T===y)return!0;T=c()}return!1},q.prototype.indexOf=function(y){for(var c=this.iterator(),T=c(),H=0;T;){if(T===y)return H;H+=1,T=c()}return-1},q.prototype.insertBefore=function(y,c){y!=null&&(this.remove(y),y.next=c,c!=null?(y.prev=c.prev,c.prev!=null&&(c.prev.next=y),c.prev=y,c===this.head&&(this.head=y)):this.tail!=null?(this.tail.next=y,y.prev=this.tail,this.tail=y):(y.prev=null,this.head=this.tail=y),this.length+=1)},q.prototype.offset=function(y){for(var c=0,T=this.head;T!=null;){if(T===y)return c;c+=T.length(),T=T.next}return-1},q.prototype.remove=function(y){this.contains(y)&&(y.prev!=null&&(y.prev.next=y.next),y.next!=null&&(y.next.prev=y.prev),y===this.head&&(this.head=y.next),y===this.tail&&(this.tail=y.prev),this.length-=1)},q.prototype.iterator=function(y){return y===void 0&&(y=this.head),function(){var c=y;return y!=null&&(y=y.next),c}},q.prototype.find=function(y,c){c===void 0&&(c=!1);for(var T=this.iterator(),H=T();H;){var ct=H.length();if(y<ct||c&&y===ct&&(H.next==null||H.next.length()!==0))return[H,y];y-=ct,H=T()}return[null,0]},q.prototype.forEach=function(y){for(var c=this.iterator(),T=c();T;)y(T),T=c()},q.prototype.forEachAt=function(y,c,T){if(!(c<=0))for(var H=this.find(y),ct=H[0],St=H[1],kt=y-St,Gt=this.iterator(ct),Qt=Gt();Qt&&kt<y+c;){var re=Qt.length();y>kt?T(Qt,y-kt,Math.min(c,kt+re-y)):T(Qt,0,Math.min(re,y+c-kt)),kt+=re,Qt=Gt()}},q.prototype.map=function(y){return this.reduce(function(c,T){return c.push(y(T)),c},[])},q.prototype.reduce=function(y,c){for(var T=this.iterator(),H=T();H;)c=y(c,H),H=T();return c},q}(),p=u,S=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),A=function(q){S(y,q);function y(c){var T=this;return c="[Parchment] "+c,T=q.call(this,c)||this,T.message=c,T.name=T.constructor.name,T}return y}(Error),O=A,g=function(){function q(){this.attributes={},this.classes={},this.tags={},this.types={}}return q.find=function(y,c){return c===void 0&&(c=!1),y==null?null:this.blots.has(y)?this.blots.get(y)||null:c?this.find(y.parentNode,c):null},q.prototype.create=function(y,c,T){var H=this.query(c);if(H==null)throw new O("Unable to create "+c+" blot");var ct=H,St=c instanceof Node||c.nodeType===Node.TEXT_NODE?c:ct.create(T),kt=new ct(y,St,T);return q.blots.set(kt.domNode,kt),kt},q.prototype.find=function(y,c){return c===void 0&&(c=!1),q.find(y,c)},q.prototype.query=function(y,c){var T=this;c===void 0&&(c=o.ANY);var H;if(typeof y=="string")H=this.types[y]||this.attributes[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)H=this.types.text;else if(typeof y=="number")y&o.LEVEL&o.BLOCK?H=this.types.block:y&o.LEVEL&o.INLINE&&(H=this.types.inline);else if(y instanceof HTMLElement){var ct=(y.getAttribute("class")||"").split(/\s+/);ct.some(function(St){return H=T.classes[St],!!H}),H=H||this.tags[y.tagName]}return H==null?null:c&o.LEVEL&H.scope&&c&o.TYPE&H.scope?H:null},q.prototype.register=function(){for(var y=this,c=[],T=0;T<arguments.length;T++)c[T]=arguments[T];if(c.length>1)return c.map(function(St){return y.register(St)});var H=c[0];if(typeof H.blotName!="string"&&typeof H.attrName!="string")throw new O("Invalid definition");if(H.blotName==="abstract")throw new O("Cannot register abstract class");if(this.types[H.blotName||H.attrName]=H,typeof H.keyName=="string")this.attributes[H.keyName]=H;else if(H.className!=null&&(this.classes[H.className]=H),H.tagName!=null){Array.isArray(H.tagName)?H.tagName=H.tagName.map(function(St){return St.toUpperCase()}):H.tagName=H.tagName.toUpperCase();var ct=Array.isArray(H.tagName)?H.tagName:[H.tagName];ct.forEach(function(St){(y.tags[St]==null||H.className==null)&&(y.tags[St]=H)})}return H},q.blots=new WeakMap,q}(),P=g,_=function(){function q(y,c){this.scroll=y,this.domNode=c,P.blots.set(c,this),this.prev=null,this.next=null}return q.create=function(y){if(this.tagName==null)throw new O("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y,10).toString()===y&&(y=parseInt(y,10))),typeof y=="number"?c=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?c=document.createElement(y):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},Object.defineProperty(q.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),q.prototype.attach=function(){},q.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return this.scroll.create(y)},q.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),P.blots.delete(this.domNode)},q.prototype.deleteAt=function(y,c){var T=this.isolate(y,c);T.remove()},q.prototype.formatAt=function(y,c,T,H){var ct=this.isolate(y,c);if(this.scroll.query(T,o.BLOT)!=null&&H)ct.wrap(T,H);else if(this.scroll.query(T,o.ATTRIBUTE)!=null){var St=this.scroll.create(this.statics.scope);ct.wrap(St),St.format(T,H)}},q.prototype.insertAt=function(y,c,T){var H=T==null?this.scroll.create("text",c):this.scroll.create(c,T),ct=this.split(y);this.parent.insertBefore(H,ct||void 0)},q.prototype.isolate=function(y,c){var T=this.split(y);if(T==null)throw new Error("Attempt to isolate at end");return T.split(c),T},q.prototype.length=function(){return 1},q.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this===y?0:this.parent.children.offset(this)+this.parent.offset(y)},q.prototype.optimize=function(y){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},q.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},q.prototype.replaceWith=function(y,c){var T=typeof y=="string"?this.scroll.create(y,c):y;return this.parent!=null&&(this.parent.insertBefore(T,this.next||void 0),this.remove()),T},q.prototype.split=function(y,c){return y===0?this:this.next},q.prototype.update=function(y,c){},q.prototype.wrap=function(y,c){var T=typeof y=="string"?this.scroll.create(y,c):y;if(this.parent!=null&&this.parent.insertBefore(T,this.next||void 0),typeof T.appendChild!="function")throw new O("Cannot wrap "+y);return T.appendChild(this),T},q.blotName="abstract",q}(),E=_,w=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function I(q,y){var c=y.find(q);if(c==null)try{c=y.create(q)}catch{c=y.create(o.INLINE),Array.from(q.childNodes).forEach(function(H){c.domNode.appendChild(H)}),q.parentNode&&q.parentNode.replaceChild(c.domNode,q),c.attach()}return c}var v=function(q){w(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.uiNode=null,H.build(),H}return y.prototype.appendChild=function(c){this.insertBefore(c)},y.prototype.attach=function(){q.prototype.attach.call(this),this.children.forEach(function(c){c.attach()})},y.prototype.attachUI=function(c){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=c,y.uiClass&&this.uiNode.classList.add(y.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},y.prototype.build=function(){var c=this;this.children=new p,Array.from(this.domNode.childNodes).filter(function(T){return T!==c.uiNode}).reverse().forEach(function(T){try{var H=I(T,c.scroll);c.insertBefore(H,c.children.head||void 0)}catch(ct){if(ct instanceof O)return;throw ct}})},y.prototype.deleteAt=function(c,T){if(c===0&&T===this.length())return this.remove();this.children.forEachAt(c,T,function(H,ct,St){H.deleteAt(ct,St)})},y.prototype.descendant=function(c,T){T===void 0&&(T=0);var H=this.children.find(T),ct=H[0],St=H[1];return c.blotName==null&&c(ct)||c.blotName!=null&&ct instanceof c?[ct,St]:ct instanceof y?ct.descendant(c,St):[null,-1]},y.prototype.descendants=function(c,T,H){T===void 0&&(T=0),H===void 0&&(H=Number.MAX_VALUE);var ct=[],St=H;return this.children.forEachAt(T,H,function(kt,Gt,Qt){(c.blotName==null&&c(kt)||c.blotName!=null&&kt instanceof c)&&ct.push(kt),kt instanceof y&&(ct=ct.concat(kt.descendants(c,Gt,St))),St-=Qt}),ct},y.prototype.detach=function(){this.children.forEach(function(c){c.detach()}),q.prototype.detach.call(this)},y.prototype.enforceAllowedChildren=function(){var c=this,T=!1;this.children.forEach(function(H){if(!T){var ct=c.statics.allowedChildren.some(function(St){return H instanceof St});ct||(H.statics.scope===o.BLOCK_BLOT?(H.next!=null&&c.splitAfter(H),H.prev!=null&&c.splitAfter(H.prev),H.parent.unwrap(),T=!0):H instanceof y?H.unwrap():H.remove())}})},y.prototype.formatAt=function(c,T,H,ct){this.children.forEachAt(c,T,function(St,kt,Gt){St.formatAt(kt,Gt,H,ct)})},y.prototype.insertAt=function(c,T,H){var ct=this.children.find(c),St=ct[0],kt=ct[1];if(St)St.insertAt(kt,T,H);else{var Gt=H==null?this.scroll.create("text",T):this.scroll.create(T,H);this.appendChild(Gt)}},y.prototype.insertBefore=function(c,T){c.parent!=null&&c.parent.children.remove(c);var H=null;this.children.insertBefore(c,T||null),c.parent=this,T!=null&&(H=T.domNode),(this.domNode.parentNode!==c.domNode||this.domNode.nextSibling!==H)&&this.domNode.insertBefore(c.domNode,H),c.attach()},y.prototype.length=function(){return this.children.reduce(function(c,T){return c+T.length()},0)},y.prototype.moveChildren=function(c,T){this.children.forEach(function(H){c.insertBefore(H,T)})},y.prototype.optimize=function(c){if(q.prototype.optimize.call(this,c),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){var T=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(T)}else this.remove()},y.prototype.path=function(c,T){T===void 0&&(T=!1);var H=this.children.find(c,T),ct=H[0],St=H[1],kt=[[this,c]];return ct instanceof y?kt.concat(ct.path(St,T)):(ct!=null&&kt.push([ct,St]),kt)},y.prototype.removeChild=function(c){this.children.remove(c)},y.prototype.replaceWith=function(c,T){var H=typeof c=="string"?this.scroll.create(c,T):c;return H instanceof y&&this.moveChildren(H),q.prototype.replaceWith.call(this,H)},y.prototype.split=function(c,T){if(T===void 0&&(T=!1),!T){if(c===0)return this;if(c===this.length())return this.next}var H=this.clone();return this.parent&&this.parent.insertBefore(H,this.next||void 0),this.children.forEachAt(c,this.length(),function(ct,St,kt){var Gt=ct.split(St,T);Gt!=null&&H.appendChild(Gt)}),H},y.prototype.splitAfter=function(c){for(var T=this.clone();c.next!=null;)T.appendChild(c.next);return this.parent&&this.parent.insertBefore(T,this.next||void 0),T},y.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},y.prototype.update=function(c,T){var H=this,ct=[],St=[];c.forEach(function(kt){kt.target===H.domNode&&kt.type==="childList"&&(ct.push.apply(ct,kt.addedNodes),St.push.apply(St,kt.removedNodes))}),St.forEach(function(kt){if(!(kt.parentNode!=null&&kt.tagName!=="IFRAME"&&document.body.compareDocumentPosition(kt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Gt=H.scroll.find(kt);Gt!=null&&(Gt.domNode.parentNode==null||Gt.domNode.parentNode===H.domNode)&&Gt.detach()}}),ct.filter(function(kt){return kt.parentNode===H.domNode||kt===H.uiNode}).sort(function(kt,Gt){return kt===Gt?0:kt.compareDocumentPosition(Gt)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(kt){var Gt=null;kt.nextSibling!=null&&(Gt=H.scroll.find(kt.nextSibling));var Qt=I(kt,H.scroll);(Qt.next!==Gt||Qt.next==null)&&(Qt.parent!=null&&Qt.parent.removeChild(H),H.insertBefore(Qt,Gt||void 0))}),this.enforceAllowedChildren()},y.uiClass="",y}(E),x=v,W=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),U=function(q){W(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.prototype.checkMerge=function(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName},y.prototype.deleteAt=function(c,T){q.prototype.deleteAt.call(this,c,T),this.enforceAllowedChildren()},y.prototype.formatAt=function(c,T,H,ct){q.prototype.formatAt.call(this,c,T,H,ct),this.enforceAllowedChildren()},y.prototype.insertAt=function(c,T,H){q.prototype.insertAt.call(this,c,T,H),this.enforceAllowedChildren()},y.prototype.optimize=function(c){q.prototype.optimize.call(this,c),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},y.blotName="container",y.scope=o.BLOCK_BLOT,y}(x),m=U,a=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),f=function(q){a(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.value=function(c){return!0},y.prototype.index=function(c,T){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(T,1):-1},y.prototype.position=function(c,T){var H=Array.from(this.parent.domNode.childNodes),ct=H.indexOf(this.domNode);return c>0&&(ct+=1),[this.parent.domNode,ct]},y.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},y.scope=o.INLINE_BLOT,y}(E),d=f,R=function(){function q(y,c,T){T===void 0&&(T={}),this.attrName=y,this.keyName=c;var H=o.TYPE&o.ATTRIBUTE;this.scope=T.scope!=null?T.scope&o.LEVEL|H:o.ATTRIBUTE,T.whitelist!=null&&(this.whitelist=T.whitelist)}return q.keys=function(y){return Array.from(y.attributes).map(function(c){return c.name})},q.prototype.add=function(y,c){return this.canAdd(y,c)?(y.setAttribute(this.keyName,c),!0):!1},q.prototype.canAdd=function(y,c){return this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},q.prototype.remove=function(y){y.removeAttribute(this.keyName)},q.prototype.value=function(y){var c=y.getAttribute(this.keyName);return this.canAdd(y,c)&&c?c:""},q}(),B=R,F=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function N(q,y){var c=q.getAttribute("class")||"";return c.split(/\s+/).filter(function(T){return T.indexOf(y+"-")===0})}var tt=function(q){F(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(T){return T.split("-").slice(0,-1).join("-")})},y.prototype.add=function(c,T){return this.canAdd(c,T)?(this.remove(c),c.classList.add(this.keyName+"-"+T),!0):!1},y.prototype.remove=function(c){var T=N(c,this.keyName);T.forEach(function(H){c.classList.remove(H)}),c.classList.length===0&&c.removeAttribute("class")},y.prototype.value=function(c){var T=N(c,this.keyName)[0]||"",H=T.slice(this.keyName.length+1);return this.canAdd(c,H)?H:""},y}(B),M=tt,Z=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function ut(q){var y=q.split("-"),c=y.slice(1).map(function(T){return T[0].toUpperCase()+T.slice(1)}).join("");return y[0]+c}var ht=function(q){Z(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(T){var H=T.split(":");return H[0].trim()})},y.prototype.add=function(c,T){return this.canAdd(c,T)?(c.style[ut(this.keyName)]=T,!0):!1},y.prototype.remove=function(c){c.style[ut(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},y.prototype.value=function(c){var T=c.style[ut(this.keyName)];return this.canAdd(c,T)?T:""},y}(B),it=ht,mt=function(){function q(y){this.attributes={},this.domNode=y,this.build()}return q.prototype.attribute=function(y,c){c?y.add(this.domNode,c)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])},q.prototype.build=function(){var y=this;this.attributes={};var c=P.find(this.domNode);if(c!=null){var T=B.keys(this.domNode),H=M.keys(this.domNode),ct=it.keys(this.domNode);T.concat(H).concat(ct).forEach(function(St){var kt=c.scroll.query(St,o.ATTRIBUTE);kt instanceof B&&(y.attributes[kt.attrName]=kt)})}},q.prototype.copy=function(y){var c=this;Object.keys(this.attributes).forEach(function(T){var H=c.attributes[T].value(c.domNode);y.format(T,H)})},q.prototype.move=function(y){var c=this;this.copy(y),Object.keys(this.attributes).forEach(function(T){c.attributes[T].remove(c.domNode)}),this.attributes={}},q.prototype.values=function(){var y=this;return Object.keys(this.attributes).reduce(function(c,T){return c[T]=y.attributes[T].value(y.domNode),c},{})},q}(),Y=mt,V=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function L(q,y){if(Object.keys(q).length!==Object.keys(y).length)return!1;for(var c in q)if(q[c]!==y[c])return!1;return!0}var et=function(q){V(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.attributes=new Y(H.domNode),H}return y.formats=function(c,T){var H=T.query(y.blotName);if(!(H!=null&&c.tagName===H.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return c.tagName.toLowerCase()}},y.prototype.format=function(c,T){var H=this;if(c===this.statics.blotName&&!T)this.children.forEach(function(St){St instanceof y||(St=St.wrap(y.blotName,!0)),H.attributes.copy(St)}),this.unwrap();else{var ct=this.scroll.query(c,o.INLINE);if(ct==null)return;ct instanceof B?this.attributes.attribute(ct,T):T&&(c!==this.statics.blotName||this.formats()[c]!==T)&&this.replaceWith(c,T)}},y.prototype.formats=function(){var c=this.attributes.values(),T=this.statics.formats(this.domNode,this.scroll);return T!=null&&(c[this.statics.blotName]=T),c},y.prototype.formatAt=function(c,T,H,ct){if(this.formats()[H]!=null||this.scroll.query(H,o.ATTRIBUTE)){var St=this.isolate(c,T);St.format(H,ct)}else q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.optimize=function(c){q.prototype.optimize.call(this,c);var T=this.formats();if(Object.keys(T).length===0)return this.unwrap();var H=this.next;H instanceof y&&H.prev===this&&L(T,H.formats())&&(H.moveChildren(this),H.remove())},y.prototype.replaceWith=function(c,T){var H=q.prototype.replaceWith.call(this,c,T);return this.attributes.copy(H),H},y.prototype.update=function(c,T){var H=this;q.prototype.update.call(this,c,T);var ct=c.some(function(St){return St.target===H.domNode&&St.type==="attributes"});ct&&this.attributes.build()},y.prototype.wrap=function(c,T){var H=q.prototype.wrap.call(this,c,T);return H instanceof y&&this.attributes.move(H),H},y.allowedChildren=[y,d],y.blotName="inline",y.scope=o.INLINE_BLOT,y.tagName="SPAN",y}(x),st=et,_t=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),ot=function(q){_t(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.attributes=new Y(H.domNode),H}return y.formats=function(c,T){var H=T.query(y.blotName);if(!(H!=null&&c.tagName===H.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return c.tagName.toLowerCase()}},y.prototype.format=function(c,T){var H=this.scroll.query(c,o.BLOCK);H!=null&&(H instanceof B?this.attributes.attribute(H,T):c===this.statics.blotName&&!T?this.replaceWith(y.blotName):T&&(c!==this.statics.blotName||this.formats()[c]!==T)&&this.replaceWith(c,T))},y.prototype.formats=function(){var c=this.attributes.values(),T=this.statics.formats(this.domNode,this.scroll);return T!=null&&(c[this.statics.blotName]=T),c},y.prototype.formatAt=function(c,T,H,ct){this.scroll.query(H,o.BLOCK)!=null?this.format(H,ct):q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.insertAt=function(c,T,H){if(H==null||this.scroll.query(T,o.INLINE)!=null)q.prototype.insertAt.call(this,c,T,H);else{var ct=this.split(c);if(ct!=null){var St=this.scroll.create(T,H);ct.parent.insertBefore(St,ct)}else throw new Error("Attempt to insertAt after block boundaries")}},y.prototype.replaceWith=function(c,T){var H=q.prototype.replaceWith.call(this,c,T);return this.attributes.copy(H),H},y.prototype.update=function(c,T){var H=this;q.prototype.update.call(this,c,T);var ct=c.some(function(St){return St.target===H.domNode&&St.type==="attributes"});ct&&this.attributes.build()},y.blotName="block",y.scope=o.BLOCK_BLOT,y.tagName="P",y.allowedChildren=[st,y,d],y}(x),dt=ot,Tt=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),Rt=function(q){Tt(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.formats=function(c,T){},y.prototype.format=function(c,T){q.prototype.formatAt.call(this,0,this.length(),c,T)},y.prototype.formatAt=function(c,T,H,ct){c===0&&T===this.length()?this.format(H,ct):q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},y}(d),rt=Rt,z=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),Q={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},J=100,nt=function(q){z(y,q);function y(c,T){var H=q.call(this,null,T)||this;return H.registry=c,H.scroll=H,H.build(),H.observer=new MutationObserver(function(ct){H.update(ct)}),H.observer.observe(H.domNode,Q),H.attach(),H}return y.prototype.create=function(c,T){return this.registry.create(this,c,T)},y.prototype.find=function(c,T){return T===void 0&&(T=!1),this.registry.find(c,T)},y.prototype.query=function(c,T){return T===void 0&&(T=o.ANY),this.registry.query(c,T)},y.prototype.register=function(){for(var c,T=[],H=0;H<arguments.length;H++)T[H]=arguments[H];return(c=this.registry).register.apply(c,T)},y.prototype.build=function(){this.scroll!=null&&q.prototype.build.call(this)},y.prototype.detach=function(){q.prototype.detach.call(this),this.observer.disconnect()},y.prototype.deleteAt=function(c,T){this.update(),c===0&&T===this.length()?this.children.forEach(function(H){H.remove()}):q.prototype.deleteAt.call(this,c,T)},y.prototype.formatAt=function(c,T,H,ct){this.update(),q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.insertAt=function(c,T,H){this.update(),q.prototype.insertAt.call(this,c,T,H)},y.prototype.optimize=function(c,T){var H=this;c===void 0&&(c=[]),T===void 0&&(T={}),q.prototype.optimize.call(this,T);for(var ct=T.mutationsMap||new WeakMap,St=Array.from(this.observer.takeRecords());St.length>0;)c.push(St.pop());for(var kt=function Ot(Et,wt){wt===void 0&&(wt=!0),!(Et==null||Et===H)&&Et.domNode.parentNode!=null&&(ct.has(Et.domNode)||ct.set(Et.domNode,[]),wt&&Ot(Et.parent))},Gt=function Ot(Et){ct.has(Et.domNode)&&(Et instanceof x&&Et.children.forEach(Ot),ct.delete(Et.domNode),Et.optimize(T))},Qt=c,re=0;Qt.length>0;re+=1){if(re>=J)throw new Error("[Parchment] Maximum optimize iterations reached");for(Qt.forEach(function(Ot){var Et=H.find(Ot.target,!0);Et!=null&&(Et.domNode===Ot.target&&(Ot.type==="childList"?(kt(H.find(Ot.previousSibling,!1)),Array.from(Ot.addedNodes).forEach(function(wt){var Bt=H.find(wt,!1);kt(Bt,!1),Bt instanceof x&&Bt.children.forEach(function(Pt){kt(Pt,!1)})})):Ot.type==="attributes"&&kt(Et.prev)),kt(Et))}),this.children.forEach(Gt),Qt=Array.from(this.observer.takeRecords()),St=Qt.slice();St.length>0;)c.push(St.pop())}},y.prototype.update=function(c,T){var H=this;T===void 0&&(T={}),c=c||this.observer.takeRecords();var ct=new WeakMap;c.map(function(St){var kt=P.find(St.target,!0);return kt==null?null:ct.has(kt.domNode)?(ct.get(kt.domNode).push(St),null):(ct.set(kt.domNode,[St]),kt)}).forEach(function(St){St!=null&&St!==H&&ct.has(St.domNode)&&St.update(ct.get(St.domNode)||[],T)}),T.mutationsMap=ct,ct.has(this.domNode)&&q.prototype.update.call(this,ct.get(this.domNode),T),this.optimize(c,T)},y.blotName="scroll",y.defaultChild=dt,y.allowedChildren=[dt,m],y.scope=o.BLOCK_BLOT,y.tagName="DIV",y}(x),gt=nt,It=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),Mt=function(q){It(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.text=H.statics.value(H.domNode),H}return y.create=function(c){return document.createTextNode(c)},y.value=function(c){return c.data},y.prototype.deleteAt=function(c,T){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+T)},y.prototype.index=function(c,T){return this.domNode===c?T:-1},y.prototype.insertAt=function(c,T,H){H==null?(this.text=this.text.slice(0,c)+T+this.text.slice(c),this.domNode.data=this.text):q.prototype.insertAt.call(this,c,T,H)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(c){q.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(c,T){return[this.domNode,c]},y.prototype.split=function(c,T){if(T===void 0&&(T=!1),!T){if(c===0)return this;if(c===this.length())return this.next}var H=this.scroll.create(this.domNode.splitText(c));return this.parent.insertBefore(H,this.next||void 0),this.text=this.statics.value(this.domNode),H},y.prototype.update=function(c,T){var H=this;c.some(function(ct){return ct.type==="characterData"&&ct.target===H.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=o.INLINE_BLOT,y}(d),Nt=Mt},function(r,i,t){var l=t(95),o=t.n(l),u=t(15),p=t(44),S=t(23);function A(R){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(F){return typeof F}:A=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},A(R)}function O(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")}function g(R,B){for(var F=0;F<B.length;F++){var N=B[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(R,N.key,N)}}function P(R,B,F){return B&&g(R.prototype,B),F&&g(R,F),R}function _(R,B,F){return typeof Reflect<"u"&&Reflect.get?_=Reflect.get:_=function(tt,M,Z){var ut=E(tt,M);if(ut){var ht=Object.getOwnPropertyDescriptor(ut,M);return ht.get?ht.get.call(Z):ht.value}},_(R,B,F||R)}function E(R,B){for(;!Object.prototype.hasOwnProperty.call(R,B)&&(R=m(R),R!==null););return R}function w(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(B&&B.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),B&&I(R,B)}function I(R,B){return I=Object.setPrototypeOf||function(N,tt){return N.__proto__=tt,N},I(R,B)}function v(R){var B=U();return function(){var N=m(R),tt;if(B){var M=m(this).constructor;tt=Reflect.construct(N,arguments,M)}else tt=N.apply(this,arguments);return x(this,tt)}}function x(R,B){if(B&&(A(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(R)}function W(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},m(R)}var a=Object(S.a)("quill:events"),f=["selectionchange","mousedown","mouseup","click"];Object(u.a)()&&f.forEach(function(R){document.addEventListener(R,function(){for(var B=arguments.length,F=new Array(B),N=0;N<B;N++)F[N]=arguments[N];Array.from(document.querySelectorAll(".ql-container")).forEach(function(tt){var M=p.a.get(tt);if(M&&M.emitter){var Z;(Z=M.emitter).handleDOM.apply(Z,F)}})})});var d=function(R){w(F,R);var B=v(F);function F(){var N;return O(this,F),N=B.call(this),N.listeners={},N.on("error",a.error),N}return P(F,[{key:"emit",value:function(){for(var tt,M,Z=arguments.length,ut=new Array(Z),ht=0;ht<Z;ht++)ut[ht]=arguments[ht];(tt=a.log).call.apply(tt,[a].concat(ut)),(M=_(m(F.prototype),"emit",this)).call.apply(M,[this].concat(ut))}},{key:"handleDOM",value:function(tt){for(var M=arguments.length,Z=new Array(M>1?M-1:0),ut=1;ut<M;ut++)Z[ut-1]=arguments[ut];(this.listeners[tt.type]||[]).forEach(function(ht){var it=ht.node,mt=ht.handler;(tt.target===it||it.contains(tt.target))&&mt.apply(void 0,[tt].concat(Z))})}},{key:"listenDOM",value:function(tt,M,Z){this.listeners[tt]||(this.listeners[tt]=[]),this.listeners[tt].push({node:M,handler:Z})}}]),F}(o.a);d.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},d.sources={API:"api",SILENT:"silent",USER:"user"},i.a=d},function(r,i,t){var l=t(16),o=t.n(l),u=t(30),p=t.n(u),S=t(37),A=t.n(S),O=t(1),g=t.n(O),P=t(2),_=t(7),E=t(24),w=t(6),I=t(10),v=t(9);function x(z,Q){z.classList.remove(Q),z.classList.length===0&&z.removeAttribute("class")}function W(z){return M(z)||U(z)||F(z)||B()}function U(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function m(z,Q){var J=Object.keys(z);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(z);Q&&(nt=nt.filter(function(gt){return Object.getOwnPropertyDescriptor(z,gt).enumerable})),J.push.apply(J,nt)}return J}function a(z){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?m(Object(J),!0).forEach(function(nt){f(z,nt,J[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(J)):m(Object(J)).forEach(function(nt){Object.defineProperty(z,nt,Object.getOwnPropertyDescriptor(J,nt))})}return z}function f(z,Q,J){return Q in z?Object.defineProperty(z,Q,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[Q]=J,z}function d(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(J){return typeof J}:d=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},d(z)}function R(z,Q){return M(z)||tt(z,Q)||F(z,Q)||B()}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(z,Q){if(z){if(typeof z=="string")return N(z,Q);var J=Object.prototype.toString.call(z).slice(8,-1);if(J==="Object"&&z.constructor&&(J=z.constructor.name),J==="Map"||J==="Set")return Array.from(z);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return N(z,Q)}}function N(z,Q){(Q==null||Q>z.length)&&(Q=z.length);for(var J=0,nt=new Array(Q);J<Q;J++)nt[J]=z[J];return nt}function tt(z,Q){var J=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(J!=null){var nt=[],gt=!0,It=!1,Mt,Nt;try{for(J=J.call(z);!(gt=(Mt=J.next()).done)&&(nt.push(Mt.value),!(Q&&nt.length===Q));gt=!0);}catch(q){It=!0,Nt=q}finally{try{!gt&&J.return!=null&&J.return()}finally{if(It)throw Nt}}return nt}}function M(z){if(Array.isArray(z))return z}function Z(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}function ut(z,Q){for(var J=0;J<Q.length;J++){var nt=Q[J];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(z,nt.key,nt)}}function ht(z,Q,J){return Q&&ut(z.prototype,Q),J&&ut(z,J),z}var it=/^[ -~]*$/,mt=function(){function z(Q){Z(this,z),this.scroll=Q,this.delta=this.getDelta(),this.immediateFormats=new Set}return ht(z,[{key:"addImmediateFormat",value:function(J){this.immediateFormats.add(J)}},{key:"applyDelta",value:function(J){var nt=this;this.scroll.update();var gt=this.scroll.length();this.scroll.batchStart();var It=Rt(J),Mt=new g.a;return It.reduce(function(Nt,q){var y=O.Op.length(q),c=q.attributes||{},T=!1;if(q.insert!=null){if(Mt.retain(y),typeof q.insert=="string"){var H=q.insert;T=!H.endsWith(`
`)&&(gt<=Nt||nt.scroll.descendant(w.a,Nt)[0]),nt.scroll.insertAt(Nt,H);var ct=nt.scroll.line(Nt),St=R(ct,2),kt=St[0],Gt=St[1],Qt=A()({},Object(w.c)(kt));if(kt instanceof w.d){var re=kt.descendant(P.LeafBlot,Gt),Ot=R(re,1),Et=Ot[0];Qt=A()(Qt,Object(w.c)(Et))}c=O.AttributeMap.diff(Qt,c)||{}}else if(d(q.insert)==="object"){var wt=Object.keys(q.insert)[0];if(wt==null)return Nt;T=nt.scroll.query(wt,P.Scope.INLINE)!=null&&(gt<=Nt||nt.scroll.descendant(w.a,Nt)[0]),nt.scroll.insertAt(Nt,wt,q.insert[wt])}gt+=y}else Mt.push(q);var Bt=Object.keys(c);nt.immediateFormats.forEach(function(Ft){Bt.indexOf(Ft)>-1&&(nt.scroll.formatAt(Nt,y,Ft,c[Ft]),delete c[Ft])}),Object.keys(c).forEach(function(Ft){nt.scroll.formatAt(Nt,y,Ft,c[Ft])});var Pt=T?1:0;return gt+=Pt,Mt.delete(Pt),Nt+y+Pt},0),Mt.reduce(function(Nt,q){return typeof q.delete=="number"?(nt.scroll.deleteAt(Nt,q.delete),Nt):Nt+O.Op.length(q)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(It)}},{key:"deleteText",value:function(J,nt){return this.scroll.deleteAt(J,nt),this.update(new g.a().retain(J).delete(nt))}},{key:"formatLine",value:function(J,nt){var gt=this,It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(It).forEach(function(Nt){gt.scroll.lines(J,Math.max(nt,1)).forEach(function(q){q.format(Nt,It[Nt])})}),this.scroll.optimize();var Mt=new g.a().retain(J).retain(nt,o()(It));return this.update(Mt)}},{key:"formatText",value:function(J,nt){var gt=this,It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(It).forEach(function(Nt){gt.scroll.formatAt(J,nt,Nt,It[Nt])});var Mt=new g.a().retain(J).retain(nt,o()(It));return this.update(Mt)}},{key:"getContents",value:function(J,nt){return this.delta.slice(J,J+nt)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(J,nt){return J.concat(nt.delta())},new g.a)}},{key:"getFormat",value:function(J){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,gt=[],It=[];nt===0?this.scroll.path(J).forEach(function(q){var y=R(q,1),c=y[0];c instanceof w.d?gt.push(c):c instanceof P.LeafBlot&&It.push(c)}):(gt=this.scroll.lines(J,nt),It=this.scroll.descendants(P.LeafBlot,J,nt));var Mt=[gt,It].map(function(q){if(q.length===0)return{};for(var y=Object(w.c)(q.shift());Object.keys(y).length>0;){var c=q.shift();if(c==null)return y;y=_t(Object(w.c)(c),y)}return y}),Nt=R(Mt,2);return gt=Nt[0],It=Nt[1],a(a({},gt),It)}},{key:"getHTML",value:function(J,nt){var gt=this.scroll.line(J),It=R(gt,2),Mt=It[0],Nt=It[1];return Mt.length()>=Nt+nt?V(Mt,Nt,nt,!0):V(this.scroll,J,nt,!0)}},{key:"getText",value:function(J,nt){return this.getContents(J,nt).filter(function(gt){return typeof gt.insert=="string"}).map(function(gt){return gt.insert}).join("")}},{key:"insertEmbed",value:function(J,nt,gt){return this.scroll.insertAt(J,nt,gt),this.update(new g.a().retain(J).insert(f({},nt,gt)))}},{key:"insertText",value:function(J,nt){var gt=this,It=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return nt=nt.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(J,nt),Object.keys(It).forEach(function(Mt){gt.scroll.formatAt(J,nt.length,Mt,It[Mt])}),this.update(new g.a().retain(J).insert(nt,o()(It)))}},{key:"isBlank",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.scroll.children.length===0)return!0;if(J||this.scroll.children.length>1)return!1;var nt=this.scroll.children.head;return nt.statics.blotName!==w.d.blotName||nt.children.length>1?!1:nt.children.head instanceof I.a}},{key:"removeFormat",value:function(J,nt){var gt=this.getText(J,nt),It=this.scroll.line(J+nt),Mt=R(It,2),Nt=Mt[0],q=Mt[1],y=0,c=new g.a;Nt!=null&&(y=Nt.length()-q,c=Nt.delta().slice(q,q+y-1).insert(`
`));var T=this.getContents(J,nt+y),H=T.diff(new g.a().insert(gt).concat(c)),ct=new g.a().retain(J).concat(H);return this.applyDelta(ct)}},{key:"update",value:function(J){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,It=this.delta;if(nt.length===1&&nt[0].type==="characterData"&&nt[0].target.data.match(it)&&this.scroll.find(nt[0].target)){var Mt=this.scroll.find(nt[0].target),Nt=Object(w.c)(Mt),q=Mt.offset(this.scroll),y=nt[0].oldValue.replace(E.a.CONTENTS,""),c=new g.a().insert(y),T=new g.a().insert(Mt.value()),H=gt&&{oldRange:rt(gt.oldRange,-q),newRange:rt(gt.newRange,-q)},ct=new g.a().retain(q).concat(c.diff(T,H));J=ct.reduce(function(St,kt){return kt.insert?St.insert(kt.insert,Nt):St.push(kt)},new g.a),this.delta=It.compose(J)}else this.delta=this.getDelta(),(!J||!p()(It.compose(J),this.delta))&&(J=It.diff(this.delta,gt));return J}}]),z}();function Y(z,Q,J){if(z.length===0){var nt=ot(J.pop()),gt=R(nt,1),It=gt[0];return Q<=0?"</li></".concat(It,">"):"</li></".concat(It,">").concat(Y([],Q-1,J))}var Mt=W(z),Nt=Mt[0],q=Nt.child,y=Nt.offset,c=Nt.length,T=Nt.indent,H=Nt.type,ct=Mt.slice(1),St=ot(H,q),kt=R(St,2),Gt=kt[0],Qt=kt[1];if(T>Q)return J.push(H),T===Q+1?"<".concat(Gt,"><li").concat(Qt,">").concat(V(q,y,c)).concat(Y(ct,T,J)):"<".concat(Gt,"><li>").concat(Y(z,Q+1,J));var re=J[J.length-1];if(T===Q&&H===re)return"</li><li".concat(Qt,">").concat(V(q,y,c)).concat(Y(ct,T,J));var Ot=ot(J.pop()),Et=R(Ot,1),wt=Et[0];return"</li></".concat(wt,">").concat(Y(z,Q-1,J))}function V(z,Q,J){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof z.html=="function")return z.html(Q,J);if(z instanceof v.a)return Object(v.b)(z.value().slice(Q,Q+J));if(z.children){if(z.statics.blotName==="list-container"){var gt=[];return z.children.forEachAt(Q,J,function(ct,St,kt){var Gt=ct.formats();gt.push({child:ct,offset:St,length:kt,indent:Gt.indent||0,type:Gt.list})}),Y(gt,-1,[])}var It=[];if(z.children.forEachAt(Q,J,function(ct,St,kt){It.push(V(ct,St,kt))}),L(z.children,It),nt||z.statics.blotName==="list")return It.join("");var Mt=et(z),Nt=Mt.outerHTML,q=Mt.innerHTML,y=Nt.split(">".concat(q,"<")),c=R(y,2),T=c[0],H=c[1];return T.indexOf("<table")===0?"".concat(T.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(It.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(H):"".concat(T,">").concat(It.join(""),"<").concat(H)}return z.domNode.outerHTML}function L(z,Q){z.length===1&&z.head instanceof I.a&&Q.push("<br>")}function et(z){var Q=z.domNode.cloneNode(!0);return st(z,Q)}function st(z,Q){var J=["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"];return J.includes(z.statics.blotName)&&x(Q,z.statics.className),Q}function _t(z,Q){return Object.keys(Q).reduce(function(J,nt){return z[nt]==null||(Q[nt]===z[nt]?J[nt]=Q[nt]:Array.isArray(Q[nt])?Q[nt].indexOf(z[nt])<0&&(J[nt]=Q[nt].concat([z[nt]])):J[nt]=[Q[nt],z[nt]]),J},{})}function ot(z,Q){var J=z==="ordered"?"ol":"ul",nt=Q?"".concat(dt(Q)):"";switch(z){case"checked":return[J,"".concat(nt,' data-list="checked"')];case"unchecked":return[J,"".concat(nt,' data-list="unchecked"')];default:return[J,nt]}}function dt(z){var Q=z.domNode;if(!Q.hasAttributes())return"";for(var J=Q.attributes,nt=" ",gt=0;gt<J.length;gt+=1){var It=J[gt].name,Mt=J[gt].value;It==="class"&&(Mt=Tt(Mt)),Mt.length&&It.indexOf("data-")===-1&&(nt+="".concat(It,'="').concat(Mt,'"'))}return nt.length>1?nt:""}function Tt(z){return z.replace(/ql-indent-\d/g,"").trim()}function Rt(z){return z.reduce(function(Q,J){if(typeof J.insert=="string"){var nt=J.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(nt,J.attributes)}return Q.push(J)},new g.a)}function rt(z,Q){var J=z.index,nt=z.length;return new _.a(J+Q,nt)}i.a=mt},function(r,i,t){t.d(i,"a",function(){return l});function l(o){return o!=null}},function(r,i,t){t.d(i,"b",function(){return ut}),t.d(i,"c",function(){return ht}),t.d(i,"a",function(){return Z}),t.d(i,"d",function(){return M});var l=t(1),o=t.n(l),u=t(2),p=t(10),S=t(14),A=t(9),O=t(19);function g(it,mt,Y,V){return Y.map(L=>{const et=V?Object(O.b)(it,L,V):L;return mt.scroll.query(et,u.Scope.ATTRIBUTE)}).filter(L=>L instanceof u.Attributor).reduce((L,et)=>(L[et.attrName]=et,L),{})}function P(){u.AttributorStore.prototype.build=function(){const{tagName:it}=this.domNode,mt=u.Registry.find(this.domNode);if(mt==null)return;const Y=u.Attributor.keys(this.domNode),V=u.ClassAttributor.keys(this.domNode),L=u.StyleAttributor.keys(this.domNode);this.attributes={...g(it,mt,Y,O.a.attribute),...g(it,mt,V),...g(it,mt,L,O.a.style)}}}function _(it){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(Y){return typeof Y}:_=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},_(it)}function E(it,mt){var Y=Object.keys(it);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(it);mt&&(V=V.filter(function(L){return Object.getOwnPropertyDescriptor(it,L).enumerable})),Y.push.apply(Y,V)}return Y}function w(it){for(var mt=1;mt<arguments.length;mt++){var Y=arguments[mt]!=null?arguments[mt]:{};mt%2?E(Object(Y),!0).forEach(function(V){I(it,V,Y[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(Y)):E(Object(Y)).forEach(function(V){Object.defineProperty(it,V,Object.getOwnPropertyDescriptor(Y,V))})}return it}function I(it,mt,Y){return mt in it?Object.defineProperty(it,mt,{value:Y,enumerable:!0,configurable:!0,writable:!0}):it[mt]=Y,it}function v(it,mt){if(!(it instanceof mt))throw new TypeError("Cannot call a class as a function")}function x(it,mt){for(var Y=0;Y<mt.length;Y++){var V=mt[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(it,V.key,V)}}function W(it,mt,Y){return mt&&x(it.prototype,mt),Y&&x(it,Y),it}function U(it,mt,Y){return typeof Reflect<"u"&&Reflect.get?U=Reflect.get:U=function(L,et,st){var _t=m(L,et);if(_t){var ot=Object.getOwnPropertyDescriptor(_t,et);return ot.get?ot.get.call(st):ot.value}},U(it,mt,Y||it)}function m(it,mt){for(;!Object.prototype.hasOwnProperty.call(it,mt)&&(it=N(it),it!==null););return it}function a(it,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(mt&&mt.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),mt&&f(it,mt)}function f(it,mt){return f=Object.setPrototypeOf||function(V,L){return V.__proto__=L,V},f(it,mt)}function d(it){var mt=F();return function(){var V=N(it),L;if(mt){var et=N(this).constructor;L=Reflect.construct(V,arguments,et)}else L=V.apply(this,arguments);return R(this,L)}}function R(it,mt){if(mt&&(_(mt)==="object"||typeof mt=="function"))return mt;if(mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(it)}function B(it){if(it===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(it){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},N(it)}P();var tt=1,M=function(it){a(Y,it);var mt=d(Y);function Y(V,L){var et;return v(this,Y),et=mt.call(this,V,L),et.cache={},et}return W(Y,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=ut(this)),this.cache.delta}},{key:"deleteAt",value:function(L,et){U(N(Y.prototype),"deleteAt",this).call(this,L,et),this.cache={}}},{key:"formatAt",value:function(L,et,st,_t){et<=0||(this.scroll.query(st,u.Scope.BLOCK)?L+et===this.length()&&this.format(st,_t):U(N(Y.prototype),"formatAt",this).call(this,L,Math.min(et,this.length()-L-1),st,_t),this.cache={})}},{key:"insertAt",value:function(L,et,st){if(st!=null){U(N(Y.prototype),"insertAt",this).call(this,L,et,st),this.cache={};return}if(et.length!==0){var _t=et.split(`
`),ot=_t.shift();ot.length>0&&(L<this.length()-1||this.children.tail==null?U(N(Y.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),ot):this.children.tail.insertAt(this.children.tail.length(),ot),this.cache={});var dt=this;_t.reduce(function(Tt,Rt){return dt=dt.split(Tt,!0),dt.insertAt(0,Rt),Rt.length},L+ot.length)}}},{key:"insertBefore",value:function(L,et){var st=this.children.head;U(N(Y.prototype),"insertBefore",this).call(this,L,et),st instanceof p.a&&st.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=U(N(Y.prototype),"length",this).call(this)+tt),this.cache.length}},{key:"moveChildren",value:function(L,et){U(N(Y.prototype),"moveChildren",this).call(this,L,et),this.cache={}}},{key:"optimize",value:function(L){U(N(Y.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return U(N(Y.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){U(N(Y.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(et&&(L===0||L>=this.length()-tt)){var st=this.clone();return L===0?(this.parent.insertBefore(st,this),this):(this.parent.insertBefore(st,this.next),st)}var _t=U(N(Y.prototype),"split",this).call(this,L,et);return this.cache={},_t}}]),Y}(u.BlockBlot);M.blotName="block",M.tagName="P",M.defaultChild=p.a,M.allowedChildren=[p.a,S.a,u.EmbedBlot,A.a];var Z=function(it){a(Y,it);var mt=d(Y);function Y(){return v(this,Y),mt.apply(this,arguments)}return W(Y,[{key:"attach",value:function(){U(N(Y.prototype),"attach",this).call(this),this.attributes=new u.AttributorStore(this.domNode)}},{key:"delta",value:function(){return new o.a().insert(this.value(),w(w({},this.formats()),this.attributes.values()))}},{key:"format",value:function(L,et){var st=this.scroll.query(L,u.Scope.BLOCK_ATTRIBUTE);st!=null&&this.attributes.attribute(st,et)}},{key:"formatAt",value:function(L,et,st,_t){this.format(st,_t)}},{key:"insertAt",value:function(L,et,st){if(typeof et=="string"&&et.endsWith(`
`)){var _t=this.scroll.create(M.blotName);this.parent.insertBefore(_t,L===0?this:this.next),_t.insertAt(0,et.slice(0,-1))}else U(N(Y.prototype),"insertAt",this).call(this,L,et,st)}}]),Y}(u.EmbedBlot);Z.scope=u.Scope.BLOCK_BLOT;function ut(it){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return it.descendants(u.LeafBlot).reduce(function(Y,V){return V.length()===0?Y:Y.insert(V.value(),ht(V,{},mt))},new o.a).insert(`
`,ht(it))}function ht(it){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return it==null||(typeof it.formats=="function"&&(mt=w(w({},mt),it.formats()),Y&&delete mt["code-token"]),it.parent==null||it.parent.statics.blotName==="scroll"||it.parent.statics.scope!==it.statics.scope)?mt:ht(it.parent,mt,Y)}},function(r,i,t){t.d(i,"a",function(){return R}),t.d(i,"b",function(){return B});var l=t(2),o=t(16),u=t.n(o),p=t(30),S=t.n(p),A=t(3),O=t(23);function g(N){return E(N)||_(N)||v(N)||P()}function P(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}function E(N){if(Array.isArray(N))return x(N)}function w(N,tt){return U(N)||W(N,tt)||v(N,tt)||I()}function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(N,tt){if(N){if(typeof N=="string")return x(N,tt);var M=Object.prototype.toString.call(N).slice(8,-1);if(M==="Object"&&N.constructor&&(M=N.constructor.name),M==="Map"||M==="Set")return Array.from(N);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return x(N,tt)}}function x(N,tt){(tt==null||tt>N.length)&&(tt=N.length);for(var M=0,Z=new Array(tt);M<tt;M++)Z[M]=N[M];return Z}function W(N,tt){var M=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(M!=null){var Z=[],ut=!0,ht=!1,it,mt;try{for(M=M.call(N);!(ut=(it=M.next()).done)&&(Z.push(it.value),!(tt&&Z.length===tt));ut=!0);}catch(Y){ht=!0,mt=Y}finally{try{!ut&&M.return!=null&&M.return()}finally{if(ht)throw mt}}return Z}}function U(N){if(Array.isArray(N))return N}function m(N,tt){for(var M=0;M<tt.length;M++){var Z=tt[M];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(N,Z.key,Z)}}function a(N,tt,M){return tt&&m(N.prototype,tt),M&&m(N,M),N}function f(N,tt){if(!(N instanceof tt))throw new TypeError("Cannot call a class as a function")}var d=Object(O.a)("quill:selection"),R=function N(tt){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;f(this,N),this.index=tt,this.length=M},B=function(){function N(tt,M){var Z=this;f(this,N),this.emitter=M,this.scroll=tt,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new R(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!Z.mouseDown&&!Z.composing&&setTimeout(Z.update.bind(Z,A.a.sources.USER),1)}),this.emitter.on(A.a.events.SCROLL_BEFORE_UPDATE,function(){if(Z.hasFocus()){var ut=Z.getNativeRange();ut!=null&&ut.start.node!==Z.cursor.textNode&&Z.emitter.once(A.a.events.SCROLL_UPDATE,function(){try{Z.root.contains(ut.start.node)&&Z.root.contains(ut.end.node)&&Z.setNativeRange(ut.start.node,ut.start.offset,ut.end.node,ut.end.offset),Z.update(A.a.sources.SILENT)}catch{}})}}),this.emitter.on(A.a.events.SCROLL_OPTIMIZE,function(ut,ht){if(ht.range){var it=ht.range,mt=it.startNode,Y=it.startOffset,V=it.endNode,L=it.endOffset;Z.setNativeRange(mt,Y,V,L),Z.update(A.a.sources.SILENT)}}),this.update(A.a.sources.SILENT)}return a(N,[{key:"handleComposition",value:function(){var M=this;this.root.addEventListener("compositionstart",function(){M.composing=!0,M.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(M.scroll.batchEnd(),M.composing=!1,M.cursor.parent){var Z=M.cursor.restore();if(!Z)return;setTimeout(function(){M.setNativeRange(Z.startNode,Z.startOffset,Z.endNode,Z.endOffset)},1)}})}},{key:"handleDragging",value:function(){var M=this;this.emitter.listenDOM("mousedown",document.body,function(){M.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){M.mouseDown=!1,M.update(A.a.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(M,Z){this.scroll.update();var ut=this.getNativeRange();if(!(ut==null||!ut.native.collapsed||this.scroll.query(M,l.Scope.BLOCK))){if(ut.start.node!==this.cursor.textNode){var ht=this.scroll.find(ut.start.node,!1);if(ht==null)return;if(ht instanceof l.LeafBlot){var it=ht.split(ut.start.offset);ht.parent.insertBefore(this.cursor,it)}else ht.insertBefore(this.cursor,ut.start.node);this.cursor.attach()}this.cursor.format(M,Z),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(M){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ut=this.scroll.length();M=Math.min(M,ut-1),Z=Math.min(M+Z,ut-1)-M;var ht,it=this.scroll.leaf(M),mt=w(it,2),Y=mt[0],V=mt[1];if(Y==null)return null;var L=Y.position(V,!0),et=w(L,2);ht=et[0],V=et[1];var st=document.createRange();if(Z>0){st.setStart(ht,V);var _t=this.scroll.leaf(M+Z),ot=w(_t,2);if(Y=ot[0],V=ot[1],Y==null)return null;var dt=Y.position(V,!0),Tt=w(dt,2);return ht=Tt[0],V=Tt[1],st.setEnd(ht,V),st.getBoundingClientRect()}var Rt="left",rt;return ht instanceof Text?(V<ht.data.length?(st.setStart(ht,V),st.setEnd(ht,V+1)):(st.setStart(ht,V-1),st.setEnd(ht,V),Rt="right"),rt=st.getBoundingClientRect()):(rt=Y.domNode.getBoundingClientRect(),V>0&&(Rt="right")),{bottom:rt.top+rt.height,height:rt.height,left:rt[Rt],right:rt[Rt],top:rt.top,width:0}}},{key:"getNativeRange",value:function(){var M=document.getSelection();if(M==null||M.rangeCount<=0)return null;var Z=M.getRangeAt(0);if(Z==null)return null;var ut=this.normalizeNative(Z);return d.info("getNativeRange",ut),ut}},{key:"getRange",value:function(){var M=this.getNativeRange();if(M==null)return[null,null];var Z=this.normalizedToRange(M);return[Z,M]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||F(this.root,document.activeElement)}},{key:"normalizedToRange",value:function(M){var Z=this,ut=[[M.start.node,M.start.offset]];M.native.collapsed||ut.push([M.end.node,M.end.offset]);var ht=ut.map(function(Y){var V=w(Y,2),L=V[0],et=V[1],st=Z.scroll.find(L,!0),_t=st.offset(Z.scroll);return et===0?_t:st instanceof l.LeafBlot?_t+st.index(L,et):_t+st.length()}),it=Math.min(Math.max.apply(Math,g(ht)),this.scroll.length()-1),mt=Math.min.apply(Math,[it].concat(g(ht)));return new R(mt,it-mt)}},{key:"normalizeNative",value:function(M){if(!F(this.root,M.startContainer)||!M.collapsed&&!F(this.root,M.endContainer))return null;var Z={start:{node:M.startContainer,offset:M.startOffset},end:{node:M.endContainer,offset:M.endOffset},native:M};return[Z.start,Z.end].forEach(function(ut){for(var ht=ut.node,it=ut.offset;!(ht instanceof Text)&&ht.childNodes.length>0;)if(ht.childNodes.length>it)ht=ht.childNodes[it],it=0;else if(ht.childNodes.length===it)ht=ht.lastChild,ht instanceof Text?it=ht.data.length:ht.childNodes.length>0?it=ht.childNodes.length:it=ht.childNodes.length+1;else break;ut.node=ht,ut.offset=it}),Z}},{key:"rangeToNative",value:function(M){var Z=this,ut=M.collapsed?[M.index]:[M.index,M.index+M.length],ht=[],it=this.scroll.length();return ut.forEach(function(mt,Y){mt=Math.min(it-1,mt);var V=Z.scroll.leaf(mt),L=w(V,2),et=L[0],st=L[1],_t=et.position(st,Y!==0),ot=w(_t,2),dt=ot[0],Tt=ot[1];ht.push(dt,Tt)}),ht.length<2?ht.concat(ht):ht}},{key:"scrollIntoView",value:function(M){var Z=this.lastRange;if(Z!=null){var ut=this.getBounds(Z.index,Z.length);if(ut!=null){var ht=this.scroll.length()-1,it=this.scroll.line(Math.min(Z.index,ht)),mt=w(it,1),Y=mt[0],V=Y;if(Z.length>0){var L=this.scroll.line(Math.min(Z.index+Z.length,ht)),et=w(L,1);V=et[0]}if(!(Y==null||V==null)){var st=M.getBoundingClientRect();ut.top<st.top?M.scrollTop-=st.top-ut.top:ut.bottom>st.bottom&&(M.scrollTop+=ut.bottom-st.bottom)}}}}},{key:"setNativeRange",value:function(M,Z){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M,ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(d.info("setNativeRange",M,Z,ut,ht),!(M!=null&&(this.root.parentNode==null||M.parentNode==null||ut.parentNode==null))){var mt=document.getSelection();if(mt!=null)if(M!=null){this.hasFocus()||this.root.focus();var Y=this.getNativeRange()||{},V=Y.native;if(V==null||it||M!==V.startContainer||Z!==V.startOffset||ut!==V.endContainer||ht!==V.endOffset){M.tagName==="BR"&&(Z=Array.from(M.parentNode.childNodes).indexOf(M),M=M.parentNode),ut.tagName==="BR"&&(ht=Array.from(ut.parentNode.childNodes).indexOf(ut),ut=ut.parentNode);var L=document.createRange();L.setStart(M,Z),L.setEnd(ut,ht),mt.removeAllRanges(),mt.addRange(L)}}else mt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(M){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.a.sources.API;if(typeof Z=="string"&&(ut=Z,Z=!1),d.info("setRange",M),M!=null){var ht=this.rangeToNative(M);this.setNativeRange.apply(this,g(ht).concat([Z]))}else this.setNativeRange(null);this.update(ut)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.a.sources.USER,Z=this.lastRange,ut=this.getRange(),ht=w(ut,2),it=ht[0],mt=ht[1];if(this.lastRange=it,this.lastNative=mt,this.lastRange!=null&&(this.savedRange=this.lastRange),!S()(Z,this.lastRange)){var Y;if(!this.composing&&mt!=null&&mt.native.collapsed&&mt.start.node!==this.cursor.textNode){var V=this.cursor.restore();V&&this.setNativeRange(V.startNode,V.startOffset,V.endNode,V.endOffset)}var L=[A.a.events.SELECTION_CHANGE,u()(this.lastRange),u()(Z),M];if((Y=this.emitter).emit.apply(Y,[A.a.events.EDITOR_CHANGE].concat(L)),M!==A.a.sources.SILENT){var et;(et=this.emitter).emit.apply(et,L)}}}}]),N}();function F(N,tt){try{tt.parentNode}catch{return!1}return tt instanceof Text&&(tt=tt.parentNode),N.contains(tt)}},function(r,i,t){(function(l){var o=function(u){return u&&u.Math==Math&&u};r.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,t(58))},function(r,i,t){t.d(i,"a",function(){return E}),t.d(i,"b",function(){return w});var l=t(2);function o(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(x){return typeof x}:o=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o(I)}function u(I,v){if(!(I instanceof v))throw new TypeError("Cannot call a class as a function")}function p(I,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(v&&v.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),v&&S(I,v)}function S(I,v){return S=Object.setPrototypeOf||function(W,U){return W.__proto__=U,W},S(I,v)}function A(I){var v=P();return function(){var W=_(I),U;if(v){var m=_(this).constructor;U=Reflect.construct(W,arguments,m)}else U=W.apply(this,arguments);return O(this,U)}}function O(I,v){if(v&&(o(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(I)}function g(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(I){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},_(I)}var E=function(I){p(x,I);var v=A(x);function x(){return u(this,x),v.apply(this,arguments)}return x}(l.TextBlot);function w(I){return I.replace(/[&<>"']/g,function(v){var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return x[v]})}},function(r,i,t){var l=t(2);function o(v){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(W){return typeof W}:o=function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o(v)}function u(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function p(v,x){for(var W=0;W<x.length;W++){var U=x[W];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(v,U.key,U)}}function S(v,x,W){return x&&p(v.prototype,x),W&&p(v,W),v}function A(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),x&&O(v,x)}function O(v,x){return O=Object.setPrototypeOf||function(U,m){return U.__proto__=m,U},O(v,x)}function g(v){var x=E();return function(){var U=w(v),m;if(x){var a=w(this).constructor;m=Reflect.construct(U,arguments,a)}else m=U.apply(this,arguments);return P(this,m)}}function P(v,x){if(x&&(o(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(v)}function _(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(v){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)},w(v)}var I=function(v){A(W,v);var x=g(W);function W(){return u(this,W),x.apply(this,arguments)}return S(W,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),W}(l.EmbedBlot);I.blotName="break",I.tagName="BR",i.a=I},function(r,i,t){t.d(i,"b",function(){return _}),t.d(i,"d",function(){return E}),t.d(i,"c",function(){return w}),t.d(i,"a",function(){return I});var l=t(73),o=t(74),u=t(32);function p(v){return g(v)||O(v)||A(v)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(v,x){if(v){if(typeof v=="string")return P(v,x);var W=Object.prototype.toString.call(v).slice(8,-1);if(W==="Object"&&v.constructor&&(W=v.constructor.name),W==="Map"||W==="Set")return Array.from(v);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return P(v,x)}}function O(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function g(v){if(Array.isArray(v))return P(v)}function P(v,x){(x==null||x>v.length)&&(x=v.length);for(var W=0,U=new Array(x);W<x;W++)U[W]=v[W];return U}var _=u.a.map(function(v){return Object(l.a)(u.d,v)}),E=u.c.map(function(v){return Object(o.a)(u.d,v)}),w=E.reduce(function(v,x){return v[x.attrName]=x,v},{}),I=[].concat(p(_),p(E)).reduce(function(v,x){return v[x.keyName]=x,v},{})},function(r,i,t){function l(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}var o=function u(p){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l(this,u),this.quill=p,this.options=S};o.DEFAULTS={},i.a=o},function(r,i,t){var l=t(2);function o(w){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(v){return typeof v}:o=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o(w)}function u(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function p(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),I&&S(w,I)}function S(w,I){return S=Object.setPrototypeOf||function(x,W){return x.__proto__=W,x},S(w,I)}function A(w){var I=P();return function(){var x=_(w),W;if(I){var U=_(this).constructor;W=Reflect.construct(x,arguments,U)}else W=x.apply(this,arguments);return O(this,W)}}function O(w,I){if(I&&(o(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(w)}function g(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(w){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},_(w)}var E=function(w){p(v,w);var I=A(v);function v(){return u(this,v),I.apply(this,arguments)}return v}(l.ContainerBlot);i.a=E},function(r,i,t){var l=t(2),o=t(10),u=t(9);function p(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(m)}function S(m,a){if(!(m instanceof a))throw new TypeError("Cannot call a class as a function")}function A(m,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function O(m,a,f){return a&&A(m.prototype,a),f&&A(m,f),m}function g(m,a,f){return typeof Reflect<"u"&&Reflect.get?g=Reflect.get:g=function(R,B,F){var N=P(R,B);if(N){var tt=Object.getOwnPropertyDescriptor(N,B);return tt.get?tt.get.call(F):tt.value}},g(m,a,f||m)}function P(m,a){for(;!Object.prototype.hasOwnProperty.call(m,a)&&(m=W(m),m!==null););return m}function _(m,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(a&&a.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),a&&E(m,a)}function E(m,a){return E=Object.setPrototypeOf||function(d,R){return d.__proto__=R,d},E(m,a)}function w(m){var a=x();return function(){var d=W(m),R;if(a){var B=W(this).constructor;R=Reflect.construct(d,arguments,B)}else R=d.apply(this,arguments);return I(this,R)}}function I(m,a){if(a&&(p(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W(m){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},W(m)}var U=function(m){_(f,m);var a=w(f);function f(){return S(this,f),a.apply(this,arguments)}return O(f,[{key:"formatAt",value:function(R,B,F,N){if(f.compare(this.statics.blotName,F)<0&&this.scroll.query(F,l.Scope.BLOT)){var tt=this.isolate(R,B);N&&tt.wrap(F,N)}else g(W(f.prototype),"formatAt",this).call(this,R,B,F,N)}},{key:"optimize",value:function(R){if(g(W(f.prototype),"optimize",this).call(this,R),this.parent instanceof f&&f.compare(this.statics.blotName,this.parent.statics.blotName)>0){var B=this.parent.isolate(this.offset(),this.length());this.moveChildren(B),B.wrap(this)}}}],[{key:"compare",value:function(R,B){var F=f.order.indexOf(R),N=f.order.indexOf(B);return F>=0||N>=0?F-N:R===B?0:R<B?-1:1}}]),f}(l.InlineBlot);U.allowedChildren=[U,o.a,l.EmbedBlot,u.a],U.order=["cursor","inline","link","underline","strike","italic","bold","script","code"],i.a=U},function(r,i,t){var l=function(){return typeof window<"u"};i.a=l},function(r,i,t){(function(l,o){var u=200,p="__lodash_hash_undefined__",S=9007199254740991,A="[object Arguments]",O="[object Array]",g="[object Boolean]",P="[object Date]",_="[object Error]",E="[object Function]",w="[object GeneratorFunction]",I="[object Map]",v="[object Number]",x="[object Object]",W="[object Promise]",U="[object RegExp]",m="[object Set]",a="[object String]",f="[object Symbol]",d="[object WeakMap]",R="[object ArrayBuffer]",B="[object DataView]",F="[object Float32Array]",N="[object Float64Array]",tt="[object Int8Array]",M="[object Int16Array]",Z="[object Int32Array]",ut="[object Uint8Array]",ht="[object Uint8ClampedArray]",it="[object Uint16Array]",mt="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,V=/\w*$/,L=/^\[object .+?Constructor\]$/,et=/^(?:0|[1-9]\d*)$/,st={};st[A]=st[O]=st[R]=st[B]=st[g]=st[P]=st[F]=st[N]=st[tt]=st[M]=st[Z]=st[I]=st[v]=st[x]=st[U]=st[m]=st[a]=st[f]=st[ut]=st[ht]=st[it]=st[mt]=!0,st[_]=st[E]=st[d]=!1;var _t=typeof l=="object"&&l&&l.Object===Object&&l,ot=typeof self=="object"&&self&&self.Object===Object&&self,dt=_t||ot||Function("return this")(),Tt=i&&!i.nodeType&&i,Rt=Tt&&typeof o=="object"&&o&&!o.nodeType&&o,rt=Rt&&Rt.exports===Tt;function z(s,k){return s.set(k[0],k[1]),s}function Q(s,k){return s.add(k),s}function J(s,k){for(var h=-1,$=s?s.length:0;++h<$&&k(s[h],h,s)!==!1;);return s}function nt(s,k){for(var h=-1,$=k.length,yt=s.length;++h<$;)s[yt+h]=k[h];return s}function gt(s,k,h,$){var yt=-1,Lt=s?s.length:0;for($&&Lt&&(h=s[++yt]);++yt<Lt;)h=k(h,s[yt],yt,s);return h}function It(s,k){for(var h=-1,$=Array(s);++h<s;)$[h]=k(h);return $}function Mt(s,k){return s==null?void 0:s[k]}function Nt(s){var k=!1;if(s!=null&&typeof s.toString!="function")try{k=!!(s+"")}catch{}return k}function q(s){var k=-1,h=Array(s.size);return s.forEach(function($,yt){h[++k]=[yt,$]}),h}function y(s,k){return function(h){return s(k(h))}}function c(s){var k=-1,h=Array(s.size);return s.forEach(function($){h[++k]=$}),h}var T=Array.prototype,H=Function.prototype,ct=Object.prototype,St=dt["__core-js_shared__"],kt=function(){var s=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Gt=H.toString,Qt=ct.hasOwnProperty,re=ct.toString,Ot=RegExp("^"+Gt.call(Qt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=rt?dt.Buffer:void 0,wt=dt.Symbol,Bt=dt.Uint8Array,Pt=y(Object.getPrototypeOf,Object),Ft=Object.create,Dt=ct.propertyIsEnumerable,$t=T.splice,qt=Object.getOwnPropertySymbols,Jt=Et?Et.isBuffer:void 0,ne=y(Object.keys,Object),pt=xe(dt,"DataView"),At=xe(dt,"Map"),vt=xe(dt,"Promise"),G=xe(dt,"Set"),K=xe(dt,"WeakMap"),D=xe(Object,"create"),at=ge(pt),X=ge(At),lt=ge(vt),Ct=ge(G),xt=ge(K),jt=wt?wt.prototype:void 0,Ut=jt?jt.valueOf:void 0;function Kt(s){var k=-1,h=s?s.length:0;for(this.clear();++k<h;){var $=s[k];this.set($[0],$[1])}}function te(){this.__data__=D?D(null):{}}function ce(s){return this.has(s)&&delete this.__data__[s]}function Ce(s){var k=this.__data__;if(D){var h=k[s];return h===p?void 0:h}return Qt.call(k,s)?k[s]:void 0}function we(s){var k=this.__data__;return D?k[s]!==void 0:Qt.call(k,s)}function Ae(s,k){var h=this.__data__;return h[s]=D&&k===void 0?p:k,this}Kt.prototype.clear=te,Kt.prototype.delete=ce,Kt.prototype.get=Ce,Kt.prototype.has=we,Kt.prototype.set=Ae;function ie(s){var k=-1,h=s?s.length:0;for(this.clear();++k<h;){var $=s[k];this.set($[0],$[1])}}function ke(){this.__data__=[]}function Br(s){var k=this.__data__,h=ir(k,s);if(h<0)return!1;var $=k.length-1;return h==$?k.pop():$t.call(k,h,1),!0}function tr(s){var k=this.__data__,h=ir(k,s);return h<0?void 0:k[h][1]}function Mr(s){return ir(this.__data__,s)>-1}function Dr(s,k){var h=this.__data__,$=ir(h,s);return $<0?h.push([s,k]):h[$][1]=k,this}ie.prototype.clear=ke,ie.prototype.delete=Br,ie.prototype.get=tr,ie.prototype.has=Mr,ie.prototype.set=Dr;function fe(s){var k=-1,h=s?s.length:0;for(this.clear();++k<h;){var $=s[k];this.set($[0],$[1])}}function jr(){this.__data__={hash:new Kt,map:new(At||ie),string:new Kt}}function Hr(s){return Le(this,s).delete(s)}function kr(s){return Le(this,s).get(s)}function Fr(s){return Le(this,s).has(s)}function er(s,k){return Le(this,s).set(s,k),this}fe.prototype.clear=jr,fe.prototype.delete=Hr,fe.prototype.get=kr,fe.prototype.has=Fr,fe.prototype.set=er;function be(s){this.__data__=new ie(s)}function vr(){this.__data__=new ie}function rr(s){return this.__data__.delete(s)}function nr(s){return this.__data__.get(s)}function mr(s){return this.__data__.has(s)}function yr(s,k){var h=this.__data__;if(h instanceof ie){var $=h.__data__;if(!At||$.length<u-1)return $.push([s,k]),this;h=this.__data__=new fe($)}return h.set(s,k),this}be.prototype.clear=vr,be.prototype.delete=rr,be.prototype.get=nr,be.prototype.has=mr,be.prototype.set=yr;function Fe(s,k){var h=Je(s)||Re(s)?It(s.length,String):[],$=h.length,yt=!!$;for(var Lt in s)(k||Qt.call(s,Lt))&&!(yt&&(Lt=="length"||Kr(Lt,$)))&&h.push(Lt);return h}function gr(s,k,h){var $=s[k];(!(Qt.call(s,k)&&cr($,h))||h===void 0&&!(k in s))&&(s[k]=h)}function ir(s,k){for(var h=s.length;h--;)if(cr(s[h][0],k))return h;return-1}function Ne(s,k){return s&&_r(k,fr(k),s)}function ze(s,k,h,$,yt,Lt,zt){var Xt;if($&&(Xt=Lt?$(s,yt,Lt,zt):$(s)),Xt!==void 0)return Xt;if(!Pe(s))return s;var Zt=Je(s);if(Zt){if(Xt=Pr(s),!k)return zr(s,Xt)}else{var Vt=We(s),ee=Vt==E||Vt==w;if(Se(s))return lr(s,k);if(Vt==x||Vt==A||ee&&!Lt){if(Nt(s))return Lt?s:{};if(Xt=Be(ee?{}:s),!k)return xr(s,Ne(Xt,s))}else{if(!st[Vt])return Lt?s:{};Xt=$e(s,Vt,ze,k)}}zt||(zt=new be);var se=zt.get(s);if(se)return se;if(zt.set(s,Xt),!Zt)var oe=h?Ve(s):fr(s);return J(oe||s,function(he,ve){oe&&(ve=he,he=s[ve]),gr(Xt,ve,ze(he,k,h,$,ve,s,zt))}),Xt}function or(s){return Pe(s)?Ft(s):{}}function Wr(s,k,h){var $=k(s);return Je(s)?$:nt($,h(s))}function $r(s){return re.call(s)}function Rr(s){if(!Pe(s)||Or(s))return!1;var k=Ue(s)||Nt(s)?Ot:L;return k.test(ge(s))}function ar(s){if(!Ze(s))return ne(s);var k=[];for(var h in Object(s))Qt.call(s,h)&&h!="constructor"&&k.push(h);return k}function lr(s,k){if(k)return s.slice();var h=new s.constructor(s.length);return s.copy(h),h}function sr(s){var k=new s.constructor(s.byteLength);return new Bt(k).set(new Bt(s)),k}function Qe(s,k){var h=k?sr(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.byteLength)}function Ye(s,k,h){var $=k?h(q(s),!0):q(s);return gt($,z,new s.constructor)}function wr(s){var k=new s.constructor(s.source,V.exec(s));return k.lastIndex=s.lastIndex,k}function Ur(s,k,h){var $=k?h(c(s),!0):c(s);return gt($,Q,new s.constructor)}function Ke(s){return Ut?Object(Ut.call(s)):{}}function br(s,k){var h=k?sr(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.length)}function zr(s,k){var h=-1,$=s.length;for(k||(k=Array($));++h<$;)k[h]=s[h];return k}function _r(s,k,h,$){h||(h={});for(var yt=-1,Lt=k.length;++yt<Lt;){var zt=k[yt],Xt=$?$(h[zt],s[zt],zt,h,s):void 0;gr(h,zt,Xt===void 0?s[zt]:Xt)}return h}function xr(s,k){return _r(s,Te(s),k)}function Ve(s){return Wr(s,fr,Te)}function Le(s,k){var h=s.__data__;return Vr(k)?h[typeof k=="string"?"string":"hash"]:h.map}function xe(s,k){var h=Mt(s,k);return Rr(h)?h:void 0}var Te=qt?y(qt,Object):Gr,We=$r;(pt&&We(new pt(new ArrayBuffer(1)))!=B||At&&We(new At)!=I||vt&&We(vt.resolve())!=W||G&&We(new G)!=m||K&&We(new K)!=d)&&(We=function(s){var k=re.call(s),h=k==x?s.constructor:void 0,$=h?ge(h):void 0;if($)switch($){case at:return B;case X:return I;case lt:return W;case Ct:return m;case xt:return d}return k});function Pr(s){var k=s.length,h=s.constructor(k);return k&&typeof s[0]=="string"&&Qt.call(s,"index")&&(h.index=s.index,h.input=s.input),h}function Be(s){return typeof s.constructor=="function"&&!Ze(s)?or(Pt(s)):{}}function $e(s,k,h,$){var yt=s.constructor;switch(k){case R:return sr(s);case g:case P:return new yt(+s);case B:return Qe(s,$);case F:case N:case tt:case M:case Z:case ut:case ht:case it:case mt:return br(s,$);case I:return Ye(s,$,h);case v:case a:return new yt(s);case U:return wr(s);case m:return Ur(s,$,h);case f:return Ke(s)}}function Kr(s,k){return k=k??S,!!k&&(typeof s=="number"||et.test(s))&&s>-1&&s%1==0&&s<k}function Vr(s){var k=typeof s;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?s!=="__proto__":s===null}function Or(s){return!!kt&&kt in s}function Ze(s){var k=s&&s.constructor,h=typeof k=="function"&&k.prototype||ct;return s===h}function ge(s){if(s!=null){try{return Gt.call(s)}catch{}try{return s+""}catch{}}return""}function ur(s){return ze(s,!0,!0)}function cr(s,k){return s===k||s!==s&&k!==k}function Re(s){return Ir(s)&&Qt.call(s,"callee")&&(!Dt.call(s,"callee")||re.call(s)==A)}var Je=Array.isArray;function Me(s){return s!=null&&Cr(s.length)&&!Ue(s)}function Ir(s){return Ge(s)&&Me(s)}var Se=Jt||Er;function Ue(s){var k=Pe(s)?re.call(s):"";return k==E||k==w}function Cr(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=S}function Pe(s){var k=typeof s;return!!s&&(k=="object"||k=="function")}function Ge(s){return!!s&&typeof s=="object"}function fr(s){return Me(s)?Fe(s):ar(s)}function Gr(){return[]}function Er(){return!1}o.exports=ur}).call(this,t(58),t(66)(r))},function(r,i,t){t.d(i,"a",function(){return B}),t.d(i,"b",function(){return d}),t.d(i,"c",function(){return R});var l=t(6),o=t(10),u=t(24),p=t(14),S=t(9),A=t(13),O=t(0);function g(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(tt){return typeof tt}:g=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},g(F)}function P(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function _(F,N){for(var tt=0;tt<N.length;tt++){var M=N[tt];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(F,M.key,M)}}function E(F,N,tt){return N&&_(F.prototype,N),tt&&_(F,tt),F}function w(F,N,tt){return typeof Reflect<"u"&&Reflect.get?w=Reflect.get:w=function(Z,ut,ht){var it=I(Z,ut);if(it){var mt=Object.getOwnPropertyDescriptor(it,ut);return mt.get?mt.get.call(ht):mt.value}},w(F,N,tt||F)}function I(F,N){for(;!Object.prototype.hasOwnProperty.call(F,N)&&(F=f(F),F!==null););return F}function v(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),N&&x(F,N)}function x(F,N){return x=Object.setPrototypeOf||function(M,Z){return M.__proto__=Z,M},x(F,N)}function W(F){var N=a();return function(){var M=f(F),Z;if(N){var ut=f(this).constructor;Z=Reflect.construct(M,arguments,ut)}else Z=M.apply(this,arguments);return U(this,Z)}}function U(F,N){if(N&&(g(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(F)}function m(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(F){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(tt){return tt.__proto__||Object.getPrototypeOf(tt)},f(F)}var d=function(F){v(tt,F);var N=W(tt);function tt(){return P(this,tt),N.apply(this,arguments)}return E(tt,[{key:"code",value:function(Z,ut){var ht=this.children.map(function(it){return it.length()<=1?"":it.domNode.textContent}).join(`
`).slice(Z,Z+ut);return Object(S.b)(ht)}},{key:"html",value:function(Z,ut){return`<pre>
`.concat(this.code(Z,ut),`
</pre>`)}}],[{key:"create",value:function(Z){var ut=w(f(tt),"create",this).call(this,Z);return ut.setAttribute("spellcheck",!1),ut}}]),tt}(A.a),R=function(F){v(tt,F);var N=W(tt);function tt(){return P(this,tt),N.apply(this,arguments)}return E(tt,null,[{key:"register",value:function(){O.a.register(d)}}]),tt}(l.d),B=function(F){v(tt,F);var N=W(tt);function tt(){return P(this,tt),N.apply(this,arguments)}return tt}(p.a);B.blotName="code",B.tagName="CODE",R.blotName="code-block",R.className="ql-code-block",R.tagName="DIV",d.blotName="code-block-container",d.className="ql-code-block-container",d.tagName="DIV",d.allowedChildren=[R],R.allowedChildren=[S.a,o.a,u.a],R.requiredContainer=d,R.TAB="  "},function(r,i,t){var l=t(2),o=t(3),u=t(6),p=t(10),S=t(13);function A(M){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(ut){return typeof ut}:A=function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut},A(M)}function O(M,Z){return w(M)||E(M,Z)||P(M,Z)||g()}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(M,Z){if(M){if(typeof M=="string")return _(M,Z);var ut=Object.prototype.toString.call(M).slice(8,-1);if(ut==="Object"&&M.constructor&&(ut=M.constructor.name),ut==="Map"||ut==="Set")return Array.from(M);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return _(M,Z)}}function _(M,Z){(Z==null||Z>M.length)&&(Z=M.length);for(var ut=0,ht=new Array(Z);ut<Z;ut++)ht[ut]=M[ut];return ht}function E(M,Z){var ut=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(ut!=null){var ht=[],it=!0,mt=!1,Y,V;try{for(ut=ut.call(M);!(it=(Y=ut.next()).done)&&(ht.push(Y.value),!(Z&&ht.length===Z));it=!0);}catch(L){mt=!0,V=L}finally{try{!it&&ut.return!=null&&ut.return()}finally{if(mt)throw V}}return ht}}function w(M){if(Array.isArray(M))return M}function I(M,Z){if(!(M instanceof Z))throw new TypeError("Cannot call a class as a function")}function v(M,Z){for(var ut=0;ut<Z.length;ut++){var ht=Z[ut];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(M,ht.key,ht)}}function x(M,Z,ut){return Z&&v(M.prototype,Z),ut&&v(M,ut),M}function W(M,Z,ut){return typeof Reflect<"u"&&Reflect.get?W=Reflect.get:W=function(it,mt,Y){var V=U(it,mt);if(V){var L=Object.getOwnPropertyDescriptor(V,mt);return L.get?L.get.call(Y):L.value}},W(M,Z,ut||M)}function U(M,Z){for(;!Object.prototype.hasOwnProperty.call(M,Z)&&(M=F(M),M!==null););return M}function m(M,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(Z&&Z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Z&&a(M,Z)}function a(M,Z){return a=Object.setPrototypeOf||function(ht,it){return ht.__proto__=it,ht},a(M,Z)}function f(M){var Z=B();return function(){var ht=F(M),it;if(Z){var mt=F(this).constructor;it=Reflect.construct(ht,arguments,mt)}else it=ht.apply(this,arguments);return d(this,it)}}function d(M,Z){if(Z&&(A(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(M)}function R(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(M){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},F(M)}function N(M){return M instanceof u.d||M instanceof u.a}var tt=function(M){m(ut,M);var Z=f(ut);function ut(ht,it,mt){var Y,V=mt.emitter,L=mt.toggleBlankClass;return I(this,ut),Y=Z.call(this,ht,it),Y.emitter=V,Y.toggleBlankClass=L,Y.batch=!1,Y.optimize(),Y.enable(),Y.domNode.addEventListener("dragstart",function(et){return Y.handleDragStart(et)}),Y}return x(ut,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var it=this.batch;this.batch=!1,this.update(it)}},{key:"emitMount",value:function(it){this.emitter.emit(o.a.events.SCROLL_BLOT_MOUNT,it)}},{key:"emitUnmount",value:function(it){this.emitter.emit(o.a.events.SCROLL_BLOT_UNMOUNT,it)}},{key:"deleteAt",value:function(it,mt){var Y=this.line(it),V=O(Y,2),L=V[0],et=V[1],st=this.line(it+mt),_t=O(st,1),ot=_t[0];if(W(F(ut.prototype),"deleteAt",this).call(this,it,mt),ot!=null&&L!==ot&&et>0){if(L instanceof u.a||ot instanceof u.a){this.optimize();return}var dt=ot.children.head instanceof p.a?null:ot.children.head;L.moveChildren(ot,dt),L.remove()}this.optimize()}},{key:"enable",value:function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",it)}},{key:"formatAt",value:function(it,mt,Y,V){W(F(ut.prototype),"formatAt",this).call(this,it,mt,Y,V),this.optimize()}},{key:"handleDragStart",value:function(it){it.preventDefault()}},{key:"insertAt",value:function(it,mt,Y){if(it>=this.length())if(Y==null||this.scroll.query(mt,l.Scope.BLOCK)==null){var V=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(V),Y==null&&mt.endsWith(`
`)?V.insertAt(0,mt.slice(0,-1),Y):V.insertAt(0,mt,Y)}else{var L=this.scroll.create(mt,Y);this.appendChild(L)}else W(F(ut.prototype),"insertAt",this).call(this,it,mt,Y);this.optimize()}},{key:"insertBefore",value:function(it,mt){if(it.statics.scope===l.Scope.INLINE_BLOT){var Y=this.scroll.create(this.statics.defaultChild.blotName);Y.appendChild(it),W(F(ut.prototype),"insertBefore",this).call(this,Y,mt)}else W(F(ut.prototype),"insertBefore",this).call(this,it,mt)}},{key:"isEnabled",value:function(){return this.domNode.getAttribute("contenteditable")==="true"}},{key:"leaf",value:function(it){return this.path(it).pop()||[null,-1]}},{key:"line",value:function(it){return it===this.length()?this.line(it-1):this.descendant(N,it)}},{key:"lines",value:function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Y=function V(L,et,st){var _t=[],ot=st;return L.children.forEachAt(et,st,function(dt,Tt,Rt){N(dt)?_t.push(dt):dt instanceof l.ContainerBlot&&(_t=_t.concat(V(dt,Tt,ot))),ot-=Rt}),_t};return Y(this,it,mt)}},{key:"optimize",value:function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(W(F(ut.prototype),"optimize",this).call(this,it,mt),it.length>0&&this.emitter.emit(o.a.events.SCROLL_OPTIMIZE,it,mt))}},{key:"path",value:function(it){return W(F(ut.prototype),"path",this).call(this,it).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(it){var mt=this;if(this.batch){Array.isArray(it)&&(this.batch=this.batch.concat(it),this.toggleBlankClass());return}var Y=o.a.sources.USER;typeof it=="string"&&(Y=it),Array.isArray(it)||(it=this.observer.takeRecords()),it=it.filter(function(V){var L=V.target,et=mt.find(L,!0);return et&&et.scroll===mt}),it.length>0&&this.emitter.emit(o.a.events.SCROLL_BEFORE_UPDATE,Y,it),W(F(ut.prototype),"update",this).call(this,it.concat([])),it.length>0&&this.emitter.emit(o.a.events.SCROLL_UPDATE,Y,it)}}]),ut}(l.ScrollBlot);tt.blotName="scroll",tt.className="ql-editor",tt.tagName="DIV",tt.defaultChild=u.d,tt.allowedChildren=[u.d,u.a,S.a],i.a=tt},function(r,i,t){t.d(i,"a",function(){return A}),t.d(i,"b",function(){return g}),t.d(i,"c",function(){return P});var l=t(32),o=t(33);function u(_,E){var w=Object.keys(_);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(_);E&&(I=I.filter(function(v){return Object.getOwnPropertyDescriptor(_,v).enumerable})),w.push.apply(w,I)}return w}function p(_){for(var E=1;E<arguments.length;E++){var w=arguments[E]!=null?arguments[E]:{};E%2?u(Object(w),!0).forEach(function(I){S(_,I,w[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(w)):u(Object(w)).forEach(function(I){Object.defineProperty(_,I,Object.getOwnPropertyDescriptor(w,I))})}return _}function S(_,E,w){return E in _?Object.defineProperty(_,E,{value:w,enumerable:!0,configurable:!0,writable:!0}):_[E]=w,_}var A={attribute:"attr",style:"style"},O=p(p({},l.d.allowedTags.reduce(function(_,E){return _[E]={name:l.d.name,keyNamesSet:l.b},_},{})),o.d.allowedTags.reduce(function(_,E){return _[E]={name:o.d.name,keyNamesSet:o.b},_},{}));function g(_,E,w){var I=O[_];return I&&I.keyNamesSet.has(E)?"".concat(w).concat(I.name,"_").concat(E):E}function P(_){return _.replace(/([^]*_)/,"")}},function(r,i){var t=Function.prototype,l=t.bind,o=t.call,u=l&&l.bind(o);r.exports=l?function(p){return p&&u(o,p)}:function(p){return p&&function(){return o.apply(p,arguments)}}},function(r,i,t){t.d(i,"c",function(){return _}),t.d(i,"d",function(){return E}),t.d(i,"b",function(){return w}),t.d(i,"a",function(){return I});var l=t(73),o=t(74),u=t(33);function p(v){return g(v)||O(v)||A(v)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(v,x){if(v){if(typeof v=="string")return P(v,x);var W=Object.prototype.toString.call(v).slice(8,-1);if(W==="Object"&&v.constructor&&(W=v.constructor.name),W==="Map"||W==="Set")return Array.from(v);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return P(v,x)}}function O(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function g(v){if(Array.isArray(v))return P(v)}function P(v,x){(x==null||x>v.length)&&(x=v.length);for(var W=0,U=new Array(x);W<x;W++)U[W]=v[W];return U}var _=u.a.map(function(v){return Object(l.a)(u.d,v)}),E=u.c.map(function(v){return Object(o.a)(u.d,v)}),w=E.reduce(function(v,x){return v[x.attrName]=x,v},{}),I=[].concat(p(_),p(E)).reduce(function(v,x){return v[x.keyName]=x,v},{})},function(r,i){r.exports=function(t){return typeof t=="function"}},function(r,i,t){var l=["error","warn","log","info"],o="warn";function u(S){if(l.indexOf(S)<=l.indexOf(o)){for(var A,O=arguments.length,g=new Array(O>1?O-1:0),P=1;P<O;P++)g[P-1]=arguments[P];(A=console)[S].apply(A,g)}}function p(S){return l.reduce(function(A,O){return A[O]=u.bind(console,O,S),A},{})}p.level=function(S){o=S},u.level=p.level,i.a=p},function(r,i,t){var l=t(2),o=t(9);function u(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(a){return typeof a}:u=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},u(U)}function p(U,m){if(!(U instanceof m))throw new TypeError("Cannot call a class as a function")}function S(U,m){for(var a=0;a<m.length;a++){var f=m[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(U,f.key,f)}}function A(U,m,a){return m&&S(U.prototype,m),a&&S(U,a),U}function O(U,m,a){return typeof Reflect<"u"&&Reflect.get?O=Reflect.get:O=function(d,R,B){var F=g(d,R);if(F){var N=Object.getOwnPropertyDescriptor(F,R);return N.get?N.get.call(B):N.value}},O(U,m,a||U)}function g(U,m){for(;!Object.prototype.hasOwnProperty.call(U,m)&&(U=x(U),U!==null););return U}function P(U,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(m&&m.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),m&&_(U,m)}function _(U,m){return _=Object.setPrototypeOf||function(f,d){return f.__proto__=d,f},_(U,m)}function E(U){var m=v();return function(){var f=x(U),d;if(m){var R=x(this).constructor;d=Reflect.construct(f,arguments,R)}else d=f.apply(this,arguments);return w(this,d)}}function w(U,m){if(m&&(u(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(U)}function I(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(U){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},x(U)}var W=function(U){P(a,U);var m=E(a);function a(f,d,R){var B;return p(this,a),B=m.call(this,f,d),B.selection=R,B.textNode=document.createTextNode(a.CONTENTS),B.domNode.appendChild(B.textNode),B.savedLength=0,B}return A(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(d,R){if(this.savedLength!==0){O(x(a.prototype),"format",this).call(this,d,R);return}for(var B=this,F=0;B!=null&&B.statics.scope!==l.Scope.BLOCK_BLOT;)F+=B.offset(B.parent),B=B.parent;B!=null&&(this.savedLength=a.CONTENTS.length,B.optimize(),B.formatAt(F,a.CONTENTS.length,d,R),this.savedLength=0)}},{key:"index",value:function(d,R){return d===this.textNode?0:O(x(a.prototype),"index",this).call(this,d,R)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){O(x(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||this.parent==null)return null;for(var d=this.selection.getNativeRange();this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var R=this.prev instanceof o.a?this.prev:null,B=R?R.length():0,F=this.next instanceof o.a?this.next:null,N=F?F.text:"",tt=this.textNode,M=tt.data.split(a.CONTENTS).join("");tt.data=a.CONTENTS;var Z;if(R)Z=R,(M||F)&&(R.insertAt(R.length(),M+N),F&&F.remove());else if(F)Z=F,F.insertAt(0,M);else{var ut=document.createTextNode(M);Z=this.scroll.create(ut),this.parent.insertBefore(Z,this)}if(this.remove(),d){var ht=function(V,L){return R&&V===R.domNode?L:V===tt?B+L-1:F&&V===F.domNode?B+M.length+L:null},it=ht(d.start.node,d.start.offset),mt=ht(d.end.node,d.end.offset);if(it!==null&&mt!==null)return{startNode:Z.domNode,startOffset:it,endNode:Z.domNode,endOffset:mt}}return null}},{key:"update",value:function(d,R){var B=this;if(d.some(function(N){return N.type==="characterData"&&N.target===B.textNode})){var F=this.restore();F&&(R.range=F)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),a}(l.EmbedBlot);W.blotName="cursor",W.className="ql-cursor",W.tagName="span",W.CONTENTS="\uFEFF",i.a=W},function(r,i,t){t.r(i);var l=t(0),o=t(6),u=t(10),p=t(13),S=t(24),A=t(56),O=t(14),g=t(18),P=t(9),_=t(26),E=t(50),w=t(27),I=t(59);l.a.register({"blots/block":o.d,"blots/block/embed":o.a,"blots/break":u.a,"blots/container":p.a,"blots/cursor":S.a,"blots/embed":A.a,"blots/inline":O.a,"blots/scroll":g.a,"blots/text":P.a,"modules/clipboard":_.b,"modules/history":E.a,"modules/keyboard":w.b,"modules/uploader":I.a}),i.default=l.a},function(r,i,t){t.d(i,"b",function(){return z}),t.d(i,"d",function(){return Mt}),t.d(i,"a",function(){return Q}),t.d(i,"c",function(){return J});var l=t(1),o=t.n(l),u=t(2),p=t(6),S=t(0),A=t(23),O=t(12),g=t(38),P=t(45),_=t(17),E=t(34),w=t(35),I=t(46),v=t(47),x=t(27),W=t(31);function U(Ot,Et){var wt=Object.keys(Ot);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(Ot);Et&&(Bt=Bt.filter(function(Pt){return Object.getOwnPropertyDescriptor(Ot,Pt).enumerable})),wt.push.apply(wt,Bt)}return wt}function m(Ot){for(var Et=1;Et<arguments.length;Et++){var wt=arguments[Et]!=null?arguments[Et]:{};Et%2?U(Object(wt),!0).forEach(function(Bt){f(Ot,Bt,wt[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ot,Object.getOwnPropertyDescriptors(wt)):U(Object(wt)).forEach(function(Bt){Object.defineProperty(Ot,Bt,Object.getOwnPropertyDescriptor(wt,Bt))})}return Ot}function a(Ot){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(wt){return typeof wt}:a=function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},a(Ot)}function f(Ot,Et,wt){return Et in Ot?Object.defineProperty(Ot,Et,{value:wt,enumerable:!0,configurable:!0,writable:!0}):Ot[Et]=wt,Ot}function d(Ot,Et){return tt(Ot)||N(Ot,Et)||B(Ot,Et)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(Ot,Et){if(Ot){if(typeof Ot=="string")return F(Ot,Et);var wt=Object.prototype.toString.call(Ot).slice(8,-1);if(wt==="Object"&&Ot.constructor&&(wt=Ot.constructor.name),wt==="Map"||wt==="Set")return Array.from(Ot);if(wt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(wt))return F(Ot,Et)}}function F(Ot,Et){(Et==null||Et>Ot.length)&&(Et=Ot.length);for(var wt=0,Bt=new Array(Et);wt<Et;wt++)Bt[wt]=Ot[wt];return Bt}function N(Ot,Et){var wt=Ot==null?null:typeof Symbol<"u"&&Ot[Symbol.iterator]||Ot["@@iterator"];if(wt!=null){var Bt=[],Pt=!0,Ft=!1,Dt,$t;try{for(wt=wt.call(Ot);!(Pt=(Dt=wt.next()).done)&&(Bt.push(Dt.value),!(Et&&Bt.length===Et));Pt=!0);}catch(qt){Ft=!0,$t=qt}finally{try{!Pt&&wt.return!=null&&wt.return()}finally{if(Ft)throw $t}}return Bt}}function tt(Ot){if(Array.isArray(Ot))return Ot}function M(Ot,Et){if(!(Ot instanceof Et))throw new TypeError("Cannot call a class as a function")}function Z(Ot,Et){for(var wt=0;wt<Et.length;wt++){var Bt=Et[wt];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Ot,Bt.key,Bt)}}function ut(Ot,Et,wt){return Et&&Z(Ot.prototype,Et),wt&&Z(Ot,wt),Ot}function ht(Ot,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function");Ot.prototype=Object.create(Et&&Et.prototype,{constructor:{value:Ot,writable:!0,configurable:!0}}),Et&&it(Ot,Et)}function it(Ot,Et){return it=Object.setPrototypeOf||function(Bt,Pt){return Bt.__proto__=Pt,Bt},it(Ot,Et)}function mt(Ot){var Et=L();return function(){var Bt=et(Ot),Pt;if(Et){var Ft=et(this).constructor;Pt=Reflect.construct(Bt,arguments,Ft)}else Pt=Bt.apply(this,arguments);return Y(this,Pt)}}function Y(Ot,Et){if(Et&&(a(Et)==="object"||typeof Et=="function"))return Et;if(Et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(Ot)}function V(Ot){if(Ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ot}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(Ot){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)},et(Ot)}var st=Object(A.a)("quill:clipboard"),_t=1,ot=3,dt=[[ot,re],[ot,kt],["br",c],[_t,kt],[_t,y],[_t,q],[_t,Gt],["li",ct],["ol, ul",St],["pre",T],["b",Nt.bind(Nt,"bold")],["i",Nt.bind(Nt,"italic")],["strike",Nt.bind(Nt,"strike")],["style",H]],Tt=[re,kt],Rt=[g.a,w.a].reduce(function(Ot,Et){return Ot[Et.keyName]=Et,Ot},{}),rt=[g.c,P.b,E.c,w.c,I.b,v.b].reduce(function(Ot,Et){return Ot[Et.keyName]=Et,Ot},{}),z=function(Ot){ht(wt,Ot);var Et=mt(wt);function wt(Bt,Pt){var Ft,Dt;return M(this,wt),Dt=Et.call(this,Bt,Pt),Dt.quill.root.addEventListener("copy",function($t){return Dt.onCaptureCopy($t,!1)}),Dt.quill.root.addEventListener("cut",function($t){return Dt.onCaptureCopy($t,!0)}),Dt.quill.root.addEventListener("paste",Dt.onCapturePaste.bind(V(Dt))),Dt.matchers=[],Dt.tableBlots=(Ft=Pt.tableBlots)!==null&&Ft!==void 0?Ft:[],dt.concat(Dt.options.matchers).forEach(function($t){var qt=d($t,2),Jt=qt[0],ne=qt[1];Dt.addMatcher(Jt,ne)}),Dt}return ut(wt,[{key:"addMatcher",value:function(Pt,Ft){this.matchers.push([Pt,Ft])}},{key:"addTableBlot",value:function(Pt){this.tableBlots.push(Pt)}},{key:"convert",value:function(Pt){var Ft=Pt.html,Dt=Pt.text,$t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $t[_.c.blotName]?new o.a().insert(Dt,f({},_.c.blotName,$t[_.c.blotName])):Ft?this.applyMatchers(Ft,$t):this.applyTextMatchers(Dt)}},{key:"applyTextMatchers",value:function(){var Pt=this,Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Ft.length===0)return new o.a;var Dt=this.prepareTextMatching(),$t=this.quill.root.ownerDocument.createElement("div");$t.textContent=Ft;var qt=$t.childNodes[0];return Dt.reduce(function(Jt,ne){return ne(qt,Jt,Pt.quill.scroll)},new o.a)}},{key:"applyMatchers",value:function(Pt){var Ft=this,Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$t=new DOMParser().parseFromString(Pt,"text/html"),qt=$t.body,Jt=new WeakMap,ne=this.prepareMatching(qt,Jt),pt=d(ne,2),At=pt[0],vt=pt[1],G=Mt(this.quill.scroll,qt,At,vt,Jt);return J(G,`
`)&&(G.ops[G.ops.length-1].attributes==null||Object.values(Dt).some(function(K){return Ft.tableBlots.includes(K)}))?G.compose(new o.a().retain(G.length()-1).delete(1)):G}},{key:"dangerouslyPasteHTML",value:function(Pt,Ft){var Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.a.sources.API;if(typeof Pt=="string"){var $t=this.convert({html:Pt,text:""});this.quill.setContents($t,Ft),this.quill.setSelection(0,S.a.sources.SILENT)}else{var qt=this.convert({html:Ft,text:""});this.quill.updateContents(new o.a().retain(Pt).concat(qt),Dt),this.quill.setSelection(Pt+qt.length(),S.a.sources.SILENT)}}},{key:"onCaptureCopy",value:function(Pt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Pt.defaultPrevented){if(Pt.clipboardData)Pt.preventDefault();else return;var Dt=this.quill.selection.getRange(),$t=d(Dt,1),qt=$t[0];if(qt!=null){var Jt=this.onCopy(qt,Ft),ne=Jt.html,pt=Jt.text;Pt.clipboardData.setData("text/plain",pt),Pt.clipboardData.setData("text/html",ne),Ft&&(this.raiseCallback("onCut",Pt),Object(x.c)({range:qt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(Pt){if(!(Pt.defaultPrevented||!this.quill.isEnabled())){if(this.raiseCallback("onPaste",Pt),Pt.clipboardData)Pt.preventDefault();else return;var Ft=this.quill.getSelection(!0);if(Ft!=null){var Dt=Pt.clipboardData.getData("text/html"),$t=Array.from(Pt.clipboardData.files||[]);if(!Dt&&$t.length>0){this.quill.uploader.upload(Ft,$t);return}if(Dt&&$t.length>0){var qt=new DOMParser().parseFromString(Dt,"text/html"),Jt=qt.body,ne=Jt.childElementCount===1&&Jt.firstElementChild.tagName==="IMG";if(ne){this.quill.uploader.upload(Ft,$t);return}}var pt=Pt.clipboardData.getData("text/plain");this.onPaste(Ft,{html:Dt,text:pt})}}}},{key:"raiseCallback",value:function(Pt,Ft){var Dt=this.options[Pt];Dt&&typeof Dt=="function"&&Dt(Ft)}},{key:"onCopy",value:function(Pt){var Ft=this.quill.getText(Pt),Dt=this.quill.getSemanticHTML(Pt);return{html:Dt,text:Ft}}},{key:"onPaste",value:function(Pt,Ft){var Dt=Ft.text,$t=Ft.html,qt=this.quill.getFormat(Pt.index),Jt=this.convert({text:Dt,html:$t},qt);st.log("onPaste",Jt,{text:Dt,html:$t});var ne=new o.a().retain(Pt.index).delete(Pt.length).concat(Jt);this.quill.updateContents(ne,S.a.sources.USER),this.quill.setSelection(ne.length()-Pt.length,S.a.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(Pt,Ft){var Dt=[],$t=[];return this.matchers.forEach(function(qt){var Jt=d(qt,2),ne=Jt[0],pt=Jt[1];switch(ne){case ot:$t.push(pt);break;case _t:Dt.push(pt);break;default:Array.from(Pt.querySelectorAll(ne)).forEach(function(At){if(Ft.has(At)){var vt=Ft.get(At);vt.push(pt)}else Ft.set(At,[pt])});break}}),[Dt,$t]}},{key:"prepareTextMatching",value:function(){var Pt=[Qt];return this.matchers.forEach(function(Ft){var Dt=d(Ft,2),$t=Dt[0],qt=Dt[1];Tt.indexOf(qt)===-1&&$t===ot&&Pt.push(qt)}),Pt}}]),wt}(O.a);z.DEFAULTS={matchers:[]};function Q(Ot,Et,wt){return a(Et)==="object"?Object.keys(Et).reduce(function(Bt,Pt){return Q(Bt,Pt,Et[Pt])},Ot):Ot.reduce(function(Bt,Pt){if(Pt.attributes&&Pt.attributes[Et])return Bt.push(Pt);var Ft=wt?f({},Et,wt):{};return Bt.insert(Pt.insert,m(m({},Ft),Pt.attributes))},new o.a)}function J(Ot,Et){for(var wt="",Bt=Ot.ops.length-1;Bt>=0&&wt.length<Et.length;--Bt){var Pt=Ot.ops[Bt];if(typeof Pt.insert!="string")break;wt=Pt.insert+wt}return wt.slice(-1*Et.length)===Et}function nt(Ot){return Ot.childNodes.length===0?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(Ot.tagName.toLowerCase())!==-1}var gt=new WeakMap;function It(Ot){return Ot==null?!1:(gt.has(Ot)||(Ot.tagName==="PRE"?gt.set(Ot,!0):gt.set(Ot,It(Ot.parentNode))),gt.get(Ot))}function Mt(Ot,Et,wt,Bt,Pt){return Et.nodeType===Et.TEXT_NODE?Bt.reduce(function(Ft,Dt){return Dt(Et,Ft,Ot)},new o.a):Et.nodeType===Et.ELEMENT_NODE?Array.from(Et.childNodes||[]).reduce(function(Ft,Dt){var $t=Mt(Ot,Dt,wt,Bt,Pt);return Dt.nodeType===Et.ELEMENT_NODE&&($t=wt.reduce(function(qt,Jt){return Jt(Dt,qt,Ot)},$t),$t=(Pt.get(Dt)||[]).reduce(function(qt,Jt){return Jt(Dt,qt,Ot)},$t)),Ft.concat($t)},new o.a):new o.a}function Nt(Ot,Et,wt){return Q(wt,Ot,!0)}function q(Ot,Et,wt){if(["TD","TH","TR","TABLE"].indexOf(Ot.tagName)===-1){var Bt=u.Attributor.keys(Ot),Pt=u.ClassAttributor.keys(Ot),Ft=u.StyleAttributor.keys(Ot),Dt={};if(Bt.concat(Pt).concat(Ft).forEach(function($t){var qt=wt.query($t,u.Scope.ATTRIBUTE);qt!=null&&(Dt[qt.attrName]=qt.value(Ot),Dt[qt.attrName])||(qt=Rt[$t],qt!=null&&(qt.attrName===$t||qt.keyName===$t)&&(Dt[qt.attrName]=qt.value(Ot)||void 0),qt=rt[$t],qt!=null&&(qt.attrName===$t||qt.keyName===$t)&&(qt=rt[$t],Dt[qt.attrName]=qt.value(Ot)||void 0))}),Object.keys(Dt).length>0)return Q(Et,Dt)}return Et}function y(Ot,Et,wt){var Bt=wt.query(Ot);if(Bt==null)return Et;if(Bt.prototype instanceof u.EmbedBlot){var Pt={},Ft=Bt.value(Ot);if(Ft!=null)return Pt[Bt.blotName]=Ft,new o.a().insert(Pt,Bt.formats(Ot,wt))}else if(Bt.prototype instanceof u.BlockBlot&&!J(Et,`
`)&&Et.insert(`
`),typeof Bt.formats=="function")return Q(Et,Bt.blotName,Bt.formats(Ot,wt));return Et}function c(Ot,Et){return J(Et,`
`)||Et.insert(`
`),Et}function T(Ot,Et,wt){var Bt=wt.query("code-block"),Pt=Bt?Bt.formats(Ot,wt):!0;return Q(Et,"code-block",Pt)}function H(){return new o.a}function ct(Ot,Et,wt){var Bt=wt.query(Ot);if(Bt==null||Bt.blotName!=="list"||!J(Et,`
`))return Et;for(var Pt=-1,Ft=Ot.parentNode;Ft!=null;)["OL","UL"].indexOf(Ft.tagName)!==-1&&(Pt+=1),Ft=Ft.parentNode;return Pt<=0?Et:Et.reduce(function(Dt,$t){return $t.attributes&&typeof $t.attributes.indent=="number"?Dt.push($t):Dt.insert($t.insert,m({indent:Pt},$t.attributes||{}))},new o.a)}function St(Ot,Et){var wt=Ot.tagName==="OL"?"ordered":"bullet";return Q(Et,"list",wt)}function kt(Ot,Et,wt){if(!J(Et,`
`)){if(nt(Ot))return Et.insert(`
`);if(Et.length()>0&&Ot.nextSibling)for(var Bt=Ot.nextSibling;Bt!=null;){if(nt(Bt))return Et.insert(`
`);var Pt=wt.query(Bt);if((Pt==null?void 0:Pt.prototype)instanceof p.a)return Et.insert(`
`);Bt=Bt.firstChild}}return Et}function Gt(Ot,Et){var wt={},Bt=Ot.style||{};return["height","width"].forEach(function(Pt){var Ft=["TD","TH"].indexOf(Ot.tagName)!==-1,Dt=Ot.tagName==="TABLE";if((Ft||Dt)&&Bt[Pt]){var $t="".concat(Dt?"table":"cell").concat(Object(W.a)(Pt));wt[$t]=Bt[Pt]}}),Bt.fontStyle==="italic"&&(wt.italic=!0),Bt.textDecoration.indexOf("underline")!==-1&&(wt.underline=!0),Bt.textDecoration.indexOf("line-through")!==-1&&(wt.strike=!0),(Bt.fontWeight.indexOf("bold")===0||parseInt(Bt.fontWeight,10)>=700)&&(wt.bold=!0),Object.keys(wt).length>0&&(Et=Q(Et,wt)),parseFloat(Bt.textIndent||0)>0?new o.a().insert("	").concat(Et):Et}function Qt(Ot,Et){var wt=Ot.data||"";return wt=wt.replace(/\r\n/g,`
`),Et.insert(wt)}function re(Ot,Et){var wt=Ot.data;if(Ot.parentNode.tagName==="O:P")return Et.insert(wt.trim());if(wt.trim().length===0&&wt.indexOf(`
`)!==-1)return Et;if(!It(Ot)){var Bt=function(Ft,Dt){var $t=Dt.replace(/[^\u00a0]/g,"");return $t.length<1&&Ft?" ":$t};wt=wt.replace(/\r\n/g," ").replace(/\n/g," "),wt=wt.replace(/\s\s+/g,Bt.bind(Bt,!0)),(Ot.previousSibling==null&&nt(Ot.parentNode)||Ot.previousSibling!=null&&nt(Ot.previousSibling))&&(wt=wt.replace(/^\s+/,Bt.bind(Bt,!1))),(Ot.nextSibling==null&&nt(Ot.parentNode)||Ot.nextSibling!=null&&nt(Ot.nextSibling))&&(wt=wt.replace(/\s+$/,Bt.bind(Bt,!1)))}return Et.insert(wt)}},function(r,i,t){t.d(i,"b",function(){return st}),t.d(i,"a",function(){return et}),t.d(i,"d",function(){return Tt}),t.d(i,"c",function(){return Rt});var l=t(16),o=t.n(l),u=t(30),p=t.n(u),S=t(1),A=t.n(S),O=t(2),g=t(0),P=t(23),_=t(12),E=t(15);function w(rt){var z=window,Q=z.innerHeight,J=rt.getBoundingClientRect(),nt=J.y,gt=J.bottom;return nt<0?!0:gt>=Q?!1:null}function I(rt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(Q){return typeof Q}:I=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},I(rt)}function v(rt,z){return a(rt)||m(rt,z)||W(rt,z)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(rt,z){if(rt){if(typeof rt=="string")return U(rt,z);var Q=Object.prototype.toString.call(rt).slice(8,-1);if(Q==="Object"&&rt.constructor&&(Q=rt.constructor.name),Q==="Map"||Q==="Set")return Array.from(rt);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return U(rt,z)}}function U(rt,z){(z==null||z>rt.length)&&(z=rt.length);for(var Q=0,J=new Array(z);Q<z;Q++)J[Q]=rt[Q];return J}function m(rt,z){var Q=rt==null?null:typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(Q!=null){var J=[],nt=!0,gt=!1,It,Mt;try{for(Q=Q.call(rt);!(nt=(It=Q.next()).done)&&(J.push(It.value),!(z&&J.length===z));nt=!0);}catch(Nt){gt=!0,Mt=Nt}finally{try{!nt&&Q.return!=null&&Q.return()}finally{if(gt)throw Mt}}return J}}function a(rt){if(Array.isArray(rt))return rt}function f(rt,z){var Q=Object.keys(rt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(rt);z&&(J=J.filter(function(nt){return Object.getOwnPropertyDescriptor(rt,nt).enumerable})),Q.push.apply(Q,J)}return Q}function d(rt){for(var z=1;z<arguments.length;z++){var Q=arguments[z]!=null?arguments[z]:{};z%2?f(Object(Q),!0).forEach(function(J){R(rt,J,Q[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Q)):f(Object(Q)).forEach(function(J){Object.defineProperty(rt,J,Object.getOwnPropertyDescriptor(Q,J))})}return rt}function R(rt,z,Q){return z in rt?Object.defineProperty(rt,z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):rt[z]=Q,rt}function B(rt,z){if(!(rt instanceof z))throw new TypeError("Cannot call a class as a function")}function F(rt,z){for(var Q=0;Q<z.length;Q++){var J=z[Q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(rt,J.key,J)}}function N(rt,z,Q){return z&&F(rt.prototype,z),Q&&F(rt,Q),rt}function tt(rt,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(z&&z.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),z&&M(rt,z)}function M(rt,z){return M=Object.setPrototypeOf||function(J,nt){return J.__proto__=nt,J},M(rt,z)}function Z(rt){var z=it();return function(){var J=mt(rt),nt;if(z){var gt=mt(this).constructor;nt=Reflect.construct(J,arguments,gt)}else nt=J.apply(this,arguments);return ut(this,nt)}}function ut(rt,z){if(z&&(I(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ht(rt)}function ht(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function it(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mt(rt){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},mt(rt)}var Y=Object(P.a)("quill:keyboard"),V={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},L={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},et=Object(E.a)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",st=function(rt){tt(Q,rt);var z=Z(Q);function Q(J,nt){var gt;return B(this,Q),gt=z.call(this,J,nt),gt.bindings={},Object.keys(gt.options.bindings).forEach(function(It){gt.options.bindings[It]&&gt.addBinding(gt.options.bindings[It])}),gt.addInternalBindings(),gt.listen(),gt}return N(Q,[{key:"addInternalBindings",value:function(){var nt=this;this.quill.once(g.a.events.CONTENT_SETTED,function(){nt.addBinding({key:"enter",shiftKey:null},nt.handleEnter),nt.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),Object(E.a)()&&/Firefox/i.test(navigator.userAgent)?(nt.addBinding({key:"backspace"},{collapsed:!0},nt.handleBackspace),nt.addBinding({key:"del"},{collapsed:!0},nt.handleDelete)):(nt.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},nt.handleBackspace),nt.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},nt.handleDelete)),nt.addBinding({key:"backspace"},{collapsed:!1},nt.handleDeleteRange),nt.addBinding({key:"del"},{collapsed:!1},nt.handleDeleteRange),nt.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},nt.handleBackspace)})}},{key:"addBinding",value:function(nt){var gt=this,It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Nt=Tt(nt);if(Nt==null){Y.warn("Attempted to add invalid keyboard binding",Nt);return}typeof It=="function"&&(It={handler:It}),typeof Mt=="function"&&(Mt={handler:Mt});var q=Nt.which?"which":"key",y=Array.isArray(Nt[q])?Nt[q]:[Nt[q]];y.forEach(function(c){var T=d(d(d({},Nt),{},{key:c},It),Mt);gt.bindings[T.key]=gt.bindings[T.key]||[],gt.bindings[T.key].push(T)})}},{key:"listen",value:function(){var nt=this;this.quill.root.addEventListener("keydown",function(gt){if(!(gt.defaultPrevented||gt.isComposing)){nt.raiseOnKeydownCallback(gt);var It=Q.normalizeKeyName(gt),Mt=(nt.bindings[It]||[]).concat(nt.bindings[gt.which]||[]),Nt=Mt.filter(function(Dt){return Q.match(gt,Dt)});if(Nt.length!==0){var q=nt.quill.getSelection();if(!(q==null||!nt.quill.hasFocus())){var y=nt.quill.getLine(q.index),c=v(y,2),T=c[0],H=c[1],ct=nt.quill.getLeaf(q.index),St=v(ct,2),kt=St[0],Gt=St[1],Qt=q.length===0?[kt,Gt]:nt.quill.getLeaf(q.index+q.length),re=v(Qt,2),Ot=re[0],Et=re[1],wt=kt instanceof O.TextBlot?kt.value().slice(0,Gt):"",Bt=Ot instanceof O.TextBlot?Ot.value().slice(Et):"",Pt={collapsed:q.length===0,empty:q.length===0&&T.length()<=1,format:nt.quill.getFormat(q),line:T,offset:H,prefix:wt,suffix:Bt,event:gt},Ft=!1;Nt.some(function(Dt){if(Dt.collapsed!=null&&Dt.collapsed!==Pt.collapsed||Dt.empty!=null&&Dt.empty!==Pt.empty||Dt.offset!=null&&Dt.offset!==Pt.offset)return!1;if(Array.isArray(Dt.format)){if(Dt.format.every(function(Jt){return Pt.format[Jt]==null}))return!1}else if(I(Dt.format)==="object"&&!Object.keys(Dt.format).every(function(Jt){return Dt.format[Jt]===!0?Pt.format[Jt]!=null:Dt.format[Jt]===!1?Pt.format[Jt]==null:p()(Dt.format[Jt],Pt.format[Jt])}))return!1;if(Dt.prefix!=null&&!Dt.prefix.test(Pt.prefix)||Dt.suffix!=null&&!Dt.suffix.test(Pt.suffix))return!1;var $t=Dt.handler.call(nt,q,Pt,Dt),qt=$t==null?void 0:$t.preventAfterAllMatches;return Ft=$t!==!0||qt,Ft&&!qt}),Ft&&gt.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(nt){var gt=this.options.onKeydown;gt&&typeof gt=="function"&&gt(nt)}},{key:"handleBackspace",value:function(nt,gt){var It=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(gt.prefix)?2:1;if(!(nt.index===0||this.quill.getLength()<=1)){var Mt={},Nt=this.quill.getLine(nt.index),q=v(Nt,1),y=q[0],c=new A.a().retain(nt.index-It).delete(It);if(gt.offset===0){var T=this.quill.getLine(nt.index-1),H=v(T,1),ct=H[0];if(ct){var St=ct.statics.blotName==="block"&&ct.length()<=1;if(!St){var kt=y.formats(),Gt=this.quill.getFormat(nt.index-1,1);if(Mt=S.AttributeMap.diff(kt,Gt)||{},Object.keys(Mt).length>0){var Qt=new A.a().retain(nt.index+y.length()-2).retain(1,Mt);c=c.compose(Qt)}}}}this.quill.updateContents(c,g.a.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(nt,gt){var It=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(gt.suffix)?2:1;if(!(nt.index>=this.quill.getLength()-It)){var Mt={},Nt=this.quill.getLine(nt.index),q=v(Nt,1),y=q[0],c=new A.a().retain(nt.index).delete(It);if(gt.offset>=y.length()-1){var T=this.quill.getLine(nt.index+1),H=v(T,1),ct=H[0];if(ct){var St=y.formats(),kt=this.quill.getFormat(nt.index,1);Mt=S.AttributeMap.diff(St,kt)||{},Object.keys(Mt).length>0&&(c=c.retain(ct.length()-1).retain(1,Mt))}}this.quill.updateContents(c,g.a.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(nt,gt){this.raiseOnKeydownCallback(gt.event),Rt({range:nt,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(nt,gt){var It=this,Mt=Object.keys(gt.format).reduce(function(H,ct){return It.quill.scroll.query(ct,O.Scope.BLOCK)&&!Array.isArray(gt.format[ct])&&(H[ct]=gt.format[ct]),H},{}),Nt=new A.a().retain(nt.index).delete(nt.length).insert(`
`,Mt);this.quill.updateContents(Nt,g.a.sources.USER),this.quill.setSelection(nt.index+1,g.a.sources.SILENT),this.quill.focus();var q=this.quill.getLine(nt.index+1),y=v(q,1),c=y[0],T=w(c.domNode);T!==null&&c.domNode.scrollIntoView(T),Object.keys(gt.format).forEach(function(H){Mt[H]==null&&(Array.isArray(gt.format[H])||H==="code"||H==="link"||(It.raiseOnKeydownCallback(gt.event),It.quill.format(H,gt.format[H],g.a.sources.USER)))})}}],[{key:"match",value:function(nt,gt){return["altKey","ctrlKey","metaKey","shiftKey"].some(function(It){return!!gt[It]!==nt[It]&&gt[It]!==null})?!1:gt.key===Q.normalizeKeyName(nt)||gt.key===nt.which}},{key:"normalizeKeyName",value:function(nt){var gt=nt.key,It=nt.which,Mt=!!gt,Nt=Mt?gt:It;return Nt&&(Mt?Nt=V[Nt.toLowerCase()]||Nt:Nt=L[Nt]||String.fromCharCode(Nt)),Nt}}]),Q}(_.a);st.DEFAULTS={bindings:{bold:dt("bold",66),italic:dt("italic",73),underline:dt("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(z,Q){return Q.collapsed&&Q.offset!==0?!0:(this.quill.format("indent","+1",g.a.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,Q){return Q.collapsed&&Q.offset!==0?!0:(this.quill.format("indent","-1",g.a.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,Q){Q.format.indent!=null?this.quill.format("indent","-1",g.a.sources.USER):Q.format.list!=null&&this.quill.format("list",!1,g.a.sources.USER)}},"indent code-block":_t(!0),"outdent code-block":_t(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,g.a.sources.USER)}},tab:{key:"tab",handler:function(z,Q){if(Q.format.table)return!0;this.quill.history.cutoff();var J=new A.a().retain(z.index).delete(z.length).insert("	");return this.quill.updateContents(J,g.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,g.a.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,g.a.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(z,Q){var J={list:!1};Q.format.indent&&(J.indent=!1),this.quill.formatLine(z.index,z.length,J,g.a.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(z){var Q=this.quill.getLine(z.index),J=v(Q,2),nt=J[0],gt=J[1],It=d(d({},nt.formats()),{},{list:"checked"}),Mt=new A.a().retain(z.index).insert(`
`,It).retain(nt.length()-gt-1).retain(1,{list:"unchecked"});this.quill.updateContents(Mt,g.a.sources.USER),this.quill.setSelection(z.index+1,g.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,Q){var J=this.quill.getLine(z.index),nt=v(J,2),gt=nt[0],It=nt[1],Mt=new A.a().retain(z.index).insert(`
`,Q.format).retain(gt.length()-It-1).retain(1,{header:null});this.quill.updateContents(Mt,g.a.sources.USER),this.quill.setSelection(z.index+1,g.a.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,Q){if(this.quill.scroll.query("list")==null)return!0;var J=Q.prefix.length,nt=this.quill.getLine(z.index),gt=v(nt,2),It=gt[0],Mt=gt[1];if(Mt>J)return!0;var Nt;switch(Q.prefix.trim()){case"[]":case"[ ]":Nt="unchecked";break;case"[x]":Nt="checked";break;case"-":case"*":Nt="bullet";break;default:Nt="ordered"}this.quill.insertText(z.index," ",g.a.sources.USER),this.quill.history.cutoff();var q=new A.a().retain(z.index-Mt).delete(J+1).retain(It.length()-2-Mt).retain(1,{list:Nt});return this.raiseOnKeydownCallback(Q.event),this.quill.updateContents(q,g.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-J,g.a.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(z){for(var Q=this.quill.getLine(z.index),J=v(Q,2),nt=J[0],gt=J[1],It=2,Mt=nt;Mt!=null&&Mt.length()<=1&&Mt.formats()["code-block"];)if(Mt=Mt.prev,It-=1,It<=0){var Nt=new A.a().retain(z.index+nt.length()-gt-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(Nt,g.a.sources.USER),this.quill.setSelection(z.index-1,g.a.sources.SILENT),!1}return!0}},"embed left":ot("leftArrow",!1),"embed left shift":ot("leftArrow",!0),"embed right":ot("rightArrow",!1),"embed right shift":ot("rightArrow",!0)}};function _t(rt){return{key:"tab",shiftKey:!rt,format:{"code-block":!0},handler:function(Q){var J=this.quill.scroll.query("code-block"),nt=Q.length===0?this.quill.getLines(Q.index,1):this.quill.getLines(Q),gt=Q.index,It=Q.length;nt.forEach(function(Mt,Nt){rt?(Mt.insertAt(0,J.TAB),Nt===0?gt+=J.TAB.length:It+=J.TAB.length):Mt.domNode.textContent.indexOf(J.TAB)===0&&(Mt.deleteAt(0,J.TAB.length),Nt===0?gt-=J.TAB.length:It-=J.TAB.length)}),this.quill.update(g.a.sources.USER),this.quill.setSelection(gt,It,g.a.sources.SILENT)}}}function ot(rt,z){var Q,J=rt==="leftArrow"?"prefix":"suffix";return Q={key:rt,shiftKey:z,altKey:null},R(Q,J,/^$/),R(Q,"handler",function(gt){var It=gt.index;rt==="rightArrow"&&(It+=gt.length+1);var Mt=this.quill.getLeaf(It),Nt=v(Mt,1),q=Nt[0];return q instanceof O.EmbedBlot?(rt==="leftArrow"?z?this.quill.setSelection(gt.index-1,gt.length+1,g.a.sources.USER):this.quill.setSelection(gt.index-1,g.a.sources.USER):z?this.quill.setSelection(gt.index,gt.length+1,g.a.sources.USER):this.quill.setSelection(gt.index+gt.length+1,g.a.sources.USER),!1):!0}),Q}function dt(rt,z){return{key:rt[0],which:z,shortKey:!0,handler:function(J,nt){return this.quill.format(rt,!nt.format[rt],g.a.sources.USER),{preventAfterAllMatches:!0}}}}function Tt(rt){if(typeof rt=="string"||typeof rt=="number")rt={key:rt};else if(I(rt)==="object")rt=o()(rt);else return null;return rt.shortKey&&(rt[et]=rt.shortKey,delete rt.shortKey),rt}function Rt(rt){var z=rt.quill,Q=rt.range,J=z.getLines(Q),nt={};if(J.length>1){var gt=J[0].formats(),It=J[J.length-1].formats();nt=S.AttributeMap.diff(It,gt)||{}}z.deleteText(Q,g.a.sources.USER),Object.keys(nt).length>0&&z.formatLine(Q.index,1,nt,g.a.sources.USER),z.setSelection(Q.index,g.a.sources.SILENT)}},function(r,i,t){var l=t(8),o=t(96),u=t(36),p=t(97),S=t(98),A=t(99),O=o("wks"),g=l.Symbol,P=g&&g.for,_=A?g:g&&g.withoutSetter||p;r.exports=function(E){if(!u(O,E)||!(S||typeof O[E]=="string")){var w="Symbol."+E;S&&u(g,E)?O[E]=g[E]:A&&P?O[E]=P(w):O[E]=_(w)}return O[E]}},function(r,i,t){t.d(i,"c",function(){return o}),t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p});var l=t(19);function o(S){var A=this.keyName;this.keyName=Object(l.c)(this.keyName);for(var O=arguments.length,g=new Array(O>1?O-1:0),P=1;P<O;P++)g[P-1]=arguments[P];var _=S.call.apply(S,[this].concat(g));return this.keyName=A,_}function u(S,A,O){var g=this.allowedTags.indexOf(A.tagName)>-1;return g&&S.call(this,A,O)}function p(S,A,O){return S(A).map(function(g){return Object(l.b)(A.tagName,g,O)})}},function(r,i,t){(function(l,o){var u=200,p="__lodash_hash_undefined__",S=1,A=2,O=9007199254740991,g="[object Arguments]",P="[object Array]",_="[object AsyncFunction]",E="[object Boolean]",w="[object Date]",I="[object Error]",v="[object Function]",x="[object GeneratorFunction]",W="[object Map]",U="[object Number]",m="[object Null]",a="[object Object]",f="[object Promise]",d="[object Proxy]",R="[object RegExp]",B="[object Set]",F="[object String]",N="[object Symbol]",tt="[object Undefined]",M="[object WeakMap]",Z="[object ArrayBuffer]",ut="[object DataView]",ht="[object Float32Array]",it="[object Float64Array]",mt="[object Int8Array]",Y="[object Int16Array]",V="[object Int32Array]",L="[object Uint8Array]",et="[object Uint8ClampedArray]",st="[object Uint16Array]",_t="[object Uint32Array]",ot=/[\\^$.*+?()[\]{}|]/g,dt=/^\[object .+?Constructor\]$/,Tt=/^(?:0|[1-9]\d*)$/,Rt={};Rt[ht]=Rt[it]=Rt[mt]=Rt[Y]=Rt[V]=Rt[L]=Rt[et]=Rt[st]=Rt[_t]=!0,Rt[g]=Rt[P]=Rt[Z]=Rt[E]=Rt[ut]=Rt[w]=Rt[I]=Rt[v]=Rt[W]=Rt[U]=Rt[a]=Rt[R]=Rt[B]=Rt[F]=Rt[M]=!1;var rt=typeof l=="object"&&l&&l.Object===Object&&l,z=typeof self=="object"&&self&&self.Object===Object&&self,Q=rt||z||Function("return this")(),J=i&&!i.nodeType&&i,nt=J&&typeof o=="object"&&o&&!o.nodeType&&o,gt=nt&&nt.exports===J,It=gt&&rt.process,Mt=function(){try{return It&&It.binding&&It.binding("util")}catch{}}(),Nt=Mt&&Mt.isTypedArray;function q(s,k){for(var h=-1,$=s==null?0:s.length,yt=0,Lt=[];++h<$;){var zt=s[h];k(zt,h,s)&&(Lt[yt++]=zt)}return Lt}function y(s,k){for(var h=-1,$=k.length,yt=s.length;++h<$;)s[yt+h]=k[h];return s}function c(s,k){for(var h=-1,$=s==null?0:s.length;++h<$;)if(k(s[h],h,s))return!0;return!1}function T(s,k){for(var h=-1,$=Array(s);++h<s;)$[h]=k(h);return $}function H(s){return function(k){return s(k)}}function ct(s,k){return s.has(k)}function St(s,k){return s==null?void 0:s[k]}function kt(s){var k=-1,h=Array(s.size);return s.forEach(function($,yt){h[++k]=[yt,$]}),h}function Gt(s,k){return function(h){return s(k(h))}}function Qt(s){var k=-1,h=Array(s.size);return s.forEach(function($){h[++k]=$}),h}var re=Array.prototype,Ot=Function.prototype,Et=Object.prototype,wt=Q["__core-js_shared__"],Bt=Ot.toString,Pt=Et.hasOwnProperty,Ft=function(){var s=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Dt=Et.toString,$t=RegExp("^"+Bt.call(Pt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=gt?Q.Buffer:void 0,Jt=Q.Symbol,ne=Q.Uint8Array,pt=Et.propertyIsEnumerable,At=re.splice,vt=Jt?Jt.toStringTag:void 0,G=Object.getOwnPropertySymbols,K=qt?qt.isBuffer:void 0,D=Gt(Object.keys,Object),at=Te(Q,"DataView"),X=Te(Q,"Map"),lt=Te(Q,"Promise"),Ct=Te(Q,"Set"),xt=Te(Q,"WeakMap"),jt=Te(Object,"create"),Ut=ge(at),Kt=ge(X),te=ge(lt),ce=ge(Ct),Ce=ge(xt),we=Jt?Jt.prototype:void 0,Ae=we?we.valueOf:void 0;function ie(s){var k=-1,h=s==null?0:s.length;for(this.clear();++k<h;){var $=s[k];this.set($[0],$[1])}}function ke(){this.__data__=jt?jt(null):{},this.size=0}function Br(s){var k=this.has(s)&&delete this.__data__[s];return this.size-=k?1:0,k}function tr(s){var k=this.__data__;if(jt){var h=k[s];return h===p?void 0:h}return Pt.call(k,s)?k[s]:void 0}function Mr(s){var k=this.__data__;return jt?k[s]!==void 0:Pt.call(k,s)}function Dr(s,k){var h=this.__data__;return this.size+=this.has(s)?0:1,h[s]=jt&&k===void 0?p:k,this}ie.prototype.clear=ke,ie.prototype.delete=Br,ie.prototype.get=tr,ie.prototype.has=Mr,ie.prototype.set=Dr;function fe(s){var k=-1,h=s==null?0:s.length;for(this.clear();++k<h;){var $=s[k];this.set($[0],$[1])}}function jr(){this.__data__=[],this.size=0}function Hr(s){var k=this.__data__,h=lr(k,s);if(h<0)return!1;var $=k.length-1;return h==$?k.pop():At.call(k,h,1),--this.size,!0}function kr(s){var k=this.__data__,h=lr(k,s);return h<0?void 0:k[h][1]}function Fr(s){return lr(this.__data__,s)>-1}function er(s,k){var h=this.__data__,$=lr(h,s);return $<0?(++this.size,h.push([s,k])):h[$][1]=k,this}fe.prototype.clear=jr,fe.prototype.delete=Hr,fe.prototype.get=kr,fe.prototype.has=Fr,fe.prototype.set=er;function be(s){var k=-1,h=s==null?0:s.length;for(this.clear();++k<h;){var $=s[k];this.set($[0],$[1])}}function vr(){this.size=0,this.__data__={hash:new ie,map:new(X||fe),string:new ie}}function rr(s){var k=xe(this,s).delete(s);return this.size-=k?1:0,k}function nr(s){return xe(this,s).get(s)}function mr(s){return xe(this,s).has(s)}function yr(s,k){var h=xe(this,s),$=h.size;return h.set(s,k),this.size+=h.size==$?0:1,this}be.prototype.clear=vr,be.prototype.delete=rr,be.prototype.get=nr,be.prototype.has=mr,be.prototype.set=yr;function Fe(s){var k=-1,h=s==null?0:s.length;for(this.__data__=new be;++k<h;)this.add(s[k])}function gr(s){return this.__data__.set(s,p),this}function ir(s){return this.__data__.has(s)}Fe.prototype.add=Fe.prototype.push=gr,Fe.prototype.has=ir;function Ne(s){var k=this.__data__=new fe(s);this.size=k.size}function ze(){this.__data__=new fe,this.size=0}function or(s){var k=this.__data__,h=k.delete(s);return this.size=k.size,h}function Wr(s){return this.__data__.get(s)}function $r(s){return this.__data__.has(s)}function Rr(s,k){var h=this.__data__;if(h instanceof fe){var $=h.__data__;if(!X||$.length<u-1)return $.push([s,k]),this.size=++h.size,this;h=this.__data__=new be($)}return h.set(s,k),this.size=h.size,this}Ne.prototype.clear=ze,Ne.prototype.delete=or,Ne.prototype.get=Wr,Ne.prototype.has=$r,Ne.prototype.set=Rr;function ar(s,k){var h=Re(s),$=!h&&cr(s),yt=!h&&!$&&Me(s),Lt=!h&&!$&&!yt&&Ge(s),zt=h||$||yt||Lt,Xt=zt?T(s.length,String):[],Zt=Xt.length;for(var Vt in s)(k||Pt.call(s,Vt))&&!(zt&&(Vt=="length"||yt&&(Vt=="offset"||Vt=="parent")||Lt&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||$e(Vt,Zt)))&&Xt.push(Vt);return Xt}function lr(s,k){for(var h=s.length;h--;)if(ur(s[h][0],k))return h;return-1}function sr(s,k,h){var $=k(s);return Re(s)?$:y($,h(s))}function Qe(s){return s==null?s===void 0?tt:m:vt&&vt in Object(s)?We(s):Ze(s)}function Ye(s){return Pe(s)&&Qe(s)==g}function wr(s,k,h,$,yt){return s===k?!0:s==null||k==null||!Pe(s)&&!Pe(k)?s!==s&&k!==k:Ur(s,k,h,$,wr,yt)}function Ur(s,k,h,$,yt,Lt){var zt=Re(s),Xt=Re(k),Zt=zt?P:Be(s),Vt=Xt?P:Be(k);Zt=Zt==g?a:Zt,Vt=Vt==g?a:Vt;var ee=Zt==a,se=Vt==a,oe=Zt==Vt;if(oe&&Me(s)){if(!Me(k))return!1;zt=!0,ee=!1}if(oe&&!ee)return Lt||(Lt=new Ne),zt||Ge(s)?_r(s,k,h,$,yt,Lt):xr(s,k,Zt,h,$,yt,Lt);if(!(h&S)){var he=ee&&Pt.call(s,"__wrapped__"),ve=se&&Pt.call(k,"__wrapped__");if(he||ve){var Ie=he?s.value():s,De=ve?k.value():k;return Lt||(Lt=new Ne),yt(Ie,De,h,$,Lt)}}return oe?(Lt||(Lt=new Ne),Ve(s,k,h,$,yt,Lt)):!1}function Ke(s){if(!Cr(s)||Vr(s))return!1;var k=Se(s)?$t:dt;return k.test(ge(s))}function br(s){return Pe(s)&&Ue(s.length)&&!!Rt[Qe(s)]}function zr(s){if(!Or(s))return D(s);var k=[];for(var h in Object(s))Pt.call(s,h)&&h!="constructor"&&k.push(h);return k}function _r(s,k,h,$,yt,Lt){var zt=h&S,Xt=s.length,Zt=k.length;if(Xt!=Zt&&!(zt&&Zt>Xt))return!1;var Vt=Lt.get(s);if(Vt&&Lt.get(k))return Vt==k;var ee=-1,se=!0,oe=h&A?new Fe:void 0;for(Lt.set(s,k),Lt.set(k,s);++ee<Xt;){var he=s[ee],ve=k[ee];if($)var Ie=zt?$(ve,he,ee,k,s,Lt):$(he,ve,ee,s,k,Lt);if(Ie!==void 0){if(Ie)continue;se=!1;break}if(oe){if(!c(k,function(De,Tr){if(!ct(oe,Tr)&&(he===De||yt(he,De,h,$,Lt)))return oe.push(Tr)})){se=!1;break}}else if(!(he===ve||yt(he,ve,h,$,Lt))){se=!1;break}}return Lt.delete(s),Lt.delete(k),se}function xr(s,k,h,$,yt,Lt,zt){switch(h){case ut:if(s.byteLength!=k.byteLength||s.byteOffset!=k.byteOffset)return!1;s=s.buffer,k=k.buffer;case Z:return!(s.byteLength!=k.byteLength||!Lt(new ne(s),new ne(k)));case E:case w:case U:return ur(+s,+k);case I:return s.name==k.name&&s.message==k.message;case R:case F:return s==k+"";case W:var Xt=kt;case B:var Zt=$&S;if(Xt||(Xt=Qt),s.size!=k.size&&!Zt)return!1;var Vt=zt.get(s);if(Vt)return Vt==k;$|=A,zt.set(s,k);var ee=_r(Xt(s),Xt(k),$,yt,Lt,zt);return zt.delete(s),ee;case N:if(Ae)return Ae.call(s)==Ae.call(k)}return!1}function Ve(s,k,h,$,yt,Lt){var zt=h&S,Xt=Le(s),Zt=Xt.length,Vt=Le(k),ee=Vt.length;if(Zt!=ee&&!zt)return!1;for(var se=Zt;se--;){var oe=Xt[se];if(!(zt?oe in k:Pt.call(k,oe)))return!1}var he=Lt.get(s);if(he&&Lt.get(k))return he==k;var ve=!0;Lt.set(s,k),Lt.set(k,s);for(var Ie=zt;++se<Zt;){oe=Xt[se];var De=s[oe],Tr=k[oe];if($)var tn=zt?$(Tr,De,oe,k,s,Lt):$(De,Tr,oe,s,k,Lt);if(!(tn===void 0?De===Tr||yt(De,Tr,h,$,Lt):tn)){ve=!1;break}Ie||(Ie=oe=="constructor")}if(ve&&!Ie){var en=s.constructor,rn=k.constructor;en!=rn&&"constructor"in s&&"constructor"in k&&!(typeof en=="function"&&en instanceof en&&typeof rn=="function"&&rn instanceof rn)&&(ve=!1)}return Lt.delete(s),Lt.delete(k),ve}function Le(s){return sr(s,fr,Pr)}function xe(s,k){var h=s.__data__;return Kr(k)?h[typeof k=="string"?"string":"hash"]:h.map}function Te(s,k){var h=St(s,k);return Ke(h)?h:void 0}function We(s){var k=Pt.call(s,vt),h=s[vt];try{s[vt]=void 0;var $=!0}catch{}var yt=Dt.call(s);return $&&(k?s[vt]=h:delete s[vt]),yt}var Pr=G?function(s){return s==null?[]:(s=Object(s),q(G(s),function(k){return pt.call(s,k)}))}:Gr,Be=Qe;(at&&Be(new at(new ArrayBuffer(1)))!=ut||X&&Be(new X)!=W||lt&&Be(lt.resolve())!=f||Ct&&Be(new Ct)!=B||xt&&Be(new xt)!=M)&&(Be=function(s){var k=Qe(s),h=k==a?s.constructor:void 0,$=h?ge(h):"";if($)switch($){case Ut:return ut;case Kt:return W;case te:return f;case ce:return B;case Ce:return M}return k});function $e(s,k){return k=k??O,!!k&&(typeof s=="number"||Tt.test(s))&&s>-1&&s%1==0&&s<k}function Kr(s){var k=typeof s;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?s!=="__proto__":s===null}function Vr(s){return!!Ft&&Ft in s}function Or(s){var k=s&&s.constructor,h=typeof k=="function"&&k.prototype||Et;return s===h}function Ze(s){return Dt.call(s)}function ge(s){if(s!=null){try{return Bt.call(s)}catch{}try{return s+""}catch{}}return""}function ur(s,k){return s===k||s!==s&&k!==k}var cr=Ye(function(){return arguments}())?Ye:function(s){return Pe(s)&&Pt.call(s,"callee")&&!pt.call(s,"callee")},Re=Array.isArray;function Je(s){return s!=null&&Ue(s.length)&&!Se(s)}var Me=K||Er;function Ir(s,k){return wr(s,k)}function Se(s){if(!Cr(s))return!1;var k=Qe(s);return k==v||k==x||k==_||k==d}function Ue(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=O}function Cr(s){var k=typeof s;return s!=null&&(k=="object"||k=="function")}function Pe(s){return s!=null&&typeof s=="object"}var Ge=Nt?H(Nt):br;function fr(s){return Je(s)?ar(s):zr(s)}function Gr(){return[]}function Er(){return!1}o.exports=Ir}).call(this,t(58),t(66)(r))},function(r,i,t){t.d(i,"a",function(){return l});function l(o){return o?o.substring(0,1).toUpperCase()+o.substring(1):""}},function(r,i,t){t.d(i,"d",function(){return l}),t.d(i,"a",function(){return o}),t.d(i,"c",function(){return u}),t.d(i,"b",function(){return p});var l={name:"table",allowedTags:["TABLE"]},o=["height","width"],u=["height","width","text-align","background-color","border","border-style","border-width","border-color"],p=new Set([].concat(o,u))},function(r,i,t){t.d(i,"d",function(){return l}),t.d(i,"a",function(){return o}),t.d(i,"c",function(){return u}),t.d(i,"b",function(){return p});var l={name:"cell",allowedTags:["TH","TD","TR"]},o=["height","width"],u=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],p=new Set([].concat(o,u))},function(r,i,t){t.d(i,"a",function(){return x}),t.d(i,"b",function(){return W}),t.d(i,"c",function(){return U});var l=t(2);function o(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(f){return typeof f}:o=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o(m)}function u(m,a){if(!(m instanceof a))throw new TypeError("Cannot call a class as a function")}function p(m,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function S(m,a,f){return a&&p(m.prototype,a),f&&p(m,f),m}function A(m,a,f){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(R,B,F){var N=O(R,B);if(N){var tt=Object.getOwnPropertyDescriptor(N,B);return tt.get?tt.get.call(F):tt.value}},A(m,a,f||m)}function O(m,a){for(;!Object.prototype.hasOwnProperty.call(m,a)&&(m=v(m),m!==null););return m}function g(m,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(a&&a.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),a&&P(m,a)}function P(m,a){return P=Object.setPrototypeOf||function(d,R){return d.__proto__=R,d},P(m,a)}function _(m){var a=I();return function(){var d=v(m),R;if(a){var B=v(this).constructor;R=Reflect.construct(d,arguments,B)}else R=d.apply(this,arguments);return E(this,R)}}function E(m,a){if(a&&(o(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(m)}function w(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(m){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},v(m)}var x=function(m){g(f,m);var a=_(f);function f(){return u(this,f),a.apply(this,arguments)}return S(f,[{key:"value",value:function(R){var B=A(v(f.prototype),"value",this).call(this,R);if(B.indexOf("rgb(")!==0)return B;B=B.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var F=B.split(",").map(function(N){return"00".concat(parseInt(N,10).toString(16)).slice(-2)}).join("");return"#".concat(F)}}]),f}(l.StyleAttributor),W=new l.ClassAttributor("color","ql-color",{scope:l.Scope.INLINE}),U=new x("color","color",{scope:l.Scope.INLINE})},function(r,i,t){t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p}),t.d(i,"c",function(){return S});var l=t(2),o={scope:l.Scope.BLOCK,whitelist:["rtl"]},u=new l.Attributor("direction","dir",o),p=new l.ClassAttributor("direction","ql-direction",o),S=new l.StyleAttributor("direction","direction",o)},function(r,i,t){var l=t(20),o=t(68),u=l({}.hasOwnProperty);r.exports=Object.hasOwn||function(S,A){return u(o(S),A)}},function(r,i,t){(function(l,o){var u=200,p="__lodash_hash_undefined__",S=800,A=16,O=9007199254740991,g="[object Arguments]",P="[object Array]",_="[object AsyncFunction]",E="[object Boolean]",w="[object Date]",I="[object Error]",v="[object Function]",x="[object GeneratorFunction]",W="[object Map]",U="[object Number]",m="[object Null]",a="[object Object]",f="[object Proxy]",d="[object RegExp]",R="[object Set]",B="[object String]",F="[object Undefined]",N="[object WeakMap]",tt="[object ArrayBuffer]",M="[object DataView]",Z="[object Float32Array]",ut="[object Float64Array]",ht="[object Int8Array]",it="[object Int16Array]",mt="[object Int32Array]",Y="[object Uint8Array]",V="[object Uint8ClampedArray]",L="[object Uint16Array]",et="[object Uint32Array]",st=/[\\^$.*+?()[\]{}|]/g,_t=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,dt={};dt[Z]=dt[ut]=dt[ht]=dt[it]=dt[mt]=dt[Y]=dt[V]=dt[L]=dt[et]=!0,dt[g]=dt[P]=dt[tt]=dt[E]=dt[M]=dt[w]=dt[I]=dt[v]=dt[W]=dt[U]=dt[a]=dt[d]=dt[R]=dt[B]=dt[N]=!1;var Tt=typeof l=="object"&&l&&l.Object===Object&&l,Rt=typeof self=="object"&&self&&self.Object===Object&&self,rt=Tt||Rt||Function("return this")(),z=i&&!i.nodeType&&i,Q=z&&typeof o=="object"&&o&&!o.nodeType&&o,J=Q&&Q.exports===z,nt=J&&Tt.process,gt=function(){try{var h=Q&&Q.require&&Q.require("util").types;return h||nt&&nt.binding&&nt.binding("util")}catch{}}(),It=gt&&gt.isTypedArray;function Mt(h,$,yt){switch(yt.length){case 0:return h.call($);case 1:return h.call($,yt[0]);case 2:return h.call($,yt[0],yt[1]);case 3:return h.call($,yt[0],yt[1],yt[2])}return h.apply($,yt)}function Nt(h,$){for(var yt=-1,Lt=Array(h);++yt<h;)Lt[yt]=$(yt);return Lt}function q(h){return function($){return h($)}}function y(h,$){return h==null?void 0:h[$]}function c(h,$){return function(yt){return h($(yt))}}var T=Array.prototype,H=Function.prototype,ct=Object.prototype,St=rt["__core-js_shared__"],kt=H.toString,Gt=ct.hasOwnProperty,Qt=function(){var h=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),re=ct.toString,Ot=kt.call(Object),Et=RegExp("^"+kt.call(Gt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=J?rt.Buffer:void 0,Bt=rt.Symbol,Pt=rt.Uint8Array,Ft=wt?wt.allocUnsafe:void 0,Dt=c(Object.getPrototypeOf,Object),$t=Object.create,qt=ct.propertyIsEnumerable,Jt=T.splice,ne=Bt?Bt.toStringTag:void 0,pt=function(){try{var h=br(Object,"defineProperty");return h({},"",{}),h}catch{}}(),At=wt?wt.isBuffer:void 0,vt=Math.max,G=Date.now,K=br(rt,"Map"),D=br(Object,"create"),at=function(){function h(){}return function($){if(!Se($))return{};if($t)return $t($);h.prototype=$;var yt=new h;return h.prototype=void 0,yt}}();function X(h){var $=-1,yt=h==null?0:h.length;for(this.clear();++$<yt;){var Lt=h[$];this.set(Lt[0],Lt[1])}}function lt(){this.__data__=D?D(null):{},this.size=0}function Ct(h){var $=this.has(h)&&delete this.__data__[h];return this.size-=$?1:0,$}function xt(h){var $=this.__data__;if(D){var yt=$[h];return yt===p?void 0:yt}return Gt.call($,h)?$[h]:void 0}function jt(h){var $=this.__data__;return D?$[h]!==void 0:Gt.call($,h)}function Ut(h,$){var yt=this.__data__;return this.size+=this.has(h)?0:1,yt[h]=D&&$===void 0?p:$,this}X.prototype.clear=lt,X.prototype.delete=Ct,X.prototype.get=xt,X.prototype.has=jt,X.prototype.set=Ut;function Kt(h){var $=-1,yt=h==null?0:h.length;for(this.clear();++$<yt;){var Lt=h[$];this.set(Lt[0],Lt[1])}}function te(){this.__data__=[],this.size=0}function ce(h){var $=this.__data__,yt=nr($,h);if(yt<0)return!1;var Lt=$.length-1;return yt==Lt?$.pop():Jt.call($,yt,1),--this.size,!0}function Ce(h){var $=this.__data__,yt=nr($,h);return yt<0?void 0:$[yt][1]}function we(h){return nr(this.__data__,h)>-1}function Ae(h,$){var yt=this.__data__,Lt=nr(yt,h);return Lt<0?(++this.size,yt.push([h,$])):yt[Lt][1]=$,this}Kt.prototype.clear=te,Kt.prototype.delete=ce,Kt.prototype.get=Ce,Kt.prototype.has=we,Kt.prototype.set=Ae;function ie(h){var $=-1,yt=h==null?0:h.length;for(this.clear();++$<yt;){var Lt=h[$];this.set(Lt[0],Lt[1])}}function ke(){this.size=0,this.__data__={hash:new X,map:new(K||Kt),string:new X}}function Br(h){var $=Ke(this,h).delete(h);return this.size-=$?1:0,$}function tr(h){return Ke(this,h).get(h)}function Mr(h){return Ke(this,h).has(h)}function Dr(h,$){var yt=Ke(this,h),Lt=yt.size;return yt.set(h,$),this.size+=yt.size==Lt?0:1,this}ie.prototype.clear=ke,ie.prototype.delete=Br,ie.prototype.get=tr,ie.prototype.has=Mr,ie.prototype.set=Dr;function fe(h){var $=this.__data__=new Kt(h);this.size=$.size}function jr(){this.__data__=new Kt,this.size=0}function Hr(h){var $=this.__data__,yt=$.delete(h);return this.size=$.size,yt}function kr(h){return this.__data__.get(h)}function Fr(h){return this.__data__.has(h)}function er(h,$){var yt=this.__data__;if(yt instanceof Kt){var Lt=yt.__data__;if(!K||Lt.length<u-1)return Lt.push([h,$]),this.size=++yt.size,this;yt=this.__data__=new ie(Lt)}return yt.set(h,$),this.size=yt.size,this}fe.prototype.clear=jr,fe.prototype.delete=Hr,fe.prototype.get=kr,fe.prototype.has=Fr,fe.prototype.set=er;function be(h,$){var yt=ur(h),Lt=!yt&&ge(h),zt=!yt&&!Lt&&Je(h),Xt=!yt&&!Lt&&!zt&&Pe(h),Zt=yt||Lt||zt||Xt,Vt=Zt?Nt(h.length,String):[],ee=Vt.length;for(var se in h)($||Gt.call(h,se))&&!(Zt&&(se=="length"||zt&&(se=="offset"||se=="parent")||Xt&&(se=="buffer"||se=="byteLength"||se=="byteOffset")||xr(se,ee)))&&Vt.push(se);return Vt}function vr(h,$,yt){(yt!==void 0&&!Ze(h[$],yt)||yt===void 0&&!($ in h))&&mr(h,$,yt)}function rr(h,$,yt){var Lt=h[$];(!(Gt.call(h,$)&&Ze(Lt,yt))||yt===void 0&&!($ in h))&&mr(h,$,yt)}function nr(h,$){for(var yt=h.length;yt--;)if(Ze(h[yt][0],$))return yt;return-1}function mr(h,$,yt){$=="__proto__"&&pt?pt(h,$,{configurable:!0,enumerable:!0,value:yt,writable:!0}):h[$]=yt}var yr=Ur();function Fe(h){return h==null?h===void 0?F:m:ne&&ne in Object(h)?zr(h):Pr(h)}function gr(h){return Ue(h)&&Fe(h)==g}function ir(h){if(!Se(h)||xe(h))return!1;var $=Me(h)?Et:_t;return $.test(Or(h))}function Ne(h){return Ue(h)&&Ir(h.length)&&!!dt[Fe(h)]}function ze(h){if(!Se(h))return We(h);var $=Te(h),yt=[];for(var Lt in h)Lt=="constructor"&&($||!Gt.call(h,Lt))||yt.push(Lt);return yt}function or(h,$,yt,Lt,zt){h!==$&&yr($,function(Xt,Zt){if(zt||(zt=new fe),Se(Xt))Wr(h,$,Zt,yt,or,Lt,zt);else{var Vt=Lt?Lt($e(h,Zt),Xt,Zt+"",h,$,zt):void 0;Vt===void 0&&(Vt=Xt),vr(h,Zt,Vt)}},fr)}function Wr(h,$,yt,Lt,zt,Xt,Zt){var Vt=$e(h,yt),ee=$e($,yt),se=Zt.get(ee);if(se){vr(h,yt,se);return}var oe=Xt?Xt(Vt,ee,yt+"",h,$,Zt):void 0,he=oe===void 0;if(he){var ve=ur(ee),Ie=!ve&&Je(ee),De=!ve&&!Ie&&Pe(ee);oe=ee,ve||Ie||De?ur(Vt)?oe=Vt:Re(Vt)?oe=Qe(Vt):Ie?(he=!1,oe=ar(ee,!0)):De?(he=!1,oe=sr(ee,!0)):oe=[]:Cr(ee)||ge(ee)?(oe=Vt,ge(Vt)?oe=Ge(Vt):(!Se(Vt)||Me(Vt))&&(oe=_r(ee))):he=!1}he&&(Zt.set(ee,oe),zt(oe,ee,Lt,Xt,Zt),Zt.delete(ee)),vr(h,yt,oe)}function $r(h,$){return Kr(Be(h,$,s),h+"")}var Rr=pt?function(h,$){return pt(h,"toString",{configurable:!0,enumerable:!1,value:Er($),writable:!0})}:s;function ar(h,$){if($)return h.slice();var yt=h.length,Lt=Ft?Ft(yt):new h.constructor(yt);return h.copy(Lt),Lt}function lr(h){var $=new h.constructor(h.byteLength);return new Pt($).set(new Pt(h)),$}function sr(h,$){var yt=$?lr(h.buffer):h.buffer;return new h.constructor(yt,h.byteOffset,h.length)}function Qe(h,$){var yt=-1,Lt=h.length;for($||($=Array(Lt));++yt<Lt;)$[yt]=h[yt];return $}function Ye(h,$,yt,Lt){var zt=!yt;yt||(yt={});for(var Xt=-1,Zt=$.length;++Xt<Zt;){var Vt=$[Xt],ee=Lt?Lt(yt[Vt],h[Vt],Vt,yt,h):void 0;ee===void 0&&(ee=h[Vt]),zt?mr(yt,Vt,ee):rr(yt,Vt,ee)}return yt}function wr(h){return $r(function($,yt){var Lt=-1,zt=yt.length,Xt=zt>1?yt[zt-1]:void 0,Zt=zt>2?yt[2]:void 0;for(Xt=h.length>3&&typeof Xt=="function"?(zt--,Xt):void 0,Zt&&Ve(yt[0],yt[1],Zt)&&(Xt=zt<3?void 0:Xt,zt=1),$=Object($);++Lt<zt;){var Vt=yt[Lt];Vt&&h($,Vt,Lt,Xt)}return $})}function Ur(h){return function($,yt,Lt){for(var zt=-1,Xt=Object($),Zt=Lt($),Vt=Zt.length;Vt--;){var ee=Zt[h?Vt:++zt];if(yt(Xt[ee],ee,Xt)===!1)break}return $}}function Ke(h,$){var yt=h.__data__;return Le($)?yt[typeof $=="string"?"string":"hash"]:yt.map}function br(h,$){var yt=y(h,$);return ir(yt)?yt:void 0}function zr(h){var $=Gt.call(h,ne),yt=h[ne];try{h[ne]=void 0;var Lt=!0}catch{}var zt=re.call(h);return Lt&&($?h[ne]=yt:delete h[ne]),zt}function _r(h){return typeof h.constructor=="function"&&!Te(h)?at(Dt(h)):{}}function xr(h,$){var yt=typeof h;return $=$??O,!!$&&(yt=="number"||yt!="symbol"&&ot.test(h))&&h>-1&&h%1==0&&h<$}function Ve(h,$,yt){if(!Se(yt))return!1;var Lt=typeof $;return(Lt=="number"?cr(yt)&&xr($,yt.length):Lt=="string"&&$ in yt)?Ze(yt[$],h):!1}function Le(h){var $=typeof h;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?h!=="__proto__":h===null}function xe(h){return!!Qt&&Qt in h}function Te(h){var $=h&&h.constructor,yt=typeof $=="function"&&$.prototype||ct;return h===yt}function We(h){var $=[];if(h!=null)for(var yt in Object(h))$.push(yt);return $}function Pr(h){return re.call(h)}function Be(h,$,yt){return $=vt($===void 0?h.length-1:$,0),function(){for(var Lt=arguments,zt=-1,Xt=vt(Lt.length-$,0),Zt=Array(Xt);++zt<Xt;)Zt[zt]=Lt[$+zt];zt=-1;for(var Vt=Array($+1);++zt<$;)Vt[zt]=Lt[zt];return Vt[$]=yt(Zt),Mt(h,this,Vt)}}function $e(h,$){if(!($==="constructor"&&typeof h[$]=="function")&&$!="__proto__")return h[$]}var Kr=Vr(Rr);function Vr(h){var $=0,yt=0;return function(){var Lt=G(),zt=A-(Lt-yt);if(yt=Lt,zt>0){if(++$>=S)return arguments[0]}else $=0;return h.apply(void 0,arguments)}}function Or(h){if(h!=null){try{return kt.call(h)}catch{}try{return h+""}catch{}}return""}function Ze(h,$){return h===$||h!==h&&$!==$}var ge=gr(function(){return arguments}())?gr:function(h){return Ue(h)&&Gt.call(h,"callee")&&!qt.call(h,"callee")},ur=Array.isArray;function cr(h){return h!=null&&Ir(h.length)&&!Me(h)}function Re(h){return Ue(h)&&cr(h)}var Je=At||k;function Me(h){if(!Se(h))return!1;var $=Fe(h);return $==v||$==x||$==_||$==f}function Ir(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=O}function Se(h){var $=typeof h;return h!=null&&($=="object"||$=="function")}function Ue(h){return h!=null&&typeof h=="object"}function Cr(h){if(!Ue(h)||Fe(h)!=a)return!1;var $=Dt(h);if($===null)return!0;var yt=Gt.call($,"constructor")&&$.constructor;return typeof yt=="function"&&yt instanceof yt&&kt.call(yt)==Ot}var Pe=It?q(It):Ne;function Ge(h){return Ye(h,fr(h))}function fr(h){return cr(h)?be(h,!0):ze(h)}var Gr=wr(function(h,$,yt){or(h,$,yt)});function Er(h){return function(){return h}}function s(h){return h}function k(){return!1}o.exports=Gr}).call(this,t(58),t(66)(r))},function(r,i,t){t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p}),t.d(i,"c",function(){return S});var l=t(2),o={scope:l.Scope.BLOCK,whitelist:["right","center","justify"]},u=new l.Attributor("align","align",o),p=new l.ClassAttributor("align","ql-align",o),S=new l.StyleAttributor("align","text-align",o)},function(r,i){r.exports=function(t){try{return!!t()}catch{return!0}}},function(r,i,t){var l=t(8),o=t(51),u=l.String,p=l.TypeError;r.exports=function(S){if(o(S))return S;throw p(u(S)+" is not an object")}},function(r,i,t){var l=t(39);r.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(r,i){var t=Function.prototype.call;r.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},function(r,i,t){t.d(i,"a",function(){return x}),t.d(i,"b",function(){return W});var l=t(14);function o(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(a){return typeof a}:o=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},o(U)}function u(U,m){if(!(U instanceof m))throw new TypeError("Cannot call a class as a function")}function p(U,m){for(var a=0;a<m.length;a++){var f=m[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(U,f.key,f)}}function S(U,m,a){return m&&p(U.prototype,m),a&&p(U,a),U}function A(U,m,a){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(d,R,B){var F=O(d,R);if(F){var N=Object.getOwnPropertyDescriptor(F,R);return N.get?N.get.call(B):N.value}},A(U,m,a||U)}function O(U,m){for(;!Object.prototype.hasOwnProperty.call(U,m)&&(U=v(U),U!==null););return U}function g(U,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(m&&m.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),m&&P(U,m)}function P(U,m){return P=Object.setPrototypeOf||function(f,d){return f.__proto__=d,f},P(U,m)}function _(U){var m=I();return function(){var f=v(U),d;if(m){var R=v(this).constructor;d=Reflect.construct(f,arguments,R)}else d=f.apply(this,arguments);return E(this,d)}}function E(U,m){if(m&&(o(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(U)}function w(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(U){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},v(U)}var x=function(U){g(a,U);var m=_(a);function a(){return u(this,a),m.apply(this,arguments)}return S(a,[{key:"format",value:function(d,R){d!==this.statics.blotName||!R?A(v(a.prototype),"format",this).call(this,d,R):this.domNode.setAttribute("href",this.constructor.sanitize(R))}}],[{key:"create",value:function(d){var R=A(v(a),"create",this).call(this,d);return R.setAttribute("href",this.sanitize(d)),R.setAttribute("rel","noopener noreferrer"),R.setAttribute("target","_blank"),R}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return W(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),a}(l.a);x.blotName="link",x.tagName="A",x.SANITIZED_URL="about:blank",x.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function W(U,m){var a=document.createElement("a");a.href=U;var f=a.href.slice(0,a.href.indexOf(":"));return m.indexOf(f)>-1}},function(r,i,t){i.a=new WeakMap},function(r,i,t){t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p});var l=t(2),o=t(34),u=new l.ClassAttributor("background","ql-bg",{scope:l.Scope.INLINE}),p=new o.a("background","background-color",{scope:l.Scope.INLINE})},function(r,i,t){t.d(i,"b",function(){return m}),t.d(i,"a",function(){return W});var l=t(2);function o(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(d){return typeof d}:o=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},o(a)}function u(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function p(a,f){for(var d=0;d<f.length;d++){var R=f[d];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(a,R.key,R)}}function S(a,f,d){return f&&p(a.prototype,f),d&&p(a,d),a}function A(a,f,d){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(B,F,N){var tt=O(B,F);if(tt){var M=Object.getOwnPropertyDescriptor(tt,F);return M.get?M.get.call(N):M.value}},A(a,f,d||a)}function O(a,f){for(;!Object.prototype.hasOwnProperty.call(a,f)&&(a=v(a),a!==null););return a}function g(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),f&&P(a,f)}function P(a,f){return P=Object.setPrototypeOf||function(R,B){return R.__proto__=B,R},P(a,f)}function _(a){var f=I();return function(){var R=v(a),B;if(f){var F=v(this).constructor;B=Reflect.construct(R,arguments,F)}else B=R.apply(this,arguments);return E(this,B)}}function E(a,f){if(f&&(o(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(a)}function w(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(a){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},v(a)}var x={scope:l.Scope.INLINE,whitelist:["serif","monospace"]},W=new l.ClassAttributor("font","ql-font",x),U=function(a){g(d,a);var f=_(d);function d(){return u(this,d),f.apply(this,arguments)}return S(d,[{key:"value",value:function(B){return A(v(d.prototype),"value",this).call(this,B).replace(/["']/g,"")}}]),d}(l.StyleAttributor),m=new U("font","font-family",x)},function(r,i,t){t.d(i,"a",function(){return o}),t.d(i,"b",function(){return u});var l=t(2),o=new l.ClassAttributor("size","ql-size",{scope:l.Scope.INLINE,whitelist:["small","large","huge"]}),u=new l.StyleAttributor("size","font-size",{scope:l.Scope.INLINE,whitelist:["10px","18px","32px"]})},function(r,i,t){t.d(i,"a",function(){return l});function l(o,u,p){p?o.setAttribute(u,p):o.removeAttribute(u)}},function(r,i,t){var l=t(14);function o(W){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(m){return typeof m}:o=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},o(W)}function u(W,U){if(!(W instanceof U))throw new TypeError("Cannot call a class as a function")}function p(W,U){for(var m=0;m<U.length;m++){var a=U[m];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(W,a.key,a)}}function S(W,U,m){return U&&p(W.prototype,U),m&&p(W,m),W}function A(W,U,m){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(f,d,R){var B=O(f,d);if(B){var F=Object.getOwnPropertyDescriptor(B,d);return F.get?F.get.call(R):F.value}},A(W,U,m||W)}function O(W,U){for(;!Object.prototype.hasOwnProperty.call(W,U)&&(W=v(W),W!==null););return W}function g(W,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(U&&U.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),U&&P(W,U)}function P(W,U){return P=Object.setPrototypeOf||function(a,f){return a.__proto__=f,a},P(W,U)}function _(W){var U=I();return function(){var a=v(W),f;if(U){var d=v(this).constructor;f=Reflect.construct(a,arguments,d)}else f=a.apply(this,arguments);return E(this,f)}}function E(W,U){if(U&&(o(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(W)}function w(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(W){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},v(W)}var x=function(W){g(m,W);var U=_(m);function m(){return u(this,m),U.apply(this,arguments)}return S(m,[{key:"optimize",value:function(f){A(v(m.prototype),"optimize",this).call(this,f),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return A(v(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.a);x.blotName="bold",x.tagName=["STRONG","B"],i.a=x},function(r,i,t){t.d(i,"a",function(){return W}),t.d(i,"b",function(){return a});var l=t(2),o=t(0),u=t(12),p=t(15);function S(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(R){return typeof R}:S=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},S(f)}function A(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function O(f,d){for(var R=0;R<d.length;R++){var B=d[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(f,B.key,B)}}function g(f,d,R){return d&&O(f.prototype,d),R&&O(f,R),f}function P(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),d&&_(f,d)}function _(f,d){return _=Object.setPrototypeOf||function(B,F){return B.__proto__=F,B},_(f,d)}function E(f){var d=v();return function(){var B=x(f),F;if(d){var N=x(this).constructor;F=Reflect.construct(B,arguments,N)}else F=B.apply(this,arguments);return w(this,F)}}function w(f,d){if(d&&(S(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(f)}function I(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(f){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(R){return R.__proto__||Object.getPrototypeOf(R)},x(f)}var W=function(f){P(R,f);var d=E(R);function R(B,F){var N;return A(this,R),N=d.call(this,B,F),N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(o.a.events.EDITOR_CHANGE,function(tt,M,Z,ut){tt!==o.a.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||ut===o.a.sources.USER?N.record(M,Z):N.transform(M))}),N.quill.keyboard.addBinding({key:"z",shortKey:!0},N.undo.bind(I(N))),N.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},N.redo.bind(I(N))),Object(p.a)()&&/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"y",shortKey:!0},N.redo.bind(I(N))),N.quill.root.addEventListener("beforeinput",function(tt){tt.inputType==="historyUndo"?(N.undo(),tt.preventDefault()):tt.inputType==="historyRedo"&&(N.redo(),tt.preventDefault())}),N}return g(R,[{key:"change",value:function(F,N){if(this.stack[F].length!==0){var tt=this.stack[F].pop(),M=this.quill.getContents(),Z=tt.invert(M);this.stack[N].push(Z),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(tt,o.a.sources.USER),this.ignoreChange=!1;var ut=a(this.quill.scroll,tt);this.quill.setSelection(ut)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,N){if(F.ops.length!==0){this.stack.redo=[];var tt=F.invert(N),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var Z=this.stack.undo.pop();tt=tt.compose(Z)}else this.lastRecorded=M;tt.length()!==0&&(this.stack.undo.push(tt),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){U(this.stack.undo,F),U(this.stack.redo,F)}},{key:"undo",value:function(){this.change("undo","redo")}}]),R}(u.a);W.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function U(f,d){for(var R=d,B=f.length-1;B>=0;B-=1){var F=f[B];f[B]=R.transform(F,!0),R=F.transform(R),f[B].length()===0&&f.splice(B,1)}}function m(f,d){var R=d.ops[d.ops.length-1];return R==null?!1:R.insert!=null?typeof R.insert=="string"&&R.insert.endsWith(`
`):R.attributes!=null?Object.keys(R.attributes).some(function(B){return f.query(B,l.Scope.BLOCK)!=null}):!1}function a(f,d){var R=d.reduce(function(F,N){return F+(N.delete||0)},0),B=d.length()-R;return m(f,d)&&(B-=1),B}},function(r,i,t){var l=t(22);r.exports=function(o){return typeof o=="object"?o!==null:l(o)}},function(r,i,t){var l=t(8),o=t(41),u=t(101),p=t(40),S=t(84),A=l.TypeError,O=Object.defineProperty;i.f=o?O:function(P,_,E){if(p(P),_=S(_),p(E),u)try{return O(P,_,E)}catch{}if("get"in E||"set"in E)throw A("Accessors not supported");return"value"in E&&(P[_]=E.value),P}},function(r,i,t){t.d(i,"a",function(){return U});var l=t(2),o=t(29),u=t(19);function p(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(m)}function S(m,a){if(!(m instanceof a))throw new TypeError("Cannot call a class as a function")}function A(m,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function O(m,a,f){return a&&A(m.prototype,a),f&&A(m,f),m}function g(m,a,f){return typeof Reflect<"u"&&Reflect.get?g=Reflect.get:g=function(R,B,F){var N=P(R,B);if(N){var tt=Object.getOwnPropertyDescriptor(N,B);return tt.get?tt.get.call(F):tt.value}},g(m,a,f||m)}function P(m,a){for(;!Object.prototype.hasOwnProperty.call(m,a)&&(m=W(m),m!==null););return m}function _(m,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(a&&a.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),a&&E(m,a)}function E(m,a){return E=Object.setPrototypeOf||function(d,R){return d.__proto__=R,d},E(m,a)}function w(m){var a=x();return function(){var d=W(m),R;if(a){var B=W(this).constructor;R=Reflect.construct(d,arguments,B)}else R=d.apply(this,arguments);return I(this,R)}}function I(m,a){if(a&&(p(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W(m){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},W(m)}var U=function(m){_(f,m);var a=w(f);function f(d,R){var B,F,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return S(this,f),F=a.call(this,d,R,N),F.allowedTags=(B=N.allowedTags)!==null&&B!==void 0?B:[],F}return O(f,[{key:"add",value:function(R,B){return o.c.call(this,g(W(f.prototype),"add",this),R,B)}},{key:"remove",value:function(R){return o.c.call(this,g(W(f.prototype),"remove",this),R)}},{key:"value",value:function(R){return o.c.call(this,g(W(f.prototype),"value",this),R)}},{key:"canAdd",value:function(R,B){return o.a.call(this,g(W(f.prototype),"canAdd",this),R,B)}}],[{key:"keys",value:function(R){return Object(o.b)(g(W(f),"keys",this),R,u.a.style)}}]),f}(l.StyleAttributor)},function(r,i,t){t.d(i,"a",function(){return o});var l=t(0);function o(u,p){return{key:u?"upArrow":"downArrow",collapsed:!0,format:p,handler:function(A,O){var g=u?"prev":"next",P=O.line,_=P.statics.blotName.indexOf("Line")>-1?P.parent:P,E=_.parent.parent[g],w=_.parent[g]||(E==null?void 0:E.children.head);if(w!=null){if(w.statics.blotName==="tableRow"||w.statics.blotName==="tableHeaderRow"){for(var I=w.children.head,v=_;v.prev!=null;)v=v.prev,I=I.next;var x=I.offset(this.quill.scroll)+Math.min(O.offset,I.length()-1);this.quill.setSelection(x,0,l.a.sources.USER)}}else{var W=_.table()[g];W!=null&&(u?this.quill.setSelection(W.offset(this.quill.scroll)+W.length()-1,0,l.a.sources.USER):this.quill.setSelection(W.offset(this.quill.scroll),0,l.a.sources.USER))}return!1}}}},function(r,i,t){t.d(i,"a",function(){return _}),t.d(i,"b",function(){return E});var l=t(2),o=t(63),u=t(53),p=t(26);function S(w,I){var v=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);I&&(x=x.filter(function(W){return Object.getOwnPropertyDescriptor(w,W).enumerable})),v.push.apply(v,x)}return v}function A(w){for(var I=1;I<arguments.length;I++){var v=arguments[I]!=null?arguments[I]:{};I%2?S(Object(v),!0).forEach(function(x){O(w,x,v[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(v)):S(Object(v)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(v,x))})}return w}function O(w,I,v){return I in w?Object.defineProperty(w,I,{value:v,enumerable:!0,configurable:!0,writable:!0}):w[I]=v,w}function g(w,I,v,x){w[I]=!x&&w[I]?w[I]:v}function P(w,I,v,x,W,U){return w.filter(function(m){return!!m}).forEach(function(m){var a=v.query(m,l.Scope.ATTRIBUTE);if(a!==null){var f=a.value(I);if(f){g(W,a.attrName,f,U);return}}var d=x[m];if(d!=null&&(d.attrName===m||d.keyName===m)){var R=d.value(I)||void 0;g(W,d.attrName,R,U)}}),W}function _(w){return function(I,v,x){var W=o.a.keys(I),U=u.a.keys(I),m=A(A({},P(W,I,x,w,{},!0)),P(U,I,x,w,{},!0));return Object.keys(m).length>0?Object(p.a)(v,m):v}}function E(w){return function(I,v,x){var W,U=o.a.keys(I),m=u.a.keys(I),a=((W=I.parentNode)===null||W===void 0?void 0:W.tagName)==="TR"?I.parentNode:void 0,f=A(A({},P(U,I,x,w,{},!0)),P(m,I,x,w,{},!0));if(a){var d=u.a.keys(a);f=P(d,a,x,w,f,!1)}return Object.keys(f).length>0?Object(p.a)(v,f):v}}},function(r,i,t){var l=t(2),o=t(9);function u(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(f){return typeof f}:u=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},u(m)}function p(m,a){if(!(m instanceof a))throw new TypeError("Cannot call a class as a function")}function S(m,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function A(m,a,f){return a&&S(m.prototype,a),f&&S(m,f),m}function O(m,a,f){return typeof Reflect<"u"&&Reflect.get?O=Reflect.get:O=function(R,B,F){var N=g(R,B);if(N){var tt=Object.getOwnPropertyDescriptor(N,B);return tt.get?tt.get.call(F):tt.value}},O(m,a,f||m)}function g(m,a){for(;!Object.prototype.hasOwnProperty.call(m,a)&&(m=x(m),m!==null););return m}function P(m,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(a&&a.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),a&&_(m,a)}function _(m,a){return _=Object.setPrototypeOf||function(d,R){return d.__proto__=R,d},_(m,a)}function E(m){var a=v();return function(){var d=x(m),R;if(a){var B=x(this).constructor;R=Reflect.construct(d,arguments,B)}else R=d.apply(this,arguments);return w(this,R)}}function w(m,a){if(a&&(u(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(m)}function I(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(m){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},x(m)}var W="\uFEFF",U=function(m){P(f,m);var a=E(f);function f(d,R){var B;return p(this,f),B=a.call(this,d,R),B.contentNode=document.createElement("span"),B.contentNode.setAttribute("contenteditable",!1),Array.from(B.domNode.childNodes).forEach(function(F){B.contentNode.appendChild(F)}),B.leftGuard=document.createTextNode(W),B.rightGuard=document.createTextNode(W),B.domNode.appendChild(B.leftGuard),B.domNode.appendChild(B.contentNode),B.domNode.appendChild(B.rightGuard),B}return A(f,[{key:"index",value:function(R,B){return R===this.leftGuard?0:R===this.rightGuard?1:O(x(f.prototype),"index",this).call(this,R,B)}},{key:"restore",value:function(R){var B,F,N=R.data.split(W).join("");if(R===this.leftGuard)if(this.prev instanceof o.a){var tt=this.prev.length();this.prev.insertAt(tt,N),B={startNode:this.prev.domNode,startOffset:tt+N.length}}else F=document.createTextNode(N),this.parent.insertBefore(this.scroll.create(F),this),B={startNode:F,startOffset:N.length};else R===this.rightGuard&&(this.next instanceof o.a?(this.next.insertAt(0,N),B={startNode:this.next.domNode,startOffset:N.length}):(F=document.createTextNode(N),this.parent.insertBefore(this.scroll.create(F),this.next),B={startNode:F,startOffset:N.length}));return R.data=W,B}},{key:"update",value:function(R,B){var F=this;R.forEach(function(N){if(N.type==="characterData"&&(N.target===F.leftGuard||N.target===F.rightGuard)){var tt=F.restore(N.target);tt&&(B.range=tt)}})}}]),f}(l.EmbedBlot);i.a=U},function(r,i,t){function l(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function o(S,A){for(var O=0;O<A.length;O++){var g=A[O];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(S,g.key,g)}}function u(S,A,O){return A&&o(S.prototype,A),O&&o(S,O),S}var p=function(){function S(A,O){l(this,S),this.quill=A,this.options=O,this.modules={}}return u(S,[{key:"init",value:function(){var O=this;Object.keys(this.options.modules).forEach(function(g){O.modules[g]==null&&O.addModule(g)})}},{key:"addModule",value:function(O){var g=this.quill.constructor.import("modules/".concat(O));return this.modules[O]=new g(this.quill,this.options.modules[O]||{}),this.modules[O]}}]),S}();p.DEFAULTS={modules:{}},p.themes={default:p},i.a=p},function(r,i){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}r.exports=t},function(r,i,t){var l=t(1),o=t.n(l),u=t(3),p=t(12),S=t(15);function A(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(d){return typeof d}:A=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},A(a)}function O(a,f,d){return f in a?Object.defineProperty(a,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[f]=d,a}function g(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function P(a,f){for(var d=0;d<f.length;d++){var R=f[d];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(a,R.key,R)}}function _(a,f,d){return f&&P(a.prototype,f),d&&P(a,d),a}function E(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),f&&w(a,f)}function w(a,f){return w=Object.setPrototypeOf||function(R,B){return R.__proto__=B,R},w(a,f)}function I(a){var f=W();return function(){var R=U(a),B;if(f){var F=U(this).constructor;B=Reflect.construct(R,arguments,F)}else B=R.apply(this,arguments);return v(this,B)}}function v(a,f){if(f&&(A(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(a)}function x(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U(a){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},U(a)}var m=function(a){E(d,a);var f=I(d);function d(R,B){var F;return g(this,d),F=f.call(this,R,B),F.preventImageUploading(!1),F.addDragOverHandler(),F.addDropHandler(),F}return _(d,[{key:"addDragOverHandler",value:function(){if(Object(S.a)()){var B=window.navigator.userAgent.toLowerCase(),F=B.indexOf("msie ")!==-1||B.indexOf("trident/")!==-1||B.indexOf("edge/")!==-1;F&&this.quill.root.addEventListener("dragover",function(N){N.preventDefault()})}}},{key:"addDropHandler",value:function(){var B=this;this.quill.root.addEventListener("drop",function(F){var N=F.dataTransfer.files.length===0,tt=B.options.onDrop;if(tt&&typeof tt=="function"&&tt(F),!(N||B.preventImageUpload)){F.preventDefault();var M;if(document.caretRangeFromPoint)M=document.caretRangeFromPoint(F.clientX,F.clientY);else if(document.caretPositionFromPoint){var Z=document.caretPositionFromPoint(F.clientX,F.clientY);M=document.createRange(),M.setStart(Z.offsetNode,Z.offset),M.setEnd(Z.offsetNode,Z.offset)}else return;var ut=B.quill.selection.normalizeNative(M),ht=B.quill.selection.normalizedToRange(ut);B.upload(ht,F.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(B){return typeof B<"u"&&(this.preventImageUpload=B),this.preventImageUpload}},{key:"upload",value:function(B,F,N){var tt=this;if(!(this.preventImageUpload&&!N)){var M=[];Array.from(F).forEach(function(Z){Z&&tt.options.mimetypes.indexOf(Z.type)!==-1&&M.push(Z)}),M.length>0&&this.options.handler.call(this,B,M,this.options.imageBlot)}}}]),d}(p.a);m.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(f,d,R){var B=this,F=d.map(function(N){return new Promise(function(tt){var M=new FileReader;M.onload=function(Z){tt(Z.target.result)},M.readAsDataURL(N)})});Promise.all(F).then(function(N){var tt=N.reduce(function(M,Z){return M.insert(O({},R,Z))},new o.a().retain(f.index).delete(f.length));B.quill.updateContents(tt,u.a.sources.USER),B.quill.setSelection(f.index+N.length,u.a.sources.SILENT)})}},i.a=m},function(r,i,t){var l=t(8),o=t(22),u=function(p){return o(p)?p:void 0};r.exports=function(p,S){return arguments.length<2?u(l[p]):l[p]&&l[p][S]}},function(r,i,t){var l=t(8),o=t(89).f,u=t(70),p=t(90),S=t(81),A=t(135),O=t(140);r.exports=function(g,P){var _=g.target,E=g.global,w=g.stat,I,v,x,W,U,m;if(E?v=l:w?v=l[_]||S(_,{}):v=(l[_]||{}).prototype,v)for(x in P){if(U=P[x],g.noTargetGet?(m=o(v,x),W=m&&m.value):W=v[x],I=O(E?x:_+(w?".":"#")+x,g.forced),!I&&W!==void 0){if(typeof U==typeof W)continue;A(U,W)}(g.sham||W&&W.sham)&&u(U,"sham",!0),p(v,x,U,g)}}},function(r,i,t){var l=t(134),o=t(69);r.exports=function(u){return l(o(u))}},function(r,i,t){t.d(i,"a",function(){return U});var l=t(2),o=t(29),u=t(19);function p(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(m)}function S(m,a){if(!(m instanceof a))throw new TypeError("Cannot call a class as a function")}function A(m,a){for(var f=0;f<a.length;f++){var d=a[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function O(m,a,f){return a&&A(m.prototype,a),f&&A(m,f),m}function g(m,a,f){return typeof Reflect<"u"&&Reflect.get?g=Reflect.get:g=function(R,B,F){var N=P(R,B);if(N){var tt=Object.getOwnPropertyDescriptor(N,B);return tt.get?tt.get.call(F):tt.value}},g(m,a,f||m)}function P(m,a){for(;!Object.prototype.hasOwnProperty.call(m,a)&&(m=W(m),m!==null););return m}function _(m,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(a&&a.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),a&&E(m,a)}function E(m,a){return E=Object.setPrototypeOf||function(d,R){return d.__proto__=R,d},E(m,a)}function w(m){var a=x();return function(){var d=W(m),R;if(a){var B=W(this).constructor;R=Reflect.construct(d,arguments,B)}else R=d.apply(this,arguments);return I(this,R)}}function I(m,a){if(a&&(p(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W(m){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},W(m)}var U=function(m){_(f,m);var a=w(f);function f(d,R){var B,F,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return S(this,f),F=a.call(this,d,R,N),F.allowedTags=(B=N.allowedTags)!==null&&B!==void 0?B:[],F}return O(f,[{key:"add",value:function(R,B){return o.c.call(this,g(W(f.prototype),"add",this),R,B)}},{key:"remove",value:function(R){return o.c.call(this,g(W(f.prototype),"remove",this),R)}},{key:"value",value:function(R){return o.c.call(this,g(W(f.prototype),"value",this),R)}},{key:"canAdd",value:function(R,B){return o.a.call(this,g(W(f.prototype),"canAdd",this),R,B)}}],[{key:"keys",value:function(R){return Object(o.b)(g(W(f),"keys",this),R,u.a.attribute)}}]),f}(l.Attributor)},function(r,i,t){t.d(i,"a",function(){return l});function l(){return Math.random().toString(36).slice(2,6)}},function(r,i,t){var l=t(1),o=t.n(l),u=t(2),p=t(0),S=t(12),A=t(6),O=t(10),g=t(13),P=t(5),_=t(21),E=t(11),w=t(64),I=t(48);function v(G){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(D){return typeof D}:v=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},v(G)}function x(G,K){return m(G)||U(G,K)||d(G,K)||W()}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(G,K){var D=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(D!=null){var at=[],X=!0,lt=!1,Ct,xt;try{for(D=D.call(G);!(X=(Ct=D.next()).done)&&(at.push(Ct.value),!(K&&at.length===K));X=!0);}catch(jt){lt=!0,xt=jt}finally{try{!X&&D.return!=null&&D.return()}finally{if(lt)throw xt}}return at}}function m(G){if(Array.isArray(G))return G}function a(G){return B(G)||R(G)||d(G)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(G,K){if(G){if(typeof G=="string")return F(G,K);var D=Object.prototype.toString.call(G).slice(8,-1);if(D==="Object"&&G.constructor&&(D=G.constructor.name),D==="Map"||D==="Set")return Array.from(G);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return F(G,K)}}function R(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function B(G){if(Array.isArray(G))return F(G)}function F(G,K){(K==null||K>G.length)&&(K=G.length);for(var D=0,at=new Array(K);D<K;D++)at[D]=G[D];return at}function N(G,K){if(!(G instanceof K))throw new TypeError("Cannot call a class as a function")}function tt(G,K){for(var D=0;D<K.length;D++){var at=K[D];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(G,at.key,at)}}function M(G,K,D){return K&&tt(G.prototype,K),D&&tt(G,D),G}function Z(G,K,D){return typeof Reflect<"u"&&Reflect.get?Z=Reflect.get:Z=function(X,lt,Ct){var xt=ut(X,lt);if(xt){var jt=Object.getOwnPropertyDescriptor(xt,lt);return jt.get?jt.get.call(Ct):jt.value}},Z(G,K,D||G)}function ut(G,K){for(;!Object.prototype.hasOwnProperty.call(G,K)&&(G=et(G),G!==null););return G}function ht(G,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(K&&K.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),K&&it(G,K)}function it(G,K){return it=Object.setPrototypeOf||function(at,X){return at.__proto__=X,at},it(G,K)}function mt(G){var K=L();return function(){var at=et(G),X;if(K){var lt=et(this).constructor;X=Reflect.construct(at,arguments,lt)}else X=at.apply(this,arguments);return Y(this,X)}}function Y(G,K){if(K&&(v(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(G)}function V(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(G){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},et(G)}var st=["row","cell"],_t="data-table-",ot=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return M(D,[{key:"optimize",value:function(){var X,lt=this.domNode.getAttribute("".concat(_t,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var Ct=this.domNode,xt={row:lt};Object.keys(_.b).forEach(function(te){var ce=Ct.dataset[te.toLowerCase()];ce&&(xt[te]=ce)}),this.wrap(this.statics.requiredContainer.blotName,xt)}for(var jt=arguments.length,Ut=new Array(jt),Kt=0;Kt<jt;Kt++)Ut[Kt]=arguments[Kt];(X=Z(et(D.prototype),"optimize",this)).call.apply(X,[this].concat(Ut))}},{key:"format",value:function(X,lt){var Ct=X==="tableCellLine";Ct&&lt===null&&(lt=this.formats().tableCellLine);var xt=st.indexOf(X)>-1;if(xt||E.c[X]||_.b[X]){var jt="data-".concat(xt?"table-":"").concat(X.toLowerCase());if(Object(I.a)(this.domNode,jt,lt),_.b[X]){var Ut;(Ut=this.cell())===null||Ut===void 0||Ut.format(X,lt)}if(E.c[X]){var Kt,te;(Kt=this.cell())===null||Kt===void 0||(te=Kt.table())===null||te===void 0||te.format(X,lt)}}else Z(et(D.prototype),"format",this).call(this,X,lt)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return st.forEach(function(Ct){var xt,jt=Ct==="row"?Nt:q;lt.setAttribute("".concat(_t).concat(Ct),(xt=X[Ct])!==null&&xt!==void 0?xt:jt())}),lt}},{key:"formats",value:function(X){return st.reduce(function(lt,Ct){var xt="".concat(_t).concat(Ct);return X.hasAttribute(xt)&&(lt[Ct]=X.getAttribute(xt)||void 0),lt},{})}}]),D}(A.d);ot.blotName="tableCellLine",ot.className="ql-table-cell-line",ot.tagName="P";var dt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return D}(ot);dt.blotName="tableHeaderCellLine",dt.className="ql-table-header-cell-line";var Tt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return M(D,[{key:"format",value:function(X,lt){var Ct;(Ct=_.b[X])===null||Ct===void 0||Ct.add(this.domNode,lt)}},{key:"checkMerge",value:function(){if(Z(et(D.prototype),"checkMerge",this).call(this)&&this.next.children.head!=null){var X=this.children.head.formats()[this.children.head.statics.blotName],lt=this.children.tail.formats()[this.children.tail.statics.blotName],Ct=this.next.children.head.formats()[this.next.children.head.statics.blotName],xt=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return X.cell===lt.cell&&X.cell===Ct.cell&&X.cell===xt.cell}return!1}},{key:"formats",value:function(){return D.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var X;return(X=this.row())===null||X===void 0?void 0:X.table()}},{key:"optimize",value:function(){var X,lt,Ct=(X=this.domNode.getAttribute("".concat(_t,"row")))!==null&&X!==void 0?X:this.domNode.getAttribute("".concat(_t,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:Ct});for(var xt=arguments.length,jt=new Array(xt),Ut=0;Ut<xt;Ut++)jt[Ut]=arguments[Ut];(lt=Z(et(D.prototype),"optimize",this)).call.apply(lt,[this].concat(jt))}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return X&&Object.keys(X).forEach(function(Ct){var xt;(xt=_.b[Ct])===null||xt===void 0||xt.add(lt,X[Ct])}),lt}},{key:"cellFormats",value:function(X){var lt={};if(X.hasAttribute("".concat(_t,"row"))||X.hasAttribute("".concat(_t,"header-row"))){var Ct;lt.row=(Ct=X.getAttribute("".concat(_t,"row")))!==null&&Ct!==void 0?Ct:X.getAttribute("".concat(_t,"header-row"))}return Object.keys(_.b).forEach(function(xt){var jt,Ut=(jt=X.firstElementChild)===null||jt===void 0?void 0:jt.dataset[xt.toLowerCase()];Ut&&(lt[xt]=Ut)}),lt}}]),D}(g.a);Tt.tagName=["TD","TH"];var Rt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return M(D,[{key:"format",value:function(X,lt){X==="row"?(this.domNode.setAttribute("".concat(_t).concat(X),lt),this.children.forEach(function(Ct){Ct.format(X,lt)})):Z(et(D.prototype),"format",this).call(this,X,lt)}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X),Ct="".concat(_t,"row");return X!=null&&X.row&&lt.setAttribute(Ct,X.row),lt}}]),D}(Tt);Rt.blotName="tableCell",Rt.className="ql-table-data-cell",Rt.dataAttribute="".concat(_t,"row");var rt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return M(D,[{key:"format",value:function(X,lt){X==="row"?(this.domNode.setAttribute("".concat(_t).concat(X),lt),this.children.forEach(function(Ct){Ct.format(X,lt)})):Z(et(D.prototype),"format",this).call(this,X,lt)}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X),Ct="".concat(_t,"header-row");return X&&X.row&&lt.setAttribute(Ct,X.row),lt}}]),D}(Tt);rt.tagName=["TH","TD"],rt.className="ql-table-header-cell",rt.blotName="tableHeaderCell",rt.dataAttribute="".concat(_t,"header-row");var z=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return M(D,[{key:"checkMerge",value:function(){if(Z(et(D.prototype),"checkMerge",this).call(this)&&Object(P.a)(this.next.children.head)){var X="row",lt=this.children.head.formats(),Ct=this.children.tail.formats(),xt=this.next.children.head.formats(),jt=this.next.children.tail.formats();return lt[X]===Ct[X]&&lt[X]===xt[X]&&lt[X]===jt[X]}return!1}},{key:"optimize",value:function(){for(var X,lt=this,Ct=arguments.length,xt=new Array(Ct),jt=0;jt<Ct;jt++)xt[jt]=arguments[jt];(X=Z(et(D.prototype),"optimize",this)).call.apply(X,[this].concat(xt));var Ut=this.childFormatName;this.children.forEach(function(Kt){if(Object(P.a)(Kt.next)){var te=Kt.formats(),ce=Kt.next.formats();if(te[Ut]!==ce[Ut]){var Ce=lt.splitAfter(Kt);Ce&&Ce.optimize(),lt.prev&&lt.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var X;return(X=this.parent)===null||X===void 0?void 0:X.parent}},{key:"formats",value:function(){var X={},lt="".concat(_t,"row");return this.domNode.hasAttribute(lt)&&(X[lt]=this.domNode.getAttribute(lt)),X}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return X!=null&&X.row&&lt.setAttribute("".concat(_t,"row"),X.row),lt}}]),D}(g.a);z.tagName="TR";var Q=function(G){ht(D,G);var K=mt(D);function D(at,X){var lt;return N(this,D),lt=K.call(this,at,X),lt.childFormatName="table",lt}return D}(z);Q.blotName="tableRow";var J=function(G){ht(D,G);var K=mt(D);function D(at,X){var lt;return N(this,D),lt=K.call(this,at,X),lt.childFormatName="tableHeaderCell",lt}return D}(z);J.blotName="tableHeaderRow";var nt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return M(D,[{key:"optimize",value:function(){var X;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var lt=this.children.head.children.head.children.head.domNode,Ct={};Object.keys(E.c).forEach(function(Kt){var te=lt.dataset[Kt.toLowerCase()];te&&(Ct[Kt]=te)}),this.wrap(this.statics.requiredContainer.blotName,Ct)}for(var xt=arguments.length,jt=new Array(xt),Ut=0;Ut<xt;Ut++)jt[Ut]=arguments[Ut];(X=Z(et(D.prototype),"optimize",this)).call.apply(X,[this].concat(jt))}}]),D}(g.a),gt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return D}(nt);gt.blotName="tableBody",gt.tagName="TBODY";var It=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return D}(nt);It.blotName="tableHeader",It.tagName="THEAD";var Mt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return M(D,[{key:"balanceCells",value:function(){var X=this.descendants(J),lt=this.descendants(Q),Ct=this.getMaxTableColCount(X,lt);this.balanceRows(Ct,X,rt),this.balanceRows(Ct,lt,Rt)}},{key:"getMaxTableColCount",value:function(X,lt){return Math.max(this.getMaxRowColCount(X),this.getMaxRowColCount(lt))}},{key:"getMaxRowColCount",value:function(X){return Math.max.apply(Math,a(X.map(function(lt){return lt.children.length})))}},{key:"balanceRows",value:function(X,lt,Ct){var xt=this;lt.forEach(function(jt){new Array(X-jt.children.length).fill(0).forEach(function(){var Ut;Object(P.a)(jt.children.head)&&(Ut=Ct.cellFormats(jt.children.head.domNode));var Kt=xt.scroll.create(Ct.blotName,Ut),te=xt.scroll.create(Ct.allowedChildren[0].blotName,Ut);Kt.appendChild(te),jt.appendChild(Kt),Kt.optimize()})})}},{key:"cells",value:function(X){return this.rows().map(function(lt){return lt.children.at(X)})}},{key:"deleteColumn",value:function(X){var lt=this;[It,gt].forEach(function(Ct){var xt=lt.descendants(Ct),jt=x(xt,1),Ut=jt[0];!Object(P.a)(Ut)||!Object(P.a)(Ut.children.head)||Ut.children.forEach(function(Kt){var te=Kt.children.at(X);Object(P.a)(te)&&te.remove()})})}},{key:"insertColumn",value:function(X){var lt=this;[It,gt].forEach(function(Ct){var xt=lt.descendants(Ct),jt=x(xt,1),Ut=jt[0];if(!(!Object(P.a)(Ut)||!Object(P.a)(Ut.children.head))){var Kt=Ct===It?rt:Rt,te=Ct===It?dt:ot;Ut.children.forEach(function(ce){var Ce=ce.children.at(X),we=te.formats(ce.children.head.children.head.domNode),Ae=lt.scroll.create(Kt.blotName,{row:we.row}),ie=lt.scroll.create(te.blotName,{row:we.row}),ke=lt.scroll.create(O.a.blotName);ie.appendChild(ke),Ae.appendChild(ie),ce.insertBefore(Ae,Ce)})}})}},{key:"insertRow",value:function(X){var lt=this,Ct=this.descendants(gt),xt=x(Ct,1),jt=xt[0];if(!(!Object(P.a)(jt)||!Object(P.a)(jt.children.head))){var Ut=Nt(),Kt=this.scroll.create(Q.blotName,{row:Ut});jt.children.head.children.forEach(function(){var ce=lt.scroll.create(Rt.blotName,{row:Ut}),Ce=lt.scroll.create(ot.blotName,{row:Ut}),we=lt.scroll.create(O.a.blotName);Ce.appendChild(we),ce.appendChild(Ce),Kt.appendChild(ce)});var te=jt.children.at(X);jt.insertBefore(Kt,te)}}},{key:"insertHeaderRow",value:function(){var X=this,lt=this.descendants(It),Ct=x(lt,1),xt=Ct[0],jt=this.descendants(gt),Ut=x(jt,1),Kt=Ut[0];if(!(Object(P.a)(xt)||!Object(P.a)(Kt)||!Object(P.a)(Kt.children.head))){var te=Nt(),ce=this.scroll.create(It.blotName),Ce=this.scroll.create(J.blotName),we=this.children.at(0);ce.appendChild(Ce),Kt.children.head.children.forEach(function(){var Ae=X.scroll.create(rt.blotName,{row:te}),ie=X.scroll.create(dt.blotName,{row:te}),ke=X.scroll.create(O.a.blotName);ie.appendChild(ke),Ae.appendChild(ie),Ce.appendChild(Ae),Ae.optimize()}),this.insertBefore(ce,we)}}},{key:"rows",value:function(){var X=this.children.head;return Object(P.a)(X)?X.children.map(function(lt){return lt}):[]}},{key:"formats",value:function(){var X={},lt=this.cells()[0].domNode.firstElementChild;return Object.keys(E.c).forEach(function(Ct){var xt=lt.dataset[Ct.toLowerCase()];xt&&(X[Ct]=xt)}),X}},{key:"format",value:function(X,lt){var Ct=E.c[X];if(Ct){var xt="data-".concat(X.toLowerCase());this.cells().forEach(function(jt){Object(I.a)(jt.children.head.domNode,xt,lt)}),Ct.add(this.domNode,lt)}}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return X&&Object.keys(X).forEach(function(Ct){var xt;(xt=E.c[Ct])===null||xt===void 0||xt.add(lt,X[Ct])}),lt}}]),D}(g.a);Mt.blotName="tableContainer",Mt.tagName="TABLE",Mt.allowedChildren=[It,gt],gt.requiredContainer=Mt,It.requiredContainer=Mt,gt.allowedChildren=[Q],Q.requiredContainer=gt,Q.allowedChildren=[Rt],Rt.requiredContainer=Q,ot.requiredContainer=Rt,Rt.allowedChildren=[ot],It.allowedChildren=[J],J.requiredContainer=It,dt.requiredContainer=rt,rt.allowedChildren=[dt],J.allowedChildren=[rt],rt.requiredContainer=J;function Nt(){return"row-".concat(Object(w.a)())}function q(){return"cell-".concat(Object(w.a)())}var y=t(26),c=t(54),T=t(55);function H(G){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(D){return typeof D}:H=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},H(G)}function ct(G,K,D){return K in G?Object.defineProperty(G,K,{value:D,enumerable:!0,configurable:!0,writable:!0}):G[K]=D,G}function St(G,K){return Ot(G)||re(G,K)||Gt(G,K)||kt()}function kt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(G,K){if(G){if(typeof G=="string")return Qt(G,K);var D=Object.prototype.toString.call(G).slice(8,-1);if(D==="Object"&&G.constructor&&(D=G.constructor.name),D==="Map"||D==="Set")return Array.from(G);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return Qt(G,K)}}function Qt(G,K){(K==null||K>G.length)&&(K=G.length);for(var D=0,at=new Array(K);D<K;D++)at[D]=G[D];return at}function re(G,K){var D=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(D!=null){var at=[],X=!0,lt=!1,Ct,xt;try{for(D=D.call(G);!(X=(Ct=D.next()).done)&&(at.push(Ct.value),!(K&&at.length===K));X=!0);}catch(jt){lt=!0,xt=jt}finally{try{!X&&D.return!=null&&D.return()}finally{if(lt)throw xt}}return at}}function Ot(G){if(Array.isArray(G))return G}function Et(G,K){if(!(G instanceof K))throw new TypeError("Cannot call a class as a function")}function wt(G,K){for(var D=0;D<K.length;D++){var at=K[D];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(G,at.key,at)}}function Bt(G,K,D){return K&&wt(G.prototype,K),D&&wt(G,D),G}function Pt(G,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(K&&K.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),K&&Ft(G,K)}function Ft(G,K){return Ft=Object.setPrototypeOf||function(at,X){return at.__proto__=X,at},Ft(G,K)}function Dt(G){var K=Jt();return function(){var at=ne(G),X;if(K){var lt=ne(this).constructor;X=Reflect.construct(at,arguments,lt)}else X=at.apply(this,arguments);return $t(this,X)}}function $t(G,K){if(K&&(H(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(G)}function qt(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function Jt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ne(G){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},ne(G)}var pt=[null,null,null,-1],At=function(G){Pt(D,G);var K=Dt(D);function D(){var at;Et(this,D);for(var X=arguments.length,lt=new Array(X),Ct=0;Ct<X;Ct++)lt[Ct]=arguments[Ct];return at=K.call.apply(K,[this].concat(lt)),at.tableBlots=[ot.blotName,dt.blotName],at.tableBlots.forEach(function(xt){at.quill.editor.addImmediateFormat(xt)}),at.integrateClipboard(),at.addKeyboardHandlers(),at.listenBalanceCells(),at}return Bt(D,[{key:"integrateClipboard",value:function(){var X=this;this.tableBlots.forEach(function(lt){X.quill.clipboard.addTableBlot(lt)}),this.quill.clipboard.addMatcher("td, th",vt),this.quill.clipboard.addMatcher("table",Object(T.a)(E.a)),this.quill.clipboard.addMatcher("td, th",Object(T.b)(_.a))}},{key:"addKeyboardHandlers",value:function(){var X=this,lt=D.keyboardBindings;Object.keys(lt).forEach(function(Ct){lt[Ct]&&X.quill.keyboard.addBinding(lt[Ct])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(Mt).forEach(function(X){X.balanceCells()})}},{key:"deleteColumn",value:function(){var X=this.getTable(),lt=St(X,3),Ct=lt[0],xt=lt[2];Object(P.a)(xt)&&(Ct.deleteColumn(xt.cellOffset()),this.quill.update(p.a.sources.USER))}},{key:"deleteRow",value:function(){var X=this.getTable(),lt=St(X,2),Ct=lt[1];Object(P.a)(Ct)&&(Ct.remove(),this.quill.update(p.a.sources.USER))}},{key:"deleteTable",value:function(){var X=this.getTable(),lt=St(X,1),Ct=lt[0];if(Object(P.a)(Ct)){var xt=Ct.offset();Ct.remove(),this.quill.update(p.a.sources.USER),this.quill.setSelection(xt,p.a.sources.SILENT)}}},{key:"getTable",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!Object(P.a)(X))return pt;var lt=this.quill.getLine(X.index),Ct=St(lt,2),xt=Ct[0],jt=Ct[1];if(!Object(P.a)(xt)||this.tableBlots.indexOf(xt.statics.blotName)===-1)return pt;var Ut=xt.parent,Kt=Ut.parent,te=Kt.parent.parent;return[te,Kt,Ut,jt]}},{key:"insertColumn",value:function(X){var lt=this.quill.getSelection(),Ct=this.getTable(lt),xt=St(Ct,3),jt=xt[0],Ut=xt[1],Kt=xt[2];if(Object(P.a)(Kt)){var te=Kt.cellOffset();jt.insertColumn(te+X),this.quill.update(p.a.sources.USER);var ce=Ut.rowOffset();X===0&&(ce+=1),this.quill.setSelection(lt.index+ce,lt.length,p.a.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(X){var lt=this.quill.getSelection(),Ct=this.getTable(lt),xt=St(Ct,3),jt=xt[0],Ut=xt[1],Kt=xt[2];if(Object(P.a)(Kt)){var te=Ut.rowOffset();jt.insertRow(te+X),this.quill.update(p.a.sources.USER),X>0?this.quill.setSelection(lt,p.a.sources.SILENT):this.quill.setSelection(lt.index+Ut.children.length,lt.length,p.a.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var X=this.quill.getSelection(),lt=this.getTable(X),Ct=St(lt,3),xt=Ct[0],jt=Ct[2];Object(P.a)(jt)&&(xt.insertHeaderRow(),this.quill.update(p.a.sources.USER))}},{key:"insertTable",value:function(X,lt){var Ct=this.quill.getSelection();if(Object(P.a)(Ct)){var xt=new Array(X).fill(0).reduce(function(jt){var Ut=Nt();return new Array(lt).fill(`
`).forEach(function(Kt){jt.insert(Kt,{tableCellLine:{row:Ut,cell:Nt()}})}),jt},new o.a().retain(Ct.index));this.quill.updateContents(xt,p.a.sources.USER),this.quill.setSelection(Ct.index,p.a.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var X=this;this.quill.on(p.a.events.SCROLL_OPTIMIZE,function(lt){lt.some(function(Ct){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(Ct.target.tagName)!==-1?(X.quill.once(p.a.events.TEXT_CHANGE,function(xt,jt,Ut){Ut===p.a.sources.USER&&X.balanceTables()}),!0):!1})}),this.quill.on(p.a.events.CONTENT_SETTED,function(){X.quill.once(p.a.events.TEXT_CHANGE,function(){X.balanceTables()})})}}],[{key:"register",value:function(){p.a.register(ot,!0),p.a.register(dt,!0),p.a.register(rt,!0),p.a.register(Rt,!0),p.a.register(J,!0),p.a.register(Q,!0),p.a.register(gt,!0),p.a.register(It,!0),p.a.register(Mt,!0),[E.c,_.b].forEach(function(X){Object.keys(X).forEach(function(lt){p.a.register(ct({},"formats/".concat(lt),X[lt]),!0)})})}}]),D}(S.a);At.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(K){var D=this.quill.getLine(K.index),at=St(D,1),X=at[0];return!(!X.prev||["tableCellLine","tableHeaderCellLine"].indexOf(X.prev.statics.blotName)===-1)}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table cell enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(K,D){var at,X=this;if(!((at=this.quill.selection)!==null&&at!==void 0&&at.composing)){K.length>0&&this.quill.scroll.deleteAt(K.index,K.length);var lt=Object.keys(D.format).reduce(function(Ct,xt){return X.quill.scroll.query(xt,u.Scope.BLOCK)&&!Array.isArray(D.format[xt])&&(Ct[xt]=D.format[xt]),Ct},{});this.quill.insertText(K.index,`
`,lt.tableCellLine,p.a.sources.USER),this.quill.setSelection(K.index+1,p.a.sources.SILENT),this.quill.focus(),Object.keys(D.format).forEach(function(Ct){lt[Ct]==null&&(Array.isArray(D.format[Ct])||Ct!=="link"&&X.quill.format(Ct,D.format[Ct],p.a.sources.USER))})}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(K,D){var at=D.event,X=D.line,lt=X.offset(this.quill.scroll);at.shiftKey?this.quill.setSelection(lt-1,p.a.sources.USER):this.quill.setSelection(lt+X.length(),p.a.sources.USER)}},"table down":Object(c.a)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":Object(c.a)(!0,["tableCellLine","tableHeaderCellLine"])};function vt(G,K){var D=G.parentNode,at=D.parentNode.tagName==="TABLE"?D.parentNode:D.parentNode.parentNode,X=D.parentNode.tagName==="THEAD"?!0:null,lt=Array.from(at.querySelectorAll("tr")),Ct=Array.from(D.querySelectorAll("th,td")),xt=lt.indexOf(D)+1,jt=Ct.indexOf(G)+1,Ut=X?"tableHeaderCellLine":"tableCellLine";return K.length()===0?(K=new o.a().insert(`
`,ct({},Ut,{row:xt,cell:jt})),K):(Object(y.c)(K,`
`)||K.insert(`
`),Object(y.a)(K,Ut,{row:xt,cell:jt}))}i.a=At},function(r,i){r.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(r,i){r.exports=!1},function(r,i,t){var l=t(8),o=t(69),u=l.Object;r.exports=function(p){return u(o(p))}},function(r,i,t){var l=t(8),o=l.TypeError;r.exports=function(u){if(u==null)throw o("Can't call method on "+u);return u}},function(r,i,t){var l=t(41),o=t(52),u=t(71);r.exports=l?function(p,S,A){return o.f(p,S,u(1,A))}:function(p,S,A){return p[S]=A,p}},function(r,i){r.exports=function(t,l){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:l}}},function(r,i){r.exports={}},function(r,i,t){t.d(i,"a",function(){return O});var l=t(63),o=t(31),u=t(19),p=["name"];function S(g,P){if(g==null)return{};var _=A(g,P),E,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);for(w=0;w<I.length;w++)E=I[w],!(P.indexOf(E)>=0)&&Object.prototype.propertyIsEnumerable.call(g,E)&&(_[E]=g[E])}return _}function A(g,P){if(g==null)return{};var _={},E=Object.keys(g),w,I;for(I=0;I<E.length;I++)w=E[I],!(P.indexOf(w)>=0)&&(_[w]=g[w]);return _}function O(g,P){var _=g.name,E=S(g,p),w="".concat(_).concat(Object(o.a)(P)),I="".concat(u.a.attribute).concat(_,"_").concat(P);return new l.a(w,I,E)}},function(r,i,t){t.d(i,"a",function(){return I});var l=t(53),o=t(31),u=t(19),p=["name","formatName"];function S(v,x){return _(v)||P(v,x)||O(v,x)||A()}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(v,x){if(v){if(typeof v=="string")return g(v,x);var W=Object.prototype.toString.call(v).slice(8,-1);if(W==="Object"&&v.constructor&&(W=v.constructor.name),W==="Map"||W==="Set")return Array.from(v);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return g(v,x)}}function g(v,x){(x==null||x>v.length)&&(x=v.length);for(var W=0,U=new Array(x);W<x;W++)U[W]=v[W];return U}function P(v,x){var W=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(W!=null){var U=[],m=!0,a=!1,f,d;try{for(W=W.call(v);!(m=(f=W.next()).done)&&(U.push(f.value),!(x&&U.length===x));m=!0);}catch(R){a=!0,d=R}finally{try{!m&&W.return!=null&&W.return()}finally{if(a)throw d}}return U}}function _(v){if(Array.isArray(v))return v}function E(v,x){if(v==null)return{};var W=w(v,x),U,m;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(v);for(m=0;m<a.length;m++)U=a[m],!(x.indexOf(U)>=0)&&Object.prototype.propertyIsEnumerable.call(v,U)&&(W[U]=v[U])}return W}function w(v,x){if(v==null)return{};var W={},U=Object.keys(v),m,a;for(a=0;a<U.length;a++)m=U[a],!(x.indexOf(m)>=0)&&(W[m]=v[m]);return W}function I(v,x){var W=v.name,U=v.formatName,m=E(v,p),a=x.split("-"),f=S(a,2),d=f[0],R=f[1],B="".concat(W).concat(Object(o.a)(U??d)).concat(R?Object(o.a)(R):""),F="".concat(u.a.style).concat(W,"_").concat(x);return new l.a(B,F,m)}},function(r,i,t){var l=t(1),o=t.n(l),u=t(0),p=t(12),S=t(6),A=t(13),O=t(5),g=t(11),P=t(64),_=t(48);function E(pt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(vt){return typeof vt}:E=function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},E(pt)}function w(pt,At){return x(pt)||v(pt,At)||m(pt,At)||I()}function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(pt,At){var vt=pt==null?null:typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(vt!=null){var G=[],K=!0,D=!1,at,X;try{for(vt=vt.call(pt);!(K=(at=vt.next()).done)&&(G.push(at.value),!(At&&G.length===At));K=!0);}catch(lt){D=!0,X=lt}finally{try{!K&&vt.return!=null&&vt.return()}finally{if(D)throw X}}return G}}function x(pt){if(Array.isArray(pt))return pt}function W(pt){return f(pt)||a(pt)||m(pt)||U()}function U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(pt,At){if(pt){if(typeof pt=="string")return d(pt,At);var vt=Object.prototype.toString.call(pt).slice(8,-1);if(vt==="Object"&&pt.constructor&&(vt=pt.constructor.name),vt==="Map"||vt==="Set")return Array.from(pt);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return d(pt,At)}}function a(pt){if(typeof Symbol<"u"&&pt[Symbol.iterator]!=null||pt["@@iterator"]!=null)return Array.from(pt)}function f(pt){if(Array.isArray(pt))return d(pt)}function d(pt,At){(At==null||At>pt.length)&&(At=pt.length);for(var vt=0,G=new Array(At);vt<At;vt++)G[vt]=pt[vt];return G}function R(pt,At){if(!(pt instanceof At))throw new TypeError("Cannot call a class as a function")}function B(pt,At){for(var vt=0;vt<At.length;vt++){var G=At[vt];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(pt,G.key,G)}}function F(pt,At,vt){return At&&B(pt.prototype,At),vt&&B(pt,vt),pt}function N(pt,At,vt){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get:N=function(K,D,at){var X=tt(K,D);if(X){var lt=Object.getOwnPropertyDescriptor(X,D);return lt.get?lt.get.call(at):lt.value}},N(pt,At,vt||pt)}function tt(pt,At){for(;!Object.prototype.hasOwnProperty.call(pt,At)&&(pt=Y(pt),pt!==null););return pt}function M(pt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(At&&At.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),At&&Z(pt,At)}function Z(pt,At){return Z=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G},Z(pt,At)}function ut(pt){var At=mt();return function(){var G=Y(pt),K;if(At){var D=Y(this).constructor;K=Reflect.construct(G,arguments,D)}else K=G.apply(this,arguments);return ht(this,K)}}function ht(pt,At){if(At&&(E(At)==="object"||typeof At=="function"))return At;if(At!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return it(pt)}function it(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y(pt){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(vt){return vt.__proto__||Object.getPrototypeOf(vt)},Y(pt)}var V="data-tablelite-",L=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return F(vt,[{key:"format",value:function(K,D){if(g.c[K]){var at,X,lt="data-".concat(K.toLowerCase());Object(_.a)(this.domNode,lt,D),(at=this.row())===null||at===void 0||(X=at.table())===null||X===void 0||X.format(K,D)}else N(Y(vt.prototype),"format",this).call(this,K,D)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var K;return(K=this.row())===null||K===void 0?void 0:K.table()}}],[{key:"create",value:function(K){var D=N(Y(vt),"create",this).call(this),at=this.dataAttribute;return Object(_.a)(D,at,K??Q()),D}},{key:"formats",value:function(K){var D=this.dataAttribute;if(K.hasAttribute(D))return K.getAttribute(D)}}]),vt}(S.d);L.tagName=["TD","TH"];var et=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return F(vt,[{key:"format",value:function(K,D){K===vt.blotName&&D?this.domNode.setAttribute(vt.dataAttribute,D):N(Y(vt.prototype),"format",this).call(this,K,D)}}]),vt}(L);et.blotName="table",et.dataAttribute="".concat(V,"row");var st=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return F(vt,[{key:"format",value:function(K,D){K===vt.blotName&&D?this.domNode.setAttribute(vt.dataAttribute,D):N(Y(vt.prototype),"format",this).call(this,K,D)}}]),vt}(L);st.tagName=["TH","TD"],st.blotName="tableHeaderCell",st.dataAttribute="".concat(V,"header-row");var _t=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return F(vt,[{key:"checkMerge",value:function(){if(N(Y(vt.prototype),"checkMerge",this).call(this)&&Object(O.a)(this.next.children.head)){var K=this.childFormatName,D=this.children.head.formats(),at=this.children.tail.formats(),X=this.next.children.head.formats(),lt=this.next.children.tail.formats();return D[K]===at[K]&&D[K]===X[K]&&D[K]===lt[K]}return!1}},{key:"optimize",value:function(){for(var K,D=this,at=arguments.length,X=new Array(at),lt=0;lt<at;lt++)X[lt]=arguments[lt];(K=N(Y(vt.prototype),"optimize",this)).call.apply(K,[this].concat(X));var Ct=this.childFormatName;this.children.forEach(function(xt){if(Object(O.a)(xt.next)){var jt=xt.formats(),Ut=xt.next.formats();if(jt[Ct]!==Ut[Ct]){var Kt=D.splitAfter(xt);Kt&&Kt.optimize(),D.prev&&D.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var K;return(K=this.parent)===null||K===void 0?void 0:K.parent}}]),vt}(A.a);_t.tagName="TR";var ot=function(pt){M(vt,pt);var At=ut(vt);function vt(G,K){var D;return R(this,vt),D=At.call(this,G,K),D.childFormatName="table",D}return vt}(_t);ot.blotName="tableRow";var dt=function(pt){M(vt,pt);var At=ut(vt);function vt(G,K){var D;return R(this,vt),D=At.call(this,G,K),D.childFormatName="tableHeaderCell",D}return vt}(_t);dt.blotName="tableHeaderRow";var Tt=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return F(vt,[{key:"optimize",value:function(){var K;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var D=this.children.head.children.head.domNode,at={};Object.keys(g.c).forEach(function(xt){var jt=D.dataset[xt.toLowerCase()];jt&&(at[xt]=jt)}),this.wrap(this.statics.requiredContainer.blotName,at)}for(var X=arguments.length,lt=new Array(X),Ct=0;Ct<X;Ct++)lt[Ct]=arguments[Ct];(K=N(Y(vt.prototype),"optimize",this)).call.apply(K,[this].concat(lt))}}]),vt}(A.a),Rt=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return vt}(Tt);Rt.blotName="tableBody",Rt.tagName=["TBODY"];var rt=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return vt}(Tt);rt.blotName="tableHeader",rt.tagName=["THEAD"];var z=function(pt){M(vt,pt);var At=ut(vt);function vt(){return R(this,vt),At.apply(this,arguments)}return F(vt,[{key:"balanceCells",value:function(){var K=this.descendants(dt),D=this.descendants(ot),at=this.getMaxTableColCount(K,D);this.balanceRows(at,K,st),this.balanceRows(at,D,et)}},{key:"getMaxTableColCount",value:function(K,D){return Math.max(this.getMaxRowColCount(K),this.getMaxRowColCount(D))}},{key:"getMaxRowColCount",value:function(K){return Math.max.apply(Math,W(K.map(function(D){return D.children.length})))}},{key:"balanceRows",value:function(K,D,at){var X=this;D.forEach(function(lt){new Array(K-lt.children.length).fill(0).forEach(function(){var Ct;Object(O.a)(lt.children.head)&&(Ct=at.formats(lt.children.head.domNode));var xt=X.scroll.create(at.blotName,Ct);lt.appendChild(xt),xt.optimize()})})}},{key:"cells",value:function(K){return this.rows().map(function(D){return D.children.at(K)})}},{key:"deleteColumn",value:function(K){var D=this;[rt,Rt].forEach(function(at){var X=D.descendants(at),lt=w(X,1),Ct=lt[0];!Object(O.a)(Ct)||!Object(O.a)(Ct.children.head)||Ct.children.forEach(function(xt){var jt=xt.children.at(K);Object(O.a)(jt)&&jt.remove()})})}},{key:"insertColumn",value:function(K){var D=this;[rt,Rt].forEach(function(at){var X=D.descendants(at),lt=w(X,1),Ct=lt[0];if(!(!Object(O.a)(Ct)||!Object(O.a)(Ct.children.head))){var xt=at===rt?st:et;Ct.children.forEach(function(jt){var Ut=jt.children.at(K),Kt=xt.formats(jt.children.head.domNode),te=D.scroll.create(xt.blotName,Kt);jt.insertBefore(te,Ut)})}})}},{key:"insertRow",value:function(K){var D=this,at=this.descendants(Rt),X=w(at,1),lt=X[0];if(!(!Object(O.a)(lt)||!Object(O.a)(lt.children.head))){var Ct=Q(),xt=this.scroll.create(ot.blotName);lt.children.head.children.forEach(function(){var Ut=D.scroll.create(et.blotName,Ct);xt.appendChild(Ut)});var jt=lt.children.at(K);lt.insertBefore(xt,jt)}}},{key:"insertHeaderRow",value:function(){var K=this,D=this.descendants(rt),at=w(D,1),X=at[0],lt=this.descendants(Rt),Ct=w(lt,1),xt=Ct[0];if(!(Object(O.a)(X)||!Object(O.a)(xt)||!Object(O.a)(xt.children.head))){var jt=Q(),Ut=this.scroll.create(rt.blotName),Kt=this.scroll.create(dt.blotName),te=this.children.at(0);Ut.appendChild(Kt),xt.children.head.children.forEach(function(){var ce=K.scroll.create(st.blotName,jt);Kt.appendChild(ce),ce.optimize()}),this.insertBefore(Ut,te)}}},{key:"rows",value:function(){var K=this.children.head;return Object(O.a)(K)?K.children.map(function(D){return D}):[]}},{key:"formats",value:function(){var K={},D=this.cells()[0].domNode;return Object.keys(g.c).forEach(function(at){var X=D.dataset[at.toLowerCase()];X&&(K[at]=X)}),K}},{key:"format",value:function(K,D){var at=g.c[K];if(at){var X="data-".concat(K.toLowerCase());this.cells().forEach(function(lt){Object(_.a)(lt.domNode,X,D)}),at.add(this.domNode,D)}}}],[{key:"create",value:function(K){var D=N(Y(vt),"create",this).call(this,K);return K&&Object.keys(K).forEach(function(at){var X;(X=g.c[at])===null||X===void 0||X.add(D,K[at])}),D}}]),vt}(A.a);z.blotName="tableContainer",z.tagName="TABLE",z.allowedChildren=[rt,Rt],Rt.requiredContainer=z,rt.requiredContainer=z,Rt.allowedChildren=[ot],ot.requiredContainer=Rt,ot.allowedChildren=[et],et.requiredContainer=ot,rt.allowedChildren=[dt],dt.requiredContainer=rt,dt.allowedChildren=[st],st.requiredContainer=dt;function Q(){return"row-".concat(Object(P.a)())}var J=t(26),nt=t(54);function gt(pt){var At=pt.quill,vt=pt.index,G=pt.range,K=vt-1,D=new o.a().retain(K).insert(`
`);At.updateContents(D,u.a.sources.USER),At.setSelection(G.index+1,G.length,u.a.sources.SILENT)}function It(pt){var At=pt.quill,vt=pt.index,G=pt.table,K=vt+G.length(),D=new o.a().retain(K).insert(`
`);At.updateContents(D,u.a.sources.USER),At.setSelection(K,u.a.sources.USER)}function Mt(pt,At,vt){return pt.prev==null&&pt.next==null?At.prev==null&&At.next==null?vt===0?-1:1:At.prev==null?-1:1:pt.prev==null?-1:pt.next==null?1:null}var Nt=t(55),q=t(21);function y(pt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(vt){return typeof vt}:y=function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},y(pt)}function c(pt,At,vt){return At in pt?Object.defineProperty(pt,At,{value:vt,enumerable:!0,configurable:!0,writable:!0}):pt[At]=vt,pt}function T(pt,At){return Gt(pt)||kt(pt,At)||ct(pt,At)||H()}function H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(pt,At){if(pt){if(typeof pt=="string")return St(pt,At);var vt=Object.prototype.toString.call(pt).slice(8,-1);if(vt==="Object"&&pt.constructor&&(vt=pt.constructor.name),vt==="Map"||vt==="Set")return Array.from(pt);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return St(pt,At)}}function St(pt,At){(At==null||At>pt.length)&&(At=pt.length);for(var vt=0,G=new Array(At);vt<At;vt++)G[vt]=pt[vt];return G}function kt(pt,At){var vt=pt==null?null:typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(vt!=null){var G=[],K=!0,D=!1,at,X;try{for(vt=vt.call(pt);!(K=(at=vt.next()).done)&&(G.push(at.value),!(At&&G.length===At));K=!0);}catch(lt){D=!0,X=lt}finally{try{!K&&vt.return!=null&&vt.return()}finally{if(D)throw X}}return G}}function Gt(pt){if(Array.isArray(pt))return pt}function Qt(pt,At){if(!(pt instanceof At))throw new TypeError("Cannot call a class as a function")}function re(pt,At){for(var vt=0;vt<At.length;vt++){var G=At[vt];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(pt,G.key,G)}}function Ot(pt,At,vt){return At&&re(pt.prototype,At),vt&&re(pt,vt),pt}function Et(pt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(At&&At.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),At&&wt(pt,At)}function wt(pt,At){return wt=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G},wt(pt,At)}function Bt(pt){var At=Dt();return function(){var G=$t(pt),K;if(At){var D=$t(this).constructor;K=Reflect.construct(G,arguments,D)}else K=G.apply(this,arguments);return Pt(this,K)}}function Pt(pt,At){if(At&&(y(At)==="object"||typeof At=="function"))return At;if(At!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(pt)}function Ft(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function Dt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $t(pt){return $t=Object.setPrototypeOf?Object.getPrototypeOf:function(vt){return vt.__proto__||Object.getPrototypeOf(vt)},$t(pt)}var qt=[null,null,null,-1],Jt=function(pt){Et(vt,pt);var At=Bt(vt);function vt(){var G;Qt(this,vt);for(var K=arguments.length,D=new Array(K),at=0;at<K;at++)D[at]=arguments[at];return G=At.call.apply(At,[this].concat(D)),G.tableBlots=[et.blotName,st.blotName],G.tableBlots.forEach(function(X){G.quill.editor.addImmediateFormat(X)}),G.integrateClipboard(),G.addKeyboardHandlers(),G.listenBalanceCells(),G}return Ot(vt,[{key:"integrateClipboard",value:function(){var K=this;this.tableBlots.forEach(function(D){return K.quill.clipboard.addTableBlot(D)}),this.quill.clipboard.addMatcher("tr",ne),this.quill.clipboard.addMatcher("table",Object(Nt.a)(g.a)),this.quill.clipboard.addMatcher("td, th",Object(Nt.b)(q.a))}},{key:"addKeyboardHandlers",value:function(){var K=this,D=vt.keyboardBindings;Object.keys(D).forEach(function(at){D[at]&&K.quill.keyboard.addBinding(D[at])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(z).forEach(function(K){K.balanceCells()})}},{key:"deleteColumn",value:function(){var K=this.getTable(),D=T(K,3),at=D[0],X=D[2];Object(O.a)(X)&&(at.deleteColumn(X.cellOffset()),this.quill.update(u.a.sources.USER))}},{key:"deleteRow",value:function(){var K=this.getTable(),D=T(K,2),at=D[1];Object(O.a)(at)&&(at.remove(),this.quill.update(u.a.sources.USER))}},{key:"deleteTable",value:function(){var K=this.getTable(),D=T(K,1),at=D[0];if(Object(O.a)(at)){var X=at.offset();at.remove(),this.quill.update(u.a.sources.USER),this.quill.setSelection(X,u.a.sources.SILENT)}}},{key:"getTable",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!Object(O.a)(K))return qt;var D=this.quill.getLine(K.index),at=T(D,2),X=at[0],lt=at[1];if(!Object(O.a)(X)||this.tableBlots.indexOf(X.statics.blotName)===-1)return qt;var Ct=X.parent,xt=Ct.parent.parent;return[xt,Ct,X,lt]}},{key:"insertColumn",value:function(K){var D=this.quill.getSelection(),at=this.getTable(D),X=T(at,3),lt=X[0],Ct=X[1],xt=X[2];if(Object(O.a)(xt)){var jt=xt.cellOffset();lt.insertColumn(jt+K),this.quill.update(u.a.sources.USER);var Ut=Ct.rowOffset();K===0&&(Ut+=1),this.quill.setSelection(D.index+Ut,D.length,u.a.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(K){var D=this.quill.getSelection(),at=this.getTable(D),X=T(at,3),lt=X[0],Ct=X[1],xt=X[2];if(Object(O.a)(xt)){var jt=Ct.rowOffset();lt.insertRow(jt+K),this.quill.update(u.a.sources.USER),K>0?this.quill.setSelection(D,u.a.sources.SILENT):this.quill.setSelection(D.index+Ct.children.length,D.length,u.a.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var K=this.quill.getSelection(),D=this.getTable(K),at=T(D,3),X=at[0],lt=at[2];Object(O.a)(lt)&&(X.insertHeaderRow(),this.quill.update(u.a.sources.USER))}},{key:"insertTable",value:function(K,D){var at=this.quill.getSelection();if(Object(O.a)(at)){var X=new Array(K).fill(0).reduce(function(lt){var Ct=new Array(D).fill(`
`).join("");return lt.insert(Ct,{table:Q()})},new o.a().retain(at.index));this.quill.updateContents(X,u.a.sources.USER),this.quill.setSelection(at.index,u.a.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var K=this;this.quill.on(u.a.events.SCROLL_OPTIMIZE,function(D){D.some(function(at){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(at.target.tagName)!==-1?(K.quill.once(u.a.events.TEXT_CHANGE,function(X,lt,Ct){Ct===u.a.sources.USER&&K.balanceTables()}),!0):!1})}),this.quill.on(u.a.events.CONTENT_SETTED,function(){K.quill.once(u.a.events.TEXT_CHANGE,function(){K.balanceTables()})})}}],[{key:"register",value:function(){u.a.register(st,!0),u.a.register(et,!0),u.a.register(dt,!0),u.a.register(ot,!0),u.a.register(Rt,!0),u.a.register(rt,!0),u.a.register(z,!0),[g.c,q.b].forEach(function(K){Object.keys(K).forEach(function(D){u.a.register(c({},"formats/".concat(D),K[D]),!0)})})}}]),vt}(p.a);Jt.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(At){var vt=this.quill.getModule("table");if(vt){var G=this.quill,K=vt.getTable(At),D=T(K,4),at=D[0],X=D[1],lt=D[2],Ct=D[3],xt=Mt(X,lt,Ct),jt=at.children.length>1&&at.children.head;if(xt==null||xt<0&&jt)return;var Ut=at.offset();xt<0?gt({quill:G,index:Ut,range:At}):It({quill:G,index:Ut,table:at})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(At){var vt=this.quill.getModule("table");if(vt){var G=this.quill,K=vt.getTable(At),D=T(K,4),at=D[0],X=D[1],lt=D[2],Ct=D[3],xt=Mt(X,lt,Ct);if(xt==null)return;var jt=at.offset(),Ut=at.children.length>1&&at.children.tail;xt<0||xt>0&&Ut?gt({quill:G,index:jt,range:At}):It({quill:G,index:jt,table:at})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(At,vt){var G=vt.event,K=vt.line,D=K.offset(this.quill.scroll);G.shiftKey?this.quill.setSelection(D-1,u.a.sources.USER):this.quill.setSelection(D+K.length(),u.a.sources.USER)}},"table down":Object(nt.a)(!1,["table","tableHeaderCell"]),"table up":Object(nt.a)(!0,["table","tableHeaderCell"])};function ne(pt,At){var vt=pt.parentNode.tagName==="TABLE"?pt.parentNode:pt.parentNode.parentNode,G=pt.parentNode.tagName==="THEAD"?!0:null,K=Array.from(vt.querySelectorAll("tr")),D=K.indexOf(pt)+1;return Object(J.a)(At,G?"tableHeaderCell":"table",D)}i.a=Jt},function(r,i,t){t.d(i,"a",function(){return et}),t.d(i,"b",function(){return _t});var l=t(1),o=t.n(l),u=t(2),p=t(14),S=t(0),A=t(12),O=t(6),g=t(10),P=t(24),_=t(9),E=t(17),w=t(26),I=t(15);function v(ot){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(Tt){return typeof Tt}:v=function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt},v(ot)}function x(ot,dt,Tt){return dt in ot?Object.defineProperty(ot,dt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):ot[dt]=Tt,ot}function W(ot,dt){return d(ot)||f(ot,dt)||m(ot,dt)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(ot,dt){if(ot){if(typeof ot=="string")return a(ot,dt);var Tt=Object.prototype.toString.call(ot).slice(8,-1);if(Tt==="Object"&&ot.constructor&&(Tt=ot.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(ot);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return a(ot,dt)}}function a(ot,dt){(dt==null||dt>ot.length)&&(dt=ot.length);for(var Tt=0,Rt=new Array(dt);Tt<dt;Tt++)Rt[Tt]=ot[Tt];return Rt}function f(ot,dt){var Tt=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(Tt!=null){var Rt=[],rt=!0,z=!1,Q,J;try{for(Tt=Tt.call(ot);!(rt=(Q=Tt.next()).done)&&(Rt.push(Q.value),!(dt&&Rt.length===dt));rt=!0);}catch(nt){z=!0,J=nt}finally{try{!rt&&Tt.return!=null&&Tt.return()}finally{if(z)throw J}}return Rt}}function d(ot){if(Array.isArray(ot))return ot}function R(ot,dt){if(!(ot instanceof dt))throw new TypeError("Cannot call a class as a function")}function B(ot,dt){for(var Tt=0;Tt<dt.length;Tt++){var Rt=dt[Tt];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(ot,Rt.key,Rt)}}function F(ot,dt,Tt){return dt&&B(ot.prototype,dt),Tt&&B(ot,Tt),ot}function N(ot,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(dt&&dt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),dt&&tt(ot,dt)}function tt(ot,dt){return tt=Object.setPrototypeOf||function(Rt,rt){return Rt.__proto__=rt,Rt},tt(ot,dt)}function M(ot){var dt=ht();return function(){var Rt=Y(ot),rt;if(dt){var z=Y(this).constructor;rt=Reflect.construct(Rt,arguments,z)}else rt=Rt.apply(this,arguments);return Z(this,rt)}}function Z(ot,dt){if(dt&&(v(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(ot)}function ut(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}function ht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function it(ot,dt,Tt){return typeof Reflect<"u"&&Reflect.get?it=Reflect.get:it=function(rt,z,Q){var J=mt(rt,z);if(J){var nt=Object.getOwnPropertyDescriptor(J,z);return nt.get?nt.get.call(Q):nt.value}},it(ot,dt,Tt||ot)}function mt(ot,dt){for(;!Object.prototype.hasOwnProperty.call(ot,dt)&&(ot=Y(ot),ot!==null););return ot}function Y(ot){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)},Y(ot)}var V=new u.ClassAttributor("code-token","hljs",{scope:u.Scope.INLINE}),L=function(ot){N(Tt,ot);var dt=M(Tt);function Tt(Rt,rt,z){var Q;return R(this,Tt),Q=dt.call(this,Rt,rt,z),V.add(Q.domNode,z),Q}return F(Tt,[{key:"format",value:function(rt,z){rt!==Tt.blotName?it(Y(Tt.prototype),"format",this).call(this,rt,z):z?V.add(this.domNode,z):(V.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var rt,z=arguments.length,Q=new Array(z),J=0;J<z;J++)Q[J]=arguments[J];(rt=it(Y(Tt.prototype),"optimize",this)).call.apply(rt,[this].concat(Q)),V.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(rt,z){for(;rt!=null&&rt!==z.domNode;){if(rt.classList&&rt.classList.contains(E.c.className))return it(Y(Tt),"formats",this).call(this,rt,z);rt=rt.parentNode}}}]),Tt}(p.a);L.blotName="code-token",L.className="ql-token";var et=function(ot){N(Tt,ot);var dt=M(Tt);function Tt(){return R(this,Tt),dt.apply(this,arguments)}return F(Tt,[{key:"format",value:function(rt,z){rt===this.statics.blotName&&z?this.domNode.setAttribute("data-language",z):it(Y(Tt.prototype),"format",this).call(this,rt,z)}},{key:"replaceWith",value:function(rt,z){return this.formatAt(0,this.length(),L.blotName,!1),it(Y(Tt.prototype),"replaceWith",this).call(this,rt,z)}}],[{key:"create",value:function(rt){var z=it(Y(Tt),"create",this).call(this,rt);return typeof rt=="string"&&z.setAttribute("data-language",rt),z}},{key:"formats",value:function(rt){return rt.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),Tt}(E.c),st=function(ot){N(Tt,ot);var dt=M(Tt);function Tt(){return R(this,Tt),dt.apply(this,arguments)}return F(Tt,[{key:"attach",value:function(){it(Y(Tt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(rt,z){rt===et.blotName&&(this.forceNext=!0,this.children.forEach(function(Q){Q.format(rt,z)}))}},{key:"formatAt",value:function(rt,z,Q,J){Q===et.blotName&&(this.forceNext=!0),it(Y(Tt.prototype),"formatAt",this).call(this,rt,z,Q,J)}},{key:"highlight",value:function(rt){var z=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head!=null){var J=Array.from(this.domNode.childNodes).filter(function(Nt){return Nt!==z.uiNode}),nt="".concat(J.map(function(Nt){return Nt.textContent}).join(`
`),`
`),gt=et.formats(this.children.head.domNode);if(Q||this.forceNext||this.cachedText!==nt){if(nt.trim().length>0||this.cachedText==null){var It=this.children.reduce(function(Nt,q){return Nt.concat(Object(O.b)(q,!1))},new o.a),Mt=rt(nt,gt);It.diff(Mt).reduce(function(Nt,q){var y=q.retain,c=q.attributes;return y?(c&&Object.keys(c).forEach(function(T){[et.blotName,L.blotName].indexOf(T)!==-1&&z.formatAt(Nt,y,T,c[T])}),Nt+y):Nt},0)}this.cachedText=nt,this.forceNext=!1}}}},{key:"html",value:function(rt,z){var Q=this.children.find(rt),J=W(Q,1),nt=J[0],gt=nt?et.formats(nt.domNode):"plain";return'<pre data-language="'.concat(gt,`">
`).concat(this.code(rt,z),`
</pre>`)}},{key:"optimize",value:function(rt){if(it(Y(Tt.prototype),"optimize",this).call(this,rt),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){var z=et.formats(this.children.head.domNode);z!==this.uiNode.value&&(this.uiNode.value=z)}}}]),Tt}(E.b);st.allowedChildren=[et],et.requiredContainer=st,et.allowedChildren=[L,P.a,_.a,g.a];var _t=function(ot){N(Tt,ot);var dt=M(Tt);function Tt(Rt,rt){var z;if(R(this,Tt),z=dt.call(this,Rt,rt),z.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return z.languages=z.options.languages.reduce(function(Q,J){var nt=J.key;return Q[nt]=!0,Q},{}),z.highlightBlot=z.highlightBlot.bind(ut(z)),z.initListener(),z.initTimer(),z}return F(Tt,[{key:"initListener",value:function(){var rt=this;this.quill.on(S.a.events.SCROLL_BLOT_MOUNT,function(z){if(z instanceof st){var Q=rt.quill.root.ownerDocument.createElement("select");rt.options.languages.forEach(function(J){var nt=J.key,gt=J.label,It=Q.ownerDocument.createElement("option");It.textContent=gt,It.setAttribute("value",nt),Q.appendChild(It)}),Q.addEventListener("change",function(){z.format(et.blotName,Q.value),rt.quill.root.focus(),rt.highlight(z,!0)}),z.uiNode==null&&(z.attachUI(Q),z.children.head&&(Q.value=et.formats(z.children.head.domNode)))}})}},{key:"initTimer",value:function(){var rt=this,z=null;this.quill.on(S.a.events.SCROLL_OPTIMIZE,function(){clearTimeout(z),z=setTimeout(function(){rt.highlight(),z=null},rt.options.interval)})}},{key:"highlight",value:function(){var rt=this,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.quill.selection.composing){this.quill.update(S.a.sources.USER);var J=this.quill.getSelection(),nt=z==null?this.quill.scroll.descendants(st):[z];nt.forEach(function(gt){gt.highlight(rt.highlightBlot,Q)}),this.quill.update(S.a.sources.SILENT),J!=null&&this.quill.setSelection(J,S.a.sources.SILENT)}}},{key:"highlightBlot",value:function(rt){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(z=this.languages[z]?z:"plain",z==="plain")return Object(_.b)(rt).split(`
`).reduce(function(J,nt,gt){return gt!==0&&J.insert(`
`,x({},E.c.blotName,z)),J.insert(nt)},new o.a);var Q=this.quill.root.ownerDocument.createElement("div");return Q.classList.add(E.c.className),Q.innerHTML=this.options.hljs.highlight(z,rt).value,Object(w.d)(this.quill.scroll,Q,[function(J,nt){var gt=V.value(J);return gt?nt.compose(new o.a().retain(nt.length(),x({},L.blotName,gt))):nt}],[function(J,nt){return J.data.split(`
`).reduce(function(gt,It,Mt){return Mt!==0&&gt.insert(`
`,x({},E.c.blotName,z)),gt.insert(It)},nt)}],new WeakMap)}}],[{key:"register",value:function(){S.a.register(L,!0),S.a.register(et,!0),S.a.register(st,!0)}}]),Tt}(A.a);_t.DEFAULTS={hljs:function(){return Object(I.a)()?window.hljs:null}(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},function(r,i){var t=Math.ceil,l=Math.floor;r.exports=function(o){var u=+o;return u!==u||u===0?0:(u>0?l:t)(u)}},function(r,i,t){var l=t(8),o=t(79),u=l.String;r.exports=function(p){if(o(p)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return u(p)}},function(r,i,t){var l=t(8),o=t(126),u=t(22),p=t(82),S=t(28),A=S("toStringTag"),O=l.Object,g=p(function(){return arguments}())=="Arguments",P=function(_,E){try{return _[E]}catch{}};r.exports=o?p:function(_){var E,w,I;return _===void 0?"Undefined":_===null?"Null":typeof(w=P(E=O(_),A))=="string"?w:g?p(E):(I=p(E))=="Object"&&u(E.callee)?"Arguments":I}},function(r,i,t){var l=t(8),o=t(81),u="__core-js_shared__",p=l[u]||o(u,{});r.exports=p},function(r,i,t){var l=t(8),o=Object.defineProperty;r.exports=function(u,p){try{o(l,u,{value:p,configurable:!0,writable:!0})}catch{l[u]=p}return p}},function(r,i,t){var l=t(20),o=l({}.toString),u=l("".slice);r.exports=function(p){return u(o(p),8,-1)}},function(r,i,t){var l=t(20),o=t(22),u=t(80),p=l(Function.toString);o(u.inspectSource)||(u.inspectSource=function(S){return p(S)}),r.exports=u.inspectSource},function(r,i,t){var l=t(130),o=t(103);r.exports=function(u){var p=l(u,"string");return o(p)?p:p+""}},function(r,i,t){var l=t(86);r.exports=function(o,u){var p=o[u];return p==null?void 0:l(p)}},function(r,i,t){var l=t(8),o=t(22),u=t(104),p=l.TypeError;r.exports=function(S){if(o(S))return S;throw p(u(S)+" is not a function")}},function(r,i,t){var l=t(96),o=t(97),u=l("keys");r.exports=function(p){return u[p]||(u[p]=o(p))}},function(r,i){r.exports={}},function(r,i,t){var l=t(41),o=t(42),u=t(105),p=t(71),S=t(62),A=t(84),O=t(36),g=t(101),P=Object.getOwnPropertyDescriptor;i.f=l?P:function(E,w){if(E=S(E),w=A(w),g)try{return P(E,w)}catch{}if(O(E,w))return p(!o(u.f,E,w),E[w])}},function(r,i,t){var l=t(8),o=t(22),u=t(36),p=t(70),S=t(81),A=t(83),O=t(100),g=t(106).CONFIGURABLE,P=O.get,_=O.enforce,E=String(String).split("String");(r.exports=function(w,I,v,x){var W=x?!!x.unsafe:!1,U=x?!!x.enumerable:!1,m=x?!!x.noTargetGet:!1,a=x&&x.name!==void 0?x.name:I,f;if(o(v)&&(String(a).slice(0,7)==="Symbol("&&(a="["+String(a).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!u(v,"name")||g&&v.name!==a)&&p(v,"name",a),f=_(v),f.source||(f.source=E.join(typeof a=="string"?a:""))),w===l){U?w[I]=v:S(I,v);return}else W?!m&&w[I]&&(U=!0):delete w[I];U?w[I]=v:p(w,I,v)})(Function.prototype,"toString",function(){return o(this)&&P(this).source||A(this)})},function(r,i,t){var l=t(109);r.exports=function(o){return l(o.length)}},function(r,i){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(r,i,t){var l=t(40),o=t(142),u=t(92),p=t(88),S=t(143),A=t(102),O=t(87),g=">",P="<",_="prototype",E="script",w=O("IE_PROTO"),I=function(){},v=function(a){return P+E+g+a+P+"/"+E+g},x=function(a){a.write(v("")),a.close();var f=a.parentWindow.Object;return a=null,f},W=function(){var a=A("iframe"),f="java"+E+":",d;return a.style.display="none",S.appendChild(a),a.src=String(f),d=a.contentWindow.document,d.open(),d.write(v("document.F=Object")),d.close(),d.F},U,m=function(){try{U=new ActiveXObject("htmlfile")}catch{}m=typeof document<"u"?document.domain&&U?x(U):W():x(U);for(var a=u.length;a--;)delete m[_][u[a]];return m()};p[w]=!0,r.exports=Object.create||function(f,d){var R;return f!==null?(I[_]=l(f),R=new I,I[_]=null,R[w]=f):R=m(),d===void 0?R:o(R,d)}},function(r,i,t){var l=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0});var o=l(t(120)),u;(function(p){function S(O){return new o.default(O)}p.iterator=S;function A(O){return typeof O.delete=="number"?O.delete:typeof O.retain=="number"?O.retain:typeof O.insert=="string"?O.insert.length:1}p.length=A})(u||(u={})),i.default=u},function(r,i){var t=Object.prototype.hasOwnProperty,l="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(l=!1));function u(O,g,P){this.fn=O,this.context=g,this.once=P||!1}function p(O,g,P,_,E){if(typeof P!="function")throw new TypeError("The listener must be a function");var w=new u(P,_||O,E),I=l?l+g:g;return O._events[I]?O._events[I].fn?O._events[I]=[O._events[I],w]:O._events[I].push(w):(O._events[I]=w,O._eventsCount++),O}function S(O,g){--O._eventsCount===0?O._events=new o:delete O._events[g]}function A(){this._events=new o,this._eventsCount=0}A.prototype.eventNames=function(){var g=[],P,_;if(this._eventsCount===0)return g;for(_ in P=this._events)t.call(P,_)&&g.push(l?_.slice(1):_);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(P)):g},A.prototype.listeners=function(g){var P=l?l+g:g,_=this._events[P];if(!_)return[];if(_.fn)return[_.fn];for(var E=0,w=_.length,I=new Array(w);E<w;E++)I[E]=_[E].fn;return I},A.prototype.listenerCount=function(g){var P=l?l+g:g,_=this._events[P];return _?_.fn?1:_.length:0},A.prototype.emit=function(g,P,_,E,w,I){var v=l?l+g:g;if(!this._events[v])return!1;var x=this._events[v],W=arguments.length,U,m;if(x.fn){switch(x.once&&this.removeListener(g,x.fn,void 0,!0),W){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,P),!0;case 3:return x.fn.call(x.context,P,_),!0;case 4:return x.fn.call(x.context,P,_,E),!0;case 5:return x.fn.call(x.context,P,_,E,w),!0;case 6:return x.fn.call(x.context,P,_,E,w,I),!0}for(m=1,U=new Array(W-1);m<W;m++)U[m-1]=arguments[m];x.fn.apply(x.context,U)}else{var a=x.length,f;for(m=0;m<a;m++)switch(x[m].once&&this.removeListener(g,x[m].fn,void 0,!0),W){case 1:x[m].fn.call(x[m].context);break;case 2:x[m].fn.call(x[m].context,P);break;case 3:x[m].fn.call(x[m].context,P,_);break;case 4:x[m].fn.call(x[m].context,P,_,E);break;default:if(!U)for(f=1,U=new Array(W-1);f<W;f++)U[f-1]=arguments[f];x[m].fn.apply(x[m].context,U)}}return!0},A.prototype.on=function(g,P,_){return p(this,g,P,_,!1)},A.prototype.once=function(g,P,_){return p(this,g,P,_,!0)},A.prototype.removeListener=function(g,P,_,E){var w=l?l+g:g;if(!this._events[w])return this;if(!P)return S(this,w),this;var I=this._events[w];if(I.fn)I.fn===P&&(!E||I.once)&&(!_||I.context===_)&&S(this,w);else{for(var v=0,x=[],W=I.length;v<W;v++)(I[v].fn!==P||E&&!I[v].once||_&&I[v].context!==_)&&x.push(I[v]);x.length?this._events[w]=x.length===1?x[0]:x:S(this,w)}return this},A.prototype.removeAllListeners=function(g){var P;return g?(P=l?l+g:g,this._events[P]&&S(this,P)):(this._events=new o,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=l,A.EventEmitter=A,typeof r<"u"&&(r.exports=A)},function(r,i,t){var l=t(67),o=t(80);(r.exports=function(u,p){return o[u]||(o[u]=p!==void 0?p:{})})("versions",[]).push({version:"3.19.1",mode:l?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(r,i,t){var l=t(20),o=0,u=Math.random(),p=l(1 .toString);r.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+p(++o+u,36)}},function(r,i,t){var l=t(127),o=t(39);r.exports=!!Object.getOwnPropertySymbols&&!o(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(r,i,t){var l=t(98);r.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(r,i,t){var l=t(129),o=t(8),u=t(20),p=t(51),S=t(70),A=t(36),O=t(80),g=t(87),P=t(88),_="Object already initialized",E=o.TypeError,w=o.WeakMap,I,v,x,W=function(B){return x(B)?v(B):I(B,{})},U=function(B){return function(F){var N;if(!p(F)||(N=v(F)).type!==B)throw E("Incompatible receiver, "+B+" required");return N}};if(l||O.state){var m=O.state||(O.state=new w),a=u(m.get),f=u(m.has),d=u(m.set);I=function(B,F){if(f(m,B))throw new E(_);return F.facade=B,d(m,B,F),F},v=function(B){return a(m,B)||{}},x=function(B){return f(m,B)}}else{var R=g("state");P[R]=!0,I=function(B,F){if(A(B,R))throw new E(_);return F.facade=B,S(B,R,F),F},v=function(B){return A(B,R)?B[R]:{}},x=function(B){return A(B,R)}}r.exports={set:I,get:v,has:x,enforce:W,getterFor:U}},function(r,i,t){var l=t(41),o=t(39),u=t(102);r.exports=!l&&!o(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},function(r,i,t){var l=t(8),o=t(51),u=l.document,p=o(u)&&o(u.createElement);r.exports=function(S){return p?u.createElement(S):{}}},function(r,i,t){var l=t(8),o=t(60),u=t(22),p=t(131),S=t(99),A=l.Object;r.exports=S?function(O){return typeof O=="symbol"}:function(O){var g=o("Symbol");return u(g)&&p(g.prototype,A(O))}},function(r,i,t){var l=t(8),o=l.String;r.exports=function(u){try{return o(u)}catch{return"Object"}}},function(r,i,t){var l={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!l.call({1:2},1);i.f=u?function(S){var A=o(this,S);return!!A&&A.enumerable}:l},function(r,i,t){var l=t(41),o=t(36),u=Function.prototype,p=l&&Object.getOwnPropertyDescriptor,S=o(u,"name"),A=S&&function(){}.name==="something",O=S&&(!l||l&&p(u,"name").configurable);r.exports={EXISTS:S,PROPER:A,CONFIGURABLE:O}},function(r,i,t){var l=t(20),o=t(36),u=t(62),p=t(138).indexOf,S=t(88),A=l([].push);r.exports=function(O,g){var P=u(O),_=0,E=[],w;for(w in P)!o(S,w)&&o(P,w)&&A(E,w);for(;g.length>_;)o(P,w=g[_++])&&(~p(E,w)||A(E,w));return E}},function(r,i,t){var l=t(77),o=Math.max,u=Math.min;r.exports=function(p,S){var A=l(p);return A<0?o(A+S,0):u(A,S)}},function(r,i,t){var l=t(77),o=Math.min;r.exports=function(u){return u>0?o(l(u),9007199254740991):0}},function(r,i,t){var l=t(39),o=t(22),u=t(93),p=t(112),S=t(90),A=t(28),O=t(67),g=A("iterator"),P=!1,_,E,w;[].keys&&(w=[].keys(),"next"in w?(E=p(p(w)),E!==Object.prototype&&(_=E)):P=!0);var I=_==null||l(function(){var v={};return _[g].call(v)!==v});I?_={}:O&&(_=u(_)),o(_[g])||S(_,g,function(){return this}),r.exports={IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:P}},function(r,i,t){var l=t(107),o=t(92);r.exports=Object.keys||function(p){return l(p,o)}},function(r,i,t){var l=t(8),o=t(36),u=t(22),p=t(68),S=t(87),A=t(144),O=S("IE_PROTO"),g=l.Object,P=g.prototype;r.exports=A?g.getPrototypeOf:function(_){var E=p(_);if(o(E,O))return E[O];var w=E.constructor;return u(w)&&E instanceof w?w.prototype:E instanceof g?P:null}},function(r,i,t){var l=t(52).f,o=t(36),u=t(28),p=u("toStringTag");r.exports=function(S,A,O){S&&!o(S=O?S:S.prototype,p)&&l(S,p,{configurable:!0,value:A})}},function(r,i,t){var l=t(79),o=t(85),u=t(72),p=t(28),S=p("iterator");r.exports=function(A){if(A!=null)return o(A,S)||o(A,"@@iterator")||u[l(A)]}},function(r,i,t){var l=t(8);r.exports=l},function(r,i,t){var l=t(8),o=t(20);r.exports=function(u,p){return o(l[u].prototype[p])}},function(r,i,t){t.r(i),t(121),t(157),t(163),t(168);var l=t(25),o=t(38),u=t(35),p=t(2);function S(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(j){return typeof j}:S=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},S(b)}function A(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function O(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function g(b,C,j){return C&&O(b.prototype,C),j&&O(b,j),b}function P(b,C,j){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get:P=function(bt,Ht,ae){var _e=_(bt,Ht);if(_e){var pe=Object.getOwnPropertyDescriptor(_e,Ht);return pe.get?pe.get.call(ae):pe.value}},P(b,C,j||b)}function _(b,C){for(;!Object.prototype.hasOwnProperty.call(b,C)&&(b=U(b),b!==null););return b}function E(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&w(b,C)}function w(b,C){return w=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},w(b,C)}function I(b){var C=W();return function(){var ft=U(b),bt;if(C){var Ht=U(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return v(this,bt)}}function v(b,C){if(C&&(S(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(b)}function x(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U(b){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},U(b)}var m=function(b){E(j,b);var C=I(j);function j(){return A(this,j),C.apply(this,arguments)}return g(j,[{key:"add",value:function(bt,Ht){if(Ht==="+1"||Ht==="-1"){var ae=this.value(bt)||0;Ht=Ht==="+1"?ae+1:ae-1}return Ht===0?(this.remove(bt),!0):P(U(j.prototype),"add",this).call(this,bt,Ht)}},{key:"canAdd",value:function(bt,Ht){return P(U(j.prototype),"canAdd",this).call(this,bt,Ht)||P(U(j.prototype),"canAdd",this).call(this,bt,parseInt(Ht,10))}},{key:"value",value:function(bt){return parseInt(P(U(j.prototype),"value",this).call(this,bt),10)||void 0}}]),j}(p.ClassAttributor),a=new m("indent","ql-indent",{scope:p.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),f=a,d=t(6);function R(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(j){return typeof j}:R=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},R(b)}function B(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function F(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&N(b,C)}function N(b,C){return N=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},N(b,C)}function tt(b){var C=ut();return function(){var ft=ht(b),bt;if(C){var Ht=ht(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return M(this,bt)}}function M(b,C){if(C&&(R(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(b)}function Z(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ht(b){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},ht(b)}var it=function(b){F(j,b);var C=tt(j);function j(){return B(this,j),C.apply(this,arguments)}return j}(d.d);it.blotName="blockquote",it.tagName="blockquote";var mt=it;function Y(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y=function(j){return typeof j}:Y=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Y(b)}function V(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function L(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function et(b,C,j){return C&&L(b.prototype,C),j&&L(b,j),b}function st(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&_t(b,C)}function _t(b,C){return _t=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},_t(b,C)}function ot(b){var C=Rt();return function(){var ft=rt(b),bt;if(C){var Ht=rt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return dt(this,bt)}}function dt(b,C){if(C&&(Y(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tt(b)}function Tt(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function Rt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(b){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},rt(b)}var z=function(b){st(j,b);var C=ot(j);function j(){return V(this,j),C.apply(this,arguments)}return et(j,null,[{key:"formats",value:function(bt){return this.tagName.indexOf(bt.tagName)+1}}]),j}(d.d);z.blotName="header",z.tagName=["H1","H2","H3","H4","H5","H6"];var Q=z,J=t(13),nt=t(0);function gt(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gt=function(j){return typeof j}:gt=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},gt(b)}function It(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function Mt(b,C,j){return C&&It(b.prototype,C),j&&It(b,j),b}function Nt(b,C,j){return typeof Reflect<"u"&&Reflect.get?Nt=Reflect.get:Nt=function(bt,Ht,ae){var _e=q(bt,Ht);if(_e){var pe=Object.getOwnPropertyDescriptor(_e,Ht);return pe.get?pe.get.call(ae):pe.value}},Nt(b,C,j||b)}function q(b,C){for(;!Object.prototype.hasOwnProperty.call(b,C)&&(b=Gt(b),b!==null););return b}function y(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function c(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&T(b,C)}function T(b,C){return T=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},T(b,C)}function H(b){var C=kt();return function(){var ft=Gt(b),bt;if(C){var Ht=Gt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return ct(this,bt)}}function ct(b,C){if(C&&(gt(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return St(b)}function St(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gt(b){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},Gt(b)}var Qt=function(b){c(j,b);var C=H(j);function j(){return y(this,j),C.apply(this,arguments)}return j}(J.a);Qt.blotName="list-container",Qt.tagName="OL";var re=function(b){c(j,b);var C=H(j);function j(ft,bt){var Ht;y(this,j),Ht=C.call(this,ft,bt);var ae=bt.ownerDocument.createElement("span"),_e=function(gi){if(ft.isEnabled()){var bi=Ht.statics.formats(bt,ft);bi==="checked"?(Ht.format("list","unchecked"),gi.preventDefault()):bi==="unchecked"&&(Ht.format("list","checked"),gi.preventDefault())}};return ae.addEventListener("mousedown",_e),ae.addEventListener("touchstart",_e),Ht.attachUI(ae),Ht}return Mt(j,[{key:"format",value:function(bt,Ht){bt===this.statics.blotName&&Ht?this.domNode.setAttribute("data-list",Ht):Nt(Gt(j.prototype),"format",this).call(this,bt,Ht)}}],[{key:"create",value:function(bt){var Ht=Nt(Gt(j),"create",this).call(this);return Ht.setAttribute("data-list",bt),Ht}},{key:"formats",value:function(bt){return bt.getAttribute("data-list")||void 0}},{key:"register",value:function(){nt.a.register(Qt)}}]),j}(d.d);re.blotName="list",re.tagName="LI",Qt.allowedChildren=[re],re.requiredContainer=Qt;var Ot=t(45),Et=t(34),wt=t(46),Bt=t(47),Pt=t(49);function Ft(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(j){return typeof j}:Ft=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Ft(b)}function Dt(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function $t(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&qt(b,C)}function qt(b,C){return qt=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},qt(b,C)}function Jt(b){var C=At();return function(){var ft=vt(b),bt;if(C){var Ht=vt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return ne(this,bt)}}function ne(b,C){if(C&&(Ft(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pt(b)}function pt(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(b){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},vt(b)}var G=function(b){$t(j,b);var C=Jt(j);function j(){return Dt(this,j),C.apply(this,arguments)}return j}(Pt.a);G.blotName="italic",G.tagName=["EM","I"];var K=G,D=t(43),at=t(14);function X(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X=function(j){return typeof j}:X=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},X(b)}function lt(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function Ct(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function xt(b,C,j){return C&&Ct(b.prototype,C),j&&Ct(b,j),b}function jt(b,C,j){return typeof Reflect<"u"&&Reflect.get?jt=Reflect.get:jt=function(bt,Ht,ae){var _e=Ut(bt,Ht);if(_e){var pe=Object.getOwnPropertyDescriptor(_e,Ht);return pe.get?pe.get.call(ae):pe.value}},jt(b,C,j||b)}function Ut(b,C){for(;!Object.prototype.hasOwnProperty.call(b,C)&&(b=ie(b),b!==null););return b}function Kt(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&te(b,C)}function te(b,C){return te=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},te(b,C)}function ce(b){var C=Ae();return function(){var ft=ie(b),bt;if(C){var Ht=ie(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return Ce(this,bt)}}function Ce(b,C){if(C&&(X(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return we(b)}function we(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function Ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ie(b){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},ie(b)}var ke=function(b){Kt(j,b);var C=ce(j);function j(){return lt(this,j),C.apply(this,arguments)}return xt(j,null,[{key:"create",value:function(bt){return bt==="super"?document.createElement("sup"):bt==="sub"?document.createElement("sub"):jt(ie(j),"create",this).call(this,bt)}},{key:"formats",value:function(bt){if(bt.tagName==="SUB")return"sub";if(bt.tagName==="SUP")return"super"}}]),j}(at.a);ke.blotName="script",ke.tagName=["SUB","SUP"];var Br=ke;function tr(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tr=function(j){return typeof j}:tr=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},tr(b)}function Mr(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function Dr(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&fe(b,C)}function fe(b,C){return fe=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},fe(b,C)}function jr(b){var C=Fr();return function(){var ft=er(b),bt;if(C){var Ht=er(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return Hr(this,bt)}}function Hr(b,C){if(C&&(tr(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(b)}function kr(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function Fr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function er(b){return er=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},er(b)}var be=function(b){Dr(j,b);var C=jr(j);function j(){return Mr(this,j),C.apply(this,arguments)}return j}(Pt.a);be.blotName="strike",be.tagName=["S","STRIKE"];var vr=be;function rr(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rr=function(j){return typeof j}:rr=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},rr(b)}function nr(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function mr(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&yr(b,C)}function yr(b,C){return yr=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},yr(b,C)}function Fe(b){var C=Ne();return function(){var ft=ze(b),bt;if(C){var Ht=ze(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return gr(this,bt)}}function gr(b,C){if(C&&(rr(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ir(b)}function ir(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function Ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ze(b){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},ze(b)}var or=function(b){mr(j,b);var C=Fe(j);function j(){return nr(this,j),C.apply(this,arguments)}return j}(at.a);or.blotName="underline",or.tagName="U";var Wr=or,$r=t(56),Rr=t(15);function ar(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ar=function(j){return typeof j}:ar=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},ar(b)}function lr(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function sr(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function Qe(b,C,j){return C&&sr(b.prototype,C),j&&sr(b,j),b}function Ye(b,C,j){return typeof Reflect<"u"&&Reflect.get?Ye=Reflect.get:Ye=function(bt,Ht,ae){var _e=wr(bt,Ht);if(_e){var pe=Object.getOwnPropertyDescriptor(_e,Ht);return pe.get?pe.get.call(ae):pe.value}},Ye(b,C,j||b)}function wr(b,C){for(;!Object.prototype.hasOwnProperty.call(b,C)&&(b=Ve(b),b!==null););return b}function Ur(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&Ke(b,C)}function Ke(b,C){return Ke=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},Ke(b,C)}function br(b){var C=xr();return function(){var ft=Ve(b),bt;if(C){var Ht=Ve(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return zr(this,bt)}}function zr(b,C){if(C&&(ar(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(b)}function _r(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function xr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ve(b){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},Ve(b)}var Le=function(b){Ur(j,b);var C=br(j);function j(){return lr(this,j),C.apply(this,arguments)}return Qe(j,[{key:"html",value:function(){var bt=this.value(),Ht=bt.formula;return"<span>".concat(Ht,"</span>")}}],[{key:"create",value:function(bt){var Ht=null;if(Object(Rr.a)()&&(Ht=window.katex),Ht==null)throw new Error("Formula module requires KaTeX.");var ae=Ye(Ve(j),"create",this).call(this,bt);return typeof bt=="string"&&(Ht.render(bt,ae,{throwOnError:!1,errorColor:"#f00"}),ae.setAttribute("data-value",bt)),ae}},{key:"value",value:function(bt){return bt.getAttribute("data-value")}}]),j}($r.a);Le.blotName="formula",Le.className="ql-formula",Le.tagName="SPAN";var xe=Le;function Te(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Te=function(j){return typeof j}:Te=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Te(b)}function We(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function Pr(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function Be(b,C,j){return C&&Pr(b.prototype,C),j&&Pr(b,j),b}function $e(b,C,j){return typeof Reflect<"u"&&Reflect.get?$e=Reflect.get:$e=function(bt,Ht,ae){var _e=Kr(bt,Ht);if(_e){var pe=Object.getOwnPropertyDescriptor(_e,Ht);return pe.get?pe.get.call(ae):pe.value}},$e(b,C,j||b)}function Kr(b,C){for(;!Object.prototype.hasOwnProperty.call(b,C)&&(b=Re(b),b!==null););return b}function Vr(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&Or(b,C)}function Or(b,C){return Or=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},Or(b,C)}function Ze(b){var C=cr();return function(){var ft=Re(b),bt;if(C){var Ht=Re(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return ge(this,bt)}}function ge(b,C){if(C&&(Te(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ur(b)}function ur(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function cr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Re(b){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},Re(b)}var Je=["alt","height","width"],Me=function(b){Vr(j,b);var C=Ze(j);function j(){return We(this,j),C.apply(this,arguments)}return Be(j,[{key:"format",value:function(bt,Ht){Je.indexOf(bt)>-1?Ht?this.domNode.setAttribute(bt,Ht):this.domNode.removeAttribute(bt):$e(Re(j.prototype),"format",this).call(this,bt,Ht)}}],[{key:"create",value:function(bt){var Ht=$e(Re(j),"create",this).call(this,bt);return typeof bt=="string"&&Ht.setAttribute("src",this.sanitize(bt)),Ht}},{key:"formats",value:function(bt){return Je.reduce(function(Ht,ae){return bt.hasAttribute(ae)&&(Ht[ae]=bt.getAttribute(ae)),Ht},{})}},{key:"match",value:function(bt){return/\.(jpe?g|gif|png)$/.test(bt)||/^data:image\/.+;base64/.test(bt)}},{key:"register",value:function(){Object(Rr.a)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(bt){return Object(D.b)(bt,["http","https","data"])?bt:"//:0"}},{key:"value",value:function(bt){return bt.getAttribute("src")}}]),j}(p.EmbedBlot);Me.blotName="image",Me.tagName="IMG";var Ir=Me;function Se(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Se=function(j){return typeof j}:Se=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Se(b)}function Ue(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function Cr(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function Pe(b,C,j){return C&&Cr(b.prototype,C),j&&Cr(b,j),b}function Ge(b,C,j){return typeof Reflect<"u"&&Reflect.get?Ge=Reflect.get:Ge=function(bt,Ht,ae){var _e=fr(bt,Ht);if(_e){var pe=Object.getOwnPropertyDescriptor(_e,Ht);return pe.get?pe.get.call(ae):pe.value}},Ge(b,C,j||b)}function fr(b,C){for(;!Object.prototype.hasOwnProperty.call(b,C)&&(b=yt(b),b!==null););return b}function Gr(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&Er(b,C)}function Er(b,C){return Er=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},Er(b,C)}function s(b){var C=$();return function(){var ft=yt(b),bt;if(C){var Ht=yt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return k(this,bt)}}function k(b,C){if(C&&(Se(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(b)}function h(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yt(b){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},yt(b)}var Lt=["height","width"],zt=function(b){Gr(j,b);var C=s(j);function j(){return Ue(this,j),C.apply(this,arguments)}return Pe(j,[{key:"format",value:function(bt,Ht){Lt.indexOf(bt)>-1?Ht?this.domNode.setAttribute(bt,Ht):this.domNode.removeAttribute(bt):Ge(yt(j.prototype),"format",this).call(this,bt,Ht)}},{key:"html",value:function(){var bt=this.value(),Ht=bt.video;return'<a href="'.concat(Ht,'">').concat(Ht,"</a>")}}],[{key:"create",value:function(bt){var Ht=Ge(yt(j),"create",this).call(this,bt);return Ht.setAttribute("frameborder","0"),Ht.setAttribute("allowfullscreen",!0),Ht.setAttribute("src",this.sanitize(bt)),Ht}},{key:"formats",value:function(bt){return Lt.reduce(function(Ht,ae){return bt.hasAttribute(ae)&&(Ht[ae]=bt.getAttribute(ae)),Ht},{})}},{key:"sanitize",value:function(bt){return D.a.sanitize(bt)}},{key:"value",value:function(bt){return bt.getAttribute("src")}}]),j}(d.a);zt.blotName="video",zt.className="ql-video",zt.tagName="IFRAME";var Xt=zt,Zt=t(17),Vt=t(76),ee=t(65),se=t(1),oe=t.n(se);function he(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?he=function(j){return typeof j}:he=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},he(b)}function ve(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function Ie(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function De(b,C,j){return C&&Ie(b.prototype,C),j&&Ie(b,j),b}function Tr(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&tn(b,C)}function tn(b,C){return tn=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},tn(b,C)}function en(b){var C=mo();return function(){var ft=yn(b),bt;if(C){var Ht=yn(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return rn(this,bt)}}function rn(b,C){if(C&&(he(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vo(b)}function vo(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function mo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yn(b){return yn=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},yn(b)}var In=function(b){Tr(j,b);var C=en(j);function j(){return ve(this,j),C.apply(this,arguments)}return De(j,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return`
`}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return`
`}}]),j}(p.EmbedBlot);In.blotName="multilineBreak",In.tagName="BR";var yo=In,go=t(12);function gn(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gn=function(j){return typeof j}:gn=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},gn(b)}function bo(b,C,j){return C in b?Object.defineProperty(b,C,{value:j,enumerable:!0,configurable:!0,writable:!0}):b[C]=j,b}function _o(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function di(b,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(b,ft.key,ft)}}function Oo(b,C,j){return C&&di(b.prototype,C),j&&di(b,j),b}function Co(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),C&&Nn(b,C)}function Nn(b,C){return Nn=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},Nn(b,C)}function Eo(b){var C=So();return function(){var ft=bn(b),bt;if(C){var Ht=bn(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return To(this,bt)}}function To(b,C){if(C&&(gn(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(b)}function pi(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function So(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bn(b){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},bn(b)}function Ao(b){return!b.nextSibling&&!b.previousSibling?new oe.a().insert(`
`):new oe.a().insert({multilineBreak:""})}var Ro=function(b){Co(j,b);var C=Eo(j);function j(ft,bt){var Ht;_o(this,j);var ae="blots/multilineBreak";return Ht=C.call(this,ft,bt),nt.a.register(bo({},ae,yo),!0),ft.keyboard.addBinding({key:"enter",shiftKey:!0},Ht.enterHandler.bind(pi(Ht))),ft.keyboard.bindings.enter.unshift(ft.keyboard.bindings.enter.pop()),ft.clipboard.addMatcher("BR",Ao),Ht}return Oo(j,[{key:"enterHandler",value:function(bt){var Ht=this.quill.getLeaf(bt.index)[0],ae=this.quill.getLeaf(bt.index+1)[0];this.quill.insertEmbed(bt.index,"multilineBreak",!0,"user"),(ae===null||Ht.parent!==ae.parent)&&this.quill.insertEmbed(bt.index,"multilineBreak",!0,"user"),this.quill.setSelection(bt.index+1,nt.a.sources.SILENT)}}]),j}(go.a),wo=Ro,xo=t(75),vi=t(21),mi=t(11);function yi(b,C){var j=Object.keys(b);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(b);C&&(ft=ft.filter(function(bt){return Object.getOwnPropertyDescriptor(b,bt).enumerable})),j.push.apply(j,ft)}return j}function _n(b){for(var C=1;C<arguments.length;C++){var j=arguments[C]!=null?arguments[C]:{};C%2?yi(Object(j),!0).forEach(function(ft){Po(b,ft,j[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(j)):yi(Object(j)).forEach(function(ft){Object.defineProperty(b,ft,Object.getOwnPropertyDescriptor(j,ft))})}return b}function Po(b,C,j){return C in b?Object.defineProperty(b,C,{value:j,enumerable:!0,configurable:!0,writable:!0}):b[C]=j,b}function On(b,C){return C.reduce(function(j,ft){var bt="".concat(b).concat(ft.attrName);return j[bt]=ft,j},{})}l.default.register(_n(_n(_n(_n({"attributors/attribute/direction":u.a},On("attributors/attribute/",mi.b)),On("attributors/attribute/",vi.c)),{},{"attributors/class/align":o.b,"attributors/class/background":Ot.a,"attributors/class/color":Et.b,"attributors/class/direction":u.b,"attributors/class/font":wt.a,"attributors/class/size":Bt.a,"attributors/style/align":o.c,"attributors/style/background":Ot.b,"attributors/style/color":Et.c,"attributors/style/direction":u.c,"attributors/style/font":wt.b,"attributors/style/size":Bt.b},On("attributors/style/",mi.d)),On("attributors/style/",vi.d)),!0),l.default.register({"formats/align":o.b,"formats/direction":u.b,"formats/indent":f,"formats/background":Ot.b,"formats/color":Et.c,"formats/font":wt.a,"formats/size":Bt.a,"formats/blockquote":mt,"formats/code-block":Zt.c,"formats/header":Q,"formats/list":re,"formats/bold":Pt.a,"formats/code":Zt.a,"formats/italic":K,"formats/link":D.a,"formats/script":Br,"formats/strike":vr,"formats/underline":Wr,"formats/formula":xe,"formats/image":Ir,"formats/video":Xt,"tableModules/lite":xo.a,"tableModules/main":ee.a,"modules/syntax":Vt.b,"modules/multiline":wo,"modules/table":ee.a},!0),i.default=l.default},function(r,i){var t=-1,l=1,o=0;function u(a,f,d,R){if(a===f)return a?[[o,a]]:[];if(d!=null){var B=U(a,f,d);if(B)return B}var F=O(a,f),N=a.substring(0,F);a=a.substring(F),f=f.substring(F),F=g(a,f);var tt=a.substring(a.length-F);a=a.substring(0,a.length-F),f=f.substring(0,f.length-F);var M=p(a,f);return N&&M.unshift([o,N]),tt&&M.push([o,tt]),_(M,R),M}function p(a,f){var d;if(!a)return[[l,f]];if(!f)return[[t,a]];var R=a.length>f.length?a:f,B=a.length>f.length?f:a,F=R.indexOf(B);if(F!==-1)return d=[[l,R.substring(0,F)],[o,B],[l,R.substring(F+B.length)]],a.length>f.length&&(d[0][0]=d[2][0]=t),d;if(B.length===1)return[[t,a],[l,f]];var N=P(a,f);if(N){var tt=N[0],M=N[1],Z=N[2],ut=N[3],ht=N[4],it=u(tt,Z),mt=u(M,ut);return it.concat([[o,ht]],mt)}return S(a,f)}function S(a,f){for(var d=a.length,R=f.length,B=Math.ceil((d+R)/2),F=B,N=2*B,tt=new Array(N),M=new Array(N),Z=0;Z<N;Z++)tt[Z]=-1,M[Z]=-1;tt[F+1]=0,M[F+1]=0;for(var ut=d-R,ht=ut%2!==0,it=0,mt=0,Y=0,V=0,L=0;L<B;L++){for(var et=-L+it;et<=L-mt;et+=2){var st=F+et,_t;et===-L||et!==L&&tt[st-1]<tt[st+1]?_t=tt[st+1]:_t=tt[st-1]+1;for(var ot=_t-et;_t<d&&ot<R&&a.charAt(_t)===f.charAt(ot);)_t++,ot++;if(tt[st]=_t,_t>d)mt+=2;else if(ot>R)it+=2;else if(ht){var dt=F+ut-et;if(dt>=0&&dt<N&&M[dt]!==-1){var Tt=d-M[dt];if(_t>=Tt)return A(a,f,_t,ot)}}}for(var Rt=-L+Y;Rt<=L-V;Rt+=2){var dt=F+Rt,Tt;Rt===-L||Rt!==L&&M[dt-1]<M[dt+1]?Tt=M[dt+1]:Tt=M[dt-1]+1;for(var rt=Tt-Rt;Tt<d&&rt<R&&a.charAt(d-Tt-1)===f.charAt(R-rt-1);)Tt++,rt++;if(M[dt]=Tt,Tt>d)V+=2;else if(rt>R)Y+=2;else if(!ht){var st=F+ut-Rt;if(st>=0&&st<N&&tt[st]!==-1){var _t=tt[st],ot=F+_t-st;if(Tt=d-Tt,_t>=Tt)return A(a,f,_t,ot)}}}}return[[t,a],[l,f]]}function A(a,f,d,R){var B=a.substring(0,d),F=f.substring(0,R),N=a.substring(d),tt=f.substring(R),M=u(B,F),Z=u(N,tt);return M.concat(Z)}function O(a,f){if(!a||!f||a.charAt(0)!==f.charAt(0))return 0;for(var d=0,R=Math.min(a.length,f.length),B=R,F=0;d<B;)a.substring(F,B)==f.substring(F,B)?(d=B,F=d):R=B,B=Math.floor((R-d)/2+d);return E(a.charCodeAt(B-1))&&B--,B}function g(a,f){if(!a||!f||a.slice(-1)!==f.slice(-1))return 0;for(var d=0,R=Math.min(a.length,f.length),B=R,F=0;d<B;)a.substring(a.length-B,a.length-F)==f.substring(f.length-B,f.length-F)?(d=B,F=d):R=B,B=Math.floor((R-d)/2+d);return w(a.charCodeAt(a.length-B))&&B--,B}function P(a,f){var d=a.length>f.length?a:f,R=a.length>f.length?f:a;if(d.length<4||R.length*2<d.length)return null;function B(mt,Y,V){for(var L=mt.substring(V,V+Math.floor(mt.length/4)),et=-1,st="",_t,ot,dt,Tt;(et=Y.indexOf(L,et+1))!==-1;){var Rt=O(mt.substring(V),Y.substring(et)),rt=g(mt.substring(0,V),Y.substring(0,et));st.length<rt+Rt&&(st=Y.substring(et-rt,et)+Y.substring(et,et+Rt),_t=mt.substring(0,V-rt),ot=mt.substring(V+Rt),dt=Y.substring(0,et-rt),Tt=Y.substring(et+Rt))}return st.length*2>=mt.length?[_t,ot,dt,Tt,st]:null}var F=B(d,R,Math.ceil(d.length/4)),N=B(d,R,Math.ceil(d.length/2)),tt;if(!F&&!N)return null;N?F?tt=F[4].length>N[4].length?F:N:tt=N:tt=F;var M,Z,ut,ht;a.length>f.length?(M=tt[0],Z=tt[1],ut=tt[2],ht=tt[3]):(ut=tt[0],ht=tt[1],M=tt[2],Z=tt[3]);var it=tt[4];return[M,Z,ut,ht,it]}function _(a,f){a.push([o,""]);for(var d=0,R=0,B=0,F="",N="",tt;d<a.length;){if(d<a.length-1&&!a[d][1]){a.splice(d,1);continue}switch(a[d][0]){case l:B++,N+=a[d][1],d++;break;case t:R++,F+=a[d][1],d++;break;case o:var M=d-B-R-1;if(f){if(M>=0&&v(a[M][1])){var Z=a[M][1].slice(-1);if(a[M][1]=a[M][1].slice(0,-1),F=Z+F,N=Z+N,!a[M][1]){a.splice(M,1),d--;var ut=M-1;a[ut]&&a[ut][0]===l&&(B++,N=a[ut][1]+N,ut--),a[ut]&&a[ut][0]===t&&(R++,F=a[ut][1]+F,ut--),M=ut}}if(I(a[d][1])){var Z=a[d][1].charAt(0);a[d][1]=a[d][1].slice(1),F+=Z,N+=Z}}if(d<a.length-1&&!a[d][1]){a.splice(d,1);break}if(F.length>0||N.length>0){F.length>0&&N.length>0&&(tt=O(N,F),tt!==0&&(M>=0?a[M][1]+=N.substring(0,tt):(a.splice(0,0,[o,N.substring(0,tt)]),d++),N=N.substring(tt),F=F.substring(tt)),tt=g(N,F),tt!==0&&(a[d][1]=N.substring(N.length-tt)+a[d][1],N=N.substring(0,N.length-tt),F=F.substring(0,F.length-tt)));var ht=B+R;F.length===0&&N.length===0?(a.splice(d-ht,ht),d=d-ht):F.length===0?(a.splice(d-ht,ht,[l,N]),d=d-ht+1):N.length===0?(a.splice(d-ht,ht,[t,F]),d=d-ht+1):(a.splice(d-ht,ht,[t,F],[l,N]),d=d-ht+2)}d!==0&&a[d-1][0]===o?(a[d-1][1]+=a[d][1],a.splice(d,1)):d++,B=0,R=0,F="",N="";break}}a[a.length-1][1]===""&&a.pop();var it=!1;for(d=1;d<a.length-1;)a[d-1][0]===o&&a[d+1][0]===o&&(a[d][1].substring(a[d][1].length-a[d-1][1].length)===a[d-1][1]?(a[d][1]=a[d-1][1]+a[d][1].substring(0,a[d][1].length-a[d-1][1].length),a[d+1][1]=a[d-1][1]+a[d+1][1],a.splice(d-1,1),it=!0):a[d][1].substring(0,a[d+1][1].length)==a[d+1][1]&&(a[d-1][1]+=a[d+1][1],a[d][1]=a[d][1].substring(a[d+1][1].length)+a[d+1][1],a.splice(d+1,1),it=!0)),d++;it&&_(a,f)}function E(a){return a>=55296&&a<=56319}function w(a){return a>=56320&&a<=57343}function I(a){return w(a.charCodeAt(0))}function v(a){return E(a.charCodeAt(a.length-1))}function x(a){for(var f=[],d=0;d<a.length;d++)a[d][1].length>0&&f.push(a[d]);return f}function W(a,f,d,R){return v(a)||I(R)?null:x([[o,a],[t,f],[l,d],[o,R]])}function U(a,f,d){var R=typeof d=="number"?{index:d,length:0}:d.oldRange,B=typeof d=="number"?null:d.newRange,F=a.length,N=f.length;if(R.length===0&&(B===null||B.length===0)){var tt=R.index,M=a.slice(0,tt),Z=a.slice(tt),ut=B?B.index:null;t:{var ht=tt+N-F;if(ut!==null&&ut!==ht||ht<0||ht>N)break t;var it=f.slice(0,ht),mt=f.slice(ht);if(mt!==Z)break t;var Y=Math.min(tt,ht),V=M.slice(0,Y),L=it.slice(0,Y);if(V!==L)break t;var et=M.slice(Y),st=it.slice(Y);return W(V,et,st,Z)}t:{if(ut!==null&&ut!==tt)break t;var _t=tt,it=f.slice(0,_t),mt=f.slice(_t);if(it!==M)break t;var ot=Math.min(F-_t,N-_t),dt=Z.slice(Z.length-ot),Tt=mt.slice(mt.length-ot);if(dt!==Tt)break t;var et=Z.slice(0,Z.length-ot),st=mt.slice(0,mt.length-ot);return W(M,et,st,dt)}}if(R.length>0&&B&&B.length===0)t:{var V=a.slice(0,R.index),dt=a.slice(R.index+R.length),Y=V.length,ot=dt.length;if(N<Y+ot)break t;var L=f.slice(0,Y),Tt=f.slice(N-ot);if(V!==L||dt!==Tt)break t;var et=a.slice(Y,F-ot),st=f.slice(Y,N-ot);return W(V,et,st,dt)}return null}function m(a,f,d){return u(a,f,d,!0)}m.INSERT=l,m.DELETE=t,m.EQUAL=o,r.exports=m},function(r,i,t){var l=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0});var o=l(t(16)),u=l(t(30)),p;(function(S){function A(_,E,w){_===void 0&&(_={}),E===void 0&&(E={}),typeof _!="object"&&(_={}),typeof E!="object"&&(E={});var I=o.default(E);w||(I=Object.keys(I).reduce(function(x,W){return I[W]!=null&&(x[W]=I[W]),x},{}));for(var v in _)_[v]!==void 0&&E[v]===void 0&&(I[v]=_[v]);return Object.keys(I).length>0?I:void 0}S.compose=A;function O(_,E){_===void 0&&(_={}),E===void 0&&(E={}),typeof _!="object"&&(_={}),typeof E!="object"&&(E={});var w=Object.keys(_).concat(Object.keys(E)).reduce(function(I,v){return u.default(_[v],E[v])||(I[v]=E[v]===void 0?null:E[v]),I},{});return Object.keys(w).length>0?w:void 0}S.diff=O;function g(_,E){_===void 0&&(_={}),E===void 0&&(E={}),_=_||{};var w=Object.keys(E).reduce(function(I,v){return E[v]!==_[v]&&_[v]!==void 0&&(I[v]=E[v]),I},{});return Object.keys(_).reduce(function(I,v){return _[v]!==E[v]&&E[v]===void 0&&(I[v]=null),I},w)}S.invert=g;function P(_,E,w){if(w===void 0&&(w=!1),typeof _!="object")return E;if(typeof E=="object"){if(!w)return E;var I=Object.keys(E).reduce(function(v,x){return _[x]===void 0&&(v[x]=E[x]),v},{});return Object.keys(I).length>0?I:void 0}}S.transform=P})(p||(p={})),i.default=p},function(r,i,t){var l=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0});var o=l(t(94)),u=function(){function p(S){this.ops=S,this.index=0,this.offset=0}return p.prototype.hasNext=function(){return this.peekLength()<1/0},p.prototype.next=function(S){S||(S=1/0);var A=this.ops[this.index];if(A){var O=this.offset,g=o.default.length(A);if(S>=g-O?(S=g-O,this.index+=1,this.offset=0):this.offset+=S,typeof A.delete=="number")return{delete:S};var P={};return A.attributes&&(P.attributes=A.attributes),typeof A.retain=="number"?P.retain=S:typeof A.insert=="string"?P.insert=A.insert.substr(O,S):P.insert=A.insert,P}else return{retain:1/0}},p.prototype.peek=function(){return this.ops[this.index]},p.prototype.peekLength=function(){return this.ops[this.index]?o.default.length(this.ops[this.index])-this.offset:1/0},p.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},p.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var S=this.offset,A=this.index,O=this.next(),g=this.ops.slice(this.index);return this.offset=S,this.index=A,[O].concat(g)}else return[]},p}();i.default=u},function(r,i,t){var l=t(122);r.exports=l},function(r,i,t){var l=t(123);r.exports=l},function(r,i,t){t(124),t(147);var l=t(115);r.exports=l.Array.from},function(r,i,t){var l=t(125).charAt,o=t(78),u=t(100),p=t(133),S="String Iterator",A=u.set,O=u.getterFor(S);p(String,"String",function(g){A(this,{type:S,string:o(g),index:0})},function(){var P=O(this),_=P.string,E=P.index,w;return E>=_.length?{value:void 0,done:!0}:(w=l(_,E),P.index+=w.length,{value:w,done:!1})})},function(r,i,t){var l=t(20),o=t(77),u=t(78),p=t(69),S=l("".charAt),A=l("".charCodeAt),O=l("".slice),g=function(P){return function(_,E){var w=u(p(_)),I=o(E),v=w.length,x,W;return I<0||I>=v?P?"":void 0:(x=A(w,I),x<55296||x>56319||I+1===v||(W=A(w,I+1))<56320||W>57343?P?S(w,I):x:P?O(w,I,I+2):(x-55296<<10)+(W-56320)+65536)}};r.exports={codeAt:g(!1),charAt:g(!0)}},function(r,i,t){var l=t(28),o=l("toStringTag"),u={};u[o]="z",r.exports=String(u)==="[object z]"},function(r,i,t){var l=t(8),o=t(128),u=l.process,p=l.Deno,S=u&&u.versions||p&&p.version,A=S&&S.v8,O,g;A&&(O=A.split("."),g=O[0]>0&&O[0]<4?1:+(O[0]+O[1])),!g&&o&&(O=o.match(/Edge\/(\d+)/),(!O||O[1]>=74)&&(O=o.match(/Chrome\/(\d+)/),O&&(g=+O[1]))),r.exports=g},function(r,i,t){var l=t(60);r.exports=l("navigator","userAgent")||""},function(r,i,t){var l=t(8),o=t(22),u=t(83),p=l.WeakMap;r.exports=o(p)&&/native code/.test(u(p))},function(r,i,t){var l=t(8),o=t(42),u=t(51),p=t(103),S=t(85),A=t(132),O=t(28),g=l.TypeError,P=O("toPrimitive");r.exports=function(_,E){if(!u(_)||p(_))return _;var w=S(_,P),I;if(w){if(E===void 0&&(E="default"),I=o(w,_,E),!u(I)||p(I))return I;throw g("Can't convert object to primitive value")}return E===void 0&&(E="number"),A(_,E)}},function(r,i,t){var l=t(20);r.exports=l({}.isPrototypeOf)},function(r,i,t){var l=t(8),o=t(42),u=t(22),p=t(51),S=l.TypeError;r.exports=function(A,O){var g,P;if(O==="string"&&u(g=A.toString)&&!p(P=o(g,A))||u(g=A.valueOf)&&!p(P=o(g,A))||O!=="string"&&u(g=A.toString)&&!p(P=o(g,A)))return P;throw S("Can't convert object to primitive value")}},function(r,i,t){var l=t(61),o=t(42),u=t(67),p=t(106),S=t(22),A=t(141),O=t(112),g=t(145),P=t(113),_=t(70),E=t(90),w=t(28),I=t(72),v=t(110),x=p.PROPER,W=p.CONFIGURABLE,U=v.IteratorPrototype,m=v.BUGGY_SAFARI_ITERATORS,a=w("iterator"),f="keys",d="values",R="entries",B=function(){return this};r.exports=function(F,N,tt,M,Z,ut,ht){A(tt,N,M);var it=function(Tt){if(Tt===Z&&et)return et;if(!m&&Tt in V)return V[Tt];switch(Tt){case f:return function(){return new tt(this,Tt)};case d:return function(){return new tt(this,Tt)};case R:return function(){return new tt(this,Tt)}}return function(){return new tt(this)}},mt=N+" Iterator",Y=!1,V=F.prototype,L=V[a]||V["@@iterator"]||Z&&V[Z],et=!m&&L||it(Z),st=N=="Array"&&V.entries||L,_t,ot,dt;if(st&&(_t=O(st.call(new F)),_t!==Object.prototype&&_t.next&&(!u&&O(_t)!==U&&(g?g(_t,U):S(_t[a])||E(_t,a,B)),P(_t,mt,!0,!0),u&&(I[mt]=B))),x&&Z==d&&L&&L.name!==d&&(!u&&W?_(V,"name",d):(Y=!0,et=function(){return o(L,this)})),Z)if(ot={values:it(d),keys:ut?et:it(f),entries:it(R)},ht)for(dt in ot)(m||Y||!(dt in V))&&E(V,dt,ot[dt]);else l({target:N,proto:!0,forced:m||Y},ot);return(!u||ht)&&V[a]!==et&&E(V,a,et,{name:Z}),I[N]=et,ot}},function(r,i,t){var l=t(8),o=t(20),u=t(39),p=t(82),S=l.Object,A=o("".split);r.exports=u(function(){return!S("z").propertyIsEnumerable(0)})?function(O){return p(O)=="String"?A(O,""):S(O)}:S},function(r,i,t){var l=t(36),o=t(136),u=t(89),p=t(52);r.exports=function(S,A){for(var O=o(A),g=p.f,P=u.f,_=0;_<O.length;_++){var E=O[_];l(S,E)||g(S,E,P(A,E))}}},function(r,i,t){var l=t(60),o=t(20),u=t(137),p=t(139),S=t(40),A=o([].concat);r.exports=l("Reflect","ownKeys")||function(g){var P=u.f(S(g)),_=p.f;return _?A(P,_(g)):P}},function(r,i,t){var l=t(107),o=t(92),u=o.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(S){return l(S,u)}},function(r,i,t){var l=t(62),o=t(108),u=t(91),p=function(S){return function(A,O,g){var P=l(A),_=u(P),E=o(g,_),w;if(S&&O!=O){for(;_>E;)if(w=P[E++],w!=w)return!0}else for(;_>E;E++)if((S||E in P)&&P[E]===O)return S||E||0;return!S&&-1}};r.exports={includes:p(!0),indexOf:p(!1)}},function(r,i){i.f=Object.getOwnPropertySymbols},function(r,i,t){var l=t(39),o=t(22),u=/#|\.prototype\./,p=function(P,_){var E=A[S(P)];return E==g?!0:E==O?!1:o(_)?l(_):!!_},S=p.normalize=function(P){return String(P).replace(u,".").toLowerCase()},A=p.data={},O=p.NATIVE="N",g=p.POLYFILL="P";r.exports=p},function(r,i,t){var l=t(110).IteratorPrototype,o=t(93),u=t(71),p=t(113),S=t(72),A=function(){return this};r.exports=function(O,g,P){var _=g+" Iterator";return O.prototype=o(l,{next:u(1,P)}),p(O,_,!1,!0),S[_]=A,O}},function(r,i,t){var l=t(41),o=t(52),u=t(40),p=t(62),S=t(111);r.exports=l?Object.defineProperties:function(O,g){u(O);for(var P=p(g),_=S(g),E=_.length,w=0,I;E>w;)o.f(O,I=_[w++],P[I]);return O}},function(r,i,t){var l=t(60);r.exports=l("document","documentElement")},function(r,i,t){var l=t(39);r.exports=!l(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},function(r,i,t){var l=t(20),o=t(40),u=t(146);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p=!1,S={},A;try{A=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),A(S,[]),p=S instanceof Array}catch{}return function(g,P){return o(g),u(P),p?A(g,P):g.__proto__=P,g}}():void 0)},function(r,i,t){var l=t(8),o=t(22),u=l.String,p=l.TypeError;r.exports=function(S){if(typeof S=="object"||o(S))return S;throw p("Can't set "+u(S)+" as a prototype")}},function(r,i,t){var l=t(61),o=t(148),u=t(156),p=!u(function(S){Array.from(S)});l({target:"Array",stat:!0,forced:p},{from:o})},function(r,i,t){var l=t(8),o=t(149),u=t(42),p=t(68),S=t(150),A=t(152),O=t(153),g=t(91),P=t(154),_=t(155),E=t(114),w=l.Array;r.exports=function(v){var x=p(v),W=O(this),U=arguments.length,m=U>1?arguments[1]:void 0,a=m!==void 0;a&&(m=o(m,U>2?arguments[2]:void 0));var f=E(x),d=0,R,B,F,N,tt,M;if(f&&!(this==w&&A(f)))for(N=_(x,f),tt=N.next,B=W?new this:[];!(F=u(tt,N)).done;d++)M=a?S(N,m,[F.value,d],!0):F.value,P(B,d,M);else for(R=g(x),B=W?new this(R):w(R);R>d;d++)M=a?m(x[d],d):x[d],P(B,d,M);return B.length=d,B}},function(r,i,t){var l=t(20),o=t(86),u=l(l.bind);r.exports=function(p,S){return o(p),S===void 0?p:u?u(p,S):function(){return p.apply(S,arguments)}}},function(r,i,t){var l=t(40),o=t(151);r.exports=function(u,p,S,A){try{return A?p(l(S)[0],S[1]):p(S)}catch(O){o(u,"throw",O)}}},function(r,i,t){var l=t(42),o=t(40),u=t(85);r.exports=function(p,S,A){var O,g;o(p);try{if(O=u(p,"return"),!O){if(S==="throw")throw A;return A}O=l(O,p)}catch(P){g=!0,O=P}if(S==="throw")throw A;if(g)throw O;return o(O),A}},function(r,i,t){var l=t(28),o=t(72),u=l("iterator"),p=Array.prototype;r.exports=function(S){return S!==void 0&&(o.Array===S||p[u]===S)}},function(r,i,t){var l=t(20),o=t(39),u=t(22),p=t(79),S=t(60),A=t(83),O=function(){},g=[],P=S("Reflect","construct"),_=/^\s*(?:class|function)\b/,E=l(_.exec),w=!_.exec(O),I=function(x){if(!u(x))return!1;try{return P(O,g,x),!0}catch{return!1}},v=function(x){if(!u(x))return!1;switch(p(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return w||!!E(_,A(x))};r.exports=!P||o(function(){var x;return I(I.call)||!I(Object)||!I(function(){x=!0})||x})?v:I},function(r,i,t){var l=t(84),o=t(52),u=t(71);r.exports=function(p,S,A){var O=l(S);O in p?o.f(p,O,u(0,A)):p[O]=A}},function(r,i,t){var l=t(8),o=t(42),u=t(86),p=t(40),S=t(104),A=t(114),O=l.TypeError;r.exports=function(g,P){var _=arguments.length<2?A(g):P;if(u(_))return p(o(_,g));throw O(S(g)+" is not iterable")}},function(r,i,t){var l=t(28),o=l("iterator"),u=!1;try{var p=0,S={next:function(){return{done:!!p++}},return:function(){u=!0}};S[o]=function(){return this},Array.from(S,function(){throw 2})}catch{}r.exports=function(A,O){if(!O&&!u)return!1;var g=!1;try{var P={};P[o]=function(){return{next:function(){return{done:g=!0}}}},A(P)}catch{}return g}},function(r,i,t){var l=t(158);r.exports=l},function(r,i,t){var l=t(159);r.exports=l},function(r,i,t){t(160);var l=t(116);r.exports=l("Array","fill")},function(r,i,t){var l=t(61),o=t(161),u=t(162);l({target:"Array",proto:!0},{fill:o}),u("fill")},function(r,i,t){var l=t(68),o=t(108),u=t(91);r.exports=function(S){for(var A=l(this),O=u(A),g=arguments.length,P=o(g>1?arguments[1]:void 0,O),_=g>2?arguments[2]:void 0,E=_===void 0?O:o(_,O);E>P;)A[P++]=S;return A}},function(r,i,t){var l=t(28),o=t(93),u=t(52),p=l("unscopables"),S=Array.prototype;S[p]==null&&u.f(S,p,{configurable:!0,value:o(null)}),r.exports=function(A){S[p][A]=!0}},function(r,i,t){var l=t(164);r.exports=l},function(r,i,t){var l=t(165);r.exports=l},function(r,i,t){t(166);var l=t(115);r.exports=l.Object.values},function(r,i,t){var l=t(61),o=t(167).values;l({target:"Object",stat:!0},{values:function(p){return o(p)}})},function(r,i,t){var l=t(41),o=t(20),u=t(111),p=t(62),S=t(105).f,A=o(S),O=o([].push),g=function(P){return function(_){for(var E=p(_),w=u(E),I=w.length,v=0,x=[],W;I>v;)W=w[v++],(!l||A(E,W))&&O(x,P?[W,E[W]]:E[W]);return x}};r.exports={entries:g(!0),values:g(!1)}},function(r,i,t){var l=t(169);r.exports=l},function(r,i,t){var l=t(170);r.exports=l},function(r,i,t){t(171);var l=t(116);r.exports=l("String","endsWith")},function(r,i,t){var l=t(61),o=t(20),u=t(89).f,p=t(109),S=t(78),A=t(172),O=t(69),g=t(174),P=t(67),_=o("".endsWith),E=o("".slice),w=Math.min,I=g("endsWith"),v=!P&&!I&&!!function(){var x=u(String.prototype,"endsWith");return x&&!x.writable}();l({target:"String",proto:!0,forced:!v&&!I},{endsWith:function(W){var U=S(O(this));A(W);var m=arguments.length>1?arguments[1]:void 0,a=U.length,f=m===void 0?a:w(p(m),a),d=S(W);return _?_(U,d,f):E(U,f-d.length,f)===d}})},function(r,i,t){var l=t(8),o=t(173),u=l.TypeError;r.exports=function(p){if(o(p))throw u("The method doesn't accept regular expressions");return p}},function(r,i,t){var l=t(51),o=t(82),u=t(28),p=u("match");r.exports=function(S){var A;return l(S)&&((A=S[p])!==void 0?!!A:o(S)=="RegExp")}},function(r,i,t){var l=t(28),o=l("match");r.exports=function(u){var p=/./;try{"/./"[u](p)}catch{try{return p[o]=!1,"/./"[u](p)}catch{}}return!1}},,function(r,i,t){r.exports=t(117)}]).default})})(zi);var ia=zi.exports;const le=Io(ia);function Ki(){if(!le)throw Zn.Error("E1041","Quill");return le}var Kn;if(le){var oa=le.import("core/theme");Kn=class extends oa{constructor(e,n){super(e,n),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox")}}}else Kn={};const aa=Kn;var Vn={};if(le){var la=le.import("formats/image");Vn=class extends la{static create(e){var n=e&&e.src||e,r=super.create(n);if(Yr(e)){var i=(t,l)=>{e[t]&&r.setAttribute(t,l)};i("alt",e.alt),i("width",e.width),i("height",e.height)}return r}static formats(e){var n=super.formats(e);return n.imageSrc=e.getAttribute("src"),n}formats(){var e=super.formats(),n=this.domNode.style.float;return n&&(e.float=n),e}format(e,n){e==="float"?this.domNode.style[e]=n:super.format(e,n)}static value(e){return{src:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height"),alt:e.getAttribute("alt")}}},Vn.blotName="extendedImage"}const sa=Vn;var Vi={};if(le){var ua=le.import("formats/link");Vi=class Gi extends ua{static create(n){var r=n&&n.href||n,i=super.create(r);return Yr(n)&&(n.text&&(i.innerText=n.text),n.target||i.removeAttribute("target")),i}static formats(n){return{href:n.getAttribute("href"),target:n.getAttribute("target")}}formats(){var n=super.formats(),{href:r,target:i}=Gi.formats(this.domNode);return n.link=r,n.target=i,n}format(n,r){n==="link"&&Yr(r)?(r.text&&(this.domNode.innerText=r.text),r.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",r.href)):super.format(n,r)}static value(n){return{href:n.getAttribute("href"),text:n.innerText,target:!!n.getAttribute("target")}}}}const ca=Vi;var Gn={};le&&(Gn=le.import("attributors/style/font"),Gn.whitelist=null);const fa=Gn;var qn={};le&&(qn=le.import("attributors/style/size"),qn.whitelist=null);const ha=qn;var Xn={};le&&(Xn=le.import("attributors/style/align"),Xn.whitelist.push("left"));const da=Xn;class pa{}var qi=pa;if(le){var va=le.import("core/module");qi=class extends va{constructor(e,n){super(e,n),this.editorInstance=n.editorInstance}saveValueChangeEvent(e){this.editorInstance._saveValueChangeEvent(e)}addCleanCallback(e){this.editorInstance.addCleanCallback(e)}handleOptionChangeValue(e){Yr(e)?Object.entries(e).forEach(n=>{var[r,i]=n;return this.option(r,i)}):Oe(e)||this===null||this===void 0||this.clean()}}}const Xe=qi;var ma="dx-colorview",ya="dx-colorview-container",Tn="dx-colorview-container-row",ga="dx-colorview-container-cell",ba="dx-colorview-palette",_a="dx-colorview-palette-cell",Oa="dx-colorview-palette-handle",Ti="dx-colorview-palette-gradient",Ca="dx-colorview-palette-gradient-white",Ea="dx-colorview-palette-gradient-black",Ta="dx-colorview-hue-scale",Sa="dx-colorview-hue-scale-cell",Aa="dx-colorview-hue-scale-handle",Ra="dx-colorview-hue-scale-wrapper",wa="dx-colorview-controls-container",xa="dx-colorview-label-red",Pa="dx-colorview-label-green",Ia="dx-colorview-label-blue",Na="dx-colorview-label-hex",La="dx-colorview-alpha-channel-scale",Ba="dx-colorview-alpha-channel-row",Ma="dx-colorview-alpha-channel-wrapper",Da="dx-colorview-alpha-channel-label",ja="dx-colorview-alpha-channel-handle",Ha="dx-colorview-alpha-channel-cell",ka="dx-colorview-alpha-channel-border",Si="dx-colorview-color-preview",Fa="dx-colorview-color-preview-container",Wa="dx-colorview-color-preview-container-inner",$a="dx-colorview-color-preview-color-current",Ua="dx-colorview-color-preview-color-new",ri=Hi.inherit({_supportedKeys:function(){var e=this.option("rtlEnabled"),n=this,r=function(O){var g=100/n._paletteWidth;return O.shiftKey&&(g*=n.option("keyStep")),g=g>1?g:1,Math.round(g)},i=function(O){var g=n._currentColor.hsv.s+O;g>100?g=100:g<0&&(g=0),n._currentColor.hsv.s=g,o()},t=function(O){var g=100/n._paletteHeight;return O.shiftKey&&(g*=n.option("keyStep")),g=g>1?g:1,Math.round(g)},l=function(O){var g=n._currentColor.hsv.v+O;g>100?g=100:g<0&&(g=0),n._currentColor.hsv.v=g,o()};function o(){n._placePaletteHandle(),n._updateColorFromHsv(n._currentColor.hsv.h,n._currentColor.hsv.s,n._currentColor.hsv.v)}var u=function(O){var g=360/(n._hueScaleWrapperHeight-n._hueScaleHandleHeight);return O.shiftKey&&(g*=n.option("keyStep")),g=g>1?g:1,g},p=function(O){n._currentColor.hsv.h+=O,n._placeHueScaleHandle();var g=an(n._$hueScaleHandle);n._updateColorHue(g.top+n._hueScaleHandleHeight/2)},S=function(O){var g=1/n._alphaChannelScaleWorkWidth;return O.shiftKey&&(g*=n.option("keyStep")),g=g>.01?g:.01,g=e?-g:g,g},A=function(O){n._currentColor.a+=O,n._placeAlphaChannelHandle();var g=an(n._$alphaChannelHandle);n._calculateColorTransparencyByScaleWidth(g.left+n._alphaChannelHandleWidth/2)};return ue(this.callBase(),{upArrow:function(O){O.preventDefault(),O.stopPropagation(),Cn(O)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(O),p(u(O))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(O),l(t(O)))},downArrow:function(O){O.preventDefault(),O.stopPropagation(),Cn(O)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(O),p(-u(O))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(O),l(-t(O)))},rightArrow:function(O){O.preventDefault(),O.stopPropagation(),Cn(O)?(e?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(O),A(-S(O))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(O),i(r(O)))},leftArrow:function(O){O.preventDefault(),O.stopPropagation(),Cn(O)?(e?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(O),A(S(O))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(O),i(-r(O)))},enter:function(O){this._fireEnterKeyPressed(O)}})},_getDefaultOptions:function(){return ue(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return cn.real().deviceType==="desktop"&&!cn.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(e){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:e})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(e){e=e||"#000000";var n=new hr(e);n.colorIsInvalid?this.option("value",this._currentColor.baseColor):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(n))&&(this._currentColor=n,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,n))},_setBaseColor:function(e){var n=e||"#000000",r=new hr(n);if(!r.colorIsInvalid){var i=this._makeRgba(this.option("matchValue")!==this._makeRgba(r));i&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,r)}},_initMarkup:function(){this.callBase(),this.$element().addClass(ma),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(e,n){n instanceof hr||(n=new hr(n)),e.css("backgroundColor",this._makeRgba(n))},_makeRgba:function(e){return e instanceof hr||(e=new hr(e)),"rgba("+[e.r,e.g,e.b,e.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var e=this.$element();this._$colorPickerContainer=Wt("<div>").addClass(ya).appendTo(e),this._renderHtmlRows()},_renderHtmlRows:function(e){var n=this._$colorPickerContainer.find("."+Tn),r=n.length,i=this.option("editAlphaChannel")?2:1,t=r-i;if(t>0&&n.eq(-1).remove(),t<0){t=Math.abs(t);var l=[],o;for(o=0;o<t;o++)l.push(Wt("<div>").addClass(Tn));if(r)for(o=0;o<l.length;o++)n.eq(0).after(l[o]);else this._$colorPickerContainer.append(l)}},_renderHtmlCellInsideRow:function(e,n,r){return Wt("<div>").addClass(ga).addClass(r).appendTo(n.find("."+Tn).eq(e))},_renderPalette:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,_a),n=Wt("<div>").addClass([Ti,Ca].join(" ")),r=Wt("<div>").addClass([Ti,Ea].join(" "));this._$palette=Wt("<div>").addClass(ba).css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(e),this._paletteHeight=Xr(this._$palette),this._paletteWidth=Qr(this._$palette),this._renderPaletteHandle(),this._$palette.append([n,r])},_renderPaletteHandle:function(){this._$paletteHandle=Wt("<div>").addClass(Oa).appendTo(this._$palette),this._createComponent(this._$paletteHandle,wn,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:function(){return-this._paletteHandleHeight/2}.bind(this),onDragMove:e=>{var{event:n}=e,r=an(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(n),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(r),this._calculateColorValue(r))}}),this._paletteHandleWidth=Qr(this._$paletteHandle),this._paletteHandleHeight=Xr(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){un(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(e){var n=Math.floor(e.top+this._paletteHandleHeight/2);return 100-Math.round(100*n/this._paletteHeight)},_calculateColorSaturation:function(e){var n=Math.floor(e.left+this._paletteHandleWidth/2);return Math.round(100*n/this._paletteWidth)},_updateColorFromHsv:function(e,n,r){var i=this._currentColor.a;this._currentColor=new hr("hsv("+[e,n,r].join(",")+")"),this._currentColor.a=i,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,Sa);this._$hueScaleWrapper=Wt("<div>").addClass(Ra).appendTo(e),this._$hueScale=Wt("<div>").addClass(Ta).appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Xr(this._$hueScale),this._hueScaleWrapperHeight=Sr(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._$hueScaleHandle=Wt("<div>").addClass(Aa).appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,wn,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:e=>{var{event:n}=e;this._updateByDrag=!0,this._saveValueChangeEvent(n),this._updateColorHue(an(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Xr(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var e=this._hueScaleWrapperHeight,n=this._hueScaleHandleHeight,r=(e-n)*(360-this._currentColor.hsv.h)/360;e<r+n&&(r=e-n),r<0&&(r=0),un(this._$hueScaleHandle,{top:Math.round(r)})},_updateColorHue:function(e){var n=360-Math.round(360*(e-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),r=this._currentColor.hsv.s,i=this._currentColor.hsv.v;this._isTopColorHue=!1,n=n<0?0:n,n>=360&&(this._isTopColorHue=!0,n=0),this._updateColorFromHsv(n,r,i),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Wt("<div>").addClass(wa).appendTo(e)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var e=Wt("<div>").addClass(Fa).appendTo(this._$controlsContainer),n=Wt("<div>").addClass(Wa).appendTo(e);this._$currentColor=Wt("<div>").addClass([Si,Ua].join(" ")),this._$baseColor=Wt("<div>").addClass([Si,$a].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),n.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+Tn).eq(1).addClass(Ba),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:ln,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:Yt.format("dxColorView-ariaRed"),labelClass:xa}),this._renderEditorWithLabel({editorType:ln,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:Yt.format("dxColorView-ariaGreen"),labelClass:Pa}),this._renderEditorWithLabel({editorType:ln,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:Yt.format("dxColorView-ariaBlue"),labelClass:Ia})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(e){var n=Wt("<div>"),r=Wt("<label>").addClass(e.labelClass).text(e.labelText+":").append(n);de.off(r,Wn),de.on(r,Wn,function(o){o.preventDefault()});var i=e.editorType,t=ue({value:e.value,onValueChanged:e.onValueChanged,onKeyboardHandled:o=>this._keyboardHandler(o)},{stylingMode:this.option("stylingMode")});i===ln&&(t.min=e.min||0,t.max=e.max||255,t.step=e.step||1);var l=new i(n,t);return l.registerKeyHandler("enter",function(o){this._fireEnterKeyPressed(o)}.bind(this)),this.setAria("label",e.labelAriaText,n),r},hexInputOptions:function(){return{editorType:_i,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:Na,labelText:"#",labelAriaText:Yt.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=_i.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"))},_renderAlphaChannelScale:function(){var e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,Ha),n=Wt("<div>").addClass(ka).appendTo(e),r=Wt("<div>").addClass(Ma).appendTo(n);this._$alphaChannelScale=Wt("<div>").addClass(La).appendTo(r),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(e)},_makeCSSLinearGradient:function(e){var n=this._currentColor,r=[n.r,n.g,n.b].join(","),i=n.toHex().replace("#","");e.attr("style",function(t,l){var o=this.option("rtlEnabled"),u="rgba("+t+", "+(o?"1":"0")+")",p="rgba("+t+", "+(o?"0":"1")+")";return["background-image: -webkit-linear-gradient(180deg, "+u+", "+p+")","background-image: -moz-linear-gradient(-90deg, "+u+", "+p+")","background-image: -o-linear-gradient(-90deg, "+u+", "+p+")","background-image: linear-gradient(-90deg, "+u+", "+p+")"].join(";")}.call(this,r,i))},_renderAlphaChannelInput:function(){var e=this,n=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);e._alphaChannelInput=this._renderEditorWithLabel({editorType:ln,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(r){var i=r.value;i=e._currentColor.isValidAlpha(i)?i:e._currentColor.a,r.event&&e._saveValueChangeEvent(r.event),e._updateColorTransparency(i),e._placeAlphaChannelHandle()},labelClass:Da,labelText:"Alpha",labelAriaText:Yt.format("dxColorView-ariaAlpha")}).appendTo(n).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(e){this._currentColor.a=e,this.applyColor()},_renderAlphaChannelHandle:function(e){this._$alphaChannelHandle=Wt("<div>").addClass(ja).appendTo(e),this._createComponent(this._$alphaChannelHandle,wn,{contentTemplate:null,boundary:e,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:n=>{var{event:r}=n;this._updateByDrag=!0;var i=this._$alphaChannelHandle,t=an(i).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(r),this._calculateColorTransparencyByScaleWidth(t)}}),this._alphaChannelHandleWidth=Qr(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=Qr(e)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(e){var n=(e-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,r=this.option("rtlEnabled");n=r?n:1-n,e>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?n=r?1:0:n<1&&(n=n.toFixed(2));var i=this._alphaChannelInput.option("value");n=Math.max(n,0),n=Math.min(n,1),n===i?this._updateByDrag=!1:this._alphaChannelInput.option("value",n)},_placeAlphaChannelHandle:function(){var e=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);e<0&&(e=0),this._alphaChannelScaleWorkWidth<e&&(e=this._alphaChannelScaleWorkWidth),un(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-e:e})},applyColor:function(){var e=this.option("value"),n=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),n===e?this._updateByDrag=!1:this.option("value",n)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(e,n){var r,i;e?i=this._validateHex("#"+this._hexInput.option("value")):(r=this._validateRgb(),this._alphaChannelInput?(r.push(this._alphaChannelInput.option("value")),i="rgba("+r.join(", ")+")"):i="rgb("+r.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new hr(i),this._saveValueChangeEvent(n.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(e){return this._currentColor.isValidHex(e)?e:this._currentColor.toHex()},_validateRgb:function(){var e=this._rgbInputs[0].option("value"),n=this._rgbInputs[1].option("value"),r=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(e,n,r)||(e=this._currentColor.r,n=this._currentColor.g,r=this._currentColor.b),[e,n,r]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(e){var n=e.value;switch(e.name){case"value":this._setCurrentColor(n),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(e);break;case"matchValue":this._setBaseColor(n);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(e)}}});Jn("dxColorView",ri);class za{constructor(){this._collection=[]}clear(){this._collection=[]}add(n,r){this._collection.push({name:n,instance:r})}remove(n){this._collection=this._collection.filter(r=>r.name!==n)}getByName(n){var r=null;return Ee(this._collection,(i,t)=>{var{name:l,instance:o}=t;if(l===n)return r=o,!1}),r}each(n){this._collection.forEach(r=>{var{name:i,instance:t}=r;return t&&n(i,t)})}}var Ka=["table","tableHeaderCell"],Va=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function Xi(e){var n=e.getModule("table");return n!=null&&n.tableFormats?n.tableFormats():Ka}function Qi(e,n){return!!n&&e.quill.getText(n).trim().length<n.length}function hn(e,n){var{tableBlot:r,quill:i}=n,t=r??i.scroll.find(e.get(0));t.format("tableWidth","initial")}function Pn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.find("tr").eq(n).find("th, td")}function dn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",r=[],i=n==="horizontal",t=i?Pn(e):ni(e);return t.each((l,o)=>{var u=Wt(o);u.get(0).style[i?"width":"height"]===""&&r.push(u)}),r}function qe(e,n){var{elements:r,property:i,value:t}=n,l=e.quill.getModule("table").tableBlots,o="cell".concat(ti(i,!0));Ee(r,(u,p)=>{var S,A=e.quill.scroll.find(p);if(!l.includes(A.statics.blotName)){var O=A.descendant(g=>l.includes(g.statics.blotName));A=O?O[0]:null}(S=A)===null||S===void 0||S.format(o,t+"px")})}function dr(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"horizontal";return r==="horizontal"?ni(e,n):Pn(e,n)}function ni(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.find("th:nth-child(".concat(1+n,"), td:nth-child(").concat(1+n,")"))}function Nr(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),t=2;t<r;t++)i[t-2]=arguments[t];return()=>{var l=e.getModule("table");if(l)return e.focus(),l[n](...i)}}var mn="dx-colorbox",Yi=mn+"-input",Ga=Yi+"-container",qa=mn+"-color-result-preview",Ai=mn+"-color-is-not-defined",Xa=mn+"-overlay",Qa="dx-colorview-container-cell",Ya="dx-colorview-button-cell",Za="dx-colorview-buttons-container",Ja="dx-colorview-apply-button",tl="dx-colorview-cancel-button",Sn=ri.prototype,qr={makeTransparentBackground:Sn._makeTransparentBackground.bind(Sn),makeRgba:Sn._makeRgba.bind(Sn)},pn=No.inherit({_supportedKeys:function(){var e=function(n){if(n.stopPropagation(),this.option("opened"))return n.preventDefault(),!0};return ue(this.callBase(),{tab:function(n){if(this.option("opened")){var r=n.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();r&&(de.trigger(r,"focus"),r.select()),n.preventDefault()}},enter:this._enterKeyHandler,leftArrow:e,rightArrow:e,upArrow:function(n){return this.option("opened")?n.altKey?(this.close(),!1):!0:(n.preventDefault(),!1)},downArrow:function(n){return!this.option("opened")&&!n.altKey?(n.preventDefault(),!1):!this.option("opened")&&n.altKey?(this._validatedOpening(),!1):!0}})},_getDefaultOptions:function(){return ue(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),this.option("applyValueMode")==="useButtons"&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return ue(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var e=this._popup.bottomToolbar();e&&(e.addClass(Qa).addClass(Ya).find(".dx-toolbar-items-container").addClass(Za),e.find(".dx-popup-done").addClass(Ja),e.find(".dx-popup-cancel").addClass(tl))},_createColorView:function(){this._popup.$overlayContent().addClass(Xa);var e=Wt("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(e,ri,this._colorViewConfig()),this._colorView.registerKeyHandler("escape",this._escapeHandler.bind(this)),de.on(e,"focus",function(){this.focus()}.bind(this))},_escapeHandler:function(){this.close(),this.focus()},_getFirstPopupElement:function(){return Wt(this._colorView._rgbInputs[0].element()).find("input")},_applyNewColor:function(e){this.option("value",e),e&&qr.makeTransparentBackground(this._$colorResultPreview,e),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var e=this;return{value:e.option("value"),matchValue:e.option("value"),editAlphaChannel:e.option("editAlphaChannel"),applyValueMode:e.option("applyValueMode"),focusStateEnabled:e.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),onEnterKeyPressed:function(n){var{event:r}=n;e._colorViewEnterKeyPressed=!0,e._colorView.option("value")!==e.option("value")&&(e._saveValueChangeEvent(r),e._applyNewColor(e._colorView.option("value")),e.close())},onValueChanged:function(n){var{event:r,value:i,previousValue:t}=n,l=e.option("applyValueMode")==="instantly",o=qr.makeRgba(i)===t,u=l||e._colorViewEnterKeyPressed,p=e._shouldSaveEmptyValue;o||!u||p||(r&&e._saveValueChangeEvent(r),e._applyNewColor(i))}}},_enterKeyHandler:function(e){var n=this._input().val(),{value:r,editAlphaChannel:i}=this.option(),t=r&&i?qr.makeRgba(r):r;if(!n)return!1;var l=new hr(n);if(l.colorIsInvalid){this._input().val(t);return}if(n!==t&&(this._applyColorFromInput(n),this._saveValueChangeEvent(e),this.option("value",this.option("editAlphaChannel")?qr.makeRgba(n):n)),this._colorView){var o=this._colorView.option("value");r!==o&&(this._saveValueChangeEvent(e),this.option("value",o))}return this.close(),!1},_applyButtonHandler:function(e){this._saveValueChangeEvent(e.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass(mn),this.callBase()},_renderInput:function(){this.callBase(),this._input().addClass(Yi),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner(Wt("<div>").addClass(Ga)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Wt("<div>").addClass(qa).appendTo(this._$textEditorInputContainer),this.option("value")?qr.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Ai)},_renderValue:function(){var{value:e,editAlphaChannel:n}=this.option(),r=e&&n,i=r?qr.makeRgba(e):e;return this.option("text",i),this.callBase()},_resetInputValue:function(){var e=this._input(),n=this.option("value");e.val(n),this._updateColorViewValue(n)},_updateColorViewValue:function(e){this._colorView&&this._colorView.option({value:e,matchValue:e})},_valueChangeEventHandler:function(e){var n=this._input().val();n&&(n=this._applyColorFromInput(n),this._updateColorViewValue(n)),this.callBase(e,n)},_applyColorFromInput:function(e){var n=new hr(e);return n.colorIsInvalid&&(this._resetInputValue(),e=this.option("value")),e},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(e){var n=e.value,r=e.name;switch(r){case"value":this._$colorBoxInputContainer.toggleClass(Ai,!n),n?qr.makeTransparentBackground(this._$colorResultPreview,n):this._$colorResultPreview.removeAttr("style"),n===null&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(n),this._shouldSaveEmptyValue=!1,this.callBase(e);break;case"applyButtonText":case"cancelButtonText":this.callBase(e),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(r,n);break;default:this.callBase(e)}}});Jn("dxColorBox",pn);var el=400,Zi=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],pr="user",Qn="silent",rl="dxHtmlEditor-dialogColorCaption",nl="dxHtmlEditor-dialogBackgroundCaption",il="dxHtmlEditor-dialogLinkCaption",ol="dxHtmlEditor-dialogImageCaption",al="dxHtmlEditor-dialogInsertTableCaption",ll="dxHtmlEditor-dialogLinkUrlField",sl="dxHtmlEditor-dialogLinkTextField",ul="dxHtmlEditor-dialogLinkTargetField",cl="dx-formdialog-field-target",fl="dxHtmlEditor-dialogImageUrlField",hl="dxHtmlEditor-dialogImageAltField",dl="dxHtmlEditor-dialogImageWidthField",pl="dxHtmlEditor-dialogImageHeightField",vl="dxHtmlEditor-dialogInsertTableRowsField",ml="dxHtmlEditor-dialogInsertTableColumnsField",Ji={insertHeaderRow:"header",clear:"clearformat"};function to(e){return{clear:n=>{var{event:r}=n,i=e.quill.getSelection();if(i){var t;e.saveValueChangeEvent(r),e.quill.removeFormat(i),(t=ii(e))===null||t===void 0||t.updateFormatWidgets()}},link:bl(e),image:_l(e),color:xi(e,"color"),background:xi(e,"background"),orderedList:Lr(e,"list","ordered"),bulletList:Lr(e,"list","bullet"),alignLeft:Lr(e,"align","left"),alignCenter:Lr(e,"align","center"),alignRight:Lr(e,"align","right"),alignJustify:Lr(e,"align","justify"),codeBlock:oi(e,"code-block"),undo:n=>{var{event:r}=n;e.saveValueChangeEvent(r),e.quill.history.undo()},redo:n=>{var{event:r}=n;e.saveValueChangeEvent(r),e.quill.history.redo()},increaseIndent:n=>{var{event:r}=n;Jr(e,["indent","+1",pr],r)},decreaseIndent:n=>{var{event:r}=n;Jr(e,["indent","-1",pr],r)},superscript:Lr(e,"script","super"),subscript:Lr(e,"script","sub"),insertTable:Al(e),insertHeaderRow:Nr(e.quill,"insertHeaderRow"),insertRowAbove:Nr(e.quill,"insertRowAbove"),insertRowBelow:Nr(e.quill,"insertRowBelow"),insertColumnLeft:Nr(e.quill,"insertColumnLeft"),insertColumnRight:Nr(e.quill,"insertColumnRight"),deleteColumn:Nr(e.quill,"deleteColumn"),deleteRow:Nr(e.quill,"deleteRow"),deleteTable:Nr(e.quill,"deleteTable"),cellProperties:wi(e,"cell"),tableProperties:wi(e,"table")}}function Ri(e,n){var{contentTemplate:r,title:i,minHeight:t,minWidth:l,maxWidth:o}=n;e.formDialogOption({contentTemplate:r,title:i,minHeight:t??0,minWidth:l??0,maxWidth:o??"none"})}function wi(e,n){return r=>{var i,t;(i=r)!==null&&i!==void 0&&i.length||(r=Wt(yl(e,n)));var[l,o]=(t=e.quill.getModule("table").getTable())!==null&&t!==void 0?t:[],u=e.quill.getFormat(e.editorInstance.getSelection(!0)),p=xl(n)(e,{$element:r,formats:u,tableBlot:l,rowBlot:o}),{contentTemplate:S,title:A,minHeight:O,minWidth:g,maxWidth:P}=e.editorInstance._formDialog._popup.option(),_={contentTemplate:S,title:A,minHeight:O,minWidth:g,maxWidth:P},E;e.editorInstance.formDialogOption({contentTemplate:I=>{var v=Wt("<div>").appendTo(I),x=Wt("<div>").appendTo(v);return e.editorInstance._createComponent(x,ki,p.formOptions),e.editorInstance._createComponent(v,Lo,{}),E=x.dxForm("instance"),v},title:Yt.format("dxHtmlEditor-".concat(n,"Properties")),minHeight:el,minWidth:Math.min(800,.9*Qr(Zr())-1),maxWidth:.9*Qr(Zr())});var w=e.editorInstance.showFormDialog();w.done((I,v)=>{e.saveValueChangeEvent(v),p.applyHandler(E),Ri(e.editorInstance,_)}),w.fail(()=>{e.quill.focus(),Ri(e.editorInstance,_)})}}function Jr(e,n,r){e.editorInstance._saveValueChangeEvent(r),e.quill.format(...n)}function yl(e,n){var r=e.quill.getModule("table").getTable();return n==="table"?r[0].domNode:r[2].domNode}function gl(e,n){var r=Ki(),i=r.import("formats/link"),[t,l]=e.quill.scroll.descendant(i,n.index),o=t?{index:n.index-l,length:t.length()}:null;return o}function bl(e){return()=>{var n;e.quill.focus();var r=e.quill.getSelection(),i=Qi(e,r),t=r?e.quill.getFormat():{},l=t.link&&((n=r)===null||n===void 0?void 0:n.length)===0,o=t.link||"";if(l){var u=gl(e,r);u?r=u:o=""}var p={href:o,text:r&&!i?e.quill.getText(r):"",target:Object.prototype.hasOwnProperty.call(t,"target")?!!t.target:!0};e.editorInstance.formDialogOption("title",Yt.format(il));var S=e.editorInstance.showFormDialog({formData:p,items:Ol(e,r)});S.done((A,O)=>{if(r&&!i){var g=A.text||A.href,{index:P,length:_}=r;A.text=void 0,e.saveValueChangeEvent(O),_&&e.quill.deleteText(P,_,Qn),e.quill.insertText(P,g,"link",A,pr),e.quill.setSelection(P+g.length,0,pr)}else A.text=!r&&!A.text?A.href:A.text,Jr(e,["link",A,pr],O)}),S.fail(()=>{e.quill.focus()})}}function _l(e){return()=>{var n=e.quill.getFormat(),r=Object.prototype.hasOwnProperty.call(n,"imageSrc"),i=El(e);if(r){var{imageSrc:t}=e.quill.getFormat(i-1,1);n.src=n.imageSrc,delete n.imageSrc,(!t||i===0)&&e.quill.setSelection(i+1,0,Qn)}var l=Cl(e);e.editorInstance.formDialogOption("title",Yt.format(ol));var o=e.editorInstance.showFormDialog({formData:n,items:Tl()});o.done((u,p)=>{var S=i;e.saveValueChangeEvent(p),r&&(S=l,e.quill.deleteText(S,1,Qn)),e.quill.insertEmbed(S,"extendedImage",u,pr),e.quill.setSelection(S+1,0,pr)}).always(()=>{e.quill.focus()})}}function Ol(e,n){return[{dataField:"href",label:{text:Yt.format(ll)}},{dataField:"text",label:{text:Yt.format(sl)},visible:!Qi(e,n)},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:Yt.format(ul)},cssClass:cl,label:{visible:!1}}]}function Cl(e){var n=e.quill.getSelection();return n?n.length?n.index:n.index-1:e.quill.getLength()}function El(e){var n,r=e.quill.getSelection();return(n=r==null?void 0:r.index)!==null&&n!==void 0?n:e.quill.getLength()}function Tl(){return[{dataField:"src",label:{text:Yt.format(fl)}},{dataField:"width",label:{text:Yt.format(dl)}},{dataField:"height",label:{text:Yt.format(pl)}},{dataField:"alt",label:{text:Yt.format(hl)}}]}function xi(e,n){return()=>{var r=e.quill.getFormat(),i=n==="color"?rl:nl;e.editorInstance.formDialogOption("title",Yt.format(i));var t=e.editorInstance.showFormDialog({formData:r,items:[{dataField:n,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});t.done((l,o)=>{Jr(e,[n,l[n],pr],o)}),t.fail(()=>{e.quill.focus()})}}function Lr(e,n,r){return i=>{var t,{event:l}=i,o=e.quill.getFormat(),u=o[n]===r?!1:r;Jr(e,[n,u,pr],l),(t=ii(e))===null||t===void 0||t.updateFormatWidgets(!0)}}function ii(e){return e._updateFormatWidget?e:e.quill.getModule("toolbar")}function oi(e,n){return r=>{var i,{event:t}=r,l=e.quill.getFormat(),o=l[n],u=!(Bo(o)?o:Oe(o));Jr(e,[n,u,pr],t),(i=ii(e))===null||i===void 0||i._updateFormatWidget(n,u,l)}}function Sl(){return[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Yt.format(vl)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Yt.format(ml)}}]}function Al(e){return()=>{var n=e.quill.getFormat(),r=e._tableFormats.some(t=>Object.prototype.hasOwnProperty.call(n,t));if(r){e.quill.focus();return}e.editorInstance.formDialogOption("title",Yt.format(al));var i=e.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:Sl()});i.done((t,l)=>{e.quill.focus();var o=e.quill.getModule("table");if(o){e.saveValueChangeEvent(l);var{columns:u,rows:p}=t;o.insertTable(u,p)}}).always(()=>{e.quill.focus()})}}function Rl(e,n){var{$element:r,formats:i,tableBlot:t}=n,l=Zr(),o,u,p,S=r,A=e.editorInstance,O=parseInt(i.tableWidth)||me(S),g=l.getComputedStyle(S.get(0)),P=g.textAlign==="start"?"left":g.textAlign,_={colCount:2,formData:{width:O,height:Oe(i.tableHeight)?parseInt(i.tableHeight):Sr(S),backgroundColor:i.tableBackgroundColor||g.backgroundColor,borderStyle:i.tableBorderStyle||g.borderTopStyle,borderColor:i.tableBorderColor||g.borderTopColor,borderWidth:parseInt(Oe(i.tableBorderWidth)?i.tableBorderWidth:g.borderTopWidth),alignment:i.tableAlign||P},items:[{itemType:"group",caption:Yt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Yt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Zi,placeholder:"Select style"}},{dataField:"borderWidth",label:{text:Yt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Yt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:Yt.format("dxHtmlEditor-borderColor")},colSpan:2,template:E=>{var w=Wt("<div>");return A._createComponent(w,pn,{editAlphaChannel:!0,value:E.component.option("formData").borderColor,onInitialized:I=>{u=I.component}}),w}}]},{itemType:"group",caption:Yt.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:Yt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Yt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Yt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Yt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Yt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Yt.format("dxHtmlEditor-borderColor")},template:E=>{var w=Wt("<div>");return A._createComponent(w,pn,{editAlphaChannel:!0,value:E.component.option("formData").backgroundColor,onInitialized:I=>{p=I.component}}),w}}]},{itemType:"group",caption:Yt.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:Yt.format("dxHtmlEditor-horizontal")},template:()=>{var E=Wt("<div>");return A._createComponent(E,$n,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[P],onInitialized:w=>{o=w.component}}),E}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:_,applyHandler:E=>{var w=E.option("formData"),I=w.width===O?void 0:w.width,v=w.height;Pl(e,{$table:S,newHeight:v,newWidth:I,tableBlot:t}),e.editorInstance.format("tableBorderStyle",w.borderStyle),e.editorInstance.format("tableBorderWidth",w.borderWidth+"px"),e.editorInstance.format("tableBorderColor",u.option("value")),e.editorInstance.format("tableBackgroundColor",p.option("value")),e.editorInstance.format("tableTextAlign",o.option("selectedItemKeys")[0])}}}function wl(e,n){var{$element:r,formats:i,tableBlot:t,rowBlot:l}=n,o=Zr(),u,p,S,A,O=r,g=Oe(i.cellWidth)?parseInt(i.cellWidth):me(O),P=e.editorInstance,_=o.getComputedStyle(O.get(0)),E=_.textAlign==="start"?"left":_.textAlign,w={colCount:2,formData:{width:g,height:Oe(i.cellHeight)?parseInt(i.cellHeight):Sr(O),backgroundColor:i.cellBackgroundColor||_.backgroundColor,borderStyle:i.cellBorderStyle||_.borderTopStyle,borderColor:i.cellBorderColor||_.borderTopColor,borderWidth:parseInt(Oe(i.cellBorderWidth)?i.cellBorderWidth:_.borderTopWidth),alignment:i.cellTextAlign||E,verticalAlignment:i.cellVerticalAlign||_.verticalAlign,verticalPadding:parseInt(Oe(i.cellPaddingTop)?i.cellPaddingTop:_.paddingTop),horizontalPadding:parseInt(Oe(i.cellPaddingLeft)?i.cellPaddingLeft:_.paddingLeft)},items:[{itemType:"group",caption:Yt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Yt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Zi}},{dataField:"borderWidth",label:{text:Yt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Yt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:Yt.format("dxHtmlEditor-borderColor")},template:I=>{var v=Wt("<div>");return P._createComponent(v,pn,{editAlphaChannel:!0,value:I.component.option("formData").borderColor,onInitialized:x=>{S=x.component}}),v}}]},{itemType:"group",caption:Yt.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:Yt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Yt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Yt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Yt.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:Yt.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:Yt.format("dxHtmlEditor-pixels")}},{label:{text:Yt.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:Yt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Yt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Yt.format("dxHtmlEditor-borderColor")},template:I=>{var v=Wt("<div>");return P._createComponent(v,pn,{editAlphaChannel:!0,value:I.component.option("formData").backgroundColor,onInitialized:x=>{A=x.component}}),v}}]},{itemType:"group",caption:Yt.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:Yt.format("dxHtmlEditor-horizontal")},template:()=>{var I=Wt("<div>");return P._createComponent(I,$n,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[E],onInitialized:v=>{u=v.component}}),I}},{itemType:"simple",label:{text:Yt.format("dxHtmlEditor-vertical")},template:()=>{var I=Wt("<div>");return P._createComponent(I,$n,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[_.verticalAlign],onInitialized:v=>{p=v.component}}),I}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:w,applyHandler:I=>{var v=I.option("formData"),x=v.width===parseInt(g)?void 0:v.width,W=v.height;Il(e,{$cell:O,newHeight:W,newWidth:x,tableBlot:t,rowBlot:l}),e.editorInstance.format("cellBorderWidth",v.borderWidth+"px"),e.editorInstance.format("cellBorderColor",S.option("value")),e.editorInstance.format("cellBorderStyle",v.borderStyle),e.editorInstance.format("cellBackgroundColor",A.option("value")),e.editorInstance.format("cellTextAlign",u.option("selectedItemKeys")[0]),e.editorInstance.format("cellVerticalAlign",p.option("selectedItemKeys")[0]),e.editorInstance.format("cellPaddingLeft",v.horizontalPadding+"px"),e.editorInstance.format("cellPaddingRight",v.horizontalPadding+"px"),e.editorInstance.format("cellPaddingTop",v.verticalPadding+"px"),e.editorInstance.format("cellPaddingBottom",v.verticalPadding+"px")}}}function xl(e){return e==="cell"?wl:Rl}function Pl(e,n){var{$table:r,newHeight:i,newWidth:t,tableBlot:l}=n;if(Oe(t)){var o=dn(r);if(o.length>0)e.editorInstance.format("tableWidth",t+"px");else{var u=Pn(r),p=me(r);hn(r,{tableBlot:l}),Ee(u,(g,P)=>{var _=Wt(P),E=t/p*me(_),w=dr(r,_.index(),"horizontal");qe(e,{elements:w,property:"width",value:E})})}}var S=dn(r,"vertical");if((S==null?void 0:S.length)>0)l.format("tableHeight",i+"px");else{var A=ni(r),O=Sr(r);Ee(A,(g,P)=>{var _=Wt(P),E=i/O*Sr(_),w=dr(r,g,"vertical");qe(e,{elements:w,property:"height",value:E})})}}function Il(e,n){var{$cell:r,newHeight:i,newWidth:t,tableBlot:l,rowBlot:o}=n,u=Wt(r.closest("table"));if(Oe(t)){var p=Wt(r).index(),S=dr(u,p),A=t-me(r),O=me(u);t>O&&hn(u,{tableBlot:l}),qe(e,{elements:S,property:"width",value:t});var g=r.next(),P=dn(u).length===0;if(P)if(hn(u,{tableBlot:l}),g.length===1){S=dr(u,p+1);var _=me(S.eq(0))-A;qe(e,{elements:S,property:"width",value:Math.max(_,0)})}else{var E=r.prev();if(E.length===1){S=dr(u,p-1);var w=me(S.eq(0))-A;qe(e,{elements:S,property:"width",value:Math.max(w,0)})}}}o.children.forEach(v=>{v.format("cellHeight",i+"px")});var I=dn(u,"vertical");I.length===0&&u.css("height","auto")}var eo=Xe;if(le){var Pi="dx-htmleditor-toolbar-wrapper",Nl="dx-htmleditor-toolbar",Ll="dx-htmleditor-toolbar-format",Bl="dx-htmleditor-toolbar-separator",Ml="dx-htmleditor-toolbar-menu-separator",Ii="dx-format-active",Dl="dx-icon",jl="selection-change",Hl="user",kl="silent",Fl={66:"bold",73:"italic",85:"underline"},Bn={b:66,i:73,u:85},nn=e=>Yt.format("dxHtmlEditor-".concat(ti(e))),Wl=(e,n)=>{if(n==="header"){var r=Oe(e)&&e!==!1;return r?"".concat(nn("heading")," ").concat(e):nn("normalText")}return nn(e)||e};eo=class extends Xe{constructor(e,n){var r;if(super(e,n),r=this,this._toolbarWidgets=new za,this._formatHandlers=to(this),this._tableFormats=Xi(e),Oe(n.items)){this._addCallbacks(),this._renderToolbar();var i=this.toolbarInstance._menu._dropDownMenu;if(i){var t=i._renderPopup;i._renderPopup=function(){for(var l=arguments.length,o=new Array(l),u=0;u<l;u++)o[u]=arguments[u];t.apply(i,...o),i._popup.on("showing",()=>{r._updateToolbar(!0)})}}this.quill.on("editor-change",(l,o,u,p)=>{var S=p===kl&&Ln(this.quill.getFormat());if(!S){var A=l===jl;this._updateToolbar(A)}})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(e){this.updateFormatWidgets(e),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(e,n,r){var i=this._toolbarWidgets.getByName(e);i&&(n?this._markActiveFormatWidget(e,i,r):(this._resetFormatWidget(e,i),Object.prototype.hasOwnProperty.call(e)&&delete r[e]),this._toggleClearFormatting(n||!Ln(r)))}_renderToolbar(){var e=this.options.container||this._getContainer();this._$toolbar=Wt("<div>").addClass(Nl).appendTo(e),this._$toolbarContainer=Wt(e).addClass(Pi),de.on(this._$toolbarContainer,He("mousedown",this.editorInstance.NAME),n=>{n.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,Mo,this.toolbarConfig),this.editorInstance.on("optionChanged",n=>{var{name:r}=n;(r==="readOnly"||r==="disabled")&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var e;return(e=this.options.multiline)!==null&&e!==void 0?e:!0}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(Pi)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var e=Wt("<div>");return this.editorInstance.$element().prepend(e),e}_detectRenamedOptions(e){Yr(e)&&Ee([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(n,r)=>{Object.prototype.hasOwnProperty.call(e,r.oldName)&&Zn.log("W1016",r.oldName,r.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:Bn.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Bn.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Bn.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(e,n,r){var{which:i}=r,t=Fl[i];this._updateButtonState(t)}_updateButtonState(e){var n=this._toolbarWidgets.getByName(e),r=this.quill.getFormat(),i=r[e];i?this._markActiveFormatWidget(e,n,r):this._resetFormatWidget(e,n)}_prepareToolbarItems(){var e=[];return Ee(this.options.items,(n,r)=>{var i;if(this._detectRenamedOptions(r),Yr(r))i=this._handleObjectItem(r);else if(ei(r)){var t=this._prepareButtonItemConfig(r);i=this._getToolbarItem(t)}i&&e.push(i)}),e}_handleObjectItem(e){if(e.name&&e.acceptedValues&&this._isAcceptableItem(e.widget,"dxSelectBox")){var n=this._prepareSelectItemConfig(e);return this._getToolbarItem(n)}else if(e.name&&this._isAcceptableItem(e.widget,"dxButton")){var r=this._prepareButtonItemConfig(e.name),i=ue(!0,r,e);return this._getToolbarItem(i)}else return this._getToolbarItem(e)}_isAcceptableItem(e,n){return!e||e===n}_prepareButtonItemConfig(e){var n,r=(n=Ji[e])!==null&&n!==void 0?n:e,i=Rn(e);return{widget:"dxButton",name:e,options:{hint:nn(i),text:nn(i),icon:r.toLowerCase(),onClick:this._formatHandlers[e]||oi(this,e),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(e){var{name:n,acceptedValues:r}=e;return ue(!0,{widget:"dxSelectBox",name:n,options:{stylingMode:"filled",dataSource:r,displayExpr:i=>Wl(i,n),placeholder:nn(n),onValueChanged:i=>{this._isReset||(this._hideAdaptiveMenu(),Jr(this,[n,i.value,Hl],i.event),this._setValueSilent(i.component,i.value))}}},e)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(e){var n={options:{onInitialized:i=>{e.name&&(i.component.$element().addClass(Ll),i.component.$element().toggleClass("dx-".concat(e.name.toLowerCase(),"-format"),!!e.name),this._toolbarWidgets.add(e.name,i.component))},onDisposing:()=>{this._toolbarWidgets.remove(e.name)}}},r=this.isMultilineMode()?{location:"before",locateInMenu:"never"}:{};return ue(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(e.name),e,n,r)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(e,n,r)=>{Wt(r).addClass(Bl)},menuItemTemplate:(e,n,r)=>{Wt(r).addClass(Ml)}}}}_getDefaultConfig(e){return this._getDefaultItemsConfig()[e]}updateHistoryWidgets(){var e=this.quill.history;if(e){var{undo:n,redo:r}=e.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!n.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!r.length)}}updateTableWidgets(){var e=this.quill.getModule("table");if(e){var n=this.quill.getSelection(),r=n&&this.quill.getFormat(n)||{},i=this._tableFormats.some(t=>!!r[t]);Va.forEach(t=>{var l=t==="insertTable",o=this._toolbarWidgets.getByName(t);this._updateManipulationWidget(o,l?!i:i)})}}_updateManipulationWidget(e,n){e&&e.option("disabled",!n)}updateFormatWidgets(e){var n=this.quill.getSelection();if(n){var r=this.quill.getFormat(n),i=!Ln(r);(!i||e)&&this._resetFormatWidgets();for(var t in r){var l=this._getFormatWidgetName(t,r),o=this._toolbarWidgets.getByName(l)||this._toolbarWidgets.getByName(t);o&&this._markActiveFormatWidget(t,o,r)}this._toggleClearFormatting(i||n.length>1)}}_markActiveFormatWidget(e,n,r){this._isColorFormat(e)&&this._updateColorWidget(e,r[e]),"value"in n.option()?this._setValueSilent(n,r[e]):n.$element().addClass(Ii)}_toggleClearFormatting(e){var n=this._toolbarWidgets.getByName("clear");n&&n.option("disabled",!e)}_isColorFormat(e){return e==="color"||e==="background"}_updateColorWidget(e,n){var r=this._toolbarWidgets.getByName(e);r&&r.$element().find(".".concat(Dl)).css("borderBottomColor",n||"transparent")}_getFormatWidgetName(e,n){var r;switch(e){case"align":r=e+Rn(n[e]);break;case"list":r=n[e]+Rn(e);break;case"code-block":r="codeBlock";break;case"script":r=n[e]+e;break;case"imageSrc":r="image";break;default:r=e}return r}_setValueSilent(e,n){this._isReset=!0,e.option("value",n),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((e,n)=>{this._resetFormatWidget(e,n)})}_resetFormatWidget(e,n){n.$element().removeClass(Ii),this._isColorFormat(e)&&this._updateColorWidget(e),e==="clear"&&n.option("disabled",!0),n.NAME==="dxSelectBox"&&this._setValueSilent(n,null)}addClickHandler(e,n){this._formatHandlers[e]=n;var r=this._toolbarWidgets.getByName(e);r&&r.NAME==="dxButton"&&r.option("onClick",n)}}}const $l=eo;var ro=Xe;le&&(ro=class extends Xe{constructor(e,n){super(e,n);var r=this.editorInstance.NAME;de.on(this.quill.root,He("drop",r),this._dropHandler.bind(this)),de.on(this.quill.root,He("paste",r),this._pasteHandler.bind(this))}_dropHandler(e){var n,r=e.originalEvent.dataTransfer,i=r==null||(n=r.files)===null||n===void 0?void 0:n.length;this.saveValueChangeEvent(e),e.preventDefault(),i&&this._getImage(r.files,this._addImage.bind(this))}_pasteHandler(e){var n,{clipboardData:r}=e.originalEvent;if(this.saveValueChangeEvent(e),!!r){var i=(n=r.items)===null||n===void 0?void 0:n.length,t=r.getData("text/html");!t&&i&&this._getImage(r.items,l=>{this._isBrowserSupportImagePaste(Do)||this._addImage(l)})}}_isBrowserSupportImagePaste(e){var{mozilla:n,chrome:r,version:i}=e;return n||r&&i>82}_isImage(e){return!!e.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(e,n){var r=Zr();Ee(e,(i,t)=>{if(this._isImage(t)){var l=new r.FileReader;l.onload=u=>{var{target:p}=u;n(p.result)};var o=t.getAsFile?t.getAsFile():t;o instanceof r.Blob&&l.readAsDataURL(o)}})}_addImage(e){var n=this.quill.getSelection(),r=n?n.index:this.quill.getLength();this.quill.insertEmbed(r,"extendedImage",e,"user")}});const Ul=ro;var zl="dxHtmlEditorPopupModule",no=Xe;if(le){var Kl="dx-suggestion-list",Vl="dx-suggestion-list-wrapper",Gl=100;no=class extends Xe{_getDefaultOptions(){return{dataSource:null}}constructor(e,n){super(e,n),this.options=ue({},this._getDefaultOptions(),n),this._popup=this.renderPopup(),this._popup.$wrapper().addClass(Vl),this._renderPreventFocusOut()}renderList(e,n){var r=Wt("<div>").addClass(Kl).appendTo(e);this._list=this.options.editorInstance._createComponent(r,jo,n)}renderPopup(){var e=this.options.editorInstance,n=Wt("<div>").appendTo(e.$element()),r=this._getPopupConfig();return e._createComponent(n,Fi,r)}_getPopupConfig(){return{contentTemplate:e=>{var n=this._getListConfig(this.options);this.renderList(Wt(e),n)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,closeOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(e){return{dataSource:e.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var e=Zr(),n=e&&Xr(e)||0;return Math.max(Gl,.5*n)}selectionChangedHandler(e){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(e))}_renderPreventFocusOut(){var e=He("mousedown",zl);de.on(this._popup.$wrapper(),e,n=>{n.preventDefault()})}insertEmbedContent(e){}showPopup(){this._popup&&this._popup.show()}savePosition(e){this.caretPosition=e}getPosition(){return this.caretPosition}}}const io=no;var sn={};if(le){var ql=le.import("blots/embed"),Xl="dx-variable";sn=class extends ql{static create(e){var n=super.create(),r,i,t=e.value;return Array.isArray(e.escapeChar)?(r=Un(e.escapeChar[0],""),i=Un(e.escapeChar[1],"")):r=i=e.escapeChar,n.innerText=r+t+i,n.dataset.varStartEscChar=r,n.dataset.varEndEscChar=i,n.dataset.varValue=e.value,n}static value(e){return ue({},{value:e.dataset.varValue,escapeChar:[e.dataset.varStartEscChar||"",e.dataset.varEndEscChar||""]})}},sn.blotName="variable",sn.tagName="span",sn.className=Xl}const Ql=sn;var oo=Xe;if(le){var Yl="dx-variable-format",Zl="dx-format-active";le.register({"formats/variable":Ql},!0),oo=class extends io{_getDefaultOptions(){var e=super._getDefaultOptions();return ue(e,{escapeChar:""})}constructor(e,n){super(e,n);var r=e.getModule("toolbar");r&&r.addClickHandler("variable",this.showPopup.bind(this)),e.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",i=>{var t=Wt(i.component.option("position").of);t.hasClass(Yl)&&t.addClass(Zl)})}showPopup(e){var n=this.quill.getSelection(!0),r=n?n.index:this.quill.getLength();this.savePosition(r),this._resetPopupPosition(e,r),super.showPopup()}_resetPopupPosition(e,n){if(e&&e.element)this._popup.option("position",{of:e.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var r=this.quill.getBounds(n),i=fn(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:r.left,v:r.bottom-i.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(e){var n=this.getPosition(),r=e.component.option("selectedItem"),i=ue({},{value:r,escapeChar:this.options.escapeChar});setTimeout(function(){this.quill.insertEmbed(n,"variable",i),this.quill.setSelection(n+1)}.bind(this))}}}const Jl=oo;var ts="dx-resize-frame",es="dx-touch-device",vn="dxHtmlResizingModule",Ni=He("keydown",vn),rs=He("scroll",vn),ns=He("mousedown",vn),Mn=1;class is extends Xe{constructor(n,r){super(n,r),this.allowedTargets=r.allowedTargets||["image"],this.enabled=!!r.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){de.on(this.quill.root,He(Wn,vn),this._clickHandler.bind(this)),de.on(this.quill.root,rs,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){de.off(this.quill.root,vn),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(n){if(this._isAllowedTarget(n.target)){if(this._$target===n.target)return;this._$target=n.target;var r=Wt(this._$target),i=Math.max(me(r)-Qr(r),this.resizable.option("minWidth")),t=Math.max(Sr(r)-Xr(r),this.resizable.option("minHeight"));this.resizable.option({minWidth:i,minHeight:t}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(n){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(n){return this._isImage(n)}_isImage(n){return this.allowedTargets.indexOf("image")!==-1&&n.tagName.toUpperCase()==="IMG"}showFrame(){this._$resizeFrame.show(),de.on(this.quill.root,Ni,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(n){var r=Ho(n);(r==="del"||r==="backspace")&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),de.off(this.quill.root,Ni)}updateFramePosition(){var{height:n,width:r,top:i,left:t}=fn(this._$target),{top:l,left:o}=fn(this.quill.root),u=this._getBorderWidth();this._$resizeFrame.css({height:n,width:r,padding:Mn,top:i-l-u-Mn,left:t-o-u-Mn}),un(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:n}=cn.current();this._$resizeFrame=Wt("<div>").addClass(ts).toggleClass(es,n!=="desktop").appendTo(this.editorInstance._getQuillContainer()).hide(),de.on(this._$resizeFrame,ns,r=>{r.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,ko,{_keepAspectRatio:!0,onResize:r=>{this._$target&&(Wt(this._$target).attr({height:r.height,width:r.width}),this.updateFramePosition())}})}}_deleteImage(){if(this._isAllowedTarget(this._$target)){var n;(n=le.find(this._$target))===null||n===void 0||n.deleteAt(0)}}option(n,r){if(n==="mediaResizing"){this.handleOptionChangeValue(r);return}n==="enabled"?(this.enabled=r,r?this._attachEvents():this._detachEvents()):n==="allowedTargets"&&Array.isArray(r)&&(this.allowedTargets=r)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var os="dx-table-resize-frame",Li="dx-htmleditor-column-resizer",Bi="dx-htmleditor-row-resizer",as={minColumnWidth:40,minRowHeight:24},ls=2,Dn=3,ai="dxHtmlTableResizingModule",Mi=He("dxpointerdown",ai),ss=He("scroll",ai);class us extends Xe{constructor(n,r){super(n,r),this.enabled=!!r.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",r.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",r.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(n){n?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=Oi.add(this._resizeHandler.bind(this))}_minSizeLimit(n,r){return Oe(r)?Math.max(r,0):as[n]}_applyResizingImpl(){var n=this._findTables();n.length&&(this._fixTablesWidths(n),this._createResizeFrames(n),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){de.on(this.editorInstance._getContent(),ss,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){de.off(this.editorInstance._getContent(),ai),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(n,r,i){return(t,l,o)=>{if(this._isTableChanging()){var u=this._findTables();this._removeResizeFrames(),o==="api"&&this._fixTablesWidths(u),this._updateTablesColumnsWidth(u),this._createResizeFrames(u),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(n){var r;return(r=this._framesForTables)===null||r===void 0?void 0:r.get(n.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var n=this._findTables();Ee(n,(r,i)=>{var t=Wt(i),l=this._tableResizeFrames[r],o=me(t),u=this._tableLastWidth(l);Math.abs(o-u)>1&&(this._tableLastWidth(l,o),this._updateColumnsWidth(t,r))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return Wt(this._quillContainer).find("table")}_getWidthStyleValue(n){var r=n[0].style.width;return r!==""?parseInt(r):void 0}_tableLastWidth(n,r){if(Oe(r))n.lastWidth=r;else return n==null?void 0:n.lastWidth}_fixTablesWidths(n){Ee(n,(r,i)=>{var t=Wt(i),l=this._getTableDeterminantElements(t,"horizontal");this._tableResizeFrames[r]||(this._tableResizeFrames[r]={lastWidth:void 0});var o=this._getFrameForTable(t);if(o||this._tableResizeFrames.push({$table:t}),dn(t).length===0){var u,{columnsSum:p}=this._getColumnElementsSum(l);hn(t,{quill:this.quill});var S=(u=this._tableLastWidth(o))!==null&&u!==void 0?u:me(t);o&&this._tableLastWidth(o,Math.max(p,S))}})}_createResizeFrames(n){this._framesForTables=new Map,n.each((r,i)=>{var t,l=Wt(i),o=(t=this._tableResizeFrames[r])===null||t===void 0?void 0:t.$table,u=this._tableResizeFrames[r].lastWidth;this._tableResizeFrames[r]={$frame:this._createTableResizeFrame(i),$table:l,index:r,lastWidth:o&&i===o.get(0)?u:void 0,columnsCount:this._getTableDeterminantElements(l,"horizontal").length,rowsCount:this._getTableDeterminantElements(l,"vertical").length},this._framesForTables.set(i,this._tableResizeFrames[r])}),this._tableResizeFrames.length=n.length}_isTableChanging(){var n=this._findTables(),r=!1;return n.length!==this._tableResizeFrames.length?r=!0:Ee(n,(i,t)=>{var l=Wt(t),o=this._tableResizeFrames[i],u=(o==null?void 0:o.columnsCount)!==this._getTableDeterminantElements(l,"horizontal").length,p=(o==null?void 0:o.rowsCount)!==this._getTableDeterminantElements(l,"vertical").length;if(u||p)return r=!0,!1}),r}_removeResizeFrames(n){var r;Ee(this._tableResizeFrames,(i,t)=>{if(t.$frame){var l,o=".".concat(Li,", .").concat(Bi);this._detachSeparatorEvents((l=t.$frame)===null||l===void 0?void 0:l.find(o)),t.$frame.remove()}}),(r=this._framesForTables)===null||r===void 0||r.clear(),n&&(this._tableResizeFrames=[])}_detachSeparatorEvents(n){n.each((r,i)=>{de.off(i,Mi)})}_createTableResizeFrame(){return Wt("<div>").addClass(os).appendTo(this._quillContainer)}_updateFramesPositions(){Ee(this._tableResizeFrames,(n,r)=>{this._updateFramePosition(r.$table,r.$frame)})}_updateFramePosition(n,r){var{height:i,width:t,top:l,left:o}=fn(n.get(0)),{top:u,left:p}=fn(this.quill.root);r.css({height:i,width:t,top:l-u,left:o-p}),un(r,{left:0,top:0})}_updateFramesSeparators(n){Ee(this._tableResizeFrames,(r,i)=>{n?this._updateFrameSeparators(i,n):(this._updateFrameSeparators(i,"vertical"),this._updateFrameSeparators(i,"horizontal"))})}_isDraggable(n){return n.hasClass("dx-draggable")&&n.is(":visible")}_removeDraggable(n,r){if(this._isDraggable(n)){var i=Wt(n).dxDraggable("instance");i.dispose(),Wt(n).addClass(r)}}_getDirectionInfo(n){return n==="vertical"?{lineResizerClass:Bi,sizeFunction:r=>Sr(r),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:Li,sizeFunction:r=>me(r),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(n,r){return r.sizeFunction(n)}_updateFrameSeparators(n,r){for(var i=this._getTableDeterminantElements(n.$table,r),t=i.length,l=t-1,o=this._getDirectionInfo(r),u=n.$frame.find(".".concat(o.lineResizerClass)),p={transform:"none"},S=0,A=0;A<=l;A++){S+=this._getSize(i.eq(A),o),Oe(u[A])||(u[A]=Wt("<div>").addClass(o.lineResizerClass).appendTo(n.$frame).get(0));var O=Wt(u[A]);this._removeDraggable(O,o.lineResizerClass),p[o.positionCoordinate]=S-ls,Wt(O).css(p);var g={lineSeparator:u[A],index:A,$determinantElements:i,frame:n,direction:r};this._attachColumnSeparatorEvents(g)}}_getTableDeterminantElements(n,r){return r==="vertical"?n.find("th:first-child, td:first-child"):Pn(n)}_attachColumnSeparatorEvents(n){de.on(n.lineSeparator,Mi,()=>{this._createDraggableElement(n)})}_dragStartHandler(n){var{$determinantElements:r,index:i,frame:t,direction:l,lineSeparator:o}=n,u=this._getDirectionInfo(l);this._isDragging=!0,this._fixColumnsWidth(t.$table),this._startLineSize=parseInt(this._getSize(Wt(r[i]),u)),this._startTableWidth=me(t.$table),this._startLineSeparatorPosition=parseInt(Wt(o).css(u.positionCoordinate)),this._nextLineSize=0,r[i+1]?this._nextLineSize=parseInt(this._getSize(Wt(r[i+1]),u)):l==="horizontal"&&hn(t.$table,{quill:this.quill})}_shouldRevertOffset(n){return n==="horizontal"&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(n,r,i){if(this._nextLineSize){if(n>=this._minColumnWidth){var t=this._nextColumnOffsetLimit?i<this._nextColumnOffsetLimit:i<0,l=Math.abs(this._getWidthStyleValue(r)-me(r))>Dn;return t||!l}}else return!0;return!1}_shouldSetNextColumnWidth(n){return this._nextLineSize&&n>0}_horizontalDragHandler(n){var{currentLineNewSize:r,directionInfo:i,eventOffset:t,$determinantElements:l,index:o,frame:u}=n,p=this._nextLineSize&&this._nextLineSize-t,S=r>=this._minColumnWidth,A=dr(u.$table,o),O=dr(u.$table,o+1),g=me(A.eq(0))-r;if(S)if(this._isNextColumnWidthEnough(p,l.eq(o+1),t)){qe(this,{elements:A,property:i.positionStyleProperty,value:r}),this._shouldSetNextColumnWidth(p)&&qe(this,{elements:O,property:i.positionStyleProperty,value:p});var P=Math.abs(this._startTableWidth-me(u.$table))<Dn,_=Math.abs(g)>Dn||!this._nextLineSize&&P;_&&(qe(this,{elements:A,property:i.positionStyleProperty,value:me(A.eq(0))}),p+=r-me(A.eq(0)),this._shouldSetNextColumnWidth(p)&&qe(this,{elements:O,property:i.positionStyleProperty,value:p}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||t;this._$highlightedElement.css(i.positionCoordinate,this._startLineSeparatorPosition+t+g+"px")}_verticalDragHandler(n){var{currentLineNewSize:r,directionInfo:i,eventOffset:t,$determinantElements:l,index:o,frame:u}=n,p=Math.max(r,this._minRowHeight),S=dr(u.$table,o,"vertical");qe(this,{elements:S,property:i.positionStyleProperty,value:p});var A=Sr(l.eq(o))-r;this._$highlightedElement.css(i.positionCoordinate,this._startLineSeparatorPosition+t+A+"px")}_dragMoveHandler(n,r){var{$determinantElements:i,index:t,frame:l,direction:o}=r,u=this._getDirectionInfo(o),p=n.offset[u.positionCoordinateName];this.editorInstance._saveValueChangeEvent(n),this._shouldRevertOffset(o)&&(p=-p);var S=this._startLineSize+p;o==="horizontal"?this._horizontalDragHandler({currentLineNewSize:S,directionInfo:u,eventOffset:p,$determinantElements:i,index:t,frame:l}):this._verticalDragHandler({currentLineNewSize:S,directionInfo:u,eventOffset:p,$determinantElements:i,index:t,frame:l}),this._updateFramePosition(l.$table,l.$frame)}_dragEndHandler(n){var r;(r=this._$highlightedElement)===null||r===void 0||r.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(n.frame,me(n.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(n){var{$determinantElements:r,index:i}=n;return!Oe(r[i+1])}_getBoundaryConfig(n){var r={};if(n.direction==="vertical")r.boundary=n.frame.$table,r.boundOffset={bottom:Wi()?-Xr(Zr()):-Sr(this._quillContainer),top:0,left:0,right:0};else if(!this._isLastColumnResizing(n))r.boundary=n.frame.$table;else{var i=this.editorInstance._getContent();r.boundary=i,r.boundOffset={bottom:0,top:0,left:i.css("paddingLeft"),right:i.css("paddingRight")}}return r}_createDraggableElement(n){var r,i=this._getBoundaryConfig(n),t=n.direction==="vertical"?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";(r=this._$highlightedElement)===null||r===void 0||r.remove(),this._$highlightedElement=Wt("<div>").addClass("".concat(t)).insertAfter(Wt(n.lineSeparator));var l={contentTemplate:null,allowMoveByClick:!1,dragDirection:n.direction,onDragMove:o=>{var{component:u,event:p}=o;this._dragMoveHandler(p,n)},onDragStart:()=>{this._dragStartHandler(n)},onDragEnd:()=>{this._dragEndHandler(n)}};ue(l,i),this._currentDraggableElement=this.editorInstance._createComponent(n.lineSeparator,wn,l)}_fixColumnsWidth(n){var r=this._getTableDeterminantElements(n);Ee(r,(i,t)=>{var l=me(t),o=dr(n,i);qe(this,{elements:o,property:"width",value:Math.max(l,this._minColumnWidth)})})}_getColumnElementsSum(n){var r=[],i=0;return Ee(n,(t,l)=>{var o=Wt(l),u=this._getWidthStyleValue(o)||me(o);r[t]=Math.max(u,this._minColumnWidth),i+=r[t]}),{columnsWidths:r,columnsSum:i}}_setColumnsRatioWidth(n,r,i,t){Ee(n,l=>{var o=dr(t,l),u;r>0?u=this._minColumnWidth+Math.round((i[l]-this._minColumnWidth)*r):u=this._minColumnWidth,qe(this,{elements:o,property:"width",value:u})})}_updateColumnsWidth(n,r){var i=this._getTableDeterminantElements(n),t=this._tableResizeFrames[r];t||(this._tableResizeFrames[r]={}),t=this._tableResizeFrames[r];var l=this._tableLastWidth(t)||me(n),o,{columnsWidths:u,columnsSum:p}=this._getColumnElementsSum(i),S=i.length*this._minColumnWidth;p>S?o=(l-S)/(p-S):o=-1,this._tableLastWidth(t,o>0?l:S),this._setColumnsRatioWidth(i,o,u,n)}_updateTablesColumnsWidth(n){Ee(n,(r,i)=>{this._updateColumnsWidth(Wt(i),r)})}option(n,r){if(n==="tableResizing"){this.handleOptionChangeValue(r);return}n==="enabled"?(this.enabled=r,r?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(n)&&(this["_".concat(n)]=this._minSizeLimit(n,r))}clean(){this._removeResizeFrames(!0),this._detachEvents(),Oi.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}var cs="dxHtmlEditorTableContextMenu",Di=He("dxcontextmenu",cs),ao=Xe,jn=e=>Yt.format("dxHtmlEditor-".concat(ti(e)));le&&(ao=class extends Xe{constructor(e,n){super(e,n),this.enabled=!!n.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=to(this),this._tableFormats=Xi(e),this.enabled&&this._enableContextMenu(n.items)}_enableContextMenu(e){var n;(n=this._contextMenu)===null||n===void 0||n.dispose(),this._contextMenu=this._createContextMenu(e),this._attachEvents()}_attachEvents(){de.on(this.editorInstance._getContent(),Di,this._prepareContextMenuHandler())}_detachEvents(){de.off(this.editorInstance._getContent(),Di)}_createContextMenu(e){var n=Wt("<div>").appendTo(this.editorInstance.$element()),r=this._getMenuConfig(e);return this.editorInstance._createComponent(n,ra,r)}showPropertiesForm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cell",n=Wt(this._targetElement).closest(e==="cell"?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(e,"Properties")](n),this._targetElement=null}_isAcceptableItem(e,n){return!e||e===n}_handleObjectItem(e){if(e.name&&this._isAcceptableItem(e.widget,"dxButton")){var n=this._prepareMenuItemConfig(e.name),r=ue(!0,n,e);return r}else return e.items&&(e.items=this._prepareMenuItems(e.items)),e}_prepareMenuItemConfig(e){var n,r,i=(n=Ji[e])!==null&&n!==void 0?n:e,t=Rn(e);return{text:jn(t),icon:i.toLowerCase(),onClick:(r=this._formatHandlers[e])!==null&&r!==void 0?r:oi(this,e)}}_prepareMenuItems(e){var n=[];return Ee(e,(r,i)=>{var t;Yr(i)?t=this._handleObjectItem(i):ei(i)&&(t=this._prepareMenuItemConfig(i)),t&&n.push(t)}),n}_getMenuConfig(e){var n=[{text:jn("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",ue(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:jn("delete"),items:["deleteColumn","deleteRow","deleteTable"]},ue(this._prepareMenuItemConfig("cellProperties"),{onClick:i=>{this.showPropertiesForm("cell")}}),ue(this._prepareMenuItemConfig("tableProperties"),{onClick:i=>{this.showPropertiesForm("table")}})],r=this._prepareMenuItems(e!=null&&e.length?e:n);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:r}}_prepareContextMenuHandler(){return e=>{this._isTableTarget(e.target)&&(this._targetElement=e.target,this._setContextMenuPosition(e),this._contextMenu.show(),e.preventDefault())}}_setContextMenuPosition(e){var n=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:e.clientX-n.left,y:e.clientY-n.top}}})}_isTableTarget(e){return!!Wt(e).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(e,n){if(e==="tableContextMenu"){this.handleOptionChangeValue(n);return}if(e==="enabled")this.enabled=n,n?this._enableContextMenu():this.clean();else if(e==="items"){var r;(r=this._contextMenu)===null||r===void 0||r.dispose(),this._contextMenu=this._createContextMenu(n)}}prepareCleanCallback(){return()=>{this.clean()}}});const fs=ao;var on={};if(le){var hs=le.import("blots/embed"),ds="dx-mention";on=class extends hs{static create(e){var n=super.create();return n.setAttribute("spellcheck",!1),n.dataset.marker=e.marker,n.dataset.mentionValue=e.value,n.dataset.id=e.id,this.renderContent(n,e),n}static value(e){return{marker:e.dataset.marker,id:e.dataset.id,value:e.dataset.mentionValue}}static renderContent(e,n){var r=this._templates.get(n.marker);r?r.render({model:n,container:e}):this.baseContentRender(e,n)}static baseContentRender(e,n){var r=Wt("<span>").text(n.marker);Wt(e).append(r).append(n.value)}static addTemplate(e,n){this._templates.set(e,n)}static removeTemplate(e){this._templates.delete(e)}},on.blotName="mention",on.tagName="span",on.className=ds,on._templates=new Map}const Hn=on;var lo=Xe;if(le){var ps="user",vs="@",je={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},ms=[je.ARROW_LEFT,je.ARROW_RIGHT,je.PAGE_UP,je.PAGE_DOWN,je.END,je.HOME],ys=[" ",`
`],gs="dx-state-disabled";le.register({"formats/mention":Hn},!0),lo=class extends io{_getDefaultOptions(){var e=super._getDefaultOptions();return ue(e,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}constructor(e,n){super(e,n),this._mentions={},n.mentions.forEach(r=>{var i=r.marker;i||(r.marker=i=vs);var t=r.template;if(t){var l=this.editorInstance._getTemplate(t);l&&Hn.addTemplate(i,l)}this._mentions[i]=ue({},this._getDefaultOptions(),r)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:je.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:je.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[je.ENTER,je.SPACE]},this._selectItemHandler.bind(this));var e=this.quill.keyboard.bindings[je.ENTER];e.unshift(e.pop()),this.quill.keyboard.addBinding({key:je.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[je.ARROW_LEFT,je.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:ms},this._ignoreKeyHandler.bind(this))}_moveToItem(e){var n=this._list.getDataSource();if(this._isMentionActive&&!n.isLoading()){var r=Wt(this._list.option("focusedElement")),i=e==="next"?"first":"last",t=r[e]();t=t.length?t:this._activeListItems[i](),this._list.option("focusedElement",zn(t)),this._list.scrollToItem(t)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(e,n,r){return e>r?n:e<n?r:e}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(e,n){this.compileGetters(this.options),super.renderList(e,n)}compileGetters(e){var{displayExpr:n,valueExpr:r}=e;this._valueGetter=Ci(n),this._idGetter=Ci(r)}_getListConfig(e){var n=super._getListConfig(e);return ue(n,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var e=this._activeMentionConfig.marker.length,n=e+this._searchValue.length,r=this.getPosition(),i=this._list.option("selectedItem"),t={value:this._valueGetter(i),id:this._idGetter(i),marker:this._activeMentionConfig.marker},l=le.import("delta"),o=Math.max(0,r-e),u=new l().retain(o).delete(n).insert({mention:t}).insert(" ");this.quill.updateContents(u),this.quill.setSelection(o+2)}_getLastInsertOperation(e){var n=e[e.length-1],r="insert"in n;if(r)return n;var i="delete"in n;if(i&&e.length>=2){var t=e[e.length-2],l="insert"in t,o=i&&l;if(o)return t}return null}onTextChange(e,n,r){if(r===ps){var i=e.ops[e.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(i)&&this._filterList(this._searchValue);else{var{ops:t}=e,l=this._getLastInsertOperation(t);l&&this.checkMentionRequest(l,t)}}}get _isPopupVisible(){var e;return(e=this._popup)===null||e===void 0?void 0:e.option("visible")}_processSearchValue(e){var n="insert"in e;if(n)this._searchValue+=e.insert;else{if(!this._searchValue.length||e.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(e,n){var{insert:r}=e,i=this.quill.getSelection();if(!(!r||!ei(r)||!i||this._isMarkerPartOfText(n[0].retain))&&(this._activeMentionConfig=this._mentions[r],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var t=i.index&&this._getCharByIndex(i.index-1)===`
`;this.savePosition(i.index+t),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(e){return!(!e||ys.indexOf(this._getCharByIndex(e-1))!==-1)}_getCharByIndex(e){return this.quill.getContents(e,1).ops[0].insert}_updateList(e){var{dataSource:n,displayExpr:r,valueExpr:i,itemTemplate:t,searchExpr:l}=e;this.compileGetters({displayExpr:r,valueExpr:i}),this._list.unselectAll(),this._list.option({dataSource:n,displayExpr:r,itemTemplate:t,searchExpr:l})}_filterList(e){if(!this._isMinSearchLengthExceeded(e)){this._resetFilter();return}var n=this._activeMentionConfig.searchTimeout;n?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(e)},n)):this._search(e)}_isMinSearchLengthExceeded(e){return e.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(e){this._hasSearch=!0,this._list.option("searchValue",e)}_focusFirstElement(){if(this._list){var e=this._activeListItems.first();this._list.option("focusedElement",zn(e)),this._list.scrollToItem(e)}}get _popupPosition(){var e=this.getPosition(),{left:n,top:r,height:i}=this.quill.getBounds(e&&e-1),{left:t,top:l}=Wt(this.quill.root).offset(),o=de.Event("positionEvent",{pageX:t+n,pageY:l+r});return{of:o,offset:{v:i},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return ue(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat(gs,")"))}clean(){Object.keys(this._mentions).forEach(e=>{this._mentions[e].template&&Hn.removeTemplate(e)})}}}const bs=lo;class xn{constructor(){if(!xn.initialized){var n=this.getQuill(),r=n.import("attributors/style/direction");n.register({"formats/align":da,"formats/direction":r,"formats/font":fa,"formats/size":ha,"formats/extendedImage":sa,"formats/link":ca,"modules/toolbar":$l,"modules/dropImage":Ul,"modules/variables":Jl,"modules/resizing":is,"modules/tableResizing":us,"modules/tableContextMenu":fs,"modules/mentions":bs,"themes/basic":aa},!0),this._customModules=[],xn._initialized=!0}}createEditor(n,r){var i=this.getQuill();return new i(n,r)}registerModules(n){var r=RegExp("modules/*"),i=this.getQuill(),t=o=>!!i.imports[o];for(var l in n)r.test(l)&&!t(l)&&this._customModules.push(l.slice(8));i.register(n,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return Ki()}}class _s{constructor(){this._converters={}}addConverter(n,r){this._converters[n]=r}getConverter(n){return this._converters[n]}}var Yn=new _s;class Os{setQuillInstance(n){this.quillInstance=n}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var n=this.quillInstance.getContents();return n.length()===1&&this._isDeltaEmpty(n)}_isDeltaEmpty(n){return n.reduce((r,i)=>{var{insert:t}=i;return t.indexOf(`
`)!==-1})}}Yn.addConverter("delta",Os);function Cs(e){var n=e[1];return n.match(/\S+\./)?"ordered":"bullet"}function Es(e){var n=e.getAttribute("style");if(n){var r=n.replace(/\n+/g,"").match(/level(\d+)/);return r?r[1]-1:0}else return!1}function Ts(e){var n=e[e.length-1];n.insert=n.insert.trim()}var Ss=e=>{var n=e.import("delta");return(r,i)=>{var t=i.ops.slice(),l=t[0];l.insert=l.insert.replace(/^\s+/,"");var o=l.insert.match(/^(\S+)\s+/),u=o&&Es(r);return!o||u===!1?i:(l.insert=l.insert.substring(o[0].length,l.insert.length),Ts(t),t.push({insert:`
`,attributes:{list:Cs(o),indent:u}}),new n(t))}},ji="dx-formdialog",As="dx-formdialog-form";class Rs{constructor(n,r){this._editorInstance=n,this._popupUserConfig=r,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var n=this._editorInstance,r=Wt("<div>").addClass(ji).appendTo(n.$element()),i=this._getPopupConfig();return n._createComponent(r,Fi,i)}_attachOptionChangedHandler(){var n;(n=this._popup)===null||n===void 0||n.on("optionChanged",r=>{var{name:i,value:t}=r;i==="title"&&this._updateFormLabel(t)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(n){n.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var n=Wi()?Fo():null;return cn.real().deviceType==="phone"||n==="xs"}_getPopupConfig(){return ue({onInitialized:n=>{this._popup=n.component,this._popup.on("hiding",()=>{this.deferred.reject()}),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:n=>{var r=Wt("<div>").appendTo(n);this._renderForm(r,{onEditorEnterKey:i=>{var{component:t,dataField:l,event:o}=i;this.hide(t.option("formData"),o)},customizeItem:i=>{i.itemType==="simple"&&(i.editorOptions=ue(!0,{},i.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:Yt.format("OK"),onClick:n=>{var{event:r}=n;this.hide(this._form.option("formData"),r)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:Yt.format("Cancel"),onClick:()=>{this._popup.hide()}}}],_wrapperClassExternal:ji},this._popupUserConfig)}_renderForm(n,r){n.addClass(As),this._form=this._editorInstance._createComponent(n,ki,r),this._updateFormLabel()}_updateFormLabel(n){var r,i=n??this.popupOption("title");(r=this._form)===null||r===void 0||r.$element().attr("aria-label",i)}show(n){if(!this._popup.option("visible")){this.deferred=new $i;var r=ue({},n);return this._form.option(r),this._popup.show(),this.deferred.promise()}}hide(n,r){this.deferred.resolve(n,r),this._popup.hide()}popupOption(n,r){return this._popup.option.apply(this._popup,arguments)}}var ws="dx-htmleditor",xs="dx-quill-container",Ps="ql-clipboard",Is="dx-htmleditor-submit-element",Ns="dx-htmleditor-content",An="markdown",kn="htmlContent",Ls=cn.current().platform==="ios",so=Hi.inherit({_getDefaultOptions:function(){return ue(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,stylingMode:"outlined"})},_init:function(){this.callBase(),this._cleanCallback=Ei(),this._contentInitializedCallback=Ei()},_getAnonymousTemplateName:function(){return kn},_initTemplates:function(){this._templateManager.addDefaultTemplates({[kn]:new Wo}),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat(Ns))},_focusInHandler:function(e){var{relatedTarget:n}=e;this._shouldSkipFocusEvent(n)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(e){var{relatedTarget:n}=e;this._shouldSkipFocusEvent(n)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(e){return Wt(e).hasClass(Ps)},_initMarkup:function(){this._$htmlContainer=Wt("<div>").addClass(xs),this.$element().attr("role","application").addClass(ws).wrapInner(this._$htmlContainer),this._renderStylingMode();var e=this._getTemplate(kn);this._$templateResult=e&&e.render({container:zn(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderSubmitElement:function(){this._$submitElement=Wt("<textarea>").addClass(Is).attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val(e)},_getSubmitElement:function(){return this._$submitElement},_createNoScriptFrame:function(){return Wt("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})},_removeXSSVulnerableHtml:function(e){var n=this._createNoScriptFrame().appendTo("body"),r=n.get(0),i=r.contentWindow,t=i.document,l=t.body;l.innerHTML=e;var o=p=>{if(p.attributes)for(var S=0;S<p.attributes.length;S++){var A=p.attributes[S].name;A.startsWith("on")&&p.removeAttribute(A)}if(p.childNodes)for(var O=0;O<p.childNodes.length;O++)o(p.childNodes[O])};o(l),l.querySelectorAll("script").forEach(p=>{p.remove()});var u=l.innerHTML;return n.remove(),u},_updateContainerMarkup:function(){var e=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),e=this._markdownConverter.toHtml(e)),e){var n=this._removeXSSVulnerableHtml(e);this._$htmlContainer.html(n)}},_prepareMarkdownConverter:function(){var e=Yn.getConverter("markdown");if(e)this._markdownConverter=new e;else throw Zn.Error("E1051","markdown")},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new xn)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var e=Yn.getConverter("delta");e&&(this._deltaConverter=new e)}this.option("valueType")===An&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new $i;var e=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),e},_pointerMoveHandler:function(e){Ls&&e.stopPropagation()},_attachFocusEvents:function(){$o(this.callBase.bind(this))},_addKeyPressHandler:function(){var e=He("keydown","".concat(this.NAME,"TextChange"));de.on(this._$htmlContainer,e,this._keyDownHandler.bind(this))},_keyDownHandler:function(e){this._saveValueChangeEvent(e)},_renderHtmlEditor:function(){var e=this.option("customizeModules"),n=this._getModulesConfig();Uo(e)&&e(n),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:n,theme:"basic"}),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=zo(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var e=this._getContent(),n=Ko(e);de.on(e,He(Vo.init,this.NAME),n,Go),de.on(e,He(qo.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var e=this.option("value");if(!Oe(e)){var n=this._deltaConverter.toHtml(),r=this._quillInstance.clipboard.convert({html:n});if(r.ops.length){this._quillInstance.setContents(r);return}}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var e=this._getRegistrator().getQuill(),n=Ss(e),r=ue({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:i=>this._saveValueChangeEvent(En(i)),imageBlot:"extendedImage"},keyboard:{onKeydown:i=>this._saveValueChangeEvent(En(i))},clipboard:{onPaste:i=>this._saveValueChangeEvent(En(i)),onCut:i=>this._saveValueChangeEvent(En(i)),matchers:[["p.MsoListParagraphCxSpFirst",n],["p.MsoListParagraphCxSpMiddle",n],["p.MsoListParagraphCxSpLast",n]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules());return r},_getModuleConfigByOption:function(e){var n=this.option(e),r={};if(Oe(n))return Array.isArray(n)?r[e]=n:r=n,ue(this._getBaseModuleConfig(),r)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var e={},n=this._getRegistrator().getRegisteredModuleNames();return n.forEach(r=>{e[r]=this._getBaseModuleConfig()}),e},_textChangeHandler:function(e,n,r){var i=this._deltaConverter.toHtml(),t=this._isMarkdownValue()?this._updateValueByType(An,i):i,l=this.option("value");l!==t&&!this._isNullValueConverted(l,t)&&(this._isEditorUpdating=!0,this.option("value",t)),this._finalizeContentRendering()},_isNullValueConverted:function(e,n){return e===null&&n===""},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(e,n){var r=this._markdownConverter;if(Oe(r)){var i=Un(n,this.option("value"));return e===An?r.toMarkdown(i):r.toHtml(i)}},_isMarkdownValue:function(){return this.option("valueType")===An},_resetEnabledState:function(){if(this._quillInstance){var e=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(e)}},_renderFormDialog:function(){var e=ue(!0,{width:"auto",height:"auto",closeOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new Rs(this,e)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_moduleOptionChanged:function(e,n){var r,i=(r=this._quillInstance)===null||r===void 0?void 0:r.getModule(e),t=!!i;if(t){var l,o=(l=n.fullName)===null||l===void 0?void 0:l.split("."),u=o.length===2?o[1]:n.name;i.option(u,n.value)}else this._invalidate()},_optionChanged:function(e){switch(e.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var n=this._isMarkdownValue()?this._updateValueByType("HTML",e.value):e.value;this._updateHtmlContent(n)}else this._$htmlContainer.html(e.value);this._setSubmitValue(e.value),this.callBase(e);break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",e);break;case"valueType":this._prepareConverters();var r=this._updateValueByType(e.value);e.value==="html"&&this._quillInstance?this._updateHtmlContent(r):this.option("value",r);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(e),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",e);break;case"mediaResizing":!e.previousValue||!e.value?this._invalidate():this._quillInstance.getModule("resizing").option(e.name,e.value);break;case"width":this.callBase(e),this._repaintToolbar();break;default:this.callBase(e)}},_repaintToolbar:function(){var e=this._quillInstance.getModule("toolbar");e&&e.repaint()},_updateHtmlContent:function(e){var n=this._quillInstance.clipboard.convert({html:e});this._quillInstance.setContents(n)},_clean:function(){this._quillInstance&&(de.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(e,n){if(this._quillInstance)return this._quillInstance[e].apply(this._quillInstance,n)},_applyQuillHistoryMethod(e){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[e]()},addCleanCallback(e){this._cleanCallback.add(e)},addContentInitializedCallback(e){this._contentInitializedCallback.add(e)},register:function(e){this._getRegistrator().registerModules(e),this._quillInstance&&this.repaint()},get:function(e){return this._getRegistrator().getQuill().import(e)},getModule:function(e){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(e){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(e,n){this._applyQuillMethod("setSelection",arguments)},getText:function(e,n){return this._applyQuillMethod("getText",arguments)},format:function(e,n){this._applyQuillMethod("format",arguments)},formatText:function(e,n,r,i){this._applyQuillMethod("formatText",arguments)},formatLine:function(e,n,r,i){this._applyQuillMethod("formatLine",arguments)},getFormat:function(e,n){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(e,n){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(e,n){return this._applyQuillMethod("getBounds",arguments)},delete:function(e,n){this._applyQuillMethod("deleteText",arguments)},insertText:function(e,n,r){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(e,n,r){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(e){return this._formDialog.show(e)},formDialogOption:function(e,n){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")}});Jn("dxHtmlEditor",so);const Bs=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),Ms=Xo(Bs);/*!
 * devextreme-vue
 * Version: 21.2.13
 * Build date: Fri Apr 07 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Ds=Fn&&Fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ye,"__esModule",{value:!0});ye.DxVariables=ye.DxToolbarItem=ye.DxToolbar=ye.DxTableResizing=ye.DxTableContextMenuItem=ye.DxTableContextMenu=ye.DxMention=ye.DxMediaResizing=ye.DxItem=ye.DxHtmlEditor=void 0;var js=Ds(Ms),Hs=Ui,Ar=Ui,uo=Hs.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowSoftLineBreak:Boolean,customizeModules:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,isValid:Boolean,mediaResizing:Object,mentions:Array,name:String,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,tableContextMenu:Object,tableResizing:Object,toolbar:Object,validationError:{},validationErrors:Array,validationMessageMode:String,validationStatus:String,value:{},valueType:String,variables:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSoftLineBreak":null,"update:customizeModules":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:isValid":null,"update:mediaResizing":null,"update:mentions":null,"update:name":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:tableContextMenu":null,"update:tableResizing":null,"update:toolbar":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationStatus":null,"update:value":null,"update:valueType":null,"update:variables":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=js.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={mediaResizing:{isCollectionItem:!1,optionName:"mediaResizing"},mention:{isCollectionItem:!0,optionName:"mentions"},tableContextMenu:{isCollectionItem:!1,optionName:"tableContextMenu"},tableResizing:{isCollectionItem:!1,optionName:"tableResizing"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},variables:{isCollectionItem:!1,optionName:"variables"}}}});ye.DxHtmlEditor=uo;var li=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});ye.DxItem=li;li.$_optionName="items";li.$_isCollectionItem=!0;var co=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedTargets":null,"update:enabled":null},props:{allowedTargets:Array,enabled:Boolean}});ye.DxMediaResizing=co;co.$_optionName="mediaResizing";var si=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:displayExpr":null,"update:itemTemplate":null,"update:marker":null,"update:minSearchLength":null,"update:searchExpr":null,"update:searchTimeout":null,"update:template":null,"update:valueExpr":null},props:{dataSource:{},displayExpr:[Function,String],itemTemplate:{},marker:String,minSearchLength:Number,searchExpr:[Array,Function,String],searchTimeout:Number,template:{},valueExpr:[Function,String]}});ye.DxMention=si;si.$_optionName="mentions";si.$_isCollectionItem=!0;var ui=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});ye.DxTableContextMenu=ui;ui.$_optionName="tableContextMenu";ui.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},tableContextMenuItem:{isCollectionItem:!0,optionName:"items"}};var ci=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,html:String,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});ye.DxTableContextMenuItem=ci;ci.$_optionName="items";ci.$_isCollectionItem=!0;var fo=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:minColumnWidth":null,"update:minRowHeight":null},props:{enabled:Boolean,minColumnWidth:Number,minRowHeight:Number}});ye.DxTableResizing=fo;fo.$_optionName="tableResizing";var fi=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:container":null,"update:items":null,"update:multiline":null},props:{container:{},items:Array,multiline:Boolean}});ye.DxToolbar=fi;fi.$_optionName="toolbar";fi.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var hi=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});ye.DxToolbarItem=hi;hi.$_optionName="items";hi.$_isCollectionItem=!0;var ho=Ar.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:escapeChar":null},props:{dataSource:{},escapeChar:[Array,String]}});ye.DxVariables=ho;ho.$_optionName="variables";var ks=ye.default=uo;function po(){return{faqs:[]}}const Fs={faqs:e=>e.faqs},Ws={fetch({commit:e,dispatch:n,getters:r,state:i,rootGetters:t}){return new Promise((l,o)=>{axios.get("settings/faqs").then(u=>{e("setState",u.data),l()})})},save({commit:e,dispatch:n,getters:r,state:i,rootGetters:t},l){return new Promise((o,u)=>{axios.post("settings/faqs",{changes:l.changes}).then(p=>{o(),n("fetch")})})},resetState({commit:e}){e("resetState")}},$s={setState(e,n){e.faqs=n},resetState(e){e=Object.assign(e,po())}},Us={namespaced:!0,state:po,getters:Fs,actions:Ws,mutations:$s};const zs={components:{DxDataGrid:ta,DxColumn:ea,DxTextArea:Qo,DxHtmlEditor:ks,PickImagePopup:na},data(){return{gridData:null,validationRules:{topic:[{type:"required",message:this.$t("settings.faqs.topic")+this.$mt.validations.required}],question:[{type:"required",message:this.$t("settings.faqs.question")+this.$mt.validations.required}],answer:[{type:"required",message:this.$t("settings.faqs.answer")+this.$mt.validations.required}]}}},beforeCreate(){this.$store.registerModule("Settings.faqs",Us)},created(){this.fetch()},destroyed(){this.$store.unregisterModule("Settings.faqs")},computed:{...Yo("Settings.faqs",["faqs"]),dataGrid:function(){return this.$refs.dataGrid.instance}},watch:{faqs(){this.cloneDeepData()}},methods:{...Zo("Settings.faqs",["fetch","save","resetState"]),onSave(e){this.save(e)},cloneDeepData(){this.gridData=this.$mf.cloneDeep(this.faqs)},onUseHtmlChange(e){this.dataGrid.option("editing.form.items[2].editorOptions.value",e.value),this.dataGrid.option("editing.form.items[3].visible",!e.value),this.dataGrid.option("editing.form.items[4].visible",e.value)},onInitNewRow(e){this.dataGrid.option("editing.popup.title",this.$t("settings.faqs.popup.create"))},onEditingStart(e){const n=/<\/?[a-z][\s\S]*>/i.test(e.data.answer);this.onUseHtmlChange({value:n}),this.dataGrid.option("editing.popup.title",this.$t("settings.faqs.popup.edit"))},onShown(e){this.$mf.checkPinDataGrid(e,this);let n=e.component.option("toolbarItems");n.push({toolbar:"bottom",location:"before",widget:"dxButton",options:{icon:"image",text:this.$t("titles.chooseImage"),onClick:()=>this.$refs.pickImagePopup.show({clientPath:"faqs"})}}),e.component.option("toolbarItems",n),this.$mf.pushPopupToHistoryState(()=>this.dataGrid.cancelEditData())}}};var Ks=function(){var n=this,r=n._self._c;return r("div",{staticClass:"settings-page"},[r("h2",{staticClass:"content-block"},[n._v(" "+n._s(n.$t("settings.faqs.title"))+" ")]),r("div",{staticClass:"content-block dx-card responsive-paddings"},[r("div",[r("DxDataGrid",{ref:"dataGrid",attrs:{"data-source":n.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"popup",popup:{showTitle:!0,onShown:n.onShown,onHiding:n.$mf.popRouteHistoryState},form:{labelLocation:n.$devices.phone?"top":"left",items:[{dataField:"topic",colSpan:2},{dataField:"question",colSpan:2},{editorType:"dxCheckBox",colSpan:2,editorOptions:{value:!1,onValueChanged:n.onUseHtmlChange},label:{text:n.$t("settings.faqs.useHtml")}},{visible:!0,colSpan:2,dataField:"answer",editorType:"dxTextArea",editorOptions:{stylingMode:"filled",height:150}},{visible:!1,dataField:"answer",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{mediaResizing:{enabled:!0},toolbar:{items:["undo","redo","separator","bold","italic","strike","underline","separator","alignLeft","alignCenter","alignRight","alignJustify","separator","orderedList","bulletList","separator","color","background","separator","link","image","separator","clear","insertTable"]}}}]},startEditAction:"dblClick"}},on:{contentReady:function(i){return n.$mf.dataGridPreload(n.gridData,n.dataGrid)},"init-new-row":n.onInitNewRow,"editing-start":n.onEditingStart,saved:n.onSave},scopedSlots:n._u([{key:"commandCellTemplate",fn:function({data:i}){return[r("DxToolbar",{attrs:{items:[{visible:i.data.status!=4,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"edit",hint:n.$t("buttons.edit"),text:n.$t("buttons.edit"),onClick:()=>{n.dataGrid.editRow(i.rowIndex)}}},{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"trash",hint:n.$t("buttons.delete"),text:n.$t("buttons.delete"),onClick:()=>n.$bus.emit("checkPin",()=>n.dataGrid.deleteRow(i.rowIndex))}}]}})]}}])},[r("DxColumn",{attrs:{fixed:!0,width:n.$devices.phone?35:65,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:n.$t(`titles.commandHeaderTitle${n.$devices.phone?"Short":""}`)}}),r("DxColumn",{attrs:{"data-field":"topic","header-filter":{allowSearch:!0},caption:n.$t("settings.faqs.topic"),"validation-rules":n.validationRules.topic}}),r("DxColumn",{attrs:{"data-field":"question","header-filter":{allowSearch:!0},caption:n.$t("settings.faqs.question"),"validation-rules":n.validationRules.question}}),r("DxColumn",{attrs:{visible:!1,"data-field":"answer","header-filter":{allowSearch:!0},caption:n.$t("settings.faqs.answer"),"validation-rules":n.validationRules.answer}})],1),r("PickImagePopup",{ref:"pickImagePopup"})],1)])])},Vs=[],Gs=Jo(zs,Ks,Vs,!1,null,"f1d2c926",null,null);const tu=Gs.exports;export{tu as default};
