import{Y as mt,$ as ae,Z as X,a0 as ie,a1 as ht,a2 as ft,a3 as gt,L as vt,N as se,u as bt,r as C,a as yt,c as F,y as St,w as Ct,b as wt,e as z,d as g,g as re,D as W,E as R,G as M,t as xt,h as Dt,j as Lt,k as Z,S as Ft,m as Tt,o as Et,l as _t,V as Ot,x as Pt}from"./app-B89HFUtK.js";import It from"./LineContextMenu-qK9Z0Pkf.js";import{c as Bt}from"./lightweight-charts.esm.development-CeIklpfa.js";import{D as kt,f as At}from"./select-box-DIFmgALE.js";import{g as ue}from"./getUnixTime-BxUDYHSK.js";import{s as ce}from"./subYears-CqrqXxzk.js";import"./text-box-CFsZrb2V.js";var c={},$t="dx-autocomplete",Nt="dx-autocomplete-popup-wrapper",pe=mt.inherit({_supportedKeys:function(){var m=this._list?this._list.option("focusedElement"):null,S=this.callBase();return m=m&&ae(m),X({},S,{upArrow:function(u){return!ie(u)&&(u.preventDefault(),u.stopPropagation(),m&&!this._calcNextItem(-1))?(this._clearFocusedItem(),!1):!0},downArrow:function(u){return!ie(u)&&(u.preventDefault(),u.stopPropagation(),m&&!this._calcNextItem(1))?(this._clearFocusedItem(),!1):!0},enter:function(u){m||this.close();var h=this.option("opened");return h&&u.preventDefault(),h}})},_getDefaultOptions:function(){return X(this.callBase(),{minSearchLength:1,maxItemCount:10,noDataText:"",showDropDownButton:!1,searchEnabled:!0})},_initMarkup:function(){this.callBase(),this.$element().addClass($t),this.setAria("autocomplete","inline")},_displayGetterExpr:function(){return this.option("valueExpr")},_closeOutsideDropDownHandler:function(m){var{target:S}=m;return!ae(S).closest(this.$element()).length},_renderDimensions:function(){this.callBase(),this._updatePopupWidth(),this._updateListDimensions()},_popupWrapperClass:function(){return this.callBase()+" "+Nt},_listConfig:function(){return X(this.callBase(),{pageLoadMode:"none",onSelectionChanged:m=>{this._setSelectedItem(m.addedItems[0])}})},_listItemClickHandler:function(m){this._saveValueChangeEvent(m.event);var S=this._displayGetter(m.itemData);this.option("value",S),this.close()},_setListDataSource:function(){this._list&&(this._list.option("selectedItems",[]),this.callBase())},_refreshSelected:ht,_searchCanceled:function(){this.callBase(),this.close()},_loadItem:function(m,S){var u=this._getItemFromPlain(m,S);return new ft().resolve(u).promise()},_dataSourceOptions:function(){return{paginate:!0,pageSize:this.option("maxItemCount")}},_searchDataSource:function(m){this._dataSource.pageSize(this.option("maxItemCount")),this.callBase(m),this._clearFocusedItem()},_clearFocusedItem:function(){this._list&&(this._list.option("focusedElement",null),this._list.option("selectedIndex",-1))},_renderValueEventName:function(){return"input keyup"},_valueChangeEventHandler:function(m){var S=this._input().val()||null;return this.callBase(m,S)},_optionChanged:function(m){switch(m.name){case"maxItemCount":this._searchDataSource();break;case"valueExpr":this._compileDisplayGetter(),this._setListOption("displayExpr",this._displayGetterExpr()),this.callBase(m);break;default:this.callBase(m)}},reset:function(){this.callBase(),this.close()}});gt("dxAutocomplete",pe);const Rt=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"})),Mt=vt(Rt);/*!
 * devextreme-vue
 * Version: 22.2.12
 * Build date: Mon Apr 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var de;function Vt(){if(de)return c;de=1;var m=c&&c.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0}),c.DxToolbarItem=c.DxTo=c.DxShow=c.DxPosition=c.DxOptions=c.DxOffset=c.DxMy=c.DxItem=c.DxHide=c.DxFrom=c.DxDropDownOptions=c.DxCollision=c.DxButton=c.DxBoundaryOffset=c.DxAt=c.DxAnimation=c.DxAutocomplete=void 0;var S=m(Mt),u=se(),h=se(),b=u.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,buttons:Array,dataSource:{},deferRendering:Boolean,disabled:Boolean,displayValue:String,dropDownButtonTemplate:{},dropDownOptions:Object,elementAttr:Object,focusStateEnabled:Boolean,grouped:Boolean,groupTemplate:{},height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},isValid:Boolean,items:Array,itemTemplate:{},label:String,labelMode:String,maxItemCount:Number,maxLength:[Number,String],minSearchLength:Number,name:String,onChange:Function,onClosed:Function,onContentReady:Function,onCopy:Function,onCut:Function,onDisposing:Function,onEnterKey:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onInput:Function,onItemClick:Function,onKeyDown:Function,onKeyUp:Function,onOpened:Function,onOptionChanged:Function,onPaste:Function,onSelectionChanged:Function,onValueChanged:Function,opened:Boolean,openOnFieldClick:Boolean,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,searchExpr:[Array,Function,String],searchMode:String,searchTimeout:Number,selectedItem:{},showClearButton:Boolean,showDropDownButton:Boolean,spellcheck:Boolean,stylingMode:String,tabIndex:Number,text:String,useItemTextAsTitle:Boolean,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:String,valueChangeEvent:String,valueExpr:[Function,String],visible:Boolean,width:[Function,Number,String],wrapItemText:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:buttons":null,"update:dataSource":null,"update:deferRendering":null,"update:disabled":null,"update:displayValue":null,"update:dropDownButtonTemplate":null,"update:dropDownOptions":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:grouped":null,"update:groupTemplate":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:isValid":null,"update:items":null,"update:itemTemplate":null,"update:label":null,"update:labelMode":null,"update:maxItemCount":null,"update:maxLength":null,"update:minSearchLength":null,"update:name":null,"update:onChange":null,"update:onClosed":null,"update:onContentReady":null,"update:onCopy":null,"update:onCut":null,"update:onDisposing":null,"update:onEnterKey":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onInput":null,"update:onItemClick":null,"update:onKeyDown":null,"update:onKeyUp":null,"update:onOpened":null,"update:onOptionChanged":null,"update:onPaste":null,"update:onSelectionChanged":null,"update:onValueChanged":null,"update:opened":null,"update:openOnFieldClick":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:searchExpr":null,"update:searchMode":null,"update:searchTimeout":null,"update:selectedItem":null,"update:showClearButton":null,"update:showDropDownButton":null,"update:spellcheck":null,"update:stylingMode":null,"update:tabIndex":null,"update:text":null,"update:useItemTextAsTitle":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:valueChangeEvent":null,"update:valueExpr":null,"update:visible":null,"update:width":null,"update:wrapItemText":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=S.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={button:{isCollectionItem:!0,optionName:"buttons"},dropDownOptions:{isCollectionItem:!1,optionName:"dropDownOptions"},item:{isCollectionItem:!0,optionName:"items"}}}});c.DxAutocomplete=b;var k=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:hide":null,"update:show":null},props:{hide:[Object,Number,String],show:[Object,Number,String]}});c.DxAnimation=k,k.$_optionName="animation",k.$_expectedChildren={hide:{isCollectionItem:!1,optionName:"hide"},show:{isCollectionItem:!1,optionName:"show"}};var d=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});c.DxAt=d,d.$_optionName="at";var T=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});c.DxBoundaryOffset=T,T.$_optionName="boundaryOffset";var y=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:location":null,"update:name":null,"update:options":null},props:{location:String,name:String,options:Object}});c.DxButton=y,y.$_optionName="buttons",y.$_isCollectionItem=!0,y.$_expectedChildren={options:{isCollectionItem:!1,optionName:"options"}};var A=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});c.DxCollision=A,A.$_optionName="collision";var D=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:animation":null,"update:bindingOptions":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnOutsideClick":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,activeStateEnabled:Boolean,animation:Object,bindingOptions:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnOutsideClick:[Boolean,Function],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}}});c.DxDropDownOptions=D,D.$_optionName="dropDownOptions",D.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}};var $=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});c.DxFrom=$,$.$_optionName="from",$.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};var N=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});c.DxHide=N,N.$_optionName="hide",N.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};var x=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:template":null,"update:text":null,"update:visible":null},props:{disabled:Boolean,html:String,template:{},text:String,visible:Boolean}});c.DxItem=x,x.$_optionName="items",x.$_isCollectionItem=!0;var E=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});c.DxMy=E,E.$_optionName="my";var _=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});c.DxOffset=_,_.$_optionName="offset";var O=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:bindingOptions":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:icon":null,"update:onClick":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:template":null,"update:text":null,"update:type":null,"update:useSubmitBehavior":null,"update:validationGroup":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,bindingOptions:Object,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,icon:String,onClick:Function,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,template:{},text:String,type:String,useSubmitBehavior:Boolean,validationGroup:String,visible:Boolean,width:[Function,Number,String]}});c.DxOptions=O,O.$_optionName="options";var P=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:at":null,"update:boundary":null,"update:boundaryOffset":null,"update:collision":null,"update:my":null,"update:of":null,"update:offset":null},props:{at:[Object,String],boundary:{},boundaryOffset:[Object,String],collision:[Object,String],my:[Object,String],of:{},offset:[Object,String]}});c.DxPosition=P,P.$_optionName="position";var I=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});c.DxShow=I,I.$_optionName="show";var V=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});c.DxTo=V,V.$_optionName="to";var e=h.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:toolbar":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},options:{},showText:String,template:{},text:String,toolbar:String,visible:Boolean,widget:String}});return c.DxToolbarItem=e,e.$_optionName="toolbarItems",e.$_isCollectionItem=!0,c.default=b,c}var jt=Vt();const Kt={class:"share-page content-block dx-card responsive-paddings"},qt={class:"command symbol-input"},zt={class:"command timeframe-select"},Wt=["title"],Ht=["title"],Ut=["title"],Yt=["title"],Gt=["title"],Xt=["title"],Zt=["title"],Jt=["title"],Qt=["title"],eo=["title"],to=["title"],oo=["title"],no=["title"],lo=["title"],ao=["src"],ho={__name:"Index",setup(m){const S={localization:{dateFormat:"dd/MM/yyyy",locale:"vi-VN"},rightPriceScale:{visible:!0,scaleMargins:{top:.25,bottom:.35}},leftPriceScale:{visible:!1},layout:{backgroundColor:"#000000",textColor:"#CCCCCC"},grid:{vertLines:{color:"#1B1E27",style:2},horzLines:{color:"#1B1E27",style:2}},crosshair:{mode:0},timeScale:{timeVisible:!1,rightOffset:20,minBarSpacing:.01},watermark:{visible:!0,fontSize:50,horzAlign:"center",vertAlign:"center",color:"rgba(171, 71, 188, 0.2)"}},u=Dt(),h=Lt(),{t:b}=bt(),k=Z("devices"),d=Z("mf"),T=Z("bus"),y=C(null),A=C(null),D=C(null),$=C(null),N=C(null),x=C(null),E=C(null),_=C(null),O=C(null),P=C(null),I=C(null),V=C(null);let e={chart:{},series:{},data:{ohlc:[],price:[],cash:[],foreign:[],active:[]},tools:{lines:[],target:{A:{},B:{},X:{},Y:{},Z:{}},uplps:{P1:{},P2:{},C1:{},C2:{}},downlps:{P1:{},P2:{},C1:{},C2:{}},rr:{EP:{},SL:{},TP:{}},range:[]},crosshair:{},isCashDraw:!1,isOnlyLoadData:!1,showNewsInfo:!1};const n=yt({symbol:h.query.symbol??"VNINDEX",inputSymbol:h.query.symbol??"VNINDEX",timeframe:"D",symbolKind:null,chartShift:0,symbolKinds:[{text:b("trading.share.symbolList.vn100"),value:"vn100"},{text:b("trading.share.symbolList.filterTop"),value:"f_top"},{text:b("trading.share.symbolList.filterBottom"),value:"f_bottom"},{text:b("trading.share.symbolList.watch"),value:"watch"},{text:b("trading.share.symbolList.hold"),value:"hold"},{text:b("trading.share.symbolList.nh"),value:"nh"},{text:b("trading.share.symbolList.ck"),value:"ck"},{text:b("trading.share.symbolList.index"),value:"index"}],filterItems:[{text:b("trading.share.symbolList.filterTop"),value:"f_top"},{text:b("trading.share.symbolList.filterBottom"),value:"f_bottom"}],lineTitle:"",lineColor:"#F44336",showLineContextMenu:!1,isFullscreen:!1,showTradingView:!1,isSymbolFocus:!1});n.symbolKind=h.query.list??"vn100";const me=F(()=>`https://chart.vps.com.vn/tv/?symbol=${n.symbol}`),J=F(()=>{const t=n.chartShift+(n.timeframe==="M"?7:n.timeframe==="W"?5:3);return h.query.from??ue(ce(new Date,t))}),Q=F(()=>h.query.to??ue(ce(new Date,n.chartShift))),he=F(()=>n.symbolKind.includes("f_")&&d.isSet(u.state.tradingShare.symbols[n.symbolKind])&&u.state.tradingShare.symbols[n.symbolKind].includes(" "+n.symbol)),fe=F(()=>!!n.symbol&&!!n.symbol.trim()&&!n.symbol.includes("^")),ee=F(()=>d.isSet(u.state.tradingShare.symbols.watch)&&u.state.tradingShare.symbols.watch.includes(" "+n.symbol)),ge=F(()=>u.state.tradingShare.symbols[n.symbolKind]);u.dispatch("tradingShare/getSymbols"),St(()=>{e.chart=Bt(A.value,S),e.chart.subscribeCrosshairMove(be),e.chart.subscribeCustomPriceLineDragged(ye),e.series.range=e.chart.addHistogramSeries({priceScaleId:"range",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1}),e.series.events=e.chart.addHistogramSeries({priceScaleId:"events",scaleMargins:{top:.98,bottom:0},lastValueVisible:!1,priceLineVisible:!1}),e.series.signal=e.chart.addHistogramSeries({priceScaleId:"signal",scaleMargins:{top:.66,bottom:.33},lastValueVisible:!1,priceLineVisible:!1}),e.series.gap=e.chart.addHistogramSeries({priceScaleId:"gap",scaleMargins:{top:.67,bottom:.32},lastValueVisible:!1,priceLineVisible:!1}),e.series.vnindex=e.chart.addLineSeries({priceScaleId:"vnindex",scaleMargins:{top:.05,bottom:.76},color:"aqua",priceFormat:{minMove:.01},lastValueVisible:!1}),e.series.active=e.chart.addLineSeries({priceScaleId:"active",scaleMargins:{top:.69,bottom:.03},color:"purple",priceFormat:{type:"volume",minMove:1},lastValueVisible:!1}),e.series.foreign=e.chart.addLineSeries({priceScaleId:"foreign",scaleMargins:{top:.69,bottom:.03},color:"yellow",priceFormat:{type:"volume",minMove:1},lastValueVisible:!1}),e.series.cash=e.chart.addLineSeries({priceScaleId:"cash",scaleMargins:{top:.69,bottom:.03},color:"blue",priceFormat:{type:"volume",minMove:1},lastValueVisible:!1}),e.series.ohlc=e.chart.addCandlestickSeries({upColor:"#42946C",downColor:"#BC3E4A",borderVisible:!1,wickUpColor:"#42946C",wickDownColor:"#BC3E4A",priceFormat:{minMove:.01}}),e.series.price=e.chart.addLineSeries({color:"#CCCCCC",priceFormat:{minMove:.01},lastValueVisible:!1,priceLineVisible:!1}),new ResizeObserver(Se).observe(y.value),document.addEventListener("keydown",Ce),document.addEventListener("fullscreenchange",we),lt()}),Ct(()=>u.state.tradingShare.chart,()=>{e.isOnlyLoadData||(Le(),Te()),Ee()});function j(t){t.preventDefault(),t.stopPropagation()}function ve(t){n.showLineContextMenu=!1,x.value.classList.contains("selected")?Ie():E.value.classList.contains("selected")?Ae():_.value.classList.contains("selected")?Re():O.value.classList.contains("selected")?Ke():P.value.classList.contains("selected")?Ye():I.value.classList.contains("selected")?Ze():tt(),j(t)}function be(t){if(t.time){let l=t.seriesPrices.get(e.series.price);e.crosshair.time=t.time,e.crosshair.price=l}else k.phone||(e.crosshair.time=null,e.crosshair.price=null);t.point!=null&&(e.crosshair.x=t.point.x,e.crosshair.y=t.point.y)}function ye(t){let l=t.customPriceLine,o=l.options();o.price=G(o.price);const a=+t.fromPriceString;switch(+o.price,o.lineType){case"line":u.dispatch("tradingShare/drawTools",{isRemove:!1,symbol:n.symbol,name:o.lineType,points:[a],data:[o]}),x.value.classList.remove("selected");break;case"target":if(d.isSet(e.tools.target.B)){let s={isRemove:!1,symbol:n.symbol,name:"target",points:[],data:[]},i;const r=+e.tools.target.A.options().price,v=+e.tools.target.B.options().price-r;o.point=="A"&&(i="A",s.points.push(i),s.data.push(e.tools.target[i].options())),i="B",e.tools.target[i].applyOptions({title:(100*v/r).toFixed(1)+"%"}),s.points.push(i),s.data.push(e.tools.target[i].options()),i="X",e.tools.target[i].applyOptions({price:parseFloat((r-.5*v).toFixed(2)),title:(100*-.5*v/r).toFixed(1)+"%"}),s.points.push(i),s.data.push(e.tools.target[i].options()),i="Y",e.tools.target[i].applyOptions({price:parseFloat((r-v).toFixed(2)),title:(100*-v/r).toFixed(1)+"%"}),s.points.push(i),s.data.push(e.tools.target[i].options()),i="Z",e.tools.target[i].applyOptions({price:parseFloat((r-2*v).toFixed(2)),title:(100*-2*v/r).toFixed(1)+"%"}),s.points.push(i),s.data.push(e.tools.target[i].options()),u.dispatch("tradingShare/drawTools",s)}break;case"rr":if(d.isSet(e.tools.rr.TP)){let s={isRemove:!1,symbol:n.symbol,name:"rr",points:[],data:[]},i;const r=+e.tools.rr.EP.options().price,p=+e.tools.rr.SL.options().price,v=+e.tools.rr.TP.options().price,w=p-r,f=v-r;if(f/w>0)return l.applyOptions({price:a}),!1;const L=Math.abs(f)/Math.abs(w),dt=w/r*100,pt=f/r*100;i="EP",e.tools.rr[i].applyOptions({title:`RR=${L.toFixed(1)}`}),s.points.push(i),s.data.push(e.tools.rr[i].options()),i="SL",e.tools.rr[i].applyOptions({title:`SL=${dt.toFixed(1)}%`}),s.points.push(i),s.data.push(e.tools.rr[i].options()),i="TP",e.tools.rr[i].applyOptions({title:`TP=${pt.toFixed(1)}%`}),s.points.push(i),s.data.push(e.tools.rr[i].options()),u.dispatch("tradingShare/drawTools",s)}break}}function Se(){y.value&&(e.chart.resize(y.value.offsetWidth,y.value.offsetHeight),y.value.classList.contains("fullscreen")&&(document.querySelector(".dx-drawer-panel-content").style.visibility="hidden",document.querySelector(".header-component").style.visibility="hidden",document.querySelector(".sc-launcher").style.visibility="hidden",document.querySelector(".dx-drawer-content").style.transform="unset"))}function Ce(t){if(t.ctrlKey||t.metaKey)switch(t.keyCode){case 96:le();break;case 110:te();break}else n.isSymbolFocus||n.showLineContextMenu||t.keyCode>=65&&t.keyCode<=90&&(n.inputSymbol="",D.value.instance.focus())}function we(){y.value&&(document.fullscreenElement?(n.isFullscreen=!0,y.value.classList.add("fullscreen"),document.querySelector(".dx-drawer-panel-content").style.visibility="hidden",document.querySelector(".header-component").style.visibility="hidden",document.querySelector(".sc-launcher").style.visibility="hidden",document.querySelector(".dx-drawer-content").style.transform="unset"):(n.isFullscreen=!1,y.value.classList.remove("fullscreen"),document.querySelector(".dx-drawer-panel-content").style.visibility="unset",document.querySelector(".header-component").style.visibility="unset",document.querySelector(".sc-launcher").style.visibility="unset",document.querySelector(".dx-drawer-content").style.transform="translate(0px, 0px)"))}function xe(){Ft(`${b("trading.share.removeFilterList")}?`,b("titles.confirm")).then(t=>{if(t){const l=u.state.tradingShare.symbols[n.symbolKind];let o=l.findIndex(i=>i.trim()==n.symbol);o=o==l.length-1?0:o+1;const a=l[o].trim(),s={symbol:n.symbol,name:n.symbolKind};u.dispatch("tradingShare/removeFilterList",s).then(()=>{n.inputSymbol=a,n.symbol=a,B(!0)})}})}function te(){if(!n.symbol)return!1;const t={symbol:n.symbol,add:!ee.value};u.dispatch("tradingShare/addWatchlist",t)}function De(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}function Le(){oe(!1),H(!1),K(!1),K(!1,!0),q(!1),q(!1,!0),U(!1),Fe()}function Fe(){const t=u.state.tradingShare.chart.tools;for(const[l,o]of Object.entries(t))switch(l){case"line":Object.values(o).forEach(a=>e.tools.lines.push(e.series.price.createPriceLine(a)));break;case"target":Object.entries(o).forEach(([a,s])=>e.tools.target[a]=e.series.price.createPriceLine(s));break;case"rr":Object.entries(o).forEach(([a,s])=>e.tools.rr[a]=e.series.price.createPriceLine(s));break;default:l.includes("uplps")?Object.entries(o).forEach(([a,s])=>e.tools.uplps[a]=e.series[a.includes("P")?"price":"cash"].createPriceLine(s)):l.includes("downlps")&&Object.entries(o).forEach(([a,s])=>e.tools.downlps[a]=e.series[a.includes("P")?"price":"cash"].createPriceLine(s));break}}function Te(){e.series.events.setData(u.state.tradingShare.chart.events)}function Ee(){e.data=u.state.tradingShare.chart.data,e.series.ohlc.setData(e.data.ohlc),e.series.price.setData(e.data.price),e.series.cash.setData(e.data.cash),e.series.foreign.setData(e.data.foreign),e.series.active.setData(e.data.active),e.series.signal.setData(e.data.signal),e.series.gap.setData(e.data.gap),e.chart.applyOptions({watermark:{text:n.symbol}})}function _e(t){n.showTradingView=!n.showTradingView}function Oe(t){n.showLineContextMenu=!1;const l=t.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(o=>o.classList.remove("selected")),l||t.target.classList.add("selected")}function Pe(t){n.showLineContextMenu=!n.showLineContextMenu}function Ie(t=null,l=!1,o=!1){const a="line";t||(t=G(Y(e.crosshair.y)));const s=e.tools.lines.length;if(e.tools.lines=e.tools.lines.filter(i=>{const r=i.options(),p=r.type=t==+r.price;return p&&(e.series.price.removePriceLine(i),u.dispatch("tradingShare/drawTools",{isRemove:!0,symbol:n.symbol,name:a,point:t})),!p}),e.tools.lines.length==s&&!o||l){const i={lineType:a,price:t,color:n.lineColor,title:n.lineTitle,lineWidth:1,lineStyle:1,draggable:!0};e.tools.lines.push(e.series.price.createPriceLine(i)),u.dispatch("tradingShare/drawTools",{isRemove:!1,symbol:n.symbol,name:a,points:[t],data:[i]})}x.value.classList.remove("selected")}function oe(t=!0){e.tools.lines.length>0&&(e.tools.lines.forEach(l=>e.series.price.removePriceLine(l)),e.tools.lines=[],t&&u.dispatch("tradingShare/drawTools",{isRemove:!0,symbol:n.symbol,name:"line",point:null}))}function Be(t){n.showLineContextMenu=!1;const l=t.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(o=>o.classList.remove("selected")),l||(t.target.classList.add("selected"),H())}function ke(t){H(),t.target.classList.remove("selected")}function Ae(){const t="target",l=Y(e.crosshair.y);let o={lineType:t,price:l,lineWidth:1,lineStyle:1,draggable:!0},a={isRemove:!1,symbol:n.symbol,name:t,points:[],data:[]};if(d.isSet(e.tools.target.A)){const s=+e.tools.target.A.options().price,i=l-s;o.point="B",o.title=(100*i/s).toFixed(1)+"%",o.color="#FF9800",e.tools.target[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o)),o.point="X",o.price=parseFloat((s-.5*i).toFixed(2)),o.title=(100*-.5*i/s).toFixed(1)+"%",o.color="#2196F3",e.tools.target[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o)),o.point="Y",o.price=parseFloat((s-i).toFixed(2)),o.title=(100*-i/s).toFixed(1)+"%",o.color="#673AB7",e.tools.target[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o)),o.point="Z",o.price=parseFloat((s-2*i).toFixed(2)),o.title=(100*-2*i/s).toFixed(1)+"%",o.color="#673AB7",e.tools.target[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o)),E.value.classList.remove("selected")}else o.point="A",o.title="0",o.color="#FF9800",e.tools.target[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o));u.dispatch("tradingShare/drawTools",a)}function H(t=!0){d.isSet(e.tools.target.A)&&(e.series.price.removePriceLine(e.tools.target.A),d.isSet(e.tools.target.B)&&(e.series.price.removePriceLine(e.tools.target.B),e.series.price.removePriceLine(e.tools.target.X),e.series.price.removePriceLine(e.tools.target.Y),e.series.price.removePriceLine(e.tools.target.Z)),e.tools.target={A:{},B:{},X:{},Y:{},Z:{}}),t&&u.dispatch("tradingShare/drawTools",{isRemove:!0,symbol:n.symbol,name:"target"})}function $e(t){n.showLineContextMenu=!1;const l=t.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(o=>o.classList.remove("selected")),l||t.target.classList.add("selected")}function Ne(t){K(),t.target.classList.remove("selected")}function Re(){let t,l;const o=e.isCashDraw?"cash":"price",a=e.isCashDraw?"C":"P";d.isSet(e.tools.uplps[`${a}1`])?(t=+e.tools.uplps[`${a}1`].options().startTime,l=e.crosshair.time,K(!1)):t=e.crosshair.time;const{value1:s,value2:i}=Me(t,l);let r={lineWidth:1,lineStyle:1,color:"#009688",draggable:!1},p={isRemove:!1,symbol:n.symbol,name:`${o}uplps`,points:[],data:[]};r.startTime=t,r.price=s,r.title=`${a}1`,e.tools.uplps[r.title]=e.series[o].createPriceLine(r),p.points.push(r.title),p.data.push(d.cloneDeep(r)),r.price=i,r.title=`${a}2`,e.tools.uplps[r.title]=e.series[o].createPriceLine(r),p.points.push(r.title),p.data.push(d.cloneDeep(r)),u.dispatch("tradingShare/drawTools",p),_.value.classList.remove("selected")}function Me(t,l){let o,a,s,i=0,r=0;const p=e.data[e.isCashDraw?"cash":"price"];for(let v=0;v<p.length;v++){const w=p[v].time;if(w<t)continue;if(l&&w>l)break;const f=p[v].value;if(o==null&&(o=f,a=f,s=f),f>s)i>r&&(a=s,r=i),s=f,i=0;else if(f<s){const L=parseFloat((s-f).toFixed(2));L>i&&(i=L)}if(f<o&&r>0)break}return{value1:parseFloat((a-r).toFixed(2)),value2:parseFloat((s-r).toFixed(2))}}function K(t=!0,l=!1){const o=e.isCashDraw||l,a=o?"cash":"price",s=o?"C":"P",i=`${s}1`,r=`${s}2`;d.isSet(e.tools.uplps[i])&&(e.series[a].removePriceLine(e.tools.uplps[i]),e.series[a].removePriceLine(e.tools.uplps[r])),e.tools.uplps[i]={},e.tools.uplps[r]={},t&&u.dispatch("tradingShare/drawTools",{isRemove:!0,symbol:n.symbol,name:`${a}uplps`})}function Ve(t){n.showLineContextMenu=!1;const l=t.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(o=>o.classList.remove("selected")),l||t.target.classList.add("selected")}function je(t){q(),t.target.classList.remove("selected")}function Ke(){let t,l;const o=e.isCashDraw?"cash":"price",a=e.isCashDraw?"C":"P";d.isSet(e.tools.downlps[`${a}1`])?(t=+e.tools.downlps[`${a}1`].options().startTime,l=e.crosshair.time,q()):t=e.crosshair.time;const{value1:s,value2:i}=qe(t,l);let r={lineWidth:1,lineStyle:1,color:"#E91E63",draggable:!1},p={isRemove:!1,symbol:n.symbol,name:`${o}downlps`,points:[],data:[]};r.startTime=t,r.price=s,r.title=`${a}1`,e.tools.downlps[r.title]=e.series[o].createPriceLine(r),p.points.push(r.title),p.data.push(d.cloneDeep(r)),r.price=i,r.title=`${a}2`,e.tools.downlps[r.title]=e.series[o].createPriceLine(r),p.points.push(r.title),p.data.push(d.cloneDeep(r)),u.dispatch("tradingShare/drawTools",p),O.value.classList.remove("selected")}function qe(t,l){let o,a,s,i=0,r=0;const p=e.data[e.isCashDraw?"cash":"price"];for(let v=0;v<p.length;v++){const w=p[v].time;if(w<t)continue;if(l&&w>l)break;const f=p[v].value;if(o==null&&(o=f,a=f,s=f),f<s)i<r&&(a=s,r=i),s=f,i=0;else if(f>s){const L=parseFloat((s-f).toFixed(2));L<i&&(i=L)}if(f>o&&r<0)break}return{value1:parseFloat((a-r).toFixed(2)),value2:parseFloat((s-r).toFixed(2))}}function q(t=!0,l=!1){const o=e.isCashDraw||l,a=o?"cash":"price",s=o?"C":"P",i=`${s}1`,r=`${s}2`;d.isSet(e.tools.downlps[i])&&(e.series[a].removePriceLine(e.tools.downlps[i]),e.series[a].removePriceLine(e.tools.downlps[r])),e.tools.downlps[i]={},e.tools.downlps[r]={},t&&u.dispatch("tradingShare/drawTools",{isRemove:!0,symbol:n.symbol,name:`${a}downlps`})}function ze(t){t.target.classList.contains("selected")?(t.target.classList.remove("selected"),e.isCashDraw=!1):(t.target.classList.add("selected"),e.isCashDraw=!0)}function We(t){e.isCashDraw=!1,t.target.classList.remove("selected")}function He(t){n.showLineContextMenu=!1;const l=t.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(o=>o.classList.remove("selected")),l||(t.target.classList.add("selected"),U())}function Ue(t){U(),t.target.classList.remove("selected")}function Ye(){const t="rr",l=Y(e.crosshair.y);let o={lineType:t,price:l,lineWidth:1,lineStyle:1,draggable:!0},a={isRemove:!1,symbol:n.symbol,name:t,points:[],data:[]};if(d.isSet(e.tools.rr.EP)){const s=+e.tools.rr.EP.options().price;if(d.isSet(e.tools.rr.SL)){const r=+e.tools.rr.SL.options().price-s,p=l-s;if(p/r>0)return!1;const v=p/s*100;o.point="TP",o.title=`TP=${v.toFixed(1)}%`,o.color="lime",e.tools.rr[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o));const w=Math.abs(p)/Math.abs(r),f="EP";e.tools.rr[f].applyOptions({title:`RR=${w.toFixed(1)}`}),a.points.push(f),a.data.push(e.tools.rr[f].options()),P.value.classList.remove("selected")}else{const i=(l-s)/s*100;o.point="SL",o.title=`SL=${i.toFixed(1)}%`,o.color="red",e.tools.rr[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o))}}else o.point="EP",o.title="RR=",o.color="yellow",e.tools.rr[o.point]=e.series.price.createPriceLine(o),a.points.push(o.point),a.data.push(d.cloneDeep(o));u.dispatch("tradingShare/drawTools",a)}function U(t=!0){d.isSet(e.tools.rr.EP)&&(e.series.price.removePriceLine(e.tools.rr.EP),d.isSet(e.tools.rr.SL)&&(e.series.price.removePriceLine(e.tools.rr.SL),d.isSet(e.tools.rr.TP)&&e.series.price.removePriceLine(e.tools.rr.TP))),e.tools.rr={EP:{},SL:{},TP:{}},t&&u.dispatch("tradingShare/drawTools",{isRemove:!0,symbol:n.symbol,name:"rr"})}function Ge(t){n.showLineContextMenu=!1;const l=t.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(o=>o.classList.remove("selected")),l||t.target.classList.add("selected")}function Xe(t){Je(),t.target.classList.remove("selected")}function Ze(){let t={isRemove:!1,symbol:"ALL",name:"range",points:[],data:[]},l={time:e.crosshair.time,value:1};e.tools.range.length>0?(l.color="red",e.tools.range[1]=l,t.points.push(1),I.value.classList.remove("selected")):(l.color="aqua",e.tools.range[0]=l,t.points.push(0)),e.series.range.setData(e.tools.range),t.data.push(l),u.dispatch("tradingShare/drawTools",t)}function Je(){e.tools.range=[],e.series.range.setData([]),u.dispatch("tradingShare/drawTools",{isRemove:!0,symbol:"ALL",name:"range"})}function Qe(t){t.target.classList.contains("selected")?(t.target.classList.remove("selected"),e.showNewsInfo=!1):(t.target.classList.add("selected"),e.showNewsInfo=!0)}function et(t){e.showNewsInfo=!1,t.target.classList.remove("selected")}function tt(){if(e.showNewsInfo){const t=u.state.tradingShare.chart.events.find(l=>l.time==e.crosshair.time);if(d.isSet(t)){const l=t.title.split("|");let o=`
                <div>${b("trading.share.date")} ${_t(At(t.time),"dd/MM/yyyy")}:</div>
                <div>&nbsp;</div>
                `;l.forEach(a=>{o+=`<div>${a}</div>`}),Ot(o,b("trading.share.event"))}}}function Y(t,l="price"){return G(e.series[l].coordinateToPrice(t))}function G(t){return t?parseFloat(+t.toFixed(2)):0}function ne(){if(!n.inputSymbol||!n.inputSymbol.trim()||(n.inputSymbol=n.inputSymbol.trim().toUpperCase(),n.symbol==n.inputSymbol))return!1;n.symbol=n.inputSymbol,D.value.instance.blur(),B()}function ot(){B(!0,!0)}function nt(){B(!0)}function lt(){u.dispatch("tradingShare/initChart",{symbol:n.symbol,from:J.value,to:Q.value,timeframe:n.timeframe,vnindex:!0}).then(t=>{e.series.vnindex.setData(t.chart.vnindex),e.tools.range=t.range,e.series.range.setData(t.range)})}function B(t=!1,l=!1){e.isOnlyLoadData=t,u.dispatch("tradingShare/getChartData",{symbol:n.symbol,from:J.value,to:Q.value,timeframe:n.timeframe,window:e.tools.range.map(o=>o.time),vnindex:l}).then(o=>{l&&e.series.vnindex.setData(o)})}function le(){const t=u.state.tradingShare.symbols[n.symbolKind];let l=t.findIndex(o=>o.trim()==n.symbol);l=l==t.length-1?0:l+1,n.inputSymbol=t[l],n.symbol=n.inputSymbol.trim(),B()}function at(t){n.symbolKind=t.value}function it(t){n.chartShift=t.value,B(!1,!0)}function st(){T.emit("checkPin",()=>u.dispatch("tradingShare/cloneSymbols"))}function rt(){T.emit("checkPin",()=>u.dispatch("tradingShare/deleteWatchlist"))}function ut(t){e.tools.range.length==2?T.emit("checkPin",()=>{const l={from:e.tools.range[0].time,to:e.tools.range[1].time,timeframe:n.timeframe,name:n.symbolKind,kind:t};u.dispatch("tradingShare/filterSymbols",l)}):Pt.error(b("trading.share.rangeWarning"))}function ct({itemData:t}){ut(t.value)}return(t,l)=>{const o=Tt("DxToolbar");return Et(),wt("div",Kt,[z(o,{items:[{visible:t.$mf.isSet(t.$route.query),location:"before",widget:"dxButton",options:{icon:"far fa-arrow-left small",hint:t.$t("buttons.back"),onClick:()=>t.$router.go(-1)}},{location:"before",widget:"dxSelectBox",options:{width:"110px",showDropDownButton:!1,dataSource:n.symbolKinds,valueExpr:"value",displayExpr:"text",value:n.symbolKind,hint:t.$t("trading.share.symbolKind"),onValueChanged:at}},{location:"before",widget:"dxSelectBox",options:{width:"30px",showDropDownButton:!1,dataSource:[0,1,2,3,4,5],value:n.chartShift,dropDownOptions:{wrapperAttr:{class:"share-min-select-dropdown"}},hint:t.$t("trading.share.chartShift"),onValueChanged:it}},{location:"after",widget:"dxButton",options:{icon:"far fa-list small",hint:t.$t("trading.share.cloneSymbols"),onClick:st}},{location:"after",widget:"dxButton",options:{icon:"far fa-folder-times small",hint:t.$t("trading.share.deleteWatchList"),onClick:rt}},{location:"after",widget:"dxDropDownButton",options:{showArrowIcon:!1,items:n.filterItems,displayExpr:"text",keyExpr:"value",icon:"far fa-filter small",hint:t.$t("trading.share.filterSymbols"),dropDownOptions:{width:"130px"},onItemClick:ct}}]},null,8,["items"]),g("div",{class:"share-container",ref_key:"chartContainerRef",ref:y,onClick:ve,onContextmenu:j},[g("div",{class:"chart-wrapper",ref_key:"chartRef",ref:A},[g("div",{class:"area data-area",onClick:j},[g("div",qt,[z(re(jt.DxAutocomplete),{ref_key:"symbolAutocompleteRef",ref:D,"data-source":ge.value,"show-clear-button":!0,maxItemCount:100,modelValue:n.inputSymbol,"onUpdate:modelValue":l[0]||(l[0]=a=>n.inputSymbol=a),onChange:ne,onItemClick:ne,onFocusIn:l[1]||(l[1]=()=>n.isSymbolFocus=!0),onFocusOut:l[2]||(l[2]=()=>n.isSymbolFocus=!1)},null,8,["data-source","modelValue"])]),g("div",zt,[z(re(kt),{"data-source":["D","W","M"],showDropDownButton:!1,dropDownOptions:{wrapperAttr:{class:"share-min-select-dropdown"}},modelValue:n.timeframe,"onUpdate:modelValue":l[3]||(l[3]=a=>n.timeframe=a),onValueChanged:ot},null,8,["modelValue"])]),g("div",{class:"command",title:t.$t("trading.share.reload"),onClick:nt,onContextmenu:le},[g("i",{class:W(`far fa-sync-alt ${t.$store.state.tradingShare.isChartLoading?"fa-spin":""}`)},null,2)],40,Wt),R(g("div",{class:W("command far fa-times"),title:t.$t("trading.share.removeFilterList"),onClick:xe},null,8,Ht),[[M,he.value]]),R(g("div",{ref:"addWatchlistToolRef",class:W(`command far fa-${ee.value?"minus-circle":"plus-circle"}`),title:t.$t("trading.share.addWatchlist"),onClick:te},null,10,Ut),[[M,fe.value]]),R(g("div",{class:"command",title:t.$t("trading.share.foreignRSI")},xt(t.$store.state.tradingShare.chart.foreignRSI),9,Yt),[[M,!!t.$store.state.tradingShare.chart.foreignRSI]])]),g("div",{class:"area tool-area",onClick:j},[g("div",{ref_key:"fullscreenToolRef",ref:$,class:W(`command far fa-${n.isFullscreen?"compress":"expand"}`),title:t.$t("trading.share.fullscreen"),onClick:De},null,10,Gt),g("div",{ref_key:"tradingviewRef",ref:N,class:"command far fa-chart-bar",title:t.$t("trading.share.tradingview"),onClick:_e},null,8,Xt),g("div",{ref_key:"lineToolRef",ref:x,class:"line command far fa-horizontal-rule",title:t.$t("trading.share.tools.line"),onClick:Oe,onContextmenu:Pe},[R(z(It,{class:"line-contextmenu",enable:n.showLineContextMenu,title:n.lineTitle,"onUpdate:title":l[4]||(l[4]=a=>n.lineTitle=a),color:n.lineColor,"onUpdate:color":l[5]||(l[5]=a=>n.lineColor=a),onDeleteAllLine:oe},null,8,["enable","title","color"]),[[M,n.showLineContextMenu]])],40,Zt),g("div",{ref_key:"uplpsToolRef",ref:_,class:"command far fa-arrow-up",title:t.$t("trading.share.tools.uplps"),onClick:$e,onContextmenu:Ne},null,40,Jt),g("div",{ref:"cashToolRef",class:"command drawless far fa-dot-circle",title:t.$t("trading.share.tools.cash"),onClick:ze,onContextmenu:We},null,40,Qt),g("div",{ref_key:"downlpsToolRef",ref:O,class:"command far fa-arrow-down",title:t.$t("trading.share.tools.downlps"),onClick:Ve,onContextmenu:je},null,40,eo),g("div",{ref_key:"targetToolRef",ref:E,class:"command far fa-flag-checkered",title:t.$t("trading.share.tools.target"),onClick:Be,onContextmenu:ke},null,40,to),g("div",{ref_key:"rrToolRef",ref:P,class:"command far fa-line-height",title:t.$t("trading.share.tools.rr"),onClick:He,onContextmenu:Ue},null,40,oo),g("div",{ref_key:"rangeToolRef",ref:I,class:"command far fa-grip-lines-vertical",title:t.$t("trading.share.tools.range"),onClick:Ge,onContextmenu:Xe},null,40,no),g("div",{ref:"eventsToolRef",class:"command drawless far fa-map-marker-exclamation",title:t.$t("trading.share.tools.events"),onClick:Qe,onContextmenu:et},null,40,lo)]),R(g("iframe",{ref_key:"tradingviewChartRef",ref:V,class:"tradingview-chart",src:me.value},null,8,ao),[[M,n.showTradingView]])],512)],544)])}}};export{ho as default};
