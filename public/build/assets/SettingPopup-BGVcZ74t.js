import{u as _,r as p,c as x,a as y,w as R,p as B,f as c,_ as S,h as k,k as $,o as I,d as m,e as s,g as n,O as v,Q as P,v as q}from"./app-DRe7utzh.js";const N={ref:"submitRef",class:"display-none"},E={__name:"SettingPopup",setup(F,{expose:D}){const l=k(),{t:u}=_(),r=$("mt"),a=p(null),f=p(null),o=x(()=>l.state.tradingDerivative.config),e=y({formData:{},validationRules:{tpDefault:[{type:"required",message:u("trading.derivative.settingPopup.tpDefault")+r.validations.required}],slDefault:[{type:"required",message:u("trading.derivative.settingPopup.slDefault")+r.validations.required}]}});R(o,i);function g(){a.value.show()}function b(){l.dispatch("tradingDerivative/setting",e.formData).then(t=>{t?a.value.hide():(i(o.value),d())})}function i(t){e.formData={tpDefault:t.tpDefault,slDefault:t.slDefault}}function d(){setTimeout(()=>{f.value.instance.getEditor("tpDefault").focus()},0)}function h(){i(o.value),d()}function w(){}return D({show:g}),(t,M)=>(I(),B(S,{ref_key:"popupRef",ref:a,width:250,height:260,class:"der-setting-popup",title:t.$t("trading.derivative.buttons.setting"),toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:t.$t("buttons.save"),onClick:()=>t.$refs.submitRef.click()}}],onShown:h,onHidden:w},{default:c(()=>[m("form",{onSubmit:q(b,["prevent"])},[m("button",N,null,512),s(n(P),{ref_key:"formRef",ref:f,labelLocation:"left","form-data":e.formData},{default:c(()=>[s(n(v.DxItem),{name:"tpDefault","data-field":"tpDefault","editor-type":"dxNumberBox","editor-options":{stylingMode:"outlined",showSpinButtons:!0},"validation-rules":e.validationRules.tpDefault,label:{text:t.$t("trading.derivative.settingPopup.tpDefault")}},null,8,["validation-rules","label"]),s(n(v.DxItem),{name:"slDefault","data-field":"slDefault","editor-type":"dxNumberBox","editor-options":{stylingMode:"outlined",showSpinButtons:!0},"validation-rules":e.validationRules.slDefault,label:{text:t.$t("trading.derivative.settingPopup.slDefault")}},null,8,["validation-rules","label"])]),_:1},8,["form-data"])],32)]),_:1},8,["title","toolbarItems"]))}};export{E as default};
