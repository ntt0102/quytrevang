import{M as Gn,bM as ta,bt as ii,a8 as Zr,a2 as ye,bC as Ji,U as le,bp as Tn,aN as ln,ax as er,ay as Ut,au as Lr,aO as Mr,bN as wn,bO as sn,bP as hn,bk as Sr,O as un,aZ as Qt,aj as ue,aY as qn,bQ as Xn,X as oi,V as Ce,b9 as ai,bR as ea,b7 as ra,ai as to,bS as na,bT as Ln,bU as eo,bV as ia,aC as Jr,bW as oa,bo as ge,aD as Pn,aW as Ae,bX as aa,aa as li,bY as Nn,bZ as la,b_ as sa,b$ as ro,bv as Qn,c0 as dn,br as ua,c1 as ca,aK as xi,at as no,c2 as fa,bi as Yn,c3 as wi,c4 as ha,be as da,ad as io,c5 as pa,c6 as Pi,c7 as va,bh as ma,a9 as ya,c8 as ga,c9 as ba,ca as _a,W as Oa,aX as Ea,cb as Sn,K as Ca,N as oo,u as Ta,c as Sa,i as Hn,r as Ni,d as Aa,w as Ra,z as Ia,f as xa,g as wa,h as Pa,j as Qr,k as Li,l as cn,o as Na,D as An,m as La}from"./app-045a6c7e.js";import{F as ao}from"./FileManager-6b582287.js";import{_ as Ma}from"./PickImagePopup-d0a01ff7.js";var he={},lo={exports:{}};/*!
 * DevExtreme-Quill Editor v.1.5.20
 * https://js.devexpress.com/
 * Copyright (c) 2020, Developer Express Inc.
 * Copyright (c) 2017, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(r,n){(function(i,t){r.exports=t()})(Gn,function(){return function(e){var i={};function t(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=i,t.d=function(a,o,u){t.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:u})},t.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},t.t=function(a,o){if(o&1&&(a=t(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var p in a)t.d(u,p,function(S){return a[S]}.bind(null,p));return u},t.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(o,"a",o),o},t.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},t.p="",t(t.s=176)}([function(e,i,t){t.d(i,"c",function(){return B}),t.d(i,"b",function(){return ut}),t.d(i,"d",function(){return it}),t.d(i,"a",function(){return Z});var a=t(1),o=t.n(a),u=t(16),p=t.n(u),S=t(37),A=t.n(S),E=t(2),g=t(4),w=t(3),_=t(12),b=t(7),R=t(44),P=t(23),v=t(57);function x(Y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(L){return typeof L}:x=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},x(Y)}function U(Y,V,L){return V in Y?Object.defineProperty(Y,V,{value:L,enumerable:!0,configurable:!0,writable:!0}):Y[V]=L,Y}function $(Y,V){return I(Y)||d(Y,V)||l(Y,V)||m()}function m(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(Y,V){if(Y){if(typeof Y=="string")return f(Y,V);var L=Object.prototype.toString.call(Y).slice(8,-1);if(L==="Object"&&Y.constructor&&(L=Y.constructor.name),L==="Map"||L==="Set")return Array.from(Y);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return f(Y,V)}}function f(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var L=0,et=new Array(V);L<V;L++)et[L]=Y[L];return et}function d(Y,V){var L=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(L!=null){var et=[],st=!0,_t=!1,ot,dt;try{for(L=L.call(Y);!(st=(ot=L.next()).done)&&(et.push(ot.value),!(V&&et.length===V));st=!0);}catch(Tt){_t=!0,dt=Tt}finally{try{!st&&L.return!=null&&L.return()}finally{if(_t)throw dt}}return et}}function I(Y){if(Array.isArray(Y))return Y}function M(Y,V){if(!(Y instanceof V))throw new TypeError("Cannot call a class as a function")}function F(Y,V){for(var L=0;L<V.length;L++){var et=V[L];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Y,et.key,et)}}function N(Y,V,L){return V&&F(Y.prototype,V),L&&F(Y,L),Y}var tt=Object(P.a)("quill"),B=new E.Registry;E.ParentBlot.uiClass="ql-ui";var Z=function(){function Y(V){var L=this,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M(this,Y),this.options=ut(V,et),this.container=this.options.container,this.container==null)return tt.error("Invalid Quill container",V);this.options.debug&&Y.debug(this.options.debug);var st=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",R.a.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new w.a;var _t=this.options.registry.query(E.ScrollBlot.blotName);this.scroll=new _t(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new g.a(this.scroll),this.selection=new b.b(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(w.a.events.EDITOR_CHANGE,function(ot){ot===w.a.events.TEXT_CHANGE&&L.toggleBlankClass()}),this.emitter.on(w.a.events.SCROLL_UPDATE,function(ot,dt){var Tt=L.selection.lastRange,Rt=L.selection.getRange(),rt=$(Rt,1),z=rt[0],Q=Tt&&z?{oldRange:Tt,newRange:z}:void 0;ht.call(L,function(){return L.editor.update(null,dt,Q)},ot)}),this.setContents(this.getInitialContent(st)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return N(Y,[{key:"getInitialContent",value:function(L){return this.clipboard.convert({html:"".concat(L,"<p><br></p>"),text:`
`})}},{key:"toggleBlankClass",value:function(){var L=this.selection.composing;this.root.classList.toggle("ql-blank",this.editor.isBlank(L))}},{key:"addContainer",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof L=="string"){var st=L;L=document.createElement("div"),L.classList.add(st)}return this.container.insertBefore(L,et),L}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(L,et,st){var _t=this,ot=it(L,et,st),dt=$(ot,4);return L=dt[0],et=dt[1],st=dt[3],ht.call(this,function(){return _t.editor.deleteText(L,et)},st,L,-1*et)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(L){this.allowReadOnlyEdits=!0;var et=L();return this.allowReadOnlyEdits=!1,et}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(L),this.container.classList.toggle("ql-disabled",!L)}},{key:"focus",value:function(){var L=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=L,this.scrollIntoView()}},{key:"format",value:function(L,et){var st=this,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.a.sources.API;return ht.call(this,function(){var ot=st.getSelection(!0),dt=new o.a;if(ot==null)return dt;if(st.scroll.query(L,E.Scope.BLOCK))dt=st.editor.formatLine(ot.index,ot.length,U({},L,et));else{if(ot.length===0)return st.selection.format(L,et),dt;dt=st.editor.formatText(ot.index,ot.length,U({},L,et))}return st.setSelection(ot,w.a.sources.SILENT),dt},_t)}},{key:"formatLine",value:function(L,et,st,_t,ot){var dt=this,Tt,Rt=it(L,et,st,_t,ot),rt=$(Rt,4);return L=rt[0],et=rt[1],Tt=rt[2],ot=rt[3],ht.call(this,function(){return dt.editor.formatLine(L,et,Tt)},ot,L,0)}},{key:"formatText",value:function(L,et,st,_t,ot){var dt=this,Tt,Rt=it(L,et,st,_t,ot),rt=$(Rt,4);return L=rt[0],et=rt[1],Tt=rt[2],ot=rt[3],ht.call(this,function(){return dt.editor.formatText(L,et,Tt)},ot,L,0)}},{key:"getBounds",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,st;typeof L=="number"?st=this.selection.getBounds(L,et):st=this.selection.getBounds(L.index,L.length);var _t=this.container.getBoundingClientRect();return{bottom:st.bottom-_t.top,height:st.height,left:st.left-_t.left,right:st.right-_t.left,top:st.top-_t.top,width:st.width}}},{key:"getContents",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,st=it(L,et),_t=$(st,2);return L=_t[0],et=_t[1],this.editor.getContents(L,et)}},{key:"getFormat",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof L=="number"?this.editor.getFormat(L,et):this.editor.getFormat(L.index,L.length)}},{key:"getIndex",value:function(L){return L.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(L){return this.scroll.leaf(L)}},{key:"getLine",value:function(L){return this.scroll.line(L)}},{key:"getLines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof L!="number"?this.scroll.lines(L.index,L.length):this.scroll.lines(L,et)}},{key:"getModule",value:function(L){return this.theme.modules[L]}},{key:"getSelection",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return L&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,st=it(L,et),_t=$(st,2);return L=_t[0],et=_t[1],this.editor.getHTML(L,et)}},{key:"getText",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-L,st=it(L,et),_t=$(st,2);return L=_t[0],et=_t[1],this.editor.getText(L,et)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(L,et,st){var _t=this,ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return ht.call(this,function(){return _t.editor.insertEmbed(L,et,st)},ot,L)}},{key:"insertText",value:function(L,et,st,_t,ot){var dt=this,Tt,Rt=it(L,0,st,_t,ot),rt=$(Rt,4);return L=rt[0],Tt=rt[2],ot=rt[3],ht.call(this,function(){return dt.editor.insertText(L,et,Tt)},ot,L,et.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var L;return(L=this.emitter).off.apply(L,arguments)}},{key:"on",value:function(){var L;return(L=this.emitter).on.apply(L,arguments)}},{key:"once",value:function(){var L;return(L=this.emitter).once.apply(L,arguments)}},{key:"removeFormat",value:function(L,et,st){var _t=this,ot=it(L,et,st),dt=$(ot,4);return L=dt[0],et=dt[1],st=dt[3],ht.call(this,function(){return _t.editor.removeFormat(L,et)},st,L)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(L){var et=this,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w.a.sources.API;return ht.call(this,function(){L=new o.a(L);var _t=et.getLength(),ot=et.editor.deleteText(0,_t),dt=et.editor.applyDelta(L),Tt=et.editor.deleteText(et.getLength()-1,1);return et.emitter.emit(Y.events.CONTENT_SETTED),ot.compose(dt).compose(Tt)},st)}},{key:"setSelection",value:function(L,et,st){if(L==null)this.selection.setRange(null,et||Y.sources.API);else{var _t=it(L,et,st),ot=$(_t,4);L=ot[0],et=ot[1],st=ot[3],this.selection.setRange(new b.a(Math.max(0,L),et),st),st!==w.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w.a.sources.API,st=new o.a().insert(L);return this.setContents(st,et)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.a.sources.USER,et=this.scroll.update(L);return this.selection.update(L),et}},{key:"updateContents",value:function(L){var et=this,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w.a.sources.API;return ht.call(this,function(){return L=new o.a(L),et.editor.applyDelta(L,st)},st,!0)}}],[{key:"debug",value:function(L){L===!0&&(L="log"),P.a.level(L)}},{key:"find",value:function(L){return R.a.get(L)||B.find(L)}},{key:"import",value:function(L){return this.imports[L]==null&&tt.error("Cannot import ".concat(L,". Are you sure it was registered?")),this.imports[L]}},{key:"register",value:function(L,et){var st=this,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof L!="string"){var ot=L.attrName||L.blotName;typeof ot=="string"?this.register("formats/".concat(ot),L,et):Object.keys(L).forEach(function(dt){st.register(dt,L[dt],et)})}else this.imports[L]!=null&&!_t&&tt.warn("Overwriting ".concat(L," with"),et),this.imports[L]=et,(L.indexOf("blots/")===0||L.indexOf("formats/")===0)&&et.blotName!=="abstract"&&B.register(et),typeof et.register=="function"&&et.register(B)}}]),Y}();Z.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:B,scrollingContainer:null,theme:"default"},Z.events=w.a.events,Z.sources=w.a.sources,Z.version="1.5.20",Z.imports={delta:o.a,parchment:E,"core/module":_.a,"core/theme":v.a};function ut(Y,V){if(V=A()({container:Y,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},V),!V.theme||V.theme===Z.DEFAULTS.theme)V.theme=v.a;else if(V.theme=Z.import("themes/".concat(V.theme)),V.theme==null)throw new Error("Invalid theme ".concat(V.theme,". Did you register it?"));var L=p()(V.theme.DEFAULTS);[L,V].forEach(function(_t){_t.modules=_t.modules||{},Object.keys(_t.modules).forEach(function(ot){_t.modules[ot]===!0&&(_t.modules[ot]={})})});var et=Object.keys(L.modules).concat(Object.keys(V.modules)),st=et.reduce(function(_t,ot){var dt=Z.import("modules/".concat(ot));return dt==null?tt.error("Cannot load ".concat(ot," module. Are you sure you registered it?")):_t[ot]=dt.DEFAULTS||{},_t},{});return V.modules!=null&&V.modules.toolbar&&V.modules.toolbar.constructor!==Object&&(V.modules.toolbar={container:V.modules.toolbar}),V=A()({},Z.DEFAULTS,{modules:st},L,V),["bounds","container","scrollingContainer"].forEach(function(_t){typeof V[_t]=="string"&&(V[_t]=document.querySelector(V[_t]))}),V.modules=Object.keys(V.modules).reduce(function(_t,ot){return V.modules[ot]&&(_t[ot]=V.modules[ot]),_t},{}),V}function ht(Y,V,L,et){if(!this.isEnabled()&&V===w.a.sources.USER&&!this.allowReadOnlyEdits)return new o.a;var st=L==null?null:this.getSelection(),_t=this.editor.delta,ot=Y();if(st!=null&&(L===!0&&(L=st.index),et==null?st=mt(st,ot,V):et!==0&&(st=mt(st,L,et,V)),this.setSelection(st,w.a.sources.SILENT)),ot.length()>0){var dt,Tt=[w.a.events.TEXT_CHANGE,ot,_t,V];if((dt=this.emitter).emit.apply(dt,[w.a.events.EDITOR_CHANGE].concat(Tt)),V!==w.a.sources.SILENT){var Rt;(Rt=this.emitter).emit.apply(Rt,Tt)}}return ot}function it(Y,V,L,et,st){var _t={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof V!="number"?(st=et,et=L,L=V,V=Y.length,Y=Y.index):(V=Y.length,Y=Y.index):typeof V!="number"&&(st=et,et=L,L=V,V=0),x(L)==="object"?(_t=L,st=et):typeof L=="string"&&(et!=null?_t[L]=et:st=L),st=st||w.a.sources.API,[Y,V,_t,st]}function mt(Y,V,L,et){if(Y==null)return null;var st,_t;if(V instanceof o.a){var ot=[Y.index,Y.index+Y.length].map(function(rt){return V.transformPosition(rt,et!==w.a.sources.USER)}),dt=$(ot,2);st=dt[0],_t=dt[1]}else{var Tt=[Y.index,Y.index+Y.length].map(function(rt){return rt<V||rt===V&&et===w.a.sources.USER?rt:L>=0?rt+L:Math.max(V,rt+L)}),Rt=$(Tt,2);st=Rt[0],_t=Rt[1]}return new b.a(st,_t-st)}},function(e,i,t){var a=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},o=a(t(118)),u=a(t(16)),p=a(t(30)),S=a(t(119)),A=a(t(94)),E=String.fromCharCode(0),g=function(){function w(_){Array.isArray(_)?this.ops=_:_!=null&&Array.isArray(_.ops)?this.ops=_.ops:this.ops=[]}return w.prototype.insert=function(_,b){var R={};return typeof _=="string"&&_.length===0?this:(R.insert=_,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(R.attributes=b),this.push(R))},w.prototype.delete=function(_){return _<=0?this:this.push({delete:_})},w.prototype.retain=function(_,b){if(_<=0)return this;var R={retain:_};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(R.attributes=b),this.push(R)},w.prototype.push=function(_){var b=this.ops.length,R=this.ops[b-1];if(_=u.default(_),typeof R=="object"){if(typeof _.delete=="number"&&typeof R.delete=="number")return this.ops[b-1]={delete:R.delete+_.delete},this;if(typeof R.delete=="number"&&_.insert!=null&&(b-=1,R=this.ops[b-1],typeof R!="object"))return this.ops.unshift(_),this;if(p.default(_.attributes,R.attributes)){if(typeof _.insert=="string"&&typeof R.insert=="string")return this.ops[b-1]={insert:R.insert+_.insert},typeof _.attributes=="object"&&(this.ops[b-1].attributes=_.attributes),this;if(typeof _.retain=="number"&&typeof R.retain=="number")return this.ops[b-1]={retain:R.retain+_.retain},typeof _.attributes=="object"&&(this.ops[b-1].attributes=_.attributes),this}}return b===this.ops.length?this.ops.push(_):this.ops.splice(b,0,_),this},w.prototype.chop=function(){var _=this.ops[this.ops.length-1];return _&&_.retain&&!_.attributes&&this.ops.pop(),this},w.prototype.filter=function(_){return this.ops.filter(_)},w.prototype.forEach=function(_){this.ops.forEach(_)},w.prototype.map=function(_){return this.ops.map(_)},w.prototype.partition=function(_){var b=[],R=[];return this.forEach(function(P){var v=_(P)?b:R;v.push(P)}),[b,R]},w.prototype.reduce=function(_,b){return this.ops.reduce(_,b)},w.prototype.changeLength=function(){return this.reduce(function(_,b){return b.insert?_+A.default.length(b):b.delete?_-b.delete:_},0)},w.prototype.length=function(){return this.reduce(function(_,b){return _+A.default.length(b)},0)},w.prototype.slice=function(_,b){_===void 0&&(_=0),b===void 0&&(b=1/0);for(var R=[],P=A.default.iterator(this.ops),v=0;v<b&&P.hasNext();){var x=void 0;v<_?x=P.next(_-v):(x=P.next(b-v),R.push(x)),v+=A.default.length(x)}return new w(R)},w.prototype.compose=function(_){var b=A.default.iterator(this.ops),R=A.default.iterator(_.ops),P=[],v=R.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var x=v.retain;b.peekType()==="insert"&&b.peekLength()<=x;)x-=b.peekLength(),P.push(b.next());v.retain-x>0&&R.next(v.retain-x)}for(var U=new w(P);b.hasNext()||R.hasNext();)if(R.peekType()==="insert")U.push(R.next());else if(b.peekType()==="delete")U.push(b.next());else{var $=Math.min(b.peekLength(),R.peekLength()),m=b.next($),l=R.next($);if(typeof l.retain=="number"){var f={};typeof m.retain=="number"?f.retain=$:f.insert=m.insert;var d=S.default.compose(m.attributes,l.attributes,typeof m.retain=="number");if(d&&(f.attributes=d),U.push(f),!R.hasNext()&&p.default(U.ops[U.ops.length-1],f)){var I=new w(b.rest());return U.concat(I).chop()}}else typeof l.delete=="number"&&typeof m.retain=="number"&&U.push(l)}return U.chop()},w.prototype.concat=function(_){var b=new w(this.ops.slice());return _.ops.length>0&&(b.push(_.ops[0]),b.ops=b.ops.concat(_.ops.slice(1))),b},w.prototype.diff=function(_,b){if(this.ops===_.ops)return new w;var R=[this,_].map(function($){return $.map(function(m){if(m.insert!=null)return typeof m.insert=="string"?m.insert:E;var l=$===_?"on":"with";throw new Error("diff() called "+l+" non-document")}).join("")}),P=new w,v=o.default(R[0],R[1],b),x=A.default.iterator(this.ops),U=A.default.iterator(_.ops);return v.forEach(function($){for(var m=$[1].length;m>0;){var l=0;switch($[0]){case o.default.INSERT:l=Math.min(U.peekLength(),m),P.push(U.next(l));break;case o.default.DELETE:l=Math.min(m,x.peekLength()),x.next(l),P.delete(l);break;case o.default.EQUAL:l=Math.min(x.peekLength(),U.peekLength(),m);var f=x.next(l),d=U.next(l);p.default(f.insert,d.insert)?P.retain(l,S.default.diff(f.attributes,d.attributes)):P.push(d).delete(l);break}m-=l}}),P.chop()},w.prototype.eachLine=function(_,b){b===void 0&&(b=`
`);for(var R=A.default.iterator(this.ops),P=new w,v=0;R.hasNext();){if(R.peekType()!=="insert")return;var x=R.peek(),U=A.default.length(x)-R.peekLength(),$=typeof x.insert=="string"?x.insert.indexOf(b,U)-U:-1;if($<0)P.push(R.next());else if($>0)P.push(R.next($));else{if(_(P,R.next(1).attributes||{},v)===!1)return;v+=1,P=new w}}P.length()>0&&_(P,{},v)},w.prototype.invert=function(_){var b=new w;return this.reduce(function(R,P){if(P.insert)b.delete(A.default.length(P));else{if(P.retain&&P.attributes==null)return b.retain(P.retain),R+P.retain;if(P.delete||P.retain&&P.attributes){var v=P.delete||P.retain,x=_.slice(R,R+v);return x.forEach(function(U){P.delete?b.push(U):P.retain&&P.attributes&&b.retain(A.default.length(U),S.default.invert(P.attributes,U.attributes))}),R+v}}return R},0),b.chop()},w.prototype.transform=function(_,b){if(b===void 0&&(b=!1),b=!!b,typeof _=="number")return this.transformPosition(_,b);for(var R=_,P=A.default.iterator(this.ops),v=A.default.iterator(R.ops),x=new w;P.hasNext()||v.hasNext();)if(P.peekType()==="insert"&&(b||v.peekType()!=="insert"))x.retain(A.default.length(P.next()));else if(v.peekType()==="insert")x.push(v.next());else{var U=Math.min(P.peekLength(),v.peekLength()),$=P.next(U),m=v.next(U);if($.delete)continue;m.delete?x.push(m):x.retain(U,S.default.transform($.attributes,m.attributes,b))}return x.chop()},w.prototype.transformPosition=function(_,b){b===void 0&&(b=!1),b=!!b;for(var R=A.default.iterator(this.ops),P=0;R.hasNext()&&P<=_;){var v=R.peekLength(),x=R.peekType();if(R.next(),x==="delete"){_-=Math.min(v,_-P);continue}else x==="insert"&&(P<_||!b)&&(_+=v);P+=v}return _},w.Op=A.default,w.AttributeMap=S.default,w}();e.exports=g},function(e,i,t){t.r(i),t.d(i,"ParentBlot",function(){return x}),t.d(i,"ContainerBlot",function(){return m}),t.d(i,"LeafBlot",function(){return d}),t.d(i,"EmbedBlot",function(){return rt}),t.d(i,"ScrollBlot",function(){return gt}),t.d(i,"BlockBlot",function(){return dt}),t.d(i,"InlineBlot",function(){return st}),t.d(i,"TextBlot",function(){return Nt}),t.d(i,"Attributor",function(){return M}),t.d(i,"ClassAttributor",function(){return B}),t.d(i,"StyleAttributor",function(){return it}),t.d(i,"AttributorStore",function(){return Y}),t.d(i,"Registry",function(){return w}),t.d(i,"Scope",function(){return o});var a;(function(q){q[q.TYPE=3]="TYPE",q[q.LEVEL=12]="LEVEL",q[q.ATTRIBUTE=13]="ATTRIBUTE",q[q.BLOT=14]="BLOT",q[q.INLINE=7]="INLINE",q[q.BLOCK=11]="BLOCK",q[q.BLOCK_BLOT=10]="BLOCK_BLOT",q[q.INLINE_BLOT=6]="INLINE_BLOT",q[q.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",q[q.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",q[q.ANY=15]="ANY"})(a||(a={}));var o=a,u=function(){function q(){this.head=null,this.tail=null,this.length=0}return q.prototype.append=function(){for(var y=[],c=0;c<arguments.length;c++)y[c]=arguments[c];if(this.insertBefore(y[0],null),y.length>1){var T=y.slice(1);this.append.apply(this,T)}},q.prototype.at=function(y){for(var c=this.iterator(),T=c();T&&y>0;)y-=1,T=c();return T},q.prototype.contains=function(y){for(var c=this.iterator(),T=c();T;){if(T===y)return!0;T=c()}return!1},q.prototype.indexOf=function(y){for(var c=this.iterator(),T=c(),H=0;T;){if(T===y)return H;H+=1,T=c()}return-1},q.prototype.insertBefore=function(y,c){y!=null&&(this.remove(y),y.next=c,c!=null?(y.prev=c.prev,c.prev!=null&&(c.prev.next=y),c.prev=y,c===this.head&&(this.head=y)):this.tail!=null?(this.tail.next=y,y.prev=this.tail,this.tail=y):(y.prev=null,this.head=this.tail=y),this.length+=1)},q.prototype.offset=function(y){for(var c=0,T=this.head;T!=null;){if(T===y)return c;c+=T.length(),T=T.next}return-1},q.prototype.remove=function(y){this.contains(y)&&(y.prev!=null&&(y.prev.next=y.next),y.next!=null&&(y.next.prev=y.prev),y===this.head&&(this.head=y.next),y===this.tail&&(this.tail=y.prev),this.length-=1)},q.prototype.iterator=function(y){return y===void 0&&(y=this.head),function(){var c=y;return y!=null&&(y=y.next),c}},q.prototype.find=function(y,c){c===void 0&&(c=!1);for(var T=this.iterator(),H=T();H;){var ct=H.length();if(y<ct||c&&y===ct&&(H.next==null||H.next.length()!==0))return[H,y];y-=ct,H=T()}return[null,0]},q.prototype.forEach=function(y){for(var c=this.iterator(),T=c();T;)y(T),T=c()},q.prototype.forEachAt=function(y,c,T){if(!(c<=0))for(var H=this.find(y),ct=H[0],St=H[1],kt=y-St,Gt=this.iterator(ct),Yt=Gt();Yt&&kt<y+c;){var re=Yt.length();y>kt?T(Yt,y-kt,Math.min(c,kt+re-y)):T(Yt,0,Math.min(re,y+c-kt)),kt+=re,Yt=Gt()}},q.prototype.map=function(y){return this.reduce(function(c,T){return c.push(y(T)),c},[])},q.prototype.reduce=function(y,c){for(var T=this.iterator(),H=T();H;)c=y(c,H),H=T();return c},q}(),p=u,S=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),A=function(q){S(y,q);function y(c){var T=this;return c="[Parchment] "+c,T=q.call(this,c)||this,T.message=c,T.name=T.constructor.name,T}return y}(Error),E=A,g=function(){function q(){this.attributes={},this.classes={},this.tags={},this.types={}}return q.find=function(y,c){return c===void 0&&(c=!1),y==null?null:this.blots.has(y)?this.blots.get(y)||null:c?this.find(y.parentNode,c):null},q.prototype.create=function(y,c,T){var H=this.query(c);if(H==null)throw new E("Unable to create "+c+" blot");var ct=H,St=c instanceof Node||c.nodeType===Node.TEXT_NODE?c:ct.create(T),kt=new ct(y,St,T);return q.blots.set(kt.domNode,kt),kt},q.prototype.find=function(y,c){return c===void 0&&(c=!1),q.find(y,c)},q.prototype.query=function(y,c){var T=this;c===void 0&&(c=o.ANY);var H;if(typeof y=="string")H=this.types[y]||this.attributes[y];else if(y instanceof Text||y.nodeType===Node.TEXT_NODE)H=this.types.text;else if(typeof y=="number")y&o.LEVEL&o.BLOCK?H=this.types.block:y&o.LEVEL&o.INLINE&&(H=this.types.inline);else if(y instanceof HTMLElement){var ct=(y.getAttribute("class")||"").split(/\s+/);ct.some(function(St){return H=T.classes[St],!!H}),H=H||this.tags[y.tagName]}return H==null?null:c&o.LEVEL&H.scope&&c&o.TYPE&H.scope?H:null},q.prototype.register=function(){for(var y=this,c=[],T=0;T<arguments.length;T++)c[T]=arguments[T];if(c.length>1)return c.map(function(St){return y.register(St)});var H=c[0];if(typeof H.blotName!="string"&&typeof H.attrName!="string")throw new E("Invalid definition");if(H.blotName==="abstract")throw new E("Cannot register abstract class");if(this.types[H.blotName||H.attrName]=H,typeof H.keyName=="string")this.attributes[H.keyName]=H;else if(H.className!=null&&(this.classes[H.className]=H),H.tagName!=null){Array.isArray(H.tagName)?H.tagName=H.tagName.map(function(St){return St.toUpperCase()}):H.tagName=H.tagName.toUpperCase();var ct=Array.isArray(H.tagName)?H.tagName:[H.tagName];ct.forEach(function(St){(y.tags[St]==null||H.className==null)&&(y.tags[St]=H)})}return H},q.blots=new WeakMap,q}(),w=g,_=function(){function q(y,c){this.scroll=y,this.domNode=c,w.blots.set(c,this),this.prev=null,this.next=null}return q.create=function(y){if(this.tagName==null)throw new E("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y,10).toString()===y&&(y=parseInt(y,10))),typeof y=="number"?c=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?c=document.createElement(y):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},Object.defineProperty(q.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),q.prototype.attach=function(){},q.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return this.scroll.create(y)},q.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),w.blots.delete(this.domNode)},q.prototype.deleteAt=function(y,c){var T=this.isolate(y,c);T.remove()},q.prototype.formatAt=function(y,c,T,H){var ct=this.isolate(y,c);if(this.scroll.query(T,o.BLOT)!=null&&H)ct.wrap(T,H);else if(this.scroll.query(T,o.ATTRIBUTE)!=null){var St=this.scroll.create(this.statics.scope);ct.wrap(St),St.format(T,H)}},q.prototype.insertAt=function(y,c,T){var H=T==null?this.scroll.create("text",c):this.scroll.create(c,T),ct=this.split(y);this.parent.insertBefore(H,ct||void 0)},q.prototype.isolate=function(y,c){var T=this.split(y);if(T==null)throw new Error("Attempt to isolate at end");return T.split(c),T},q.prototype.length=function(){return 1},q.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this===y?0:this.parent.children.offset(this)+this.parent.offset(y)},q.prototype.optimize=function(y){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},q.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},q.prototype.replaceWith=function(y,c){var T=typeof y=="string"?this.scroll.create(y,c):y;return this.parent!=null&&(this.parent.insertBefore(T,this.next||void 0),this.remove()),T},q.prototype.split=function(y,c){return y===0?this:this.next},q.prototype.update=function(y,c){},q.prototype.wrap=function(y,c){var T=typeof y=="string"?this.scroll.create(y,c):y;if(this.parent!=null&&this.parent.insertBefore(T,this.next||void 0),typeof T.appendChild!="function")throw new E("Cannot wrap "+y);return T.appendChild(this),T},q.blotName="abstract",q}(),b=_,R=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function P(q,y){var c=y.find(q);if(c==null)try{c=y.create(q)}catch{c=y.create(o.INLINE),Array.from(q.childNodes).forEach(function(H){c.domNode.appendChild(H)}),q.parentNode&&q.parentNode.replaceChild(c.domNode,q),c.attach()}return c}var v=function(q){R(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.uiNode=null,H.build(),H}return y.prototype.appendChild=function(c){this.insertBefore(c)},y.prototype.attach=function(){q.prototype.attach.call(this),this.children.forEach(function(c){c.attach()})},y.prototype.attachUI=function(c){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=c,y.uiClass&&this.uiNode.classList.add(y.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},y.prototype.build=function(){var c=this;this.children=new p,Array.from(this.domNode.childNodes).filter(function(T){return T!==c.uiNode}).reverse().forEach(function(T){try{var H=P(T,c.scroll);c.insertBefore(H,c.children.head||void 0)}catch(ct){if(ct instanceof E)return;throw ct}})},y.prototype.deleteAt=function(c,T){if(c===0&&T===this.length())return this.remove();this.children.forEachAt(c,T,function(H,ct,St){H.deleteAt(ct,St)})},y.prototype.descendant=function(c,T){T===void 0&&(T=0);var H=this.children.find(T),ct=H[0],St=H[1];return c.blotName==null&&c(ct)||c.blotName!=null&&ct instanceof c?[ct,St]:ct instanceof y?ct.descendant(c,St):[null,-1]},y.prototype.descendants=function(c,T,H){T===void 0&&(T=0),H===void 0&&(H=Number.MAX_VALUE);var ct=[],St=H;return this.children.forEachAt(T,H,function(kt,Gt,Yt){(c.blotName==null&&c(kt)||c.blotName!=null&&kt instanceof c)&&ct.push(kt),kt instanceof y&&(ct=ct.concat(kt.descendants(c,Gt,St))),St-=Yt}),ct},y.prototype.detach=function(){this.children.forEach(function(c){c.detach()}),q.prototype.detach.call(this)},y.prototype.enforceAllowedChildren=function(){var c=this,T=!1;this.children.forEach(function(H){if(!T){var ct=c.statics.allowedChildren.some(function(St){return H instanceof St});ct||(H.statics.scope===o.BLOCK_BLOT?(H.next!=null&&c.splitAfter(H),H.prev!=null&&c.splitAfter(H.prev),H.parent.unwrap(),T=!0):H instanceof y?H.unwrap():H.remove())}})},y.prototype.formatAt=function(c,T,H,ct){this.children.forEachAt(c,T,function(St,kt,Gt){St.formatAt(kt,Gt,H,ct)})},y.prototype.insertAt=function(c,T,H){var ct=this.children.find(c),St=ct[0],kt=ct[1];if(St)St.insertAt(kt,T,H);else{var Gt=H==null?this.scroll.create("text",T):this.scroll.create(T,H);this.appendChild(Gt)}},y.prototype.insertBefore=function(c,T){c.parent!=null&&c.parent.children.remove(c);var H=null;this.children.insertBefore(c,T||null),c.parent=this,T!=null&&(H=T.domNode),(this.domNode.parentNode!==c.domNode||this.domNode.nextSibling!==H)&&this.domNode.insertBefore(c.domNode,H),c.attach()},y.prototype.length=function(){return this.children.reduce(function(c,T){return c+T.length()},0)},y.prototype.moveChildren=function(c,T){this.children.forEach(function(H){c.insertBefore(H,T)})},y.prototype.optimize=function(c){if(q.prototype.optimize.call(this,c),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){var T=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(T)}else this.remove()},y.prototype.path=function(c,T){T===void 0&&(T=!1);var H=this.children.find(c,T),ct=H[0],St=H[1],kt=[[this,c]];return ct instanceof y?kt.concat(ct.path(St,T)):(ct!=null&&kt.push([ct,St]),kt)},y.prototype.removeChild=function(c){this.children.remove(c)},y.prototype.replaceWith=function(c,T){var H=typeof c=="string"?this.scroll.create(c,T):c;return H instanceof y&&this.moveChildren(H),q.prototype.replaceWith.call(this,H)},y.prototype.split=function(c,T){if(T===void 0&&(T=!1),!T){if(c===0)return this;if(c===this.length())return this.next}var H=this.clone();return this.parent&&this.parent.insertBefore(H,this.next||void 0),this.children.forEachAt(c,this.length(),function(ct,St,kt){var Gt=ct.split(St,T);Gt!=null&&H.appendChild(Gt)}),H},y.prototype.splitAfter=function(c){for(var T=this.clone();c.next!=null;)T.appendChild(c.next);return this.parent&&this.parent.insertBefore(T,this.next||void 0),T},y.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},y.prototype.update=function(c,T){var H=this,ct=[],St=[];c.forEach(function(kt){kt.target===H.domNode&&kt.type==="childList"&&(ct.push.apply(ct,kt.addedNodes),St.push.apply(St,kt.removedNodes))}),St.forEach(function(kt){if(!(kt.parentNode!=null&&kt.tagName!=="IFRAME"&&document.body.compareDocumentPosition(kt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Gt=H.scroll.find(kt);Gt!=null&&(Gt.domNode.parentNode==null||Gt.domNode.parentNode===H.domNode)&&Gt.detach()}}),ct.filter(function(kt){return kt.parentNode===H.domNode||kt===H.uiNode}).sort(function(kt,Gt){return kt===Gt?0:kt.compareDocumentPosition(Gt)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(kt){var Gt=null;kt.nextSibling!=null&&(Gt=H.scroll.find(kt.nextSibling));var Yt=P(kt,H.scroll);(Yt.next!==Gt||Yt.next==null)&&(Yt.parent!=null&&Yt.parent.removeChild(H),H.insertBefore(Yt,Gt||void 0))}),this.enforceAllowedChildren()},y.uiClass="",y}(b),x=v,U=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),$=function(q){U(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.prototype.checkMerge=function(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName},y.prototype.deleteAt=function(c,T){q.prototype.deleteAt.call(this,c,T),this.enforceAllowedChildren()},y.prototype.formatAt=function(c,T,H,ct){q.prototype.formatAt.call(this,c,T,H,ct),this.enforceAllowedChildren()},y.prototype.insertAt=function(c,T,H){q.prototype.insertAt.call(this,c,T,H),this.enforceAllowedChildren()},y.prototype.optimize=function(c){q.prototype.optimize.call(this,c),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},y.blotName="container",y.scope=o.BLOCK_BLOT,y}(x),m=$,l=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),f=function(q){l(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.value=function(c){return!0},y.prototype.index=function(c,T){return this.domNode===c||this.domNode.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(T,1):-1},y.prototype.position=function(c,T){var H=Array.from(this.parent.domNode.childNodes),ct=H.indexOf(this.domNode);return c>0&&(ct+=1),[this.parent.domNode,ct]},y.prototype.value=function(){var c;return c={},c[this.statics.blotName]=this.statics.value(this.domNode)||!0,c},y.scope=o.INLINE_BLOT,y}(b),d=f,I=function(){function q(y,c,T){T===void 0&&(T={}),this.attrName=y,this.keyName=c;var H=o.TYPE&o.ATTRIBUTE;this.scope=T.scope!=null?T.scope&o.LEVEL|H:o.ATTRIBUTE,T.whitelist!=null&&(this.whitelist=T.whitelist)}return q.keys=function(y){return Array.from(y.attributes).map(function(c){return c.name})},q.prototype.add=function(y,c){return this.canAdd(y,c)?(y.setAttribute(this.keyName,c),!0):!1},q.prototype.canAdd=function(y,c){return this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},q.prototype.remove=function(y){y.removeAttribute(this.keyName)},q.prototype.value=function(y){var c=y.getAttribute(this.keyName);return this.canAdd(y,c)&&c?c:""},q}(),M=I,F=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function N(q,y){var c=q.getAttribute("class")||"";return c.split(/\s+/).filter(function(T){return T.indexOf(y+"-")===0})}var tt=function(q){F(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.keys=function(c){return(c.getAttribute("class")||"").split(/\s+/).map(function(T){return T.split("-").slice(0,-1).join("-")})},y.prototype.add=function(c,T){return this.canAdd(c,T)?(this.remove(c),c.classList.add(this.keyName+"-"+T),!0):!1},y.prototype.remove=function(c){var T=N(c,this.keyName);T.forEach(function(H){c.classList.remove(H)}),c.classList.length===0&&c.removeAttribute("class")},y.prototype.value=function(c){var T=N(c,this.keyName)[0]||"",H=T.slice(this.keyName.length+1);return this.canAdd(c,H)?H:""},y}(M),B=tt,Z=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function ut(q){var y=q.split("-"),c=y.slice(1).map(function(T){return T[0].toUpperCase()+T.slice(1)}).join("");return y[0]+c}var ht=function(q){Z(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.keys=function(c){return(c.getAttribute("style")||"").split(";").map(function(T){var H=T.split(":");return H[0].trim()})},y.prototype.add=function(c,T){return this.canAdd(c,T)?(c.style[ut(this.keyName)]=T,!0):!1},y.prototype.remove=function(c){c.style[ut(this.keyName)]="",c.getAttribute("style")||c.removeAttribute("style")},y.prototype.value=function(c){var T=c.style[ut(this.keyName)];return this.canAdd(c,T)?T:""},y}(M),it=ht,mt=function(){function q(y){this.attributes={},this.domNode=y,this.build()}return q.prototype.attribute=function(y,c){c?y.add(this.domNode,c)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])},q.prototype.build=function(){var y=this;this.attributes={};var c=w.find(this.domNode);if(c!=null){var T=M.keys(this.domNode),H=B.keys(this.domNode),ct=it.keys(this.domNode);T.concat(H).concat(ct).forEach(function(St){var kt=c.scroll.query(St,o.ATTRIBUTE);kt instanceof M&&(y.attributes[kt.attrName]=kt)})}},q.prototype.copy=function(y){var c=this;Object.keys(this.attributes).forEach(function(T){var H=c.attributes[T].value(c.domNode);y.format(T,H)})},q.prototype.move=function(y){var c=this;this.copy(y),Object.keys(this.attributes).forEach(function(T){c.attributes[T].remove(c.domNode)}),this.attributes={}},q.prototype.values=function(){var y=this;return Object.keys(this.attributes).reduce(function(c,T){return c[T]=y.attributes[T].value(y.domNode),c},{})},q}(),Y=mt,V=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}();function L(q,y){if(Object.keys(q).length!==Object.keys(y).length)return!1;for(var c in q)if(q[c]!==y[c])return!1;return!0}var et=function(q){V(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.attributes=new Y(H.domNode),H}return y.formats=function(c,T){var H=T.query(y.blotName);if(!(H!=null&&c.tagName===H.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return c.tagName.toLowerCase()}},y.prototype.format=function(c,T){var H=this;if(c===this.statics.blotName&&!T)this.children.forEach(function(St){St instanceof y||(St=St.wrap(y.blotName,!0)),H.attributes.copy(St)}),this.unwrap();else{var ct=this.scroll.query(c,o.INLINE);if(ct==null)return;ct instanceof M?this.attributes.attribute(ct,T):T&&(c!==this.statics.blotName||this.formats()[c]!==T)&&this.replaceWith(c,T)}},y.prototype.formats=function(){var c=this.attributes.values(),T=this.statics.formats(this.domNode,this.scroll);return T!=null&&(c[this.statics.blotName]=T),c},y.prototype.formatAt=function(c,T,H,ct){if(this.formats()[H]!=null||this.scroll.query(H,o.ATTRIBUTE)){var St=this.isolate(c,T);St.format(H,ct)}else q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.optimize=function(c){q.prototype.optimize.call(this,c);var T=this.formats();if(Object.keys(T).length===0)return this.unwrap();var H=this.next;H instanceof y&&H.prev===this&&L(T,H.formats())&&(H.moveChildren(this),H.remove())},y.prototype.replaceWith=function(c,T){var H=q.prototype.replaceWith.call(this,c,T);return this.attributes.copy(H),H},y.prototype.update=function(c,T){var H=this;q.prototype.update.call(this,c,T);var ct=c.some(function(St){return St.target===H.domNode&&St.type==="attributes"});ct&&this.attributes.build()},y.prototype.wrap=function(c,T){var H=q.prototype.wrap.call(this,c,T);return H instanceof y&&this.attributes.move(H),H},y.allowedChildren=[y,d],y.blotName="inline",y.scope=o.INLINE_BLOT,y.tagName="SPAN",y}(x),st=et,_t=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),ot=function(q){_t(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.attributes=new Y(H.domNode),H}return y.formats=function(c,T){var H=T.query(y.blotName);if(!(H!=null&&c.tagName===H.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return c.tagName.toLowerCase()}},y.prototype.format=function(c,T){var H=this.scroll.query(c,o.BLOCK);H!=null&&(H instanceof M?this.attributes.attribute(H,T):c===this.statics.blotName&&!T?this.replaceWith(y.blotName):T&&(c!==this.statics.blotName||this.formats()[c]!==T)&&this.replaceWith(c,T))},y.prototype.formats=function(){var c=this.attributes.values(),T=this.statics.formats(this.domNode,this.scroll);return T!=null&&(c[this.statics.blotName]=T),c},y.prototype.formatAt=function(c,T,H,ct){this.scroll.query(H,o.BLOCK)!=null?this.format(H,ct):q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.insertAt=function(c,T,H){if(H==null||this.scroll.query(T,o.INLINE)!=null)q.prototype.insertAt.call(this,c,T,H);else{var ct=this.split(c);if(ct!=null){var St=this.scroll.create(T,H);ct.parent.insertBefore(St,ct)}else throw new Error("Attempt to insertAt after block boundaries")}},y.prototype.replaceWith=function(c,T){var H=q.prototype.replaceWith.call(this,c,T);return this.attributes.copy(H),H},y.prototype.update=function(c,T){var H=this;q.prototype.update.call(this,c,T);var ct=c.some(function(St){return St.target===H.domNode&&St.type==="attributes"});ct&&this.attributes.build()},y.blotName="block",y.scope=o.BLOCK_BLOT,y.tagName="P",y.allowedChildren=[st,y,d],y}(x),dt=ot,Tt=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),Rt=function(q){Tt(y,q);function y(){return q!==null&&q.apply(this,arguments)||this}return y.formats=function(c,T){},y.prototype.format=function(c,T){q.prototype.formatAt.call(this,0,this.length(),c,T)},y.prototype.formatAt=function(c,T,H,ct){c===0&&T===this.length()?this.format(H,ct):q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},y}(d),rt=Rt,z=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),Q={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},J=100,nt=function(q){z(y,q);function y(c,T){var H=q.call(this,null,T)||this;return H.registry=c,H.scroll=H,H.build(),H.observer=new MutationObserver(function(ct){H.update(ct)}),H.observer.observe(H.domNode,Q),H.attach(),H}return y.prototype.create=function(c,T){return this.registry.create(this,c,T)},y.prototype.find=function(c,T){return T===void 0&&(T=!1),this.registry.find(c,T)},y.prototype.query=function(c,T){return T===void 0&&(T=o.ANY),this.registry.query(c,T)},y.prototype.register=function(){for(var c,T=[],H=0;H<arguments.length;H++)T[H]=arguments[H];return(c=this.registry).register.apply(c,T)},y.prototype.build=function(){this.scroll!=null&&q.prototype.build.call(this)},y.prototype.detach=function(){q.prototype.detach.call(this),this.observer.disconnect()},y.prototype.deleteAt=function(c,T){this.update(),c===0&&T===this.length()?this.children.forEach(function(H){H.remove()}):q.prototype.deleteAt.call(this,c,T)},y.prototype.formatAt=function(c,T,H,ct){this.update(),q.prototype.formatAt.call(this,c,T,H,ct)},y.prototype.insertAt=function(c,T,H){this.update(),q.prototype.insertAt.call(this,c,T,H)},y.prototype.optimize=function(c,T){var H=this;c===void 0&&(c=[]),T===void 0&&(T={}),q.prototype.optimize.call(this,T);for(var ct=T.mutationsMap||new WeakMap,St=Array.from(this.observer.takeRecords());St.length>0;)c.push(St.pop());for(var kt=function Ot(Ct,It){It===void 0&&(It=!0),!(Ct==null||Ct===H)&&Ct.domNode.parentNode!=null&&(ct.has(Ct.domNode)||ct.set(Ct.domNode,[]),It&&Ot(Ct.parent))},Gt=function Ot(Ct){ct.has(Ct.domNode)&&(Ct instanceof x&&Ct.children.forEach(Ot),ct.delete(Ct.domNode),Ct.optimize(T))},Yt=c,re=0;Yt.length>0;re+=1){if(re>=J)throw new Error("[Parchment] Maximum optimize iterations reached");for(Yt.forEach(function(Ot){var Ct=H.find(Ot.target,!0);Ct!=null&&(Ct.domNode===Ot.target&&(Ot.type==="childList"?(kt(H.find(Ot.previousSibling,!1)),Array.from(Ot.addedNodes).forEach(function(It){var Mt=H.find(It,!1);kt(Mt,!1),Mt instanceof x&&Mt.children.forEach(function(wt){kt(wt,!1)})})):Ot.type==="attributes"&&kt(Ct.prev)),kt(Ct))}),this.children.forEach(Gt),Yt=Array.from(this.observer.takeRecords()),St=Yt.slice();St.length>0;)c.push(St.pop())}},y.prototype.update=function(c,T){var H=this;T===void 0&&(T={}),c=c||this.observer.takeRecords();var ct=new WeakMap;c.map(function(St){var kt=w.find(St.target,!0);return kt==null?null:ct.has(kt.domNode)?(ct.get(kt.domNode).push(St),null):(ct.set(kt.domNode,[St]),kt)}).forEach(function(St){St!=null&&St!==H&&ct.has(St.domNode)&&St.update(ct.get(St.domNode)||[],T)}),T.mutationsMap=ct,ct.has(this.domNode)&&q.prototype.update.call(this,ct.get(this.domNode),T),this.optimize(c,T)},y.blotName="scroll",y.defaultChild=dt,y.allowedChildren=[dt,m],y.scope=o.BLOCK_BLOT,y.tagName="DIV",y}(x),gt=nt,Pt=function(){var q=function(c,T){return q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,ct){H.__proto__=ct}||function(H,ct){for(var St in ct)ct.hasOwnProperty(St)&&(H[St]=ct[St])},q(c,T)};return function(y,c){q(y,c);function T(){this.constructor=y}y.prototype=c===null?Object.create(c):(T.prototype=c.prototype,new T)}}(),Bt=function(q){Pt(y,q);function y(c,T){var H=q.call(this,c,T)||this;return H.text=H.statics.value(H.domNode),H}return y.create=function(c){return document.createTextNode(c)},y.value=function(c){return c.data},y.prototype.deleteAt=function(c,T){this.domNode.data=this.text=this.text.slice(0,c)+this.text.slice(c+T)},y.prototype.index=function(c,T){return this.domNode===c?T:-1},y.prototype.insertAt=function(c,T,H){H==null?(this.text=this.text.slice(0,c)+T+this.text.slice(c),this.domNode.data=this.text):q.prototype.insertAt.call(this,c,T,H)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(c){q.prototype.optimize.call(this,c),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(c,T){return[this.domNode,c]},y.prototype.split=function(c,T){if(T===void 0&&(T=!1),!T){if(c===0)return this;if(c===this.length())return this.next}var H=this.scroll.create(this.domNode.splitText(c));return this.parent.insertBefore(H,this.next||void 0),this.text=this.statics.value(this.domNode),H},y.prototype.update=function(c,T){var H=this;c.some(function(ct){return ct.type==="characterData"&&ct.target===H.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=o.INLINE_BLOT,y}(d),Nt=Bt},function(e,i,t){var a=t(95),o=t.n(a),u=t(15),p=t(44),S=t(23);function A(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(F){return typeof F}:A=function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},A(I)}function E(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function g(I,M){for(var F=0;F<M.length;F++){var N=M[F];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,N.key,N)}}function w(I,M,F){return M&&g(I.prototype,M),F&&g(I,F),I}function _(I,M,F){return typeof Reflect<"u"&&Reflect.get?_=Reflect.get:_=function(tt,B,Z){var ut=b(tt,B);if(ut){var ht=Object.getOwnPropertyDescriptor(ut,B);return ht.get?ht.get.call(Z):ht.value}},_(I,M,F||I)}function b(I,M){for(;!Object.prototype.hasOwnProperty.call(I,M)&&(I=m(I),I!==null););return I}function R(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),M&&P(I,M)}function P(I,M){return P=Object.setPrototypeOf||function(N,tt){return N.__proto__=tt,N},P(I,M)}function v(I){var M=$();return function(){var N=m(I),tt;if(M){var B=m(this).constructor;tt=Reflect.construct(N,arguments,B)}else tt=N.apply(this,arguments);return x(this,tt)}}function x(I,M){if(M&&(A(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(I)}function U(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(I){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},m(I)}var l=Object(S.a)("quill:events"),f=["selectionchange","mousedown","mouseup","click"];Object(u.a)()&&f.forEach(function(I){document.addEventListener(I,function(){for(var M=arguments.length,F=new Array(M),N=0;N<M;N++)F[N]=arguments[N];Array.from(document.querySelectorAll(".ql-container")).forEach(function(tt){var B=p.a.get(tt);if(B&&B.emitter){var Z;(Z=B.emitter).handleDOM.apply(Z,F)}})})});var d=function(I){R(F,I);var M=v(F);function F(){var N;return E(this,F),N=M.call(this),N.listeners={},N.on("error",l.error),N}return w(F,[{key:"emit",value:function(){for(var tt,B,Z=arguments.length,ut=new Array(Z),ht=0;ht<Z;ht++)ut[ht]=arguments[ht];(tt=l.log).call.apply(tt,[l].concat(ut)),(B=_(m(F.prototype),"emit",this)).call.apply(B,[this].concat(ut))}},{key:"handleDOM",value:function(tt){for(var B=arguments.length,Z=new Array(B>1?B-1:0),ut=1;ut<B;ut++)Z[ut-1]=arguments[ut];(this.listeners[tt.type]||[]).forEach(function(ht){var it=ht.node,mt=ht.handler;(tt.target===it||it.contains(tt.target))&&mt.apply(void 0,[tt].concat(Z))})}},{key:"listenDOM",value:function(tt,B,Z){this.listeners[tt]||(this.listeners[tt]=[]),this.listeners[tt].push({node:B,handler:Z})}}]),F}(o.a);d.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},d.sources={API:"api",SILENT:"silent",USER:"user"},i.a=d},function(e,i,t){var a=t(16),o=t.n(a),u=t(30),p=t.n(u),S=t(37),A=t.n(S),E=t(1),g=t.n(E),w=t(2),_=t(7),b=t(24),R=t(6),P=t(10),v=t(9);function x(z,Q){z.classList.remove(Q),z.classList.length===0&&z.removeAttribute("class")}function U(z){return B(z)||$(z)||F(z)||M()}function $(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function m(z,Q){var J=Object.keys(z);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(z);Q&&(nt=nt.filter(function(gt){return Object.getOwnPropertyDescriptor(z,gt).enumerable})),J.push.apply(J,nt)}return J}function l(z){for(var Q=1;Q<arguments.length;Q++){var J=arguments[Q]!=null?arguments[Q]:{};Q%2?m(Object(J),!0).forEach(function(nt){f(z,nt,J[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(J)):m(Object(J)).forEach(function(nt){Object.defineProperty(z,nt,Object.getOwnPropertyDescriptor(J,nt))})}return z}function f(z,Q,J){return Q in z?Object.defineProperty(z,Q,{value:J,enumerable:!0,configurable:!0,writable:!0}):z[Q]=J,z}function d(z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(J){return typeof J}:d=function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},d(z)}function I(z,Q){return B(z)||tt(z,Q)||F(z,Q)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(z,Q){if(z){if(typeof z=="string")return N(z,Q);var J=Object.prototype.toString.call(z).slice(8,-1);if(J==="Object"&&z.constructor&&(J=z.constructor.name),J==="Map"||J==="Set")return Array.from(z);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return N(z,Q)}}function N(z,Q){(Q==null||Q>z.length)&&(Q=z.length);for(var J=0,nt=new Array(Q);J<Q;J++)nt[J]=z[J];return nt}function tt(z,Q){var J=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(J!=null){var nt=[],gt=!0,Pt=!1,Bt,Nt;try{for(J=J.call(z);!(gt=(Bt=J.next()).done)&&(nt.push(Bt.value),!(Q&&nt.length===Q));gt=!0);}catch(q){Pt=!0,Nt=q}finally{try{!gt&&J.return!=null&&J.return()}finally{if(Pt)throw Nt}}return nt}}function B(z){if(Array.isArray(z))return z}function Z(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}function ut(z,Q){for(var J=0;J<Q.length;J++){var nt=Q[J];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(z,nt.key,nt)}}function ht(z,Q,J){return Q&&ut(z.prototype,Q),J&&ut(z,J),z}var it=/^[ -~]*$/,mt=function(){function z(Q){Z(this,z),this.scroll=Q,this.delta=this.getDelta(),this.immediateFormats=new Set}return ht(z,[{key:"addImmediateFormat",value:function(J){this.immediateFormats.add(J)}},{key:"applyDelta",value:function(J){var nt=this;this.scroll.update();var gt=this.scroll.length();this.scroll.batchStart();var Pt=Rt(J),Bt=new g.a;return Pt.reduce(function(Nt,q){var y=E.Op.length(q),c=q.attributes||{},T=!1;if(q.insert!=null){if(Bt.retain(y),typeof q.insert=="string"){var H=q.insert;T=!H.endsWith(`
`)&&(gt<=Nt||nt.scroll.descendant(R.a,Nt)[0]),nt.scroll.insertAt(Nt,H);var ct=nt.scroll.line(Nt),St=I(ct,2),kt=St[0],Gt=St[1],Yt=A()({},Object(R.c)(kt));if(kt instanceof R.d){var re=kt.descendant(w.LeafBlot,Gt),Ot=I(re,1),Ct=Ot[0];Yt=A()(Yt,Object(R.c)(Ct))}c=E.AttributeMap.diff(Yt,c)||{}}else if(d(q.insert)==="object"){var It=Object.keys(q.insert)[0];if(It==null)return Nt;T=nt.scroll.query(It,w.Scope.INLINE)!=null&&(gt<=Nt||nt.scroll.descendant(R.a,Nt)[0]),nt.scroll.insertAt(Nt,It,q.insert[It])}gt+=y}else Bt.push(q);var Mt=Object.keys(c);nt.immediateFormats.forEach(function(Ft){Mt.indexOf(Ft)>-1&&(nt.scroll.formatAt(Nt,y,Ft,c[Ft]),delete c[Ft])}),Object.keys(c).forEach(function(Ft){nt.scroll.formatAt(Nt,y,Ft,c[Ft])});var wt=T?1:0;return gt+=wt,Bt.delete(wt),Nt+y+wt},0),Bt.reduce(function(Nt,q){return typeof q.delete=="number"?(nt.scroll.deleteAt(Nt,q.delete),Nt):Nt+E.Op.length(q)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(Pt)}},{key:"deleteText",value:function(J,nt){return this.scroll.deleteAt(J,nt),this.update(new g.a().retain(J).delete(nt))}},{key:"formatLine",value:function(J,nt){var gt=this,Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(Pt).forEach(function(Nt){gt.scroll.lines(J,Math.max(nt,1)).forEach(function(q){q.format(Nt,Pt[Nt])})}),this.scroll.optimize();var Bt=new g.a().retain(J).retain(nt,o()(Pt));return this.update(Bt)}},{key:"formatText",value:function(J,nt){var gt=this,Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(Pt).forEach(function(Nt){gt.scroll.formatAt(J,nt,Nt,Pt[Nt])});var Bt=new g.a().retain(J).retain(nt,o()(Pt));return this.update(Bt)}},{key:"getContents",value:function(J,nt){return this.delta.slice(J,J+nt)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(J,nt){return J.concat(nt.delta())},new g.a)}},{key:"getFormat",value:function(J){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,gt=[],Pt=[];nt===0?this.scroll.path(J).forEach(function(q){var y=I(q,1),c=y[0];c instanceof R.d?gt.push(c):c instanceof w.LeafBlot&&Pt.push(c)}):(gt=this.scroll.lines(J,nt),Pt=this.scroll.descendants(w.LeafBlot,J,nt));var Bt=[gt,Pt].map(function(q){if(q.length===0)return{};for(var y=Object(R.c)(q.shift());Object.keys(y).length>0;){var c=q.shift();if(c==null)return y;y=_t(Object(R.c)(c),y)}return y}),Nt=I(Bt,2);return gt=Nt[0],Pt=Nt[1],l(l({},gt),Pt)}},{key:"getHTML",value:function(J,nt){var gt=this.scroll.line(J),Pt=I(gt,2),Bt=Pt[0],Nt=Pt[1];return Bt.length()>=Nt+nt?V(Bt,Nt,nt,!0):V(this.scroll,J,nt,!0)}},{key:"getText",value:function(J,nt){return this.getContents(J,nt).filter(function(gt){return typeof gt.insert=="string"}).map(function(gt){return gt.insert}).join("")}},{key:"insertEmbed",value:function(J,nt,gt){return this.scroll.insertAt(J,nt,gt),this.update(new g.a().retain(J).insert(f({},nt,gt)))}},{key:"insertText",value:function(J,nt){var gt=this,Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return nt=nt.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(J,nt),Object.keys(Pt).forEach(function(Bt){gt.scroll.formatAt(J,nt.length,Bt,Pt[Bt])}),this.update(new g.a().retain(J).insert(nt,o()(Pt)))}},{key:"isBlank",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.scroll.children.length===0)return!0;if(J||this.scroll.children.length>1)return!1;var nt=this.scroll.children.head;return nt.statics.blotName!==R.d.blotName||nt.children.length>1?!1:nt.children.head instanceof P.a}},{key:"removeFormat",value:function(J,nt){var gt=this.getText(J,nt),Pt=this.scroll.line(J+nt),Bt=I(Pt,2),Nt=Bt[0],q=Bt[1],y=0,c=new g.a;Nt!=null&&(y=Nt.length()-q,c=Nt.delta().slice(q,q+y-1).insert(`
`));var T=this.getContents(J,nt+y),H=T.diff(new g.a().insert(gt).concat(c)),ct=new g.a().retain(J).concat(H);return this.applyDelta(ct)}},{key:"update",value:function(J){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],gt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Pt=this.delta;if(nt.length===1&&nt[0].type==="characterData"&&nt[0].target.data.match(it)&&this.scroll.find(nt[0].target)){var Bt=this.scroll.find(nt[0].target),Nt=Object(R.c)(Bt),q=Bt.offset(this.scroll),y=nt[0].oldValue.replace(b.a.CONTENTS,""),c=new g.a().insert(y),T=new g.a().insert(Bt.value()),H=gt&&{oldRange:rt(gt.oldRange,-q),newRange:rt(gt.newRange,-q)},ct=new g.a().retain(q).concat(c.diff(T,H));J=ct.reduce(function(St,kt){return kt.insert?St.insert(kt.insert,Nt):St.push(kt)},new g.a),this.delta=Pt.compose(J)}else this.delta=this.getDelta(),(!J||!p()(Pt.compose(J),this.delta))&&(J=Pt.diff(this.delta,gt));return J}}]),z}();function Y(z,Q,J){if(z.length===0){var nt=ot(J.pop()),gt=I(nt,1),Pt=gt[0];return Q<=0?"</li></".concat(Pt,">"):"</li></".concat(Pt,">").concat(Y([],Q-1,J))}var Bt=U(z),Nt=Bt[0],q=Nt.child,y=Nt.offset,c=Nt.length,T=Nt.indent,H=Nt.type,ct=Bt.slice(1),St=ot(H,q),kt=I(St,2),Gt=kt[0],Yt=kt[1];if(T>Q)return J.push(H),T===Q+1?"<".concat(Gt,"><li").concat(Yt,">").concat(V(q,y,c)).concat(Y(ct,T,J)):"<".concat(Gt,"><li>").concat(Y(z,Q+1,J));var re=J[J.length-1];if(T===Q&&H===re)return"</li><li".concat(Yt,">").concat(V(q,y,c)).concat(Y(ct,T,J));var Ot=ot(J.pop()),Ct=I(Ot,1),It=Ct[0];return"</li></".concat(It,">").concat(Y(z,Q-1,J))}function V(z,Q,J){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof z.html=="function")return z.html(Q,J);if(z instanceof v.a)return Object(v.b)(z.value().slice(Q,Q+J));if(z.children){if(z.statics.blotName==="list-container"){var gt=[];return z.children.forEachAt(Q,J,function(ct,St,kt){var Gt=ct.formats();gt.push({child:ct,offset:St,length:kt,indent:Gt.indent||0,type:Gt.list})}),Y(gt,-1,[])}var Pt=[];if(z.children.forEachAt(Q,J,function(ct,St,kt){Pt.push(V(ct,St,kt))}),L(z.children,Pt),nt||z.statics.blotName==="list")return Pt.join("");var Bt=et(z),Nt=Bt.outerHTML,q=Bt.innerHTML,y=Nt.split(">".concat(q,"<")),c=I(y,2),T=c[0],H=c[1];return T.indexOf("<table")===0?"".concat(T.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(Pt.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(H):"".concat(T,">").concat(Pt.join(""),"<").concat(H)}return z.domNode.outerHTML}function L(z,Q){z.length===1&&z.head instanceof P.a&&Q.push("<br>")}function et(z){var Q=z.domNode.cloneNode(!0);return st(z,Q)}function st(z,Q){var J=["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"];return J.includes(z.statics.blotName)&&x(Q,z.statics.className),Q}function _t(z,Q){return Object.keys(Q).reduce(function(J,nt){return z[nt]==null||(Q[nt]===z[nt]?J[nt]=Q[nt]:Array.isArray(Q[nt])?Q[nt].indexOf(z[nt])<0&&(J[nt]=Q[nt].concat([z[nt]])):J[nt]=[Q[nt],z[nt]]),J},{})}function ot(z,Q){var J=z==="ordered"?"ol":"ul",nt=Q?"".concat(dt(Q)):"";switch(z){case"checked":return[J,"".concat(nt,' data-list="checked"')];case"unchecked":return[J,"".concat(nt,' data-list="unchecked"')];default:return[J,nt]}}function dt(z){var Q=z.domNode;if(!Q.hasAttributes())return"";for(var J=Q.attributes,nt=" ",gt=0;gt<J.length;gt+=1){var Pt=J[gt].name,Bt=J[gt].value;Pt==="class"&&(Bt=Tt(Bt)),Bt.length&&Pt.indexOf("data-")===-1&&(nt+="".concat(Pt,'="').concat(Bt,'"'))}return nt.length>1?nt:""}function Tt(z){return z.replace(/ql-indent-\d/g,"").trim()}function Rt(z){return z.reduce(function(Q,J){if(typeof J.insert=="string"){var nt=J.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Q.insert(nt,J.attributes)}return Q.push(J)},new g.a)}function rt(z,Q){var J=z.index,nt=z.length;return new _.a(J+Q,nt)}i.a=mt},function(e,i,t){t.d(i,"a",function(){return a});function a(o){return o!=null}},function(e,i,t){t.d(i,"b",function(){return ut}),t.d(i,"c",function(){return ht}),t.d(i,"a",function(){return Z}),t.d(i,"d",function(){return B});var a=t(1),o=t.n(a),u=t(2),p=t(10),S=t(14),A=t(9),E=t(19);function g(it,mt,Y,V){return Y.map(L=>{const et=V?Object(E.b)(it,L,V):L;return mt.scroll.query(et,u.Scope.ATTRIBUTE)}).filter(L=>L instanceof u.Attributor).reduce((L,et)=>(L[et.attrName]=et,L),{})}function w(){u.AttributorStore.prototype.build=function(){const{tagName:it}=this.domNode,mt=u.Registry.find(this.domNode);if(mt==null)return;const Y=u.Attributor.keys(this.domNode),V=u.ClassAttributor.keys(this.domNode),L=u.StyleAttributor.keys(this.domNode);this.attributes={...g(it,mt,Y,E.a.attribute),...g(it,mt,V),...g(it,mt,L,E.a.style)}}}function _(it){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(Y){return typeof Y}:_=function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},_(it)}function b(it,mt){var Y=Object.keys(it);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(it);mt&&(V=V.filter(function(L){return Object.getOwnPropertyDescriptor(it,L).enumerable})),Y.push.apply(Y,V)}return Y}function R(it){for(var mt=1;mt<arguments.length;mt++){var Y=arguments[mt]!=null?arguments[mt]:{};mt%2?b(Object(Y),!0).forEach(function(V){P(it,V,Y[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(Y)):b(Object(Y)).forEach(function(V){Object.defineProperty(it,V,Object.getOwnPropertyDescriptor(Y,V))})}return it}function P(it,mt,Y){return mt in it?Object.defineProperty(it,mt,{value:Y,enumerable:!0,configurable:!0,writable:!0}):it[mt]=Y,it}function v(it,mt){if(!(it instanceof mt))throw new TypeError("Cannot call a class as a function")}function x(it,mt){for(var Y=0;Y<mt.length;Y++){var V=mt[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(it,V.key,V)}}function U(it,mt,Y){return mt&&x(it.prototype,mt),Y&&x(it,Y),it}function $(it,mt,Y){return typeof Reflect<"u"&&Reflect.get?$=Reflect.get:$=function(L,et,st){var _t=m(L,et);if(_t){var ot=Object.getOwnPropertyDescriptor(_t,et);return ot.get?ot.get.call(st):ot.value}},$(it,mt,Y||it)}function m(it,mt){for(;!Object.prototype.hasOwnProperty.call(it,mt)&&(it=N(it),it!==null););return it}function l(it,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(mt&&mt.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),mt&&f(it,mt)}function f(it,mt){return f=Object.setPrototypeOf||function(V,L){return V.__proto__=L,V},f(it,mt)}function d(it){var mt=F();return function(){var V=N(it),L;if(mt){var et=N(this).constructor;L=Reflect.construct(V,arguments,et)}else L=V.apply(this,arguments);return I(this,L)}}function I(it,mt){if(mt&&(_(mt)==="object"||typeof mt=="function"))return mt;if(mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(it)}function M(it){if(it===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(it){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},N(it)}w();var tt=1,B=function(it){l(Y,it);var mt=d(Y);function Y(V,L){var et;return v(this,Y),et=mt.call(this,V,L),et.cache={},et}return U(Y,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=ut(this)),this.cache.delta}},{key:"deleteAt",value:function(L,et){$(N(Y.prototype),"deleteAt",this).call(this,L,et),this.cache={}}},{key:"formatAt",value:function(L,et,st,_t){et<=0||(this.scroll.query(st,u.Scope.BLOCK)?L+et===this.length()&&this.format(st,_t):$(N(Y.prototype),"formatAt",this).call(this,L,Math.min(et,this.length()-L-1),st,_t),this.cache={})}},{key:"insertAt",value:function(L,et,st){if(st!=null){$(N(Y.prototype),"insertAt",this).call(this,L,et,st),this.cache={};return}if(et.length!==0){var _t=et.split(`
`),ot=_t.shift();ot.length>0&&(L<this.length()-1||this.children.tail==null?$(N(Y.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),ot):this.children.tail.insertAt(this.children.tail.length(),ot),this.cache={});var dt=this;_t.reduce(function(Tt,Rt){return dt=dt.split(Tt,!0),dt.insertAt(0,Rt),Rt.length},L+ot.length)}}},{key:"insertBefore",value:function(L,et){var st=this.children.head;$(N(Y.prototype),"insertBefore",this).call(this,L,et),st instanceof p.a&&st.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=$(N(Y.prototype),"length",this).call(this)+tt),this.cache.length}},{key:"moveChildren",value:function(L,et){$(N(Y.prototype),"moveChildren",this).call(this,L,et),this.cache={}}},{key:"optimize",value:function(L){$(N(Y.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return $(N(Y.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){$(N(Y.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(et&&(L===0||L>=this.length()-tt)){var st=this.clone();return L===0?(this.parent.insertBefore(st,this),this):(this.parent.insertBefore(st,this.next),st)}var _t=$(N(Y.prototype),"split",this).call(this,L,et);return this.cache={},_t}}]),Y}(u.BlockBlot);B.blotName="block",B.tagName="P",B.defaultChild=p.a,B.allowedChildren=[p.a,S.a,u.EmbedBlot,A.a];var Z=function(it){l(Y,it);var mt=d(Y);function Y(){return v(this,Y),mt.apply(this,arguments)}return U(Y,[{key:"attach",value:function(){$(N(Y.prototype),"attach",this).call(this),this.attributes=new u.AttributorStore(this.domNode)}},{key:"delta",value:function(){return new o.a().insert(this.value(),R(R({},this.formats()),this.attributes.values()))}},{key:"format",value:function(L,et){var st=this.scroll.query(L,u.Scope.BLOCK_ATTRIBUTE);st!=null&&this.attributes.attribute(st,et)}},{key:"formatAt",value:function(L,et,st,_t){this.format(st,_t)}},{key:"insertAt",value:function(L,et,st){if(typeof et=="string"&&et.endsWith(`
`)){var _t=this.scroll.create(B.blotName);this.parent.insertBefore(_t,L===0?this:this.next),_t.insertAt(0,et.slice(0,-1))}else $(N(Y.prototype),"insertAt",this).call(this,L,et,st)}}]),Y}(u.EmbedBlot);Z.scope=u.Scope.BLOCK_BLOT;function ut(it){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return it.descendants(u.LeafBlot).reduce(function(Y,V){return V.length()===0?Y:Y.insert(V.value(),ht(V,{},mt))},new o.a).insert(`
`,ht(it))}function ht(it){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return it==null||(typeof it.formats=="function"&&(mt=R(R({},mt),it.formats()),Y&&delete mt["code-token"]),it.parent==null||it.parent.statics.blotName==="scroll"||it.parent.statics.scope!==it.statics.scope)?mt:ht(it.parent,mt,Y)}},function(e,i,t){t.d(i,"a",function(){return I}),t.d(i,"b",function(){return M});var a=t(2),o=t(16),u=t.n(o),p=t(30),S=t.n(p),A=t(3),E=t(23);function g(N){return b(N)||_(N)||v(N)||w()}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}function b(N){if(Array.isArray(N))return x(N)}function R(N,tt){return $(N)||U(N,tt)||v(N,tt)||P()}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(N,tt){if(N){if(typeof N=="string")return x(N,tt);var B=Object.prototype.toString.call(N).slice(8,-1);if(B==="Object"&&N.constructor&&(B=N.constructor.name),B==="Map"||B==="Set")return Array.from(N);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return x(N,tt)}}function x(N,tt){(tt==null||tt>N.length)&&(tt=N.length);for(var B=0,Z=new Array(tt);B<tt;B++)Z[B]=N[B];return Z}function U(N,tt){var B=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(B!=null){var Z=[],ut=!0,ht=!1,it,mt;try{for(B=B.call(N);!(ut=(it=B.next()).done)&&(Z.push(it.value),!(tt&&Z.length===tt));ut=!0);}catch(Y){ht=!0,mt=Y}finally{try{!ut&&B.return!=null&&B.return()}finally{if(ht)throw mt}}return Z}}function $(N){if(Array.isArray(N))return N}function m(N,tt){for(var B=0;B<tt.length;B++){var Z=tt[B];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(N,Z.key,Z)}}function l(N,tt,B){return tt&&m(N.prototype,tt),B&&m(N,B),N}function f(N,tt){if(!(N instanceof tt))throw new TypeError("Cannot call a class as a function")}var d=Object(E.a)("quill:selection"),I=function N(tt){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;f(this,N),this.index=tt,this.length=B},M=function(){function N(tt,B){var Z=this;f(this,N),this.emitter=B,this.scroll=tt,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new I(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!Z.mouseDown&&!Z.composing&&setTimeout(Z.update.bind(Z,A.a.sources.USER),1)}),this.emitter.on(A.a.events.SCROLL_BEFORE_UPDATE,function(){if(Z.hasFocus()){var ut=Z.getNativeRange();ut!=null&&ut.start.node!==Z.cursor.textNode&&Z.emitter.once(A.a.events.SCROLL_UPDATE,function(){try{Z.root.contains(ut.start.node)&&Z.root.contains(ut.end.node)&&Z.setNativeRange(ut.start.node,ut.start.offset,ut.end.node,ut.end.offset),Z.update(A.a.sources.SILENT)}catch{}})}}),this.emitter.on(A.a.events.SCROLL_OPTIMIZE,function(ut,ht){if(ht.range){var it=ht.range,mt=it.startNode,Y=it.startOffset,V=it.endNode,L=it.endOffset;Z.setNativeRange(mt,Y,V,L),Z.update(A.a.sources.SILENT)}}),this.update(A.a.sources.SILENT)}return l(N,[{key:"handleComposition",value:function(){var B=this;this.root.addEventListener("compositionstart",function(){B.composing=!0,B.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(B.scroll.batchEnd(),B.composing=!1,B.cursor.parent){var Z=B.cursor.restore();if(!Z)return;setTimeout(function(){B.setNativeRange(Z.startNode,Z.startOffset,Z.endNode,Z.endOffset)},1)}})}},{key:"handleDragging",value:function(){var B=this;this.emitter.listenDOM("mousedown",document.body,function(){B.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){B.mouseDown=!1,B.update(A.a.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(B,Z){this.scroll.update();var ut=this.getNativeRange();if(!(ut==null||!ut.native.collapsed||this.scroll.query(B,a.Scope.BLOCK))){if(ut.start.node!==this.cursor.textNode){var ht=this.scroll.find(ut.start.node,!1);if(ht==null)return;if(ht instanceof a.LeafBlot){var it=ht.split(ut.start.offset);ht.parent.insertBefore(this.cursor,it)}else ht.insertBefore(this.cursor,ut.start.node);this.cursor.attach()}this.cursor.format(B,Z),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(B){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ut=this.scroll.length();B=Math.min(B,ut-1),Z=Math.min(B+Z,ut-1)-B;var ht,it=this.scroll.leaf(B),mt=R(it,2),Y=mt[0],V=mt[1];if(Y==null)return null;var L=Y.position(V,!0),et=R(L,2);ht=et[0],V=et[1];var st=document.createRange();if(Z>0){st.setStart(ht,V);var _t=this.scroll.leaf(B+Z),ot=R(_t,2);if(Y=ot[0],V=ot[1],Y==null)return null;var dt=Y.position(V,!0),Tt=R(dt,2);return ht=Tt[0],V=Tt[1],st.setEnd(ht,V),st.getBoundingClientRect()}var Rt="left",rt;return ht instanceof Text?(V<ht.data.length?(st.setStart(ht,V),st.setEnd(ht,V+1)):(st.setStart(ht,V-1),st.setEnd(ht,V),Rt="right"),rt=st.getBoundingClientRect()):(rt=Y.domNode.getBoundingClientRect(),V>0&&(Rt="right")),{bottom:rt.top+rt.height,height:rt.height,left:rt[Rt],right:rt[Rt],top:rt.top,width:0}}},{key:"getNativeRange",value:function(){var B=document.getSelection();if(B==null||B.rangeCount<=0)return null;var Z=B.getRangeAt(0);if(Z==null)return null;var ut=this.normalizeNative(Z);return d.info("getNativeRange",ut),ut}},{key:"getRange",value:function(){var B=this.getNativeRange();if(B==null)return[null,null];var Z=this.normalizedToRange(B);return[Z,B]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||F(this.root,document.activeElement)}},{key:"normalizedToRange",value:function(B){var Z=this,ut=[[B.start.node,B.start.offset]];B.native.collapsed||ut.push([B.end.node,B.end.offset]);var ht=ut.map(function(Y){var V=R(Y,2),L=V[0],et=V[1],st=Z.scroll.find(L,!0),_t=st.offset(Z.scroll);return et===0?_t:st instanceof a.LeafBlot?_t+st.index(L,et):_t+st.length()}),it=Math.min(Math.max.apply(Math,g(ht)),this.scroll.length()-1),mt=Math.min.apply(Math,[it].concat(g(ht)));return new I(mt,it-mt)}},{key:"normalizeNative",value:function(B){if(!F(this.root,B.startContainer)||!B.collapsed&&!F(this.root,B.endContainer))return null;var Z={start:{node:B.startContainer,offset:B.startOffset},end:{node:B.endContainer,offset:B.endOffset},native:B};return[Z.start,Z.end].forEach(function(ut){for(var ht=ut.node,it=ut.offset;!(ht instanceof Text)&&ht.childNodes.length>0;)if(ht.childNodes.length>it)ht=ht.childNodes[it],it=0;else if(ht.childNodes.length===it)ht=ht.lastChild,ht instanceof Text?it=ht.data.length:ht.childNodes.length>0?it=ht.childNodes.length:it=ht.childNodes.length+1;else break;ut.node=ht,ut.offset=it}),Z}},{key:"rangeToNative",value:function(B){var Z=this,ut=B.collapsed?[B.index]:[B.index,B.index+B.length],ht=[],it=this.scroll.length();return ut.forEach(function(mt,Y){mt=Math.min(it-1,mt);var V=Z.scroll.leaf(mt),L=R(V,2),et=L[0],st=L[1],_t=et.position(st,Y!==0),ot=R(_t,2),dt=ot[0],Tt=ot[1];ht.push(dt,Tt)}),ht.length<2?ht.concat(ht):ht}},{key:"scrollIntoView",value:function(B){var Z=this.lastRange;if(Z!=null){var ut=this.getBounds(Z.index,Z.length);if(ut!=null){var ht=this.scroll.length()-1,it=this.scroll.line(Math.min(Z.index,ht)),mt=R(it,1),Y=mt[0],V=Y;if(Z.length>0){var L=this.scroll.line(Math.min(Z.index+Z.length,ht)),et=R(L,1);V=et[0]}if(!(Y==null||V==null)){var st=B.getBoundingClientRect();ut.top<st.top?B.scrollTop-=st.top-ut.top:ut.bottom>st.bottom&&(B.scrollTop+=ut.bottom-st.bottom)}}}}},{key:"setNativeRange",value:function(B,Z){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B,ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(d.info("setNativeRange",B,Z,ut,ht),!(B!=null&&(this.root.parentNode==null||B.parentNode==null||ut.parentNode==null))){var mt=document.getSelection();if(mt!=null)if(B!=null){this.hasFocus()||this.root.focus();var Y=this.getNativeRange()||{},V=Y.native;if(V==null||it||B!==V.startContainer||Z!==V.startOffset||ut!==V.endContainer||ht!==V.endOffset){B.tagName==="BR"&&(Z=Array.from(B.parentNode.childNodes).indexOf(B),B=B.parentNode),ut.tagName==="BR"&&(ht=Array.from(ut.parentNode.childNodes).indexOf(ut),ut=ut.parentNode);var L=document.createRange();L.setStart(B,Z),L.setEnd(ut,ht),mt.removeAllRanges(),mt.addRange(L)}}else mt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(B){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.a.sources.API;if(typeof Z=="string"&&(ut=Z,Z=!1),d.info("setRange",B),B!=null){var ht=this.rangeToNative(B);this.setNativeRange.apply(this,g(ht).concat([Z]))}else this.setNativeRange(null);this.update(ut)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.a.sources.USER,Z=this.lastRange,ut=this.getRange(),ht=R(ut,2),it=ht[0],mt=ht[1];if(this.lastRange=it,this.lastNative=mt,this.lastRange!=null&&(this.savedRange=this.lastRange),!S()(Z,this.lastRange)){var Y;if(!this.composing&&mt!=null&&mt.native.collapsed&&mt.start.node!==this.cursor.textNode){var V=this.cursor.restore();V&&this.setNativeRange(V.startNode,V.startOffset,V.endNode,V.endOffset)}var L=[A.a.events.SELECTION_CHANGE,u()(this.lastRange),u()(Z),B];if((Y=this.emitter).emit.apply(Y,[A.a.events.EDITOR_CHANGE].concat(L)),B!==A.a.sources.SILENT){var et;(et=this.emitter).emit.apply(et,L)}}}}]),N}();function F(N,tt){try{tt.parentNode}catch{return!1}return tt instanceof Text&&(tt=tt.parentNode),N.contains(tt)}},function(e,i,t){(function(a){var o=function(u){return u&&u.Math==Math&&u};e.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof a=="object"&&a)||function(){return this}()||Function("return this")()}).call(this,t(58))},function(e,i,t){t.d(i,"a",function(){return b}),t.d(i,"b",function(){return R});var a=t(2);function o(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(x){return typeof x}:o=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o(P)}function u(P,v){if(!(P instanceof v))throw new TypeError("Cannot call a class as a function")}function p(P,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(v&&v.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),v&&S(P,v)}function S(P,v){return S=Object.setPrototypeOf||function(U,$){return U.__proto__=$,U},S(P,v)}function A(P){var v=w();return function(){var U=_(P),$;if(v){var m=_(this).constructor;$=Reflect.construct(U,arguments,m)}else $=U.apply(this,arguments);return E(this,$)}}function E(P,v){if(v&&(o(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(P)}function g(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(P){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},_(P)}var b=function(P){p(x,P);var v=A(x);function x(){return u(this,x),v.apply(this,arguments)}return x}(a.TextBlot);function R(P){return P.replace(/[&<>"']/g,function(v){var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return x[v]})}},function(e,i,t){var a=t(2);function o(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(U){return typeof U}:o=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o(v)}function u(v,x){if(!(v instanceof x))throw new TypeError("Cannot call a class as a function")}function p(v,x){for(var U=0;U<x.length;U++){var $=x[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(v,$.key,$)}}function S(v,x,U){return x&&p(v.prototype,x),U&&p(v,U),v}function A(v,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),x&&E(v,x)}function E(v,x){return E=Object.setPrototypeOf||function($,m){return $.__proto__=m,$},E(v,x)}function g(v){var x=b();return function(){var $=R(v),m;if(x){var l=R(this).constructor;m=Reflect.construct($,arguments,l)}else m=$.apply(this,arguments);return w(this,m)}}function w(v,x){if(x&&(o(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(v)}function _(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(v){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},R(v)}var P=function(v){A(U,v);var x=g(U);function U(){return u(this,U),x.apply(this,arguments)}return S(U,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),U}(a.EmbedBlot);P.blotName="break",P.tagName="BR",i.a=P},function(e,i,t){t.d(i,"b",function(){return _}),t.d(i,"d",function(){return b}),t.d(i,"c",function(){return R}),t.d(i,"a",function(){return P});var a=t(73),o=t(74),u=t(32);function p(v){return g(v)||E(v)||A(v)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(v,x){if(v){if(typeof v=="string")return w(v,x);var U=Object.prototype.toString.call(v).slice(8,-1);if(U==="Object"&&v.constructor&&(U=v.constructor.name),U==="Map"||U==="Set")return Array.from(v);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return w(v,x)}}function E(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function g(v){if(Array.isArray(v))return w(v)}function w(v,x){(x==null||x>v.length)&&(x=v.length);for(var U=0,$=new Array(x);U<x;U++)$[U]=v[U];return $}var _=u.a.map(function(v){return Object(a.a)(u.d,v)}),b=u.c.map(function(v){return Object(o.a)(u.d,v)}),R=b.reduce(function(v,x){return v[x.attrName]=x,v},{}),P=[].concat(p(_),p(b)).reduce(function(v,x){return v[x.keyName]=x,v},{})},function(e,i,t){function a(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}var o=function u(p){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,u),this.quill=p,this.options=S};o.DEFAULTS={},i.a=o},function(e,i,t){var a=t(2);function o(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(v){return typeof v}:o=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o(R)}function u(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function p(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),P&&S(R,P)}function S(R,P){return S=Object.setPrototypeOf||function(x,U){return x.__proto__=U,x},S(R,P)}function A(R){var P=w();return function(){var x=_(R),U;if(P){var $=_(this).constructor;U=Reflect.construct(x,arguments,$)}else U=x.apply(this,arguments);return E(this,U)}}function E(R,P){if(P&&(o(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(R)}function g(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(R){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},_(R)}var b=function(R){p(v,R);var P=A(v);function v(){return u(this,v),P.apply(this,arguments)}return v}(a.ContainerBlot);i.a=b},function(e,i,t){var a=t(2),o=t(10),u=t(9);function p(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(m)}function S(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")}function A(m,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function E(m,l,f){return l&&A(m.prototype,l),f&&A(m,f),m}function g(m,l,f){return typeof Reflect<"u"&&Reflect.get?g=Reflect.get:g=function(I,M,F){var N=w(I,M);if(N){var tt=Object.getOwnPropertyDescriptor(N,M);return tt.get?tt.get.call(F):tt.value}},g(m,l,f||m)}function w(m,l){for(;!Object.prototype.hasOwnProperty.call(m,l)&&(m=U(m),m!==null););return m}function _(m,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(l&&l.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),l&&b(m,l)}function b(m,l){return b=Object.setPrototypeOf||function(d,I){return d.__proto__=I,d},b(m,l)}function R(m){var l=x();return function(){var d=U(m),I;if(l){var M=U(this).constructor;I=Reflect.construct(d,arguments,M)}else I=d.apply(this,arguments);return P(this,I)}}function P(m,l){if(l&&(p(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U(m){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},U(m)}var $=function(m){_(f,m);var l=R(f);function f(){return S(this,f),l.apply(this,arguments)}return E(f,[{key:"formatAt",value:function(I,M,F,N){if(f.compare(this.statics.blotName,F)<0&&this.scroll.query(F,a.Scope.BLOT)){var tt=this.isolate(I,M);N&&tt.wrap(F,N)}else g(U(f.prototype),"formatAt",this).call(this,I,M,F,N)}},{key:"optimize",value:function(I){if(g(U(f.prototype),"optimize",this).call(this,I),this.parent instanceof f&&f.compare(this.statics.blotName,this.parent.statics.blotName)>0){var M=this.parent.isolate(this.offset(),this.length());this.moveChildren(M),M.wrap(this)}}}],[{key:"compare",value:function(I,M){var F=f.order.indexOf(I),N=f.order.indexOf(M);return F>=0||N>=0?F-N:I===M?0:I<M?-1:1}}]),f}(a.InlineBlot);$.allowedChildren=[$,o.a,a.EmbedBlot,u.a],$.order=["cursor","inline","link","underline","strike","italic","bold","script","code"],i.a=$},function(e,i,t){var a=function(){return typeof window<"u"};i.a=a},function(e,i,t){(function(a,o){var u=200,p="__lodash_hash_undefined__",S=9007199254740991,A="[object Arguments]",E="[object Array]",g="[object Boolean]",w="[object Date]",_="[object Error]",b="[object Function]",R="[object GeneratorFunction]",P="[object Map]",v="[object Number]",x="[object Object]",U="[object Promise]",$="[object RegExp]",m="[object Set]",l="[object String]",f="[object Symbol]",d="[object WeakMap]",I="[object ArrayBuffer]",M="[object DataView]",F="[object Float32Array]",N="[object Float64Array]",tt="[object Int8Array]",B="[object Int16Array]",Z="[object Int32Array]",ut="[object Uint8Array]",ht="[object Uint8ClampedArray]",it="[object Uint16Array]",mt="[object Uint32Array]",Y=/[\\^$.*+?()[\]{}|]/g,V=/\w*$/,L=/^\[object .+?Constructor\]$/,et=/^(?:0|[1-9]\d*)$/,st={};st[A]=st[E]=st[I]=st[M]=st[g]=st[w]=st[F]=st[N]=st[tt]=st[B]=st[Z]=st[P]=st[v]=st[x]=st[$]=st[m]=st[l]=st[f]=st[ut]=st[ht]=st[it]=st[mt]=!0,st[_]=st[b]=st[d]=!1;var _t=typeof a=="object"&&a&&a.Object===Object&&a,ot=typeof self=="object"&&self&&self.Object===Object&&self,dt=_t||ot||Function("return this")(),Tt=i&&!i.nodeType&&i,Rt=Tt&&typeof o=="object"&&o&&!o.nodeType&&o,rt=Rt&&Rt.exports===Tt;function z(s,k){return s.set(k[0],k[1]),s}function Q(s,k){return s.add(k),s}function J(s,k){for(var h=-1,W=s?s.length:0;++h<W&&k(s[h],h,s)!==!1;);return s}function nt(s,k){for(var h=-1,W=k.length,yt=s.length;++h<W;)s[yt+h]=k[h];return s}function gt(s,k,h,W){var yt=-1,Lt=s?s.length:0;for(W&&Lt&&(h=s[++yt]);++yt<Lt;)h=k(h,s[yt],yt,s);return h}function Pt(s,k){for(var h=-1,W=Array(s);++h<s;)W[h]=k(h);return W}function Bt(s,k){return s==null?void 0:s[k]}function Nt(s){var k=!1;if(s!=null&&typeof s.toString!="function")try{k=!!(s+"")}catch{}return k}function q(s){var k=-1,h=Array(s.size);return s.forEach(function(W,yt){h[++k]=[yt,W]}),h}function y(s,k){return function(h){return s(k(h))}}function c(s){var k=-1,h=Array(s.size);return s.forEach(function(W){h[++k]=W}),h}var T=Array.prototype,H=Function.prototype,ct=Object.prototype,St=dt["__core-js_shared__"],kt=function(){var s=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Gt=H.toString,Yt=ct.hasOwnProperty,re=ct.toString,Ot=RegExp("^"+Gt.call(Yt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ct=rt?dt.Buffer:void 0,It=dt.Symbol,Mt=dt.Uint8Array,wt=y(Object.getPrototypeOf,Object),Ft=Object.create,Dt=ct.propertyIsEnumerable,Wt=T.splice,qt=Object.getOwnPropertySymbols,Jt=Ct?Ct.isBuffer:void 0,ne=y(Object.keys,Object),pt=Pe(dt,"DataView"),At=Pe(dt,"Map"),vt=Pe(dt,"Promise"),G=Pe(dt,"Set"),K=Pe(dt,"WeakMap"),D=Pe(Object,"create"),at=be(pt),X=be(At),lt=be(vt),Et=be(G),xt=be(K),jt=It?It.prototype:void 0,$t=jt?jt.valueOf:void 0;function Kt(s){var k=-1,h=s?s.length:0;for(this.clear();++k<h;){var W=s[k];this.set(W[0],W[1])}}function te(){this.__data__=D?D(null):{}}function fe(s){return this.has(s)&&delete this.__data__[s]}function Ee(s){var k=this.__data__;if(D){var h=k[s];return h===p?void 0:h}return Yt.call(k,s)?k[s]:void 0}function we(s){var k=this.__data__;return D?k[s]!==void 0:Yt.call(k,s)}function Re(s,k){var h=this.__data__;return h[s]=D&&k===void 0?p:k,this}Kt.prototype.clear=te,Kt.prototype.delete=fe,Kt.prototype.get=Ee,Kt.prototype.has=we,Kt.prototype.set=Re;function ie(s){var k=-1,h=s?s.length:0;for(this.clear();++k<h;){var W=s[k];this.set(W[0],W[1])}}function Fe(){this.__data__=[]}function Dr(s){var k=this.__data__,h=ar(k,s);if(h<0)return!1;var W=k.length-1;return h==W?k.pop():Wt.call(k,h,1),!0}function rr(s){var k=this.__data__,h=ar(k,s);return h<0?void 0:k[h][1]}function jr(s){return ar(this.__data__,s)>-1}function Hr(s,k){var h=this.__data__,W=ar(h,s);return W<0?h.push([s,k]):h[W][1]=k,this}ie.prototype.clear=Fe,ie.prototype.delete=Dr,ie.prototype.get=rr,ie.prototype.has=jr,ie.prototype.set=Hr;function de(s){var k=-1,h=s?s.length:0;for(this.clear();++k<h;){var W=s[k];this.set(W[0],W[1])}}function kr(){this.__data__={hash:new Kt,map:new(At||ie),string:new Kt}}function Fr(s){return Be(this,s).delete(s)}function Ur(s){return Be(this,s).get(s)}function Wr(s){return Be(this,s).has(s)}function nr(s,k){return Be(this,s).set(s,k),this}de.prototype.clear=kr,de.prototype.delete=Fr,de.prototype.get=Ur,de.prototype.has=Wr,de.prototype.set=nr;function _e(s){this.__data__=new ie(s)}function vr(){this.__data__=new ie}function ir(s){return this.__data__.delete(s)}function or(s){return this.__data__.get(s)}function mr(s){return this.__data__.has(s)}function yr(s,k){var h=this.__data__;if(h instanceof ie){var W=h.__data__;if(!At||W.length<u-1)return W.push([s,k]),this;h=this.__data__=new de(W)}return h.set(s,k),this}_e.prototype.clear=vr,_e.prototype.delete=ir,_e.prototype.get=or,_e.prototype.has=mr,_e.prototype.set=yr;function Ue(s,k){var h=tr(s)||Ie(s)?Pt(s.length,String):[],W=h.length,yt=!!W;for(var Lt in s)(k||Yt.call(s,Lt))&&!(yt&&(Lt=="length"||Gr(Lt,W)))&&h.push(Lt);return h}function gr(s,k,h){var W=s[k];(!(Yt.call(s,k)&&hr(W,h))||h===void 0&&!(k in s))&&(s[k]=h)}function ar(s,k){for(var h=s.length;h--;)if(hr(s[h][0],k))return h;return-1}function Me(s,k){return s&&_r(k,dr(k),s)}function Ke(s,k,h,W,yt,Lt,zt){var Xt;if(W&&(Xt=Lt?W(s,yt,Lt,zt):W(s)),Xt!==void 0)return Xt;if(!Ne(s))return s;var Zt=tr(s);if(Zt){if(Xt=xr(s),!k)return Vr(s,Xt)}else{var Vt=We(s),ee=Vt==b||Vt==R;if(Se(s))return ur(s,k);if(Vt==x||Vt==A||ee&&!Lt){if(Nt(s))return Lt?s:{};if(Xt=De(ee?{}:s),!k)return Ir(s,Me(Xt,s))}else{if(!st[Vt])return Lt?s:{};Xt=$e(s,Vt,Ke,k)}}zt||(zt=new _e);var ce=zt.get(s);if(ce)return ce;if(zt.set(s,Xt),!Zt)var oe=h?Ge(s):dr(s);return J(oe||s,function(pe,me){oe&&(me=pe,pe=s[me]),gr(Xt,me,Ke(pe,k,h,W,me,s,zt))}),Xt}function lr(s){return Ne(s)?Ft(s):{}}function $r(s,k,h){var W=k(s);return tr(s)?W:nt(W,h(s))}function zr(s){return re.call(s)}function Ar(s){if(!Ne(s)||Or(s))return!1;var k=ze(s)||Nt(s)?Ot:L;return k.test(be(s))}function sr(s){if(!Je(s))return ne(s);var k=[];for(var h in Object(s))Yt.call(s,h)&&h!="constructor"&&k.push(h);return k}function ur(s,k){if(k)return s.slice();var h=new s.constructor(s.length);return s.copy(h),h}function cr(s){var k=new s.constructor(s.byteLength);return new Mt(k).set(new Mt(s)),k}function Ye(s,k){var h=k?cr(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.byteLength)}function Ze(s,k,h){var W=k?h(q(s),!0):q(s);return gt(W,z,new s.constructor)}function Rr(s){var k=new s.constructor(s.source,V.exec(s));return k.lastIndex=s.lastIndex,k}function Kr(s,k,h){var W=k?h(c(s),!0):c(s);return gt(W,Q,new s.constructor)}function Ve(s){return $t?Object($t.call(s)):{}}function br(s,k){var h=k?cr(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.length)}function Vr(s,k){var h=-1,W=s.length;for(k||(k=Array(W));++h<W;)k[h]=s[h];return k}function _r(s,k,h,W){h||(h={});for(var yt=-1,Lt=k.length;++yt<Lt;){var zt=k[yt],Xt=W?W(h[zt],s[zt],zt,h,s):void 0;gr(h,zt,Xt===void 0?s[zt]:Xt)}return h}function Ir(s,k){return _r(s,Te(s),k)}function Ge(s){return $r(s,dr,Te)}function Be(s,k){var h=s.__data__;return qr(k)?h[typeof k=="string"?"string":"hash"]:h.map}function Pe(s,k){var h=Bt(s,k);return Ar(h)?h:void 0}var Te=qt?y(qt,Object):Xr,We=zr;(pt&&We(new pt(new ArrayBuffer(1)))!=M||At&&We(new At)!=P||vt&&We(vt.resolve())!=U||G&&We(new G)!=m||K&&We(new K)!=d)&&(We=function(s){var k=re.call(s),h=k==x?s.constructor:void 0,W=h?be(h):void 0;if(W)switch(W){case at:return M;case X:return P;case lt:return U;case Et:return m;case xt:return d}return k});function xr(s){var k=s.length,h=s.constructor(k);return k&&typeof s[0]=="string"&&Yt.call(s,"index")&&(h.index=s.index,h.input=s.input),h}function De(s){return typeof s.constructor=="function"&&!Je(s)?lr(wt(s)):{}}function $e(s,k,h,W){var yt=s.constructor;switch(k){case I:return cr(s);case g:case w:return new yt(+s);case M:return Ye(s,W);case F:case N:case tt:case B:case Z:case ut:case ht:case it:case mt:return br(s,W);case P:return Ze(s,W,h);case v:case l:return new yt(s);case $:return Rr(s);case m:return Kr(s,W,h);case f:return Ve(s)}}function Gr(s,k){return k=k??S,!!k&&(typeof s=="number"||et.test(s))&&s>-1&&s%1==0&&s<k}function qr(s){var k=typeof s;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?s!=="__proto__":s===null}function Or(s){return!!kt&&kt in s}function Je(s){var k=s&&s.constructor,h=typeof k=="function"&&k.prototype||ct;return s===h}function be(s){if(s!=null){try{return Gt.call(s)}catch{}try{return s+""}catch{}}return""}function fr(s){return Ke(s,!0,!0)}function hr(s,k){return s===k||s!==s&&k!==k}function Ie(s){return wr(s)&&Yt.call(s,"callee")&&(!Dt.call(s,"callee")||re.call(s)==A)}var tr=Array.isArray;function je(s){return s!=null&&Er(s.length)&&!ze(s)}function wr(s){return qe(s)&&je(s)}var Se=Jt||Cr;function ze(s){var k=Ne(s)?re.call(s):"";return k==b||k==R}function Er(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=S}function Ne(s){var k=typeof s;return!!s&&(k=="object"||k=="function")}function qe(s){return!!s&&typeof s=="object"}function dr(s){return je(s)?Ue(s):sr(s)}function Xr(){return[]}function Cr(){return!1}o.exports=fr}).call(this,t(58),t(66)(e))},function(e,i,t){t.d(i,"a",function(){return M}),t.d(i,"b",function(){return d}),t.d(i,"c",function(){return I});var a=t(6),o=t(10),u=t(24),p=t(14),S=t(9),A=t(13),E=t(0);function g(F){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(tt){return typeof tt}:g=function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},g(F)}function w(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function _(F,N){for(var tt=0;tt<N.length;tt++){var B=N[tt];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(F,B.key,B)}}function b(F,N,tt){return N&&_(F.prototype,N),tt&&_(F,tt),F}function R(F,N,tt){return typeof Reflect<"u"&&Reflect.get?R=Reflect.get:R=function(Z,ut,ht){var it=P(Z,ut);if(it){var mt=Object.getOwnPropertyDescriptor(it,ut);return mt.get?mt.get.call(ht):mt.value}},R(F,N,tt||F)}function P(F,N){for(;!Object.prototype.hasOwnProperty.call(F,N)&&(F=f(F),F!==null););return F}function v(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),N&&x(F,N)}function x(F,N){return x=Object.setPrototypeOf||function(B,Z){return B.__proto__=Z,B},x(F,N)}function U(F){var N=l();return function(){var B=f(F),Z;if(N){var ut=f(this).constructor;Z=Reflect.construct(B,arguments,ut)}else Z=B.apply(this,arguments);return $(this,Z)}}function $(F,N){if(N&&(g(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(F)}function m(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(F){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(tt){return tt.__proto__||Object.getPrototypeOf(tt)},f(F)}var d=function(F){v(tt,F);var N=U(tt);function tt(){return w(this,tt),N.apply(this,arguments)}return b(tt,[{key:"code",value:function(Z,ut){var ht=this.children.map(function(it){return it.length()<=1?"":it.domNode.textContent}).join(`
`).slice(Z,Z+ut);return Object(S.b)(ht)}},{key:"html",value:function(Z,ut){return`<pre>
`.concat(this.code(Z,ut),`
</pre>`)}}],[{key:"create",value:function(Z){var ut=R(f(tt),"create",this).call(this,Z);return ut.setAttribute("spellcheck",!1),ut}}]),tt}(A.a),I=function(F){v(tt,F);var N=U(tt);function tt(){return w(this,tt),N.apply(this,arguments)}return b(tt,null,[{key:"register",value:function(){E.a.register(d)}}]),tt}(a.d),M=function(F){v(tt,F);var N=U(tt);function tt(){return w(this,tt),N.apply(this,arguments)}return tt}(p.a);M.blotName="code",M.tagName="CODE",I.blotName="code-block",I.className="ql-code-block",I.tagName="DIV",d.blotName="code-block-container",d.className="ql-code-block-container",d.tagName="DIV",d.allowedChildren=[I],I.allowedChildren=[S.a,o.a,u.a],I.requiredContainer=d,I.TAB="  "},function(e,i,t){var a=t(2),o=t(3),u=t(6),p=t(10),S=t(13);function A(B){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(ut){return typeof ut}:A=function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut},A(B)}function E(B,Z){return R(B)||b(B,Z)||w(B,Z)||g()}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(B,Z){if(B){if(typeof B=="string")return _(B,Z);var ut=Object.prototype.toString.call(B).slice(8,-1);if(ut==="Object"&&B.constructor&&(ut=B.constructor.name),ut==="Map"||ut==="Set")return Array.from(B);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return _(B,Z)}}function _(B,Z){(Z==null||Z>B.length)&&(Z=B.length);for(var ut=0,ht=new Array(Z);ut<Z;ut++)ht[ut]=B[ut];return ht}function b(B,Z){var ut=B==null?null:typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(ut!=null){var ht=[],it=!0,mt=!1,Y,V;try{for(ut=ut.call(B);!(it=(Y=ut.next()).done)&&(ht.push(Y.value),!(Z&&ht.length===Z));it=!0);}catch(L){mt=!0,V=L}finally{try{!it&&ut.return!=null&&ut.return()}finally{if(mt)throw V}}return ht}}function R(B){if(Array.isArray(B))return B}function P(B,Z){if(!(B instanceof Z))throw new TypeError("Cannot call a class as a function")}function v(B,Z){for(var ut=0;ut<Z.length;ut++){var ht=Z[ut];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(B,ht.key,ht)}}function x(B,Z,ut){return Z&&v(B.prototype,Z),ut&&v(B,ut),B}function U(B,Z,ut){return typeof Reflect<"u"&&Reflect.get?U=Reflect.get:U=function(it,mt,Y){var V=$(it,mt);if(V){var L=Object.getOwnPropertyDescriptor(V,mt);return L.get?L.get.call(Y):L.value}},U(B,Z,ut||B)}function $(B,Z){for(;!Object.prototype.hasOwnProperty.call(B,Z)&&(B=F(B),B!==null););return B}function m(B,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(Z&&Z.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Z&&l(B,Z)}function l(B,Z){return l=Object.setPrototypeOf||function(ht,it){return ht.__proto__=it,ht},l(B,Z)}function f(B){var Z=M();return function(){var ht=F(B),it;if(Z){var mt=F(this).constructor;it=Reflect.construct(ht,arguments,mt)}else it=ht.apply(this,arguments);return d(this,it)}}function d(B,Z){if(Z&&(A(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(B)}function I(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(B){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},F(B)}function N(B){return B instanceof u.d||B instanceof u.a}var tt=function(B){m(ut,B);var Z=f(ut);function ut(ht,it,mt){var Y,V=mt.emitter,L=mt.toggleBlankClass;return P(this,ut),Y=Z.call(this,ht,it),Y.emitter=V,Y.toggleBlankClass=L,Y.batch=!1,Y.optimize(),Y.enable(),Y.domNode.addEventListener("dragstart",function(et){return Y.handleDragStart(et)}),Y}return x(ut,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var it=this.batch;this.batch=!1,this.update(it)}},{key:"emitMount",value:function(it){this.emitter.emit(o.a.events.SCROLL_BLOT_MOUNT,it)}},{key:"emitUnmount",value:function(it){this.emitter.emit(o.a.events.SCROLL_BLOT_UNMOUNT,it)}},{key:"deleteAt",value:function(it,mt){var Y=this.line(it),V=E(Y,2),L=V[0],et=V[1],st=this.line(it+mt),_t=E(st,1),ot=_t[0];if(U(F(ut.prototype),"deleteAt",this).call(this,it,mt),ot!=null&&L!==ot&&et>0){if(L instanceof u.a||ot instanceof u.a){this.optimize();return}var dt=ot.children.head instanceof p.a?null:ot.children.head;L.moveChildren(ot,dt),L.remove()}this.optimize()}},{key:"enable",value:function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",it)}},{key:"formatAt",value:function(it,mt,Y,V){U(F(ut.prototype),"formatAt",this).call(this,it,mt,Y,V),this.optimize()}},{key:"handleDragStart",value:function(it){it.preventDefault()}},{key:"insertAt",value:function(it,mt,Y){if(it>=this.length())if(Y==null||this.scroll.query(mt,a.Scope.BLOCK)==null){var V=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(V),Y==null&&mt.endsWith(`
`)?V.insertAt(0,mt.slice(0,-1),Y):V.insertAt(0,mt,Y)}else{var L=this.scroll.create(mt,Y);this.appendChild(L)}else U(F(ut.prototype),"insertAt",this).call(this,it,mt,Y);this.optimize()}},{key:"insertBefore",value:function(it,mt){if(it.statics.scope===a.Scope.INLINE_BLOT){var Y=this.scroll.create(this.statics.defaultChild.blotName);Y.appendChild(it),U(F(ut.prototype),"insertBefore",this).call(this,Y,mt)}else U(F(ut.prototype),"insertBefore",this).call(this,it,mt)}},{key:"isEnabled",value:function(){return this.domNode.getAttribute("contenteditable")==="true"}},{key:"leaf",value:function(it){return this.path(it).pop()||[null,-1]}},{key:"line",value:function(it){return it===this.length()?this.line(it-1):this.descendant(N,it)}},{key:"lines",value:function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Y=function V(L,et,st){var _t=[],ot=st;return L.children.forEachAt(et,st,function(dt,Tt,Rt){N(dt)?_t.push(dt):dt instanceof a.ContainerBlot&&(_t=_t.concat(V(dt,Tt,ot))),ot-=Rt}),_t};return Y(this,it,mt)}},{key:"optimize",value:function(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(U(F(ut.prototype),"optimize",this).call(this,it,mt),it.length>0&&this.emitter.emit(o.a.events.SCROLL_OPTIMIZE,it,mt))}},{key:"path",value:function(it){return U(F(ut.prototype),"path",this).call(this,it).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(it){var mt=this;if(this.batch){Array.isArray(it)&&(this.batch=this.batch.concat(it),this.toggleBlankClass());return}var Y=o.a.sources.USER;typeof it=="string"&&(Y=it),Array.isArray(it)||(it=this.observer.takeRecords()),it=it.filter(function(V){var L=V.target,et=mt.find(L,!0);return et&&et.scroll===mt}),it.length>0&&this.emitter.emit(o.a.events.SCROLL_BEFORE_UPDATE,Y,it),U(F(ut.prototype),"update",this).call(this,it.concat([])),it.length>0&&this.emitter.emit(o.a.events.SCROLL_UPDATE,Y,it)}}]),ut}(a.ScrollBlot);tt.blotName="scroll",tt.className="ql-editor",tt.tagName="DIV",tt.defaultChild=u.d,tt.allowedChildren=[u.d,u.a,S.a],i.a=tt},function(e,i,t){t.d(i,"a",function(){return A}),t.d(i,"b",function(){return g}),t.d(i,"c",function(){return w});var a=t(32),o=t(33);function u(_,b){var R=Object.keys(_);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(_);b&&(P=P.filter(function(v){return Object.getOwnPropertyDescriptor(_,v).enumerable})),R.push.apply(R,P)}return R}function p(_){for(var b=1;b<arguments.length;b++){var R=arguments[b]!=null?arguments[b]:{};b%2?u(Object(R),!0).forEach(function(P){S(_,P,R[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(R)):u(Object(R)).forEach(function(P){Object.defineProperty(_,P,Object.getOwnPropertyDescriptor(R,P))})}return _}function S(_,b,R){return b in _?Object.defineProperty(_,b,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[b]=R,_}var A={attribute:"attr",style:"style"},E=p(p({},a.d.allowedTags.reduce(function(_,b){return _[b]={name:a.d.name,keyNamesSet:a.b},_},{})),o.d.allowedTags.reduce(function(_,b){return _[b]={name:o.d.name,keyNamesSet:o.b},_},{}));function g(_,b,R){var P=E[_];return P&&P.keyNamesSet.has(b)?"".concat(R).concat(P.name,"_").concat(b):b}function w(_){return _.replace(/([^]*_)/,"")}},function(e,i){var t=Function.prototype,a=t.bind,o=t.call,u=a&&a.bind(o);e.exports=a?function(p){return p&&u(o,p)}:function(p){return p&&function(){return o.apply(p,arguments)}}},function(e,i,t){t.d(i,"c",function(){return _}),t.d(i,"d",function(){return b}),t.d(i,"b",function(){return R}),t.d(i,"a",function(){return P});var a=t(73),o=t(74),u=t(33);function p(v){return g(v)||E(v)||A(v)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(v,x){if(v){if(typeof v=="string")return w(v,x);var U=Object.prototype.toString.call(v).slice(8,-1);if(U==="Object"&&v.constructor&&(U=v.constructor.name),U==="Map"||U==="Set")return Array.from(v);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return w(v,x)}}function E(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function g(v){if(Array.isArray(v))return w(v)}function w(v,x){(x==null||x>v.length)&&(x=v.length);for(var U=0,$=new Array(x);U<x;U++)$[U]=v[U];return $}var _=u.a.map(function(v){return Object(a.a)(u.d,v)}),b=u.c.map(function(v){return Object(o.a)(u.d,v)}),R=b.reduce(function(v,x){return v[x.attrName]=x,v},{}),P=[].concat(p(_),p(b)).reduce(function(v,x){return v[x.keyName]=x,v},{})},function(e,i){e.exports=function(t){return typeof t=="function"}},function(e,i,t){var a=["error","warn","log","info"],o="warn";function u(S){if(a.indexOf(S)<=a.indexOf(o)){for(var A,E=arguments.length,g=new Array(E>1?E-1:0),w=1;w<E;w++)g[w-1]=arguments[w];(A=console)[S].apply(A,g)}}function p(S){return a.reduce(function(A,E){return A[E]=u.bind(console,E,S),A},{})}p.level=function(S){o=S},u.level=p.level,i.a=p},function(e,i,t){var a=t(2),o=t(9);function u($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(l){return typeof l}:u=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},u($)}function p($,m){if(!($ instanceof m))throw new TypeError("Cannot call a class as a function")}function S($,m){for(var l=0;l<m.length;l++){var f=m[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty($,f.key,f)}}function A($,m,l){return m&&S($.prototype,m),l&&S($,l),$}function E($,m,l){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get:E=function(d,I,M){var F=g(d,I);if(F){var N=Object.getOwnPropertyDescriptor(F,I);return N.get?N.get.call(M):N.value}},E($,m,l||$)}function g($,m){for(;!Object.prototype.hasOwnProperty.call($,m)&&($=x($),$!==null););return $}function w($,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(m&&m.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),m&&_($,m)}function _($,m){return _=Object.setPrototypeOf||function(f,d){return f.__proto__=d,f},_($,m)}function b($){var m=v();return function(){var f=x($),d;if(m){var I=x(this).constructor;d=Reflect.construct(f,arguments,I)}else d=f.apply(this,arguments);return R(this,d)}}function R($,m){if(m&&(u(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P($)}function P($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x($){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},x($)}var U=function($){w(l,$);var m=b(l);function l(f,d,I){var M;return p(this,l),M=m.call(this,f,d),M.selection=I,M.textNode=document.createTextNode(l.CONTENTS),M.domNode.appendChild(M.textNode),M.savedLength=0,M}return A(l,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(d,I){if(this.savedLength!==0){E(x(l.prototype),"format",this).call(this,d,I);return}for(var M=this,F=0;M!=null&&M.statics.scope!==a.Scope.BLOCK_BLOT;)F+=M.offset(M.parent),M=M.parent;M!=null&&(this.savedLength=l.CONTENTS.length,M.optimize(),M.formatAt(F,l.CONTENTS.length,d,I),this.savedLength=0)}},{key:"index",value:function(d,I){return d===this.textNode?0:E(x(l.prototype),"index",this).call(this,d,I)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){E(x(l.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||this.parent==null)return null;for(var d=this.selection.getNativeRange();this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var I=this.prev instanceof o.a?this.prev:null,M=I?I.length():0,F=this.next instanceof o.a?this.next:null,N=F?F.text:"",tt=this.textNode,B=tt.data.split(l.CONTENTS).join("");tt.data=l.CONTENTS;var Z;if(I)Z=I,(B||F)&&(I.insertAt(I.length(),B+N),F&&F.remove());else if(F)Z=F,F.insertAt(0,B);else{var ut=document.createTextNode(B);Z=this.scroll.create(ut),this.parent.insertBefore(Z,this)}if(this.remove(),d){var ht=function(V,L){return I&&V===I.domNode?L:V===tt?M+L-1:F&&V===F.domNode?M+B.length+L:null},it=ht(d.start.node,d.start.offset),mt=ht(d.end.node,d.end.offset);if(it!==null&&mt!==null)return{startNode:Z.domNode,startOffset:it,endNode:Z.domNode,endOffset:mt}}return null}},{key:"update",value:function(d,I){var M=this;if(d.some(function(N){return N.type==="characterData"&&N.target===M.textNode})){var F=this.restore();F&&(I.range=F)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),l}(a.EmbedBlot);U.blotName="cursor",U.className="ql-cursor",U.tagName="span",U.CONTENTS="\uFEFF",i.a=U},function(e,i,t){t.r(i);var a=t(0),o=t(6),u=t(10),p=t(13),S=t(24),A=t(56),E=t(14),g=t(18),w=t(9),_=t(26),b=t(50),R=t(27),P=t(59);a.a.register({"blots/block":o.d,"blots/block/embed":o.a,"blots/break":u.a,"blots/container":p.a,"blots/cursor":S.a,"blots/embed":A.a,"blots/inline":E.a,"blots/scroll":g.a,"blots/text":w.a,"modules/clipboard":_.b,"modules/history":b.a,"modules/keyboard":R.b,"modules/uploader":P.a}),i.default=a.a},function(e,i,t){t.d(i,"b",function(){return z}),t.d(i,"d",function(){return Bt}),t.d(i,"a",function(){return Q}),t.d(i,"c",function(){return J});var a=t(1),o=t.n(a),u=t(2),p=t(6),S=t(0),A=t(23),E=t(12),g=t(38),w=t(45),_=t(17),b=t(34),R=t(35),P=t(46),v=t(47),x=t(27),U=t(31);function $(Ot,Ct){var It=Object.keys(Ot);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(Ot);Ct&&(Mt=Mt.filter(function(wt){return Object.getOwnPropertyDescriptor(Ot,wt).enumerable})),It.push.apply(It,Mt)}return It}function m(Ot){for(var Ct=1;Ct<arguments.length;Ct++){var It=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?$(Object(It),!0).forEach(function(Mt){f(Ot,Mt,It[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ot,Object.getOwnPropertyDescriptors(It)):$(Object(It)).forEach(function(Mt){Object.defineProperty(Ot,Mt,Object.getOwnPropertyDescriptor(It,Mt))})}return Ot}function l(Ot){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(It){return typeof It}:l=function(It){return It&&typeof Symbol=="function"&&It.constructor===Symbol&&It!==Symbol.prototype?"symbol":typeof It},l(Ot)}function f(Ot,Ct,It){return Ct in Ot?Object.defineProperty(Ot,Ct,{value:It,enumerable:!0,configurable:!0,writable:!0}):Ot[Ct]=It,Ot}function d(Ot,Ct){return tt(Ot)||N(Ot,Ct)||M(Ot,Ct)||I()}function I(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(Ot,Ct){if(Ot){if(typeof Ot=="string")return F(Ot,Ct);var It=Object.prototype.toString.call(Ot).slice(8,-1);if(It==="Object"&&Ot.constructor&&(It=Ot.constructor.name),It==="Map"||It==="Set")return Array.from(Ot);if(It==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(It))return F(Ot,Ct)}}function F(Ot,Ct){(Ct==null||Ct>Ot.length)&&(Ct=Ot.length);for(var It=0,Mt=new Array(Ct);It<Ct;It++)Mt[It]=Ot[It];return Mt}function N(Ot,Ct){var It=Ot==null?null:typeof Symbol<"u"&&Ot[Symbol.iterator]||Ot["@@iterator"];if(It!=null){var Mt=[],wt=!0,Ft=!1,Dt,Wt;try{for(It=It.call(Ot);!(wt=(Dt=It.next()).done)&&(Mt.push(Dt.value),!(Ct&&Mt.length===Ct));wt=!0);}catch(qt){Ft=!0,Wt=qt}finally{try{!wt&&It.return!=null&&It.return()}finally{if(Ft)throw Wt}}return Mt}}function tt(Ot){if(Array.isArray(Ot))return Ot}function B(Ot,Ct){if(!(Ot instanceof Ct))throw new TypeError("Cannot call a class as a function")}function Z(Ot,Ct){for(var It=0;It<Ct.length;It++){var Mt=Ct[It];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(Ot,Mt.key,Mt)}}function ut(Ot,Ct,It){return Ct&&Z(Ot.prototype,Ct),It&&Z(Ot,It),Ot}function ht(Ot,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function");Ot.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:Ot,writable:!0,configurable:!0}}),Ct&&it(Ot,Ct)}function it(Ot,Ct){return it=Object.setPrototypeOf||function(Mt,wt){return Mt.__proto__=wt,Mt},it(Ot,Ct)}function mt(Ot){var Ct=L();return function(){var Mt=et(Ot),wt;if(Ct){var Ft=et(this).constructor;wt=Reflect.construct(Mt,arguments,Ft)}else wt=Mt.apply(this,arguments);return Y(this,wt)}}function Y(Ot,Ct){if(Ct&&(l(Ct)==="object"||typeof Ct=="function"))return Ct;if(Ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(Ot)}function V(Ot){if(Ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ot}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(Ot){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(It){return It.__proto__||Object.getPrototypeOf(It)},et(Ot)}var st=Object(A.a)("quill:clipboard"),_t=1,ot=3,dt=[[ot,re],[ot,kt],["br",c],[_t,kt],[_t,y],[_t,q],[_t,Gt],["li",ct],["ol, ul",St],["pre",T],["b",Nt.bind(Nt,"bold")],["i",Nt.bind(Nt,"italic")],["strike",Nt.bind(Nt,"strike")],["style",H]],Tt=[re,kt],Rt=[g.a,R.a].reduce(function(Ot,Ct){return Ot[Ct.keyName]=Ct,Ot},{}),rt=[g.c,w.b,b.c,R.c,P.b,v.b].reduce(function(Ot,Ct){return Ot[Ct.keyName]=Ct,Ot},{}),z=function(Ot){ht(It,Ot);var Ct=mt(It);function It(Mt,wt){var Ft,Dt;return B(this,It),Dt=Ct.call(this,Mt,wt),Dt.quill.root.addEventListener("copy",function(Wt){return Dt.onCaptureCopy(Wt,!1)}),Dt.quill.root.addEventListener("cut",function(Wt){return Dt.onCaptureCopy(Wt,!0)}),Dt.quill.root.addEventListener("paste",Dt.onCapturePaste.bind(V(Dt))),Dt.matchers=[],Dt.tableBlots=(Ft=wt.tableBlots)!==null&&Ft!==void 0?Ft:[],dt.concat(Dt.options.matchers).forEach(function(Wt){var qt=d(Wt,2),Jt=qt[0],ne=qt[1];Dt.addMatcher(Jt,ne)}),Dt}return ut(It,[{key:"addMatcher",value:function(wt,Ft){this.matchers.push([wt,Ft])}},{key:"addTableBlot",value:function(wt){this.tableBlots.push(wt)}},{key:"convert",value:function(wt){var Ft=wt.html,Dt=wt.text,Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Wt[_.c.blotName]?new o.a().insert(Dt,f({},_.c.blotName,Wt[_.c.blotName])):Ft?this.applyMatchers(Ft,Wt):this.applyTextMatchers(Dt)}},{key:"applyTextMatchers",value:function(){var wt=this,Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Ft.length===0)return new o.a;var Dt=this.prepareTextMatching(),Wt=this.quill.root.ownerDocument.createElement("div");Wt.textContent=Ft;var qt=Wt.childNodes[0];return Dt.reduce(function(Jt,ne){return ne(qt,Jt,wt.quill.scroll)},new o.a)}},{key:"applyMatchers",value:function(wt){var Ft=this,Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wt=new DOMParser().parseFromString(wt,"text/html"),qt=Wt.body,Jt=new WeakMap,ne=this.prepareMatching(qt,Jt),pt=d(ne,2),At=pt[0],vt=pt[1],G=Bt(this.quill.scroll,qt,At,vt,Jt);return J(G,`
`)&&(G.ops[G.ops.length-1].attributes==null||Object.values(Dt).some(function(K){return Ft.tableBlots.includes(K)}))?G.compose(new o.a().retain(G.length()-1).delete(1)):G}},{key:"dangerouslyPasteHTML",value:function(wt,Ft){var Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.a.sources.API;if(typeof wt=="string"){var Wt=this.convert({html:wt,text:""});this.quill.setContents(Wt,Ft),this.quill.setSelection(0,S.a.sources.SILENT)}else{var qt=this.convert({html:Ft,text:""});this.quill.updateContents(new o.a().retain(wt).concat(qt),Dt),this.quill.setSelection(wt+qt.length(),S.a.sources.SILENT)}}},{key:"onCaptureCopy",value:function(wt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!wt.defaultPrevented){if(wt.clipboardData)wt.preventDefault();else return;var Dt=this.quill.selection.getRange(),Wt=d(Dt,1),qt=Wt[0];if(qt!=null){var Jt=this.onCopy(qt,Ft),ne=Jt.html,pt=Jt.text;wt.clipboardData.setData("text/plain",pt),wt.clipboardData.setData("text/html",ne),Ft&&(this.raiseCallback("onCut",wt),Object(x.c)({range:qt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(wt){if(!(wt.defaultPrevented||!this.quill.isEnabled())){if(this.raiseCallback("onPaste",wt),wt.clipboardData)wt.preventDefault();else return;var Ft=this.quill.getSelection(!0);if(Ft!=null){var Dt=wt.clipboardData.getData("text/html"),Wt=Array.from(wt.clipboardData.files||[]);if(!Dt&&Wt.length>0){this.quill.uploader.upload(Ft,Wt);return}if(Dt&&Wt.length>0){var qt=new DOMParser().parseFromString(Dt,"text/html"),Jt=qt.body,ne=Jt.childElementCount===1&&Jt.firstElementChild.tagName==="IMG";if(ne){this.quill.uploader.upload(Ft,Wt);return}}var pt=wt.clipboardData.getData("text/plain");this.onPaste(Ft,{html:Dt,text:pt})}}}},{key:"raiseCallback",value:function(wt,Ft){var Dt=this.options[wt];Dt&&typeof Dt=="function"&&Dt(Ft)}},{key:"onCopy",value:function(wt){var Ft=this.quill.getText(wt),Dt=this.quill.getSemanticHTML(wt);return{html:Dt,text:Ft}}},{key:"onPaste",value:function(wt,Ft){var Dt=Ft.text,Wt=Ft.html,qt=this.quill.getFormat(wt.index),Jt=this.convert({text:Dt,html:Wt},qt);st.log("onPaste",Jt,{text:Dt,html:Wt});var ne=new o.a().retain(wt.index).delete(wt.length).concat(Jt);this.quill.updateContents(ne,S.a.sources.USER),this.quill.setSelection(ne.length()-wt.length,S.a.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(wt,Ft){var Dt=[],Wt=[];return this.matchers.forEach(function(qt){var Jt=d(qt,2),ne=Jt[0],pt=Jt[1];switch(ne){case ot:Wt.push(pt);break;case _t:Dt.push(pt);break;default:Array.from(wt.querySelectorAll(ne)).forEach(function(At){if(Ft.has(At)){var vt=Ft.get(At);vt.push(pt)}else Ft.set(At,[pt])});break}}),[Dt,Wt]}},{key:"prepareTextMatching",value:function(){var wt=[Yt];return this.matchers.forEach(function(Ft){var Dt=d(Ft,2),Wt=Dt[0],qt=Dt[1];Tt.indexOf(qt)===-1&&Wt===ot&&wt.push(qt)}),wt}}]),It}(E.a);z.DEFAULTS={matchers:[]};function Q(Ot,Ct,It){return l(Ct)==="object"?Object.keys(Ct).reduce(function(Mt,wt){return Q(Mt,wt,Ct[wt])},Ot):Ot.reduce(function(Mt,wt){if(wt.attributes&&wt.attributes[Ct])return Mt.push(wt);var Ft=It?f({},Ct,It):{};return Mt.insert(wt.insert,m(m({},Ft),wt.attributes))},new o.a)}function J(Ot,Ct){for(var It="",Mt=Ot.ops.length-1;Mt>=0&&It.length<Ct.length;--Mt){var wt=Ot.ops[Mt];if(typeof wt.insert!="string")break;It=wt.insert+It}return It.slice(-1*Ct.length)===Ct}function nt(Ot){return Ot.childNodes.length===0?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(Ot.tagName.toLowerCase())!==-1}var gt=new WeakMap;function Pt(Ot){return Ot==null?!1:(gt.has(Ot)||(Ot.tagName==="PRE"?gt.set(Ot,!0):gt.set(Ot,Pt(Ot.parentNode))),gt.get(Ot))}function Bt(Ot,Ct,It,Mt,wt){return Ct.nodeType===Ct.TEXT_NODE?Mt.reduce(function(Ft,Dt){return Dt(Ct,Ft,Ot)},new o.a):Ct.nodeType===Ct.ELEMENT_NODE?Array.from(Ct.childNodes||[]).reduce(function(Ft,Dt){var Wt=Bt(Ot,Dt,It,Mt,wt);return Dt.nodeType===Ct.ELEMENT_NODE&&(Wt=It.reduce(function(qt,Jt){return Jt(Dt,qt,Ot)},Wt),Wt=(wt.get(Dt)||[]).reduce(function(qt,Jt){return Jt(Dt,qt,Ot)},Wt)),Ft.concat(Wt)},new o.a):new o.a}function Nt(Ot,Ct,It){return Q(It,Ot,!0)}function q(Ot,Ct,It){if(["TD","TH","TR","TABLE"].indexOf(Ot.tagName)===-1){var Mt=u.Attributor.keys(Ot),wt=u.ClassAttributor.keys(Ot),Ft=u.StyleAttributor.keys(Ot),Dt={};if(Mt.concat(wt).concat(Ft).forEach(function(Wt){var qt=It.query(Wt,u.Scope.ATTRIBUTE);qt!=null&&(Dt[qt.attrName]=qt.value(Ot),Dt[qt.attrName])||(qt=Rt[Wt],qt!=null&&(qt.attrName===Wt||qt.keyName===Wt)&&(Dt[qt.attrName]=qt.value(Ot)||void 0),qt=rt[Wt],qt!=null&&(qt.attrName===Wt||qt.keyName===Wt)&&(qt=rt[Wt],Dt[qt.attrName]=qt.value(Ot)||void 0))}),Object.keys(Dt).length>0)return Q(Ct,Dt)}return Ct}function y(Ot,Ct,It){var Mt=It.query(Ot);if(Mt==null)return Ct;if(Mt.prototype instanceof u.EmbedBlot){var wt={},Ft=Mt.value(Ot);if(Ft!=null)return wt[Mt.blotName]=Ft,new o.a().insert(wt,Mt.formats(Ot,It))}else if(Mt.prototype instanceof u.BlockBlot&&!J(Ct,`
`)&&Ct.insert(`
`),typeof Mt.formats=="function")return Q(Ct,Mt.blotName,Mt.formats(Ot,It));return Ct}function c(Ot,Ct){return J(Ct,`
`)||Ct.insert(`
`),Ct}function T(Ot,Ct,It){var Mt=It.query("code-block"),wt=Mt?Mt.formats(Ot,It):!0;return Q(Ct,"code-block",wt)}function H(){return new o.a}function ct(Ot,Ct,It){var Mt=It.query(Ot);if(Mt==null||Mt.blotName!=="list"||!J(Ct,`
`))return Ct;for(var wt=-1,Ft=Ot.parentNode;Ft!=null;)["OL","UL"].indexOf(Ft.tagName)!==-1&&(wt+=1),Ft=Ft.parentNode;return wt<=0?Ct:Ct.reduce(function(Dt,Wt){return Wt.attributes&&typeof Wt.attributes.indent=="number"?Dt.push(Wt):Dt.insert(Wt.insert,m({indent:wt},Wt.attributes||{}))},new o.a)}function St(Ot,Ct){var It=Ot.tagName==="OL"?"ordered":"bullet";return Q(Ct,"list",It)}function kt(Ot,Ct,It){if(!J(Ct,`
`)){if(nt(Ot))return Ct.insert(`
`);if(Ct.length()>0&&Ot.nextSibling)for(var Mt=Ot.nextSibling;Mt!=null;){if(nt(Mt))return Ct.insert(`
`);var wt=It.query(Mt);if((wt==null?void 0:wt.prototype)instanceof p.a)return Ct.insert(`
`);Mt=Mt.firstChild}}return Ct}function Gt(Ot,Ct){var It={},Mt=Ot.style||{};return["height","width"].forEach(function(wt){var Ft=["TD","TH"].indexOf(Ot.tagName)!==-1,Dt=Ot.tagName==="TABLE";if((Ft||Dt)&&Mt[wt]){var Wt="".concat(Dt?"table":"cell").concat(Object(U.a)(wt));It[Wt]=Mt[wt]}}),Mt.fontStyle==="italic"&&(It.italic=!0),Mt.textDecoration.indexOf("underline")!==-1&&(It.underline=!0),Mt.textDecoration.indexOf("line-through")!==-1&&(It.strike=!0),(Mt.fontWeight.indexOf("bold")===0||parseInt(Mt.fontWeight,10)>=700)&&(It.bold=!0),Object.keys(It).length>0&&(Ct=Q(Ct,It)),parseFloat(Mt.textIndent||0)>0?new o.a().insert("	").concat(Ct):Ct}function Yt(Ot,Ct){var It=Ot.data||"";return It=It.replace(/\r\n/g,`
`),Ct.insert(It)}function re(Ot,Ct){var It=Ot.data;if(Ot.parentNode.tagName==="O:P")return Ct.insert(It.trim());if(It.trim().length===0&&It.indexOf(`
`)!==-1)return Ct;if(!Pt(Ot)){var Mt=function(Ft,Dt){var Wt=Dt.replace(/[^\u00a0]/g,"");return Wt.length<1&&Ft?" ":Wt};It=It.replace(/\r\n/g," ").replace(/\n/g," "),It=It.replace(/\s\s+/g,Mt.bind(Mt,!0)),(Ot.previousSibling==null&&nt(Ot.parentNode)||Ot.previousSibling!=null&&nt(Ot.previousSibling))&&(It=It.replace(/^\s+/,Mt.bind(Mt,!1))),(Ot.nextSibling==null&&nt(Ot.parentNode)||Ot.nextSibling!=null&&nt(Ot.nextSibling))&&(It=It.replace(/\s+$/,Mt.bind(Mt,!1)))}return Ct.insert(It)}},function(e,i,t){t.d(i,"b",function(){return st}),t.d(i,"a",function(){return et}),t.d(i,"d",function(){return Tt}),t.d(i,"c",function(){return Rt});var a=t(16),o=t.n(a),u=t(30),p=t.n(u),S=t(1),A=t.n(S),E=t(2),g=t(0),w=t(23),_=t(12),b=t(15);function R(rt){var z=window,Q=z.innerHeight,J=rt.getBoundingClientRect(),nt=J.y,gt=J.bottom;return nt<0?!0:gt>=Q?!1:null}function P(rt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P=function(Q){return typeof Q}:P=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},P(rt)}function v(rt,z){return l(rt)||m(rt,z)||U(rt,z)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(rt,z){if(rt){if(typeof rt=="string")return $(rt,z);var Q=Object.prototype.toString.call(rt).slice(8,-1);if(Q==="Object"&&rt.constructor&&(Q=rt.constructor.name),Q==="Map"||Q==="Set")return Array.from(rt);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return $(rt,z)}}function $(rt,z){(z==null||z>rt.length)&&(z=rt.length);for(var Q=0,J=new Array(z);Q<z;Q++)J[Q]=rt[Q];return J}function m(rt,z){var Q=rt==null?null:typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(Q!=null){var J=[],nt=!0,gt=!1,Pt,Bt;try{for(Q=Q.call(rt);!(nt=(Pt=Q.next()).done)&&(J.push(Pt.value),!(z&&J.length===z));nt=!0);}catch(Nt){gt=!0,Bt=Nt}finally{try{!nt&&Q.return!=null&&Q.return()}finally{if(gt)throw Bt}}return J}}function l(rt){if(Array.isArray(rt))return rt}function f(rt,z){var Q=Object.keys(rt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(rt);z&&(J=J.filter(function(nt){return Object.getOwnPropertyDescriptor(rt,nt).enumerable})),Q.push.apply(Q,J)}return Q}function d(rt){for(var z=1;z<arguments.length;z++){var Q=arguments[z]!=null?arguments[z]:{};z%2?f(Object(Q),!0).forEach(function(J){I(rt,J,Q[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Q)):f(Object(Q)).forEach(function(J){Object.defineProperty(rt,J,Object.getOwnPropertyDescriptor(Q,J))})}return rt}function I(rt,z,Q){return z in rt?Object.defineProperty(rt,z,{value:Q,enumerable:!0,configurable:!0,writable:!0}):rt[z]=Q,rt}function M(rt,z){if(!(rt instanceof z))throw new TypeError("Cannot call a class as a function")}function F(rt,z){for(var Q=0;Q<z.length;Q++){var J=z[Q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(rt,J.key,J)}}function N(rt,z,Q){return z&&F(rt.prototype,z),Q&&F(rt,Q),rt}function tt(rt,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(z&&z.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),z&&B(rt,z)}function B(rt,z){return B=Object.setPrototypeOf||function(J,nt){return J.__proto__=nt,J},B(rt,z)}function Z(rt){var z=it();return function(){var J=mt(rt),nt;if(z){var gt=mt(this).constructor;nt=Reflect.construct(J,arguments,gt)}else nt=J.apply(this,arguments);return ut(this,nt)}}function ut(rt,z){if(z&&(P(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ht(rt)}function ht(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function it(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mt(rt){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},mt(rt)}var Y=Object(w.a)("quill:keyboard"),V={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},L={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},et=Object(b.a)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",st=function(rt){tt(Q,rt);var z=Z(Q);function Q(J,nt){var gt;return M(this,Q),gt=z.call(this,J,nt),gt.bindings={},Object.keys(gt.options.bindings).forEach(function(Pt){gt.options.bindings[Pt]&&gt.addBinding(gt.options.bindings[Pt])}),gt.addInternalBindings(),gt.listen(),gt}return N(Q,[{key:"addInternalBindings",value:function(){var nt=this;this.quill.once(g.a.events.CONTENT_SETTED,function(){nt.addBinding({key:"enter",shiftKey:null},nt.handleEnter),nt.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),Object(b.a)()&&/Firefox/i.test(navigator.userAgent)?(nt.addBinding({key:"backspace"},{collapsed:!0},nt.handleBackspace),nt.addBinding({key:"del"},{collapsed:!0},nt.handleDelete)):(nt.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},nt.handleBackspace),nt.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},nt.handleDelete)),nt.addBinding({key:"backspace"},{collapsed:!1},nt.handleDeleteRange),nt.addBinding({key:"del"},{collapsed:!1},nt.handleDeleteRange),nt.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},nt.handleBackspace)})}},{key:"addBinding",value:function(nt){var gt=this,Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Nt=Tt(nt);if(Nt==null){Y.warn("Attempted to add invalid keyboard binding",Nt);return}typeof Pt=="function"&&(Pt={handler:Pt}),typeof Bt=="function"&&(Bt={handler:Bt});var q=Nt.which?"which":"key",y=Array.isArray(Nt[q])?Nt[q]:[Nt[q]];y.forEach(function(c){var T=d(d(d({},Nt),{},{key:c},Pt),Bt);gt.bindings[T.key]=gt.bindings[T.key]||[],gt.bindings[T.key].push(T)})}},{key:"listen",value:function(){var nt=this;this.quill.root.addEventListener("keydown",function(gt){if(!(gt.defaultPrevented||gt.isComposing)){nt.raiseOnKeydownCallback(gt);var Pt=Q.normalizeKeyName(gt),Bt=(nt.bindings[Pt]||[]).concat(nt.bindings[gt.which]||[]),Nt=Bt.filter(function(Dt){return Q.match(gt,Dt)});if(Nt.length!==0){var q=nt.quill.getSelection();if(!(q==null||!nt.quill.hasFocus())){var y=nt.quill.getLine(q.index),c=v(y,2),T=c[0],H=c[1],ct=nt.quill.getLeaf(q.index),St=v(ct,2),kt=St[0],Gt=St[1],Yt=q.length===0?[kt,Gt]:nt.quill.getLeaf(q.index+q.length),re=v(Yt,2),Ot=re[0],Ct=re[1],It=kt instanceof E.TextBlot?kt.value().slice(0,Gt):"",Mt=Ot instanceof E.TextBlot?Ot.value().slice(Ct):"",wt={collapsed:q.length===0,empty:q.length===0&&T.length()<=1,format:nt.quill.getFormat(q),line:T,offset:H,prefix:It,suffix:Mt,event:gt},Ft=!1;Nt.some(function(Dt){if(Dt.collapsed!=null&&Dt.collapsed!==wt.collapsed||Dt.empty!=null&&Dt.empty!==wt.empty||Dt.offset!=null&&Dt.offset!==wt.offset)return!1;if(Array.isArray(Dt.format)){if(Dt.format.every(function(Jt){return wt.format[Jt]==null}))return!1}else if(P(Dt.format)==="object"&&!Object.keys(Dt.format).every(function(Jt){return Dt.format[Jt]===!0?wt.format[Jt]!=null:Dt.format[Jt]===!1?wt.format[Jt]==null:p()(Dt.format[Jt],wt.format[Jt])}))return!1;if(Dt.prefix!=null&&!Dt.prefix.test(wt.prefix)||Dt.suffix!=null&&!Dt.suffix.test(wt.suffix))return!1;var Wt=Dt.handler.call(nt,q,wt,Dt),qt=Wt==null?void 0:Wt.preventAfterAllMatches;return Ft=Wt!==!0||qt,Ft&&!qt}),Ft&&gt.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(nt){var gt=this.options.onKeydown;gt&&typeof gt=="function"&&gt(nt)}},{key:"handleBackspace",value:function(nt,gt){var Pt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(gt.prefix)?2:1;if(!(nt.index===0||this.quill.getLength()<=1)){var Bt={},Nt=this.quill.getLine(nt.index),q=v(Nt,1),y=q[0],c=new A.a().retain(nt.index-Pt).delete(Pt);if(gt.offset===0){var T=this.quill.getLine(nt.index-1),H=v(T,1),ct=H[0];if(ct){var St=ct.statics.blotName==="block"&&ct.length()<=1;if(!St){var kt=y.formats(),Gt=this.quill.getFormat(nt.index-1,1);if(Bt=S.AttributeMap.diff(kt,Gt)||{},Object.keys(Bt).length>0){var Yt=new A.a().retain(nt.index+y.length()-2).retain(1,Bt);c=c.compose(Yt)}}}}this.quill.updateContents(c,g.a.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(nt,gt){var Pt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(gt.suffix)?2:1;if(!(nt.index>=this.quill.getLength()-Pt)){var Bt={},Nt=this.quill.getLine(nt.index),q=v(Nt,1),y=q[0],c=new A.a().retain(nt.index).delete(Pt);if(gt.offset>=y.length()-1){var T=this.quill.getLine(nt.index+1),H=v(T,1),ct=H[0];if(ct){var St=y.formats(),kt=this.quill.getFormat(nt.index,1);Bt=S.AttributeMap.diff(St,kt)||{},Object.keys(Bt).length>0&&(c=c.retain(ct.length()-1).retain(1,Bt))}}this.quill.updateContents(c,g.a.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(nt,gt){this.raiseOnKeydownCallback(gt.event),Rt({range:nt,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(nt,gt){var Pt=this,Bt=Object.keys(gt.format).reduce(function(H,ct){return Pt.quill.scroll.query(ct,E.Scope.BLOCK)&&!Array.isArray(gt.format[ct])&&(H[ct]=gt.format[ct]),H},{}),Nt=new A.a().retain(nt.index).delete(nt.length).insert(`
`,Bt);this.quill.updateContents(Nt,g.a.sources.USER),this.quill.setSelection(nt.index+1,g.a.sources.SILENT),this.quill.focus();var q=this.quill.getLine(nt.index+1),y=v(q,1),c=y[0],T=R(c.domNode);T!==null&&c.domNode.scrollIntoView(T),Object.keys(gt.format).forEach(function(H){Bt[H]==null&&(Array.isArray(gt.format[H])||H==="code"||H==="link"||(Pt.raiseOnKeydownCallback(gt.event),Pt.quill.format(H,gt.format[H],g.a.sources.USER)))})}}],[{key:"match",value:function(nt,gt){return["altKey","ctrlKey","metaKey","shiftKey"].some(function(Pt){return!!gt[Pt]!==nt[Pt]&&gt[Pt]!==null})?!1:gt.key===Q.normalizeKeyName(nt)||gt.key===nt.which}},{key:"normalizeKeyName",value:function(nt){var gt=nt.key,Pt=nt.which,Bt=!!gt,Nt=Bt?gt:Pt;return Nt&&(Bt?Nt=V[Nt.toLowerCase()]||Nt:Nt=L[Nt]||String.fromCharCode(Nt)),Nt}}]),Q}(_.a);st.DEFAULTS={bindings:{bold:dt("bold",66),italic:dt("italic",73),underline:dt("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(z,Q){return Q.collapsed&&Q.offset!==0?!0:(this.quill.format("indent","+1",g.a.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,Q){return Q.collapsed&&Q.offset!==0?!0:(this.quill.format("indent","-1",g.a.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,Q){Q.format.indent!=null?this.quill.format("indent","-1",g.a.sources.USER):Q.format.list!=null&&this.quill.format("list",!1,g.a.sources.USER)}},"indent code-block":_t(!0),"outdent code-block":_t(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,g.a.sources.USER)}},tab:{key:"tab",handler:function(z,Q){if(Q.format.table)return!0;this.quill.history.cutoff();var J=new A.a().retain(z.index).delete(z.length).insert("	");return this.quill.updateContents(J,g.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,g.a.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,g.a.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(z,Q){var J={list:!1};Q.format.indent&&(J.indent=!1),this.quill.formatLine(z.index,z.length,J,g.a.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(z){var Q=this.quill.getLine(z.index),J=v(Q,2),nt=J[0],gt=J[1],Pt=d(d({},nt.formats()),{},{list:"checked"}),Bt=new A.a().retain(z.index).insert(`
`,Pt).retain(nt.length()-gt-1).retain(1,{list:"unchecked"});this.quill.updateContents(Bt,g.a.sources.USER),this.quill.setSelection(z.index+1,g.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,Q){var J=this.quill.getLine(z.index),nt=v(J,2),gt=nt[0],Pt=nt[1],Bt=new A.a().retain(z.index).insert(`
`,Q.format).retain(gt.length()-Pt-1).retain(1,{header:null});this.quill.updateContents(Bt,g.a.sources.USER),this.quill.setSelection(z.index+1,g.a.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,Q){if(this.quill.scroll.query("list")==null)return!0;var J=Q.prefix.length,nt=this.quill.getLine(z.index),gt=v(nt,2),Pt=gt[0],Bt=gt[1];if(Bt>J)return!0;var Nt;switch(Q.prefix.trim()){case"[]":case"[ ]":Nt="unchecked";break;case"[x]":Nt="checked";break;case"-":case"*":Nt="bullet";break;default:Nt="ordered"}this.quill.insertText(z.index," ",g.a.sources.USER),this.quill.history.cutoff();var q=new A.a().retain(z.index-Bt).delete(J+1).retain(Pt.length()-2-Bt).retain(1,{list:Nt});return this.raiseOnKeydownCallback(Q.event),this.quill.updateContents(q,g.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-J,g.a.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(z){for(var Q=this.quill.getLine(z.index),J=v(Q,2),nt=J[0],gt=J[1],Pt=2,Bt=nt;Bt!=null&&Bt.length()<=1&&Bt.formats()["code-block"];)if(Bt=Bt.prev,Pt-=1,Pt<=0){var Nt=new A.a().retain(z.index+nt.length()-gt-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(Nt,g.a.sources.USER),this.quill.setSelection(z.index-1,g.a.sources.SILENT),!1}return!0}},"embed left":ot("leftArrow",!1),"embed left shift":ot("leftArrow",!0),"embed right":ot("rightArrow",!1),"embed right shift":ot("rightArrow",!0)}};function _t(rt){return{key:"tab",shiftKey:!rt,format:{"code-block":!0},handler:function(Q){var J=this.quill.scroll.query("code-block"),nt=Q.length===0?this.quill.getLines(Q.index,1):this.quill.getLines(Q),gt=Q.index,Pt=Q.length;nt.forEach(function(Bt,Nt){rt?(Bt.insertAt(0,J.TAB),Nt===0?gt+=J.TAB.length:Pt+=J.TAB.length):Bt.domNode.textContent.indexOf(J.TAB)===0&&(Bt.deleteAt(0,J.TAB.length),Nt===0?gt-=J.TAB.length:Pt-=J.TAB.length)}),this.quill.update(g.a.sources.USER),this.quill.setSelection(gt,Pt,g.a.sources.SILENT)}}}function ot(rt,z){var Q,J=rt==="leftArrow"?"prefix":"suffix";return Q={key:rt,shiftKey:z,altKey:null},I(Q,J,/^$/),I(Q,"handler",function(gt){var Pt=gt.index;rt==="rightArrow"&&(Pt+=gt.length+1);var Bt=this.quill.getLeaf(Pt),Nt=v(Bt,1),q=Nt[0];return q instanceof E.EmbedBlot?(rt==="leftArrow"?z?this.quill.setSelection(gt.index-1,gt.length+1,g.a.sources.USER):this.quill.setSelection(gt.index-1,g.a.sources.USER):z?this.quill.setSelection(gt.index,gt.length+1,g.a.sources.USER):this.quill.setSelection(gt.index+gt.length+1,g.a.sources.USER),!1):!0}),Q}function dt(rt,z){return{key:rt[0],which:z,shortKey:!0,handler:function(J,nt){return this.quill.format(rt,!nt.format[rt],g.a.sources.USER),{preventAfterAllMatches:!0}}}}function Tt(rt){if(typeof rt=="string"||typeof rt=="number")rt={key:rt};else if(P(rt)==="object")rt=o()(rt);else return null;return rt.shortKey&&(rt[et]=rt.shortKey,delete rt.shortKey),rt}function Rt(rt){var z=rt.quill,Q=rt.range,J=z.getLines(Q),nt={};if(J.length>1){var gt=J[0].formats(),Pt=J[J.length-1].formats();nt=S.AttributeMap.diff(Pt,gt)||{}}z.deleteText(Q,g.a.sources.USER),Object.keys(nt).length>0&&z.formatLine(Q.index,1,nt,g.a.sources.USER),z.setSelection(Q.index,g.a.sources.SILENT)}},function(e,i,t){var a=t(8),o=t(96),u=t(36),p=t(97),S=t(98),A=t(99),E=o("wks"),g=a.Symbol,w=g&&g.for,_=A?g:g&&g.withoutSetter||p;e.exports=function(b){if(!u(E,b)||!(S||typeof E[b]=="string")){var R="Symbol."+b;S&&u(g,b)?E[b]=g[b]:A&&w?E[b]=w(R):E[b]=_(R)}return E[b]}},function(e,i,t){t.d(i,"c",function(){return o}),t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p});var a=t(19);function o(S){var A=this.keyName;this.keyName=Object(a.c)(this.keyName);for(var E=arguments.length,g=new Array(E>1?E-1:0),w=1;w<E;w++)g[w-1]=arguments[w];var _=S.call.apply(S,[this].concat(g));return this.keyName=A,_}function u(S,A,E){var g=this.allowedTags.indexOf(A.tagName)>-1;return g&&S.call(this,A,E)}function p(S,A,E){return S(A).map(function(g){return Object(a.b)(A.tagName,g,E)})}},function(e,i,t){(function(a,o){var u=200,p="__lodash_hash_undefined__",S=1,A=2,E=9007199254740991,g="[object Arguments]",w="[object Array]",_="[object AsyncFunction]",b="[object Boolean]",R="[object Date]",P="[object Error]",v="[object Function]",x="[object GeneratorFunction]",U="[object Map]",$="[object Number]",m="[object Null]",l="[object Object]",f="[object Promise]",d="[object Proxy]",I="[object RegExp]",M="[object Set]",F="[object String]",N="[object Symbol]",tt="[object Undefined]",B="[object WeakMap]",Z="[object ArrayBuffer]",ut="[object DataView]",ht="[object Float32Array]",it="[object Float64Array]",mt="[object Int8Array]",Y="[object Int16Array]",V="[object Int32Array]",L="[object Uint8Array]",et="[object Uint8ClampedArray]",st="[object Uint16Array]",_t="[object Uint32Array]",ot=/[\\^$.*+?()[\]{}|]/g,dt=/^\[object .+?Constructor\]$/,Tt=/^(?:0|[1-9]\d*)$/,Rt={};Rt[ht]=Rt[it]=Rt[mt]=Rt[Y]=Rt[V]=Rt[L]=Rt[et]=Rt[st]=Rt[_t]=!0,Rt[g]=Rt[w]=Rt[Z]=Rt[b]=Rt[ut]=Rt[R]=Rt[P]=Rt[v]=Rt[U]=Rt[$]=Rt[l]=Rt[I]=Rt[M]=Rt[F]=Rt[B]=!1;var rt=typeof a=="object"&&a&&a.Object===Object&&a,z=typeof self=="object"&&self&&self.Object===Object&&self,Q=rt||z||Function("return this")(),J=i&&!i.nodeType&&i,nt=J&&typeof o=="object"&&o&&!o.nodeType&&o,gt=nt&&nt.exports===J,Pt=gt&&rt.process,Bt=function(){try{return Pt&&Pt.binding&&Pt.binding("util")}catch{}}(),Nt=Bt&&Bt.isTypedArray;function q(s,k){for(var h=-1,W=s==null?0:s.length,yt=0,Lt=[];++h<W;){var zt=s[h];k(zt,h,s)&&(Lt[yt++]=zt)}return Lt}function y(s,k){for(var h=-1,W=k.length,yt=s.length;++h<W;)s[yt+h]=k[h];return s}function c(s,k){for(var h=-1,W=s==null?0:s.length;++h<W;)if(k(s[h],h,s))return!0;return!1}function T(s,k){for(var h=-1,W=Array(s);++h<s;)W[h]=k(h);return W}function H(s){return function(k){return s(k)}}function ct(s,k){return s.has(k)}function St(s,k){return s==null?void 0:s[k]}function kt(s){var k=-1,h=Array(s.size);return s.forEach(function(W,yt){h[++k]=[yt,W]}),h}function Gt(s,k){return function(h){return s(k(h))}}function Yt(s){var k=-1,h=Array(s.size);return s.forEach(function(W){h[++k]=W}),h}var re=Array.prototype,Ot=Function.prototype,Ct=Object.prototype,It=Q["__core-js_shared__"],Mt=Ot.toString,wt=Ct.hasOwnProperty,Ft=function(){var s=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Dt=Ct.toString,Wt=RegExp("^"+Mt.call(wt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=gt?Q.Buffer:void 0,Jt=Q.Symbol,ne=Q.Uint8Array,pt=Ct.propertyIsEnumerable,At=re.splice,vt=Jt?Jt.toStringTag:void 0,G=Object.getOwnPropertySymbols,K=qt?qt.isBuffer:void 0,D=Gt(Object.keys,Object),at=Te(Q,"DataView"),X=Te(Q,"Map"),lt=Te(Q,"Promise"),Et=Te(Q,"Set"),xt=Te(Q,"WeakMap"),jt=Te(Object,"create"),$t=be(at),Kt=be(X),te=be(lt),fe=be(Et),Ee=be(xt),we=Jt?Jt.prototype:void 0,Re=we?we.valueOf:void 0;function ie(s){var k=-1,h=s==null?0:s.length;for(this.clear();++k<h;){var W=s[k];this.set(W[0],W[1])}}function Fe(){this.__data__=jt?jt(null):{},this.size=0}function Dr(s){var k=this.has(s)&&delete this.__data__[s];return this.size-=k?1:0,k}function rr(s){var k=this.__data__;if(jt){var h=k[s];return h===p?void 0:h}return wt.call(k,s)?k[s]:void 0}function jr(s){var k=this.__data__;return jt?k[s]!==void 0:wt.call(k,s)}function Hr(s,k){var h=this.__data__;return this.size+=this.has(s)?0:1,h[s]=jt&&k===void 0?p:k,this}ie.prototype.clear=Fe,ie.prototype.delete=Dr,ie.prototype.get=rr,ie.prototype.has=jr,ie.prototype.set=Hr;function de(s){var k=-1,h=s==null?0:s.length;for(this.clear();++k<h;){var W=s[k];this.set(W[0],W[1])}}function kr(){this.__data__=[],this.size=0}function Fr(s){var k=this.__data__,h=ur(k,s);if(h<0)return!1;var W=k.length-1;return h==W?k.pop():At.call(k,h,1),--this.size,!0}function Ur(s){var k=this.__data__,h=ur(k,s);return h<0?void 0:k[h][1]}function Wr(s){return ur(this.__data__,s)>-1}function nr(s,k){var h=this.__data__,W=ur(h,s);return W<0?(++this.size,h.push([s,k])):h[W][1]=k,this}de.prototype.clear=kr,de.prototype.delete=Fr,de.prototype.get=Ur,de.prototype.has=Wr,de.prototype.set=nr;function _e(s){var k=-1,h=s==null?0:s.length;for(this.clear();++k<h;){var W=s[k];this.set(W[0],W[1])}}function vr(){this.size=0,this.__data__={hash:new ie,map:new(X||de),string:new ie}}function ir(s){var k=Pe(this,s).delete(s);return this.size-=k?1:0,k}function or(s){return Pe(this,s).get(s)}function mr(s){return Pe(this,s).has(s)}function yr(s,k){var h=Pe(this,s),W=h.size;return h.set(s,k),this.size+=h.size==W?0:1,this}_e.prototype.clear=vr,_e.prototype.delete=ir,_e.prototype.get=or,_e.prototype.has=mr,_e.prototype.set=yr;function Ue(s){var k=-1,h=s==null?0:s.length;for(this.__data__=new _e;++k<h;)this.add(s[k])}function gr(s){return this.__data__.set(s,p),this}function ar(s){return this.__data__.has(s)}Ue.prototype.add=Ue.prototype.push=gr,Ue.prototype.has=ar;function Me(s){var k=this.__data__=new de(s);this.size=k.size}function Ke(){this.__data__=new de,this.size=0}function lr(s){var k=this.__data__,h=k.delete(s);return this.size=k.size,h}function $r(s){return this.__data__.get(s)}function zr(s){return this.__data__.has(s)}function Ar(s,k){var h=this.__data__;if(h instanceof de){var W=h.__data__;if(!X||W.length<u-1)return W.push([s,k]),this.size=++h.size,this;h=this.__data__=new _e(W)}return h.set(s,k),this.size=h.size,this}Me.prototype.clear=Ke,Me.prototype.delete=lr,Me.prototype.get=$r,Me.prototype.has=zr,Me.prototype.set=Ar;function sr(s,k){var h=Ie(s),W=!h&&hr(s),yt=!h&&!W&&je(s),Lt=!h&&!W&&!yt&&qe(s),zt=h||W||yt||Lt,Xt=zt?T(s.length,String):[],Zt=Xt.length;for(var Vt in s)(k||wt.call(s,Vt))&&!(zt&&(Vt=="length"||yt&&(Vt=="offset"||Vt=="parent")||Lt&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||$e(Vt,Zt)))&&Xt.push(Vt);return Xt}function ur(s,k){for(var h=s.length;h--;)if(fr(s[h][0],k))return h;return-1}function cr(s,k,h){var W=k(s);return Ie(s)?W:y(W,h(s))}function Ye(s){return s==null?s===void 0?tt:m:vt&&vt in Object(s)?We(s):Je(s)}function Ze(s){return Ne(s)&&Ye(s)==g}function Rr(s,k,h,W,yt){return s===k?!0:s==null||k==null||!Ne(s)&&!Ne(k)?s!==s&&k!==k:Kr(s,k,h,W,Rr,yt)}function Kr(s,k,h,W,yt,Lt){var zt=Ie(s),Xt=Ie(k),Zt=zt?w:De(s),Vt=Xt?w:De(k);Zt=Zt==g?l:Zt,Vt=Vt==g?l:Vt;var ee=Zt==l,ce=Vt==l,oe=Zt==Vt;if(oe&&je(s)){if(!je(k))return!1;zt=!0,ee=!1}if(oe&&!ee)return Lt||(Lt=new Me),zt||qe(s)?_r(s,k,h,W,yt,Lt):Ir(s,k,Zt,h,W,yt,Lt);if(!(h&S)){var pe=ee&&wt.call(s,"__wrapped__"),me=ce&&wt.call(k,"__wrapped__");if(pe||me){var Le=pe?s.value():s,He=me?k.value():k;return Lt||(Lt=new Me),yt(Le,He,h,W,Lt)}}return oe?(Lt||(Lt=new Me),Ge(s,k,h,W,yt,Lt)):!1}function Ve(s){if(!Er(s)||qr(s))return!1;var k=Se(s)?Wt:dt;return k.test(be(s))}function br(s){return Ne(s)&&ze(s.length)&&!!Rt[Ye(s)]}function Vr(s){if(!Or(s))return D(s);var k=[];for(var h in Object(s))wt.call(s,h)&&h!="constructor"&&k.push(h);return k}function _r(s,k,h,W,yt,Lt){var zt=h&S,Xt=s.length,Zt=k.length;if(Xt!=Zt&&!(zt&&Zt>Xt))return!1;var Vt=Lt.get(s);if(Vt&&Lt.get(k))return Vt==k;var ee=-1,ce=!0,oe=h&A?new Ue:void 0;for(Lt.set(s,k),Lt.set(k,s);++ee<Xt;){var pe=s[ee],me=k[ee];if(W)var Le=zt?W(me,pe,ee,k,s,Lt):W(pe,me,ee,s,k,Lt);if(Le!==void 0){if(Le)continue;ce=!1;break}if(oe){if(!c(k,function(He,Tr){if(!ct(oe,Tr)&&(pe===He||yt(pe,He,h,W,Lt)))return oe.push(Tr)})){ce=!1;break}}else if(!(pe===me||yt(pe,me,h,W,Lt))){ce=!1;break}}return Lt.delete(s),Lt.delete(k),ce}function Ir(s,k,h,W,yt,Lt,zt){switch(h){case ut:if(s.byteLength!=k.byteLength||s.byteOffset!=k.byteOffset)return!1;s=s.buffer,k=k.buffer;case Z:return!(s.byteLength!=k.byteLength||!Lt(new ne(s),new ne(k)));case b:case R:case $:return fr(+s,+k);case P:return s.name==k.name&&s.message==k.message;case I:case F:return s==k+"";case U:var Xt=kt;case M:var Zt=W&S;if(Xt||(Xt=Yt),s.size!=k.size&&!Zt)return!1;var Vt=zt.get(s);if(Vt)return Vt==k;W|=A,zt.set(s,k);var ee=_r(Xt(s),Xt(k),W,yt,Lt,zt);return zt.delete(s),ee;case N:if(Re)return Re.call(s)==Re.call(k)}return!1}function Ge(s,k,h,W,yt,Lt){var zt=h&S,Xt=Be(s),Zt=Xt.length,Vt=Be(k),ee=Vt.length;if(Zt!=ee&&!zt)return!1;for(var ce=Zt;ce--;){var oe=Xt[ce];if(!(zt?oe in k:wt.call(k,oe)))return!1}var pe=Lt.get(s);if(pe&&Lt.get(k))return pe==k;var me=!0;Lt.set(s,k),Lt.set(k,s);for(var Le=zt;++ce<Zt;){oe=Xt[ce];var He=s[oe],Tr=k[oe];if(W)var en=zt?W(Tr,He,oe,k,s,Lt):W(He,Tr,oe,s,k,Lt);if(!(en===void 0?He===Tr||yt(He,Tr,h,W,Lt):en)){me=!1;break}Le||(Le=oe=="constructor")}if(me&&!Le){var rn=s.constructor,nn=k.constructor;rn!=nn&&"constructor"in s&&"constructor"in k&&!(typeof rn=="function"&&rn instanceof rn&&typeof nn=="function"&&nn instanceof nn)&&(me=!1)}return Lt.delete(s),Lt.delete(k),me}function Be(s){return cr(s,dr,xr)}function Pe(s,k){var h=s.__data__;return Gr(k)?h[typeof k=="string"?"string":"hash"]:h.map}function Te(s,k){var h=St(s,k);return Ve(h)?h:void 0}function We(s){var k=wt.call(s,vt),h=s[vt];try{s[vt]=void 0;var W=!0}catch{}var yt=Dt.call(s);return W&&(k?s[vt]=h:delete s[vt]),yt}var xr=G?function(s){return s==null?[]:(s=Object(s),q(G(s),function(k){return pt.call(s,k)}))}:Xr,De=Ye;(at&&De(new at(new ArrayBuffer(1)))!=ut||X&&De(new X)!=U||lt&&De(lt.resolve())!=f||Et&&De(new Et)!=M||xt&&De(new xt)!=B)&&(De=function(s){var k=Ye(s),h=k==l?s.constructor:void 0,W=h?be(h):"";if(W)switch(W){case $t:return ut;case Kt:return U;case te:return f;case fe:return M;case Ee:return B}return k});function $e(s,k){return k=k??E,!!k&&(typeof s=="number"||Tt.test(s))&&s>-1&&s%1==0&&s<k}function Gr(s){var k=typeof s;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?s!=="__proto__":s===null}function qr(s){return!!Ft&&Ft in s}function Or(s){var k=s&&s.constructor,h=typeof k=="function"&&k.prototype||Ct;return s===h}function Je(s){return Dt.call(s)}function be(s){if(s!=null){try{return Mt.call(s)}catch{}try{return s+""}catch{}}return""}function fr(s,k){return s===k||s!==s&&k!==k}var hr=Ze(function(){return arguments}())?Ze:function(s){return Ne(s)&&wt.call(s,"callee")&&!pt.call(s,"callee")},Ie=Array.isArray;function tr(s){return s!=null&&ze(s.length)&&!Se(s)}var je=K||Cr;function wr(s,k){return Rr(s,k)}function Se(s){if(!Er(s))return!1;var k=Ye(s);return k==v||k==x||k==_||k==d}function ze(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=E}function Er(s){var k=typeof s;return s!=null&&(k=="object"||k=="function")}function Ne(s){return s!=null&&typeof s=="object"}var qe=Nt?H(Nt):br;function dr(s){return tr(s)?sr(s):Vr(s)}function Xr(){return[]}function Cr(){return!1}o.exports=wr}).call(this,t(58),t(66)(e))},function(e,i,t){t.d(i,"a",function(){return a});function a(o){return o?o.substring(0,1).toUpperCase()+o.substring(1):""}},function(e,i,t){t.d(i,"d",function(){return a}),t.d(i,"a",function(){return o}),t.d(i,"c",function(){return u}),t.d(i,"b",function(){return p});var a={name:"table",allowedTags:["TABLE"]},o=["height","width"],u=["height","width","text-align","background-color","border","border-style","border-width","border-color"],p=new Set([].concat(o,u))},function(e,i,t){t.d(i,"d",function(){return a}),t.d(i,"a",function(){return o}),t.d(i,"c",function(){return u}),t.d(i,"b",function(){return p});var a={name:"cell",allowedTags:["TH","TD","TR"]},o=["height","width"],u=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],p=new Set([].concat(o,u))},function(e,i,t){t.d(i,"a",function(){return x}),t.d(i,"b",function(){return U}),t.d(i,"c",function(){return $});var a=t(2);function o(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(f){return typeof f}:o=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o(m)}function u(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")}function p(m,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function S(m,l,f){return l&&p(m.prototype,l),f&&p(m,f),m}function A(m,l,f){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(I,M,F){var N=E(I,M);if(N){var tt=Object.getOwnPropertyDescriptor(N,M);return tt.get?tt.get.call(F):tt.value}},A(m,l,f||m)}function E(m,l){for(;!Object.prototype.hasOwnProperty.call(m,l)&&(m=v(m),m!==null););return m}function g(m,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(l&&l.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),l&&w(m,l)}function w(m,l){return w=Object.setPrototypeOf||function(d,I){return d.__proto__=I,d},w(m,l)}function _(m){var l=P();return function(){var d=v(m),I;if(l){var M=v(this).constructor;I=Reflect.construct(d,arguments,M)}else I=d.apply(this,arguments);return b(this,I)}}function b(m,l){if(l&&(o(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(m)}function R(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(m){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},v(m)}var x=function(m){g(f,m);var l=_(f);function f(){return u(this,f),l.apply(this,arguments)}return S(f,[{key:"value",value:function(I){var M=A(v(f.prototype),"value",this).call(this,I);if(M.indexOf("rgb(")!==0)return M;M=M.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var F=M.split(",").map(function(N){return"00".concat(parseInt(N,10).toString(16)).slice(-2)}).join("");return"#".concat(F)}}]),f}(a.StyleAttributor),U=new a.ClassAttributor("color","ql-color",{scope:a.Scope.INLINE}),$=new x("color","color",{scope:a.Scope.INLINE})},function(e,i,t){t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p}),t.d(i,"c",function(){return S});var a=t(2),o={scope:a.Scope.BLOCK,whitelist:["rtl"]},u=new a.Attributor("direction","dir",o),p=new a.ClassAttributor("direction","ql-direction",o),S=new a.StyleAttributor("direction","direction",o)},function(e,i,t){var a=t(20),o=t(68),u=a({}.hasOwnProperty);e.exports=Object.hasOwn||function(S,A){return u(o(S),A)}},function(e,i,t){(function(a,o){var u=200,p="__lodash_hash_undefined__",S=800,A=16,E=9007199254740991,g="[object Arguments]",w="[object Array]",_="[object AsyncFunction]",b="[object Boolean]",R="[object Date]",P="[object Error]",v="[object Function]",x="[object GeneratorFunction]",U="[object Map]",$="[object Number]",m="[object Null]",l="[object Object]",f="[object Proxy]",d="[object RegExp]",I="[object Set]",M="[object String]",F="[object Undefined]",N="[object WeakMap]",tt="[object ArrayBuffer]",B="[object DataView]",Z="[object Float32Array]",ut="[object Float64Array]",ht="[object Int8Array]",it="[object Int16Array]",mt="[object Int32Array]",Y="[object Uint8Array]",V="[object Uint8ClampedArray]",L="[object Uint16Array]",et="[object Uint32Array]",st=/[\\^$.*+?()[\]{}|]/g,_t=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,dt={};dt[Z]=dt[ut]=dt[ht]=dt[it]=dt[mt]=dt[Y]=dt[V]=dt[L]=dt[et]=!0,dt[g]=dt[w]=dt[tt]=dt[b]=dt[B]=dt[R]=dt[P]=dt[v]=dt[U]=dt[$]=dt[l]=dt[d]=dt[I]=dt[M]=dt[N]=!1;var Tt=typeof a=="object"&&a&&a.Object===Object&&a,Rt=typeof self=="object"&&self&&self.Object===Object&&self,rt=Tt||Rt||Function("return this")(),z=i&&!i.nodeType&&i,Q=z&&typeof o=="object"&&o&&!o.nodeType&&o,J=Q&&Q.exports===z,nt=J&&Tt.process,gt=function(){try{var h=Q&&Q.require&&Q.require("util").types;return h||nt&&nt.binding&&nt.binding("util")}catch{}}(),Pt=gt&&gt.isTypedArray;function Bt(h,W,yt){switch(yt.length){case 0:return h.call(W);case 1:return h.call(W,yt[0]);case 2:return h.call(W,yt[0],yt[1]);case 3:return h.call(W,yt[0],yt[1],yt[2])}return h.apply(W,yt)}function Nt(h,W){for(var yt=-1,Lt=Array(h);++yt<h;)Lt[yt]=W(yt);return Lt}function q(h){return function(W){return h(W)}}function y(h,W){return h==null?void 0:h[W]}function c(h,W){return function(yt){return h(W(yt))}}var T=Array.prototype,H=Function.prototype,ct=Object.prototype,St=rt["__core-js_shared__"],kt=H.toString,Gt=ct.hasOwnProperty,Yt=function(){var h=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),re=ct.toString,Ot=kt.call(Object),Ct=RegExp("^"+kt.call(Gt).replace(st,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=J?rt.Buffer:void 0,Mt=rt.Symbol,wt=rt.Uint8Array,Ft=It?It.allocUnsafe:void 0,Dt=c(Object.getPrototypeOf,Object),Wt=Object.create,qt=ct.propertyIsEnumerable,Jt=T.splice,ne=Mt?Mt.toStringTag:void 0,pt=function(){try{var h=br(Object,"defineProperty");return h({},"",{}),h}catch{}}(),At=It?It.isBuffer:void 0,vt=Math.max,G=Date.now,K=br(rt,"Map"),D=br(Object,"create"),at=function(){function h(){}return function(W){if(!Se(W))return{};if(Wt)return Wt(W);h.prototype=W;var yt=new h;return h.prototype=void 0,yt}}();function X(h){var W=-1,yt=h==null?0:h.length;for(this.clear();++W<yt;){var Lt=h[W];this.set(Lt[0],Lt[1])}}function lt(){this.__data__=D?D(null):{},this.size=0}function Et(h){var W=this.has(h)&&delete this.__data__[h];return this.size-=W?1:0,W}function xt(h){var W=this.__data__;if(D){var yt=W[h];return yt===p?void 0:yt}return Gt.call(W,h)?W[h]:void 0}function jt(h){var W=this.__data__;return D?W[h]!==void 0:Gt.call(W,h)}function $t(h,W){var yt=this.__data__;return this.size+=this.has(h)?0:1,yt[h]=D&&W===void 0?p:W,this}X.prototype.clear=lt,X.prototype.delete=Et,X.prototype.get=xt,X.prototype.has=jt,X.prototype.set=$t;function Kt(h){var W=-1,yt=h==null?0:h.length;for(this.clear();++W<yt;){var Lt=h[W];this.set(Lt[0],Lt[1])}}function te(){this.__data__=[],this.size=0}function fe(h){var W=this.__data__,yt=or(W,h);if(yt<0)return!1;var Lt=W.length-1;return yt==Lt?W.pop():Jt.call(W,yt,1),--this.size,!0}function Ee(h){var W=this.__data__,yt=or(W,h);return yt<0?void 0:W[yt][1]}function we(h){return or(this.__data__,h)>-1}function Re(h,W){var yt=this.__data__,Lt=or(yt,h);return Lt<0?(++this.size,yt.push([h,W])):yt[Lt][1]=W,this}Kt.prototype.clear=te,Kt.prototype.delete=fe,Kt.prototype.get=Ee,Kt.prototype.has=we,Kt.prototype.set=Re;function ie(h){var W=-1,yt=h==null?0:h.length;for(this.clear();++W<yt;){var Lt=h[W];this.set(Lt[0],Lt[1])}}function Fe(){this.size=0,this.__data__={hash:new X,map:new(K||Kt),string:new X}}function Dr(h){var W=Ve(this,h).delete(h);return this.size-=W?1:0,W}function rr(h){return Ve(this,h).get(h)}function jr(h){return Ve(this,h).has(h)}function Hr(h,W){var yt=Ve(this,h),Lt=yt.size;return yt.set(h,W),this.size+=yt.size==Lt?0:1,this}ie.prototype.clear=Fe,ie.prototype.delete=Dr,ie.prototype.get=rr,ie.prototype.has=jr,ie.prototype.set=Hr;function de(h){var W=this.__data__=new Kt(h);this.size=W.size}function kr(){this.__data__=new Kt,this.size=0}function Fr(h){var W=this.__data__,yt=W.delete(h);return this.size=W.size,yt}function Ur(h){return this.__data__.get(h)}function Wr(h){return this.__data__.has(h)}function nr(h,W){var yt=this.__data__;if(yt instanceof Kt){var Lt=yt.__data__;if(!K||Lt.length<u-1)return Lt.push([h,W]),this.size=++yt.size,this;yt=this.__data__=new ie(Lt)}return yt.set(h,W),this.size=yt.size,this}de.prototype.clear=kr,de.prototype.delete=Fr,de.prototype.get=Ur,de.prototype.has=Wr,de.prototype.set=nr;function _e(h,W){var yt=fr(h),Lt=!yt&&be(h),zt=!yt&&!Lt&&tr(h),Xt=!yt&&!Lt&&!zt&&Ne(h),Zt=yt||Lt||zt||Xt,Vt=Zt?Nt(h.length,String):[],ee=Vt.length;for(var ce in h)(W||Gt.call(h,ce))&&!(Zt&&(ce=="length"||zt&&(ce=="offset"||ce=="parent")||Xt&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||Ir(ce,ee)))&&Vt.push(ce);return Vt}function vr(h,W,yt){(yt!==void 0&&!Je(h[W],yt)||yt===void 0&&!(W in h))&&mr(h,W,yt)}function ir(h,W,yt){var Lt=h[W];(!(Gt.call(h,W)&&Je(Lt,yt))||yt===void 0&&!(W in h))&&mr(h,W,yt)}function or(h,W){for(var yt=h.length;yt--;)if(Je(h[yt][0],W))return yt;return-1}function mr(h,W,yt){W=="__proto__"&&pt?pt(h,W,{configurable:!0,enumerable:!0,value:yt,writable:!0}):h[W]=yt}var yr=Kr();function Ue(h){return h==null?h===void 0?F:m:ne&&ne in Object(h)?Vr(h):xr(h)}function gr(h){return ze(h)&&Ue(h)==g}function ar(h){if(!Se(h)||Pe(h))return!1;var W=je(h)?Ct:_t;return W.test(Or(h))}function Me(h){return ze(h)&&wr(h.length)&&!!dt[Ue(h)]}function Ke(h){if(!Se(h))return We(h);var W=Te(h),yt=[];for(var Lt in h)Lt=="constructor"&&(W||!Gt.call(h,Lt))||yt.push(Lt);return yt}function lr(h,W,yt,Lt,zt){h!==W&&yr(W,function(Xt,Zt){if(zt||(zt=new de),Se(Xt))$r(h,W,Zt,yt,lr,Lt,zt);else{var Vt=Lt?Lt($e(h,Zt),Xt,Zt+"",h,W,zt):void 0;Vt===void 0&&(Vt=Xt),vr(h,Zt,Vt)}},dr)}function $r(h,W,yt,Lt,zt,Xt,Zt){var Vt=$e(h,yt),ee=$e(W,yt),ce=Zt.get(ee);if(ce){vr(h,yt,ce);return}var oe=Xt?Xt(Vt,ee,yt+"",h,W,Zt):void 0,pe=oe===void 0;if(pe){var me=fr(ee),Le=!me&&tr(ee),He=!me&&!Le&&Ne(ee);oe=ee,me||Le||He?fr(Vt)?oe=Vt:Ie(Vt)?oe=Ye(Vt):Le?(pe=!1,oe=sr(ee,!0)):He?(pe=!1,oe=cr(ee,!0)):oe=[]:Er(ee)||be(ee)?(oe=Vt,be(Vt)?oe=qe(Vt):(!Se(Vt)||je(Vt))&&(oe=_r(ee))):pe=!1}pe&&(Zt.set(ee,oe),zt(oe,ee,Lt,Xt,Zt),Zt.delete(ee)),vr(h,yt,oe)}function zr(h,W){return Gr(De(h,W,s),h+"")}var Ar=pt?function(h,W){return pt(h,"toString",{configurable:!0,enumerable:!1,value:Cr(W),writable:!0})}:s;function sr(h,W){if(W)return h.slice();var yt=h.length,Lt=Ft?Ft(yt):new h.constructor(yt);return h.copy(Lt),Lt}function ur(h){var W=new h.constructor(h.byteLength);return new wt(W).set(new wt(h)),W}function cr(h,W){var yt=W?ur(h.buffer):h.buffer;return new h.constructor(yt,h.byteOffset,h.length)}function Ye(h,W){var yt=-1,Lt=h.length;for(W||(W=Array(Lt));++yt<Lt;)W[yt]=h[yt];return W}function Ze(h,W,yt,Lt){var zt=!yt;yt||(yt={});for(var Xt=-1,Zt=W.length;++Xt<Zt;){var Vt=W[Xt],ee=Lt?Lt(yt[Vt],h[Vt],Vt,yt,h):void 0;ee===void 0&&(ee=h[Vt]),zt?mr(yt,Vt,ee):ir(yt,Vt,ee)}return yt}function Rr(h){return zr(function(W,yt){var Lt=-1,zt=yt.length,Xt=zt>1?yt[zt-1]:void 0,Zt=zt>2?yt[2]:void 0;for(Xt=h.length>3&&typeof Xt=="function"?(zt--,Xt):void 0,Zt&&Ge(yt[0],yt[1],Zt)&&(Xt=zt<3?void 0:Xt,zt=1),W=Object(W);++Lt<zt;){var Vt=yt[Lt];Vt&&h(W,Vt,Lt,Xt)}return W})}function Kr(h){return function(W,yt,Lt){for(var zt=-1,Xt=Object(W),Zt=Lt(W),Vt=Zt.length;Vt--;){var ee=Zt[h?Vt:++zt];if(yt(Xt[ee],ee,Xt)===!1)break}return W}}function Ve(h,W){var yt=h.__data__;return Be(W)?yt[typeof W=="string"?"string":"hash"]:yt.map}function br(h,W){var yt=y(h,W);return ar(yt)?yt:void 0}function Vr(h){var W=Gt.call(h,ne),yt=h[ne];try{h[ne]=void 0;var Lt=!0}catch{}var zt=re.call(h);return Lt&&(W?h[ne]=yt:delete h[ne]),zt}function _r(h){return typeof h.constructor=="function"&&!Te(h)?at(Dt(h)):{}}function Ir(h,W){var yt=typeof h;return W=W??E,!!W&&(yt=="number"||yt!="symbol"&&ot.test(h))&&h>-1&&h%1==0&&h<W}function Ge(h,W,yt){if(!Se(yt))return!1;var Lt=typeof W;return(Lt=="number"?hr(yt)&&Ir(W,yt.length):Lt=="string"&&W in yt)?Je(yt[W],h):!1}function Be(h){var W=typeof h;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?h!=="__proto__":h===null}function Pe(h){return!!Yt&&Yt in h}function Te(h){var W=h&&h.constructor,yt=typeof W=="function"&&W.prototype||ct;return h===yt}function We(h){var W=[];if(h!=null)for(var yt in Object(h))W.push(yt);return W}function xr(h){return re.call(h)}function De(h,W,yt){return W=vt(W===void 0?h.length-1:W,0),function(){for(var Lt=arguments,zt=-1,Xt=vt(Lt.length-W,0),Zt=Array(Xt);++zt<Xt;)Zt[zt]=Lt[W+zt];zt=-1;for(var Vt=Array(W+1);++zt<W;)Vt[zt]=Lt[zt];return Vt[W]=yt(Zt),Bt(h,this,Vt)}}function $e(h,W){if(!(W==="constructor"&&typeof h[W]=="function")&&W!="__proto__")return h[W]}var Gr=qr(Ar);function qr(h){var W=0,yt=0;return function(){var Lt=G(),zt=A-(Lt-yt);if(yt=Lt,zt>0){if(++W>=S)return arguments[0]}else W=0;return h.apply(void 0,arguments)}}function Or(h){if(h!=null){try{return kt.call(h)}catch{}try{return h+""}catch{}}return""}function Je(h,W){return h===W||h!==h&&W!==W}var be=gr(function(){return arguments}())?gr:function(h){return ze(h)&&Gt.call(h,"callee")&&!qt.call(h,"callee")},fr=Array.isArray;function hr(h){return h!=null&&wr(h.length)&&!je(h)}function Ie(h){return ze(h)&&hr(h)}var tr=At||k;function je(h){if(!Se(h))return!1;var W=Ue(h);return W==v||W==x||W==_||W==f}function wr(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=E}function Se(h){var W=typeof h;return h!=null&&(W=="object"||W=="function")}function ze(h){return h!=null&&typeof h=="object"}function Er(h){if(!ze(h)||Ue(h)!=l)return!1;var W=Dt(h);if(W===null)return!0;var yt=Gt.call(W,"constructor")&&W.constructor;return typeof yt=="function"&&yt instanceof yt&&kt.call(yt)==Ot}var Ne=Pt?q(Pt):Me;function qe(h){return Ze(h,dr(h))}function dr(h){return hr(h)?_e(h,!0):Ke(h)}var Xr=Rr(function(h,W,yt){lr(h,W,yt)});function Cr(h){return function(){return h}}function s(h){return h}function k(){return!1}o.exports=Xr}).call(this,t(58),t(66)(e))},function(e,i,t){t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p}),t.d(i,"c",function(){return S});var a=t(2),o={scope:a.Scope.BLOCK,whitelist:["right","center","justify"]},u=new a.Attributor("align","align",o),p=new a.ClassAttributor("align","ql-align",o),S=new a.StyleAttributor("align","text-align",o)},function(e,i){e.exports=function(t){try{return!!t()}catch{return!0}}},function(e,i,t){var a=t(8),o=t(51),u=a.String,p=a.TypeError;e.exports=function(S){if(o(S))return S;throw p(u(S)+" is not an object")}},function(e,i,t){var a=t(39);e.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(e,i){var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},function(e,i,t){t.d(i,"a",function(){return x}),t.d(i,"b",function(){return U});var a=t(14);function o($){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(l){return typeof l}:o=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},o($)}function u($,m){if(!($ instanceof m))throw new TypeError("Cannot call a class as a function")}function p($,m){for(var l=0;l<m.length;l++){var f=m[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty($,f.key,f)}}function S($,m,l){return m&&p($.prototype,m),l&&p($,l),$}function A($,m,l){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(d,I,M){var F=E(d,I);if(F){var N=Object.getOwnPropertyDescriptor(F,I);return N.get?N.get.call(M):N.value}},A($,m,l||$)}function E($,m){for(;!Object.prototype.hasOwnProperty.call($,m)&&($=v($),$!==null););return $}function g($,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(m&&m.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),m&&w($,m)}function w($,m){return w=Object.setPrototypeOf||function(f,d){return f.__proto__=d,f},w($,m)}function _($){var m=P();return function(){var f=v($),d;if(m){var I=v(this).constructor;d=Reflect.construct(f,arguments,I)}else d=f.apply(this,arguments);return b(this,d)}}function b($,m){if(m&&(o(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R($)}function R($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v($){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},v($)}var x=function($){g(l,$);var m=_(l);function l(){return u(this,l),m.apply(this,arguments)}return S(l,[{key:"format",value:function(d,I){d!==this.statics.blotName||!I?A(v(l.prototype),"format",this).call(this,d,I):this.domNode.setAttribute("href",this.constructor.sanitize(I))}}],[{key:"create",value:function(d){var I=A(v(l),"create",this).call(this,d);return I.setAttribute("href",this.sanitize(d)),I.setAttribute("rel","noopener noreferrer"),I.setAttribute("target","_blank"),I}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return U(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),l}(a.a);x.blotName="link",x.tagName="A",x.SANITIZED_URL="about:blank",x.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function U($,m){var l=document.createElement("a");l.href=$;var f=l.href.slice(0,l.href.indexOf(":"));return m.indexOf(f)>-1}},function(e,i,t){i.a=new WeakMap},function(e,i,t){t.d(i,"a",function(){return u}),t.d(i,"b",function(){return p});var a=t(2),o=t(34),u=new a.ClassAttributor("background","ql-bg",{scope:a.Scope.INLINE}),p=new o.a("background","background-color",{scope:a.Scope.INLINE})},function(e,i,t){t.d(i,"b",function(){return m}),t.d(i,"a",function(){return U});var a=t(2);function o(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(d){return typeof d}:o=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},o(l)}function u(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function p(l,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(l,I.key,I)}}function S(l,f,d){return f&&p(l.prototype,f),d&&p(l,d),l}function A(l,f,d){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(M,F,N){var tt=E(M,F);if(tt){var B=Object.getOwnPropertyDescriptor(tt,F);return B.get?B.get.call(N):B.value}},A(l,f,d||l)}function E(l,f){for(;!Object.prototype.hasOwnProperty.call(l,f)&&(l=v(l),l!==null););return l}function g(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(f&&f.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),f&&w(l,f)}function w(l,f){return w=Object.setPrototypeOf||function(I,M){return I.__proto__=M,I},w(l,f)}function _(l){var f=P();return function(){var I=v(l),M;if(f){var F=v(this).constructor;M=Reflect.construct(I,arguments,F)}else M=I.apply(this,arguments);return b(this,M)}}function b(l,f){if(f&&(o(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(l)}function R(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(l){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},v(l)}var x={scope:a.Scope.INLINE,whitelist:["serif","monospace"]},U=new a.ClassAttributor("font","ql-font",x),$=function(l){g(d,l);var f=_(d);function d(){return u(this,d),f.apply(this,arguments)}return S(d,[{key:"value",value:function(M){return A(v(d.prototype),"value",this).call(this,M).replace(/["']/g,"")}}]),d}(a.StyleAttributor),m=new $("font","font-family",x)},function(e,i,t){t.d(i,"a",function(){return o}),t.d(i,"b",function(){return u});var a=t(2),o=new a.ClassAttributor("size","ql-size",{scope:a.Scope.INLINE,whitelist:["small","large","huge"]}),u=new a.StyleAttributor("size","font-size",{scope:a.Scope.INLINE,whitelist:["10px","18px","32px"]})},function(e,i,t){t.d(i,"a",function(){return a});function a(o,u,p){p?o.setAttribute(u,p):o.removeAttribute(u)}},function(e,i,t){var a=t(14);function o(U){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(m){return typeof m}:o=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},o(U)}function u(U,$){if(!(U instanceof $))throw new TypeError("Cannot call a class as a function")}function p(U,$){for(var m=0;m<$.length;m++){var l=$[m];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(U,l.key,l)}}function S(U,$,m){return $&&p(U.prototype,$),m&&p(U,m),U}function A(U,$,m){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get:A=function(f,d,I){var M=E(f,d);if(M){var F=Object.getOwnPropertyDescriptor(M,d);return F.get?F.get.call(I):F.value}},A(U,$,m||U)}function E(U,$){for(;!Object.prototype.hasOwnProperty.call(U,$)&&(U=v(U),U!==null););return U}function g(U,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create($&&$.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),$&&w(U,$)}function w(U,$){return w=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},w(U,$)}function _(U){var $=P();return function(){var l=v(U),f;if($){var d=v(this).constructor;f=Reflect.construct(l,arguments,d)}else f=l.apply(this,arguments);return b(this,f)}}function b(U,$){if($&&(o($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(U)}function R(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(U){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)},v(U)}var x=function(U){g(m,U);var $=_(m);function m(){return u(this,m),$.apply(this,arguments)}return S(m,[{key:"optimize",value:function(f){A(v(m.prototype),"optimize",this).call(this,f),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return A(v(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(a.a);x.blotName="bold",x.tagName=["STRONG","B"],i.a=x},function(e,i,t){t.d(i,"a",function(){return U}),t.d(i,"b",function(){return l});var a=t(2),o=t(0),u=t(12),p=t(15);function S(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(I){return typeof I}:S=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},S(f)}function A(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function E(f,d){for(var I=0;I<d.length;I++){var M=d[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(f,M.key,M)}}function g(f,d,I){return d&&E(f.prototype,d),I&&E(f,I),f}function w(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),d&&_(f,d)}function _(f,d){return _=Object.setPrototypeOf||function(M,F){return M.__proto__=F,M},_(f,d)}function b(f){var d=v();return function(){var M=x(f),F;if(d){var N=x(this).constructor;F=Reflect.construct(M,arguments,N)}else F=M.apply(this,arguments);return R(this,F)}}function R(f,d){if(d&&(S(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(f)}function P(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(f){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)},x(f)}var U=function(f){w(I,f);var d=b(I);function I(M,F){var N;return A(this,I),N=d.call(this,M,F),N.lastRecorded=0,N.ignoreChange=!1,N.clear(),N.quill.on(o.a.events.EDITOR_CHANGE,function(tt,B,Z,ut){tt!==o.a.events.TEXT_CHANGE||N.ignoreChange||(!N.options.userOnly||ut===o.a.sources.USER?N.record(B,Z):N.transform(B))}),N.quill.keyboard.addBinding({key:"z",shortKey:!0},N.undo.bind(P(N))),N.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},N.redo.bind(P(N))),Object(p.a)()&&/Win/i.test(navigator.platform)&&N.quill.keyboard.addBinding({key:"y",shortKey:!0},N.redo.bind(P(N))),N.quill.root.addEventListener("beforeinput",function(tt){tt.inputType==="historyUndo"?(N.undo(),tt.preventDefault()):tt.inputType==="historyRedo"&&(N.redo(),tt.preventDefault())}),N}return g(I,[{key:"change",value:function(F,N){if(this.stack[F].length!==0){var tt=this.stack[F].pop(),B=this.quill.getContents(),Z=tt.invert(B);this.stack[N].push(Z),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(tt,o.a.sources.USER),this.ignoreChange=!1;var ut=l(this.quill.scroll,tt);this.quill.setSelection(ut)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,N){if(F.ops.length!==0){this.stack.redo=[];var tt=F.invert(N),B=Date.now();if(this.lastRecorded+this.options.delay>B&&this.stack.undo.length>0){var Z=this.stack.undo.pop();tt=tt.compose(Z)}else this.lastRecorded=B;tt.length()!==0&&(this.stack.undo.push(tt),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){$(this.stack.undo,F),$(this.stack.redo,F)}},{key:"undo",value:function(){this.change("undo","redo")}}]),I}(u.a);U.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function $(f,d){for(var I=d,M=f.length-1;M>=0;M-=1){var F=f[M];f[M]=I.transform(F,!0),I=F.transform(I),f[M].length()===0&&f.splice(M,1)}}function m(f,d){var I=d.ops[d.ops.length-1];return I==null?!1:I.insert!=null?typeof I.insert=="string"&&I.insert.endsWith(`
`):I.attributes!=null?Object.keys(I.attributes).some(function(M){return f.query(M,a.Scope.BLOCK)!=null}):!1}function l(f,d){var I=d.reduce(function(F,N){return F+(N.delete||0)},0),M=d.length()-I;return m(f,d)&&(M-=1),M}},function(e,i,t){var a=t(22);e.exports=function(o){return typeof o=="object"?o!==null:a(o)}},function(e,i,t){var a=t(8),o=t(41),u=t(101),p=t(40),S=t(84),A=a.TypeError,E=Object.defineProperty;i.f=o?E:function(w,_,b){if(p(w),_=S(_),p(b),u)try{return E(w,_,b)}catch{}if("get"in b||"set"in b)throw A("Accessors not supported");return"value"in b&&(w[_]=b.value),w}},function(e,i,t){t.d(i,"a",function(){return $});var a=t(2),o=t(29),u=t(19);function p(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(m)}function S(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")}function A(m,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function E(m,l,f){return l&&A(m.prototype,l),f&&A(m,f),m}function g(m,l,f){return typeof Reflect<"u"&&Reflect.get?g=Reflect.get:g=function(I,M,F){var N=w(I,M);if(N){var tt=Object.getOwnPropertyDescriptor(N,M);return tt.get?tt.get.call(F):tt.value}},g(m,l,f||m)}function w(m,l){for(;!Object.prototype.hasOwnProperty.call(m,l)&&(m=U(m),m!==null););return m}function _(m,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(l&&l.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),l&&b(m,l)}function b(m,l){return b=Object.setPrototypeOf||function(d,I){return d.__proto__=I,d},b(m,l)}function R(m){var l=x();return function(){var d=U(m),I;if(l){var M=U(this).constructor;I=Reflect.construct(d,arguments,M)}else I=d.apply(this,arguments);return P(this,I)}}function P(m,l){if(l&&(p(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U(m){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},U(m)}var $=function(m){_(f,m);var l=R(f);function f(d,I){var M,F,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return S(this,f),F=l.call(this,d,I,N),F.allowedTags=(M=N.allowedTags)!==null&&M!==void 0?M:[],F}return E(f,[{key:"add",value:function(I,M){return o.c.call(this,g(U(f.prototype),"add",this),I,M)}},{key:"remove",value:function(I){return o.c.call(this,g(U(f.prototype),"remove",this),I)}},{key:"value",value:function(I){return o.c.call(this,g(U(f.prototype),"value",this),I)}},{key:"canAdd",value:function(I,M){return o.a.call(this,g(U(f.prototype),"canAdd",this),I,M)}}],[{key:"keys",value:function(I){return Object(o.b)(g(U(f),"keys",this),I,u.a.style)}}]),f}(a.StyleAttributor)},function(e,i,t){t.d(i,"a",function(){return o});var a=t(0);function o(u,p){return{key:u?"upArrow":"downArrow",collapsed:!0,format:p,handler:function(A,E){var g=u?"prev":"next",w=E.line,_=w.statics.blotName.indexOf("Line")>-1?w.parent:w,b=_.parent.parent[g],R=_.parent[g]||(b==null?void 0:b.children.head);if(R!=null){if(R.statics.blotName==="tableRow"||R.statics.blotName==="tableHeaderRow"){for(var P=R.children.head,v=_;v.prev!=null;)v=v.prev,P=P.next;var x=P.offset(this.quill.scroll)+Math.min(E.offset,P.length()-1);this.quill.setSelection(x,0,a.a.sources.USER)}}else{var U=_.table()[g];U!=null&&(u?this.quill.setSelection(U.offset(this.quill.scroll)+U.length()-1,0,a.a.sources.USER):this.quill.setSelection(U.offset(this.quill.scroll),0,a.a.sources.USER))}return!1}}}},function(e,i,t){t.d(i,"a",function(){return _}),t.d(i,"b",function(){return b});var a=t(2),o=t(63),u=t(53),p=t(26);function S(R,P){var v=Object.keys(R);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(R);P&&(x=x.filter(function(U){return Object.getOwnPropertyDescriptor(R,U).enumerable})),v.push.apply(v,x)}return v}function A(R){for(var P=1;P<arguments.length;P++){var v=arguments[P]!=null?arguments[P]:{};P%2?S(Object(v),!0).forEach(function(x){E(R,x,v[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(v)):S(Object(v)).forEach(function(x){Object.defineProperty(R,x,Object.getOwnPropertyDescriptor(v,x))})}return R}function E(R,P,v){return P in R?Object.defineProperty(R,P,{value:v,enumerable:!0,configurable:!0,writable:!0}):R[P]=v,R}function g(R,P,v,x){R[P]=!x&&R[P]?R[P]:v}function w(R,P,v,x,U,$){return R.filter(function(m){return!!m}).forEach(function(m){var l=v.query(m,a.Scope.ATTRIBUTE);if(l!==null){var f=l.value(P);if(f){g(U,l.attrName,f,$);return}}var d=x[m];if(d!=null&&(d.attrName===m||d.keyName===m)){var I=d.value(P)||void 0;g(U,d.attrName,I,$)}}),U}function _(R){return function(P,v,x){var U=o.a.keys(P),$=u.a.keys(P),m=A(A({},w(U,P,x,R,{},!0)),w($,P,x,R,{},!0));return Object.keys(m).length>0?Object(p.a)(v,m):v}}function b(R){return function(P,v,x){var U,$=o.a.keys(P),m=u.a.keys(P),l=((U=P.parentNode)===null||U===void 0?void 0:U.tagName)==="TR"?P.parentNode:void 0,f=A(A({},w($,P,x,R,{},!0)),w(m,P,x,R,{},!0));if(l){var d=u.a.keys(l);f=w(d,l,x,R,f,!1)}return Object.keys(f).length>0?Object(p.a)(v,f):v}}},function(e,i,t){var a=t(2),o=t(9);function u(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(f){return typeof f}:u=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},u(m)}function p(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")}function S(m,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function A(m,l,f){return l&&S(m.prototype,l),f&&S(m,f),m}function E(m,l,f){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get:E=function(I,M,F){var N=g(I,M);if(N){var tt=Object.getOwnPropertyDescriptor(N,M);return tt.get?tt.get.call(F):tt.value}},E(m,l,f||m)}function g(m,l){for(;!Object.prototype.hasOwnProperty.call(m,l)&&(m=x(m),m!==null););return m}function w(m,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(l&&l.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),l&&_(m,l)}function _(m,l){return _=Object.setPrototypeOf||function(d,I){return d.__proto__=I,d},_(m,l)}function b(m){var l=v();return function(){var d=x(m),I;if(l){var M=x(this).constructor;I=Reflect.construct(d,arguments,M)}else I=d.apply(this,arguments);return R(this,I)}}function R(m,l){if(l&&(u(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(m)}function P(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x(m){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},x(m)}var U="\uFEFF",$=function(m){w(f,m);var l=b(f);function f(d,I){var M;return p(this,f),M=l.call(this,d,I),M.contentNode=document.createElement("span"),M.contentNode.setAttribute("contenteditable",!1),Array.from(M.domNode.childNodes).forEach(function(F){M.contentNode.appendChild(F)}),M.leftGuard=document.createTextNode(U),M.rightGuard=document.createTextNode(U),M.domNode.appendChild(M.leftGuard),M.domNode.appendChild(M.contentNode),M.domNode.appendChild(M.rightGuard),M}return A(f,[{key:"index",value:function(I,M){return I===this.leftGuard?0:I===this.rightGuard?1:E(x(f.prototype),"index",this).call(this,I,M)}},{key:"restore",value:function(I){var M,F,N=I.data.split(U).join("");if(I===this.leftGuard)if(this.prev instanceof o.a){var tt=this.prev.length();this.prev.insertAt(tt,N),M={startNode:this.prev.domNode,startOffset:tt+N.length}}else F=document.createTextNode(N),this.parent.insertBefore(this.scroll.create(F),this),M={startNode:F,startOffset:N.length};else I===this.rightGuard&&(this.next instanceof o.a?(this.next.insertAt(0,N),M={startNode:this.next.domNode,startOffset:N.length}):(F=document.createTextNode(N),this.parent.insertBefore(this.scroll.create(F),this.next),M={startNode:F,startOffset:N.length}));return I.data=U,M}},{key:"update",value:function(I,M){var F=this;I.forEach(function(N){if(N.type==="characterData"&&(N.target===F.leftGuard||N.target===F.rightGuard)){var tt=F.restore(N.target);tt&&(M.range=tt)}})}}]),f}(a.EmbedBlot);i.a=$},function(e,i,t){function a(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function o(S,A){for(var E=0;E<A.length;E++){var g=A[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(S,g.key,g)}}function u(S,A,E){return A&&o(S.prototype,A),E&&o(S,E),S}var p=function(){function S(A,E){a(this,S),this.quill=A,this.options=E,this.modules={}}return u(S,[{key:"init",value:function(){var E=this;Object.keys(this.options.modules).forEach(function(g){E.modules[g]==null&&E.addModule(g)})}},{key:"addModule",value:function(E){var g=this.quill.constructor.import("modules/".concat(E));return this.modules[E]=new g(this.quill,this.options.modules[E]||{}),this.modules[E]}}]),S}();p.DEFAULTS={modules:{}},p.themes={default:p},i.a=p},function(e,i){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}e.exports=t},function(e,i,t){var a=t(1),o=t.n(a),u=t(3),p=t(12),S=t(15);function A(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(d){return typeof d}:A=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},A(l)}function E(l,f,d){return f in l?Object.defineProperty(l,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[f]=d,l}function g(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function w(l,f){for(var d=0;d<f.length;d++){var I=f[d];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(l,I.key,I)}}function _(l,f,d){return f&&w(l.prototype,f),d&&w(l,d),l}function b(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(f&&f.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),f&&R(l,f)}function R(l,f){return R=Object.setPrototypeOf||function(I,M){return I.__proto__=M,I},R(l,f)}function P(l){var f=U();return function(){var I=$(l),M;if(f){var F=$(this).constructor;M=Reflect.construct(I,arguments,F)}else M=I.apply(this,arguments);return v(this,M)}}function v(l,f){if(f&&(A(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(l)}function x(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(l){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},$(l)}var m=function(l){b(d,l);var f=P(d);function d(I,M){var F;return g(this,d),F=f.call(this,I,M),F.preventImageUploading(!1),F.addDragOverHandler(),F.addDropHandler(),F}return _(d,[{key:"addDragOverHandler",value:function(){if(Object(S.a)()){var M=window.navigator.userAgent.toLowerCase(),F=M.indexOf("msie ")!==-1||M.indexOf("trident/")!==-1||M.indexOf("edge/")!==-1;F&&this.quill.root.addEventListener("dragover",function(N){N.preventDefault()})}}},{key:"addDropHandler",value:function(){var M=this;this.quill.root.addEventListener("drop",function(F){var N=F.dataTransfer.files.length===0,tt=M.options.onDrop;if(tt&&typeof tt=="function"&&tt(F),!(N||M.preventImageUpload)){F.preventDefault();var B;if(document.caretRangeFromPoint)B=document.caretRangeFromPoint(F.clientX,F.clientY);else if(document.caretPositionFromPoint){var Z=document.caretPositionFromPoint(F.clientX,F.clientY);B=document.createRange(),B.setStart(Z.offsetNode,Z.offset),B.setEnd(Z.offsetNode,Z.offset)}else return;var ut=M.quill.selection.normalizeNative(B),ht=M.quill.selection.normalizedToRange(ut);M.upload(ht,F.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(M){return typeof M<"u"&&(this.preventImageUpload=M),this.preventImageUpload}},{key:"upload",value:function(M,F,N){var tt=this;if(!(this.preventImageUpload&&!N)){var B=[];Array.from(F).forEach(function(Z){Z&&tt.options.mimetypes.indexOf(Z.type)!==-1&&B.push(Z)}),B.length>0&&this.options.handler.call(this,M,B,this.options.imageBlot)}}}]),d}(p.a);m.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(f,d,I){var M=this,F=d.map(function(N){return new Promise(function(tt){var B=new FileReader;B.onload=function(Z){tt(Z.target.result)},B.readAsDataURL(N)})});Promise.all(F).then(function(N){var tt=N.reduce(function(B,Z){return B.insert(E({},I,Z))},new o.a().retain(f.index).delete(f.length));M.quill.updateContents(tt,u.a.sources.USER),M.quill.setSelection(f.index+N.length,u.a.sources.SILENT)})}},i.a=m},function(e,i,t){var a=t(8),o=t(22),u=function(p){return o(p)?p:void 0};e.exports=function(p,S){return arguments.length<2?u(a[p]):a[p]&&a[p][S]}},function(e,i,t){var a=t(8),o=t(89).f,u=t(70),p=t(90),S=t(81),A=t(135),E=t(140);e.exports=function(g,w){var _=g.target,b=g.global,R=g.stat,P,v,x,U,$,m;if(b?v=a:R?v=a[_]||S(_,{}):v=(a[_]||{}).prototype,v)for(x in w){if($=w[x],g.noTargetGet?(m=o(v,x),U=m&&m.value):U=v[x],P=E(b?x:_+(R?".":"#")+x,g.forced),!P&&U!==void 0){if(typeof $==typeof U)continue;A($,U)}(g.sham||U&&U.sham)&&u($,"sham",!0),p(v,x,$,g)}}},function(e,i,t){var a=t(134),o=t(69);e.exports=function(u){return a(o(u))}},function(e,i,t){t.d(i,"a",function(){return $});var a=t(2),o=t(29),u=t(19);function p(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(f){return typeof f}:p=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},p(m)}function S(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")}function A(m,l){for(var f=0;f<l.length;f++){var d=l[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(m,d.key,d)}}function E(m,l,f){return l&&A(m.prototype,l),f&&A(m,f),m}function g(m,l,f){return typeof Reflect<"u"&&Reflect.get?g=Reflect.get:g=function(I,M,F){var N=w(I,M);if(N){var tt=Object.getOwnPropertyDescriptor(N,M);return tt.get?tt.get.call(F):tt.value}},g(m,l,f||m)}function w(m,l){for(;!Object.prototype.hasOwnProperty.call(m,l)&&(m=U(m),m!==null););return m}function _(m,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(l&&l.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),l&&b(m,l)}function b(m,l){return b=Object.setPrototypeOf||function(d,I){return d.__proto__=I,d},b(m,l)}function R(m){var l=x();return function(){var d=U(m),I;if(l){var M=U(this).constructor;I=Reflect.construct(d,arguments,M)}else I=d.apply(this,arguments);return P(this,I)}}function P(m,l){if(l&&(p(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(m)}function v(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U(m){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},U(m)}var $=function(m){_(f,m);var l=R(f);function f(d,I){var M,F,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return S(this,f),F=l.call(this,d,I,N),F.allowedTags=(M=N.allowedTags)!==null&&M!==void 0?M:[],F}return E(f,[{key:"add",value:function(I,M){return o.c.call(this,g(U(f.prototype),"add",this),I,M)}},{key:"remove",value:function(I){return o.c.call(this,g(U(f.prototype),"remove",this),I)}},{key:"value",value:function(I){return o.c.call(this,g(U(f.prototype),"value",this),I)}},{key:"canAdd",value:function(I,M){return o.a.call(this,g(U(f.prototype),"canAdd",this),I,M)}}],[{key:"keys",value:function(I){return Object(o.b)(g(U(f),"keys",this),I,u.a.attribute)}}]),f}(a.Attributor)},function(e,i,t){t.d(i,"a",function(){return a});function a(){return Math.random().toString(36).slice(2,6)}},function(e,i,t){var a=t(1),o=t.n(a),u=t(2),p=t(0),S=t(12),A=t(6),E=t(10),g=t(13),w=t(5),_=t(21),b=t(11),R=t(64),P=t(48);function v(G){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(D){return typeof D}:v=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},v(G)}function x(G,K){return m(G)||$(G,K)||d(G,K)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(G,K){var D=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(D!=null){var at=[],X=!0,lt=!1,Et,xt;try{for(D=D.call(G);!(X=(Et=D.next()).done)&&(at.push(Et.value),!(K&&at.length===K));X=!0);}catch(jt){lt=!0,xt=jt}finally{try{!X&&D.return!=null&&D.return()}finally{if(lt)throw xt}}return at}}function m(G){if(Array.isArray(G))return G}function l(G){return M(G)||I(G)||d(G)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(G,K){if(G){if(typeof G=="string")return F(G,K);var D=Object.prototype.toString.call(G).slice(8,-1);if(D==="Object"&&G.constructor&&(D=G.constructor.name),D==="Map"||D==="Set")return Array.from(G);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return F(G,K)}}function I(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function M(G){if(Array.isArray(G))return F(G)}function F(G,K){(K==null||K>G.length)&&(K=G.length);for(var D=0,at=new Array(K);D<K;D++)at[D]=G[D];return at}function N(G,K){if(!(G instanceof K))throw new TypeError("Cannot call a class as a function")}function tt(G,K){for(var D=0;D<K.length;D++){var at=K[D];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(G,at.key,at)}}function B(G,K,D){return K&&tt(G.prototype,K),D&&tt(G,D),G}function Z(G,K,D){return typeof Reflect<"u"&&Reflect.get?Z=Reflect.get:Z=function(X,lt,Et){var xt=ut(X,lt);if(xt){var jt=Object.getOwnPropertyDescriptor(xt,lt);return jt.get?jt.get.call(Et):jt.value}},Z(G,K,D||G)}function ut(G,K){for(;!Object.prototype.hasOwnProperty.call(G,K)&&(G=et(G),G!==null););return G}function ht(G,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(K&&K.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),K&&it(G,K)}function it(G,K){return it=Object.setPrototypeOf||function(at,X){return at.__proto__=X,at},it(G,K)}function mt(G){var K=L();return function(){var at=et(G),X;if(K){var lt=et(this).constructor;X=Reflect.construct(at,arguments,lt)}else X=at.apply(this,arguments);return Y(this,X)}}function Y(G,K){if(K&&(v(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(G)}function V(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(G){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},et(G)}var st=["row","cell"],_t="data-table-",ot=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return B(D,[{key:"optimize",value:function(){var X,lt=this.domNode.getAttribute("".concat(_t,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var Et=this.domNode,xt={row:lt};Object.keys(_.b).forEach(function(te){var fe=Et.dataset[te.toLowerCase()];fe&&(xt[te]=fe)}),this.wrap(this.statics.requiredContainer.blotName,xt)}for(var jt=arguments.length,$t=new Array(jt),Kt=0;Kt<jt;Kt++)$t[Kt]=arguments[Kt];(X=Z(et(D.prototype),"optimize",this)).call.apply(X,[this].concat($t))}},{key:"format",value:function(X,lt){var Et=X==="tableCellLine";Et&&lt===null&&(lt=this.formats().tableCellLine);var xt=st.indexOf(X)>-1;if(xt||b.c[X]||_.b[X]){var jt="data-".concat(xt?"table-":"").concat(X.toLowerCase());if(Object(P.a)(this.domNode,jt,lt),_.b[X]){var $t;($t=this.cell())===null||$t===void 0||$t.format(X,lt)}if(b.c[X]){var Kt,te;(Kt=this.cell())===null||Kt===void 0||(te=Kt.table())===null||te===void 0||te.format(X,lt)}}else Z(et(D.prototype),"format",this).call(this,X,lt)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return st.forEach(function(Et){var xt,jt=Et==="row"?Nt:q;lt.setAttribute("".concat(_t).concat(Et),(xt=X[Et])!==null&&xt!==void 0?xt:jt())}),lt}},{key:"formats",value:function(X){return st.reduce(function(lt,Et){var xt="".concat(_t).concat(Et);return X.hasAttribute(xt)&&(lt[Et]=X.getAttribute(xt)||void 0),lt},{})}}]),D}(A.d);ot.blotName="tableCellLine",ot.className="ql-table-cell-line",ot.tagName="P";var dt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return D}(ot);dt.blotName="tableHeaderCellLine",dt.className="ql-table-header-cell-line";var Tt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return B(D,[{key:"format",value:function(X,lt){var Et;(Et=_.b[X])===null||Et===void 0||Et.add(this.domNode,lt)}},{key:"checkMerge",value:function(){if(Z(et(D.prototype),"checkMerge",this).call(this)&&this.next.children.head!=null){var X=this.children.head.formats()[this.children.head.statics.blotName],lt=this.children.tail.formats()[this.children.tail.statics.blotName],Et=this.next.children.head.formats()[this.next.children.head.statics.blotName],xt=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return X.cell===lt.cell&&X.cell===Et.cell&&X.cell===xt.cell}return!1}},{key:"formats",value:function(){return D.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var X;return(X=this.row())===null||X===void 0?void 0:X.table()}},{key:"optimize",value:function(){var X,lt,Et=(X=this.domNode.getAttribute("".concat(_t,"row")))!==null&&X!==void 0?X:this.domNode.getAttribute("".concat(_t,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:Et});for(var xt=arguments.length,jt=new Array(xt),$t=0;$t<xt;$t++)jt[$t]=arguments[$t];(lt=Z(et(D.prototype),"optimize",this)).call.apply(lt,[this].concat(jt))}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return X&&Object.keys(X).forEach(function(Et){var xt;(xt=_.b[Et])===null||xt===void 0||xt.add(lt,X[Et])}),lt}},{key:"cellFormats",value:function(X){var lt={};if(X.hasAttribute("".concat(_t,"row"))||X.hasAttribute("".concat(_t,"header-row"))){var Et;lt.row=(Et=X.getAttribute("".concat(_t,"row")))!==null&&Et!==void 0?Et:X.getAttribute("".concat(_t,"header-row"))}return Object.keys(_.b).forEach(function(xt){var jt,$t=(jt=X.firstElementChild)===null||jt===void 0?void 0:jt.dataset[xt.toLowerCase()];$t&&(lt[xt]=$t)}),lt}}]),D}(g.a);Tt.tagName=["TD","TH"];var Rt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return B(D,[{key:"format",value:function(X,lt){X==="row"?(this.domNode.setAttribute("".concat(_t).concat(X),lt),this.children.forEach(function(Et){Et.format(X,lt)})):Z(et(D.prototype),"format",this).call(this,X,lt)}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X),Et="".concat(_t,"row");return X!=null&&X.row&&lt.setAttribute(Et,X.row),lt}}]),D}(Tt);Rt.blotName="tableCell",Rt.className="ql-table-data-cell",Rt.dataAttribute="".concat(_t,"row");var rt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return B(D,[{key:"format",value:function(X,lt){X==="row"?(this.domNode.setAttribute("".concat(_t).concat(X),lt),this.children.forEach(function(Et){Et.format(X,lt)})):Z(et(D.prototype),"format",this).call(this,X,lt)}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X),Et="".concat(_t,"header-row");return X&&X.row&&lt.setAttribute(Et,X.row),lt}}]),D}(Tt);rt.tagName=["TH","TD"],rt.className="ql-table-header-cell",rt.blotName="tableHeaderCell",rt.dataAttribute="".concat(_t,"header-row");var z=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return B(D,[{key:"checkMerge",value:function(){if(Z(et(D.prototype),"checkMerge",this).call(this)&&Object(w.a)(this.next.children.head)){var X="row",lt=this.children.head.formats(),Et=this.children.tail.formats(),xt=this.next.children.head.formats(),jt=this.next.children.tail.formats();return lt[X]===Et[X]&&lt[X]===xt[X]&&lt[X]===jt[X]}return!1}},{key:"optimize",value:function(){for(var X,lt=this,Et=arguments.length,xt=new Array(Et),jt=0;jt<Et;jt++)xt[jt]=arguments[jt];(X=Z(et(D.prototype),"optimize",this)).call.apply(X,[this].concat(xt));var $t=this.childFormatName;this.children.forEach(function(Kt){if(Object(w.a)(Kt.next)){var te=Kt.formats(),fe=Kt.next.formats();if(te[$t]!==fe[$t]){var Ee=lt.splitAfter(Kt);Ee&&Ee.optimize(),lt.prev&&lt.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var X;return(X=this.parent)===null||X===void 0?void 0:X.parent}},{key:"formats",value:function(){var X={},lt="".concat(_t,"row");return this.domNode.hasAttribute(lt)&&(X[lt]=this.domNode.getAttribute(lt)),X}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return X!=null&&X.row&&lt.setAttribute("".concat(_t,"row"),X.row),lt}}]),D}(g.a);z.tagName="TR";var Q=function(G){ht(D,G);var K=mt(D);function D(at,X){var lt;return N(this,D),lt=K.call(this,at,X),lt.childFormatName="table",lt}return D}(z);Q.blotName="tableRow";var J=function(G){ht(D,G);var K=mt(D);function D(at,X){var lt;return N(this,D),lt=K.call(this,at,X),lt.childFormatName="tableHeaderCell",lt}return D}(z);J.blotName="tableHeaderRow";var nt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return B(D,[{key:"optimize",value:function(){var X;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var lt=this.children.head.children.head.children.head.domNode,Et={};Object.keys(b.c).forEach(function(Kt){var te=lt.dataset[Kt.toLowerCase()];te&&(Et[Kt]=te)}),this.wrap(this.statics.requiredContainer.blotName,Et)}for(var xt=arguments.length,jt=new Array(xt),$t=0;$t<xt;$t++)jt[$t]=arguments[$t];(X=Z(et(D.prototype),"optimize",this)).call.apply(X,[this].concat(jt))}}]),D}(g.a),gt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return D}(nt);gt.blotName="tableBody",gt.tagName="TBODY";var Pt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return D}(nt);Pt.blotName="tableHeader",Pt.tagName="THEAD";var Bt=function(G){ht(D,G);var K=mt(D);function D(){return N(this,D),K.apply(this,arguments)}return B(D,[{key:"balanceCells",value:function(){var X=this.descendants(J),lt=this.descendants(Q),Et=this.getMaxTableColCount(X,lt);this.balanceRows(Et,X,rt),this.balanceRows(Et,lt,Rt)}},{key:"getMaxTableColCount",value:function(X,lt){return Math.max(this.getMaxRowColCount(X),this.getMaxRowColCount(lt))}},{key:"getMaxRowColCount",value:function(X){return Math.max.apply(Math,l(X.map(function(lt){return lt.children.length})))}},{key:"balanceRows",value:function(X,lt,Et){var xt=this;lt.forEach(function(jt){new Array(X-jt.children.length).fill(0).forEach(function(){var $t;Object(w.a)(jt.children.head)&&($t=Et.cellFormats(jt.children.head.domNode));var Kt=xt.scroll.create(Et.blotName,$t),te=xt.scroll.create(Et.allowedChildren[0].blotName,$t);Kt.appendChild(te),jt.appendChild(Kt),Kt.optimize()})})}},{key:"cells",value:function(X){return this.rows().map(function(lt){return lt.children.at(X)})}},{key:"deleteColumn",value:function(X){var lt=this;[Pt,gt].forEach(function(Et){var xt=lt.descendants(Et),jt=x(xt,1),$t=jt[0];!Object(w.a)($t)||!Object(w.a)($t.children.head)||$t.children.forEach(function(Kt){var te=Kt.children.at(X);Object(w.a)(te)&&te.remove()})})}},{key:"insertColumn",value:function(X){var lt=this;[Pt,gt].forEach(function(Et){var xt=lt.descendants(Et),jt=x(xt,1),$t=jt[0];if(!(!Object(w.a)($t)||!Object(w.a)($t.children.head))){var Kt=Et===Pt?rt:Rt,te=Et===Pt?dt:ot;$t.children.forEach(function(fe){var Ee=fe.children.at(X),we=te.formats(fe.children.head.children.head.domNode),Re=lt.scroll.create(Kt.blotName,{row:we.row}),ie=lt.scroll.create(te.blotName,{row:we.row}),Fe=lt.scroll.create(E.a.blotName);ie.appendChild(Fe),Re.appendChild(ie),fe.insertBefore(Re,Ee)})}})}},{key:"insertRow",value:function(X){var lt=this,Et=this.descendants(gt),xt=x(Et,1),jt=xt[0];if(!(!Object(w.a)(jt)||!Object(w.a)(jt.children.head))){var $t=Nt(),Kt=this.scroll.create(Q.blotName,{row:$t});jt.children.head.children.forEach(function(){var fe=lt.scroll.create(Rt.blotName,{row:$t}),Ee=lt.scroll.create(ot.blotName,{row:$t}),we=lt.scroll.create(E.a.blotName);Ee.appendChild(we),fe.appendChild(Ee),Kt.appendChild(fe)});var te=jt.children.at(X);jt.insertBefore(Kt,te)}}},{key:"insertHeaderRow",value:function(){var X=this,lt=this.descendants(Pt),Et=x(lt,1),xt=Et[0],jt=this.descendants(gt),$t=x(jt,1),Kt=$t[0];if(!(Object(w.a)(xt)||!Object(w.a)(Kt)||!Object(w.a)(Kt.children.head))){var te=Nt(),fe=this.scroll.create(Pt.blotName),Ee=this.scroll.create(J.blotName),we=this.children.at(0);fe.appendChild(Ee),Kt.children.head.children.forEach(function(){var Re=X.scroll.create(rt.blotName,{row:te}),ie=X.scroll.create(dt.blotName,{row:te}),Fe=X.scroll.create(E.a.blotName);ie.appendChild(Fe),Re.appendChild(ie),Ee.appendChild(Re),Re.optimize()}),this.insertBefore(fe,we)}}},{key:"rows",value:function(){var X=this.children.head;return Object(w.a)(X)?X.children.map(function(lt){return lt}):[]}},{key:"formats",value:function(){var X={},lt=this.cells()[0].domNode.firstElementChild;return Object.keys(b.c).forEach(function(Et){var xt=lt.dataset[Et.toLowerCase()];xt&&(X[Et]=xt)}),X}},{key:"format",value:function(X,lt){var Et=b.c[X];if(Et){var xt="data-".concat(X.toLowerCase());this.cells().forEach(function(jt){Object(P.a)(jt.children.head.domNode,xt,lt)}),Et.add(this.domNode,lt)}}}],[{key:"create",value:function(X){var lt=Z(et(D),"create",this).call(this,X);return X&&Object.keys(X).forEach(function(Et){var xt;(xt=b.c[Et])===null||xt===void 0||xt.add(lt,X[Et])}),lt}}]),D}(g.a);Bt.blotName="tableContainer",Bt.tagName="TABLE",Bt.allowedChildren=[Pt,gt],gt.requiredContainer=Bt,Pt.requiredContainer=Bt,gt.allowedChildren=[Q],Q.requiredContainer=gt,Q.allowedChildren=[Rt],Rt.requiredContainer=Q,ot.requiredContainer=Rt,Rt.allowedChildren=[ot],Pt.allowedChildren=[J],J.requiredContainer=Pt,dt.requiredContainer=rt,rt.allowedChildren=[dt],J.allowedChildren=[rt],rt.requiredContainer=J;function Nt(){return"row-".concat(Object(R.a)())}function q(){return"cell-".concat(Object(R.a)())}var y=t(26),c=t(54),T=t(55);function H(G){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(D){return typeof D}:H=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},H(G)}function ct(G,K,D){return K in G?Object.defineProperty(G,K,{value:D,enumerable:!0,configurable:!0,writable:!0}):G[K]=D,G}function St(G,K){return Ot(G)||re(G,K)||Gt(G,K)||kt()}function kt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(G,K){if(G){if(typeof G=="string")return Yt(G,K);var D=Object.prototype.toString.call(G).slice(8,-1);if(D==="Object"&&G.constructor&&(D=G.constructor.name),D==="Map"||D==="Set")return Array.from(G);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return Yt(G,K)}}function Yt(G,K){(K==null||K>G.length)&&(K=G.length);for(var D=0,at=new Array(K);D<K;D++)at[D]=G[D];return at}function re(G,K){var D=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(D!=null){var at=[],X=!0,lt=!1,Et,xt;try{for(D=D.call(G);!(X=(Et=D.next()).done)&&(at.push(Et.value),!(K&&at.length===K));X=!0);}catch(jt){lt=!0,xt=jt}finally{try{!X&&D.return!=null&&D.return()}finally{if(lt)throw xt}}return at}}function Ot(G){if(Array.isArray(G))return G}function Ct(G,K){if(!(G instanceof K))throw new TypeError("Cannot call a class as a function")}function It(G,K){for(var D=0;D<K.length;D++){var at=K[D];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(G,at.key,at)}}function Mt(G,K,D){return K&&It(G.prototype,K),D&&It(G,D),G}function wt(G,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(K&&K.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),K&&Ft(G,K)}function Ft(G,K){return Ft=Object.setPrototypeOf||function(at,X){return at.__proto__=X,at},Ft(G,K)}function Dt(G){var K=Jt();return function(){var at=ne(G),X;if(K){var lt=ne(this).constructor;X=Reflect.construct(at,arguments,lt)}else X=at.apply(this,arguments);return Wt(this,X)}}function Wt(G,K){if(K&&(H(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(G)}function qt(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function Jt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ne(G){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},ne(G)}var pt=[null,null,null,-1],At=function(G){wt(D,G);var K=Dt(D);function D(){var at;Ct(this,D);for(var X=arguments.length,lt=new Array(X),Et=0;Et<X;Et++)lt[Et]=arguments[Et];return at=K.call.apply(K,[this].concat(lt)),at.tableBlots=[ot.blotName,dt.blotName],at.tableBlots.forEach(function(xt){at.quill.editor.addImmediateFormat(xt)}),at.integrateClipboard(),at.addKeyboardHandlers(),at.listenBalanceCells(),at}return Mt(D,[{key:"integrateClipboard",value:function(){var X=this;this.tableBlots.forEach(function(lt){X.quill.clipboard.addTableBlot(lt)}),this.quill.clipboard.addMatcher("td, th",vt),this.quill.clipboard.addMatcher("table",Object(T.a)(b.a)),this.quill.clipboard.addMatcher("td, th",Object(T.b)(_.a))}},{key:"addKeyboardHandlers",value:function(){var X=this,lt=D.keyboardBindings;Object.keys(lt).forEach(function(Et){lt[Et]&&X.quill.keyboard.addBinding(lt[Et])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(Bt).forEach(function(X){X.balanceCells()})}},{key:"deleteColumn",value:function(){var X=this.getTable(),lt=St(X,3),Et=lt[0],xt=lt[2];Object(w.a)(xt)&&(Et.deleteColumn(xt.cellOffset()),this.quill.update(p.a.sources.USER))}},{key:"deleteRow",value:function(){var X=this.getTable(),lt=St(X,2),Et=lt[1];Object(w.a)(Et)&&(Et.remove(),this.quill.update(p.a.sources.USER))}},{key:"deleteTable",value:function(){var X=this.getTable(),lt=St(X,1),Et=lt[0];if(Object(w.a)(Et)){var xt=Et.offset();Et.remove(),this.quill.update(p.a.sources.USER),this.quill.setSelection(xt,p.a.sources.SILENT)}}},{key:"getTable",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!Object(w.a)(X))return pt;var lt=this.quill.getLine(X.index),Et=St(lt,2),xt=Et[0],jt=Et[1];if(!Object(w.a)(xt)||this.tableBlots.indexOf(xt.statics.blotName)===-1)return pt;var $t=xt.parent,Kt=$t.parent,te=Kt.parent.parent;return[te,Kt,$t,jt]}},{key:"insertColumn",value:function(X){var lt=this.quill.getSelection(),Et=this.getTable(lt),xt=St(Et,3),jt=xt[0],$t=xt[1],Kt=xt[2];if(Object(w.a)(Kt)){var te=Kt.cellOffset();jt.insertColumn(te+X),this.quill.update(p.a.sources.USER);var fe=$t.rowOffset();X===0&&(fe+=1),this.quill.setSelection(lt.index+fe,lt.length,p.a.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(X){var lt=this.quill.getSelection(),Et=this.getTable(lt),xt=St(Et,3),jt=xt[0],$t=xt[1],Kt=xt[2];if(Object(w.a)(Kt)){var te=$t.rowOffset();jt.insertRow(te+X),this.quill.update(p.a.sources.USER),X>0?this.quill.setSelection(lt,p.a.sources.SILENT):this.quill.setSelection(lt.index+$t.children.length,lt.length,p.a.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var X=this.quill.getSelection(),lt=this.getTable(X),Et=St(lt,3),xt=Et[0],jt=Et[2];Object(w.a)(jt)&&(xt.insertHeaderRow(),this.quill.update(p.a.sources.USER))}},{key:"insertTable",value:function(X,lt){var Et=this.quill.getSelection();if(Object(w.a)(Et)){var xt=new Array(X).fill(0).reduce(function(jt){var $t=Nt();return new Array(lt).fill(`
`).forEach(function(Kt){jt.insert(Kt,{tableCellLine:{row:$t,cell:Nt()}})}),jt},new o.a().retain(Et.index));this.quill.updateContents(xt,p.a.sources.USER),this.quill.setSelection(Et.index,p.a.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var X=this;this.quill.on(p.a.events.SCROLL_OPTIMIZE,function(lt){lt.some(function(Et){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(Et.target.tagName)!==-1?(X.quill.once(p.a.events.TEXT_CHANGE,function(xt,jt,$t){$t===p.a.sources.USER&&X.balanceTables()}),!0):!1})}),this.quill.on(p.a.events.CONTENT_SETTED,function(){X.quill.once(p.a.events.TEXT_CHANGE,function(){X.balanceTables()})})}}],[{key:"register",value:function(){p.a.register(ot,!0),p.a.register(dt,!0),p.a.register(rt,!0),p.a.register(Rt,!0),p.a.register(J,!0),p.a.register(Q,!0),p.a.register(gt,!0),p.a.register(Pt,!0),p.a.register(Bt,!0),[b.c,_.b].forEach(function(X){Object.keys(X).forEach(function(lt){p.a.register(ct({},"formats/".concat(lt),X[lt]),!0)})})}}]),D}(S.a);At.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(K){var D=this.quill.getLine(K.index),at=St(D,1),X=at[0];return!(!X.prev||["tableCellLine","tableHeaderCellLine"].indexOf(X.prev.statics.blotName)===-1)}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table cell enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(K,D){var at,X=this;if(!((at=this.quill.selection)!==null&&at!==void 0&&at.composing)){K.length>0&&this.quill.scroll.deleteAt(K.index,K.length);var lt=Object.keys(D.format).reduce(function(Et,xt){return X.quill.scroll.query(xt,u.Scope.BLOCK)&&!Array.isArray(D.format[xt])&&(Et[xt]=D.format[xt]),Et},{});this.quill.insertText(K.index,`
`,lt.tableCellLine,p.a.sources.USER),this.quill.setSelection(K.index+1,p.a.sources.SILENT),this.quill.focus(),Object.keys(D.format).forEach(function(Et){lt[Et]==null&&(Array.isArray(D.format[Et])||Et!=="link"&&X.quill.format(Et,D.format[Et],p.a.sources.USER))})}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(K,D){var at=D.event,X=D.line,lt=X.offset(this.quill.scroll);at.shiftKey?this.quill.setSelection(lt-1,p.a.sources.USER):this.quill.setSelection(lt+X.length(),p.a.sources.USER)}},"table down":Object(c.a)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":Object(c.a)(!0,["tableCellLine","tableHeaderCellLine"])};function vt(G,K){var D=G.parentNode,at=D.parentNode.tagName==="TABLE"?D.parentNode:D.parentNode.parentNode,X=D.parentNode.tagName==="THEAD"?!0:null,lt=Array.from(at.querySelectorAll("tr")),Et=Array.from(D.querySelectorAll("th,td")),xt=lt.indexOf(D)+1,jt=Et.indexOf(G)+1,$t=X?"tableHeaderCellLine":"tableCellLine";return K.length()===0?(K=new o.a().insert(`
`,ct({},$t,{row:xt,cell:jt})),K):(Object(y.c)(K,`
`)||K.insert(`
`),Object(y.a)(K,$t,{row:xt,cell:jt}))}i.a=At},function(e,i){e.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(e,i){e.exports=!1},function(e,i,t){var a=t(8),o=t(69),u=a.Object;e.exports=function(p){return u(o(p))}},function(e,i,t){var a=t(8),o=a.TypeError;e.exports=function(u){if(u==null)throw o("Can't call method on "+u);return u}},function(e,i,t){var a=t(41),o=t(52),u=t(71);e.exports=a?function(p,S,A){return o.f(p,S,u(1,A))}:function(p,S,A){return p[S]=A,p}},function(e,i){e.exports=function(t,a){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:a}}},function(e,i){e.exports={}},function(e,i,t){t.d(i,"a",function(){return E});var a=t(63),o=t(31),u=t(19),p=["name"];function S(g,w){if(g==null)return{};var _=A(g,w),b,R;if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(g);for(R=0;R<P.length;R++)b=P[R],!(w.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(g,b)&&(_[b]=g[b])}return _}function A(g,w){if(g==null)return{};var _={},b=Object.keys(g),R,P;for(P=0;P<b.length;P++)R=b[P],!(w.indexOf(R)>=0)&&(_[R]=g[R]);return _}function E(g,w){var _=g.name,b=S(g,p),R="".concat(_).concat(Object(o.a)(w)),P="".concat(u.a.attribute).concat(_,"_").concat(w);return new a.a(R,P,b)}},function(e,i,t){t.d(i,"a",function(){return P});var a=t(53),o=t(31),u=t(19),p=["name","formatName"];function S(v,x){return _(v)||w(v,x)||E(v,x)||A()}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(v,x){if(v){if(typeof v=="string")return g(v,x);var U=Object.prototype.toString.call(v).slice(8,-1);if(U==="Object"&&v.constructor&&(U=v.constructor.name),U==="Map"||U==="Set")return Array.from(v);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return g(v,x)}}function g(v,x){(x==null||x>v.length)&&(x=v.length);for(var U=0,$=new Array(x);U<x;U++)$[U]=v[U];return $}function w(v,x){var U=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(U!=null){var $=[],m=!0,l=!1,f,d;try{for(U=U.call(v);!(m=(f=U.next()).done)&&($.push(f.value),!(x&&$.length===x));m=!0);}catch(I){l=!0,d=I}finally{try{!m&&U.return!=null&&U.return()}finally{if(l)throw d}}return $}}function _(v){if(Array.isArray(v))return v}function b(v,x){if(v==null)return{};var U=R(v,x),$,m;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(v);for(m=0;m<l.length;m++)$=l[m],!(x.indexOf($)>=0)&&Object.prototype.propertyIsEnumerable.call(v,$)&&(U[$]=v[$])}return U}function R(v,x){if(v==null)return{};var U={},$=Object.keys(v),m,l;for(l=0;l<$.length;l++)m=$[l],!(x.indexOf(m)>=0)&&(U[m]=v[m]);return U}function P(v,x){var U=v.name,$=v.formatName,m=b(v,p),l=x.split("-"),f=S(l,2),d=f[0],I=f[1],M="".concat(U).concat(Object(o.a)($??d)).concat(I?Object(o.a)(I):""),F="".concat(u.a.style).concat(U,"_").concat(x);return new a.a(M,F,m)}},function(e,i,t){var a=t(1),o=t.n(a),u=t(0),p=t(12),S=t(6),A=t(13),E=t(5),g=t(11),w=t(64),_=t(48);function b(pt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(vt){return typeof vt}:b=function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},b(pt)}function R(pt,At){return x(pt)||v(pt,At)||m(pt,At)||P()}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(pt,At){var vt=pt==null?null:typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(vt!=null){var G=[],K=!0,D=!1,at,X;try{for(vt=vt.call(pt);!(K=(at=vt.next()).done)&&(G.push(at.value),!(At&&G.length===At));K=!0);}catch(lt){D=!0,X=lt}finally{try{!K&&vt.return!=null&&vt.return()}finally{if(D)throw X}}return G}}function x(pt){if(Array.isArray(pt))return pt}function U(pt){return f(pt)||l(pt)||m(pt)||$()}function $(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(pt,At){if(pt){if(typeof pt=="string")return d(pt,At);var vt=Object.prototype.toString.call(pt).slice(8,-1);if(vt==="Object"&&pt.constructor&&(vt=pt.constructor.name),vt==="Map"||vt==="Set")return Array.from(pt);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return d(pt,At)}}function l(pt){if(typeof Symbol<"u"&&pt[Symbol.iterator]!=null||pt["@@iterator"]!=null)return Array.from(pt)}function f(pt){if(Array.isArray(pt))return d(pt)}function d(pt,At){(At==null||At>pt.length)&&(At=pt.length);for(var vt=0,G=new Array(At);vt<At;vt++)G[vt]=pt[vt];return G}function I(pt,At){if(!(pt instanceof At))throw new TypeError("Cannot call a class as a function")}function M(pt,At){for(var vt=0;vt<At.length;vt++){var G=At[vt];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(pt,G.key,G)}}function F(pt,At,vt){return At&&M(pt.prototype,At),vt&&M(pt,vt),pt}function N(pt,At,vt){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get:N=function(K,D,at){var X=tt(K,D);if(X){var lt=Object.getOwnPropertyDescriptor(X,D);return lt.get?lt.get.call(at):lt.value}},N(pt,At,vt||pt)}function tt(pt,At){for(;!Object.prototype.hasOwnProperty.call(pt,At)&&(pt=Y(pt),pt!==null););return pt}function B(pt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(At&&At.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),At&&Z(pt,At)}function Z(pt,At){return Z=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G},Z(pt,At)}function ut(pt){var At=mt();return function(){var G=Y(pt),K;if(At){var D=Y(this).constructor;K=Reflect.construct(G,arguments,D)}else K=G.apply(this,arguments);return ht(this,K)}}function ht(pt,At){if(At&&(b(At)==="object"||typeof At=="function"))return At;if(At!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return it(pt)}function it(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y(pt){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(vt){return vt.__proto__||Object.getPrototypeOf(vt)},Y(pt)}var V="data-tablelite-",L=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return F(vt,[{key:"format",value:function(K,D){if(g.c[K]){var at,X,lt="data-".concat(K.toLowerCase());Object(_.a)(this.domNode,lt,D),(at=this.row())===null||at===void 0||(X=at.table())===null||X===void 0||X.format(K,D)}else N(Y(vt.prototype),"format",this).call(this,K,D)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var K;return(K=this.row())===null||K===void 0?void 0:K.table()}}],[{key:"create",value:function(K){var D=N(Y(vt),"create",this).call(this),at=this.dataAttribute;return Object(_.a)(D,at,K??Q()),D}},{key:"formats",value:function(K){var D=this.dataAttribute;if(K.hasAttribute(D))return K.getAttribute(D)}}]),vt}(S.d);L.tagName=["TD","TH"];var et=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return F(vt,[{key:"format",value:function(K,D){K===vt.blotName&&D?this.domNode.setAttribute(vt.dataAttribute,D):N(Y(vt.prototype),"format",this).call(this,K,D)}}]),vt}(L);et.blotName="table",et.dataAttribute="".concat(V,"row");var st=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return F(vt,[{key:"format",value:function(K,D){K===vt.blotName&&D?this.domNode.setAttribute(vt.dataAttribute,D):N(Y(vt.prototype),"format",this).call(this,K,D)}}]),vt}(L);st.tagName=["TH","TD"],st.blotName="tableHeaderCell",st.dataAttribute="".concat(V,"header-row");var _t=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return F(vt,[{key:"checkMerge",value:function(){if(N(Y(vt.prototype),"checkMerge",this).call(this)&&Object(E.a)(this.next.children.head)){var K=this.childFormatName,D=this.children.head.formats(),at=this.children.tail.formats(),X=this.next.children.head.formats(),lt=this.next.children.tail.formats();return D[K]===at[K]&&D[K]===X[K]&&D[K]===lt[K]}return!1}},{key:"optimize",value:function(){for(var K,D=this,at=arguments.length,X=new Array(at),lt=0;lt<at;lt++)X[lt]=arguments[lt];(K=N(Y(vt.prototype),"optimize",this)).call.apply(K,[this].concat(X));var Et=this.childFormatName;this.children.forEach(function(xt){if(Object(E.a)(xt.next)){var jt=xt.formats(),$t=xt.next.formats();if(jt[Et]!==$t[Et]){var Kt=D.splitAfter(xt);Kt&&Kt.optimize(),D.prev&&D.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var K;return(K=this.parent)===null||K===void 0?void 0:K.parent}}]),vt}(A.a);_t.tagName="TR";var ot=function(pt){B(vt,pt);var At=ut(vt);function vt(G,K){var D;return I(this,vt),D=At.call(this,G,K),D.childFormatName="table",D}return vt}(_t);ot.blotName="tableRow";var dt=function(pt){B(vt,pt);var At=ut(vt);function vt(G,K){var D;return I(this,vt),D=At.call(this,G,K),D.childFormatName="tableHeaderCell",D}return vt}(_t);dt.blotName="tableHeaderRow";var Tt=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return F(vt,[{key:"optimize",value:function(){var K;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var D=this.children.head.children.head.domNode,at={};Object.keys(g.c).forEach(function(xt){var jt=D.dataset[xt.toLowerCase()];jt&&(at[xt]=jt)}),this.wrap(this.statics.requiredContainer.blotName,at)}for(var X=arguments.length,lt=new Array(X),Et=0;Et<X;Et++)lt[Et]=arguments[Et];(K=N(Y(vt.prototype),"optimize",this)).call.apply(K,[this].concat(lt))}}]),vt}(A.a),Rt=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return vt}(Tt);Rt.blotName="tableBody",Rt.tagName=["TBODY"];var rt=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return vt}(Tt);rt.blotName="tableHeader",rt.tagName=["THEAD"];var z=function(pt){B(vt,pt);var At=ut(vt);function vt(){return I(this,vt),At.apply(this,arguments)}return F(vt,[{key:"balanceCells",value:function(){var K=this.descendants(dt),D=this.descendants(ot),at=this.getMaxTableColCount(K,D);this.balanceRows(at,K,st),this.balanceRows(at,D,et)}},{key:"getMaxTableColCount",value:function(K,D){return Math.max(this.getMaxRowColCount(K),this.getMaxRowColCount(D))}},{key:"getMaxRowColCount",value:function(K){return Math.max.apply(Math,U(K.map(function(D){return D.children.length})))}},{key:"balanceRows",value:function(K,D,at){var X=this;D.forEach(function(lt){new Array(K-lt.children.length).fill(0).forEach(function(){var Et;Object(E.a)(lt.children.head)&&(Et=at.formats(lt.children.head.domNode));var xt=X.scroll.create(at.blotName,Et);lt.appendChild(xt),xt.optimize()})})}},{key:"cells",value:function(K){return this.rows().map(function(D){return D.children.at(K)})}},{key:"deleteColumn",value:function(K){var D=this;[rt,Rt].forEach(function(at){var X=D.descendants(at),lt=R(X,1),Et=lt[0];!Object(E.a)(Et)||!Object(E.a)(Et.children.head)||Et.children.forEach(function(xt){var jt=xt.children.at(K);Object(E.a)(jt)&&jt.remove()})})}},{key:"insertColumn",value:function(K){var D=this;[rt,Rt].forEach(function(at){var X=D.descendants(at),lt=R(X,1),Et=lt[0];if(!(!Object(E.a)(Et)||!Object(E.a)(Et.children.head))){var xt=at===rt?st:et;Et.children.forEach(function(jt){var $t=jt.children.at(K),Kt=xt.formats(jt.children.head.domNode),te=D.scroll.create(xt.blotName,Kt);jt.insertBefore(te,$t)})}})}},{key:"insertRow",value:function(K){var D=this,at=this.descendants(Rt),X=R(at,1),lt=X[0];if(!(!Object(E.a)(lt)||!Object(E.a)(lt.children.head))){var Et=Q(),xt=this.scroll.create(ot.blotName);lt.children.head.children.forEach(function(){var $t=D.scroll.create(et.blotName,Et);xt.appendChild($t)});var jt=lt.children.at(K);lt.insertBefore(xt,jt)}}},{key:"insertHeaderRow",value:function(){var K=this,D=this.descendants(rt),at=R(D,1),X=at[0],lt=this.descendants(Rt),Et=R(lt,1),xt=Et[0];if(!(Object(E.a)(X)||!Object(E.a)(xt)||!Object(E.a)(xt.children.head))){var jt=Q(),$t=this.scroll.create(rt.blotName),Kt=this.scroll.create(dt.blotName),te=this.children.at(0);$t.appendChild(Kt),xt.children.head.children.forEach(function(){var fe=K.scroll.create(st.blotName,jt);Kt.appendChild(fe),fe.optimize()}),this.insertBefore($t,te)}}},{key:"rows",value:function(){var K=this.children.head;return Object(E.a)(K)?K.children.map(function(D){return D}):[]}},{key:"formats",value:function(){var K={},D=this.cells()[0].domNode;return Object.keys(g.c).forEach(function(at){var X=D.dataset[at.toLowerCase()];X&&(K[at]=X)}),K}},{key:"format",value:function(K,D){var at=g.c[K];if(at){var X="data-".concat(K.toLowerCase());this.cells().forEach(function(lt){Object(_.a)(lt.domNode,X,D)}),at.add(this.domNode,D)}}}],[{key:"create",value:function(K){var D=N(Y(vt),"create",this).call(this,K);return K&&Object.keys(K).forEach(function(at){var X;(X=g.c[at])===null||X===void 0||X.add(D,K[at])}),D}}]),vt}(A.a);z.blotName="tableContainer",z.tagName="TABLE",z.allowedChildren=[rt,Rt],Rt.requiredContainer=z,rt.requiredContainer=z,Rt.allowedChildren=[ot],ot.requiredContainer=Rt,ot.allowedChildren=[et],et.requiredContainer=ot,rt.allowedChildren=[dt],dt.requiredContainer=rt,dt.allowedChildren=[st],st.requiredContainer=dt;function Q(){return"row-".concat(Object(w.a)())}var J=t(26),nt=t(54);function gt(pt){var At=pt.quill,vt=pt.index,G=pt.range,K=vt-1,D=new o.a().retain(K).insert(`
`);At.updateContents(D,u.a.sources.USER),At.setSelection(G.index+1,G.length,u.a.sources.SILENT)}function Pt(pt){var At=pt.quill,vt=pt.index,G=pt.table,K=vt+G.length(),D=new o.a().retain(K).insert(`
`);At.updateContents(D,u.a.sources.USER),At.setSelection(K,u.a.sources.USER)}function Bt(pt,At,vt){return pt.prev==null&&pt.next==null?At.prev==null&&At.next==null?vt===0?-1:1:At.prev==null?-1:1:pt.prev==null?-1:pt.next==null?1:null}var Nt=t(55),q=t(21);function y(pt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(vt){return typeof vt}:y=function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},y(pt)}function c(pt,At,vt){return At in pt?Object.defineProperty(pt,At,{value:vt,enumerable:!0,configurable:!0,writable:!0}):pt[At]=vt,pt}function T(pt,At){return Gt(pt)||kt(pt,At)||ct(pt,At)||H()}function H(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ct(pt,At){if(pt){if(typeof pt=="string")return St(pt,At);var vt=Object.prototype.toString.call(pt).slice(8,-1);if(vt==="Object"&&pt.constructor&&(vt=pt.constructor.name),vt==="Map"||vt==="Set")return Array.from(pt);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return St(pt,At)}}function St(pt,At){(At==null||At>pt.length)&&(At=pt.length);for(var vt=0,G=new Array(At);vt<At;vt++)G[vt]=pt[vt];return G}function kt(pt,At){var vt=pt==null?null:typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(vt!=null){var G=[],K=!0,D=!1,at,X;try{for(vt=vt.call(pt);!(K=(at=vt.next()).done)&&(G.push(at.value),!(At&&G.length===At));K=!0);}catch(lt){D=!0,X=lt}finally{try{!K&&vt.return!=null&&vt.return()}finally{if(D)throw X}}return G}}function Gt(pt){if(Array.isArray(pt))return pt}function Yt(pt,At){if(!(pt instanceof At))throw new TypeError("Cannot call a class as a function")}function re(pt,At){for(var vt=0;vt<At.length;vt++){var G=At[vt];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(pt,G.key,G)}}function Ot(pt,At,vt){return At&&re(pt.prototype,At),vt&&re(pt,vt),pt}function Ct(pt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(At&&At.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),At&&It(pt,At)}function It(pt,At){return It=Object.setPrototypeOf||function(G,K){return G.__proto__=K,G},It(pt,At)}function Mt(pt){var At=Dt();return function(){var G=Wt(pt),K;if(At){var D=Wt(this).constructor;K=Reflect.construct(G,arguments,D)}else K=G.apply(this,arguments);return wt(this,K)}}function wt(pt,At){if(At&&(y(At)==="object"||typeof At=="function"))return At;if(At!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ft(pt)}function Ft(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function Dt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wt(pt){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(vt){return vt.__proto__||Object.getPrototypeOf(vt)},Wt(pt)}var qt=[null,null,null,-1],Jt=function(pt){Ct(vt,pt);var At=Mt(vt);function vt(){var G;Yt(this,vt);for(var K=arguments.length,D=new Array(K),at=0;at<K;at++)D[at]=arguments[at];return G=At.call.apply(At,[this].concat(D)),G.tableBlots=[et.blotName,st.blotName],G.tableBlots.forEach(function(X){G.quill.editor.addImmediateFormat(X)}),G.integrateClipboard(),G.addKeyboardHandlers(),G.listenBalanceCells(),G}return Ot(vt,[{key:"integrateClipboard",value:function(){var K=this;this.tableBlots.forEach(function(D){return K.quill.clipboard.addTableBlot(D)}),this.quill.clipboard.addMatcher("tr",ne),this.quill.clipboard.addMatcher("table",Object(Nt.a)(g.a)),this.quill.clipboard.addMatcher("td, th",Object(Nt.b)(q.a))}},{key:"addKeyboardHandlers",value:function(){var K=this,D=vt.keyboardBindings;Object.keys(D).forEach(function(at){D[at]&&K.quill.keyboard.addBinding(D[at])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(z).forEach(function(K){K.balanceCells()})}},{key:"deleteColumn",value:function(){var K=this.getTable(),D=T(K,3),at=D[0],X=D[2];Object(E.a)(X)&&(at.deleteColumn(X.cellOffset()),this.quill.update(u.a.sources.USER))}},{key:"deleteRow",value:function(){var K=this.getTable(),D=T(K,2),at=D[1];Object(E.a)(at)&&(at.remove(),this.quill.update(u.a.sources.USER))}},{key:"deleteTable",value:function(){var K=this.getTable(),D=T(K,1),at=D[0];if(Object(E.a)(at)){var X=at.offset();at.remove(),this.quill.update(u.a.sources.USER),this.quill.setSelection(X,u.a.sources.SILENT)}}},{key:"getTable",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!Object(E.a)(K))return qt;var D=this.quill.getLine(K.index),at=T(D,2),X=at[0],lt=at[1];if(!Object(E.a)(X)||this.tableBlots.indexOf(X.statics.blotName)===-1)return qt;var Et=X.parent,xt=Et.parent.parent;return[xt,Et,X,lt]}},{key:"insertColumn",value:function(K){var D=this.quill.getSelection(),at=this.getTable(D),X=T(at,3),lt=X[0],Et=X[1],xt=X[2];if(Object(E.a)(xt)){var jt=xt.cellOffset();lt.insertColumn(jt+K),this.quill.update(u.a.sources.USER);var $t=Et.rowOffset();K===0&&($t+=1),this.quill.setSelection(D.index+$t,D.length,u.a.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(K){var D=this.quill.getSelection(),at=this.getTable(D),X=T(at,3),lt=X[0],Et=X[1],xt=X[2];if(Object(E.a)(xt)){var jt=Et.rowOffset();lt.insertRow(jt+K),this.quill.update(u.a.sources.USER),K>0?this.quill.setSelection(D,u.a.sources.SILENT):this.quill.setSelection(D.index+Et.children.length,D.length,u.a.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var K=this.quill.getSelection(),D=this.getTable(K),at=T(D,3),X=at[0],lt=at[2];Object(E.a)(lt)&&(X.insertHeaderRow(),this.quill.update(u.a.sources.USER))}},{key:"insertTable",value:function(K,D){var at=this.quill.getSelection();if(Object(E.a)(at)){var X=new Array(K).fill(0).reduce(function(lt){var Et=new Array(D).fill(`
`).join("");return lt.insert(Et,{table:Q()})},new o.a().retain(at.index));this.quill.updateContents(X,u.a.sources.USER),this.quill.setSelection(at.index,u.a.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var K=this;this.quill.on(u.a.events.SCROLL_OPTIMIZE,function(D){D.some(function(at){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(at.target.tagName)!==-1?(K.quill.once(u.a.events.TEXT_CHANGE,function(X,lt,Et){Et===u.a.sources.USER&&K.balanceTables()}),!0):!1})}),this.quill.on(u.a.events.CONTENT_SETTED,function(){K.quill.once(u.a.events.TEXT_CHANGE,function(){K.balanceTables()})})}}],[{key:"register",value:function(){u.a.register(st,!0),u.a.register(et,!0),u.a.register(dt,!0),u.a.register(ot,!0),u.a.register(Rt,!0),u.a.register(rt,!0),u.a.register(z,!0),[g.c,q.b].forEach(function(K){Object.keys(K).forEach(function(D){u.a.register(c({},"formats/".concat(D),K[D]),!0)})})}}]),vt}(p.a);Jt.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(At){var vt=this.quill.getModule("table");if(vt){var G=this.quill,K=vt.getTable(At),D=T(K,4),at=D[0],X=D[1],lt=D[2],Et=D[3],xt=Bt(X,lt,Et),jt=at.children.length>1&&at.children.head;if(xt==null||xt<0&&jt)return;var $t=at.offset();xt<0?gt({quill:G,index:$t,range:At}):Pt({quill:G,index:$t,table:at})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(At){var vt=this.quill.getModule("table");if(vt){var G=this.quill,K=vt.getTable(At),D=T(K,4),at=D[0],X=D[1],lt=D[2],Et=D[3],xt=Bt(X,lt,Et);if(xt==null)return;var jt=at.offset(),$t=at.children.length>1&&at.children.tail;xt<0||xt>0&&$t?gt({quill:G,index:jt,range:At}):Pt({quill:G,index:jt,table:at})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(At,vt){var G=vt.event,K=vt.line,D=K.offset(this.quill.scroll);G.shiftKey?this.quill.setSelection(D-1,u.a.sources.USER):this.quill.setSelection(D+K.length(),u.a.sources.USER)}},"table down":Object(nt.a)(!1,["table","tableHeaderCell"]),"table up":Object(nt.a)(!0,["table","tableHeaderCell"])};function ne(pt,At){var vt=pt.parentNode.tagName==="TABLE"?pt.parentNode:pt.parentNode.parentNode,G=pt.parentNode.tagName==="THEAD"?!0:null,K=Array.from(vt.querySelectorAll("tr")),D=K.indexOf(pt)+1;return Object(J.a)(At,G?"tableHeaderCell":"table",D)}i.a=Jt},function(e,i,t){t.d(i,"a",function(){return et}),t.d(i,"b",function(){return _t});var a=t(1),o=t.n(a),u=t(2),p=t(14),S=t(0),A=t(12),E=t(6),g=t(10),w=t(24),_=t(9),b=t(17),R=t(26),P=t(15);function v(ot){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v=function(Tt){return typeof Tt}:v=function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt},v(ot)}function x(ot,dt,Tt){return dt in ot?Object.defineProperty(ot,dt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):ot[dt]=Tt,ot}function U(ot,dt){return d(ot)||f(ot,dt)||m(ot,dt)||$()}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(ot,dt){if(ot){if(typeof ot=="string")return l(ot,dt);var Tt=Object.prototype.toString.call(ot).slice(8,-1);if(Tt==="Object"&&ot.constructor&&(Tt=ot.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(ot);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return l(ot,dt)}}function l(ot,dt){(dt==null||dt>ot.length)&&(dt=ot.length);for(var Tt=0,Rt=new Array(dt);Tt<dt;Tt++)Rt[Tt]=ot[Tt];return Rt}function f(ot,dt){var Tt=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(Tt!=null){var Rt=[],rt=!0,z=!1,Q,J;try{for(Tt=Tt.call(ot);!(rt=(Q=Tt.next()).done)&&(Rt.push(Q.value),!(dt&&Rt.length===dt));rt=!0);}catch(nt){z=!0,J=nt}finally{try{!rt&&Tt.return!=null&&Tt.return()}finally{if(z)throw J}}return Rt}}function d(ot){if(Array.isArray(ot))return ot}function I(ot,dt){if(!(ot instanceof dt))throw new TypeError("Cannot call a class as a function")}function M(ot,dt){for(var Tt=0;Tt<dt.length;Tt++){var Rt=dt[Tt];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(ot,Rt.key,Rt)}}function F(ot,dt,Tt){return dt&&M(ot.prototype,dt),Tt&&M(ot,Tt),ot}function N(ot,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(dt&&dt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),dt&&tt(ot,dt)}function tt(ot,dt){return tt=Object.setPrototypeOf||function(Rt,rt){return Rt.__proto__=rt,Rt},tt(ot,dt)}function B(ot){var dt=ht();return function(){var Rt=Y(ot),rt;if(dt){var z=Y(this).constructor;rt=Reflect.construct(Rt,arguments,z)}else rt=Rt.apply(this,arguments);return Z(this,rt)}}function Z(ot,dt){if(dt&&(v(dt)==="object"||typeof dt=="function"))return dt;if(dt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(ot)}function ut(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}function ht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function it(ot,dt,Tt){return typeof Reflect<"u"&&Reflect.get?it=Reflect.get:it=function(rt,z,Q){var J=mt(rt,z);if(J){var nt=Object.getOwnPropertyDescriptor(J,z);return nt.get?nt.get.call(Q):nt.value}},it(ot,dt,Tt||ot)}function mt(ot,dt){for(;!Object.prototype.hasOwnProperty.call(ot,dt)&&(ot=Y(ot),ot!==null););return ot}function Y(ot){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)},Y(ot)}var V=new u.ClassAttributor("code-token","hljs",{scope:u.Scope.INLINE}),L=function(ot){N(Tt,ot);var dt=B(Tt);function Tt(Rt,rt,z){var Q;return I(this,Tt),Q=dt.call(this,Rt,rt,z),V.add(Q.domNode,z),Q}return F(Tt,[{key:"format",value:function(rt,z){rt!==Tt.blotName?it(Y(Tt.prototype),"format",this).call(this,rt,z):z?V.add(this.domNode,z):(V.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var rt,z=arguments.length,Q=new Array(z),J=0;J<z;J++)Q[J]=arguments[J];(rt=it(Y(Tt.prototype),"optimize",this)).call.apply(rt,[this].concat(Q)),V.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(rt,z){for(;rt!=null&&rt!==z.domNode;){if(rt.classList&&rt.classList.contains(b.c.className))return it(Y(Tt),"formats",this).call(this,rt,z);rt=rt.parentNode}}}]),Tt}(p.a);L.blotName="code-token",L.className="ql-token";var et=function(ot){N(Tt,ot);var dt=B(Tt);function Tt(){return I(this,Tt),dt.apply(this,arguments)}return F(Tt,[{key:"format",value:function(rt,z){rt===this.statics.blotName&&z?this.domNode.setAttribute("data-language",z):it(Y(Tt.prototype),"format",this).call(this,rt,z)}},{key:"replaceWith",value:function(rt,z){return this.formatAt(0,this.length(),L.blotName,!1),it(Y(Tt.prototype),"replaceWith",this).call(this,rt,z)}}],[{key:"create",value:function(rt){var z=it(Y(Tt),"create",this).call(this,rt);return typeof rt=="string"&&z.setAttribute("data-language",rt),z}},{key:"formats",value:function(rt){return rt.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),Tt}(b.c),st=function(ot){N(Tt,ot);var dt=B(Tt);function Tt(){return I(this,Tt),dt.apply(this,arguments)}return F(Tt,[{key:"attach",value:function(){it(Y(Tt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(rt,z){rt===et.blotName&&(this.forceNext=!0,this.children.forEach(function(Q){Q.format(rt,z)}))}},{key:"formatAt",value:function(rt,z,Q,J){Q===et.blotName&&(this.forceNext=!0),it(Y(Tt.prototype),"formatAt",this).call(this,rt,z,Q,J)}},{key:"highlight",value:function(rt){var z=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head!=null){var J=Array.from(this.domNode.childNodes).filter(function(Nt){return Nt!==z.uiNode}),nt="".concat(J.map(function(Nt){return Nt.textContent}).join(`
`),`
`),gt=et.formats(this.children.head.domNode);if(Q||this.forceNext||this.cachedText!==nt){if(nt.trim().length>0||this.cachedText==null){var Pt=this.children.reduce(function(Nt,q){return Nt.concat(Object(E.b)(q,!1))},new o.a),Bt=rt(nt,gt);Pt.diff(Bt).reduce(function(Nt,q){var y=q.retain,c=q.attributes;return y?(c&&Object.keys(c).forEach(function(T){[et.blotName,L.blotName].indexOf(T)!==-1&&z.formatAt(Nt,y,T,c[T])}),Nt+y):Nt},0)}this.cachedText=nt,this.forceNext=!1}}}},{key:"html",value:function(rt,z){var Q=this.children.find(rt),J=U(Q,1),nt=J[0],gt=nt?et.formats(nt.domNode):"plain";return'<pre data-language="'.concat(gt,`">
`).concat(this.code(rt,z),`
</pre>`)}},{key:"optimize",value:function(rt){if(it(Y(Tt.prototype),"optimize",this).call(this,rt),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){var z=et.formats(this.children.head.domNode);z!==this.uiNode.value&&(this.uiNode.value=z)}}}]),Tt}(b.b);st.allowedChildren=[et],et.requiredContainer=st,et.allowedChildren=[L,w.a,_.a,g.a];var _t=function(ot){N(Tt,ot);var dt=B(Tt);function Tt(Rt,rt){var z;if(I(this,Tt),z=dt.call(this,Rt,rt),z.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return z.languages=z.options.languages.reduce(function(Q,J){var nt=J.key;return Q[nt]=!0,Q},{}),z.highlightBlot=z.highlightBlot.bind(ut(z)),z.initListener(),z.initTimer(),z}return F(Tt,[{key:"initListener",value:function(){var rt=this;this.quill.on(S.a.events.SCROLL_BLOT_MOUNT,function(z){if(z instanceof st){var Q=rt.quill.root.ownerDocument.createElement("select");rt.options.languages.forEach(function(J){var nt=J.key,gt=J.label,Pt=Q.ownerDocument.createElement("option");Pt.textContent=gt,Pt.setAttribute("value",nt),Q.appendChild(Pt)}),Q.addEventListener("change",function(){z.format(et.blotName,Q.value),rt.quill.root.focus(),rt.highlight(z,!0)}),z.uiNode==null&&(z.attachUI(Q),z.children.head&&(Q.value=et.formats(z.children.head.domNode)))}})}},{key:"initTimer",value:function(){var rt=this,z=null;this.quill.on(S.a.events.SCROLL_OPTIMIZE,function(){clearTimeout(z),z=setTimeout(function(){rt.highlight(),z=null},rt.options.interval)})}},{key:"highlight",value:function(){var rt=this,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.quill.selection.composing){this.quill.update(S.a.sources.USER);var J=this.quill.getSelection(),nt=z==null?this.quill.scroll.descendants(st):[z];nt.forEach(function(gt){gt.highlight(rt.highlightBlot,Q)}),this.quill.update(S.a.sources.SILENT),J!=null&&this.quill.setSelection(J,S.a.sources.SILENT)}}},{key:"highlightBlot",value:function(rt){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(z=this.languages[z]?z:"plain",z==="plain")return Object(_.b)(rt).split(`
`).reduce(function(J,nt,gt){return gt!==0&&J.insert(`
`,x({},b.c.blotName,z)),J.insert(nt)},new o.a);var Q=this.quill.root.ownerDocument.createElement("div");return Q.classList.add(b.c.className),Q.innerHTML=this.options.hljs.highlight(z,rt).value,Object(R.d)(this.quill.scroll,Q,[function(J,nt){var gt=V.value(J);return gt?nt.compose(new o.a().retain(nt.length(),x({},L.blotName,gt))):nt}],[function(J,nt){return J.data.split(`
`).reduce(function(gt,Pt,Bt){return Bt!==0&&gt.insert(`
`,x({},b.c.blotName,z)),gt.insert(Pt)},nt)}],new WeakMap)}}],[{key:"register",value:function(){S.a.register(L,!0),S.a.register(et,!0),S.a.register(st,!0)}}]),Tt}(A.a);_t.DEFAULTS={hljs:function(){return Object(P.a)()?window.hljs:null}(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},function(e,i){var t=Math.ceil,a=Math.floor;e.exports=function(o){var u=+o;return u!==u||u===0?0:(u>0?a:t)(u)}},function(e,i,t){var a=t(8),o=t(79),u=a.String;e.exports=function(p){if(o(p)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return u(p)}},function(e,i,t){var a=t(8),o=t(126),u=t(22),p=t(82),S=t(28),A=S("toStringTag"),E=a.Object,g=p(function(){return arguments}())=="Arguments",w=function(_,b){try{return _[b]}catch{}};e.exports=o?p:function(_){var b,R,P;return _===void 0?"Undefined":_===null?"Null":typeof(R=w(b=E(_),A))=="string"?R:g?p(b):(P=p(b))=="Object"&&u(b.callee)?"Arguments":P}},function(e,i,t){var a=t(8),o=t(81),u="__core-js_shared__",p=a[u]||o(u,{});e.exports=p},function(e,i,t){var a=t(8),o=Object.defineProperty;e.exports=function(u,p){try{o(a,u,{value:p,configurable:!0,writable:!0})}catch{a[u]=p}return p}},function(e,i,t){var a=t(20),o=a({}.toString),u=a("".slice);e.exports=function(p){return u(o(p),8,-1)}},function(e,i,t){var a=t(20),o=t(22),u=t(80),p=a(Function.toString);o(u.inspectSource)||(u.inspectSource=function(S){return p(S)}),e.exports=u.inspectSource},function(e,i,t){var a=t(130),o=t(103);e.exports=function(u){var p=a(u,"string");return o(p)?p:p+""}},function(e,i,t){var a=t(86);e.exports=function(o,u){var p=o[u];return p==null?void 0:a(p)}},function(e,i,t){var a=t(8),o=t(22),u=t(104),p=a.TypeError;e.exports=function(S){if(o(S))return S;throw p(u(S)+" is not a function")}},function(e,i,t){var a=t(96),o=t(97),u=a("keys");e.exports=function(p){return u[p]||(u[p]=o(p))}},function(e,i){e.exports={}},function(e,i,t){var a=t(41),o=t(42),u=t(105),p=t(71),S=t(62),A=t(84),E=t(36),g=t(101),w=Object.getOwnPropertyDescriptor;i.f=a?w:function(b,R){if(b=S(b),R=A(R),g)try{return w(b,R)}catch{}if(E(b,R))return p(!o(u.f,b,R),b[R])}},function(e,i,t){var a=t(8),o=t(22),u=t(36),p=t(70),S=t(81),A=t(83),E=t(100),g=t(106).CONFIGURABLE,w=E.get,_=E.enforce,b=String(String).split("String");(e.exports=function(R,P,v,x){var U=x?!!x.unsafe:!1,$=x?!!x.enumerable:!1,m=x?!!x.noTargetGet:!1,l=x&&x.name!==void 0?x.name:P,f;if(o(v)&&(String(l).slice(0,7)==="Symbol("&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!u(v,"name")||g&&v.name!==l)&&p(v,"name",l),f=_(v),f.source||(f.source=b.join(typeof l=="string"?l:""))),R===a){$?R[P]=v:S(P,v);return}else U?!m&&R[P]&&($=!0):delete R[P];$?R[P]=v:p(R,P,v)})(Function.prototype,"toString",function(){return o(this)&&w(this).source||A(this)})},function(e,i,t){var a=t(109);e.exports=function(o){return a(o.length)}},function(e,i){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,i,t){var a=t(40),o=t(142),u=t(92),p=t(88),S=t(143),A=t(102),E=t(87),g=">",w="<",_="prototype",b="script",R=E("IE_PROTO"),P=function(){},v=function(l){return w+b+g+l+w+"/"+b+g},x=function(l){l.write(v("")),l.close();var f=l.parentWindow.Object;return l=null,f},U=function(){var l=A("iframe"),f="java"+b+":",d;return l.style.display="none",S.appendChild(l),l.src=String(f),d=l.contentWindow.document,d.open(),d.write(v("document.F=Object")),d.close(),d.F},$,m=function(){try{$=new ActiveXObject("htmlfile")}catch{}m=typeof document<"u"?document.domain&&$?x($):U():x($);for(var l=u.length;l--;)delete m[_][u[l]];return m()};p[R]=!0,e.exports=Object.create||function(f,d){var I;return f!==null?(P[_]=a(f),I=new P,P[_]=null,I[R]=f):I=m(),d===void 0?I:o(I,d)}},function(e,i,t){var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0});var o=a(t(120)),u;(function(p){function S(E){return new o.default(E)}p.iterator=S;function A(E){return typeof E.delete=="number"?E.delete:typeof E.retain=="number"?E.retain:typeof E.insert=="string"?E.insert.length:1}p.length=A})(u||(u={})),i.default=u},function(e,i){var t=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function u(E,g,w){this.fn=E,this.context=g,this.once=w||!1}function p(E,g,w,_,b){if(typeof w!="function")throw new TypeError("The listener must be a function");var R=new u(w,_||E,b),P=a?a+g:g;return E._events[P]?E._events[P].fn?E._events[P]=[E._events[P],R]:E._events[P].push(R):(E._events[P]=R,E._eventsCount++),E}function S(E,g){--E._eventsCount===0?E._events=new o:delete E._events[g]}function A(){this._events=new o,this._eventsCount=0}A.prototype.eventNames=function(){var g=[],w,_;if(this._eventsCount===0)return g;for(_ in w=this._events)t.call(w,_)&&g.push(a?_.slice(1):_);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(w)):g},A.prototype.listeners=function(g){var w=a?a+g:g,_=this._events[w];if(!_)return[];if(_.fn)return[_.fn];for(var b=0,R=_.length,P=new Array(R);b<R;b++)P[b]=_[b].fn;return P},A.prototype.listenerCount=function(g){var w=a?a+g:g,_=this._events[w];return _?_.fn?1:_.length:0},A.prototype.emit=function(g,w,_,b,R,P){var v=a?a+g:g;if(!this._events[v])return!1;var x=this._events[v],U=arguments.length,$,m;if(x.fn){switch(x.once&&this.removeListener(g,x.fn,void 0,!0),U){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,w),!0;case 3:return x.fn.call(x.context,w,_),!0;case 4:return x.fn.call(x.context,w,_,b),!0;case 5:return x.fn.call(x.context,w,_,b,R),!0;case 6:return x.fn.call(x.context,w,_,b,R,P),!0}for(m=1,$=new Array(U-1);m<U;m++)$[m-1]=arguments[m];x.fn.apply(x.context,$)}else{var l=x.length,f;for(m=0;m<l;m++)switch(x[m].once&&this.removeListener(g,x[m].fn,void 0,!0),U){case 1:x[m].fn.call(x[m].context);break;case 2:x[m].fn.call(x[m].context,w);break;case 3:x[m].fn.call(x[m].context,w,_);break;case 4:x[m].fn.call(x[m].context,w,_,b);break;default:if(!$)for(f=1,$=new Array(U-1);f<U;f++)$[f-1]=arguments[f];x[m].fn.apply(x[m].context,$)}}return!0},A.prototype.on=function(g,w,_){return p(this,g,w,_,!1)},A.prototype.once=function(g,w,_){return p(this,g,w,_,!0)},A.prototype.removeListener=function(g,w,_,b){var R=a?a+g:g;if(!this._events[R])return this;if(!w)return S(this,R),this;var P=this._events[R];if(P.fn)P.fn===w&&(!b||P.once)&&(!_||P.context===_)&&S(this,R);else{for(var v=0,x=[],U=P.length;v<U;v++)(P[v].fn!==w||b&&!P[v].once||_&&P[v].context!==_)&&x.push(P[v]);x.length?this._events[R]=x.length===1?x[0]:x:S(this,R)}return this},A.prototype.removeAllListeners=function(g){var w;return g?(w=a?a+g:g,this._events[w]&&S(this,w)):(this._events=new o,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=a,A.EventEmitter=A,typeof e<"u"&&(e.exports=A)},function(e,i,t){var a=t(67),o=t(80);(e.exports=function(u,p){return o[u]||(o[u]=p!==void 0?p:{})})("versions",[]).push({version:"3.19.1",mode:a?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,i,t){var a=t(20),o=0,u=Math.random(),p=a(1 .toString);e.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+p(++o+u,36)}},function(e,i,t){var a=t(127),o=t(39);e.exports=!!Object.getOwnPropertySymbols&&!o(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&a&&a<41})},function(e,i,t){var a=t(98);e.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(e,i,t){var a=t(129),o=t(8),u=t(20),p=t(51),S=t(70),A=t(36),E=t(80),g=t(87),w=t(88),_="Object already initialized",b=o.TypeError,R=o.WeakMap,P,v,x,U=function(M){return x(M)?v(M):P(M,{})},$=function(M){return function(F){var N;if(!p(F)||(N=v(F)).type!==M)throw b("Incompatible receiver, "+M+" required");return N}};if(a||E.state){var m=E.state||(E.state=new R),l=u(m.get),f=u(m.has),d=u(m.set);P=function(M,F){if(f(m,M))throw new b(_);return F.facade=M,d(m,M,F),F},v=function(M){return l(m,M)||{}},x=function(M){return f(m,M)}}else{var I=g("state");w[I]=!0,P=function(M,F){if(A(M,I))throw new b(_);return F.facade=M,S(M,I,F),F},v=function(M){return A(M,I)?M[I]:{}},x=function(M){return A(M,I)}}e.exports={set:P,get:v,has:x,enforce:U,getterFor:$}},function(e,i,t){var a=t(41),o=t(39),u=t(102);e.exports=!a&&!o(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},function(e,i,t){var a=t(8),o=t(51),u=a.document,p=o(u)&&o(u.createElement);e.exports=function(S){return p?u.createElement(S):{}}},function(e,i,t){var a=t(8),o=t(60),u=t(22),p=t(131),S=t(99),A=a.Object;e.exports=S?function(E){return typeof E=="symbol"}:function(E){var g=o("Symbol");return u(g)&&p(g.prototype,A(E))}},function(e,i,t){var a=t(8),o=a.String;e.exports=function(u){try{return o(u)}catch{return"Object"}}},function(e,i,t){var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!a.call({1:2},1);i.f=u?function(S){var A=o(this,S);return!!A&&A.enumerable}:a},function(e,i,t){var a=t(41),o=t(36),u=Function.prototype,p=a&&Object.getOwnPropertyDescriptor,S=o(u,"name"),A=S&&function(){}.name==="something",E=S&&(!a||a&&p(u,"name").configurable);e.exports={EXISTS:S,PROPER:A,CONFIGURABLE:E}},function(e,i,t){var a=t(20),o=t(36),u=t(62),p=t(138).indexOf,S=t(88),A=a([].push);e.exports=function(E,g){var w=u(E),_=0,b=[],R;for(R in w)!o(S,R)&&o(w,R)&&A(b,R);for(;g.length>_;)o(w,R=g[_++])&&(~p(b,R)||A(b,R));return b}},function(e,i,t){var a=t(77),o=Math.max,u=Math.min;e.exports=function(p,S){var A=a(p);return A<0?o(A+S,0):u(A,S)}},function(e,i,t){var a=t(77),o=Math.min;e.exports=function(u){return u>0?o(a(u),9007199254740991):0}},function(e,i,t){var a=t(39),o=t(22),u=t(93),p=t(112),S=t(90),A=t(28),E=t(67),g=A("iterator"),w=!1,_,b,R;[].keys&&(R=[].keys(),"next"in R?(b=p(p(R)),b!==Object.prototype&&(_=b)):w=!0);var P=_==null||a(function(){var v={};return _[g].call(v)!==v});P?_={}:E&&(_=u(_)),o(_[g])||S(_,g,function(){return this}),e.exports={IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:w}},function(e,i,t){var a=t(107),o=t(92);e.exports=Object.keys||function(p){return a(p,o)}},function(e,i,t){var a=t(8),o=t(36),u=t(22),p=t(68),S=t(87),A=t(144),E=S("IE_PROTO"),g=a.Object,w=g.prototype;e.exports=A?g.getPrototypeOf:function(_){var b=p(_);if(o(b,E))return b[E];var R=b.constructor;return u(R)&&b instanceof R?R.prototype:b instanceof g?w:null}},function(e,i,t){var a=t(52).f,o=t(36),u=t(28),p=u("toStringTag");e.exports=function(S,A,E){S&&!o(S=E?S:S.prototype,p)&&a(S,p,{configurable:!0,value:A})}},function(e,i,t){var a=t(79),o=t(85),u=t(72),p=t(28),S=p("iterator");e.exports=function(A){if(A!=null)return o(A,S)||o(A,"@@iterator")||u[a(A)]}},function(e,i,t){var a=t(8);e.exports=a},function(e,i,t){var a=t(8),o=t(20);e.exports=function(u,p){return o(a[u].prototype[p])}},function(e,i,t){t.r(i),t(121),t(157),t(163),t(168);var a=t(25),o=t(38),u=t(35),p=t(2);function S(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(j){return typeof j}:S=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},S(O)}function A(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function E(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function g(O,C,j){return C&&E(O.prototype,C),j&&E(O,j),O}function w(O,C,j){return typeof Reflect<"u"&&Reflect.get?w=Reflect.get:w=function(bt,Ht,ae){var Oe=_(bt,Ht);if(Oe){var ve=Object.getOwnPropertyDescriptor(Oe,Ht);return ve.get?ve.get.call(ae):ve.value}},w(O,C,j||O)}function _(O,C){for(;!Object.prototype.hasOwnProperty.call(O,C)&&(O=$(O),O!==null););return O}function b(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&R(O,C)}function R(O,C){return R=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},R(O,C)}function P(O){var C=U();return function(){var ft=$(O),bt;if(C){var Ht=$(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return v(this,bt)}}function v(O,C){if(C&&(S(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(O)}function x(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(O){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},$(O)}var m=function(O){b(j,O);var C=P(j);function j(){return A(this,j),C.apply(this,arguments)}return g(j,[{key:"add",value:function(bt,Ht){if(Ht==="+1"||Ht==="-1"){var ae=this.value(bt)||0;Ht=Ht==="+1"?ae+1:ae-1}return Ht===0?(this.remove(bt),!0):w($(j.prototype),"add",this).call(this,bt,Ht)}},{key:"canAdd",value:function(bt,Ht){return w($(j.prototype),"canAdd",this).call(this,bt,Ht)||w($(j.prototype),"canAdd",this).call(this,bt,parseInt(Ht,10))}},{key:"value",value:function(bt){return parseInt(w($(j.prototype),"value",this).call(this,bt),10)||void 0}}]),j}(p.ClassAttributor),l=new m("indent","ql-indent",{scope:p.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),f=l,d=t(6);function I(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(j){return typeof j}:I=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},I(O)}function M(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function F(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&N(O,C)}function N(O,C){return N=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},N(O,C)}function tt(O){var C=ut();return function(){var ft=ht(O),bt;if(C){var Ht=ht(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return B(this,bt)}}function B(O,C){if(C&&(I(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(O)}function Z(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ht(O){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},ht(O)}var it=function(O){F(j,O);var C=tt(j);function j(){return M(this,j),C.apply(this,arguments)}return j}(d.d);it.blotName="blockquote",it.tagName="blockquote";var mt=it;function Y(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y=function(j){return typeof j}:Y=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Y(O)}function V(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function L(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function et(O,C,j){return C&&L(O.prototype,C),j&&L(O,j),O}function st(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&_t(O,C)}function _t(O,C){return _t=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},_t(O,C)}function ot(O){var C=Rt();return function(){var ft=rt(O),bt;if(C){var Ht=rt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return dt(this,bt)}}function dt(O,C){if(C&&(Y(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tt(O)}function Tt(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Rt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(O){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},rt(O)}var z=function(O){st(j,O);var C=ot(j);function j(){return V(this,j),C.apply(this,arguments)}return et(j,null,[{key:"formats",value:function(bt){return this.tagName.indexOf(bt.tagName)+1}}]),j}(d.d);z.blotName="header",z.tagName=["H1","H2","H3","H4","H5","H6"];var Q=z,J=t(13),nt=t(0);function gt(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gt=function(j){return typeof j}:gt=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},gt(O)}function Pt(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function Bt(O,C,j){return C&&Pt(O.prototype,C),j&&Pt(O,j),O}function Nt(O,C,j){return typeof Reflect<"u"&&Reflect.get?Nt=Reflect.get:Nt=function(bt,Ht,ae){var Oe=q(bt,Ht);if(Oe){var ve=Object.getOwnPropertyDescriptor(Oe,Ht);return ve.get?ve.get.call(ae):ve.value}},Nt(O,C,j||O)}function q(O,C){for(;!Object.prototype.hasOwnProperty.call(O,C)&&(O=Gt(O),O!==null););return O}function y(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function c(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&T(O,C)}function T(O,C){return T=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},T(O,C)}function H(O){var C=kt();return function(){var ft=Gt(O),bt;if(C){var Ht=Gt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return ct(this,bt)}}function ct(O,C){if(C&&(gt(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return St(O)}function St(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gt(O){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},Gt(O)}var Yt=function(O){c(j,O);var C=H(j);function j(){return y(this,j),C.apply(this,arguments)}return j}(J.a);Yt.blotName="list-container",Yt.tagName="OL";var re=function(O){c(j,O);var C=H(j);function j(ft,bt){var Ht;y(this,j),Ht=C.call(this,ft,bt);var ae=bt.ownerDocument.createElement("span"),Oe=function(Ri){if(ft.isEnabled()){var Ii=Ht.statics.formats(bt,ft);Ii==="checked"?(Ht.format("list","unchecked"),Ri.preventDefault()):Ii==="unchecked"&&(Ht.format("list","checked"),Ri.preventDefault())}};return ae.addEventListener("mousedown",Oe),ae.addEventListener("touchstart",Oe),Ht.attachUI(ae),Ht}return Bt(j,[{key:"format",value:function(bt,Ht){bt===this.statics.blotName&&Ht?this.domNode.setAttribute("data-list",Ht):Nt(Gt(j.prototype),"format",this).call(this,bt,Ht)}}],[{key:"create",value:function(bt){var Ht=Nt(Gt(j),"create",this).call(this);return Ht.setAttribute("data-list",bt),Ht}},{key:"formats",value:function(bt){return bt.getAttribute("data-list")||void 0}},{key:"register",value:function(){nt.a.register(Yt)}}]),j}(d.d);re.blotName="list",re.tagName="LI",Yt.allowedChildren=[re],re.requiredContainer=Yt;var Ot=t(45),Ct=t(34),It=t(46),Mt=t(47),wt=t(49);function Ft(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ft=function(j){return typeof j}:Ft=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Ft(O)}function Dt(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function Wt(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&qt(O,C)}function qt(O,C){return qt=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},qt(O,C)}function Jt(O){var C=At();return function(){var ft=vt(O),bt;if(C){var Ht=vt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return ne(this,bt)}}function ne(O,C){if(C&&(Ft(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pt(O)}function pt(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function At(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(O){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},vt(O)}var G=function(O){Wt(j,O);var C=Jt(j);function j(){return Dt(this,j),C.apply(this,arguments)}return j}(wt.a);G.blotName="italic",G.tagName=["EM","I"];var K=G,D=t(43),at=t(14);function X(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X=function(j){return typeof j}:X=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},X(O)}function lt(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function Et(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function xt(O,C,j){return C&&Et(O.prototype,C),j&&Et(O,j),O}function jt(O,C,j){return typeof Reflect<"u"&&Reflect.get?jt=Reflect.get:jt=function(bt,Ht,ae){var Oe=$t(bt,Ht);if(Oe){var ve=Object.getOwnPropertyDescriptor(Oe,Ht);return ve.get?ve.get.call(ae):ve.value}},jt(O,C,j||O)}function $t(O,C){for(;!Object.prototype.hasOwnProperty.call(O,C)&&(O=ie(O),O!==null););return O}function Kt(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&te(O,C)}function te(O,C){return te=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},te(O,C)}function fe(O){var C=Re();return function(){var ft=ie(O),bt;if(C){var Ht=ie(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return Ee(this,bt)}}function Ee(O,C){if(C&&(X(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return we(O)}function we(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ie(O){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},ie(O)}var Fe=function(O){Kt(j,O);var C=fe(j);function j(){return lt(this,j),C.apply(this,arguments)}return xt(j,null,[{key:"create",value:function(bt){return bt==="super"?document.createElement("sup"):bt==="sub"?document.createElement("sub"):jt(ie(j),"create",this).call(this,bt)}},{key:"formats",value:function(bt){if(bt.tagName==="SUB")return"sub";if(bt.tagName==="SUP")return"super"}}]),j}(at.a);Fe.blotName="script",Fe.tagName=["SUB","SUP"];var Dr=Fe;function rr(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rr=function(j){return typeof j}:rr=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},rr(O)}function jr(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function Hr(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&de(O,C)}function de(O,C){return de=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},de(O,C)}function kr(O){var C=Wr();return function(){var ft=nr(O),bt;if(C){var Ht=nr(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return Fr(this,bt)}}function Fr(O,C){if(C&&(rr(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ur(O)}function Ur(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Wr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nr(O){return nr=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},nr(O)}var _e=function(O){Hr(j,O);var C=kr(j);function j(){return jr(this,j),C.apply(this,arguments)}return j}(wt.a);_e.blotName="strike",_e.tagName=["S","STRIKE"];var vr=_e;function ir(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ir=function(j){return typeof j}:ir=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},ir(O)}function or(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function mr(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&yr(O,C)}function yr(O,C){return yr=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},yr(O,C)}function Ue(O){var C=Me();return function(){var ft=Ke(O),bt;if(C){var Ht=Ke(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return gr(this,bt)}}function gr(O,C){if(C&&(ir(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ar(O)}function ar(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Me(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ke(O){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},Ke(O)}var lr=function(O){mr(j,O);var C=Ue(j);function j(){return or(this,j),C.apply(this,arguments)}return j}(at.a);lr.blotName="underline",lr.tagName="U";var $r=lr,zr=t(56),Ar=t(15);function sr(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sr=function(j){return typeof j}:sr=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},sr(O)}function ur(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function cr(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function Ye(O,C,j){return C&&cr(O.prototype,C),j&&cr(O,j),O}function Ze(O,C,j){return typeof Reflect<"u"&&Reflect.get?Ze=Reflect.get:Ze=function(bt,Ht,ae){var Oe=Rr(bt,Ht);if(Oe){var ve=Object.getOwnPropertyDescriptor(Oe,Ht);return ve.get?ve.get.call(ae):ve.value}},Ze(O,C,j||O)}function Rr(O,C){for(;!Object.prototype.hasOwnProperty.call(O,C)&&(O=Ge(O),O!==null););return O}function Kr(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Ve(O,C)}function Ve(O,C){return Ve=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},Ve(O,C)}function br(O){var C=Ir();return function(){var ft=Ge(O),bt;if(C){var Ht=Ge(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return Vr(this,bt)}}function Vr(O,C){if(C&&(sr(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _r(O)}function _r(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function Ir(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ge(O){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},Ge(O)}var Be=function(O){Kr(j,O);var C=br(j);function j(){return ur(this,j),C.apply(this,arguments)}return Ye(j,[{key:"html",value:function(){var bt=this.value(),Ht=bt.formula;return"<span>".concat(Ht,"</span>")}}],[{key:"create",value:function(bt){var Ht=null;if(Object(Ar.a)()&&(Ht=window.katex),Ht==null)throw new Error("Formula module requires KaTeX.");var ae=Ze(Ge(j),"create",this).call(this,bt);return typeof bt=="string"&&(Ht.render(bt,ae,{throwOnError:!1,errorColor:"#f00"}),ae.setAttribute("data-value",bt)),ae}},{key:"value",value:function(bt){return bt.getAttribute("data-value")}}]),j}(zr.a);Be.blotName="formula",Be.className="ql-formula",Be.tagName="SPAN";var Pe=Be;function Te(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Te=function(j){return typeof j}:Te=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Te(O)}function We(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function xr(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function De(O,C,j){return C&&xr(O.prototype,C),j&&xr(O,j),O}function $e(O,C,j){return typeof Reflect<"u"&&Reflect.get?$e=Reflect.get:$e=function(bt,Ht,ae){var Oe=Gr(bt,Ht);if(Oe){var ve=Object.getOwnPropertyDescriptor(Oe,Ht);return ve.get?ve.get.call(ae):ve.value}},$e(O,C,j||O)}function Gr(O,C){for(;!Object.prototype.hasOwnProperty.call(O,C)&&(O=Ie(O),O!==null););return O}function qr(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Or(O,C)}function Or(O,C){return Or=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},Or(O,C)}function Je(O){var C=hr();return function(){var ft=Ie(O),bt;if(C){var Ht=Ie(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return be(this,bt)}}function be(O,C){if(C&&(Te(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fr(O)}function fr(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function hr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ie(O){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},Ie(O)}var tr=["alt","height","width"],je=function(O){qr(j,O);var C=Je(j);function j(){return We(this,j),C.apply(this,arguments)}return De(j,[{key:"format",value:function(bt,Ht){tr.indexOf(bt)>-1?Ht?this.domNode.setAttribute(bt,Ht):this.domNode.removeAttribute(bt):$e(Ie(j.prototype),"format",this).call(this,bt,Ht)}}],[{key:"create",value:function(bt){var Ht=$e(Ie(j),"create",this).call(this,bt);return typeof bt=="string"&&Ht.setAttribute("src",this.sanitize(bt)),Ht}},{key:"formats",value:function(bt){return tr.reduce(function(Ht,ae){return bt.hasAttribute(ae)&&(Ht[ae]=bt.getAttribute(ae)),Ht},{})}},{key:"match",value:function(bt){return/\.(jpe?g|gif|png)$/.test(bt)||/^data:image\/.+;base64/.test(bt)}},{key:"register",value:function(){Object(Ar.a)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(bt){return Object(D.b)(bt,["http","https","data"])?bt:"//:0"}},{key:"value",value:function(bt){return bt.getAttribute("src")}}]),j}(p.EmbedBlot);je.blotName="image",je.tagName="IMG";var wr=je;function Se(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Se=function(j){return typeof j}:Se=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},Se(O)}function ze(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function Er(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function Ne(O,C,j){return C&&Er(O.prototype,C),j&&Er(O,j),O}function qe(O,C,j){return typeof Reflect<"u"&&Reflect.get?qe=Reflect.get:qe=function(bt,Ht,ae){var Oe=dr(bt,Ht);if(Oe){var ve=Object.getOwnPropertyDescriptor(Oe,Ht);return ve.get?ve.get.call(ae):ve.value}},qe(O,C,j||O)}function dr(O,C){for(;!Object.prototype.hasOwnProperty.call(O,C)&&(O=yt(O),O!==null););return O}function Xr(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&Cr(O,C)}function Cr(O,C){return Cr=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},Cr(O,C)}function s(O){var C=W();return function(){var ft=yt(O),bt;if(C){var Ht=yt(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return k(this,bt)}}function k(O,C){if(C&&(Se(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(O)}function h(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yt(O){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},yt(O)}var Lt=["height","width"],zt=function(O){Xr(j,O);var C=s(j);function j(){return ze(this,j),C.apply(this,arguments)}return Ne(j,[{key:"format",value:function(bt,Ht){Lt.indexOf(bt)>-1?Ht?this.domNode.setAttribute(bt,Ht):this.domNode.removeAttribute(bt):qe(yt(j.prototype),"format",this).call(this,bt,Ht)}},{key:"html",value:function(){var bt=this.value(),Ht=bt.video;return'<a href="'.concat(Ht,'">').concat(Ht,"</a>")}}],[{key:"create",value:function(bt){var Ht=qe(yt(j),"create",this).call(this,bt);return Ht.setAttribute("frameborder","0"),Ht.setAttribute("allowfullscreen",!0),Ht.setAttribute("src",this.sanitize(bt)),Ht}},{key:"formats",value:function(bt){return Lt.reduce(function(Ht,ae){return bt.hasAttribute(ae)&&(Ht[ae]=bt.getAttribute(ae)),Ht},{})}},{key:"sanitize",value:function(bt){return D.a.sanitize(bt)}},{key:"value",value:function(bt){return bt.getAttribute("src")}}]),j}(d.a);zt.blotName="video",zt.className="ql-video",zt.tagName="IFRAME";var Xt=zt,Zt=t(17),Vt=t(76),ee=t(65),ce=t(1),oe=t.n(ce);function pe(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pe=function(j){return typeof j}:pe=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},pe(O)}function me(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function Le(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function He(O,C,j){return C&&Le(O.prototype,C),j&&Le(O,j),O}function Tr(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&en(O,C)}function en(O,C){return en=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},en(O,C)}function rn(O){var C=ko();return function(){var ft=bn(O),bt;if(C){var Ht=bn(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return nn(this,bt)}}function nn(O,C){if(C&&(pe(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ho(O)}function Ho(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function ko(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bn(O){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},bn(O)}var Dn=function(O){Tr(j,O);var C=rn(j);function j(){return me(this,j),C.apply(this,arguments)}return He(j,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return`
`}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return`
`}}]),j}(p.EmbedBlot);Dn.blotName="multilineBreak",Dn.tagName="BR";var Fo=Dn,Uo=t(12);function _n(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_n=function(j){return typeof j}:_n=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_n(O)}function Wo(O,C,j){return C in O?Object.defineProperty(O,C,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[C]=j,O}function $o(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function Ei(O,C){for(var j=0;j<C.length;j++){var ft=C[j];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(O,ft.key,ft)}}function zo(O,C,j){return C&&Ei(O.prototype,C),j&&Ei(O,j),O}function Ko(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&jn(O,C)}function jn(O,C){return jn=Object.setPrototypeOf||function(ft,bt){return ft.__proto__=bt,ft},jn(O,C)}function Vo(O){var C=qo();return function(){var ft=On(O),bt;if(C){var Ht=On(this).constructor;bt=Reflect.construct(ft,arguments,Ht)}else bt=ft.apply(this,arguments);return Go(this,bt)}}function Go(O,C){if(C&&(_n(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(O)}function Ci(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function qo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function On(O){return On=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},On(O)}function Xo(O){return!O.nextSibling&&!O.previousSibling?new oe.a().insert(`
`):new oe.a().insert({multilineBreak:""})}var Qo=function(O){Ko(j,O);var C=Vo(j);function j(ft,bt){var Ht;$o(this,j);var ae="blots/multilineBreak";return Ht=C.call(this,ft,bt),nt.a.register(Wo({},ae,Fo),!0),ft.keyboard.addBinding({key:"enter",shiftKey:!0},Ht.enterHandler.bind(Ci(Ht))),ft.keyboard.bindings.enter.unshift(ft.keyboard.bindings.enter.pop()),ft.clipboard.addMatcher("BR",Xo),Ht}return zo(j,[{key:"enterHandler",value:function(bt){var Ht=this.quill.getLeaf(bt.index)[0],ae=this.quill.getLeaf(bt.index+1)[0];this.quill.insertEmbed(bt.index,"multilineBreak",!0,"user"),(ae===null||Ht.parent!==ae.parent)&&this.quill.insertEmbed(bt.index,"multilineBreak",!0,"user"),this.quill.setSelection(bt.index+1,nt.a.sources.SILENT)}}]),j}(Uo.a),Yo=Qo,Zo=t(75),Ti=t(21),Si=t(11);function Ai(O,C){var j=Object.keys(O);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(O);C&&(ft=ft.filter(function(bt){return Object.getOwnPropertyDescriptor(O,bt).enumerable})),j.push.apply(j,ft)}return j}function En(O){for(var C=1;C<arguments.length;C++){var j=arguments[C]!=null?arguments[C]:{};C%2?Ai(Object(j),!0).forEach(function(ft){Jo(O,ft,j[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(j)):Ai(Object(j)).forEach(function(ft){Object.defineProperty(O,ft,Object.getOwnPropertyDescriptor(j,ft))})}return O}function Jo(O,C,j){return C in O?Object.defineProperty(O,C,{value:j,enumerable:!0,configurable:!0,writable:!0}):O[C]=j,O}function Cn(O,C){return C.reduce(function(j,ft){var bt="".concat(O).concat(ft.attrName);return j[bt]=ft,j},{})}a.default.register(En(En(En(En({"attributors/attribute/direction":u.a},Cn("attributors/attribute/",Si.b)),Cn("attributors/attribute/",Ti.c)),{},{"attributors/class/align":o.b,"attributors/class/background":Ot.a,"attributors/class/color":Ct.b,"attributors/class/direction":u.b,"attributors/class/font":It.a,"attributors/class/size":Mt.a,"attributors/style/align":o.c,"attributors/style/background":Ot.b,"attributors/style/color":Ct.c,"attributors/style/direction":u.c,"attributors/style/font":It.b,"attributors/style/size":Mt.b},Cn("attributors/style/",Si.d)),Cn("attributors/style/",Ti.d)),!0),a.default.register({"formats/align":o.b,"formats/direction":u.b,"formats/indent":f,"formats/background":Ot.b,"formats/color":Ct.c,"formats/font":It.a,"formats/size":Mt.a,"formats/blockquote":mt,"formats/code-block":Zt.c,"formats/header":Q,"formats/list":re,"formats/bold":wt.a,"formats/code":Zt.a,"formats/italic":K,"formats/link":D.a,"formats/script":Dr,"formats/strike":vr,"formats/underline":$r,"formats/formula":Pe,"formats/image":wr,"formats/video":Xt,"tableModules/lite":Zo.a,"tableModules/main":ee.a,"modules/syntax":Vt.b,"modules/multiline":Yo,"modules/table":ee.a},!0),i.default=a.default},function(e,i){var t=-1,a=1,o=0;function u(l,f,d,I){if(l===f)return l?[[o,l]]:[];if(d!=null){var M=$(l,f,d);if(M)return M}var F=E(l,f),N=l.substring(0,F);l=l.substring(F),f=f.substring(F),F=g(l,f);var tt=l.substring(l.length-F);l=l.substring(0,l.length-F),f=f.substring(0,f.length-F);var B=p(l,f);return N&&B.unshift([o,N]),tt&&B.push([o,tt]),_(B,I),B}function p(l,f){var d;if(!l)return[[a,f]];if(!f)return[[t,l]];var I=l.length>f.length?l:f,M=l.length>f.length?f:l,F=I.indexOf(M);if(F!==-1)return d=[[a,I.substring(0,F)],[o,M],[a,I.substring(F+M.length)]],l.length>f.length&&(d[0][0]=d[2][0]=t),d;if(M.length===1)return[[t,l],[a,f]];var N=w(l,f);if(N){var tt=N[0],B=N[1],Z=N[2],ut=N[3],ht=N[4],it=u(tt,Z),mt=u(B,ut);return it.concat([[o,ht]],mt)}return S(l,f)}function S(l,f){for(var d=l.length,I=f.length,M=Math.ceil((d+I)/2),F=M,N=2*M,tt=new Array(N),B=new Array(N),Z=0;Z<N;Z++)tt[Z]=-1,B[Z]=-1;tt[F+1]=0,B[F+1]=0;for(var ut=d-I,ht=ut%2!==0,it=0,mt=0,Y=0,V=0,L=0;L<M;L++){for(var et=-L+it;et<=L-mt;et+=2){var st=F+et,_t;et===-L||et!==L&&tt[st-1]<tt[st+1]?_t=tt[st+1]:_t=tt[st-1]+1;for(var ot=_t-et;_t<d&&ot<I&&l.charAt(_t)===f.charAt(ot);)_t++,ot++;if(tt[st]=_t,_t>d)mt+=2;else if(ot>I)it+=2;else if(ht){var dt=F+ut-et;if(dt>=0&&dt<N&&B[dt]!==-1){var Tt=d-B[dt];if(_t>=Tt)return A(l,f,_t,ot)}}}for(var Rt=-L+Y;Rt<=L-V;Rt+=2){var dt=F+Rt,Tt;Rt===-L||Rt!==L&&B[dt-1]<B[dt+1]?Tt=B[dt+1]:Tt=B[dt-1]+1;for(var rt=Tt-Rt;Tt<d&&rt<I&&l.charAt(d-Tt-1)===f.charAt(I-rt-1);)Tt++,rt++;if(B[dt]=Tt,Tt>d)V+=2;else if(rt>I)Y+=2;else if(!ht){var st=F+ut-Rt;if(st>=0&&st<N&&tt[st]!==-1){var _t=tt[st],ot=F+_t-st;if(Tt=d-Tt,_t>=Tt)return A(l,f,_t,ot)}}}}return[[t,l],[a,f]]}function A(l,f,d,I){var M=l.substring(0,d),F=f.substring(0,I),N=l.substring(d),tt=f.substring(I),B=u(M,F),Z=u(N,tt);return B.concat(Z)}function E(l,f){if(!l||!f||l.charAt(0)!==f.charAt(0))return 0;for(var d=0,I=Math.min(l.length,f.length),M=I,F=0;d<M;)l.substring(F,M)==f.substring(F,M)?(d=M,F=d):I=M,M=Math.floor((I-d)/2+d);return b(l.charCodeAt(M-1))&&M--,M}function g(l,f){if(!l||!f||l.slice(-1)!==f.slice(-1))return 0;for(var d=0,I=Math.min(l.length,f.length),M=I,F=0;d<M;)l.substring(l.length-M,l.length-F)==f.substring(f.length-M,f.length-F)?(d=M,F=d):I=M,M=Math.floor((I-d)/2+d);return R(l.charCodeAt(l.length-M))&&M--,M}function w(l,f){var d=l.length>f.length?l:f,I=l.length>f.length?f:l;if(d.length<4||I.length*2<d.length)return null;function M(mt,Y,V){for(var L=mt.substring(V,V+Math.floor(mt.length/4)),et=-1,st="",_t,ot,dt,Tt;(et=Y.indexOf(L,et+1))!==-1;){var Rt=E(mt.substring(V),Y.substring(et)),rt=g(mt.substring(0,V),Y.substring(0,et));st.length<rt+Rt&&(st=Y.substring(et-rt,et)+Y.substring(et,et+Rt),_t=mt.substring(0,V-rt),ot=mt.substring(V+Rt),dt=Y.substring(0,et-rt),Tt=Y.substring(et+Rt))}return st.length*2>=mt.length?[_t,ot,dt,Tt,st]:null}var F=M(d,I,Math.ceil(d.length/4)),N=M(d,I,Math.ceil(d.length/2)),tt;if(!F&&!N)return null;N?F?tt=F[4].length>N[4].length?F:N:tt=N:tt=F;var B,Z,ut,ht;l.length>f.length?(B=tt[0],Z=tt[1],ut=tt[2],ht=tt[3]):(ut=tt[0],ht=tt[1],B=tt[2],Z=tt[3]);var it=tt[4];return[B,Z,ut,ht,it]}function _(l,f){l.push([o,""]);for(var d=0,I=0,M=0,F="",N="",tt;d<l.length;){if(d<l.length-1&&!l[d][1]){l.splice(d,1);continue}switch(l[d][0]){case a:M++,N+=l[d][1],d++;break;case t:I++,F+=l[d][1],d++;break;case o:var B=d-M-I-1;if(f){if(B>=0&&v(l[B][1])){var Z=l[B][1].slice(-1);if(l[B][1]=l[B][1].slice(0,-1),F=Z+F,N=Z+N,!l[B][1]){l.splice(B,1),d--;var ut=B-1;l[ut]&&l[ut][0]===a&&(M++,N=l[ut][1]+N,ut--),l[ut]&&l[ut][0]===t&&(I++,F=l[ut][1]+F,ut--),B=ut}}if(P(l[d][1])){var Z=l[d][1].charAt(0);l[d][1]=l[d][1].slice(1),F+=Z,N+=Z}}if(d<l.length-1&&!l[d][1]){l.splice(d,1);break}if(F.length>0||N.length>0){F.length>0&&N.length>0&&(tt=E(N,F),tt!==0&&(B>=0?l[B][1]+=N.substring(0,tt):(l.splice(0,0,[o,N.substring(0,tt)]),d++),N=N.substring(tt),F=F.substring(tt)),tt=g(N,F),tt!==0&&(l[d][1]=N.substring(N.length-tt)+l[d][1],N=N.substring(0,N.length-tt),F=F.substring(0,F.length-tt)));var ht=M+I;F.length===0&&N.length===0?(l.splice(d-ht,ht),d=d-ht):F.length===0?(l.splice(d-ht,ht,[a,N]),d=d-ht+1):N.length===0?(l.splice(d-ht,ht,[t,F]),d=d-ht+1):(l.splice(d-ht,ht,[t,F],[a,N]),d=d-ht+2)}d!==0&&l[d-1][0]===o?(l[d-1][1]+=l[d][1],l.splice(d,1)):d++,M=0,I=0,F="",N="";break}}l[l.length-1][1]===""&&l.pop();var it=!1;for(d=1;d<l.length-1;)l[d-1][0]===o&&l[d+1][0]===o&&(l[d][1].substring(l[d][1].length-l[d-1][1].length)===l[d-1][1]?(l[d][1]=l[d-1][1]+l[d][1].substring(0,l[d][1].length-l[d-1][1].length),l[d+1][1]=l[d-1][1]+l[d+1][1],l.splice(d-1,1),it=!0):l[d][1].substring(0,l[d+1][1].length)==l[d+1][1]&&(l[d-1][1]+=l[d+1][1],l[d][1]=l[d][1].substring(l[d+1][1].length)+l[d+1][1],l.splice(d+1,1),it=!0)),d++;it&&_(l,f)}function b(l){return l>=55296&&l<=56319}function R(l){return l>=56320&&l<=57343}function P(l){return R(l.charCodeAt(0))}function v(l){return b(l.charCodeAt(l.length-1))}function x(l){for(var f=[],d=0;d<l.length;d++)l[d][1].length>0&&f.push(l[d]);return f}function U(l,f,d,I){return v(l)||P(I)?null:x([[o,l],[t,f],[a,d],[o,I]])}function $(l,f,d){var I=typeof d=="number"?{index:d,length:0}:d.oldRange,M=typeof d=="number"?null:d.newRange,F=l.length,N=f.length;if(I.length===0&&(M===null||M.length===0)){var tt=I.index,B=l.slice(0,tt),Z=l.slice(tt),ut=M?M.index:null;t:{var ht=tt+N-F;if(ut!==null&&ut!==ht||ht<0||ht>N)break t;var it=f.slice(0,ht),mt=f.slice(ht);if(mt!==Z)break t;var Y=Math.min(tt,ht),V=B.slice(0,Y),L=it.slice(0,Y);if(V!==L)break t;var et=B.slice(Y),st=it.slice(Y);return U(V,et,st,Z)}t:{if(ut!==null&&ut!==tt)break t;var _t=tt,it=f.slice(0,_t),mt=f.slice(_t);if(it!==B)break t;var ot=Math.min(F-_t,N-_t),dt=Z.slice(Z.length-ot),Tt=mt.slice(mt.length-ot);if(dt!==Tt)break t;var et=Z.slice(0,Z.length-ot),st=mt.slice(0,mt.length-ot);return U(B,et,st,dt)}}if(I.length>0&&M&&M.length===0)t:{var V=l.slice(0,I.index),dt=l.slice(I.index+I.length),Y=V.length,ot=dt.length;if(N<Y+ot)break t;var L=f.slice(0,Y),Tt=f.slice(N-ot);if(V!==L||dt!==Tt)break t;var et=l.slice(Y,F-ot),st=f.slice(Y,N-ot);return U(V,et,st,dt)}return null}function m(l,f,d){return u(l,f,d,!0)}m.INSERT=a,m.DELETE=t,m.EQUAL=o,e.exports=m},function(e,i,t){var a=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(i,"__esModule",{value:!0});var o=a(t(16)),u=a(t(30)),p;(function(S){function A(_,b,R){_===void 0&&(_={}),b===void 0&&(b={}),typeof _!="object"&&(_={}),typeof b!="object"&&(b={});var P=o.default(b);R||(P=Object.keys(P).reduce(function(x,U){return P[U]!=null&&(x[U]=P[U]),x},{}));for(var v in _)_[v]!==void 0&&b[v]===void 0&&(P[v]=_[v]);return Object.keys(P).length>0?P:void 0}S.compose=A;function E(_,b){_===void 0&&(_={}),b===void 0&&(b={}),typeof _!="object"&&(_={}),typeof b!="object"&&(b={});var R=Object.keys(_).concat(Object.keys(b)).reduce(function(P,v){return u.default(_[v],b[v])||(P[v]=b[v]===void 0?null:b[v]),P},{});return Object.keys(R).length>0?R:void 0}S.diff=E;function g(_,b){_===void 0&&(_={}),b===void 0&&(b={}),_=_||{};var R=Object.keys(b).reduce(function(P,v){return b[v]!==_[v]&&_[v]!==void 0&&(P[v]=b[v]),P},{});return Object.keys(_).reduce(function(P,v){return _[v]!==b[v]&&b[v]===void 0&&(P[v]=null),P},R)}S.invert=g;function w(_,b,R){if(R===void 0&&(R=!1),typeof _!="object")return b;if(typeof b=="object"){if(!R)return b;var P=Object.keys(b).reduce(function(v,x){return _[x]===void 0&&(v[x]=b[x]),v},{});return Object.keys(P).length>0?P:void 0}}S.transform=w})(p||(p={})),i.default=p},function(e,i,t){var a=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0});var o=a(t(94)),u=function(){function p(S){this.ops=S,this.index=0,this.offset=0}return p.prototype.hasNext=function(){return this.peekLength()<1/0},p.prototype.next=function(S){S||(S=1/0);var A=this.ops[this.index];if(A){var E=this.offset,g=o.default.length(A);if(S>=g-E?(S=g-E,this.index+=1,this.offset=0):this.offset+=S,typeof A.delete=="number")return{delete:S};var w={};return A.attributes&&(w.attributes=A.attributes),typeof A.retain=="number"?w.retain=S:typeof A.insert=="string"?w.insert=A.insert.substr(E,S):w.insert=A.insert,w}else return{retain:1/0}},p.prototype.peek=function(){return this.ops[this.index]},p.prototype.peekLength=function(){return this.ops[this.index]?o.default.length(this.ops[this.index])-this.offset:1/0},p.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},p.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var S=this.offset,A=this.index,E=this.next(),g=this.ops.slice(this.index);return this.offset=S,this.index=A,[E].concat(g)}else return[]},p}();i.default=u},function(e,i,t){var a=t(122);e.exports=a},function(e,i,t){var a=t(123);e.exports=a},function(e,i,t){t(124),t(147);var a=t(115);e.exports=a.Array.from},function(e,i,t){var a=t(125).charAt,o=t(78),u=t(100),p=t(133),S="String Iterator",A=u.set,E=u.getterFor(S);p(String,"String",function(g){A(this,{type:S,string:o(g),index:0})},function(){var w=E(this),_=w.string,b=w.index,R;return b>=_.length?{value:void 0,done:!0}:(R=a(_,b),w.index+=R.length,{value:R,done:!1})})},function(e,i,t){var a=t(20),o=t(77),u=t(78),p=t(69),S=a("".charAt),A=a("".charCodeAt),E=a("".slice),g=function(w){return function(_,b){var R=u(p(_)),P=o(b),v=R.length,x,U;return P<0||P>=v?w?"":void 0:(x=A(R,P),x<55296||x>56319||P+1===v||(U=A(R,P+1))<56320||U>57343?w?S(R,P):x:w?E(R,P,P+2):(x-55296<<10)+(U-56320)+65536)}};e.exports={codeAt:g(!1),charAt:g(!0)}},function(e,i,t){var a=t(28),o=a("toStringTag"),u={};u[o]="z",e.exports=String(u)==="[object z]"},function(e,i,t){var a=t(8),o=t(128),u=a.process,p=a.Deno,S=u&&u.versions||p&&p.version,A=S&&S.v8,E,g;A&&(E=A.split("."),g=E[0]>0&&E[0]<4?1:+(E[0]+E[1])),!g&&o&&(E=o.match(/Edge\/(\d+)/),(!E||E[1]>=74)&&(E=o.match(/Chrome\/(\d+)/),E&&(g=+E[1]))),e.exports=g},function(e,i,t){var a=t(60);e.exports=a("navigator","userAgent")||""},function(e,i,t){var a=t(8),o=t(22),u=t(83),p=a.WeakMap;e.exports=o(p)&&/native code/.test(u(p))},function(e,i,t){var a=t(8),o=t(42),u=t(51),p=t(103),S=t(85),A=t(132),E=t(28),g=a.TypeError,w=E("toPrimitive");e.exports=function(_,b){if(!u(_)||p(_))return _;var R=S(_,w),P;if(R){if(b===void 0&&(b="default"),P=o(R,_,b),!u(P)||p(P))return P;throw g("Can't convert object to primitive value")}return b===void 0&&(b="number"),A(_,b)}},function(e,i,t){var a=t(20);e.exports=a({}.isPrototypeOf)},function(e,i,t){var a=t(8),o=t(42),u=t(22),p=t(51),S=a.TypeError;e.exports=function(A,E){var g,w;if(E==="string"&&u(g=A.toString)&&!p(w=o(g,A))||u(g=A.valueOf)&&!p(w=o(g,A))||E!=="string"&&u(g=A.toString)&&!p(w=o(g,A)))return w;throw S("Can't convert object to primitive value")}},function(e,i,t){var a=t(61),o=t(42),u=t(67),p=t(106),S=t(22),A=t(141),E=t(112),g=t(145),w=t(113),_=t(70),b=t(90),R=t(28),P=t(72),v=t(110),x=p.PROPER,U=p.CONFIGURABLE,$=v.IteratorPrototype,m=v.BUGGY_SAFARI_ITERATORS,l=R("iterator"),f="keys",d="values",I="entries",M=function(){return this};e.exports=function(F,N,tt,B,Z,ut,ht){A(tt,N,B);var it=function(Tt){if(Tt===Z&&et)return et;if(!m&&Tt in V)return V[Tt];switch(Tt){case f:return function(){return new tt(this,Tt)};case d:return function(){return new tt(this,Tt)};case I:return function(){return new tt(this,Tt)}}return function(){return new tt(this)}},mt=N+" Iterator",Y=!1,V=F.prototype,L=V[l]||V["@@iterator"]||Z&&V[Z],et=!m&&L||it(Z),st=N=="Array"&&V.entries||L,_t,ot,dt;if(st&&(_t=E(st.call(new F)),_t!==Object.prototype&&_t.next&&(!u&&E(_t)!==$&&(g?g(_t,$):S(_t[l])||b(_t,l,M)),w(_t,mt,!0,!0),u&&(P[mt]=M))),x&&Z==d&&L&&L.name!==d&&(!u&&U?_(V,"name",d):(Y=!0,et=function(){return o(L,this)})),Z)if(ot={values:it(d),keys:ut?et:it(f),entries:it(I)},ht)for(dt in ot)(m||Y||!(dt in V))&&b(V,dt,ot[dt]);else a({target:N,proto:!0,forced:m||Y},ot);return(!u||ht)&&V[l]!==et&&b(V,l,et,{name:Z}),P[N]=et,ot}},function(e,i,t){var a=t(8),o=t(20),u=t(39),p=t(82),S=a.Object,A=o("".split);e.exports=u(function(){return!S("z").propertyIsEnumerable(0)})?function(E){return p(E)=="String"?A(E,""):S(E)}:S},function(e,i,t){var a=t(36),o=t(136),u=t(89),p=t(52);e.exports=function(S,A){for(var E=o(A),g=p.f,w=u.f,_=0;_<E.length;_++){var b=E[_];a(S,b)||g(S,b,w(A,b))}}},function(e,i,t){var a=t(60),o=t(20),u=t(137),p=t(139),S=t(40),A=o([].concat);e.exports=a("Reflect","ownKeys")||function(g){var w=u.f(S(g)),_=p.f;return _?A(w,_(g)):w}},function(e,i,t){var a=t(107),o=t(92),u=o.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(S){return a(S,u)}},function(e,i,t){var a=t(62),o=t(108),u=t(91),p=function(S){return function(A,E,g){var w=a(A),_=u(w),b=o(g,_),R;if(S&&E!=E){for(;_>b;)if(R=w[b++],R!=R)return!0}else for(;_>b;b++)if((S||b in w)&&w[b]===E)return S||b||0;return!S&&-1}};e.exports={includes:p(!0),indexOf:p(!1)}},function(e,i){i.f=Object.getOwnPropertySymbols},function(e,i,t){var a=t(39),o=t(22),u=/#|\.prototype\./,p=function(w,_){var b=A[S(w)];return b==g?!0:b==E?!1:o(_)?a(_):!!_},S=p.normalize=function(w){return String(w).replace(u,".").toLowerCase()},A=p.data={},E=p.NATIVE="N",g=p.POLYFILL="P";e.exports=p},function(e,i,t){var a=t(110).IteratorPrototype,o=t(93),u=t(71),p=t(113),S=t(72),A=function(){return this};e.exports=function(E,g,w){var _=g+" Iterator";return E.prototype=o(a,{next:u(1,w)}),p(E,_,!1,!0),S[_]=A,E}},function(e,i,t){var a=t(41),o=t(52),u=t(40),p=t(62),S=t(111);e.exports=a?Object.defineProperties:function(E,g){u(E);for(var w=p(g),_=S(g),b=_.length,R=0,P;b>R;)o.f(E,P=_[R++],w[P]);return E}},function(e,i,t){var a=t(60);e.exports=a("document","documentElement")},function(e,i,t){var a=t(39);e.exports=!a(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},function(e,i,t){var a=t(20),o=t(40),u=t(146);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p=!1,S={},A;try{A=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),A(S,[]),p=S instanceof Array}catch{}return function(g,w){return o(g),u(w),p?A(g,w):g.__proto__=w,g}}():void 0)},function(e,i,t){var a=t(8),o=t(22),u=a.String,p=a.TypeError;e.exports=function(S){if(typeof S=="object"||o(S))return S;throw p("Can't set "+u(S)+" as a prototype")}},function(e,i,t){var a=t(61),o=t(148),u=t(156),p=!u(function(S){Array.from(S)});a({target:"Array",stat:!0,forced:p},{from:o})},function(e,i,t){var a=t(8),o=t(149),u=t(42),p=t(68),S=t(150),A=t(152),E=t(153),g=t(91),w=t(154),_=t(155),b=t(114),R=a.Array;e.exports=function(v){var x=p(v),U=E(this),$=arguments.length,m=$>1?arguments[1]:void 0,l=m!==void 0;l&&(m=o(m,$>2?arguments[2]:void 0));var f=b(x),d=0,I,M,F,N,tt,B;if(f&&!(this==R&&A(f)))for(N=_(x,f),tt=N.next,M=U?new this:[];!(F=u(tt,N)).done;d++)B=l?S(N,m,[F.value,d],!0):F.value,w(M,d,B);else for(I=g(x),M=U?new this(I):R(I);I>d;d++)B=l?m(x[d],d):x[d],w(M,d,B);return M.length=d,M}},function(e,i,t){var a=t(20),o=t(86),u=a(a.bind);e.exports=function(p,S){return o(p),S===void 0?p:u?u(p,S):function(){return p.apply(S,arguments)}}},function(e,i,t){var a=t(40),o=t(151);e.exports=function(u,p,S,A){try{return A?p(a(S)[0],S[1]):p(S)}catch(E){o(u,"throw",E)}}},function(e,i,t){var a=t(42),o=t(40),u=t(85);e.exports=function(p,S,A){var E,g;o(p);try{if(E=u(p,"return"),!E){if(S==="throw")throw A;return A}E=a(E,p)}catch(w){g=!0,E=w}if(S==="throw")throw A;if(g)throw E;return o(E),A}},function(e,i,t){var a=t(28),o=t(72),u=a("iterator"),p=Array.prototype;e.exports=function(S){return S!==void 0&&(o.Array===S||p[u]===S)}},function(e,i,t){var a=t(20),o=t(39),u=t(22),p=t(79),S=t(60),A=t(83),E=function(){},g=[],w=S("Reflect","construct"),_=/^\s*(?:class|function)\b/,b=a(_.exec),R=!_.exec(E),P=function(x){if(!u(x))return!1;try{return w(E,g,x),!0}catch{return!1}},v=function(x){if(!u(x))return!1;switch(p(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R||!!b(_,A(x))};e.exports=!w||o(function(){var x;return P(P.call)||!P(Object)||!P(function(){x=!0})||x})?v:P},function(e,i,t){var a=t(84),o=t(52),u=t(71);e.exports=function(p,S,A){var E=a(S);E in p?o.f(p,E,u(0,A)):p[E]=A}},function(e,i,t){var a=t(8),o=t(42),u=t(86),p=t(40),S=t(104),A=t(114),E=a.TypeError;e.exports=function(g,w){var _=arguments.length<2?A(g):w;if(u(_))return p(o(_,g));throw E(S(g)+" is not iterable")}},function(e,i,t){var a=t(28),o=a("iterator"),u=!1;try{var p=0,S={next:function(){return{done:!!p++}},return:function(){u=!0}};S[o]=function(){return this},Array.from(S,function(){throw 2})}catch{}e.exports=function(A,E){if(!E&&!u)return!1;var g=!1;try{var w={};w[o]=function(){return{next:function(){return{done:g=!0}}}},A(w)}catch{}return g}},function(e,i,t){var a=t(158);e.exports=a},function(e,i,t){var a=t(159);e.exports=a},function(e,i,t){t(160);var a=t(116);e.exports=a("Array","fill")},function(e,i,t){var a=t(61),o=t(161),u=t(162);a({target:"Array",proto:!0},{fill:o}),u("fill")},function(e,i,t){var a=t(68),o=t(108),u=t(91);e.exports=function(S){for(var A=a(this),E=u(A),g=arguments.length,w=o(g>1?arguments[1]:void 0,E),_=g>2?arguments[2]:void 0,b=_===void 0?E:o(_,E);b>w;)A[w++]=S;return A}},function(e,i,t){var a=t(28),o=t(93),u=t(52),p=a("unscopables"),S=Array.prototype;S[p]==null&&u.f(S,p,{configurable:!0,value:o(null)}),e.exports=function(A){S[p][A]=!0}},function(e,i,t){var a=t(164);e.exports=a},function(e,i,t){var a=t(165);e.exports=a},function(e,i,t){t(166);var a=t(115);e.exports=a.Object.values},function(e,i,t){var a=t(61),o=t(167).values;a({target:"Object",stat:!0},{values:function(p){return o(p)}})},function(e,i,t){var a=t(41),o=t(20),u=t(111),p=t(62),S=t(105).f,A=o(S),E=o([].push),g=function(w){return function(_){for(var b=p(_),R=u(b),P=R.length,v=0,x=[],U;P>v;)U=R[v++],(!a||A(b,U))&&E(x,w?[U,b[U]]:b[U]);return x}};e.exports={entries:g(!0),values:g(!1)}},function(e,i,t){var a=t(169);e.exports=a},function(e,i,t){var a=t(170);e.exports=a},function(e,i,t){t(171);var a=t(116);e.exports=a("String","endsWith")},function(e,i,t){var a=t(61),o=t(20),u=t(89).f,p=t(109),S=t(78),A=t(172),E=t(69),g=t(174),w=t(67),_=o("".endsWith),b=o("".slice),R=Math.min,P=g("endsWith"),v=!w&&!P&&!!function(){var x=u(String.prototype,"endsWith");return x&&!x.writable}();a({target:"String",proto:!0,forced:!v&&!P},{endsWith:function(U){var $=S(E(this));A(U);var m=arguments.length>1?arguments[1]:void 0,l=$.length,f=m===void 0?l:R(p(m),l),d=S(U);return _?_($,d,f):b($,f-d.length,f)===d}})},function(e,i,t){var a=t(8),o=t(173),u=a.TypeError;e.exports=function(p){if(o(p))throw u("The method doesn't accept regular expressions");return p}},function(e,i,t){var a=t(51),o=t(82),u=t(28),p=u("match");e.exports=function(S){var A;return a(S)&&((A=S[p])!==void 0?!!A:o(S)=="RegExp")}},function(e,i,t){var a=t(28),o=a("match");e.exports=function(u){var p=/./;try{"/./"[u](p)}catch{try{return p[o]=!1,"/./"[u](p)}catch{}}return!1}},,function(e,i,t){e.exports=t(117)}]).default})})(lo);var Ba=lo.exports;const se=ta(Ba);function so(){if(!se)throw ii.Error("E1041","Quill");return se}var Zn;if(se){var Da=se.import("core/theme");Zn=class extends Da{constructor(r,n){super(r,n),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox")}}}else Zn={};const ja=Zn;var Jn={};if(se){var Ha=se.import("formats/image");Jn=class extends Ha{static create(r){var n=r&&r.src||r,e=super.create(n);if(Zr(r)){var i=(t,a)=>{r[t]&&e.setAttribute(t,a)};i("alt",r.alt),i("width",r.width),i("height",r.height)}return e}static formats(r){var n=super.formats(r);return n.imageSrc=r.getAttribute("src"),n}formats(){var r=super.formats(),n=this.domNode.style.float;return n&&(r.float=n),r}format(r,n){r==="float"?this.domNode.style[r]=n:super.format(r,n)}static value(r){return{src:r.getAttribute("src"),width:r.getAttribute("width"),height:r.getAttribute("height"),alt:r.getAttribute("alt")}}},Jn.blotName="extendedImage"}const ka=Jn;var uo={};if(se){var Fa=se.import("formats/link");uo=class co extends Fa{static create(n){var e,i=(e=n==null?void 0:n.href)!==null&&e!==void 0?e:n,t=super.create(i);return Zr(n)&&(n.text&&(t.innerText=n.text),n.target||t.removeAttribute("target")),t}static formats(n){return{href:n.getAttribute("href"),target:n.getAttribute("target")}}formats(){var n=super.formats(),{href:e,target:i}=co.formats(this.domNode);return n.link=e,n.target=i,n}format(n,e){n==="link"&&Zr(e)?(e.text&&(this.domNode.innerText=e.text),e.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",e.href)):super.format(n,e)}static value(n){return{href:n.getAttribute("href"),text:n.innerText,target:!!n.getAttribute("target")}}}}const Ua=uo;var ti={};se&&(ti=se.import("attributors/style/font"),ti.whitelist=null);const Wa=ti;var ei={};se&&(ei=se.import("attributors/style/size"),ei.whitelist=null);const $a=ei;var ri={};se&&(ri=se.import("attributors/style/align"),ri.whitelist.push("left"));const za=ri;class Ka{}var fo=Ka;if(se){var Va=se.import("core/module");fo=class extends Va{constructor(r,n){super(r,n),this.editorInstance=n.editorInstance}saveValueChangeEvent(r){this.editorInstance._saveValueChangeEvent(r)}addCleanCallback(r){this.editorInstance.addCleanCallback(r)}handleOptionChangeValue(r){Zr(r)?Object.entries(r).forEach(n=>{var[e,i]=n;return this.option(e,i)}):ye(r)||this===null||this===void 0||this.clean()}}}const xe=fo;var Ga="dx-colorview",qa="dx-colorview-container",Rn="dx-colorview-container-row",Xa="dx-colorview-container-cell",Qa="dx-colorview-palette",Ya="dx-colorview-palette-cell",Za="dx-colorview-palette-handle",Mi="dx-colorview-palette-gradient",Ja="dx-colorview-palette-gradient-white",tl="dx-colorview-palette-gradient-black",el="dx-colorview-hue-scale",rl="dx-colorview-hue-scale-cell",nl="dx-colorview-hue-scale-handle",il="dx-colorview-hue-scale-wrapper",ol="dx-colorview-controls-container",al="dx-colorview-label-red",ll="dx-colorview-label-green",sl="dx-colorview-label-blue",ul="dx-colorview-label-hex",cl="dx-colorview-alpha-channel-scale",fl="dx-colorview-alpha-channel-row",hl="dx-colorview-alpha-channel-wrapper",dl="dx-colorview-alpha-channel-label",pl="dx-colorview-alpha-channel-handle",vl="dx-colorview-alpha-channel-cell",ml="dx-colorview-alpha-channel-border",Bi="dx-colorview-color-preview",yl="dx-colorview-color-preview-container",gl="dx-colorview-color-preview-container-inner",bl="dx-colorview-color-preview-color-current",_l="dx-colorview-color-preview-color-new",kn="#000000",si=Ji.inherit({_supportedKeys:function(){var r=this.option("rtlEnabled"),n=this,e=function(E){var g=100/n._paletteWidth;return E.shiftKey&&(g*=n.option("keyStep")),g=g>1?g:1,Math.round(g)},i=function(E){var g=n._currentColor.hsv.s+E;g>100?g=100:g<0&&(g=0),n._currentColor.hsv.s=g,o()},t=function(E){var g=100/n._paletteHeight;return E.shiftKey&&(g*=n.option("keyStep")),g=g>1?g:1,Math.round(g)},a=function(E){var g=n._currentColor.hsv.v+E;g>100?g=100:g<0&&(g=0),n._currentColor.hsv.v=g,o()};function o(){n._placePaletteHandle(),n._updateColorFromHsv(n._currentColor.hsv.h,n._currentColor.hsv.s,n._currentColor.hsv.v)}var u=function(E){var g=360/(n._hueScaleWrapperHeight-n._hueScaleHandleHeight);return E.shiftKey&&(g*=n.option("keyStep")),g=g>1?g:1,g},p=function(E){n._currentColor.hsv.h+=E,n._placeHueScaleHandle();var g=sn(n._$hueScaleHandle);n._updateColorHue(g.top+n._hueScaleHandleHeight/2)},S=function(E){var g=1/n._alphaChannelScaleWorkWidth;return E.shiftKey&&(g*=n.option("keyStep")),g=g>.01?g:.01,g=r?-g:g,g},A=function(E){n._currentColor.a+=E,n._placeAlphaChannelHandle();var g=sn(n._$alphaChannelHandle);n._calculateColorTransparencyByScaleWidth(g.left+n._alphaChannelHandleWidth/2)};return le(this.callBase(),{upArrow:function(E){E.preventDefault(),E.stopPropagation(),Tn(E)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(E),p(u(E))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(E),a(t(E)))},downArrow:function(E){E.preventDefault(),E.stopPropagation(),Tn(E)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(E),p(-u(E))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(E),a(-t(E)))},rightArrow:function(E){E.preventDefault(),E.stopPropagation(),Tn(E)?(r?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(E),A(-S(E))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(E),i(e(E)))},leftArrow:function(E){E.preventDefault(),E.stopPropagation(),Tn(E)?(r?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(E),A(S(E))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(E),i(-e(E)))},enter:function(E){this._fireEnterKeyPressed(E)}})},_getDefaultOptions:function(){return le(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return ln.real().deviceType==="desktop"&&!ln.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(r){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:r})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(r){r=r||kn;var n=new er(r);n.colorIsInvalid?(this._currentColor||(this._currentColor=new er(kn)),this.option("value",this._currentColor.baseColor)):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(n))&&(this._currentColor=n,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,n))},_setBaseColor:function(r){var n=r||kn,e=new er(n);if(!e.colorIsInvalid){var i=this._makeRgba(this.option("matchValue")!==this._makeRgba(e));i&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,e)}},_initMarkup:function(){this.callBase(),this.$element().addClass(Ga),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(r,n){n instanceof er||(n=new er(n)),r.css("backgroundColor",this._makeRgba(n))},_makeRgba:function(r){return r instanceof er||(r=new er(r)),"rgba("+[r.r,r.g,r.b,r.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var r=this.$element();this._$colorPickerContainer=Ut("<div>").addClass(qa).appendTo(r),this._renderHtmlRows()},_renderHtmlRows:function(r){var n=this._$colorPickerContainer.find("."+Rn),e=n.length,i=this.option("editAlphaChannel")?2:1,t=e-i;if(t>0&&n.eq(-1).remove(),t<0){t=Math.abs(t);var a=[],o;for(o=0;o<t;o++)a.push(Ut("<div>").addClass(Rn));if(e)for(o=0;o<a.length;o++)n.eq(0).after(a[o]);else this._$colorPickerContainer.append(a)}},_renderHtmlCellInsideRow:function(r,n,e){return Ut("<div>").addClass(Xa).addClass(e).appendTo(n.find("."+Rn).eq(r))},_renderPalette:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,Ya),n=Ut("<div>").addClass([Mi,Ja].join(" ")),e=Ut("<div>").addClass([Mi,tl].join(" "));this._$palette=Ut("<div>").addClass(Qa).css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(r),this._paletteHeight=Lr(this._$palette),this._paletteWidth=Mr(this._$palette),this._renderPaletteHandle(),this._$palette.append([n,e])},_renderPaletteHandle:function(){this._$paletteHandle=Ut("<div>").addClass(Za).appendTo(this._$palette),this._createComponent(this._$paletteHandle,wn,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:function(){return-this._paletteHandleHeight/2}.bind(this),onDragMove:r=>{var{event:n}=r,e=sn(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(n),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(e),this._calculateColorValue(e))}}),this._paletteHandleWidth=Mr(this._$paletteHandle),this._paletteHandleHeight=Lr(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){hn(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(r){var n=Math.floor(r.top+this._paletteHandleHeight/2);return 100-Math.round(100*n/this._paletteHeight)},_calculateColorSaturation:function(r){var n=Math.floor(r.left+this._paletteHandleWidth/2);return Math.round(100*n/this._paletteWidth)},_updateColorFromHsv:function(r,n,e){var i=this._currentColor.a;this._currentColor=new er("hsv("+[r,n,e].join(",")+")"),this._currentColor.a=i,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,rl);this._$hueScaleWrapper=Ut("<div>").addClass(il).appendTo(r),this._$hueScale=Ut("<div>").addClass(el).appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Lr(this._$hueScale),this._hueScaleWrapperHeight=Sr(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._$hueScaleHandle=Ut("<div>").addClass(nl).appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,wn,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:r=>{var{event:n}=r;this._updateByDrag=!0,this._saveValueChangeEvent(n),this._updateColorHue(sn(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Lr(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var r=this._hueScaleWrapperHeight,n=this._hueScaleHandleHeight,e=(r-n)*(360-this._currentColor.hsv.h)/360;r<e+n&&(e=r-n),e<0&&(e=0),hn(this._$hueScaleHandle,{top:Math.round(e)})},_updateColorHue:function(r){var n=360-Math.round(360*(r-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),e=this._currentColor.hsv.s,i=this._currentColor.hsv.v;this._isTopColorHue=!1,n=n<0?0:n,n>=360&&(this._isTopColorHue=!0,n=0),this._updateColorFromHsv(n,e,i),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Ut("<div>").addClass(ol).appendTo(r)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var r=Ut("<div>").addClass(yl).appendTo(this._$controlsContainer),n=Ut("<div>").addClass(gl).appendTo(r);this._$currentColor=Ut("<div>").addClass([Bi,_l].join(" ")),this._$baseColor=Ut("<div>").addClass([Bi,bl].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),n.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+Rn).eq(1).addClass(fl),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:un,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:Qt.format("dxColorView-ariaRed"),labelClass:al}),this._renderEditorWithLabel({editorType:un,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:Qt.format("dxColorView-ariaGreen"),labelClass:ll}),this._renderEditorWithLabel({editorType:un,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:Qt.format("dxColorView-ariaBlue"),labelClass:sl})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(r){var n=Ut("<div>"),e=Ut("<label>").addClass(r.labelClass).text(r.labelText+":").append(n);ue.off(e,qn),ue.on(e,qn,function(o){o.preventDefault()});var i=r.editorType,t=le({value:r.value,onValueChanged:r.onValueChanged,onKeyboardHandled:o=>this._keyboardHandler(o)},{stylingMode:this.option("stylingMode")});i===un&&(t.min=r.min||0,t.max=r.max||255,t.step=r.step||1);var a=new i(n,t);return a.registerKeyHandler("enter",function(o){this._fireEnterKeyPressed(o)}.bind(this)),this.setAria("label",r.labelAriaText,n),e},hexInputOptions:function(){return{editorType:Xn,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:ul,labelText:"#",labelAriaText:Qt.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=Xn.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"))},_renderAlphaChannelScale:function(){var r=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,vl),n=Ut("<div>").addClass(ml).appendTo(r),e=Ut("<div>").addClass(hl).appendTo(n);this._$alphaChannelScale=Ut("<div>").addClass(cl).appendTo(e),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(r)},_makeCSSLinearGradient:function(r){var n=this._currentColor,e="".concat(n.r,",").concat(n.g,",").concat(n.b),i=this.option("rtlEnabled"),t="rgba(".concat(e,", ").concat(i?"1":"0",")"),a="rgba(".concat(e,", ").concat(i?"0":"1",")"),o="linear-gradient(-90deg, ".concat(t,", ").concat(a,")");r.css("backgroundImage",o)},_renderAlphaChannelInput:function(){var r=this,n=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);r._alphaChannelInput=this._renderEditorWithLabel({editorType:un,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(e){var i=e.value;i=r._currentColor.isValidAlpha(i)?i:r._currentColor.a,e.event&&r._saveValueChangeEvent(e.event),r._updateColorTransparency(i),r._placeAlphaChannelHandle()},labelClass:dl,labelText:"Alpha",labelAriaText:Qt.format("dxColorView-ariaAlpha")}).appendTo(n).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(r){this._currentColor.a=r,this.applyColor()},_renderAlphaChannelHandle:function(r){this._$alphaChannelHandle=Ut("<div>").addClass(pl).appendTo(r),this._createComponent(this._$alphaChannelHandle,wn,{contentTemplate:null,boundary:r,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:n=>{var{event:e}=n;this._updateByDrag=!0;var i=this._$alphaChannelHandle,t=sn(i).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(e),this._calculateColorTransparencyByScaleWidth(t)}}),this._alphaChannelHandleWidth=Mr(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=Mr(r)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(r){var n=(r-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,e=this.option("rtlEnabled");n=e?n:1-n,r>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?n=e?1:0:n<1&&(n=n.toFixed(2));var i=this._alphaChannelInput.option("value");n=Math.max(n,0),n=Math.min(n,1),n===i?this._updateByDrag=!1:this._alphaChannelInput.option("value",n)},_placeAlphaChannelHandle:function(){var r=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);r<0&&(r=0),this._alphaChannelScaleWorkWidth<r&&(r=this._alphaChannelScaleWorkWidth),hn(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-r:r})},applyColor:function(){var r=this.option("value"),n=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),n===r?this._updateByDrag=!1:this.option("value",n)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(r,n){var e,i;r?i=this._validateHex("#"+this._hexInput.option("value")):(e=this._validateRgb(),this._alphaChannelInput?(e.push(this._alphaChannelInput.option("value")),i="rgba("+e.join(", ")+")"):i="rgb("+e.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new er(i),this._saveValueChangeEvent(n.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(r){return this._currentColor.isValidHex(r)?r:this._currentColor.toHex()},_validateRgb:function(){var r=this._rgbInputs[0].option("value"),n=this._rgbInputs[1].option("value"),e=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(r,n,e)||(r=this._currentColor.r,n=this._currentColor.g,e=this._currentColor.b),[r,n,e]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(r){var n=r.value;switch(r.name){case"value":this._setCurrentColor(n),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(r);break;case"matchValue":this._setBaseColor(n);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(r)}}});oi("dxColorView",si);class Ol{constructor(){this._collection=[]}clear(){this._collection=[]}add(n,e){this._collection.push({name:n,instance:e})}remove(n){this._collection=this._collection.filter(e=>e.name!==n)}getByName(n){var e=null;return Ce(this._collection,(i,t)=>{var{name:a,instance:o}=t;if(a===n)return e=o,!1}),e}each(n){this._collection.forEach(e=>{var{name:i,instance:t}=e;return t&&n(i,t)})}}var El=["table","tableHeaderCell"],Cl=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function ho(r){var n=r.getModule("table");return n!=null&&n.tableFormats?n.tableFormats():El}function Tl(r,n){return!!n&&r.quill.getText(n).length<n.length}function pn(r,n){var{tableBlot:e,quill:i}=n,t=e??i.scroll.find(r.get(0));t.format("tableWidth","initial")}function Bn(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("tr").eq(n).find("th, td")}function vn(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",e=[],i=n==="horizontal",t=i?Bn(r):ui(r);return t.each((a,o)=>{var u=Ut(o);u.get(0).style[i?"width":"height"]===""&&e.push(u)}),e}function Xe(r,n){var{elements:e,property:i,value:t}=n,a=r.quill.getModule("table").tableBlots,o="cell".concat(ai(i,!0));Ce(e,(u,p)=>{var S,A=r.quill.scroll.find(p);if(!a.includes(A.statics.blotName)){var E=A.descendant(g=>a.includes(g.statics.blotName));A=E?E[0]:null}(S=A)===null||S===void 0||S.format(o,t+"px")})}function pr(r,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"horizontal";return e==="horizontal"?ui(r,n):Bn(r,n)}function ui(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("th:nth-child(".concat(1+n,"), td:nth-child(").concat(1+n,")"))}function Pr(r,n){for(var e=arguments.length,i=new Array(e>2?e-2:0),t=2;t<e;t++)i[t-2]=arguments[t];return()=>{var a=r.getModule("table");if(a)return r.focus(),a[n](...i)}}var gn="dx-colorbox",po=gn+"-input",Sl=po+"-container",Al=gn+"-color-result-preview",Di=gn+"-color-is-not-defined",Rl=gn+"-overlay",Il="dx-colorview-container-cell",xl="dx-colorview-button-cell",wl="dx-colorview-buttons-container",Pl="dx-colorview-apply-button",Nl="dx-colorview-cancel-button",In=si.prototype,Yr={makeTransparentBackground:In._makeTransparentBackground.bind(In),makeRgba:In._makeRgba.bind(In)},mn=ea.inherit({_supportedKeys:function(){var r=function(n){if(n.stopPropagation(),this.option("opened"))return n.preventDefault(),!0};return le(this.callBase(),{tab:function(n){if(this.option("opened")){var e=n.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&(ue.trigger(e,"focus"),e.select()),n.preventDefault()}},enter:this._enterKeyHandler,leftArrow:r,rightArrow:r,upArrow:function(n){return this.option("opened")?n.altKey?(this.close(),!1):!0:(n.preventDefault(),!1)},downArrow:function(n){return!this.option("opened")&&!n.altKey?(n.preventDefault(),!1):!this.option("opened")&&n.altKey?(this._validatedOpening(),!1):!0}})},_getDefaultOptions:function(){return le(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),this.option("applyValueMode")==="useButtons"&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return le(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var r=this._popup.bottomToolbar();r&&(r.addClass(Il).addClass(xl).find(".dx-toolbar-items-container").addClass(wl),r.find(".dx-popup-done").addClass(Pl),r.find(".dx-popup-cancel").addClass(Nl))},_createColorView:function(){this._popup.$overlayContent().addClass(Rl);var r=Ut("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(r,si,this._colorViewConfig()),this._colorView.registerKeyHandler("escape",this._escapeHandler.bind(this)),ue.on(r,"focus",function(){this.focus()}.bind(this))},_escapeHandler:function(){this.close(),this.focus()},_getFirstPopupElement:function(){return Ut(this._colorView._rgbInputs[0].element()).find("input")},_applyNewColor:function(r){this.option("value",r),r&&Yr.makeTransparentBackground(this._$colorResultPreview,r),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var r=this;return{value:r.option("value"),matchValue:r.option("value"),editAlphaChannel:r.option("editAlphaChannel"),applyValueMode:r.option("applyValueMode"),focusStateEnabled:r.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),onEnterKeyPressed:function(n){var{event:e}=n;r._colorViewEnterKeyPressed=!0,r._colorView.option("value")!==r.option("value")&&(r._saveValueChangeEvent(e),r._applyNewColor(r._colorView.option("value")),r.close())},onValueChanged:function(n){var{event:e,value:i,previousValue:t}=n,a=r.option("applyValueMode")==="instantly",o=Yr.makeRgba(i)===t,u=a||r._colorViewEnterKeyPressed,p=r._shouldSaveEmptyValue;o||!u||p||(e&&r._saveValueChangeEvent(e),r._applyNewColor(i))}}},_enterKeyHandler:function(r){var n=this._input().val(),{value:e,editAlphaChannel:i}=this.option(),t=e&&i?Yr.makeRgba(e):e;if(!n)return!1;var a=new er(n);if(a.colorIsInvalid){this._input().val(t);return}if(n!==t&&(this._applyColorFromInput(n),this._saveValueChangeEvent(r),this.option("value",this.option("editAlphaChannel")?Yr.makeRgba(n):n)),this._colorView){var o=this._colorView.option("value");e!==o&&(this._saveValueChangeEvent(r),this.option("value",o))}return this.close(),!1},_applyButtonHandler:function(r){this._saveValueChangeEvent(r.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass(gn),this.callBase()},_renderInput:function(){this.callBase(),this._input().addClass(po),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner(Ut("<div>").addClass(Sl)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Ut("<div>").addClass(Al).appendTo(this._$textEditorInputContainer),this.option("value")?Yr.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Di)},_renderValue:function(){var{value:r,editAlphaChannel:n}=this.option(),e=r&&n,i=e?Yr.makeRgba(r):r;return this.option("text",i),this.callBase()},_resetInputValue:function(){var r=this._input(),n=this.option("value");r.val(n),this._updateColorViewValue(n)},_updateColorViewValue:function(r){this._colorView&&this._colorView.option({value:r,matchValue:r})},_valueChangeEventHandler:function(r){var n=this._input().val();n&&(n=this._applyColorFromInput(n),this._updateColorViewValue(n)),this.callBase(r,n)},_applyColorFromInput:function(r){var n=new er(r);return n.colorIsInvalid&&(this._resetInputValue(),r=this.option("value")),r},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(r){var n=r.value,e=r.name;switch(e){case"value":this._$colorBoxInputContainer.toggleClass(Di,!n),n?Yr.makeTransparentBackground(this._$colorResultPreview,n):this._$colorResultPreview.removeAttr("style"),n===null&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(n),this._shouldSaveEmptyValue=!1,this.callBase(r);break;case"applyButtonText":case"cancelButtonText":this.callBase(r),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(e,n);break;default:this.callBase(r)}}});oi("dxColorBox",mn);var Ll=["imageSrc","src"],Ml=ln.current().deviceType==="phone",Bl="dxHtmlEditor-dialogImageCaption",Dl="dxHtmlEditor-dialogUpdateImageCaption",jl="dxHtmlEditor-dialogImageUrlField",Hl="dxHtmlEditor-dialogImageAltField",kl="dxHtmlEditor-dialogImageWidthField",Fl="dxHtmlEditor-dialogImageHeightField",Ul="dxHtmlEditor-dialogImageAddButton",Wl="dxHtmlEditor-dialogImageUpdateButton",$l="dxHtmlEditor-dialogImageSpecifyUrl",zl="dxHtmlEditor-dialogImageSelectFile",Kl="dxHtmlEditor-dialogImageKeepAspectRatio",Vl="dxHtmlEditor-dialogImageEncodeToBase64",Gl="dx-htmleditor-add-image-popup",ql="dx-htmleditor-add-image-popup-with-tabs",Xl="dx-fix-ratio-container",ji="dx-formdialog",Hi="user",ki="silent",Ql="dx-htmleditor-image";class Yl{constructor(n,e){this.module=n,this.config=e??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var n=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(n).done((e,i)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(e,i)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){var n=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(n)}setAddButtonDisabled(n){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":n})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(n){var{imageSrc:e,src:i}=n,t=ra(n,Ll);return to({src:e??i},t)}createUrlTab(n){return new Zl(this.module,{config:this.config,formData:n,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new Jl(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.length===0||this.isUpdating?["url"]:n.map(e=>typeof e=="object"?e.name:e)}createTabs(n){return this.tabsModel.map(e=>{var i=e==="url";return i?this.createUrlTab(n):this.createFileTab()})}isImageUpdating(){var n;return Object.prototype.hasOwnProperty.call((n=this.module.quill.getFormat())!==null&&n!==void 0?n:{},"imageSrc")}updatePopupConfig(){var n="".concat(Gl," ").concat(ji);this.useTabbedItems()&&(n+=" ".concat(ql));var e=this.isUpdating?Dl:Bl,i=this.isUpdating?Wl:Ul;this.editorInstance.formDialogOption({title:Qt.format(e),"toolbarItems[0].options.text":Qt.format(i),wrapperAttr:{class:n}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":Qt.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:ji}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return Ml?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){if(this.useTabbedItems()){var n=na(this.tabs,e=>({title:e.getTabName(),colCount:11,items:e.getItemsConfig()}));return[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:e=>{this.tabPanelIndex=e.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:n}]}return this.tabs[0].getItemsConfig()}}class vo{constructor(n,e,i){var{config:t,formData:a,isUpdating:o}=e;this.module=n,this.config=t,this.formData=a,this.isUpdating=o,this.onFileSelected=i,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new ts(this.module,this.config,this.formData):new yo(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class Zl extends vo{getTabName(){return Qt.format($l)}}class Jl extends vo{getTabName(){return Qt.format(zl)}createStrategy(){return new es(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class mo{constructor(n,e){this.module=n,this.config=e,this.editorInstance=n.editorInstance,this.quill=n.quill,this.selection=this.getQuillSelection()}getQuillSelection(){var n=this.quill.getSelection();return n??{index:this.quill.getLength(),length:0}}pasteImage(){}isValid(){return!0}upload(){}}class yo extends mo{constructor(n,e,i){super(n,e,i),this.shouldKeepAspectRatio=!0}pasteImage(n,e){this.module.saveValueChangeEvent(e),ci(this.quill,this.selection.index,n)}keepAspectRatio(n,e){var{dependentEditor:i,e:t}=e,a=parseInt(t.value),o=parseInt(t.previousValue),u=parseInt(i.option("value"));n.component.updateData(n.dataField,a),this.shouldKeepAspectRatio&&u&&o&&!this.preventRecalculating&&(this.preventRecalculating=!0,i.option("value",Math.round(a*u/parseInt(o)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(n,e,i){return this.editorInstance._createComponent(n,Xn,le(!0,e.editorOptions,{value:e.component.option("formData")[e.dataField],onEnterKey:e.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,e),onValueChanged:t=>{this.keepAspectRatio(e,{dependentEditor:this[i+"Editor"],e:t})}}))}upload(){var n=this.editorInstance._formDialog._form.validate();return n.isValid}getItemsConfig(){return[{dataField:"src",colSpan:11,label:{text:Qt.format(jl)},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:Qt.format(kl)},template:n=>{var e=Ut("<div>").addClass(Xl),i=Ut("<div>").appendTo(e);this.widthEditor=this.createKeepAspectRatioEditor(i,n,"height");var t=Ut("<div>").appendTo(e);return this.editorInstance._createComponent(t,Ln,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:Qt.format(Kl),focusStateEnabled:!1,keyExpr:"value",stylingMode:"outlined",selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:a=>{this.shouldKeepAspectRatio=!!a.component.option("selectedItems").length}}),e}},{dataField:"height",colSpan:5,label:{text:Qt.format(Fl)},template:n=>{var e=Ut("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(e,n,"width"),e}},{dataField:"alt",colSpan:11,label:{text:Qt.format(Hl)}}]}}class ts extends yo{constructor(n,e,i,t){super(n,e,t),this.formData=i,this.modifyFormData()}modifyFormData(){var{imageSrc:n}=this.quill.getFormat(this.selection.index-1,1);(!n||this.selection.index===0)&&(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,ki));var e=this.quill.getLeaf(this.selection.index)[0].domNode;if(e){var i,t;this.formData.width=(i=this.formData.width)!==null&&i!==void 0?i:Mr(Ut(e)),this.formData.height=(t=this.formData.height)!==null&&t!==void 0?t:Lr(Ut(e))}}pasteImage(n,e){this.quill.deleteText(this.embedFormatIndex(),1,ki),this.selection.index-=1,super.pasteImage(n,e)}embedFormatIndex(){var n,e=(n=this.selection)!==null&&n!==void 0?n:this.quill.getSelection();return e?e.length?e.index:e.index-1:this.quill.getLength()}}class es extends mo{constructor(n,e,i){super(n,e,i),this.useBase64=!ye(this.config.fileUploadMode)||this.config.fileUploadMode==="base64",this.isValidInternal=!1,this.onFileSelected=i,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}closeDialogPopup(n){this.editorInstance._formDialog.hide({file:n.value?n.value[0]:n.file},n.event)}serverUpload(n){if(!this.useBase64){var e=go(this.config.uploadDirectory)+n.file.name;ci(this.quill,this.selection.index,{src:e}),this.closeDialogPopup(n)}}base64Upload(n){this.quill.getModule("uploader").upload(this.selection,n.value,!0),this.closeDialogPopup(n)}pasteImage(n,e){this.useBase64&&super.pasteImage(n,e)}isBase64Editable(){return this.config.fileUploadMode==="both"}validate(n){var e=n.component;this.isValidInternal=!e._files.some(i=>!i.isValid()),e._files.length===0&&(this.isValidInternal=!1)}getFileUploaderOptions(){var n={uploadUrl:this.config.uploadUrl,onValueChanged:e=>{this.validate(e),this.data=e,this.onFileSelected()},onUploaded:e=>this.serverUpload(e)};return le({},bo(),n,this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{var n=Ut("<div>");return this.module.editorInstance._createComponent(n,ao,this.getFileUploaderOptions()),n}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:Qt.format(Vl),onValueChanged:n=>{this.isBase64Editable()&&(this.useBase64=n.value)}}}]}}function go(r){return r[r.length-1]!=="/"?r+"/":r}function bo(){return{value:[],name:Ql,accept:"image/*",uploadMode:"useButtons"}}function ci(r,n,e){r.insertEmbed(n,"extendedImage",e,Hi),r.setSelection(n+1,0,Hi)}var rs=400,_o=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],Br="user",ns="silent",is="dxHtmlEditor-dialogColorCaption",os="dxHtmlEditor-dialogBackgroundCaption",as="dxHtmlEditor-dialogLinkCaption",ls="dxHtmlEditor-dialogInsertTableCaption",ss="dxHtmlEditor-dialogLinkUrlField",us="dxHtmlEditor-dialogLinkTextField",cs="dxHtmlEditor-dialogLinkTargetField",fs="dx-formdialog-field-target",hs="dxHtmlEditor-dialogInsertTableRowsField",ds="dxHtmlEditor-dialogInsertTableColumnsField",Oo={insertHeaderRow:"header",clear:"clearformat"};function Eo(r){return{clear:n=>{var{event:e}=n,i=r.quill.getSelection();if(i){var t;r.saveValueChangeEvent(e),r.quill.removeFormat(i),(t=fi(r))===null||t===void 0||t.updateFormatWidgets()}},link:ms(r),image:ys(r,r.editorInstance.option("imageUpload")),color:$i(r,"color"),background:$i(r,"background"),orderedList:Nr(r,"list","ordered"),bulletList:Nr(r,"list","bullet"),alignLeft:Nr(r,"align","left"),alignCenter:Nr(r,"align","center"),alignRight:Nr(r,"align","right"),alignJustify:Nr(r,"align","justify"),codeBlock:hi(r,"code-block"),undo:n=>{var{event:e}=n;r.saveValueChangeEvent(e),r.quill.history.undo()},redo:n=>{var{event:e}=n;r.saveValueChangeEvent(e),r.quill.history.redo()},increaseIndent:n=>{var{event:e}=n;tn(r,["indent","+1",Br],e)},decreaseIndent:n=>{var{event:e}=n;tn(r,["indent","-1",Br],e)},superscript:Nr(r,"script","super"),subscript:Nr(r,"script","sub"),insertTable:_s(r),insertHeaderRow:Pr(r.quill,"insertHeaderRow"),insertRowAbove:Pr(r.quill,"insertRowAbove"),insertRowBelow:Pr(r.quill,"insertRowBelow"),insertColumnLeft:Pr(r.quill,"insertColumnLeft"),insertColumnRight:Pr(r.quill,"insertColumnRight"),deleteColumn:Pr(r.quill,"deleteColumn"),deleteRow:Pr(r.quill,"deleteRow"),deleteTable:Pr(r.quill,"deleteTable"),cellProperties:Ui(r,"cell"),tableProperties:Ui(r,"table")}}function Fi(r,n){var{contentTemplate:e,title:i,minHeight:t,minWidth:a,maxWidth:o}=n;r.formDialogOption({contentTemplate:e,title:i,minHeight:t??0,minWidth:a??0,maxWidth:o??"none"})}function Ui(r,n){return e=>{var i,t;(i=e)!==null&&i!==void 0&&i.length||(e=Ut(ps(r,n)));var[a,o]=(t=r.quill.getModule("table").getTable())!==null&&t!==void 0?t:[],u=r.quill.getFormat(r.editorInstance.getSelection(!0)),p=Cs(n)(r,{$element:e,formats:u,tableBlot:a,rowBlot:o}),{contentTemplate:S,title:A,minHeight:E,minWidth:g,maxWidth:w}=r.editorInstance._formDialog._popup.option(),_={contentTemplate:S,title:A,minHeight:E,minWidth:g,maxWidth:w},b;r.editorInstance.formDialogOption({contentTemplate:P=>{var v=Ut("<div>").appendTo(P),x=Ut("<div>").appendTo(v);return r.editorInstance._createComponent(x,eo,p.formOptions),r.editorInstance._createComponent(v,ia,{}),b=x.dxForm("instance"),v},title:Qt.format("dxHtmlEditor-".concat(n,"Properties")),minHeight:rs,minWidth:Math.min(800,.9*Mr(Jr())-1),maxWidth:.9*Mr(Jr())});var R=r.editorInstance.showFormDialog();R.done((P,v)=>{r.saveValueChangeEvent(v),p.applyHandler(b),Fi(r.editorInstance,_)}),R.fail(()=>{r.quill.focus(),Fi(r.editorInstance,_)})}}function tn(r,n,e){r.saveValueChangeEvent(e),r.quill.format(...n)}function ps(r,n){var e=r.quill.getModule("table").getTable();return n==="table"?e[0].domNode:e[2].domNode}function vs(r,n){var e=so(),i=e.import("formats/link"),[t,a]=r.quill.scroll.descendant(i,n.index),o=t?{index:n.index-a,length:t.length()}:null;return o}function Wi(r){return Array.isArray(r)?r[0]:r}function ms(r){return()=>{var n;r.quill.focus();var e=r.quill.getSelection(),i=e?r.quill.getFormat():{},t=i.link!==void 0&&((n=e)===null||n===void 0?void 0:n.length)===0,a=i.link||"";if(t){var o=vs(r,e);o?e=o:a=""}var u=Tl(r,e),p={href:a,text:e&&!u?r.quill.getText(e):"",target:Object.prototype.hasOwnProperty.call(i,"target")?!!i.target:!0};r.editorInstance.formDialogOption("title",Qt.format(as));var S=r.editorInstance.showFormDialog({formData:p,items:gs(u)});S.done((A,E)=>{if(e&&!u){var g=A.text||A.href,{index:w,length:_}=e;A.text=void 0,r.saveValueChangeEvent(E),_&&r.quill.deleteText(w,_,ns),r.quill.insertText(w,g,"link",A,Br),r.quill.setSelection(w+g.length,0,Br)}else A.text=!e&&!A.text?A.href:A.text,tn(r,["link",A,Br],E)}),S.fail(()=>{r.quill.focus()})}}function ys(r,n){var e=new Yl(r,n);return()=>{e.render()}}function gs(r){return[{dataField:"href",label:{text:Qt.format(ss)}},{dataField:"text",label:{text:Qt.format(us)},visible:!r},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:Qt.format(cs)},cssClass:fs,label:{visible:!1}}]}function $i(r,n){return()=>{var e=r.quill.getFormat(),i=n==="color"?is:os;r.editorInstance.formDialogOption("title",Qt.format(i));var t=r.editorInstance.showFormDialog({formData:e,items:[{dataField:n,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});t.done((a,o)=>{tn(r,[n,a[n],Br],o)}),t.fail(()=>{r.quill.focus()})}}function Nr(r,n,e){return i=>{var t,{event:a}=i,o=r.quill.getFormat(),u=o[n]===e?!1:e;tn(r,[n,u,Br],a),(t=fi(r))===null||t===void 0||t.updateFormatWidgets(!0)}}function fi(r){return r._updateFormatWidget?r:r.quill.getModule("toolbar")}function hi(r,n){return e=>{var i,{event:t}=e,a=r.quill.getFormat(),o=a[n],u=!(oa(o)?o:ye(o));tn(r,[n,u,Br],t),(i=fi(r))===null||i===void 0||i._updateFormatWidget(n,u,a)}}function bs(){return[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(hs)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(ds)}}]}function _s(r){return()=>{var n=r.quill.getFormat(),e=r._tableFormats.some(t=>Object.prototype.hasOwnProperty.call(n,t));if(e){r.quill.focus();return}r.editorInstance.formDialogOption("title",Qt.format(ls));var i=r.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:bs()});i.done((t,a)=>{r.quill.focus();var o=r.quill.getModule("table");if(o){r.saveValueChangeEvent(a);var{columns:u,rows:p}=t;o.insertTable(u,p)}}).always(()=>{r.quill.focus()})}}function Os(r,n){var{$element:e,formats:i,tableBlot:t}=n,a=Jr(),o,u,p,S=e,A=r.editorInstance,E=parseInt(i.tableWidth)||ge(S),g=a.getComputedStyle(S.get(0)),w=g.textAlign==="start"?"left":g.textAlign,_={colCount:2,formData:{width:E,height:ye(i.tableHeight)?parseInt(i.tableHeight):Sr(S),backgroundColor:i.tableBackgroundColor||g.backgroundColor,borderStyle:i.tableBorderStyle||g.borderTopStyle,borderColor:i.tableBorderColor||g.borderTopColor,borderWidth:parseInt(ye(i.tableBorderWidth)?i.tableBorderWidth:g.borderTopWidth),alignment:i.tableAlign||w},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:_o,placeholder:"Select style"}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},colSpan:2,template:b=>{var R=Ut("<div>");return A._createComponent(R,mn,{editAlphaChannel:!0,value:b.component.option("formData").borderColor,onInitialized:P=>{u=P.component}}),R}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:b=>{var R=Ut("<div>");return A._createComponent(R,mn,{editAlphaChannel:!0,value:b.component.option("formData").backgroundColor,onInitialized:P=>{p=P.component}}),R}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var b=Ut("<div>");return A._createComponent(b,Ln,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[w],onInitialized:R=>{o=R.component}}),b}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:_,applyHandler:b=>{var R=b.option("formData"),P=R.width===E?void 0:R.width,v=R.height;Ts(r,{$table:S,newHeight:v,newWidth:P,tableBlot:t}),r.editorInstance.format("tableBorderStyle",R.borderStyle),r.editorInstance.format("tableBorderWidth",R.borderWidth+"px"),r.editorInstance.format("tableBorderColor",u.option("value")),r.editorInstance.format("tableBackgroundColor",p.option("value")),r.editorInstance.format("tableTextAlign",o.option("selectedItemKeys")[0])}}}function Es(r,n){var{$element:e,formats:i,tableBlot:t,rowBlot:a}=n,o=Jr(),u,p,S,A,E=e,g=ye(i.cellWidth)?parseInt(i.cellWidth):ge(E),w=r.editorInstance,_=o.getComputedStyle(E.get(0)),b=_.textAlign==="start"?"left":_.textAlign,R={colCount:2,formData:{width:g,height:ye(i.cellHeight)?parseInt(i.cellHeight):Sr(E),backgroundColor:Wi(i.cellBackgroundColor)||_.backgroundColor,borderStyle:i.cellBorderStyle||_.borderTopStyle,borderColor:Wi(i.cellBorderColor)||_.borderTopColor,borderWidth:parseInt(ye(i.cellBorderWidth)?i.cellBorderWidth:_.borderTopWidth),alignment:i.cellTextAlign||b,verticalAlignment:i.cellVerticalAlign||_.verticalAlign,verticalPadding:parseInt(ye(i.cellPaddingTop)?i.cellPaddingTop:_.paddingTop),horizontalPadding:parseInt(ye(i.cellPaddingLeft)?i.cellPaddingLeft:_.paddingLeft)},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:_o}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:Qt.format("dxHtmlEditor-borderColor")},template:P=>{var v=Ut("<div>");return w._createComponent(v,mn,{editAlphaChannel:!0,value:P.component.option("formData").borderColor,onInitialized:x=>{S=x.component}}),v}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:Qt.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{label:{text:Qt.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:P=>{var v=Ut("<div>");return w._createComponent(v,mn,{editAlphaChannel:!0,value:P.component.option("formData").backgroundColor,onInitialized:x=>{A=x.component}}),v}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var P=Ut("<div>");return w._createComponent(P,Ln,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[b],onInitialized:v=>{u=v.component}}),P}},{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-vertical")},template:()=>{var P=Ut("<div>");return w._createComponent(P,Ln,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[_.verticalAlign],onInitialized:v=>{p=v.component}}),P}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:R,applyHandler:P=>{var v=P.option("formData"),x=v.width===parseInt(g)?void 0:v.width,U=v.height;Ss(r,{$cell:E,newHeight:U,newWidth:x,tableBlot:t,rowBlot:a}),r.editorInstance.format("cellBorderWidth",v.borderWidth+"px"),r.editorInstance.format("cellBorderColor",S.option("value")),r.editorInstance.format("cellBorderStyle",v.borderStyle),r.editorInstance.format("cellBackgroundColor",A.option("value")),r.editorInstance.format("cellTextAlign",u.option("selectedItemKeys")[0]),r.editorInstance.format("cellVerticalAlign",p.option("selectedItemKeys")[0]),r.editorInstance.format("cellPaddingLeft",v.horizontalPadding+"px"),r.editorInstance.format("cellPaddingRight",v.horizontalPadding+"px"),r.editorInstance.format("cellPaddingTop",v.verticalPadding+"px"),r.editorInstance.format("cellPaddingBottom",v.verticalPadding+"px")}}}function Cs(r){return r==="cell"?Es:Os}function Ts(r,n){var{$table:e,newHeight:i,newWidth:t,tableBlot:a}=n;if(ye(t)){var o=vn(e);if(o.length>0)r.editorInstance.format("tableWidth",t+"px");else{var u=Bn(e),p=ge(e);pn(e,{tableBlot:a}),Ce(u,(g,w)=>{var _=Ut(w),b=t/p*ge(_),R=pr(e,_.index(),"horizontal");Xe(r,{elements:R,property:"width",value:b})})}}var S=vn(e,"vertical");if((S==null?void 0:S.length)>0)a.format("tableHeight",i+"px");else{var A=ui(e),E=Sr(e);Ce(A,(g,w)=>{var _=Ut(w),b=i/E*Sr(_),R=pr(e,g,"vertical");Xe(r,{elements:R,property:"height",value:b})})}}function Ss(r,n){var{$cell:e,newHeight:i,newWidth:t,tableBlot:a,rowBlot:o}=n,u=Ut(e.closest("table"));if(ye(t)){var p=Ut(e).index(),S=pr(u,p),A=t-ge(e),E=ge(u);t>E&&pn(u,{tableBlot:a}),Xe(r,{elements:S,property:"width",value:t});var g=e.next(),w=vn(u).length===0;if(w)if(pn(u,{tableBlot:a}),g.length===1){S=pr(u,p+1);var _=ge(S.eq(0))-A;Xe(r,{elements:S,property:"width",value:Math.max(_,0)})}else{var b=e.prev();if(b.length===1){S=pr(u,p-1);var R=ge(S.eq(0))-A;Xe(r,{elements:S,property:"width",value:Math.max(R,0)})}}}o.children.forEach(v=>{v.format("cellHeight",i+"px")});var P=vn(u,"vertical");P.length===0&&u.css("height","auto")}var Co=xe;if(se){var zi="dx-htmleditor-toolbar-wrapper",As="dx-htmleditor-toolbar",Rs="dx-htmleditor-toolbar-format",Is="dx-htmleditor-toolbar-separator",xs="dx-htmleditor-toolbar-menu-separator",Ki="dx-format-active",ws="dx-icon",Ps="selection-change",Ns="user",Ls="silent",Ms={66:"bold",73:"italic",85:"underline"},Fn={b:66,i:73,u:85},on=r=>Qt.format("dxHtmlEditor-".concat(ai(r))),Bs=(r,n)=>{if(n==="header"){var e=ye(r)&&r!==!1;return e?"".concat(on("heading")," ").concat(r):on("normalText")}return on(r)||r};Co=class extends xe{constructor(r,n){var e;if(super(r,n),e=this,this._toolbarWidgets=new Ol,this._formatHandlers=Eo(this),this._tableFormats=ho(r),ye(n.items)){this._addCallbacks(),this._renderToolbar();var i=this.toolbarInstance._layoutStrategy._menu;if(i){var t=i._renderPopup;i._renderPopup=function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];t.apply(i,...o),i._popup.on("showing",()=>{e._updateToolbar(!0)})}}this.quill.on("editor-change",(a,o,u,p)=>{var S=p===Ls&&Pn(this.quill.getFormat());if(!S){var A=a===Ps;this._updateToolbar(A)}})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(r){this.updateFormatWidgets(r),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(r,n,e){var i=this._toolbarWidgets.getByName(r);i&&(n?this._markActiveFormatWidget(r,i,e):(this._resetFormatWidget(r,i),Object.prototype.hasOwnProperty.call(r)&&delete e[r]),this._toggleClearFormatting(n||!Pn(e)))}_renderToolbar(){var r=this.options.container||this._getContainer();this._$toolbar=Ut("<div>").addClass(As).appendTo(r),this._$toolbarContainer=Ut(r).addClass(zi),ue.on(this._$toolbarContainer,Ae("mousedown",this.editorInstance.NAME),n=>{n.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,aa,this.toolbarConfig),this.editorInstance.on("optionChanged",n=>{var{name:e}=n;(e==="readOnly"||e==="disabled")&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var r;return(r=this.options.multiline)!==null&&r!==void 0?r:!0}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(zi)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var r=Ut("<div>");return this.editorInstance.$element().prepend(r),r}_detectRenamedOptions(r){Zr(r)&&Ce([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(n,e)=>{Object.prototype.hasOwnProperty.call(r,e.oldName)&&ii.log("W1016",e.oldName,e.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:Fn.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Fn.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Fn.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(r,n,e){var{which:i}=e,t=Ms[i];this._updateButtonState(t)}_updateButtonState(r){var n=this._toolbarWidgets.getByName(r),e=this.quill.getFormat(),i=e[r];i?this._markActiveFormatWidget(r,n,e):this._resetFormatWidget(r,n)}_prepareToolbarItems(){var r=[];return Ce(this.options.items,(n,e)=>{var i;if(this._detectRenamedOptions(e),Zr(e))i=this._handleObjectItem(e);else if(li(e)){var t=this._prepareButtonItemConfig(e);i=this._getToolbarItem(t)}i&&r.push(i)}),r}_handleObjectItem(r){if(r.name&&r.acceptedValues&&this._isAcceptableItem(r.widget,"dxSelectBox")){var n=this._prepareSelectItemConfig(r);return this._getToolbarItem(n)}else if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var e=this._prepareButtonItemConfig(r.name),i=le(!0,e,r);return this._getToolbarItem(i)}else return this._getToolbarItem(r)}_isAcceptableItem(r,n){return!r||r===n}_prepareButtonItemConfig(r){var n,e=(n=Oo[r])!==null&&n!==void 0?n:r,i=Nn(r);return{widget:"dxButton",name:r,options:{hint:on(i),text:on(i),icon:e.toLowerCase(),onClick:this._formatHandlers[r]||hi(this,r),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(r){var{name:n,acceptedValues:e}=r;return le(!0,{widget:"dxSelectBox",name:n,options:{stylingMode:"filled",dataSource:e,displayExpr:i=>Bs(i,n),placeholder:on(n),onValueChanged:i=>{this._isReset||(this._hideAdaptiveMenu(),tn(this,[n,i.value,Ns],i.event),this._setValueSilent(i.component,i.value))}}},r)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(r){var n={options:{onInitialized:e=>{r.name&&(e.component.$element().addClass(Rs),e.component.$element().toggleClass("dx-".concat(r.name.toLowerCase(),"-format"),!!r.name),this._toolbarWidgets.add(r.name,e.component))},onDisposing:()=>{this._toolbarWidgets.remove(r.name)}}};return le(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(r.name),r,n)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(r,n,e)=>{Ut(e).addClass(Is)},menuItemTemplate:(r,n,e)=>{Ut(e).addClass(xs)}}}}_getDefaultConfig(r){return this._getDefaultItemsConfig()[r]}updateHistoryWidgets(){var r=this.quill.history;if(r){var{undo:n,redo:e}=r.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!n.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!e.length)}}updateTableWidgets(){var r=this.quill.getModule("table");if(r){var n=this.quill.getSelection(),e=n&&this.quill.getFormat(n)||{},i=this._tableFormats.some(t=>!!e[t]);Cl.forEach(t=>{var a=t==="insertTable",o=this._toolbarWidgets.getByName(t);this._updateManipulationWidget(o,a?!i:i)})}}_updateManipulationWidget(r,n){r&&r.option("disabled",!n)}updateFormatWidgets(r){var n=this.quill.getSelection();if(n){var e=this.quill.getFormat(n),i=!Pn(e);(!i||r)&&this._resetFormatWidgets();for(var t in e){var a=this._getFormatWidgetName(t,e),o=this._toolbarWidgets.getByName(a)||this._toolbarWidgets.getByName(t);o&&this._markActiveFormatWidget(t,o,e)}this._toggleClearFormatting(i||n.length>1)}}_markActiveFormatWidget(r,n,e){this._isColorFormat(r)&&this._updateColorWidget(r,e[r]),"value"in n.option()?this._setValueSilent(n,e[r]):n.$element().addClass(Ki)}_toggleClearFormatting(r){var n=this._toolbarWidgets.getByName("clear");n&&n.option("disabled",!r)}_isColorFormat(r){return r==="color"||r==="background"}_updateColorWidget(r,n){var e=this._toolbarWidgets.getByName(r);e&&e.$element().find(".".concat(ws)).css("borderBottomColor",n||"transparent")}_getFormatWidgetName(r,n){var e;switch(r){case"align":e=r+Nn(n[r]);break;case"list":e=n[r]+Nn(r);break;case"code-block":e="codeBlock";break;case"script":e=n[r]+r;break;case"imageSrc":e="image";break;default:e=r}return e}_setValueSilent(r,n){this._isReset=!0,r.option("value",n),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((r,n)=>{this._resetFormatWidget(r,n)})}_resetFormatWidget(r,n){n.$element().removeClass(Ki),this._isColorFormat(r)&&this._updateColorWidget(r),r==="clear"&&n.option("disabled",!0),n.NAME==="dxSelectBox"&&this._setValueSilent(n,null)}addClickHandler(r,n){this._formatHandlers[r]=n;var e=this._toolbarWidgets.getByName(r);e&&e.NAME==="dxButton"&&e.option("onClick",n)}}}const Ds=Co;var To=xe;se&&(To=class extends xe{constructor(r,n){super(r,n);var e=this.editorInstance.NAME;ue.on(this.quill.root,Ae("drop",e),this._dropHandler.bind(this)),ue.on(this.quill.root,Ae("paste",e),this._pasteHandler.bind(this))}_dropHandler(r){var n,e=r.originalEvent.dataTransfer,i=e==null||(n=e.files)===null||n===void 0?void 0:n.length;this.saveValueChangeEvent(r),r.preventDefault(),i&&this._getImage(e.files,this._addImage.bind(this))}_pasteHandler(r){var n,{clipboardData:e}=r.originalEvent;if(this.saveValueChangeEvent(r),!!e){var i=(n=e.items)===null||n===void 0?void 0:n.length,t=e.getData("text/html");!t&&i&&this._getImage(e.items,a=>{this._isBrowserSupportImagePaste(la)||this._addImage(a)})}}_isBrowserSupportImagePaste(r){var{mozilla:n,chrome:e,version:i}=r;return n||e&&i>82}_isImage(r){return!!r.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(r,n){var e=Jr();Ce(r,(i,t)=>{if(this._isImage(t)){var a=new e.FileReader;a.onload=u=>{var{target:p}=u;n(p.result)};var o=t.getAsFile?t.getAsFile():t;o instanceof e.Blob&&a.readAsDataURL(o)}})}_addImage(r){var n=this.quill.getSelection(),e=n?n.index:this.quill.getLength();this.quill.insertEmbed(e,"extendedImage",r,"user")}});const js=To;var Hs="dxHtmlEditorPopupModule",So=xe;if(se){var ks="dx-suggestion-list",Fs="dx-suggestion-list-wrapper",Us=100;So=class extends xe{_getDefaultOptions(){return{dataSource:null}}constructor(r,n){super(r,n),this.options=le({},this._getDefaultOptions(),n),this._popup=this.renderPopup(),this._popup.$wrapper().addClass(Fs),this._renderPreventFocusOut()}renderList(r,n){var e=Ut("<div>").addClass(ks).appendTo(r);this._list=this.options.editorInstance._createComponent(e,sa,n)}renderPopup(){var r=this.options.editorInstance,n=Ut("<div>").appendTo(r.$element()),e=this._getPopupConfig();return r._createComponent(n,ro,e)}_getPopupConfig(){return{contentTemplate:r=>{var n=this._getListConfig(this.options);this.renderList(Ut(r),n)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(r){return{dataSource:r.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var r=Jr(),n=r&&Lr(r)||0;return Math.max(Us,.5*n)}selectionChangedHandler(r){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(r))}_renderPreventFocusOut(){var r=Ae("mousedown",Hs);ue.on(this._popup.$wrapper(),r,n=>{n.preventDefault()})}insertEmbedContent(r){}showPopup(){this._popup&&this._popup.show()}savePosition(r){this.caretPosition=r}getPosition(){return this.caretPosition}}}const Ao=So;var fn={};if(se){var Ws=se.import("blots/embed"),$s="dx-variable";fn=class extends Ws{static create(r){var n=super.create(),e,i,t=r.value;return Array.isArray(r.escapeChar)?(e=Qn(r.escapeChar[0],""),i=Qn(r.escapeChar[1],"")):e=i=r.escapeChar,n.innerText=e+t+i,n.dataset.varStartEscChar=e,n.dataset.varEndEscChar=i,n.dataset.varValue=r.value,n}static value(r){return le({},{value:r.dataset.varValue,escapeChar:[r.dataset.varStartEscChar||"",r.dataset.varEndEscChar||""]})}},fn.blotName="variable",fn.tagName="span",fn.className=$s}const zs=fn;var Ro=xe;if(se){var Ks="dx-variable-format",Vs="dx-format-active";se.register({"formats/variable":zs},!0),Ro=class extends Ao{_getDefaultOptions(){var r=super._getDefaultOptions();return le(r,{escapeChar:""})}constructor(r,n){super(r,n);var e=r.getModule("toolbar");e&&e.addClickHandler("variable",this.showPopup.bind(this)),r.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",i=>{var t=Ut(i.component.option("position").of);t.hasClass(Ks)&&t.addClass(Vs)})}showPopup(r){var n=this.quill.getSelection(!0),e=n?n.index:this.quill.getLength();this.savePosition(e),this._resetPopupPosition(r,e),super.showPopup()}_resetPopupPosition(r,n){if(r&&r.element)this._popup.option("position",{of:r.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var e=this.quill.getBounds(n),i=dn(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:e.left,v:e.bottom-i.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(r){var n=this.getPosition(),e=r.component.option("selectedItem"),i=le({},{value:e,escapeChar:this.options.escapeChar});setTimeout(function(){this.quill.insertEmbed(n,"variable",i),this.quill.setSelection(n+1)}.bind(this))}}}const Gs=Ro;var qs="dx-resize-frame",Xs="dx-touch-device",yn="dxHtmlResizingModule",Vi=Ae("keydown",yn),Qs=Ae("scroll",yn),Ys=Ae("mousedown",yn),Un=1;class Zs extends xe{constructor(n,e){super(n,e),this.allowedTargets=e.allowedTargets||["image"],this.enabled=!!e.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){ue.on(this.quill.root,Ae(qn,yn),this._clickHandler.bind(this)),ue.on(this.quill.root,Qs,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){ue.off(this.quill.root,yn),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(n){if(this._isAllowedTarget(n.target)){if(this._$target===n.target)return;this._$target=n.target;var e=Ut(this._$target),i=Math.max(ge(e)-Mr(e),this.resizable.option("minWidth")),t=Math.max(Sr(e)-Lr(e),this.resizable.option("minHeight"));this.resizable.option({minWidth:i,minHeight:t}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(n){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(n){return this._isImage(n)}_isImage(n){return this.allowedTargets.indexOf("image")!==-1&&n.tagName.toUpperCase()==="IMG"}showFrame(){this._$resizeFrame.show(),ue.on(this.quill.root,Vi,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(n){var e=ua(n);(e==="del"||e==="backspace")&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),ue.off(this.quill.root,Vi)}updateFramePosition(){var{height:n,width:e,top:i,left:t}=dn(this._$target),{top:a,left:o}=dn(this.quill.root),u=this._getBorderWidth();this._$resizeFrame.css({height:n,width:e,padding:Un,top:i-a-u-Un,left:t-o-u-Un}),hn(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:n}=ln.current();this._$resizeFrame=Ut("<div>").addClass(qs).toggleClass(Xs,n!=="desktop").appendTo(this.editorInstance._getQuillContainer()).hide(),ue.on(this._$resizeFrame,Ys,e=>{e.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,ca,{onResize:e=>{this._$target&&(Ut(this._$target).attr({height:e.height,width:e.width}),this.updateFramePosition())}})}}_deleteImage(){if(this._isAllowedTarget(this._$target)){var n;(n=se.find(this._$target))===null||n===void 0||n.deleteAt(0)}}option(n,e){if(n==="mediaResizing"){this.handleOptionChangeValue(e);return}n==="enabled"?(this.enabled=e,e?this._attachEvents():this._detachEvents()):n==="allowedTargets"&&Array.isArray(e)&&(this.allowedTargets=e)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var Js="dx-table-resize-frame",Gi="dx-htmleditor-column-resizer",qi="dx-htmleditor-row-resizer",tu={minColumnWidth:40,minRowHeight:24},eu=2,Wn=3,di="dxHtmlTableResizingModule",Xi=Ae("dxpointerdown",di),ru=Ae("scroll",di);class nu extends xe{constructor(n,e){super(n,e),this.enabled=!!e.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",e.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",e.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(n){n?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=xi.add(this._resizeHandler.bind(this))}_minSizeLimit(n,e){return ye(e)?Math.max(e,0):tu[n]}_applyResizingImpl(){var n=this._findTables();n.length&&(this._fixTablesWidths(n),this._createResizeFrames(n),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){ue.on(this.editorInstance._getContent(),ru,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){ue.off(this.editorInstance._getContent(),di),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(n,e,i){return(t,a,o)=>{if(this._isTableChanging()){var u=this._findTables();this._removeResizeFrames(),o==="api"&&this._fixTablesWidths(u),this._updateTablesColumnsWidth(u),this._createResizeFrames(u),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(n){var e;return(e=this._framesForTables)===null||e===void 0?void 0:e.get(n.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var n=this._findTables();Ce(n,(e,i)=>{var t=Ut(i),a=this._tableResizeFrames[e],o=ge(t),u=this._tableLastWidth(a);Math.abs(o-u)>1&&(this._tableLastWidth(a,o),this._updateColumnsWidth(t,e))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return Ut(this._quillContainer).find("table")}_getWidthStyleValue(n){var e=n[0].style.width;return e!==""?parseInt(e):void 0}_tableLastWidth(n,e){if(ye(e))n.lastWidth=e;else return n==null?void 0:n.lastWidth}_fixTablesWidths(n){Ce(n,(e,i)=>{var t=Ut(i),a=this._getTableDeterminantElements(t,"horizontal");this._tableResizeFrames[e]||(this._tableResizeFrames[e]={lastWidth:void 0});var o=this._getFrameForTable(t);if(o||this._tableResizeFrames.push({$table:t}),vn(t).length===0){var u,{columnsSum:p}=this._getColumnElementsSum(a);pn(t,{quill:this.quill});var S=(u=this._tableLastWidth(o))!==null&&u!==void 0?u:ge(t);o&&this._tableLastWidth(o,Math.max(p,S))}})}_createResizeFrames(n){this._framesForTables=new Map,n.each((e,i)=>{var t,a=Ut(i),o=(t=this._tableResizeFrames[e])===null||t===void 0?void 0:t.$table,u=this._tableResizeFrames[e].lastWidth;this._tableResizeFrames[e]={$frame:this._createTableResizeFrame(i),$table:a,index:e,lastWidth:o&&i===o.get(0)?u:void 0,columnsCount:this._getTableDeterminantElements(a,"horizontal").length,rowsCount:this._getTableDeterminantElements(a,"vertical").length},this._framesForTables.set(i,this._tableResizeFrames[e])}),this._tableResizeFrames.length=n.length}_isTableChanging(){var n=this._findTables(),e=!1;return n.length!==this._tableResizeFrames.length?e=!0:Ce(n,(i,t)=>{var a=Ut(t),o=this._tableResizeFrames[i],u=(o==null?void 0:o.columnsCount)!==this._getTableDeterminantElements(a,"horizontal").length,p=(o==null?void 0:o.rowsCount)!==this._getTableDeterminantElements(a,"vertical").length;if(u||p)return e=!0,!1}),e}_removeResizeFrames(n){var e;Ce(this._tableResizeFrames,(i,t)=>{if(t.$frame){var a,o=".".concat(Gi,", .").concat(qi);this._detachSeparatorEvents((a=t.$frame)===null||a===void 0?void 0:a.find(o)),t.$frame.remove()}}),(e=this._framesForTables)===null||e===void 0||e.clear(),n&&(this._tableResizeFrames=[])}_detachSeparatorEvents(n){n.each((e,i)=>{ue.off(i,Xi)})}_createTableResizeFrame(){return Ut("<div>").addClass(Js).appendTo(this._quillContainer)}_updateFramesPositions(){Ce(this._tableResizeFrames,(n,e)=>{this._updateFramePosition(e.$table,e.$frame)})}_updateFramePosition(n,e){var{height:i,width:t,top:a,left:o}=dn(n.get(0)),{top:u,left:p}=dn(this.quill.root);e.css({height:i,width:t,top:a-u,left:o-p}),hn(e,{left:0,top:0})}_updateFramesSeparators(n){Ce(this._tableResizeFrames,(e,i)=>{n?this._updateFrameSeparators(i,n):(this._updateFrameSeparators(i,"vertical"),this._updateFrameSeparators(i,"horizontal"))})}_isDraggable(n){return n.hasClass("dx-draggable")&&n.is(":visible")}_removeDraggable(n,e){if(this._isDraggable(n)){var i=Ut(n).dxDraggable("instance");i.dispose(),Ut(n).addClass(e)}}_getDirectionInfo(n){return n==="vertical"?{lineResizerClass:qi,sizeFunction:e=>Sr(e),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:Gi,sizeFunction:e=>ge(e),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(n,e){return e.sizeFunction(n)}_updateFrameSeparators(n,e){for(var i=this._getTableDeterminantElements(n.$table,e),t=i.length,a=t-1,o=this._getDirectionInfo(e),u=n.$frame.find(".".concat(o.lineResizerClass)),p={transform:"none"},S=0,A=0;A<=a;A++){S+=this._getSize(i.eq(A),o),ye(u[A])||(u[A]=Ut("<div>").addClass(o.lineResizerClass).appendTo(n.$frame).get(0));var E=Ut(u[A]);this._removeDraggable(E,o.lineResizerClass),p[o.positionCoordinate]=S-eu,Ut(E).css(p);var g={lineSeparator:u[A],index:A,$determinantElements:i,frame:n,direction:e};this._attachColumnSeparatorEvents(g)}}_getTableDeterminantElements(n,e){return e==="vertical"?n.find("th:first-child, td:first-child"):Bn(n)}_attachColumnSeparatorEvents(n){ue.on(n.lineSeparator,Xi,()=>{this._createDraggableElement(n)})}_dragStartHandler(n){var{$determinantElements:e,index:i,frame:t,direction:a,lineSeparator:o}=n,u=this._getDirectionInfo(a);this._isDragging=!0,this._fixColumnsWidth(t.$table),this._startLineSize=parseInt(this._getSize(Ut(e[i]),u)),this._startTableWidth=ge(t.$table),this._startLineSeparatorPosition=parseInt(Ut(o).css(u.positionCoordinate)),this._nextLineSize=0,e[i+1]?this._nextLineSize=parseInt(this._getSize(Ut(e[i+1]),u)):a==="horizontal"&&pn(t.$table,{quill:this.quill})}_shouldRevertOffset(n){return n==="horizontal"&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(n,e,i){if(this._nextLineSize){if(n>=this._minColumnWidth){var t=this._nextColumnOffsetLimit?i<this._nextColumnOffsetLimit:i<0,a=Math.abs(this._getWidthStyleValue(e)-ge(e))>Wn;return t||!a}}else return!0;return!1}_shouldSetNextColumnWidth(n){return this._nextLineSize&&n>0}_horizontalDragHandler(n){var{currentLineNewSize:e,directionInfo:i,eventOffset:t,$determinantElements:a,index:o,frame:u}=n,p=this._nextLineSize&&this._nextLineSize-t,S=e>=this._minColumnWidth,A=pr(u.$table,o),E=pr(u.$table,o+1),g=ge(A.eq(0))-e;if(S)if(this._isNextColumnWidthEnough(p,a.eq(o+1),t)){Xe(this,{elements:A,property:i.positionStyleProperty,value:e}),this._shouldSetNextColumnWidth(p)&&Xe(this,{elements:E,property:i.positionStyleProperty,value:p});var w=Math.abs(this._startTableWidth-ge(u.$table))<Wn,_=Math.abs(g)>Wn||!this._nextLineSize&&w;_&&(Xe(this,{elements:A,property:i.positionStyleProperty,value:ge(A.eq(0))}),p+=e-ge(A.eq(0)),this._shouldSetNextColumnWidth(p)&&Xe(this,{elements:E,property:i.positionStyleProperty,value:p}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||t;this._$highlightedElement.css(i.positionCoordinate,this._startLineSeparatorPosition+t+g+"px")}_verticalDragHandler(n){var{currentLineNewSize:e,directionInfo:i,eventOffset:t,$determinantElements:a,index:o,frame:u}=n,p=Math.max(e,this._minRowHeight),S=pr(u.$table,o,"vertical");Xe(this,{elements:S,property:i.positionStyleProperty,value:p});var A=Sr(a.eq(o))-e;this._$highlightedElement.css(i.positionCoordinate,this._startLineSeparatorPosition+t+A+"px")}_dragMoveHandler(n,e){var{$determinantElements:i,index:t,frame:a,direction:o}=e,u=this._getDirectionInfo(o),p=n.offset[u.positionCoordinateName];this.editorInstance._saveValueChangeEvent(n),this._shouldRevertOffset(o)&&(p=-p);var S=this._startLineSize+p;o==="horizontal"?this._horizontalDragHandler({currentLineNewSize:S,directionInfo:u,eventOffset:p,$determinantElements:i,index:t,frame:a}):this._verticalDragHandler({currentLineNewSize:S,directionInfo:u,eventOffset:p,$determinantElements:i,index:t,frame:a}),this._updateFramePosition(a.$table,a.$frame)}_dragEndHandler(n){var e;(e=this._$highlightedElement)===null||e===void 0||e.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(n.frame,ge(n.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(n){var{$determinantElements:e,index:i}=n;return!ye(e[i+1])}_getBoundaryConfig(n){var e={};if(n.direction==="vertical")e.boundary=n.frame.$table,e.boundOffset={bottom:no()?-Lr(Jr()):-Sr(this._quillContainer),top:0,left:0,right:0};else if(!this._isLastColumnResizing(n))e.boundary=n.frame.$table;else{var i=this.editorInstance._getContent();e.boundary=i,e.boundOffset={bottom:0,top:0,left:i.css("paddingLeft"),right:i.css("paddingRight")}}return e}_createDraggableElement(n){var e,i=this._getBoundaryConfig(n),t=n.direction==="vertical"?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";(e=this._$highlightedElement)===null||e===void 0||e.remove(),this._$highlightedElement=Ut("<div>").addClass("".concat(t)).insertAfter(Ut(n.lineSeparator));var a={contentTemplate:null,allowMoveByClick:!1,dragDirection:n.direction,onDragMove:o=>{var{component:u,event:p}=o;this._dragMoveHandler(p,n)},onDragStart:()=>{this._dragStartHandler(n)},onDragEnd:()=>{this._dragEndHandler(n)}};le(a,i),this._currentDraggableElement=this.editorInstance._createComponent(n.lineSeparator,wn,a)}_fixColumnsWidth(n){var e=this._getTableDeterminantElements(n);Ce(e,(i,t)=>{var a=ge(t),o=pr(n,i);Xe(this,{elements:o,property:"width",value:Math.max(a,this._minColumnWidth)})})}_getColumnElementsSum(n){var e=[],i=0;return Ce(n,(t,a)=>{var o=Ut(a),u=this._getWidthStyleValue(o)||ge(o);e[t]=Math.max(u,this._minColumnWidth),i+=e[t]}),{columnsWidths:e,columnsSum:i}}_setColumnsRatioWidth(n,e,i,t){Ce(n,a=>{var o=pr(t,a),u;e>0?u=this._minColumnWidth+Math.round((i[a]-this._minColumnWidth)*e):u=this._minColumnWidth,Xe(this,{elements:o,property:"width",value:u})})}_updateColumnsWidth(n,e){var i=this._getTableDeterminantElements(n),t=this._tableResizeFrames[e];t||(this._tableResizeFrames[e]={}),t=this._tableResizeFrames[e];var a=this._tableLastWidth(t)||ge(n),o,{columnsWidths:u,columnsSum:p}=this._getColumnElementsSum(i),S=i.length*this._minColumnWidth;p>S?o=(a-S)/(p-S):o=-1,this._tableLastWidth(t,o>0?a:S),this._setColumnsRatioWidth(i,o,u,n)}_updateTablesColumnsWidth(n){Ce(n,(e,i)=>{this._updateColumnsWidth(Ut(i),e)})}option(n,e){if(n==="tableResizing"){this.handleOptionChangeValue(e);return}n==="enabled"?(this.enabled=e,e?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(n)&&(this["_".concat(n)]=this._minSizeLimit(n,e))}clean(){this._removeResizeFrames(!0),this._detachEvents(),xi.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}var iu="dxHtmlEditorTableContextMenu",Qi=Ae("dxcontextmenu",iu),Io=xe,$n=r=>Qt.format("dxHtmlEditor-".concat(ai(r)));se&&(Io=class extends xe{constructor(r,n){super(r,n),this.enabled=!!n.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=Eo(this),this._tableFormats=ho(r),this.enabled&&this._enableContextMenu(n.items)}_enableContextMenu(r){var n;(n=this._contextMenu)===null||n===void 0||n.dispose(),this._contextMenu=this._createContextMenu(r),this._attachEvents()}_attachEvents(){ue.on(this.editorInstance._getContent(),Qi,this._prepareContextMenuHandler())}_detachEvents(){ue.off(this.editorInstance._getContent(),Qi)}_createContextMenu(r){var n=Ut("<div>").appendTo(this.editorInstance.$element()),e=this._getMenuConfig(r);return this.editorInstance._createComponent(n,fa,e)}showPropertiesForm(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cell",n=Ut(this._targetElement).closest(r==="cell"?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(r,"Properties")](n),this._targetElement=null}_isAcceptableItem(r,n){return!r||r===n}_handleObjectItem(r){if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var n=this._prepareMenuItemConfig(r.name),e=le(!0,n,r);return e}else return r.items&&(r.items=this._prepareMenuItems(r.items)),r}_prepareMenuItemConfig(r){var n,e,i=(n=Oo[r])!==null&&n!==void 0?n:r,t=Nn(r);return{text:$n(t),icon:i.toLowerCase(),onClick:(e=this._formatHandlers[r])!==null&&e!==void 0?e:hi(this,r)}}_prepareMenuItems(r){var n=[];return Ce(r,(e,i)=>{var t;Zr(i)?t=this._handleObjectItem(i):li(i)&&(t=this._prepareMenuItemConfig(i)),t&&n.push(t)}),n}_getMenuConfig(r){var n=[{text:$n("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",le(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:$n("delete"),items:["deleteColumn","deleteRow","deleteTable"]},le(this._prepareMenuItemConfig("cellProperties"),{onClick:i=>{this.showPropertiesForm("cell")}}),le(this._prepareMenuItemConfig("tableProperties"),{onClick:i=>{this.showPropertiesForm("table")}})],e=this._prepareMenuItems(r!=null&&r.length?r:n);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:e}}_prepareContextMenuHandler(){return r=>{this._isTableTarget(r.target)&&(this._targetElement=r.target,this._setContextMenuPosition(r),this._contextMenu.show(),r.preventDefault())}}_setContextMenuPosition(r){var n=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:r.clientX-n.left,y:r.clientY-n.top}}})}_isTableTarget(r){return!!Ut(r).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(r,n){if(r==="tableContextMenu"){this.handleOptionChangeValue(n);return}if(r==="enabled")this.enabled=n,n?this._enableContextMenu():this.clean();else if(r==="items"){var e;(e=this._contextMenu)===null||e===void 0||e.dispose(),this._contextMenu=this._createContextMenu(n)}}prepareCleanCallback(){return()=>{this.clean()}}});const ou=Io;var zn="dxHtmlEditorImageUpload",au="dx-htmleditor-hidden-content",xo=xe;se&&(xo=class extends xe{constructor(r,n){super(r,n),this.options=n,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){var r=ye(this.options.fileUploadMode)&&this.options.fileUploadMode!=="base64";r?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var r;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),(r=this._fileUploader)===null||r===void 0||r.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){var r=Ut("<div>").addClass(au).appendTo(this._quillContainer),n=le({},bo(),{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(r,ao,n),r}_onUploaded(r){var n,{index:e}=(n=this.quill.getSelection())!==null&&n!==void 0?n:{index:this.quill.getLength()},i=go(this.options.uploadDirectory)+r.file.name;ci(this.quill,e,{src:i}),this.quill.setSelection(e+1,0)}_attachEvents(){ue.on(this.quill.root,Ae("drop",zn),this._dropHandler.bind(this)),ue.on(this.quill.root,Ae("paste",zn),this._pasteHandler.bind(this))}_detachEvents(){ue.off(this.quill.root,zn)}_dropHandler(r){this._handleInsertImages(r,"dataTransfer")}_pasteHandler(r){this._handleInsertImages(r,"clipboardData")}_handleInsertImages(r,n){this.saveValueChangeEvent(r);var e=Array.from(r.originalEvent[n].files||[]),i=e;i.length&&(r.preventDefault(),r.stopPropagation(),this._fileUploader.option("value",i),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(r,n){switch(r){case"imageUpload":this.handleOptionChangeValue(n);break;case"fileUploadMode":this.options.fileUploadMode=n,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(n)}}});const lu=xo;var su="dxHtmlEditorImageCursor",Yi=Ae("dxclick",su),wo=xe;se&&(wo=class extends xe{constructor(r,n){super(r,n),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){ue.on(this.quill.root,Yi,this._clickHandler.bind(this))}_detachEvents(){ue.off(this.quill.root,Yi)}_clickHandler(r){this._isAllowedTarget(r.target)&&this._adjustSelection(r)}_isAllowedTarget(r){return this._isImage(r)}_isImage(r){return r.tagName.toUpperCase()==="IMG"}_adjustSelection(r){var n=this.quill.scroll.find(r.target);if(n){var e=n.offset(this.quill.scroll);this.quill.setSelection(e+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const uu=wo;class cu{constructor(){this._storage={}}set(n,e){var i,t,{editorKey:a,marker:o}=n;(t=(i=this._storage)[a])!==null&&t!==void 0||(i[a]={}),this._storage[a][o]=e}get(n){var e,i,{editorKey:t,marker:a}=n,o=!ye(t);return o?(e=Object.values(this._storage).at(-1))===null||e===void 0?void 0:e[a]:(i=this._storage[t])===null||i===void 0?void 0:i[a]}delete(n){var{editorKey:e,marker:i}=n;this._storage[e]&&(delete this._storage[e][i],Pn(this._storage[e])&&delete this._storage[e])}}var an={};if(se){var fu=se.import("blots/embed"),hu="dx-mention";an=class extends fu{static create(r){var n=super.create();return n.setAttribute("spellcheck",!1),n.dataset.marker=r.marker,n.dataset.mentionValue=r.value,n.dataset.id=r.id,this.renderContent(n,r),n}static value(r){return{marker:r.dataset.marker,id:r.dataset.id,value:r.dataset.mentionValue}}static renderContent(r,n){var e=this._templatesStorage.get({editorKey:n.keyInTemplateStorage,marker:n.marker});e?e.render({model:n,container:r}):this.baseContentRender(r,n)}static baseContentRender(r,n){var e=Ut("<span>").text(n.marker);Ut(r).append(e).append(n.value)}static addTemplate(r,n){this._templatesStorage.set(r,n)}static removeTemplate(r){this._templatesStorage.delete(r)}},an.blotName="mention",an.tagName="span",an.className=hu,an._templatesStorage=new cu}const Kn=an;var Po=xe;if(se){var du="user",pu="@",ke={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},vu=[ke.ARROW_LEFT,ke.ARROW_RIGHT,ke.PAGE_UP,ke.PAGE_DOWN,ke.END,ke.HOME],mu=[" ",`
`],yu="dx-state-disabled";se.register({"formats/mention":Kn},!0),Po=class extends Ao{_getDefaultOptions(){var r=super._getDefaultOptions();return le(r,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}constructor(r,n){super(r,n),this._mentions={},n.mentions.forEach(e=>{var i=e.marker;i||(e.marker=i=pu);var t=e.template;if(t){var a=this.editorInstance._getTemplate(t);a&&Kn.addTemplate({marker:i,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},a)}this._mentions[i]=le({},this._getDefaultOptions(),e)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:ke.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:ke.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[ke.ENTER,ke.SPACE]},this._selectItemHandler.bind(this));var r=this.quill.keyboard.bindings[ke.ENTER];r.unshift(r.pop()),this.quill.keyboard.addBinding({key:ke.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[ke.ARROW_LEFT,ke.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:vu},this._ignoreKeyHandler.bind(this))}_moveToItem(r){var n=this._list.getDataSource();if(this._isMentionActive&&!n.isLoading()){var e=Ut(this._list.option("focusedElement")),i=r==="next"?"first":"last",t=e[r]();t=t.length?t:this._activeListItems[i](),this._list.option("focusedElement",Yn(t)),this._list.scrollToItem(t)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(r,n,e){return r>e?n:r<n?e:r}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(r,n){this.compileGetters(this.options),super.renderList(r,n)}compileGetters(r){var{displayExpr:n,valueExpr:e}=r;this._valueGetter=wi(n),this._idGetter=wi(e)}_getListConfig(r){var n=super._getListConfig(r);return le(n,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var r=this._activeMentionConfig.marker.length,n=r+this._searchValue.length,e=this.getPosition(),i=this._list.option("selectedItem"),t={value:this._valueGetter(i),id:this._idGetter(i),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},a=se.import("delta"),o=Math.max(0,e-r),u=new a().retain(o).delete(n).insert({mention:t}).insert(" ");this.quill.updateContents(u),this.quill.setSelection(o+2)}_getLastInsertOperation(r){var n=r[r.length-1],e="insert"in n;if(e)return n;var i="delete"in n;if(i&&r.length>=2){var t=r[r.length-2],a="insert"in t,o=i&&a;if(o)return t}return null}onTextChange(r,n,e){if(e===du){var i=r.ops[r.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(i)&&this._filterList(this._searchValue);else{var{ops:t}=r,a=this._getLastInsertOperation(t);a&&this.checkMentionRequest(a,t)}}}get _isPopupVisible(){var r;return(r=this._popup)===null||r===void 0?void 0:r.option("visible")}_processSearchValue(r){var n="insert"in r;if(n)this._searchValue+=r.insert;else{if(!this._searchValue.length||r.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(r,n){var{insert:e}=r,i=this.quill.getSelection();if(!(!e||!li(e)||!i||this._isMarkerPartOfText(n[0].retain))&&(this._activeMentionConfig=this._mentions[e],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var t=i.index&&this._getCharByIndex(i.index-1)===`
`;this.savePosition(i.index+t),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(r){return!(!r||mu.indexOf(this._getCharByIndex(r-1))!==-1)}_getCharByIndex(r){return this.quill.getContents(r,1).ops[0].insert}_updateList(r){var{dataSource:n,displayExpr:e,valueExpr:i,itemTemplate:t,searchExpr:a}=r;this.compileGetters({displayExpr:e,valueExpr:i}),this._list.unselectAll(),this._list.option({dataSource:n,displayExpr:e,itemTemplate:t,searchExpr:a})}_filterList(r){if(!this._isMinSearchLengthExceeded(r)){this._resetFilter();return}var n=this._activeMentionConfig.searchTimeout;n?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(r)},n)):this._search(r)}_isMinSearchLengthExceeded(r){return r.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(r){this._hasSearch=!0,this._list.option("searchValue",r)}_focusFirstElement(){if(this._list){var r=this._activeListItems.first();this._list.option("focusedElement",Yn(r)),this._list.scrollToItem(r)}}get _popupPosition(){var r=this.getPosition(),{left:n,top:e,height:i}=this.quill.getBounds(r&&r-1),{left:t,top:a}=Ut(this.quill.root).offset(),o=ue.Event("positionEvent",{pageX:t+n,pageY:a+e});return{of:o,offset:{v:i},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return le(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat(yu,")"))}clean(){Object.keys(this._mentions).forEach(r=>{this._mentions[r].template&&Kn.removeTemplate({marker:r,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const gu=Po;class Mn{constructor(){if(!Mn.initialized){var n=this.getQuill(),e=n.import("attributors/style/direction");n.register({"formats/align":za,"formats/direction":e,"formats/font":Wa,"formats/size":$a,"formats/extendedImage":ka,"formats/link":Ua,"modules/toolbar":Ds,"modules/dropImage":js,"modules/variables":Gs,"modules/resizing":Zs,"modules/tableResizing":nu,"modules/tableContextMenu":ou,"modules/imageUpload":lu,"modules/imageCursor":uu,"modules/mentions":gu,"themes/basic":ja},!0),this._customModules=[],Mn._initialized=!0}}createEditor(n,e){var i=this.getQuill();return new i(n,e)}registerModules(n){var e=RegExp("modules/*"),i=this.getQuill(),t=o=>!!i.imports[o];for(var a in n)e.test(a)&&!t(a)&&this._customModules.push(a.slice(8));i.register(n,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return so()}}class bu{constructor(){this._converters={}}addConverter(n,e){this._converters[n]=e}getConverter(n){return this._converters[n]}}var ni=new bu;class _u{setQuillInstance(n){this.quillInstance=n}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var n=this.quillInstance.getContents();return n.length()===1&&this._isDeltaEmpty(n)}_isDeltaEmpty(n){return n.reduce((e,i)=>{var{insert:t}=i;return t.indexOf(`
`)!==-1})}}ni.addConverter("delta",_u);function Ou(r){var n=r[1];return n.match(/\S+\./)?"ordered":"bullet"}function Eu(r){var n=r.getAttribute("style");if(n){var e=n.replace(/\n+/g,"").match(/level(\d+)/);return e?e[1]-1:0}else return!1}function Cu(r){var n=r[r.length-1];n.insert=n.insert.trim()}var Tu=r=>{var n=r.import("delta");return(e,i)=>{var t=i.ops.slice(),a=t[0];a.insert=a.insert.replace(/^\s+/,"");var o=a.insert.match(/^(\S+)\s+/),u=o&&Eu(e);return!o||u===!1?i:(a.insert=a.insert.substring(o[0].length,a.insert.length),Cu(t),t.push({insert:`
`,attributes:{list:Ou(o),indent:u}}),new n(t))}},Zi="dx-formdialog",Su="dx-formdialog-form";class Au{constructor(n,e){this._editorInstance=n,this._popupUserConfig=e,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var n=this._editorInstance,e=Ut("<div>").addClass(Zi).appendTo(n.$element()),i=this._getPopupConfig();return n._createComponent(e,ro,i)}_attachOptionChangedHandler(){var n;(n=this._popup)===null||n===void 0||n.on("optionChanged",e=>{var{name:i,value:t}=e;i==="title"&&this._updateFormLabel(t)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(n){n.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var n=no()?ha():null;return ln.real().deviceType==="phone"||n==="xs"}_getPopupConfig(){return le({onInitialized:n=>{this._popup=n.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:n=>{var e=Ut("<div>").appendTo(n);this._renderForm(e,{onEditorEnterKey:i=>this.callAddButtonAction(i.event),customizeItem:i=>{i.itemType==="simple"&&(i.editorOptions=le(!0,{},i.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("OK"),onClick:n=>this.callAddButtonAction(n.event)}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("Cancel"),onClick:()=>{this._popup.hide()}}}],_wrapperClassExternal:Zi},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(n){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),n)}_renderForm(n,e){n.addClass(Su),this._form=this._editorInstance._createComponent(n,eo,e),this._updateFormLabel()}_updateFormLabel(n){var e,i=n??this.popupOption("title");(e=this._form)===null||e===void 0||e.$element().attr("aria-label",i)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:da()?"top":"left"}}formOption(n,e){return this._form.option.apply(this._form,arguments)}show(n){if(!this._popup.option("visible")){this.deferred=new io;var e=le(this._getDefaultFormOptions(),n);return this._form.option(e),this._popup.show(),this.deferred.promise()}}hide(n,e){this.deferred.resolve(n,e),this._popup.hide()}popupOption(n,e){return this._popup.option.apply(this._popup,arguments)}}var Ru="dx-htmleditor",Iu="dx-quill-container",xu="ql-clipboard",wu="dx-htmleditor-submit-element",Pu="dx-htmleditor-content",xn="markdown",Vn="htmlContent",Nu=ln.current().platform==="ios",Lu=0,No=Ji.inherit({_getDefaultOptions:function(){return le(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:pa().editorStylingMode||"outlined"})},_init:function(){this._mentionKeyInTemplateStorage=Lu++,this.callBase(),this._cleanCallback=Pi(),this._contentInitializedCallback=Pi()},_getAnonymousTemplateName:function(){return Vn},_initTemplates:function(){this._templateManager.addDefaultTemplates({[Vn]:new va}),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat(Pu))},_focusInHandler:function(r){var{relatedTarget:n}=r;this._shouldSkipFocusEvent(n)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(r){var{relatedTarget:n}=r;this._shouldSkipFocusEvent(n)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(r){return Ut(r).hasClass(xu)},_initMarkup:function(){this._$htmlContainer=Ut("<div>").addClass(Iu),this.$element().attr("role","application").addClass(Ru).wrapInner(this._$htmlContainer),this._renderStylingMode();var r=this._getTemplate(Vn);this._$templateResult=r&&r.render({container:Yn(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderSubmitElement:function(){this._$submitElement=Ut("<textarea>").addClass(wu).attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(r){this._getSubmitElement().val(r)},_getSubmitElement:function(){return this._$submitElement},_createNoScriptFrame:function(){return Ut("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})},_removeXSSVulnerableHtml:function(r){var n=this._createNoScriptFrame().appendTo("body"),e=n.get(0),i=e.contentWindow,t=i.document,a=t.body;a.innerHTML=r;var o=p=>{if(p.attributes)for(var S=0;S<p.attributes.length;S++){var A=p.attributes[S].name;A.startsWith("on")&&p.removeAttribute(A)}if(p.childNodes)for(var E=0;E<p.childNodes.length;E++)o(p.childNodes[E])};o(a),a.querySelectorAll("script").forEach(p=>{p.remove()});var u=a.innerHTML;return n.remove(),u},_updateContainerMarkup:function(){var r=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),r=this._markdownConverter.toHtml(r)),r){var n=this._removeXSSVulnerableHtml(r);this._$htmlContainer.html(n)}},_prepareMarkdownConverter:function(){var r=ni.getConverter("markdown");if(r)this._markdownConverter=new r;else throw ii.Error("E1051","markdown")},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new Mn)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var r=ni.getConverter("delta");r&&(this._deltaConverter=new r)}this.option("valueType")===xn&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new io;var r=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),r},_pointerMoveHandler:function(r){Nu&&r.stopPropagation()},_attachFocusEvents:function(){ma(this.callBase.bind(this))},_addKeyPressHandler:function(){var r=Ae("keydown","".concat(this.NAME,"TextChange"));ue.on(this._$htmlContainer,r,this._keyDownHandler.bind(this))},_keyDownHandler:function(r){this._saveValueChangeEvent(r)},_renderHtmlEditor:function(){var r=this.option("customizeModules"),n=this._getModulesConfig();ya(r)&&r(n),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:n,theme:"basic"}),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=ga(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var r=this._getContent(),n=ba(r);ue.on(r,Ae(_a.init,this.NAME),n,Oa),ue.on(r,Ae(Ea.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var r=this.option("value");if(!ye(r)){var n=this._deltaConverter.toHtml(),e=this._quillInstance.clipboard.convert({html:n});if(e.ops.length){this._quillInstance.setContents(e);return}}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var r=this._getRegistrator().getQuill(),n=Tu(r),e=le({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:i=>this._saveValueChangeEvent(Sn(i)),imageBlot:"extendedImage"},keyboard:{onKeydown:i=>this._saveValueChangeEvent(Sn(i))},clipboard:{onPaste:i=>this._saveValueChangeEvent(Sn(i)),onCut:i=>this._saveValueChangeEvent(Sn(i)),matchers:[["p.MsoListParagraphCxSpFirst",n],["p.MsoListParagraphCxSpMiddle",n],["p.MsoListParagraphCxSpLast",n]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules());return e},_getModuleConfigByOption:function(r){var n=this.option(r),e={};if(ye(n))return Array.isArray(n)?e[r]=n:e=n,le(this._getBaseModuleConfig(),e)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var r={},n=this._getRegistrator().getRegisteredModuleNames();return n.forEach(e=>{r[e]=this._getBaseModuleConfig()}),r},_textChangeHandler:function(r,n,e){var i=this._deltaConverter.toHtml(),t=this._isMarkdownValue()?this._updateValueByType(xn,i):i,a=this.option("value");a!==t&&!this._isNullValueConverted(a,t)&&(this._isEditorUpdating=!0,this.option("value",t)),this._finalizeContentRendering()},_isNullValueConverted:function(r,n){return r===null&&n===""},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(r,n){var e=this._markdownConverter;if(ye(e)){var i=Qn(n,this.option("value"));return r===xn?e.toMarkdown(i):e.toHtml(i)}},_isMarkdownValue:function(){return this.option("valueType")===xn},_resetEnabledState:function(){if(this._quillInstance){var r=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(r)}},_renderFormDialog:function(){var r=le(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new Au(this,r)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_prepareModuleOptions(r){var n,e=(n=r.fullName)===null||n===void 0?void 0:n.split("."),i=r.value,t=e.length>=2?e[1]:r.name;return e.length===3&&(i={[e[2]]:i}),[t,i]},_moduleOptionChanged:function(r,n){var e=this.getModule(r),i=!!e;i?e.option(...this._prepareModuleOptions(n)):this._invalidate()},_optionChanged:function(r){switch(r.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var n=this._isMarkdownValue()?this._updateValueByType("HTML",r.value):r.value;this._suppressValueChangeAction(),this._updateHtmlContent(n),this._resumeValueChangeAction()}else this._$htmlContainer.html(r.value);var e=this.option("value");e!==r.previousValue&&(this._setSubmitValue(e),this.callBase(to({},r,{value:e})));break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",r);break;case"valueType":this._prepareConverters();var i=this._updateValueByType(r.value);r.value==="html"&&this._quillInstance?this._updateHtmlContent(i):this.option("value",i);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(r),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",r);break;case"mediaResizing":!r.previousValue||!r.value?this._invalidate():this.getModule("resizing").option(r.name,r.value);break;case"width":this.callBase(r),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",r);break;default:this.callBase(r)}},_repaintToolbar:function(){this._applyToolbarMethod("repaint")},_updateHtmlContent:function(r){var n=this._quillInstance.clipboard.convert({html:r});this._quillInstance.setContents(n)},_clean:function(){this._quillInstance&&(ue.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(r,n){if(this._quillInstance)return this._quillInstance[r].apply(this._quillInstance,n)},_applyQuillHistoryMethod(r){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[r]()},_applyToolbarMethod(r){var n;(n=this.getModule("toolbar"))===null||n===void 0||n[r]()},addCleanCallback(r){this._cleanCallback.add(r)},addContentInitializedCallback(r){this._contentInitializedCallback.add(r)},register:function(r){this._getRegistrator().registerModules(r),this._quillInstance&&this.repaint()},get:function(r){return this._getRegistrator().getQuill().import(r)},getModule:function(r){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(r){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(r,n){this._applyQuillMethod("setSelection",arguments)},getText:function(r,n){return this._applyQuillMethod("getText",arguments)},format:function(r,n){this._applyQuillMethod("format",arguments)},formatText:function(r,n,e,i){this._applyQuillMethod("formatText",arguments)},formatLine:function(r,n,e,i){this._applyQuillMethod("formatLine",arguments)},getFormat:function(r,n){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(r,n){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(r,n){return this._applyQuillMethod("getBounds",arguments)},delete:function(r,n){this._applyQuillMethod("deleteText",arguments)},insertText:function(r,n,e){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(r,n,e){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(r){return this._formDialog.show(r)},formDialogOption:function(r,n){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")},getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}});oi("dxHtmlEditor",No);const Mu=Object.freeze(Object.defineProperty({__proto__:null,default:No},Symbol.toStringTag,{value:"Module"})),Bu=Ca(Mu);/*!
 * devextreme-vue
 * Version: 22.2.6
 * Build date: Tue Apr 18 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Du=Gn&&Gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(he,"__esModule",{value:!0});he.DxVariables=he.DxToolbarItem=he.DxToolbar=he.DxTableResizing=he.DxTableContextMenuItem=he.DxTableContextMenu=he.DxTab=he.DxMention=he.DxMediaResizing=he.DxItem=he.DxImageUpload=he.DxFileUploaderOptions=he.DxHtmlEditor=void 0;var ju=Du(Bu),Hu=oo,Qe=oo,Lo=Hu.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowSoftLineBreak:Boolean,customizeModules:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,imageUpload:Object,isValid:Boolean,mediaResizing:Object,mentions:Array,name:String,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,tableContextMenu:Object,tableResizing:Object,toolbar:Object,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:{},valueType:String,variables:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSoftLineBreak":null,"update:customizeModules":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:imageUpload":null,"update:isValid":null,"update:mediaResizing":null,"update:mentions":null,"update:name":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:tableContextMenu":null,"update:tableResizing":null,"update:toolbar":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:valueType":null,"update:variables":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=ju.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={imageUpload:{isCollectionItem:!1,optionName:"imageUpload"},mediaResizing:{isCollectionItem:!1,optionName:"mediaResizing"},mention:{isCollectionItem:!0,optionName:"mentions"},tableContextMenu:{isCollectionItem:!1,optionName:"tableContextMenu"},tableResizing:{isCollectionItem:!1,optionName:"tableResizing"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},variables:{isCollectionItem:!1,optionName:"variables"}}}});he.DxHtmlEditor=Lo;var Mo=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:abortUpload":null,"update:accept":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowCanceling":null,"update:allowedFileExtensions":null,"update:bindingOptions":null,"update:chunkSize":null,"update:dialogTrigger":null,"update:disabled":null,"update:dropZone":null,"update:elementAttr":null,"update:extendSelection":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:invalidFileExtensionMessage":null,"update:invalidMaxFileSizeMessage":null,"update:invalidMinFileSizeMessage":null,"update:isValid":null,"update:labelText":null,"update:maxFileSize":null,"update:minFileSize":null,"update:multiple":null,"update:name":null,"update:onBeforeSend":null,"update:onContentReady":null,"update:onDisposing":null,"update:onDropZoneEnter":null,"update:onDropZoneLeave":null,"update:onFilesUploaded":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onProgress":null,"update:onUploadAborted":null,"update:onUploaded":null,"update:onUploadError":null,"update:onUploadStarted":null,"update:onValueChanged":null,"update:progress":null,"update:readOnly":null,"update:readyToUploadMessage":null,"update:rtlEnabled":null,"update:selectButtonText":null,"update:showFileList":null,"update:stylingMode":null,"update:tabIndex":null,"update:uploadAbortedMessage":null,"update:uploadButtonText":null,"update:uploadChunk":null,"update:uploadCustomData":null,"update:uploadedMessage":null,"update:uploadFailedMessage":null,"update:uploadFile":null,"update:uploadHeaders":null,"update:uploadMethod":null,"update:uploadMode":null,"update:uploadUrl":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:visible":null,"update:width":null},props:{abortUpload:Function,accept:String,accessKey:String,activeStateEnabled:Boolean,allowCanceling:Boolean,allowedFileExtensions:Array,bindingOptions:Object,chunkSize:Number,dialogTrigger:{},disabled:Boolean,dropZone:{},elementAttr:Object,extendSelection:Boolean,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},invalidFileExtensionMessage:String,invalidMaxFileSizeMessage:String,invalidMinFileSizeMessage:String,isValid:Boolean,labelText:String,maxFileSize:Number,minFileSize:Number,multiple:Boolean,name:String,onBeforeSend:Function,onContentReady:Function,onDisposing:Function,onDropZoneEnter:Function,onDropZoneLeave:Function,onFilesUploaded:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onProgress:Function,onUploadAborted:Function,onUploaded:Function,onUploadError:Function,onUploadStarted:Function,onValueChanged:Function,progress:Number,readOnly:Boolean,readyToUploadMessage:String,rtlEnabled:Boolean,selectButtonText:String,showFileList:Boolean,stylingMode:String,tabIndex:Number,uploadAbortedMessage:String,uploadButtonText:String,uploadChunk:Function,uploadCustomData:{},uploadedMessage:String,uploadFailedMessage:String,uploadFile:Function,uploadHeaders:{},uploadMethod:String,uploadMode:String,uploadUrl:String,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:Array,visible:Boolean,width:[Function,Number,String]}});he.DxFileUploaderOptions=Mo;Mo.$_optionName="fileUploaderOptions";var pi=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fileUploaderOptions":null,"update:fileUploadMode":null,"update:tabs":null,"update:uploadDirectory":null,"update:uploadUrl":null},props:{fileUploaderOptions:Object,fileUploadMode:String,tabs:Array,uploadDirectory:String,uploadUrl:String}});he.DxImageUpload=pi;pi.$_optionName="imageUpload";pi.$_expectedChildren={fileUploaderOptions:{isCollectionItem:!1,optionName:"fileUploaderOptions"},tab:{isCollectionItem:!0,optionName:"tabs"}};var vi=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});he.DxItem=vi;vi.$_optionName="items";vi.$_isCollectionItem=!0;var Bo=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedTargets":null,"update:enabled":null},props:{allowedTargets:Array,enabled:Boolean}});he.DxMediaResizing=Bo;Bo.$_optionName="mediaResizing";var mi=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:displayExpr":null,"update:itemTemplate":null,"update:marker":null,"update:minSearchLength":null,"update:searchExpr":null,"update:searchTimeout":null,"update:template":null,"update:valueExpr":null},props:{dataSource:{},displayExpr:[Function,String],itemTemplate:{},marker:String,minSearchLength:Number,searchExpr:[Array,Function,String],searchTimeout:Number,template:{},valueExpr:[Function,String]}});he.DxMention=mi;mi.$_optionName="mentions";mi.$_isCollectionItem=!0;var yi=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:name":null},props:{name:String}});he.DxTab=yi;yi.$_optionName="tabs";yi.$_isCollectionItem=!0;var gi=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});he.DxTableContextMenu=gi;gi.$_optionName="tableContextMenu";gi.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},tableContextMenuItem:{isCollectionItem:!0,optionName:"items"}};var bi=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,html:String,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});he.DxTableContextMenuItem=bi;bi.$_optionName="items";bi.$_isCollectionItem=!0;var Do=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:minColumnWidth":null,"update:minRowHeight":null},props:{enabled:Boolean,minColumnWidth:Number,minRowHeight:Number}});he.DxTableResizing=Do;Do.$_optionName="tableResizing";var _i=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:container":null,"update:items":null,"update:multiline":null},props:{container:{},items:Array,multiline:Boolean}});he.DxToolbar=_i;_i.$_optionName="toolbar";_i.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var Oi=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});he.DxToolbarItem=Oi;Oi.$_optionName="items";Oi.$_isCollectionItem=!0;var jo=Qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:escapeChar":null},props:{dataSource:{},escapeChar:[Array,String]}});he.DxVariables=jo;jo.$_optionName="variables";he.default=Lo;const ku={class:"content-block dx-card responsive-paddings"},$u={__name:"Faqs",setup(r){const n=Ta(),{t:e}=Sa(),i=Hn("mt"),t=Hn("mf"),a=Hn("routeHistoryState"),o=Ni(null),u=Ni(null),p=Aa({gridData:null,validationRules:{topic:[{type:"required",message:e("settings.faqs.topic")+i.validations.required}],question:[{type:"required",message:e("settings.faqs.question")+i.validations.required}],answer:[{type:"required",message:e("settings.faqs.answer")+i.validations.required}]}});n.dispatch("settingFaq/getFaqs"),Ra(()=>n.state.settingFaq.faqs,b=>{p.gridData=t.cloneDeep(b)}),Ia(()=>n.dispatch("settingFaq/resetState"));function S(b){b.changes.length&&n.dispatch("settingFaq/save",b)}function A(b){o.value.instance.option("editing.form.items[2].editorOptions.value",b.value),o.value.instance.option("editing.form.items[3].visible",!b.value),o.value.instance.option("editing.form.items[4].visible",b.value)}function E(b){o.value.instance.option("editing.popup.title",e("settings.faqs.popup.create"))}function g(b){const R=/<\/?[a-z][\s\S]*>/i.test(b.data.answer);A({value:R}),o.value.instance.option("editing.popup.title",e("settings.faqs.popup.edit"))}function w(b){t.checkPinDataGrid(b,o.value.instance);let R=b.component.option("toolbarItems");R.push({toolbar:"bottom",location:"before",widget:"dxButton",options:{icon:"image",text:e("titles.chooseImage"),onClick:()=>u.value.show({clientPath:"faqs"})}}),b.component.option("toolbarItems",R),t.pushPopupToHistoryState(a,()=>o.value.instance.cancelEditData())}function _(){t.popRouteHistoryState(a)}return(b,R)=>{const P=xa("DxToolbar");return Na(),wa("div",ku,[Pa("div",null,[Qr(cn(La),{ref_key:"dataGridRef",ref:o,"data-source":p.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"popup",popup:{showTitle:!0,onShown:w,onHidden:_},form:{labelLocation:b.$screen.getScreenSizeInfo.isXSmall?"top":"left",items:[{dataField:"topic",colSpan:2},{dataField:"question",colSpan:2},{editorType:"dxCheckBox",colSpan:2,editorOptions:{value:!1,onValueChanged:A},label:{text:b.$t("settings.faqs.useHtml")}},{visible:!0,colSpan:2,dataField:"answer",editorType:"dxTextArea",editorOptions:{stylingMode:"filled",height:150}},{visible:!1,dataField:"answer",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{mediaResizing:{enabled:!0},toolbar:{items:["undo","redo","separator","bold","italic","strike","underline","separator","alignLeft","alignCenter","alignRight","alignJustify","separator","orderedList","bulletList","separator","color","background","separator","link","image","separator","clear","insertTable"]}}}]},startEditAction:"dblClick"},onContentReady:R[0]||(R[0]=v=>b.$mf.dataGridPreload(p.gridData,o.value.instance)),onInitNewRow:E,onEditingStart:g,onSaved:S},{commandCellTemplate:Li(({data:v})=>[Qr(P,{items:[{visible:v.data.status!=4,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"edit",hint:b.$t("buttons.edit"),text:b.$t("buttons.edit"),onClick:()=>{o.value.instance.editRow(v.rowIndex)}}},{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"trash",hint:b.$t("buttons.delete"),text:b.$t("buttons.delete"),onClick:()=>b.$bus.emit("checkPin",()=>o.value.instance.deleteRow(v.rowIndex))}}]},null,8,["items"])]),default:Li(()=>[Qr(cn(An),{fixed:!0,width:b.$screen.getScreenSizeInfo.isXSmall?35:65,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:b.$t(`titles.commandHeaderTitle${b.$screen.getScreenSizeInfo.isXSmall?"Short":""}`)},null,8,["width","caption"]),Qr(cn(An),{"data-field":"topic","header-filter":{allowSearch:!0},caption:b.$t("settings.faqs.topic"),"validation-rules":p.validationRules.topic},null,8,["caption","validation-rules"]),Qr(cn(An),{"data-field":"question","header-filter":{allowSearch:!0},caption:b.$t("settings.faqs.question"),"validation-rules":p.validationRules.question},null,8,["caption","validation-rules"]),Qr(cn(An),{visible:!1,"data-field":"answer","header-filter":{allowSearch:!0},caption:b.$t("settings.faqs.answer"),"validation-rules":p.validationRules.answer},null,8,["caption","validation-rules"])]),_:1},8,["data-source","editing"]),Qr(Ma,{ref_key:"pickImagePopupRef",ref:u},null,512)])])}}};export{$u as default};
