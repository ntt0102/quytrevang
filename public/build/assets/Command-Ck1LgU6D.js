import{u as f,r as p,a as b,b as x,d as v,e as o,f as g,g as i,v as h,h as D,k as s,o as _,a8 as n,a9 as R}from"./app-BufTx3oP.js";import"./radio-group-BjiZMbnL.js";const S={class:"content-block dx-card responsive-paddings"},I={__name:"Command",setup(k){const l=D(),{t:r}=f(),u=s("bus"),d=s("mt"),t=p(null),a=b({formData:{radio:"config:cache",textbox:null},validationRules:[{type:"required",message:r("settings.command.title")+d.validations.required}]});function m(){u.emit("checkPin",()=>{let e=a.formData.radio!="custom"?a.formData.radio:a.formData.textbox;l.dispatch("setting/runCommand",e)})}function c(e){e.value!="custom"?(t.value.instance.itemOption("textbox","visible",!1),t.value.instance.itemOption("textbox","validationRules",null)):(t.value.instance.itemOption("textbox","visible",!0),t.value.instance.itemOption("textbox","validationRules",a.validationRules),t.value.instance.getEditor("textbox").focus())}return(e,y)=>(_(),x("div",S,[v("form",{class:"setting-command-page",onSubmit:h(m,["prevent"])},[o(i(R),{ref_key:"formRef",ref:t,"form-data":a.formData,"label-location":e.$screen.getScreenSizeInfo.isXSmall?"top":"left","scrolling-enabled":!0},{default:g(()=>[o(i(n.DxItem),{"data-field":"radio","editor-type":"dxRadioGroup","editor-options":{dataSource:e.$mf.getCommandList(),displayExpr:"name",valueExpr:"value",onValueChanged:c},"validation-rules":a.validationRules,label:{visible:!1}},null,8,["editor-options","validation-rules"]),o(i(n.DxItem),{visible:!1,"data-field":"textbox",name:"textbox",label:{visible:!1}}),o(i(n.DxItem),{"item-type":"button","button-options":{width:150,left:0,type:"default",icon:"far fa-running",text:e.$t("settings.command.run"),useSubmitBehavior:!0}},null,8,["button-options"])]),_:1},8,["form-data","label-location"])],32)]))}};export{I as default};
