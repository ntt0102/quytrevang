import{bG as ce,e as E,bH as he,O as ge,aS as C,c as B,ae as F,bt as _e,$ as d,z as h,ab as x,F as g,W as me,aJ as ve,bI as fe,a_ as Te,V as A,a3 as _,bJ as Se,b0 as D,aI as be,bK as Ce,Y as M,b as v,a7 as xe,aY as ye,bL as Ie,bl as P,a1 as G,A as R,bM as Ee,bN as Be,r as Fe,ad as Ae,bO as De,g as Oe,d as H,f as U,n as Ve}from"./app-f37d1114.js";var o={},f="dxTagData",we="dx-tagbox",Ne="dx-tag-container",T="dx-tag",j="dx-tagbox-multi-tag",k="dx-tag-custom",K="dx-tag-remove-button",$e="dx-tagbox-only-select",z="dx-tagbox-single-line",Le="dx-tagbox-popup-wrapper",Me="dx-tag-content",Pe="dx-tagbox-default-template",Ge="dx-tagbox-custom-template",W="dx-native-click",Re="dx-texteditor-input-container",He=-.3,X=ce.inherit({_supportedKeys:function(){var e=this.callBase(),t=a=>this._list._keyboardHandler(a),n=this.option("rtlEnabled");return E({},e,{backspace:function(a){if(this._isCaretAtTheStart()){this._processKeyboardEvent(a),this._isTagRemoved=!0;var i=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),i.length!==0&&(this._preserveFocusedTag=!0,this._removeTagElement(i),delete this._preserveFocusedTag)}},upArrow:(a,i)=>a.altKey||!this._list?e.upArrow.call(this,a):t(i),downArrow:(a,i)=>a.altKey||!this._list?e.downArrow.call(this,a):t(i),del:function(a){if(!(!this._$focusedTag||!this._isCaretAtTheStart())){this._processKeyboardEvent(a),this._isTagRemoved=!0;var i=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(i),delete this._preserveFocusedTag}},enter:function(a,i){var l=this._list&&this._list.option("focusedElement")!==null,s=this.option("acceptCustomValue")&&!l;if(s){a.preventDefault(),this._searchValue()!==""&&this._customItemAddedHandler(a);return}this.option("opened")&&(this._saveValueChangeEvent(a),t(i),a.preventDefault())},space:function(a,i){var l=this.option("opened"),s=this._shouldRenderSearchEvent();l&&!s&&(this._saveValueChangeEvent(a),t(i),a.preventDefault())},leftArrow:function(a){if(!(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&n&&!this._$focusedTag)){a.preventDefault();var i=n?"next":"prev";this._moveTagFocus(i),!this.option("multiline")&&this._scrollContainer(i)}},rightArrow:function(a){if(!(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&!n&&!this._$focusedTag)){a.preventDefault();var i=n?"prev":"next";this._moveTagFocus(i),!this.option("multiline")&&this._scrollContainer(i)}}})},_processKeyboardEvent:function(e){e.preventDefault(),e.stopPropagation(),this._saveValueChangeEvent(e)},_isEmpty:function(){return this._getValue().length===0},_updateTagsContainer:function(e){this._$tagsContainer=e.addClass(Ne).addClass(W),this._$tagsContainer.parent().addClass(W)},_allowSelectItemByTab:function(){return!1},_isCaretAtTheStart:function(){var e=he(this._input());return e.start===0&&e.end===0},_moveTagFocus:function(e,t){if(!this._$focusedTag){var n=this._tagElements();this._$focusedTag=e==="next"?n.first():n.last(),this._toggleFocusClass(!0,this._$focusedTag);return}var a=this._$focusedTag[e](".".concat(T));a.length>0?this._replaceFocusedTag(a):(t||e==="next"&&this._isEditable())&&this._clearTagFocus()},_replaceFocusedTag:function(e){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=e,this._toggleFocusClass(!0,this._$focusedTag)},_clearTagFocus:function(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),delete this._$focusedTag)},_focusClassTarget:function(e){return e&&e.length&&e[0]!==this._focusTarget()[0]?e:this.callBase()},_getLabelContainer:function(){return this._$tagsContainer},_scrollContainer:function(e){if(!(this.option("multiline")||!ge())&&this._$tagsContainer){var t=this._getScrollPosition(e);this._$tagsContainer.scrollLeft(t)}},_getScrollPosition:function(e){return e==="start"||e==="end"?this._getBorderPosition(e):this._$focusedTag?this._getFocusedTagPosition(e):this._getBorderPosition("end")},_getBorderPosition:function(e){var t=this.option("rtlEnabled"),n=e==="end"^t,a=t?-1:1;return n^!t?0:a*(this._$tagsContainer.get(0).scrollWidth-C(this._$tagsContainer))},_getFocusedTagPosition:function(e){var t=this.option("rtlEnabled"),n=e==="next"^t,{left:a}=this._$focusedTag.position(),i=this._$tagsContainer.scrollLeft();return n&&(a+=C(this._$focusedTag,!0)-C(this._$tagsContainer)),n^a<0&&(i+=a),i},_setNextValue:B,_getDefaultOptions:function(){return E(this.callBase(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:F.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})},_init:function(){this.callBase(),this._selectedItems=[],this._initSelectAllValueChangedAction()},_initActions:function(){this.callBase(),this._initMultiTagPreparingAction()},_initMultiTagPreparingAction:function(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:function(e){this._multiTagPreparingHandler(e.args[0])}.bind(this),excludeValidators:["disabled","readOnly"]})},_multiTagPreparingHandler:function(e){var{length:t}=this._getValue();this.option("showMultiTagOnly")?e.text=F.getFormatter("dxTagBox-selected")(t):e.text=F.getFormatter("dxTagBox-moreSelected")(t-this.option("maxDisplayedTags")+1)},_initDynamicTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({tag:new _e((e,t)=>{var n,a=d("<div>").addClass(Me);d("<span>").text((n=t.text)!==null&&n!==void 0?n:t).appendTo(a),d("<div>").addClass(K).appendTo(a),e.append(a)},["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})},_toggleSubmitElement:function(e){e?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)},_renderSubmitElement:function(){this.option("useSubmitBehavior")&&(this._$submitElement=d("<select>").attr("multiple","multiple").css("display","none").appendTo(this.$element()))},_setSubmitValue:function(){if(this.option("useSubmitBehavior")){for(var e=this._getValue(),t=[],n=0,a=e.length;n<a;n++){var i=this._shouldUseDisplayValue(e[n]);t.push(d("<option>").val(i?this._displayGetter(e[n]):e[n]).attr("selected","selected"))}this._getSubmitElement().empty().append(t)}},_initMarkup:function(){this._tagElementsCache=d();var e=!this.option("multiline");this.$element().addClass(we).toggleClass($e,!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass(z,e),this._initTagTemplate(),this.callBase()},_render:function(){this.callBase(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")},_initTagTemplate:function(){this._tagTemplate=this._getTemplateByOption("tagTemplate")},_renderField:function(){var e=!h(this.option("fieldTemplate"));this.$element().toggleClass(Pe,e).toggleClass(Ge,!e),this.callBase()},_renderTagRemoveAction:function(){var e=this._createAction(this._removeTagHandler.bind(this)),t=x(Ae,"dxTagBoxTagRemove");g.off(this._$tagsContainer,t),g.on(this._$tagsContainer,t,".".concat(K),n=>{e({event:n})})},_renderSingleLineScroll:function(){var e=x("dxmousewheel",this.NAME),t=this.$element(),n=this.option("multiline");if(g.off(t,e),me.real().deviceType!=="desktop"){this._$tagsContainer&&this._$tagsContainer.css("overflowX",n?"":"auto");return}n||g.on(t,e,this._tagContainerMouseWheelHandler.bind(this))},_tagContainerMouseWheelHandler:function(e){var t=this._$tagsContainer.scrollLeft(),n=e.delta*He;if(!ve(e)&&fe(this._$tagsContainer,n,!0))return this._$tagsContainer.scrollLeft(t+n),!1},_renderEvents:function(){this.callBase();var e=this._input(),t=x("keydown",this.NAME);g.on(e,t,n=>{var a=Te(n);!this._isControlKey(a)&&this._isEditable()&&this._clearTagFocus()})},_popupWrapperClass:function(){return this.callBase()+" "+Le},_renderInput:function(){this.callBase(),this._renderPreventBlurOnInputClick()},_renderPreventBlurOnInputClick:function(){var e=x("mousedown","dxTagBox");g.off(this._inputWrapper(),e),g.on(this._inputWrapper(),e,t=>{t.target!==this._input()[0]&&this._isFocused()&&t.preventDefault()})},_renderInputValueImpl:function(){return this._renderMultiSelect()},_loadInputValue:function(){return A()},_clearTextValue:function(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")},_focusInHandler:function(e){this._preventNestedFocusEvent(e)||this._scrollContainer("end"),this.callBase(e)},_renderInputValue:function(){return this.option("displayValue",this._searchValue()),this.callBase()},_restoreInputText:function(e){e||this._clearTextValue()},_focusOutHandler:function(e){this._preventNestedFocusEvent(e)||(this._clearTagFocus(),this._scrollContainer("start")),this.callBase(e)},_getFirstPopupElement:function(){return this.option("showSelectionControls")?this._list.$element():this.callBase()},_initSelectAllValueChangedAction:function(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")},_renderList:function(){this.callBase(),this._setListDataSourceFilter(),this.option("showSelectionControls")&&(this._list.registerKeyHandler("tab",e=>this._popupElementTabHandler(e)),this._list.registerKeyHandler("escape",e=>this._popupElementEscHandler(e)))},_canListHaveFocus:function(){return this.option("applyValueMode")==="useButtons"},_listConfig:function(){var e=this.option("showSelectionControls")?"all":"multiple";return E(this.callBase(),{selectionMode:e,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:t=>{var{value:n}=t;this._selectAllValueChangeAction({value:n})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})},_renderMultiSelect:function(){var e=new _;return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(()=>{this._popup&&this._popup.refreshPosition(),e.resolve()}).fail(e.reject),e.promise()},_listItemClickHandler:function(e){!this.option("showSelectionControls")&&this._clearTextValue(),this.option("applyValueMode")!=="useButtons"&&(this.callBase(e),this._saveValueChangeEvent(void 0))},_shouldClearFilter:function(){var e=this.callBase(),t=this.option("showSelectionControls");return!t&&e},_renderInputSize:function(){var e=this._input(),t=e.val(),n=R(t)&&t,a="",i="",l=this.option("searchEnabled")||this.option("acceptCustomValue");if(n&&l){var s=Se(e,t,{includePaddings:!0});s.insertAfter(e),a=C(s)+5,s.remove()}else t||(i=1);e.css("width",a),e.attr("size",i)},_renderInputSubstitution:function(){this.callBase(),this._updateWidgetHeight()},_getValue:function(){return this.option("value")||[]},_multiTagRequired:function(){var e=this._getValue(),t=this.option("maxDisplayedTags");return h(t)&&e.length>t},_renderMultiTag:function(e){var t=d("<div>").addClass(T).addClass(j),n={multiTagElement:D(t),selectedItems:this.option("selectedItems")};return this._multiTagPreparingAction(n),n.cancel?!1:(t.data(f,n.text),t.insertBefore(e),this._tagTemplate.render({model:n.text,container:D(t)}),t)},_getFilter:function(e){var t=this._dataSource.filter(),n=e.getCombinedFilter(this.option("valueExpr"),t),a=encodeURI(JSON.stringify(n)).length,i=this.option("maxFilterQueryLength");if(a<=i)return n;be.log("W1019",i)},_getFilteredItems:function(e){var t,n,a;(t=this._loadFilteredItemsPromise)===null||t===void 0||t.reject();var i=new De(e),l=(n=this._list)===null||n===void 0?void 0:n.option("selectedItems"),s=!!l&&((a=this._list.getDataSource())===null||a===void 0?void 0:a.isLoaded()),S=l||this.option("selectedItems"),u=i.getLocalFilter(this._valueGetter),p=S.filter(u),b=p.length===e.length,c=new _,m=this._dataSource;if(m){if((!this._isDataSourceChanged||s)&&b)return c.resolve(p).promise();var{customQueryParams:I,expand:le,select:oe}=m.loadOptions(),se=this._getFilter(i);return m.store().load({filter:se,customQueryParams:I,expand:le,select:oe}).done((re,ue)=>{if(this._isDataSourceChanged=!1,this._disposed){c.reject();return}var{data:de}=Ce(re,ue),pe=m._applyMapFunction(de);c.resolve(pe.filter(u))}).fail(c.reject),this._loadFilteredItemsPromise=c,c.promise()}else return c.resolve([]).promise()},_createTagsData:function(e,t){var n=[],a={},i=this._valueGetterExpr()==="this",l={};t.forEach(u=>{var p=i?JSON.stringify(u):this._valueGetter(u);l[p]=u});var s=[];e.forEach((u,p)=>{var b=l[i?JSON.stringify(u):u];if(i&&!h(b))s.push(this._loadItem(u,a).always(m=>{var I=this._createTagData(n,m,u,p);n.splice(p,0,I)}));else{var c=this._createTagData(n,b,u,p);n.splice(p,0,c)}});var S=new _;return A.apply(this,s).always(function(){S.resolve(n)}),S.promise()},_createTagData:function(e,t,n,a){if(h(t))return this._selectedItems.push(t),t;var i=this.option("selectedItem"),l=this._valueGetter(i)===n?i:n;return l},_isGroupedData:function(){var e;return this.option("grouped")&&!((e=this._dataSource)!==null&&e!==void 0&&e.group())},_getItemsByValues:function(e){var t=[];return e.forEach(function(n){var a=this._getItemFromPlain(n);h(a)&&t.push(a)}.bind(this)),t},_getFilteredGroupedItems:function(e){var t=new _;return this._dataSource&&(this._filteredGroupedItemsLoadPromise&&this._dataSource.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataSource.items().length?t.resolve(this._getItemsByValues(e)):this._filteredGroupedItemsLoadPromise=this._dataSource.load().done(()=>{t.resolve(this._getItemsByValues(e))}).fail(()=>{t.resolve([])}).always(()=>{this._filteredGroupedItemsLoadPromise=void 0})),t.promise()},_loadTagsData:function(){var e=this._getValue(),t=new _;this._selectedItems=[];var n=this._isGroupedData()?this._getFilteredGroupedItems(e):this._getFilteredItems(e);return n.done(a=>{var i=this._createTagsData(e,a);i.always(function(l){t.resolve(l)})}).fail(t.reject.bind(this)),t.promise()},_renderTags:function(){var e=new _,t=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._renderTagsImpl(this._selectedItems),t=!0,e.resolve())),t||this._loadTagsData().done(n=>{if(this._disposed){e.reject();return}this._renderTagsImpl(n),e.resolve()}).fail(e.reject),e.promise()},_renderTagsImpl:function(e){this._renderTagsCore(e),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus()},_shouldGetItemsFromPlain:function(e){return e&&this._dataSource.isLoaded()&&e.length<=this._getPlainItems().length},_getItemsFromPlain:function(e){var t=this._getSelectedItemsFromList(e),n=t.length===0&&e.length>0||t.length<e.length;if(n){var a=this._getPlainItems();t=this._filterSelectedItems(a,e)}return t},_getSelectedItemsFromList:function(e){var t,n=(t=this._list)===null||t===void 0?void 0:t.option("selectedItems"),a=[];return e.length===(n==null?void 0:n.length)&&(a=this._filterSelectedItems(n,e)),a},_filterSelectedItems:function(e,t){var n=e.filter(a=>{for(var i,l=0;l<t.length;l++)if(i=t[l],M(i)){if(this._isValueEquals(a,i))return!0}else if(this._isValueEquals(this._valueGetter(a),i))return!0;return!1},this);return n},_integrateInput:function(){this._isInputReady.resolve(),this.callBase(),this._updateTagsContainer(d(".".concat(Re))),this._renderTagRemoveAction()},_renderTagsCore:function(e){var t;(t=this._isInputReady)===null||t===void 0||t.reject(),this._isInputReady=new _,this._renderField(),this.option("selectedItems",this._selectedItems.slice()),this._cleanTags(),this._input().length>0&&this._isInputReady.resolve(),A(this._isInputReady).done(()=>{this._renderTagsElements(e)})},_renderTagsElements(e){var t=this._multiTagRequired()&&this._renderMultiTag(this._input()),n=this.option("showMultiTagOnly"),a=this.option("maxDisplayedTags");e.forEach((i,l)=>{if(t&&n||t&&!n&&l-a>=-1)return!1;this._renderTag(i,t||this._input())}),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()},_cleanTags:function(){if(this._multiTagRequired())this._tagElements().remove();else{var e=this._tagElements(),t=this._getValue();v(e,function(n,a){var i=d(a),l=xe(i.data(f),t);l<0&&i.remove()})}},_renderEmptyState:function(){var e=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(e),this._renderDisplayText()},_renderDisplayText:function(){this._renderInputSize()},_refreshTagElements:function(){this._tagElementsCache=this.$element().find(".".concat(T))},_tagElements:function(){return this._tagElementsCache},_applyTagTemplate:function(e,t){this._tagTemplate.render({model:e,container:D(t)})},_renderTag:function(e,t){var n=this._valueGetter(e);if(h(n)){var a=this._getTag(n),i=this._displayGetter(e),l=this._getItemModel(e,i);a?(h(i)&&(a.empty(),this._applyTagTemplate(l,a)),a.removeClass(k)):(a=this._createTag(n,t),h(e)?this._applyTagTemplate(l,a):(a.addClass(k),this._applyTagTemplate(n,a)))}},_getItemModel:function(e,t){return M(e)&&h(t)?e:ye(t,"")},_getTag:function(e){for(var t=this._tagElements(),n=t.length,a=!1,i=0;i<n;i++){var l=t[i],s=Ie(l,f);if(e===s||P(e,s)){a=d(l);break}}return a},_createTag:function(e,t){return d("<div>").addClass(T).data(f,e).insertBefore(t)},_toggleEmptinessEventHandler:function(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)},_customItemAddedHandler:function(e){this.callBase(e),this._clearTextValue()},_removeTagHandler:function(e){var t=e.event;t.stopPropagation(),this._saveValueChangeEvent(t);var n=d(t.target).closest(".".concat(T));this._removeTagElement(n)},_removeTagElement:function(e){if(e.hasClass(j)){this.option("showMultiTagOnly")?this.reset():this.option("value",this._getValue().slice(0,this.option("maxDisplayedTags")));return}var t=e.data(f);this._removeTagWithUpdate(t),this._refreshTagElements()},_updateField:B,_removeTagWithUpdate:function(e){var t=this._getValue().slice();this._removeTag(t,e),this.option("value",t),t.length===0&&this._clearTagFocus()},_getCurrentValue:function(){return this._lastValue()},_selectionChangeHandler:function(e){if(this.option("applyValueMode")!=="useButtons"){var t=this._getValue().slice();if(v(e.removedItems||[],(a,i)=>{this._removeTag(t,this._valueGetter(i))}),v(e.addedItems||[],(a,i)=>{this._addTag(t,this._valueGetter(i))}),this._updateWidgetHeight(),!P(this._list.option("selectedItemKeys"),this.option("value"))){var n=this._list._getSelectionChangeEvent();n&&this._saveValueChangeEvent(n),this.option("value",t)}this._list._saveSelectionChangeEvent(void 0)}},_removeTag:function(e,t){var n=this._valueIndex(t,e);n>=0&&e.splice(n,1)},_addTag:function(e,t){var n=this._valueIndex(t);n<0&&e.push(t)},_fieldRenderData:function(){return this._selectedItems.slice()},_completeSelection:function(e){this.option("showSelectionControls")||this._setValue(e)},_setValue:function(e){if(e!==null){var t=this.option("applyValueMode")==="useButtons",n=this._valueIndex(e),a=(t?this._list.option("selectedItemKeys"):this._getValue()).slice();n>=0?a.splice(n,1):a.push(e),this.option("applyValueMode")==="useButtons"?this._list.option("selectedItemKeys",a):this.option("value",a)}},_isSelectedValue:function(e,t){return this._valueIndex(e,null,t)>-1},_valueIndex:function(e,t,n){var a=-1;return n&&typeof e!="object"&&(n.indexByValues||(n.indexByValues={},t=t||this._getValue(),t.forEach(function(i,l){n.indexByValues[i]=l})),e in n.indexByValues)?n.indexByValues[e]:(t=t||this._getValue(),v(t,(i,l)=>{if(this._isValueEquals(e,l))return a=i,!1}),a)},_lastValue:function(){var e=this._getValue(),t=e[e.length-1];return t??null},_valueChangeEventHandler:B,_shouldRenderSearchEvent:function(){return this.option("searchEnabled")||this.option("acceptCustomValue")},_searchHandler:function(e){this.option("searchEnabled")&&e&&!this._isTagRemoved&&(this.callBase(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved},_updateWidgetHeight:function(){var e=this.$element(),t=G(e);this._renderInputSize();var n=G(e);this._popup&&this.option("opened")&&this._isEditable()&&n!==t&&this._popup.repaint()},_refreshSelected:function(){var e;!((e=this._list)===null||e===void 0)&&e.getDataSource()&&this._list.option("selectedItems",this._selectedItems)},_resetListDataSourceFilter:function(){var e=this._getDataSource();e&&(delete this._userFilter,e.filter(null),e.reload())},_setListDataSourceFilter:function(){if(!(!this.option("hideSelectedItems")||!this._list)){var e=this._getDataSource();if(e){var t=this._valueGetterExpr();if(R(t)&&t!=="this"){var n=this._dataSourceFilterExpr();this._userFilter===void 0&&(this._userFilter=e.filter()||null),this._userFilter&&n.push(this._userFilter),n.length?e.filter(n):e.filter(null)}else e.filter(this._dataSourceFilterFunction.bind(this));e.load()}}},_dataSourceFilterExpr:function(){var e=[];return v(this._getValue(),(t,n)=>{e.push(["!",[this._valueGetterExpr(),n]])}),e},_dataSourceFilterFunction:function(e){var t=this._valueGetter(e),n=!0;return v(this._getValue(),(a,i)=>{if(this._isValueEquals(i,t))return n=!1,!1}),n},_dataSourceChangedHandler:function(){this._isDataSourceChanged=!0,this.callBase.apply(this,arguments)},_applyButtonHandler:function(e){this._saveValueChangeEvent(e.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),this.callBase(),this._cancelSearchIfNeed()},_getSortedListValues:function(){var e=this._getListValues(),t=this.option("value")||[],n=e.length?Ee(t,e):[],a=n.length?Be(e,t):e;return n.concat(a)},_getListValues:function(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map(e=>this._valueGetter(e)):[]},_setListDataSource:function(){var e=this._getValue();this.callBase(),e!==this.option("value")&&this.option("value",e),this._refreshSelected()},_renderOpenedState:function(){this.callBase(),this.option("applyValueMode")==="useButtons"&&!this.option("opened")&&this._refreshSelected()},reset:function(){this._restoreInputText();var e=this._getDefaultOptions().value,t=this.option("value");e&&e.length===0&&t&&e.length===t.length||this.callBase()},_clean:function(){this.callBase(),delete this._defaultTagTemplate,delete this._valuesToUpdate,delete this._tagTemplate},_getSelectedItemsDifference(e,t){if(!e.length)return{addedItems:[],removedItems:t.slice()};if(!t.length)return{addedItems:e.slice(),removedItems:[]};var n=t.reduce((i,l)=>{var s=this._valueGetter(l);return i[s]=l,i},{}),a=[];return e.forEach(i=>{var l=this._valueGetter(i);n[l]||a.push(i),delete n[l]}),{addedItems:a,removedItems:Object.values(n)}},_optionChanged:function(e){var{name:t,value:n,previousValue:a}=e;switch(t){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":n?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(n);break;case"displayExpr":this.callBase(e),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":this.callBase(e),!n&&this._refreshEvents();break;case"value":this._valuesToUpdate=n,this.callBase(e),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(t,n);break;case"selectedItem":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(n,a));break;case"multiline":this.$element().toggleClass(z,!n),this._renderSingleLineScroll();break;case"maxFilterQueryLength":break;default:this.callBase(e)}},_getActualSearchValue:function(){return this.callBase()||this._searchValue()},_popupHidingHandler:function(){this.callBase(),this._clearFilter()}});Fe("dxTagBox",X);const je=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"})),ke=Oe(je);/*!
 * devextreme-vue
 * Version: 21.2.13
 * Build date: Fri Apr 07 2023
 *
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Ke=H&&H.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});o.DxToolbarItem=o.DxTo=o.DxShow=o.DxPosition=o.DxOptions=o.DxOffset=o.DxMy=o.DxItem=o.DxHide=o.DxFrom=o.DxDropDownOptions=o.DxCollision=o.DxButton=o.DxBoundaryOffset=o.DxAt=o.DxAnimation=o.DxTagBox=void 0;var ze=Ke(ke),We=U,r=U,q=We.createComponent({props:{acceptCustomValue:Boolean,accessKey:String,activeStateEnabled:Boolean,applyValueMode:String,buttons:Array,dataSource:{},deferRendering:Boolean,disabled:Boolean,displayExpr:[Function,String],dropDownButtonTemplate:{},dropDownOptions:Object,elementAttr:Object,fieldTemplate:{},focusStateEnabled:Boolean,grouped:Boolean,groupTemplate:{},height:[Function,Number,String],hideSelectedItems:Boolean,hint:String,hoverStateEnabled:Boolean,inputAttr:{},isValid:Boolean,items:Array,itemTemplate:{},label:String,labelMode:String,maxDisplayedTags:Number,maxFilterQueryLength:Number,maxLength:[Number,String],minSearchLength:Number,multiline:Boolean,name:String,noDataText:String,onChange:Function,onClosed:Function,onContentReady:Function,onCustomItemCreating:Function,onDisposing:Function,onEnterKey:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onInput:Function,onItemClick:Function,onKeyDown:Function,onKeyUp:Function,onMultiTagPreparing:Function,onOpened:Function,onOptionChanged:Function,onSelectAllValueChanged:Function,onSelectionChanged:Function,onValueChanged:Function,opened:Boolean,openOnFieldClick:Boolean,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,searchEnabled:Boolean,searchExpr:[Array,Function,String],searchMode:String,searchTimeout:Number,selectAllMode:String,selectAllText:String,selectedItems:Array,showClearButton:Boolean,showDataBeforeSearch:Boolean,showDropDownButton:Boolean,showMultiTagOnly:Boolean,showSelectionControls:Boolean,stylingMode:String,tabIndex:Number,tagTemplate:{},text:String,useItemTextAsTitle:Boolean,validationError:{},validationErrors:Array,validationMessageMode:String,validationStatus:String,value:Array,valueExpr:[Function,String],visible:Boolean,width:[Function,Number,String],wrapItemText:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptCustomValue":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:applyValueMode":null,"update:buttons":null,"update:dataSource":null,"update:deferRendering":null,"update:disabled":null,"update:displayExpr":null,"update:dropDownButtonTemplate":null,"update:dropDownOptions":null,"update:elementAttr":null,"update:fieldTemplate":null,"update:focusStateEnabled":null,"update:grouped":null,"update:groupTemplate":null,"update:height":null,"update:hideSelectedItems":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:isValid":null,"update:items":null,"update:itemTemplate":null,"update:label":null,"update:labelMode":null,"update:maxDisplayedTags":null,"update:maxFilterQueryLength":null,"update:maxLength":null,"update:minSearchLength":null,"update:multiline":null,"update:name":null,"update:noDataText":null,"update:onChange":null,"update:onClosed":null,"update:onContentReady":null,"update:onCustomItemCreating":null,"update:onDisposing":null,"update:onEnterKey":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onInput":null,"update:onItemClick":null,"update:onKeyDown":null,"update:onKeyUp":null,"update:onMultiTagPreparing":null,"update:onOpened":null,"update:onOptionChanged":null,"update:onSelectAllValueChanged":null,"update:onSelectionChanged":null,"update:onValueChanged":null,"update:opened":null,"update:openOnFieldClick":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:searchEnabled":null,"update:searchExpr":null,"update:searchMode":null,"update:searchTimeout":null,"update:selectAllMode":null,"update:selectAllText":null,"update:selectedItems":null,"update:showClearButton":null,"update:showDataBeforeSearch":null,"update:showDropDownButton":null,"update:showMultiTagOnly":null,"update:showSelectionControls":null,"update:stylingMode":null,"update:tabIndex":null,"update:tagTemplate":null,"update:text":null,"update:useItemTextAsTitle":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationStatus":null,"update:value":null,"update:valueExpr":null,"update:visible":null,"update:width":null,"update:wrapItemText":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=ze.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={button:{isCollectionItem:!0,optionName:"buttons"},dropDownOptions:{isCollectionItem:!1,optionName:"dropDownOptions"},item:{isCollectionItem:!0,optionName:"items"}}}});o.DxTagBox=q;var O=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:hide":null,"update:show":null},props:{hide:[Object,Number,String],show:[Object,Number,String]}});o.DxAnimation=O;O.$_optionName="animation";O.$_expectedChildren={hide:{isCollectionItem:!1,optionName:"hide"},show:{isCollectionItem:!1,optionName:"show"}};var Q=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});o.DxAt=Q;Q.$_optionName="at";var J=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});o.DxBoundaryOffset=J;J.$_optionName="boundaryOffset";var y=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:location":null,"update:name":null,"update:options":null},props:{location:String,name:String,options:Object}});o.DxButton=y;y.$_optionName="buttons";y.$_isCollectionItem=!0;y.$_expectedChildren={options:{isCollectionItem:!1,optionName:"options"}};var Y=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});o.DxCollision=Y;Y.$_optionName="collision";var V=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:animation":null,"update:bindingOptions":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,activeStateEnabled:Boolean,animation:Object,bindingOptions:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}}});o.DxDropDownOptions=V;V.$_optionName="dropDownOptions";V.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}};var w=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});o.DxFrom=w;w.$_optionName="from";w.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};var N=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});o.DxHide=N;N.$_optionName="hide";N.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};var $=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:template":null,"update:text":null,"update:visible":null},props:{disabled:Boolean,html:String,template:{},text:String,visible:Boolean}});o.DxItem=$;$.$_optionName="items";$.$_isCollectionItem=!0;var Z=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});o.DxMy=Z;Z.$_optionName="my";var ee=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});o.DxOffset=ee;ee.$_optionName="offset";var te=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:bindingOptions":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:icon":null,"update:onClick":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:template":null,"update:text":null,"update:type":null,"update:useSubmitBehavior":null,"update:validationGroup":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,bindingOptions:Object,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,icon:String,onClick:Function,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,template:{},text:String,type:String,useSubmitBehavior:Boolean,validationGroup:String,visible:Boolean,width:[Function,Number,String]}});o.DxOptions=te;te.$_optionName="options";var ne=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:at":null,"update:boundary":null,"update:boundaryOffset":null,"update:collision":null,"update:my":null,"update:of":null,"update:offset":null},props:{at:[Object,String],boundary:{},boundaryOffset:[Object,String],collision:[Object,String],my:[Object,String],of:{},offset:[Object,String]}});o.DxPosition=ne;ne.$_optionName="position";var ae=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});o.DxShow=ae;ae.$_optionName="show";var ie=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});o.DxTo=ie;ie.$_optionName="to";var L=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:location":null,"update:options":null,"update:template":null,"update:text":null,"update:toolbar":null,"update:visible":null,"update:widget":null},props:{disabled:Boolean,html:String,location:String,options:{},template:{},text:String,toolbar:String,visible:Boolean,widget:String}});o.DxToolbarItem=L;L.$_optionName="toolbarItems";L.$_isCollectionItem=!0;var Ue=o.default=q;const Xe={components:{DxTagBox:Ue},props:{width:{type:Number,default:()=>300},height:{type:Number,default:()=>400},value:{type:Array,default:()=>[]},onValueChanged:{type:Function,default:()=>function(){}},dataSource:{type:Array,default:()=>[]},dataGridComponent:{type:Object,default:()=>{}}},data(){return{currentValue:this.value}},methods:{onSelectionChanged(){this.dataGridComponent.updateDimensions()}}};var qe=function(){var t=this,n=t._self._c;return n("DxTagBox",{attrs:{"data-source":t.dataSource,value:t.currentValue,"show-selection-controls":!0,"max-displayed-tags":3,"show-multi-tag-only":!1,"on-value-changed":a=>t.onValueChanged(a.value),"on-selection-changed":t.onSelectionChanged,"search-enabled":!0,dropDownOptions:{width:t.width,height:t.height}}})},Qe=[],Je=Ve(Xe,qe,Qe,!1,null,"8e9ab53f",null,null);const Ze=Je.exports;export{Ze as L};
