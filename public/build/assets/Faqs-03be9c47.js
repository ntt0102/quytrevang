import{M as ei,bR as Ha,aw as hi,ay as tn,ab as _e,bG as vo,Q as ue,R as xn,a6 as un,b1 as ir,$ as Ut,an as Mr,ba as Dr,bS as Dn,bT as dn,bU as mn,al as Cr,a0 as hn,as as Qt,ai as fe,ah as ri,W as ni,U as pi,aj as Pe,bb as Fn,bV as Fa,b8 as Ua,aV as mo,bW as Wa,bX as kn,bY as yo,bZ as $a,b7 as en,b_ as Ka,ar as Oe,bf as Bn,ag as xe,b$ as za,aC as vi,c0 as jn,c1 as Za,c2 as Va,c3 as go,az as ii,c4 as yn,au as Ga,c5 as qa,bz as Ki,aq as bo,c6 as Xa,af as oi,c7 as zi,c8 as Qa,a7 as Ya,T as _o,c9 as Ja,ca as Zi,cb as tl,ad as el,a_ as rl,cc as nl,cd as il,ce as ol,S as al,bc as ll,cf as Rn,L as sl,N as Oo,u as ul,r as Vi,a as cl,w as fl,E as dl,b as hl,d as pl,e as Jr,f as Gi,g as pn,h as vl,k as Zn,l as ml,o as yl,D as In,m as gl}from"./app-87386411.js";import{F as Eo}from"./FileManager-9712957a.js";import{_ as bl}from"./PickImagePopup-dd302913.js";var pe={},Co={exports:{}};/*!
 * DevExtreme-Quill Editor v.1.6.3
 * https://js.devexpress.com/
 * Copyright (c) 2020, Developer Express Inc.
 * Copyright (c) 2017, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(r,e){(function(R,tt){r.exports=tt()})(ei,()=>(()=>{var n={1674:(p,C,t)=>{t.d(C,{Z:()=>E});var y=t(1233),h=t(3866),v=t(3398);function b(o){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},b(o)}function D(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function M(o,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(o,P(O.key),O)}}function N(o,s,c){return s&&M(o.prototype,s),c&&M(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}function P(o){var s=S(o,"string");return b(s)==="symbol"?s:String(s)}function S(o,s){if(b(o)!=="object"||o===null)return o;var c=o[Symbol.toPrimitive];if(c!==void 0){var O=c.call(o,s||"default");if(b(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get.bind():I=function(s,c,O){var L=x(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},I.apply(this,arguments)}function x(o,s){for(;!Object.prototype.hasOwnProperty.call(o,s)&&(o=m(o),o!==null););return o}function B(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&W(o,s)}function W(o,s){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},W(o,s)}function A(o){var s=k();return function(){var O=m(o),L;if(s){var j=m(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return U(this,L)}}function U(o,s){if(s&&(b(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(o)}function $(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(o){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},m(o)}var E=function(o){B(c,o);var s=A(c);function c(O,L){var j,z,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return D(this,c),z=s.call(this,O,L,et),z.allowedTags=(j=et.allowedTags)!==null&&j!==void 0?j:[],z}return N(c,[{key:"add",value:function(L,j){return h.Mx.call(this,I(m(c.prototype),"add",this),L,j)}},{key:"remove",value:function(L){return h.Mx.call(this,I(m(c.prototype),"remove",this),L)}},{key:"value",value:function(L){return h.Mx.call(this,I(m(c.prototype),"value",this),L)}},{key:"canAdd",value:function(L,j){return h.ud.call(this,I(m(c.prototype),"canAdd",this),L,j)}}],[{key:"keys",value:function(L){return(0,h.dj)(I(m(c),"keys",this),L,v.WT.attribute)}}]),c}(y.Attributor)},3866:(p,C,t)=>{t.d(C,{Mx:()=>h,dj:()=>b,ud:()=>v});var y=t(3398);function h(D){var M=this.keyName;this.keyName=(0,y.mQ)(this.keyName);for(var N=arguments.length,P=new Array(N>1?N-1:0),S=1;S<N;S++)P[S-1]=arguments[S];var I=D.call.apply(D,[this].concat(P));return this.keyName=M,I}function v(D,M,N){var P=this.allowedTags.indexOf(M.tagName)>-1;return P&&D.call(this,M,N)}function b(D,M,N){return D(M).map(function(P){return(0,y.jf)(M.tagName,P,N)})}},4569:(p,C,t)=>{t.d(C,{Z:()=>E});var y=t(1233),h=t(3866),v=t(3398);function b(o){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},b(o)}function D(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function M(o,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(o,P(O.key),O)}}function N(o,s,c){return s&&M(o.prototype,s),c&&M(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}function P(o){var s=S(o,"string");return b(s)==="symbol"?s:String(s)}function S(o,s){if(b(o)!=="object"||o===null)return o;var c=o[Symbol.toPrimitive];if(c!==void 0){var O=c.call(o,s||"default");if(b(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get.bind():I=function(s,c,O){var L=x(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},I.apply(this,arguments)}function x(o,s){for(;!Object.prototype.hasOwnProperty.call(o,s)&&(o=m(o),o!==null););return o}function B(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&W(o,s)}function W(o,s){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},W(o,s)}function A(o){var s=k();return function(){var O=m(o),L;if(s){var j=m(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return U(this,L)}}function U(o,s){if(s&&(b(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(o)}function $(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(o){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},m(o)}var E=function(o){B(c,o);var s=A(c);function c(O,L){var j,z,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return D(this,c),z=s.call(this,O,L,et),z.allowedTags=(j=et.allowedTags)!==null&&j!==void 0?j:[],z}return N(c,[{key:"add",value:function(L,j){return h.Mx.call(this,I(m(c.prototype),"add",this),L,j)}},{key:"remove",value:function(L){return h.Mx.call(this,I(m(c.prototype),"remove",this),L)}},{key:"value",value:function(L){return h.Mx.call(this,I(m(c.prototype),"value",this),L)}},{key:"canAdd",value:function(L,j){return h.ud.call(this,I(m(c.prototype),"canAdd",this),L,j)}}],[{key:"keys",value:function(L){return(0,h.dj)(I(m(c),"keys",this),L,v.WT.style)}}]),c}(y.StyleAttributor)},3398:(p,C,t)=>{t.d(C,{WT:()=>S,jf:()=>x,mQ:()=>B});var y=t(19),h=t(8252);function v(W){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},v(W)}function b(W,A){var U=Object.keys(W);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(W);A&&($=$.filter(function(k){return Object.getOwnPropertyDescriptor(W,k).enumerable})),U.push.apply(U,$)}return U}function D(W){for(var A=1;A<arguments.length;A++){var U=arguments[A]!=null?arguments[A]:{};A%2?b(Object(U),!0).forEach(function($){M(W,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(U)):b(Object(U)).forEach(function($){Object.defineProperty(W,$,Object.getOwnPropertyDescriptor(U,$))})}return W}function M(W,A,U){return A=N(A),A in W?Object.defineProperty(W,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):W[A]=U,W}function N(W){var A=P(W,"string");return v(A)==="symbol"?A:String(A)}function P(W,A){if(v(W)!=="object"||W===null)return W;var U=W[Symbol.toPrimitive];if(U!==void 0){var $=U.call(W,A||"default");if(v($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(W)}var S={attribute:"attr",style:"style"},I=D(D({},y.Sp.allowedTags.reduce(function(W,A){return W[A]={name:y.Sp.name,keyNamesSet:y.bc},W},{})),h.Pw.allowedTags.reduce(function(W,A){return W[A]={name:h.Pw.name,keyNamesSet:h.fU},W},{}));function x(W,A,U){var $=I[W];return $&&$.keyNamesSet.has(A)?"".concat(U).concat($.name,"_").concat(A):A}function B(W){return W.replace(/([^]*_)/,"")}},6446:(p,C,t)=>{t.d(C,{i2:()=>ht,qz:()=>at,E2:()=>_t,ZP:()=>ft});var y=t(9098),h=t.n(y),v=t(1233),b=t(4122),D=t(6603),M=t(8222),N=t(3398);function P(q,pt,nt,st){return nt.map(F=>{const w=st?(0,N.jf)(q,F,st):F;return pt.scroll.query(w,v.Scope.ATTRIBUTE)}).filter(F=>F instanceof v.Attributor).reduce((F,w)=>(F[w.attrName]=w,F),{})}function S(){v.AttributorStore.prototype.build=function(){const{tagName:q}=this.domNode,pt=v.Registry.find(this.domNode);if(pt==null)return;const nt=v.Attributor.keys(this.domNode),st=v.ClassAttributor.keys(this.domNode),F=v.StyleAttributor.keys(this.domNode);this.attributes={...P(q,pt,nt,N.WT.attribute),...P(q,pt,st),...P(q,pt,F,N.WT.style)}}}function I(q){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pt){return typeof pt}:function(pt){return pt&&typeof Symbol=="function"&&pt.constructor===Symbol&&pt!==Symbol.prototype?"symbol":typeof pt},I(q)}function x(q,pt){var nt=Object.keys(q);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(q);pt&&(st=st.filter(function(F){return Object.getOwnPropertyDescriptor(q,F).enumerable})),nt.push.apply(nt,st)}return nt}function B(q){for(var pt=1;pt<arguments.length;pt++){var nt=arguments[pt]!=null?arguments[pt]:{};pt%2?x(Object(nt),!0).forEach(function(st){W(q,st,nt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(nt)):x(Object(nt)).forEach(function(st){Object.defineProperty(q,st,Object.getOwnPropertyDescriptor(nt,st))})}return q}function W(q,pt,nt){return pt=k(pt),pt in q?Object.defineProperty(q,pt,{value:nt,enumerable:!0,configurable:!0,writable:!0}):q[pt]=nt,q}function A(q,pt){if(!(q instanceof pt))throw new TypeError("Cannot call a class as a function")}function U(q,pt){for(var nt=0;nt<pt.length;nt++){var st=pt[nt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(q,k(st.key),st)}}function $(q,pt,nt){return pt&&U(q.prototype,pt),nt&&U(q,nt),Object.defineProperty(q,"prototype",{writable:!1}),q}function k(q){var pt=m(q,"string");return I(pt)==="symbol"?pt:String(pt)}function m(q,pt){if(I(q)!=="object"||q===null)return q;var nt=q[Symbol.toPrimitive];if(nt!==void 0){var st=nt.call(q,pt||"default");if(I(st)!=="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return(pt==="string"?String:Number)(q)}function E(){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get.bind():E=function(pt,nt,st){var F=o(pt,nt);if(F){var w=Object.getOwnPropertyDescriptor(F,nt);return w.get?w.get.call(arguments.length<3?pt:st):w.value}},E.apply(this,arguments)}function o(q,pt){for(;!Object.prototype.hasOwnProperty.call(q,pt)&&(q=et(q),q!==null););return q}function s(q,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(pt&&pt.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),pt&&c(q,pt)}function c(q,pt){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(st,F){return st.__proto__=F,st},c(q,pt)}function O(q){var pt=z();return function(){var st=et(q),F;if(pt){var w=et(this).constructor;F=Reflect.construct(st,arguments,w)}else F=st.apply(this,arguments);return L(this,F)}}function L(q,pt){if(pt&&(I(pt)==="object"||typeof pt=="function"))return pt;if(pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(q)}function j(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(q){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(nt){return nt.__proto__||Object.getPrototypeOf(nt)},et(q)}S();var ut=1,ft=function(q){s(nt,q);var pt=O(nt);function nt(st,F){var w;return A(this,nt),w=pt.call(this,st,F),w.cache={},w}return $(nt,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=at(this)),this.cache.delta}},{key:"deleteAt",value:function(F,w){E(et(nt.prototype),"deleteAt",this).call(this,F,w),this.cache={}}},{key:"formatAt",value:function(F,w,Q,J){w<=0||(this.scroll.query(Q,v.Scope.BLOCK)?F+w===this.length()&&this.format(Q,J):E(et(nt.prototype),"formatAt",this).call(this,F,Math.min(w,this.length()-F-1),Q,J),this.cache={})}},{key:"insertAt",value:function(F,w,Q){if(Q!=null){E(et(nt.prototype),"insertAt",this).call(this,F,w,Q),this.cache={};return}if(w.length!==0){var J=w.split(`
`),Y=J.shift();Y.length>0&&(F<this.length()-1||this.children.tail==null?E(et(nt.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var ct=this;J.reduce(function(mt,wt){return ct=ct.split(mt,!0),ct.insertAt(0,wt),wt.length},F+Y.length)}}},{key:"insertBefore",value:function(F,w){var Q=this.children.head;E(et(nt.prototype),"insertBefore",this).call(this,F,w),Q instanceof b.Z&&Q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=E(et(nt.prototype),"length",this).call(this)+ut),this.cache.length}},{key:"moveChildren",value:function(F,w){E(et(nt.prototype),"moveChildren",this).call(this,F,w),this.cache={}}},{key:"optimize",value:function(F){E(et(nt.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return E(et(nt.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){E(et(nt.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w&&(F===0||F>=this.length()-ut)){var Q=this.clone();return F===0?(this.parent.insertBefore(Q,this),this):(this.parent.insertBefore(Q,this.next),Q)}var J=E(et(nt.prototype),"split",this).call(this,F,w);return this.cache={},J}}]),nt}(v.BlockBlot);ft.blotName="block",ft.tagName="P",ft.defaultChild=b.Z,ft.allowedChildren=[b.Z,D.Z,v.EmbedBlot,M.Z];var ht=function(q){s(nt,q);var pt=O(nt);function nt(){return A(this,nt),pt.apply(this,arguments)}return $(nt,[{key:"attach",value:function(){E(et(nt.prototype),"attach",this).call(this),this.attributes=new v.AttributorStore(this.domNode)}},{key:"delta",value:function(){return new(h())().insert(this.value(),B(B({},this.formats()),this.attributes.values()))}},{key:"format",value:function(F,w){var Q=this.scroll.query(F,v.Scope.BLOCK_ATTRIBUTE);Q!=null&&this.attributes.attribute(Q,w)}},{key:"formatAt",value:function(F,w,Q,J){this.format(Q,J)}},{key:"insertAt",value:function(F,w,Q){if(typeof w=="string"&&w.endsWith(`
`)){var J=this.scroll.create(ft.blotName);this.parent.insertBefore(J,F===0?this:this.next),J.insertAt(0,w.slice(0,-1))}else E(et(nt.prototype),"insertAt",this).call(this,F,w,Q)}}]),nt}(v.EmbedBlot);ht.scope=v.Scope.BLOCK_BLOT;function at(q){var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return q.descendants(v.LeafBlot).reduce(function(nt,st){return st.length()===0?nt:nt.insert(st.value(),_t(st,{},pt))},new(h())).insert(`
`,_t(q))}function _t(q){var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return q==null||(typeof q.formats=="function"&&(pt=B(B({},pt),q.formats()),nt&&delete pt["code-token"]),q.parent==null||q.parent.statics.blotName==="scroll"||q.parent.statics.scope!==q.statics.scope)?pt:_t(q.parent,pt,nt)}},4122:(p,C,t)=>{t.d(C,{Z:()=>$});var y=t(1233);function h(k){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h(k)}function v(k,m){if(!(k instanceof m))throw new TypeError("Cannot call a class as a function")}function b(k,m){for(var E=0;E<m.length;E++){var o=m[E];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(k,M(o.key),o)}}function D(k,m,E){return m&&b(k.prototype,m),E&&b(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function M(k){var m=N(k,"string");return h(m)==="symbol"?m:String(m)}function N(k,m){if(h(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var o=E.call(k,m||"default");if(h(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(k)}function P(k,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(m&&m.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),m&&S(k,m)}function S(k,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},S(k,m)}function I(k){var m=W();return function(){var o=A(k),s;if(m){var c=A(this).constructor;s=Reflect.construct(o,arguments,c)}else s=o.apply(this,arguments);return x(this,s)}}function x(k,m){if(m&&(h(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(k)}function B(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},A(k)}var U=function(k){P(E,k);var m=I(E);function E(){return v(this,E),m.apply(this,arguments)}return D(E,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E}(y.EmbedBlot);U.blotName="break",U.tagName="BR";const $=U},3553:(p,C,t)=>{t.d(C,{Z:()=>$});var y=t(1233);function h(k){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h(k)}function v(k,m){for(var E=0;E<m.length;E++){var o=m[E];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(k,D(o.key),o)}}function b(k,m,E){return m&&v(k.prototype,m),E&&v(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function D(k){var m=M(k,"string");return h(m)==="symbol"?m:String(m)}function M(k,m){if(h(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var o=E.call(k,m||"default");if(h(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(k)}function N(k,m){if(!(k instanceof m))throw new TypeError("Cannot call a class as a function")}function P(k,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(m&&m.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),m&&S(k,m)}function S(k,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},S(k,m)}function I(k){var m=W();return function(){var o=A(k),s;if(m){var c=A(this).constructor;s=Reflect.construct(o,arguments,c)}else s=o.apply(this,arguments);return x(this,s)}}function x(k,m){if(m&&(h(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(k)}function B(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},A(k)}var U=function(k){P(E,k);var m=I(E);function E(){return N(this,E),m.apply(this,arguments)}return b(E)}(y.ContainerBlot);const $=U},3657:(p,C,t)=>{t.d(C,{Z:()=>E});var y=t(1233),h=t(8222);function v(o){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},v(o)}function b(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function D(o,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(o,N(O.key),O)}}function M(o,s,c){return s&&D(o.prototype,s),c&&D(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}function N(o){var s=P(o,"string");return v(s)==="symbol"?s:String(s)}function P(o,s){if(v(o)!=="object"||o===null)return o;var c=o[Symbol.toPrimitive];if(c!==void 0){var O=c.call(o,s||"default");if(v(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}function S(){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get.bind():S=function(s,c,O){var L=I(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},S.apply(this,arguments)}function I(o,s){for(;!Object.prototype.hasOwnProperty.call(o,s)&&(o=k(o),o!==null););return o}function x(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&B(o,s)}function B(o,s){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},B(o,s)}function W(o){var s=$();return function(){var O=k(o),L;if(s){var j=k(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return A(this,L)}}function A(o,s){if(s&&(v(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(o)}function U(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(o){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},k(o)}var m=function(o){x(c,o);var s=W(c);function c(O,L,j){var z;return b(this,c),z=s.call(this,O,L),z.selection=j,z.textNode=document.createTextNode(c.CONTENTS),z.domNode.appendChild(z.textNode),z.savedLength=0,z}return M(c,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(L,j){if(this.savedLength!==0){S(k(c.prototype),"format",this).call(this,L,j);return}for(var z=this,et=0;z!=null&&z.statics.scope!==y.Scope.BLOCK_BLOT;)et+=z.offset(z.parent),z=z.parent;z!=null&&(this.savedLength=c.CONTENTS.length,z.optimize(),z.formatAt(et,c.CONTENTS.length,L,j),this.savedLength=0)}},{key:"index",value:function(L,j){return L===this.textNode?0:S(k(c.prototype),"index",this).call(this,L,j)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){S(k(c.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||this.parent==null)return null;for(var L=this.selection.getNativeRange();this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var j=this.prev instanceof h.Z?this.prev:null,z=j?j.length():0,et=this.next instanceof h.Z?this.next:null,ut=et?et.text:"",ft=this.textNode,ht=ft.data.split(c.CONTENTS).join("");ft.data=c.CONTENTS;var at;if(j)at=j,(ht||et)&&(j.insertAt(j.length(),ht+ut),et&&et.remove());else if(et)at=et,et.insertAt(0,ht);else{var _t=document.createTextNode(ht);at=this.scroll.create(_t),this.parent.insertBefore(at,this)}if(this.remove(),L){var q=function(F,w){return j&&F===j.domNode?w:F===ft?z+w-1:et&&F===et.domNode?z+ht.length+w:null},pt=q(L.start.node,L.start.offset),nt=q(L.end.node,L.end.offset);if(pt!==null&&nt!==null)return{startNode:at.domNode,startOffset:pt,endNode:at.domNode,endOffset:nt}}return null}},{key:"update",value:function(L,j){var z=this;if(L.some(function(ut){return ut.type==="characterData"&&ut.target===z.textNode})){var et=this.restore();et&&(j.range=et)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),c}(y.EmbedBlot);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\uFEFF";const E=m},7452:(p,C,t)=>{t.d(C,{Z:()=>o});var y=t(1233),h=t(8222);function v(s){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},v(s)}function b(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function D(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,N(L.key),L)}}function M(s,c,O){return c&&D(s.prototype,c),O&&D(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function N(s){var c=P(s,"string");return v(c)==="symbol"?c:String(c)}function P(s,c){if(v(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(v(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function S(){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get.bind():S=function(c,O,L){var j=I(c,O);if(j){var z=Object.getOwnPropertyDescriptor(j,O);return z.get?z.get.call(arguments.length<3?c:L):z.value}},S.apply(this,arguments)}function I(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=k(s),s!==null););return s}function x(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&B(s,c)}function B(s,c){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},B(s,c)}function W(s){var c=$();return function(){var L=k(s),j;if(c){var z=k(this).constructor;j=Reflect.construct(L,arguments,z)}else j=L.apply(this,arguments);return A(this,j)}}function A(s,c){if(c&&(v(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(s)}function U(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(s){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},k(s)}var m="\uFEFF",E=function(s){x(O,s);var c=W(O);function O(L,j){var z;return b(this,O),z=c.call(this,L,j),z.contentNode=document.createElement("span"),z.contentNode.setAttribute("contenteditable",!1),Array.from(z.domNode.childNodes).forEach(function(et){z.contentNode.appendChild(et)}),z.leftGuard=document.createTextNode(m),z.rightGuard=document.createTextNode(m),z.domNode.appendChild(z.leftGuard),z.domNode.appendChild(z.contentNode),z.domNode.appendChild(z.rightGuard),z}return M(O,[{key:"index",value:function(j,z){return j===this.leftGuard?0:j===this.rightGuard?1:S(k(O.prototype),"index",this).call(this,j,z)}},{key:"restore",value:function(j){var z,et,ut=j.data.split(m).join("");if(j===this.leftGuard)if(this.prev instanceof h.Z){var ft=this.prev.length();this.prev.insertAt(ft,ut),z={startNode:this.prev.domNode,startOffset:ft+ut.length}}else et=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(et),this),z={startNode:et,startOffset:ut.length};else j===this.rightGuard&&(this.next instanceof h.Z?(this.next.insertAt(0,ut),z={startNode:this.next.domNode,startOffset:ut.length}):(et=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(et),this.next),z={startNode:et,startOffset:ut.length}));return j.data=m,z}},{key:"update",value:function(j,z){var et=this;j.forEach(function(ut){if(ut.type==="characterData"&&(ut.target===et.leftGuard||ut.target===et.rightGuard)){var ft=et.restore(ut.target);ft&&(z.range=ft)}})}}]),O}(y.EmbedBlot);const o=E},6603:(p,C,t)=>{t.d(C,{Z:()=>o});var y=t(1233),h=t(4122),v=t(8222);function b(s){"@babel/helpers - typeof";return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},b(s)}function D(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function M(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,P(L.key),L)}}function N(s,c,O){return c&&M(s.prototype,c),O&&M(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function P(s){var c=S(s,"string");return b(c)==="symbol"?c:String(c)}function S(s,c){if(b(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(b(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get.bind():I=function(c,O,L){var j=x(c,O);if(j){var z=Object.getOwnPropertyDescriptor(j,O);return z.get?z.get.call(arguments.length<3?c:L):z.value}},I.apply(this,arguments)}function x(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=m(s),s!==null););return s}function B(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&W(s,c)}function W(s,c){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},W(s,c)}function A(s){var c=k();return function(){var L=m(s),j;if(c){var z=m(this).constructor;j=Reflect.construct(L,arguments,z)}else j=L.apply(this,arguments);return U(this,j)}}function U(s,c){if(c&&(b(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(s)}function $(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(s){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},m(s)}var E=function(s){B(O,s);var c=A(O);function O(){return D(this,O),c.apply(this,arguments)}return N(O,[{key:"formatAt",value:function(j,z,et,ut){if(O.compare(this.statics.blotName,et)<0&&this.scroll.query(et,y.Scope.BLOT)){var ft=this.isolate(j,z);ut&&ft.wrap(et,ut)}else I(m(O.prototype),"formatAt",this).call(this,j,z,et,ut)}},{key:"optimize",value:function(j){if(I(m(O.prototype),"optimize",this).call(this,j),this.parent instanceof O&&O.compare(this.statics.blotName,this.parent.statics.blotName)>0){var z=this.parent.isolate(this.offset(),this.length());this.moveChildren(z),z.wrap(this)}}}],[{key:"compare",value:function(j,z){var et=O.order.indexOf(j),ut=O.order.indexOf(z);return et>=0||ut>=0?et-ut:j===z?0:j<z?-1:1}}]),O}(y.InlineBlot);E.allowedChildren=[E,h.Z,y.EmbedBlot,v.Z],E.order=["cursor","inline","link","underline","strike","italic","bold","script","code"];const o=E},3272:(p,C,t)=>{t.d(C,{Z:()=>ht});var y=t(1233),h=t(2069),v=t(6446),b=t(4122),D=t(3553),M=t(1969);function N(at){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t},N(at)}function P(at,_t){return W(at)||B(at,_t)||I(at,_t)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(at,_t){if(at){if(typeof at=="string")return x(at,_t);var q=Object.prototype.toString.call(at).slice(8,-1);if(q==="Object"&&at.constructor&&(q=at.constructor.name),q==="Map"||q==="Set")return Array.from(at);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return x(at,_t)}}function x(at,_t){(_t==null||_t>at.length)&&(_t=at.length);for(var q=0,pt=new Array(_t);q<_t;q++)pt[q]=at[q];return pt}function B(at,_t){var q=at==null?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(q!=null){var pt,nt,st,F,w=[],Q=!0,J=!1;try{if(st=(q=q.call(at)).next,_t===0){if(Object(q)!==q)return;Q=!1}else for(;!(Q=(pt=st.call(q)).done)&&(w.push(pt.value),w.length!==_t);Q=!0);}catch(Y){J=!0,nt=Y}finally{try{if(!Q&&q.return!=null&&(F=q.return(),Object(F)!==F))return}finally{if(J)throw nt}}return w}}function W(at){if(Array.isArray(at))return at}function A(at,_t){if(!(at instanceof _t))throw new TypeError("Cannot call a class as a function")}function U(at,_t){for(var q=0;q<_t.length;q++){var pt=_t[q];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(at,k(pt.key),pt)}}function $(at,_t,q){return _t&&U(at.prototype,_t),q&&U(at,q),Object.defineProperty(at,"prototype",{writable:!1}),at}function k(at){var _t=m(at,"string");return N(_t)==="symbol"?_t:String(_t)}function m(at,_t){if(N(at)!=="object"||at===null)return at;var q=at[Symbol.toPrimitive];if(q!==void 0){var pt=q.call(at,_t||"default");if(N(pt)!=="object")return pt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_t==="string"?String:Number)(at)}function E(){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get.bind():E=function(_t,q,pt){var nt=o(_t,q);if(nt){var st=Object.getOwnPropertyDescriptor(nt,q);return st.get?st.get.call(arguments.length<3?_t:pt):st.value}},E.apply(this,arguments)}function o(at,_t){for(;!Object.prototype.hasOwnProperty.call(at,_t)&&(at=et(at),at!==null););return at}function s(at,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(_t&&_t.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),_t&&c(at,_t)}function c(at,_t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(pt,nt){return pt.__proto__=nt,pt},c(at,_t)}function O(at){var _t=z();return function(){var pt=et(at),nt;if(_t){var st=et(this).constructor;nt=Reflect.construct(pt,arguments,st)}else nt=pt.apply(this,arguments);return L(this,nt)}}function L(at,_t){if(_t&&(N(_t)==="object"||typeof _t=="function"))return _t;if(_t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(at)}function j(at){if(at===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return at}function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(at){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},et(at)}function ut(at){return at instanceof v.ZP||at instanceof v.i2}var ft=function(at){s(q,at);var _t=O(q);function q(pt,nt,st){var F,w=st.emitter,Q=st.toggleBlankClass;return A(this,q),F=_t.call(this,pt,nt),F.emitter=w,F.toggleBlankClass=Q,F.batch=!1,F.optimize(),F.enable(),F.domNode.addEventListener("dragstart",function(J){return F.handleDragStart(J)}),F}return $(q,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var nt=this.batch;this.batch=!1,this.update(nt)}},{key:"emitMount",value:function(nt){this.emitter.emit(h.Z.events.SCROLL_BLOT_MOUNT,nt)}},{key:"emitUnmount",value:function(nt){this.emitter.emit(h.Z.events.SCROLL_BLOT_UNMOUNT,nt)}},{key:"deleteAt",value:function(nt,st){var F=this.line(nt),w=P(F,2),Q=w[0],J=w[1],Y=this.line(nt+st),ct=P(Y,1),mt=ct[0];if(E(et(q.prototype),"deleteAt",this).call(this,nt,st),mt!=null&&Q!==mt&&J>0){var wt=(Q instanceof M.zW||mt instanceof M.zW)&&Q.parent!==mt.parent,ot=Q instanceof v.i2||mt instanceof v.i2;if(!ot&&!wt){var rt=mt.children.head instanceof b.Z?null:mt.children.head;Q.moveChildren(mt,rt),Q.remove()}}this.optimize()}},{key:"enable",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",nt)}},{key:"formatAt",value:function(nt,st,F,w){E(et(q.prototype),"formatAt",this).call(this,nt,st,F,w),this.optimize()}},{key:"handleDragStart",value:function(nt){nt.preventDefault()}},{key:"insertAt",value:function(nt,st,F){if(nt>=this.length())if(F==null||this.scroll.query(st,y.Scope.BLOCK)==null){var w=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(w),F==null&&st.endsWith(`
`)?w.insertAt(0,st.slice(0,-1),F):w.insertAt(0,st,F)}else{var Q=this.scroll.create(st,F);this.appendChild(Q)}else E(et(q.prototype),"insertAt",this).call(this,nt,st,F);this.optimize()}},{key:"insertBefore",value:function(nt,st){if(nt.statics.scope===y.Scope.INLINE_BLOT){var F=this.scroll.create(this.statics.defaultChild.blotName);F.appendChild(nt),E(et(q.prototype),"insertBefore",this).call(this,F,st)}else E(et(q.prototype),"insertBefore",this).call(this,nt,st)}},{key:"isEnabled",value:function(){return this.domNode.getAttribute("contenteditable")==="true"}},{key:"leaf",value:function(nt){return this.path(nt).pop()||[null,-1]}},{key:"line",value:function(nt){return nt===this.length()?this.line(nt-1):this.descendant(ut,nt)}},{key:"lines",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function w(Q,J,Y){var ct=[],mt=Y;return Q.children.forEachAt(J,Y,function(wt,ot,rt){ut(wt)?ct.push(wt):wt instanceof y.ContainerBlot&&(ct=ct.concat(w(wt,ot,mt))),mt-=rt}),ct};return F(this,nt,st)}},{key:"optimize",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(E(et(q.prototype),"optimize",this).call(this,nt,st),nt.length>0&&this.emitter.emit(h.Z.events.SCROLL_OPTIMIZE,nt,st))}},{key:"path",value:function(nt){return E(et(q.prototype),"path",this).call(this,nt).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(nt){var st=this;if(this.batch){Array.isArray(nt)&&(this.batch=this.batch.concat(nt),this.toggleBlankClass());return}var F=h.Z.sources.USER;typeof nt=="string"&&(F=nt),Array.isArray(nt)||(nt=this.observer.takeRecords()),nt=nt.filter(function(w){var Q=w.target,J=st.find(Q,!0);return J&&J.scroll===st}),nt.length>0&&this.emitter.emit(h.Z.events.SCROLL_BEFORE_UPDATE,F,nt),E(et(q.prototype),"update",this).call(this,nt.concat([])),nt.length>0&&this.emitter.emit(h.Z.events.SCROLL_UPDATE,F,nt)}}]),q}(y.ScrollBlot);ft.blotName="scroll",ft.className="ql-editor",ft.tagName="DIV",ft.defaultChild=v.ZP,ft.allowedChildren=[v.ZP,v.i2,D.Z];const ht=ft},8222:(p,C,t)=>{t.d(C,{Z:()=>U,b:()=>$});var y=t(1233);function h(k){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h(k)}function v(k,m){for(var E=0;E<m.length;E++){var o=m[E];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(k,D(o.key),o)}}function b(k,m,E){return m&&v(k.prototype,m),E&&v(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function D(k){var m=M(k,"string");return h(m)==="symbol"?m:String(m)}function M(k,m){if(h(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var o=E.call(k,m||"default");if(h(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(k)}function N(k,m){if(!(k instanceof m))throw new TypeError("Cannot call a class as a function")}function P(k,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(m&&m.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),m&&S(k,m)}function S(k,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},S(k,m)}function I(k){var m=W();return function(){var o=A(k),s;if(m){var c=A(this).constructor;s=Reflect.construct(o,arguments,c)}else s=o.apply(this,arguments);return x(this,s)}}function x(k,m){if(m&&(h(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(k)}function B(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},A(k)}var U=function(k){P(E,k);var m=I(E);function E(){return N(this,E),m.apply(this,arguments)}return b(E)}(y.TextBlot);function $(k){return k.replace(/[&<>"']/g,function(m){var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return E[m]})}},2432:(p,C,t)=>{t.d(C,{default:()=>A});var y=t(281),h=t(6446),v=t(4122),b=t(3553),D=t(3657),M=t(7452),N=t(6603),P=t(3272),S=t(8222),I=t(5635),x=t(2613),B=t(3071),W=t(3859);y.ZP.register({"blots/block":h.ZP,"blots/block/embed":h.i2,"blots/break":v.Z,"blots/container":b.Z,"blots/cursor":D.Z,"blots/embed":M.Z,"blots/inline":N.Z,"blots/scroll":P.Z,"blots/text":S.Z,"modules/clipboard":I.ZP,"modules/history":x.Z,"modules/keyboard":B.ZP,"modules/uploader":W.Z});const A=y.ZP},2861:(p,C,t)=>{t.d(C,{Z:()=>rt});var y=t(8805),h=t.n(y),v=t(2722),b=t.n(v),D=t(732),M=t.n(D),N=t(9098),P=t.n(N),S=t(1233),I=t(7800),x=t(3657),B=t(6446),W=t(4122),A=t(8222);function U(V,lt){V.classList.remove(lt),V.classList.length===0&&V.removeAttribute("class")}function $(V){return et(V)||k(V)||L(V)||O()}function k(V){if(typeof Symbol<"u"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}function m(V,lt){var X=Object.keys(V);if(Object.getOwnPropertySymbols){var dt=Object.getOwnPropertySymbols(V);lt&&(dt=dt.filter(function(vt){return Object.getOwnPropertyDescriptor(V,vt).enumerable})),X.push.apply(X,dt)}return X}function E(V){for(var lt=1;lt<arguments.length;lt++){var X=arguments[lt]!=null?arguments[lt]:{};lt%2?m(Object(X),!0).forEach(function(dt){o(V,dt,X[dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(X)):m(Object(X)).forEach(function(dt){Object.defineProperty(V,dt,Object.getOwnPropertyDescriptor(X,dt))})}return V}function o(V,lt,X){return lt=at(lt),lt in V?Object.defineProperty(V,lt,{value:X,enumerable:!0,configurable:!0,writable:!0}):V[lt]=X,V}function s(V){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lt){return typeof lt}:function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},s(V)}function c(V,lt){return et(V)||z(V,lt)||L(V,lt)||O()}function O(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(V,lt){if(V){if(typeof V=="string")return j(V,lt);var X=Object.prototype.toString.call(V).slice(8,-1);if(X==="Object"&&V.constructor&&(X=V.constructor.name),X==="Map"||X==="Set")return Array.from(V);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return j(V,lt)}}function j(V,lt){(lt==null||lt>V.length)&&(lt=V.length);for(var X=0,dt=new Array(lt);X<lt;X++)dt[X]=V[X];return dt}function z(V,lt){var X=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(X!=null){var dt,vt,T,a,i=[],f=!0,_=!1;try{if(T=(X=X.call(V)).next,lt===0){if(Object(X)!==X)return;f=!1}else for(;!(f=(dt=T.call(X)).done)&&(i.push(dt.value),i.length!==lt);f=!0);}catch(G){_=!0,vt=G}finally{try{if(!f&&X.return!=null&&(a=X.return(),Object(a)!==a))return}finally{if(_)throw vt}}return i}}function et(V){if(Array.isArray(V))return V}function ut(V,lt){if(!(V instanceof lt))throw new TypeError("Cannot call a class as a function")}function ft(V,lt){for(var X=0;X<lt.length;X++){var dt=lt[X];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(V,at(dt.key),dt)}}function ht(V,lt,X){return lt&&ft(V.prototype,lt),X&&ft(V,X),Object.defineProperty(V,"prototype",{writable:!1}),V}function at(V){var lt=_t(V,"string");return s(lt)==="symbol"?lt:String(lt)}function _t(V,lt){if(s(V)!=="object"||V===null)return V;var X=V[Symbol.toPrimitive];if(X!==void 0){var dt=X.call(V,lt||"default");if(s(dt)!=="object")return dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lt==="string"?String:Number)(V)}var q=/^[ -~]*$/,pt=function(){function V(lt){ut(this,V),this.scroll=lt,this.delta=this.getDelta(),this.immediateFormats=new Set}return ht(V,[{key:"addImmediateFormat",value:function(X){this.immediateFormats.add(X)}},{key:"applyDelta",value:function(X){var dt=this;this.scroll.update();var vt=this.scroll.length();this.scroll.batchStart();var T=wt(X),a=new(P());return T.reduce(function(i,f){var _=N.Op.length(f),G=f.attributes||{},yt=!1;if(f.insert!=null){if(a.retain(_),typeof f.insert=="string"){var At=f.insert;yt=!At.endsWith(`
`)&&(vt<=i||dt.scroll.descendant(B.i2,i)[0]),dt.scroll.insertAt(i,At);var Ht=dt.scroll.line(i),Ft=c(Ht,2),qt=Ft[0],Yt=Ft[1],Jt=M()({},(0,B.E2)(qt));if(qt instanceof B.ZP){var bt=qt.descendant(S.LeafBlot,Yt),Pt=c(bt,1),It=Pt[0];Jt=M()(Jt,(0,B.E2)(It))}G=N.AttributeMap.diff(Jt,G)||{}}else if(s(f.insert)==="object"){var Lt=Object.keys(f.insert)[0];if(Lt==null)return i;yt=dt.scroll.query(Lt,S.Scope.INLINE)!=null&&(vt<=i||dt.scroll.descendant(B.i2,i)[0]),dt.scroll.insertAt(i,Lt,f.insert[Lt])}vt+=_}else a.push(f);var Mt=Object.keys(G);dt.immediateFormats.forEach(function(Bt){Mt.indexOf(Bt)>-1&&(dt.scroll.formatAt(i,_,Bt,G[Bt]),delete G[Bt])}),Object.keys(G).forEach(function(Bt){dt.scroll.formatAt(i,_,Bt,G[Bt])});var Wt=yt?1:0;return vt+=Wt,a.delete(Wt),i+_+Wt},0),a.reduce(function(i,f){return typeof f.delete=="number"?(dt.scroll.deleteAt(i,f.delete),i):i+N.Op.length(f)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(T)}},{key:"deleteText",value:function(X,dt){return this.scroll.deleteAt(X,dt),this.update(new(P())().retain(X).delete(dt))}},{key:"formatLine",value:function(X,dt){var vt=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(T).forEach(function(i){vt.scroll.lines(X,Math.max(dt,1)).forEach(function(f){f.format(i,T[i])})}),this.scroll.optimize();var a=new(P())().retain(X).retain(dt,h()(T));return this.update(a)}},{key:"formatText",value:function(X,dt){var vt=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(T).forEach(function(i){vt.scroll.formatAt(X,dt,i,T[i])});var a=new(P())().retain(X).retain(dt,h()(T));return this.update(a)}},{key:"getContents",value:function(X,dt){return this.delta.slice(X,X+dt)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(X,dt){return X.concat(dt.delta())},new(P()))}},{key:"getFormat",value:function(X){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,vt=[],T=[];dt===0?this.scroll.path(X).forEach(function(f){var _=c(f,1),G=_[0];G instanceof B.ZP?vt.push(G):G instanceof S.LeafBlot&&T.push(G)}):(vt=this.scroll.lines(X,dt),T=this.scroll.descendants(S.LeafBlot,X,dt));var a=[vt,T].map(function(f){if(f.length===0)return{};for(var _=(0,B.E2)(f.shift());Object.keys(_).length>0;){var G=f.shift();if(G==null)return _;_=J((0,B.E2)(G),_)}return _}),i=c(a,2);return vt=i[0],T=i[1],E(E({},vt),T)}},{key:"getHTML",value:function(X,dt){var vt=this.scroll.line(X),T=c(vt,2),a=T[0],i=T[1];return a.length()>i+dt?st(a,i,dt,!0):st(this.scroll,X,dt,!0)}},{key:"getText",value:function(X,dt){return this.getContents(X,dt).filter(function(vt){return typeof vt.insert=="string"}).map(function(vt){return vt.insert}).join("")}},{key:"insertEmbed",value:function(X,dt,vt){return this.scroll.insertAt(X,dt,vt),this.update(new(P())().retain(X).insert(o({},dt,vt)))}},{key:"insertText",value:function(X,dt){var vt=this,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return dt=dt.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(X,dt),Object.keys(T).forEach(function(a){vt.scroll.formatAt(X,dt.length,a,T[a])}),this.update(new(P())().retain(X).insert(dt,h()(T)))}},{key:"isBlank",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.scroll.children.length===0)return!0;if(X||this.scroll.children.length>1)return!1;var dt=this.scroll.children.head;return dt.statics.blotName!==B.ZP.blotName||dt.children.length>1?!1:dt.children.head instanceof W.Z}},{key:"removeFormat",value:function(X,dt){var vt=this.getText(X,dt),T=this.scroll.line(X+dt),a=c(T,2),i=a[0],f=a[1],_=0,G=new(P());i!=null&&(_=i.length()-f,G=i.delta().slice(f,f+_-1).insert(`
`));var yt=this.getContents(X,dt+_),At=yt.diff(new(P())().insert(vt).concat(G)),Ht=new(P())().retain(X).concat(At);return this.applyDelta(Ht)}},{key:"update",value:function(X){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,T=this.delta;if(dt.length===1&&dt[0].type==="characterData"&&dt[0].target.data.match(q)&&this.scroll.find(dt[0].target)){var a=this.scroll.find(dt[0].target),i=(0,B.E2)(a),f=a.offset(this.scroll),_=dt[0].oldValue.replace(x.Z.CONTENTS,""),G=new(P())().insert(_),yt=new(P())().insert(a.value()),At=vt&&{oldRange:ot(vt.oldRange,-f),newRange:ot(vt.newRange,-f)},Ht=new(P())().retain(f).concat(G.diff(yt,At));X=Ht.reduce(function(Ft,qt){return qt.insert?Ft.insert(qt.insert,i):Ft.push(qt)},new(P())),this.delta=T.compose(X)}else this.delta=this.getDelta(),(!X||!b()(T.compose(X),this.delta))&&(X=T.diff(this.delta,vt));return X}}]),V}();function nt(V,lt,X){if(V.length===0){var dt=Y(X.pop()),vt=c(dt,1),T=vt[0];return lt<=0?"</li></".concat(T,">"):"</li></".concat(T,">").concat(nt([],lt-1,X))}var a=$(V),i=a[0],f=i.child,_=i.offset,G=i.length,yt=i.indent,At=i.type,Ht=a.slice(1),Ft=Y(At,f),qt=c(Ft,2),Yt=qt[0],Jt=qt[1];if(yt>lt)return X.push(At),yt===lt+1?"<".concat(Yt,"><li").concat(Jt,">").concat(st(f,_,G)).concat(nt(Ht,yt,X)):"<".concat(Yt,"><li>").concat(nt(V,lt+1,X));var bt=X[X.length-1];if(yt===lt&&At===bt)return"</li><li".concat(Jt,">").concat(st(f,_,G)).concat(nt(Ht,yt,X));var Pt=Y(X.pop()),It=c(Pt,1),Lt=It[0];return"</li></".concat(Lt,">").concat(nt(V,lt-1,X))}function st(V,lt,X){var dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof V.html=="function")return V.html(lt,X);if(V instanceof A.Z)return(0,A.b)(V.value().slice(lt,lt+X));if(V.children){if(V.statics.blotName==="list-container"){var vt=[];return V.children.forEachAt(lt,X,function(Ht,Ft,qt){var Yt=Ht.formats();vt.push({child:Ht,offset:Ft,length:qt,indent:Yt.indent||0,type:Yt.list})}),nt(vt,-1,[])}var T=[];if(V.children.forEachAt(lt,X,function(Ht,Ft,qt){T.push(st(Ht,Ft,qt))}),F(V.children,T),dt||V.statics.blotName==="list")return T.join("");var a=w(V),i=a.outerHTML,f=a.innerHTML,_=i.split(">".concat(f,"<")),G=c(_,2),yt=G[0],At=G[1];return yt.indexOf("<table")===0?"".concat(yt.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(T.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(At):"".concat(yt,">").concat(T.join(""),"<").concat(At)}return V.domNode.outerHTML}function F(V,lt){V.length===1&&V.head instanceof W.Z&&lt.push("<br>")}function w(V){var lt=V.domNode.cloneNode(!0);return Q(V,lt)}function Q(V,lt){var X=["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"];return X.includes(V.statics.blotName)&&U(lt,V.statics.className),lt}function J(V,lt){return Object.keys(lt).reduce(function(X,dt){return V[dt]==null||(lt[dt]===V[dt]?X[dt]=lt[dt]:Array.isArray(lt[dt])?lt[dt].indexOf(V[dt])<0&&(X[dt]=lt[dt].concat([V[dt]])):X[dt]=[lt[dt],V[dt]]),X},{})}function Y(V,lt){var X=V==="ordered"?"ol":"ul",dt=lt?"".concat(ct(lt)):"";switch(V){case"checked":return[X,"".concat(dt,' data-list="checked"')];case"unchecked":return[X,"".concat(dt,' data-list="unchecked"')];default:return[X,dt]}}function ct(V){var lt=V.domNode;if(!lt.hasAttributes())return"";for(var X=lt.attributes,dt=" ",vt=0;vt<X.length;vt+=1){var T=X[vt].name,a=X[vt].value;T==="class"&&(a=mt(a)),a.length&&T.indexOf("data-")===-1&&(dt+="".concat(T,'="').concat(a,'"'))}return dt.length>1?dt:""}function mt(V){return V.replace(/ql-indent-\d/g,"").trim()}function wt(V){return V.reduce(function(lt,X){if(typeof X.insert=="string"){var dt=X.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return lt.insert(dt,X.attributes)}return lt.push(X)},new(P()))}function ot(V,lt){var X=V.index,dt=V.length;return new I.e(X+lt,dt)}const rt=pt},2069:(p,C,t)=>{t.d(C,{Z:()=>L});var y=t(3034),h=t.n(y),v=t(8034),b=t(2598),D=t(3122);function M(j){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},M(j)}function N(j,z){if(!(j instanceof z))throw new TypeError("Cannot call a class as a function")}function P(j,z){for(var et=0;et<z.length;et++){var ut=z[et];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(j,I(ut.key),ut)}}function S(j,z,et){return z&&P(j.prototype,z),et&&P(j,et),Object.defineProperty(j,"prototype",{writable:!1}),j}function I(j){var z=x(j,"string");return M(z)==="symbol"?z:String(z)}function x(j,z){if(M(j)!=="object"||j===null)return j;var et=j[Symbol.toPrimitive];if(et!==void 0){var ut=et.call(j,z||"default");if(M(ut)!=="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(j)}function B(){return typeof Reflect<"u"&&Reflect.get?B=Reflect.get.bind():B=function(z,et,ut){var ft=W(z,et);if(ft){var ht=Object.getOwnPropertyDescriptor(ft,et);return ht.get?ht.get.call(arguments.length<3?z:ut):ht.value}},B.apply(this,arguments)}function W(j,z){for(;!Object.prototype.hasOwnProperty.call(j,z)&&(j=o(j),j!==null););return j}function A(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(z&&z.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),z&&U(j,z)}function U(j,z){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ut,ft){return ut.__proto__=ft,ut},U(j,z)}function $(j){var z=E();return function(){var ut=o(j),ft;if(z){var ht=o(this).constructor;ft=Reflect.construct(ut,arguments,ht)}else ft=ut.apply(this,arguments);return k(this,ft)}}function k(j,z){if(z&&(M(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(j)}function m(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o(j){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},o(j)}var s=(0,D.Z)("quill:events"),c=["selectionchange","mousedown","mouseup","click"];(0,v.Z)()&&c.forEach(function(j){document.addEventListener(j,function(){for(var z=arguments.length,et=new Array(z),ut=0;ut<z;ut++)et[ut]=arguments[ut];Array.from(document.querySelectorAll(".ql-container")).forEach(function(ft){var ht=b.Z.get(ft);if(ht&&ht.emitter){var at;(at=ht.emitter).handleDOM.apply(at,et)}})})});var O=function(j){A(et,j);var z=$(et);function et(){var ut;return N(this,et),ut=z.call(this),ut.listeners={},ut.on("error",s.error),ut}return S(et,[{key:"emit",value:function(){for(var ft,ht,at=arguments.length,_t=new Array(at),q=0;q<at;q++)_t[q]=arguments[q];(ft=s.log).call.apply(ft,[s].concat(_t)),(ht=B(o(et.prototype),"emit",this)).call.apply(ht,[this].concat(_t))}},{key:"handleDOM",value:function(ft){for(var ht=arguments.length,at=new Array(ht>1?ht-1:0),_t=1;_t<ht;_t++)at[_t-1]=arguments[_t];(this.listeners[ft.type]||[]).forEach(function(q){var pt=q.node,nt=q.handler;(ft.target===pt||pt.contains(ft.target))&&nt.apply(void 0,[ft].concat(at))})}},{key:"listenDOM",value:function(ft,ht,at){this.listeners[ft]||(this.listeners[ft]=[]),this.listeners[ft].push({node:ht,handler:at})}}]),et}(h());O.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},O.sources={API:"api",SILENT:"silent",USER:"user"};const L=O},2598:(p,C,t)=>{t.d(C,{Z:()=>y});const y=new WeakMap},3122:(p,C,t)=>{t.d(C,{Z:()=>D});var y=["error","warn","log","info"],h="warn";function v(M){if(y.indexOf(M)<=y.indexOf(h)){for(var N,P=arguments.length,S=new Array(P>1?P-1:0),I=1;I<P;I++)S[I-1]=arguments[I];(N=console)[M].apply(N,S)}}function b(M){return y.reduce(function(N,P){return N[P]=v.bind(console,P,M),N},{})}b.level=function(M){h=M},v.level=b.level;const D=b},7094:(p,C,t)=>{t.d(C,{Z:()=>P});function y(S){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},y(S)}function h(S,I){for(var x=0;x<I.length;x++){var B=I[x];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(S,b(B.key),B)}}function v(S,I,x){return I&&h(S.prototype,I),x&&h(S,x),Object.defineProperty(S,"prototype",{writable:!1}),S}function b(S){var I=D(S,"string");return y(I)==="symbol"?I:String(I)}function D(S,I){if(y(S)!=="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var B=x.call(S,I||"default");if(y(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(S)}function M(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}var N=v(function S(I){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M(this,S),this.quill=I,this.options=x});N.DEFAULTS={};const P=N},281:(p,C,t)=>{t.d(C,{ZP:()=>at});var y=t(9098),h=t.n(y),v=t(8805),b=t.n(v),D=t(732),M=t.n(D),N=t(1233),P=t(2861),S=t(2069),I=t(7094),x=t(7800),B=t(2598),W=t(3122),A=t(1690),U=t(5874);function $(st){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},$(st)}function k(st,F,w){return F=et(F),F in st?Object.defineProperty(st,F,{value:w,enumerable:!0,configurable:!0,writable:!0}):st[F]=w,st}function m(st,F){return O(st)||c(st,F)||o(st,F)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(st,F){if(st){if(typeof st=="string")return s(st,F);var w=Object.prototype.toString.call(st).slice(8,-1);if(w==="Object"&&st.constructor&&(w=st.constructor.name),w==="Map"||w==="Set")return Array.from(st);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return s(st,F)}}function s(st,F){(F==null||F>st.length)&&(F=st.length);for(var w=0,Q=new Array(F);w<F;w++)Q[w]=st[w];return Q}function c(st,F){var w=st==null?null:typeof Symbol<"u"&&st[Symbol.iterator]||st["@@iterator"];if(w!=null){var Q,J,Y,ct,mt=[],wt=!0,ot=!1;try{if(Y=(w=w.call(st)).next,F===0){if(Object(w)!==w)return;wt=!1}else for(;!(wt=(Q=Y.call(w)).done)&&(mt.push(Q.value),mt.length!==F);wt=!0);}catch(rt){ot=!0,J=rt}finally{try{if(!wt&&w.return!=null&&(ct=w.return(),Object(ct)!==ct))return}finally{if(ot)throw J}}return mt}}function O(st){if(Array.isArray(st))return st}function L(st,F){if(!(st instanceof F))throw new TypeError("Cannot call a class as a function")}function j(st,F){for(var w=0;w<F.length;w++){var Q=F[w];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(st,et(Q.key),Q)}}function z(st,F,w){return F&&j(st.prototype,F),w&&j(st,w),Object.defineProperty(st,"prototype",{writable:!1}),st}function et(st){var F=ut(st,"string");return $(F)==="symbol"?F:String(F)}function ut(st,F){if($(st)!=="object"||st===null)return st;var w=st[Symbol.toPrimitive];if(w!==void 0){var Q=w.call(st,F||"default");if($(Q)!=="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(st)}var ft=(0,W.Z)("quill"),ht=new N.Registry;N.ParentBlot.uiClass="ql-ui";var at=function(){function st(F){var w=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,st),this.options=_t(F,Q),this.container=this.options.container,this.container==null)return ft.error("Invalid Quill container",F);this.options.debug&&st.debug(this.options.debug);var J=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",B.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new S.Z;var Y=this.options.registry.query(N.ScrollBlot.blotName);this.scroll=new Y(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new P.Z(this.scroll),this.selection=new x.Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(S.Z.events.EDITOR_CHANGE,function(ct){ct===S.Z.events.TEXT_CHANGE&&w.toggleBlankClass()}),this.emitter.on(S.Z.events.SCROLL_UPDATE,function(ct,mt){var wt=w.selection.lastRange,ot=w.selection.getRange(),rt=m(ot,1),V=rt[0],lt=wt&&V?{oldRange:wt,newRange:V}:void 0;q.call(w,function(){return w.editor.update(null,mt,lt)},ct)}),this.setContents(this.getInitialContent(J)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return z(st,[{key:"getInitialContent",value:function(w){return this.clipboard.convert({html:"".concat(w,"<p><br></p>"),text:`
`})}},{key:"toggleBlankClass",value:function(){var w=this.selection.composing;this.root.classList.toggle("ql-blank",this.editor.isBlank(w))}},{key:"addContainer",value:function(w){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof w=="string"){var J=w;w=document.createElement("div"),w.classList.add(J)}return this.container.insertBefore(w,Q),w}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(w,Q,J){var Y=this,ct=pt(w,Q,J),mt=m(ct,4);return w=mt[0],Q=mt[1],J=mt[3],q.call(this,function(){return Y.editor.deleteText(w,Q)},J,w,-1*Q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(w){this.allowReadOnlyEdits=!0;var Q=w();return this.allowReadOnlyEdits=!1,Q}},{key:"enable",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(w),this.container.classList.toggle("ql-disabled",!w)}},{key:"focus",value:function(){var w=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=w,this.scrollIntoView()}},{key:"format",value:function(w,Q){var J=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.Z.sources.API;return q.call(this,function(){var ct=J.getSelection(!0),mt=new(h());if(ct==null)return mt;if(J.scroll.query(w,N.Scope.BLOCK))mt=J.editor.formatLine(ct.index,ct.length,k({},w,Q));else{if(ct.length===0)return J.selection.format(w,Q),mt;mt=J.editor.formatText(ct.index,ct.length,k({},w,Q))}return J.setSelection(ct,S.Z.sources.SILENT),mt},Y)}},{key:"formatLine",value:function(w,Q,J,Y,ct){var mt=this,wt,ot=pt(w,Q,J,Y,ct),rt=m(ot,4);return w=rt[0],Q=rt[1],wt=rt[2],ct=rt[3],q.call(this,function(){return mt.editor.formatLine(w,Q,wt)},ct,w,0)}},{key:"formatText",value:function(w,Q,J,Y,ct){var mt=this,wt,ot=pt(w,Q,J,Y,ct),rt=m(ot,4);return w=rt[0],Q=rt[1],wt=rt[2],ct=rt[3],q.call(this,function(){return mt.editor.formatText(w,Q,wt)},ct,w,0)}},{key:"getBounds",value:function(w){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J;typeof w=="number"?J=this.selection.getBounds(w,Q):J=this.selection.getBounds(w.index,w.length);var Y=this.container.getBoundingClientRect();return{bottom:J.bottom-Y.top,height:J.height,left:J.left-Y.left,right:J.right-Y.left,top:J.top-Y.top,width:J.width}}},{key:"getContents",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=pt(w,Q),Y=m(J,2);return w=Y[0],Q=Y[1],this.editor.getContents(w,Q)}},{key:"getFormat",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,U.Z)(w)?typeof w=="number"?this.editor.getFormat(w,Q):this.editor.getFormat(w.index,w.length):{}}},{key:"getIndex",value:function(w){return w.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(w){return this.scroll.leaf(w)}},{key:"getLine",value:function(w){return this.scroll.line(w)}},{key:"getLines",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof w!="number"?this.scroll.lines(w.index,w.length):this.scroll.lines(w,Q)}},{key:"getModule",value:function(w){return this.theme.modules[w]}},{key:"getSelection",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return w&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=pt(w,Q),Y=m(J,2);return w=Y[0],Q=Y[1],this.editor.getHTML(w,Q)}},{key:"getText",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=pt(w,Q),Y=m(J,2);return w=Y[0],Q=Y[1],this.editor.getText(w,Q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(w,Q,J){var Y=this,ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:st.sources.API;return q.call(this,function(){return Y.editor.insertEmbed(w,Q,J)},ct,w)}},{key:"insertText",value:function(w,Q,J,Y,ct){var mt=this,wt,ot=pt(w,0,J,Y,ct),rt=m(ot,4);return w=rt[0],wt=rt[2],ct=rt[3],q.call(this,function(){return mt.editor.insertText(w,Q,wt)},ct,w,Q.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var w;return(w=this.emitter).off.apply(w,arguments)}},{key:"on",value:function(){var w;return(w=this.emitter).on.apply(w,arguments)}},{key:"once",value:function(){var w;return(w=this.emitter).once.apply(w,arguments)}},{key:"removeFormat",value:function(w,Q,J){var Y=this,ct=pt(w,Q,J),mt=m(ct,4);return w=mt[0],Q=mt[1],J=mt[3],q.call(this,function(){return Y.editor.removeFormat(w,Q)},J,w)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(w){var Q=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API;return q.call(this,function(){w=new(h())(w);var Y=Q.getLength(),ct=Q.editor.deleteText(0,Y),mt=Q.editor.applyDelta(w),wt=Q.editor.deleteText(Q.getLength()-1,1);return Q.emitter.emit(st.events.CONTENT_SETTED),ct.compose(mt).compose(wt)},J)}},{key:"setSelection",value:function(w,Q,J){if(w==null)this.selection.setRange(null,Q||st.sources.API);else{var Y=pt(w,Q,J),ct=m(Y,4);w=ct[0],Q=ct[1],J=ct[3],this.selection.setRange(new x.e(Math.max(0,w),Q),J),J!==S.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(w){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API,J=new(h())().insert(w);return this.setContents(J,Q)}},{key:"update",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.Z.sources.USER,Q=this.scroll.update(w);return this.selection.update(w),Q}},{key:"updateContents",value:function(w){var Q=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API;return q.call(this,function(){return w=new(h())(w),Q.editor.applyDelta(w,J)},J,!0)}}],[{key:"debug",value:function(w){w===!0&&(w="log"),W.Z.level(w)}},{key:"find",value:function(w){return B.Z.get(w)||ht.find(w)}},{key:"import",value:function(w){return this.imports[w]==null&&ft.error("Cannot import ".concat(w,". Are you sure it was registered?")),this.imports[w]}},{key:"register",value:function(w,Q){var J=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof w!="string"){var ct=w.attrName||w.blotName;typeof ct=="string"?this.register("formats/".concat(ct),w,Q):Object.keys(w).forEach(function(mt){J.register(mt,w[mt],Q)})}else this.imports[w]!=null&&!Y&&ft.warn("Overwriting ".concat(w," with"),Q),this.imports[w]=Q,(w.indexOf("blots/")===0||w.indexOf("formats/")===0)&&Q.blotName!=="abstract"&&ht.register(Q),typeof Q.register=="function"&&Q.register(ht)}}]),st}();at.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:ht,scrollingContainer:null,theme:"default"},at.events=S.Z.events,at.sources=S.Z.sources,at.version="1.6.3",at.imports={delta:h(),parchment:N,"core/module":I.Z,"core/theme":A.Z};function _t(st,F){if(F=M()({container:st,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},F),!F.theme||F.theme===at.DEFAULTS.theme)F.theme=A.Z;else if(F.theme=at.import("themes/".concat(F.theme)),F.theme==null)throw new Error("Invalid theme ".concat(F.theme,". Did you register it?"));var w=b()(F.theme.DEFAULTS);[w,F].forEach(function(Y){Y.modules=Y.modules||{},Object.keys(Y.modules).forEach(function(ct){Y.modules[ct]===!0&&(Y.modules[ct]={})})});var Q=Object.keys(w.modules).concat(Object.keys(F.modules)),J=Q.reduce(function(Y,ct){var mt=at.import("modules/".concat(ct));return mt==null?ft.error("Cannot load ".concat(ct," module. Are you sure you registered it?")):Y[ct]=mt.DEFAULTS||{},Y},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=M()({},at.DEFAULTS,{modules:J},w,F),["bounds","container","scrollingContainer"].forEach(function(Y){typeof F[Y]=="string"&&(F[Y]=document.querySelector(F[Y]))}),F.modules=Object.keys(F.modules).reduce(function(Y,ct){return F.modules[ct]&&(Y[ct]=F.modules[ct]),Y},{}),F}function q(st,F,w,Q){if(!this.isEnabled()&&F===S.Z.sources.USER&&!this.allowReadOnlyEdits)return new(h());var J=w==null?null:this.getSelection(),Y=this.editor.delta,ct=st();if(J!=null&&(w===!0&&(w=J.index),Q==null?J=nt(J,ct,F):Q!==0&&(J=nt(J,w,Q,F)),this.setSelection(J,S.Z.sources.SILENT)),ct.length()>0){var mt,wt=[S.Z.events.TEXT_CHANGE,ct,Y,F];if((mt=this.emitter).emit.apply(mt,[S.Z.events.EDITOR_CHANGE].concat(wt)),F!==S.Z.sources.SILENT){var ot;(ot=this.emitter).emit.apply(ot,wt)}}return ct}function pt(st,F,w,Q,J){var Y={};return typeof st.index=="number"&&typeof st.length=="number"?typeof F!="number"?(J=Q,Q=w,w=F,F=st.length,st=st.index):(F=st.length,st=st.index):typeof F!="number"&&(J=Q,Q=w,w=F,F=0),$(w)==="object"?(Y=w,J=Q):typeof w=="string"&&(Q!=null?Y[w]=Q:J=w),J=J||S.Z.sources.API,[st,F,Y,J]}function nt(st,F,w,Q){if(st==null)return null;var J,Y;if(F instanceof h()){var ct=[st.index,st.index+st.length].map(function(rt){return F.transformPosition(rt,Q!==S.Z.sources.USER)}),mt=m(ct,2);J=mt[0],Y=mt[1]}else{var wt=[st.index,st.index+st.length].map(function(rt){return rt<F||rt===F&&Q===S.Z.sources.USER?rt:w>=0?rt+w:Math.max(F,rt+w)}),ot=m(wt,2);J=ot[0],Y=ot[1]}return new x.e(J,Y-J)}},7800:(p,C,t)=>{t.d(C,{Z:()=>z,e:()=>j});var y=t(1233),h=t(8805),v=t.n(h),b=t(2722),D=t.n(b),M=t(2069),N=t(3122);function P(ut){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},P(ut)}function S(ut){return B(ut)||x(ut)||U(ut)||I()}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(ut){if(typeof Symbol<"u"&&ut[Symbol.iterator]!=null||ut["@@iterator"]!=null)return Array.from(ut)}function B(ut){if(Array.isArray(ut))return $(ut)}function W(ut,ft){return m(ut)||k(ut,ft)||U(ut,ft)||A()}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(ut,ft){if(ut){if(typeof ut=="string")return $(ut,ft);var ht=Object.prototype.toString.call(ut).slice(8,-1);if(ht==="Object"&&ut.constructor&&(ht=ut.constructor.name),ht==="Map"||ht==="Set")return Array.from(ut);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return $(ut,ft)}}function $(ut,ft){(ft==null||ft>ut.length)&&(ft=ut.length);for(var ht=0,at=new Array(ft);ht<ft;ht++)at[ht]=ut[ht];return at}function k(ut,ft){var ht=ut==null?null:typeof Symbol<"u"&&ut[Symbol.iterator]||ut["@@iterator"];if(ht!=null){var at,_t,q,pt,nt=[],st=!0,F=!1;try{if(q=(ht=ht.call(ut)).next,ft===0){if(Object(ht)!==ht)return;st=!1}else for(;!(st=(at=q.call(ht)).done)&&(nt.push(at.value),nt.length!==ft);st=!0);}catch(w){F=!0,_t=w}finally{try{if(!st&&ht.return!=null&&(pt=ht.return(),Object(pt)!==pt))return}finally{if(F)throw _t}}return nt}}function m(ut){if(Array.isArray(ut))return ut}function E(ut,ft){for(var ht=0;ht<ft.length;ht++){var at=ft[ht];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(ut,s(at.key),at)}}function o(ut,ft,ht){return ft&&E(ut.prototype,ft),ht&&E(ut,ht),Object.defineProperty(ut,"prototype",{writable:!1}),ut}function s(ut){var ft=c(ut,"string");return P(ft)==="symbol"?ft:String(ft)}function c(ut,ft){if(P(ut)!=="object"||ut===null)return ut;var ht=ut[Symbol.toPrimitive];if(ht!==void 0){var at=ht.call(ut,ft||"default");if(P(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ft==="string"?String:Number)(ut)}function O(ut,ft){if(!(ut instanceof ft))throw new TypeError("Cannot call a class as a function")}var L=(0,N.Z)("quill:selection"),j=o(function ut(ft){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;O(this,ut),this.index=ft,this.length=ht}),z=function(){function ut(ft,ht){var at=this;O(this,ut),this.emitter=ht,this.scroll=ft,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new j(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!at.mouseDown&&!at.composing&&setTimeout(at.update.bind(at,M.Z.sources.USER),1)}),this.emitter.on(M.Z.events.SCROLL_BEFORE_UPDATE,function(){if(at.hasFocus()){var _t=at.getNativeRange();_t!=null&&_t.start.node!==at.cursor.textNode&&at.emitter.once(M.Z.events.SCROLL_UPDATE,function(){try{at.root.contains(_t.start.node)&&at.root.contains(_t.end.node)&&at.setNativeRange(_t.start.node,_t.start.offset,_t.end.node,_t.end.offset),at.update(M.Z.sources.SILENT)}catch{}})}}),this.emitter.on(M.Z.events.SCROLL_OPTIMIZE,function(_t,q){if(q.range){var pt=q.range,nt=pt.startNode,st=pt.startOffset,F=pt.endNode,w=pt.endOffset;at.setNativeRange(nt,st,F,w),at.update(M.Z.sources.SILENT)}}),this.update(M.Z.sources.SILENT)}return o(ut,[{key:"handleComposition",value:function(){var ht=this;this.root.addEventListener("compositionstart",function(){ht.composing=!0,ht.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(ht.scroll.batchEnd(),ht.composing=!1,ht.cursor.parent){var at=ht.cursor.restore();if(!at)return;setTimeout(function(){ht.setNativeRange(at.startNode,at.startOffset,at.endNode,at.endOffset)},1)}})}},{key:"handleDragging",value:function(){var ht=this;this.emitter.listenDOM("mousedown",document.body,function(){ht.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){ht.mouseDown=!1,ht.update(M.Z.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(ht,at){this.scroll.update();var _t=this.getNativeRange();if(!(_t==null||!_t.native.collapsed||this.scroll.query(ht,y.Scope.BLOCK))){if(_t.start.node!==this.cursor.textNode){var q=this.scroll.find(_t.start.node,!1);if(q==null)return;if(q instanceof y.LeafBlot){var pt=q.split(_t.start.offset);q.parent.insertBefore(this.cursor,pt)}else q.insertBefore(this.cursor,_t.start.node);this.cursor.attach()}this.cursor.format(ht,at),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(ht){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_t=this.scroll.length();ht=Math.min(ht,_t-1),at=Math.min(ht+at,_t-1)-ht;var q,pt=this.scroll.leaf(ht),nt=W(pt,2),st=nt[0],F=nt[1];if(st==null)return null;var w=this.getPositionData(st,F,!0),Q=W(w,2);q=Q[0],F=Q[1];var J=document.createRange();if(at>0){J.setStart(q,F);var Y=this.scroll.leaf(ht+at),ct=W(Y,2);if(st=ct[0],F=ct[1],st==null)return null;var mt=this.getPositionData(st,F,!0),wt=W(mt,2);return q=wt[0],F=wt[1],J.setEnd(q,F),J.getBoundingClientRect()}var ot="left",rt;return q instanceof Text?(F<q.data.length?(J.setStart(q,F),J.setEnd(q,F+1)):(J.setStart(q,F-1),J.setEnd(q,F),ot="right"),rt=J.getBoundingClientRect()):(rt=st.domNode.getBoundingClientRect(),F>0&&(ot="right")),{bottom:rt.top+rt.height,height:rt.height,left:rt[ot],right:rt[ot],top:rt.top,width:0}}},{key:"getNativeRange",value:function(){var ht,at,_t=this.root.getRootNode(),q=(ht=(at=_t.getSelection)===null||at===void 0?void 0:at.call(_t))!==null&&ht!==void 0?ht:document.getSelection();if(q==null||q.rangeCount<=0)return null;var pt=q.getRangeAt(0);if(pt==null)return null;var nt=this.normalizeNative(pt);return L.info("getNativeRange",nt),nt}},{key:"getRange",value:function(){var ht=this.getNativeRange();if(ht==null)return[null,null];var at=this.normalizedToRange(ht);return[at,ht]}},{key:"hasFocus",value:function(){var ht=this.root.getRootNode();return ht.activeElement===this.root||et(this.root,ht.activeElement)}},{key:"normalizedToRange",value:function(ht){var at=this,_t=[[ht.start.node,ht.start.offset]];ht.native.collapsed||_t.push([ht.end.node,ht.end.offset]);var q=_t.map(function(st){var F=W(st,2),w=F[0],Q=F[1],J=at.scroll.find(w,!0),Y=J.offset(at.scroll);return Q===0?Y:J instanceof y.LeafBlot?Y+J.index(w,Q):Y+J.length()}),pt=Math.min(Math.max.apply(Math,S(q)),this.scroll.length()-1),nt=Math.min.apply(Math,[pt].concat(S(q)));return new j(nt,pt-nt)}},{key:"normalizeNative",value:function(ht){if(!et(this.root,ht.startContainer)||!ht.collapsed&&!et(this.root,ht.endContainer))return null;var at={start:{node:ht.startContainer,offset:ht.startOffset},end:{node:ht.endContainer,offset:ht.endOffset},native:ht};return[at.start,at.end].forEach(function(_t){for(var q=_t.node,pt=_t.offset;!(q instanceof Text)&&q.childNodes.length>0;)if(q.childNodes.length>pt)q=q.childNodes[pt],pt=0;else if(q.childNodes.length===pt)q=q.lastChild,q instanceof Text?pt=q.data.length:q.childNodes.length>0?pt=q.childNodes.length:pt=q.childNodes.length+1;else break;_t.node=q,_t.offset=pt}),at}},{key:"rangeToNative",value:function(ht){var at=this,_t=ht.collapsed?[ht.index]:[ht.index,ht.index+ht.length],q=[],pt=this.scroll.length();return _t.forEach(function(nt,st){nt=Math.min(pt-1,nt);var F=at.scroll.leaf(nt),w=W(F,2),Q=w[0],J=w[1],Y=at.getPositionData(Q,J,st!==0),ct=W(Y,2),mt=ct[0],wt=ct[1];q.push(mt,wt)}),q.length<2?q.concat(q):q}},{key:"getPositionData",value:function(ht,at,_t){return ht instanceof y.LeafBlot?ht.position(at,_t):[ht.domNode,at]}},{key:"scrollIntoView",value:function(ht){var at=this.lastRange;if(at!=null){var _t=this.getBounds(at.index,at.length);if(_t!=null){var q=this.scroll.length()-1,pt=this.scroll.line(Math.min(at.index,q)),nt=W(pt,1),st=nt[0],F=st;if(at.length>0){var w=this.scroll.line(Math.min(at.index+at.length,q)),Q=W(w,1);F=Q[0]}if(!(st==null||F==null)){var J=ht.getBoundingClientRect();_t.top<J.top?ht.scrollTop-=J.top-_t.top:_t.bottom>J.bottom&&(ht.scrollTop+=_t.bottom-J.bottom)}}}}},{key:"setNativeRange",value:function(ht,at){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ht,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:at,pt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(L.info("setNativeRange",ht,at,_t,q),!(ht!=null&&(this.root.parentNode==null||ht.parentNode==null||_t.parentNode==null))){var nt=document.getSelection();if(nt!=null)if(ht!=null){this.hasFocus()||this.root.focus();var st=this.getNativeRange()||{},F=st.native;if(F==null||pt||ht!==F.startContainer||at!==F.startOffset||_t!==F.endContainer||q!==F.endOffset){ht.tagName==="BR"&&(at=Array.from(ht.parentNode.childNodes).indexOf(ht),ht=ht.parentNode),_t.tagName==="BR"&&(q=Array.from(_t.parentNode.childNodes).indexOf(_t),_t=_t.parentNode);var w=document.createRange();w.setStart(ht,at),w.setEnd(_t,q),nt.removeAllRanges(),nt.addRange(w)}}else nt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(ht){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.Z.sources.API;if(typeof at=="string"&&(_t=at,at=!1),L.info("setRange",ht),ht!=null){var q=this.rangeToNative(ht);this.setNativeRange.apply(this,S(q).concat([at]))}else this.setNativeRange(null);this.update(_t)}},{key:"update",value:function(){var ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.Z.sources.USER,at=this.lastRange,_t=this.getRange(),q=W(_t,2),pt=q[0],nt=q[1];if(this.lastRange=pt,this.lastNative=nt,this.lastRange!=null&&(this.savedRange=this.lastRange),!D()(at,this.lastRange)){var st;if(!this.composing&&nt!=null&&nt.native.collapsed&&nt.start.node!==this.cursor.textNode){var F=this.cursor.restore();F&&this.setNativeRange(F.startNode,F.startOffset,F.endNode,F.endOffset)}var w=[M.Z.events.SELECTION_CHANGE,v()(this.lastRange),v()(at),ht];if((st=this.emitter).emit.apply(st,[M.Z.events.EDITOR_CHANGE].concat(w)),ht!==M.Z.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,w)}}}}]),ut}();function et(ut,ft){try{ft.parentNode}catch{return!1}return ft instanceof Text&&(ft=ft.parentNode),ut.contains(ft)}},1690:(p,C,t)=>{t.d(C,{Z:()=>P});function y(S){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},y(S)}function h(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function v(S,I){for(var x=0;x<I.length;x++){var B=I[x];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(S,D(B.key),B)}}function b(S,I,x){return I&&v(S.prototype,I),x&&v(S,x),Object.defineProperty(S,"prototype",{writable:!1}),S}function D(S){var I=M(S,"string");return y(I)==="symbol"?I:String(I)}function M(S,I){if(y(S)!=="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var B=x.call(S,I||"default");if(y(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(S)}var N=function(){function S(I,x){h(this,S),this.quill=I,this.options=x,this.modules={}}return b(S,[{key:"init",value:function(){var x=this;Object.keys(this.options.modules).forEach(function(B){x.modules[B]==null&&x.addModule(B)})}},{key:"addModule",value:function(x){var B=this.quill.constructor.import("modules/".concat(x));return this.modules[x]=new B(this.quill,this.options.modules[x]||{}),this.modules[x]}}]),S}();N.DEFAULTS={modules:{}},N.themes={default:N};const P=N},715:(p,C,t)=>{t.d(C,{HE:()=>D,dk:()=>b,if:()=>v});var y=t(1233),h={scope:y.Scope.BLOCK,whitelist:["right","center","justify"]},v=new y.Attributor("align","align",h),b=new y.ClassAttributor("align","ql-align",h),D=new y.StyleAttributor("align","text-align",h)},7898:(p,C,t)=>{t.d(C,{Y:()=>v,w:()=>b});var y=t(1233),h=t(6039),v=new y.ClassAttributor("background","ql-bg",{scope:y.Scope.INLINE}),b=new h.OO("background","background-color",{scope:y.Scope.INLINE})},3991:(p,C,t)=>{t.d(C,{Z:()=>m});var y=t(6603);function h(E){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},h(E)}function v(E,o){if(!(E instanceof o))throw new TypeError("Cannot call a class as a function")}function b(E,o){for(var s=0;s<o.length;s++){var c=o[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(E,M(c.key),c)}}function D(E,o,s){return o&&b(E.prototype,o),s&&b(E,s),Object.defineProperty(E,"prototype",{writable:!1}),E}function M(E){var o=N(E,"string");return h(o)==="symbol"?o:String(o)}function N(E,o){if(h(E)!=="object"||E===null)return E;var s=E[Symbol.toPrimitive];if(s!==void 0){var c=s.call(E,o||"default");if(h(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(E)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(o,s,c){var O=S(o,s);if(O){var L=Object.getOwnPropertyDescriptor(O,s);return L.get?L.get.call(arguments.length<3?o:c):L.value}},P.apply(this,arguments)}function S(E,o){for(;!Object.prototype.hasOwnProperty.call(E,o)&&(E=$(E),E!==null););return E}function I(E,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(o&&o.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),o&&x(E,o)}function x(E,o){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,O){return c.__proto__=O,c},x(E,o)}function B(E){var o=U();return function(){var c=$(E),O;if(o){var L=$(this).constructor;O=Reflect.construct(c,arguments,L)}else O=c.apply(this,arguments);return W(this,O)}}function W(E,o){if(o&&(h(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(E)}function A(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(E){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$(E)}var k=function(E){I(s,E);var o=B(s);function s(){return v(this,s),o.apply(this,arguments)}return D(s,[{key:"optimize",value:function(O){P($(s.prototype),"optimize",this).call(this,O),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return P($(s),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),s}(y.Z);k.blotName="bold",k.tagName=["STRONG","B"];const m=k},7309:(p,C,t)=>{t.d(C,{EK:()=>j,ZP:()=>L,se:()=>O});var y=t(6446),h=t(4122),v=t(3657),b=t(6603),D=t(8222),M=t(3553),N=t(281);function P(z){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},P(z)}function S(z,et){if(!(z instanceof et))throw new TypeError("Cannot call a class as a function")}function I(z,et){for(var ut=0;ut<et.length;ut++){var ft=et[ut];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(z,B(ft.key),ft)}}function x(z,et,ut){return et&&I(z.prototype,et),ut&&I(z,ut),Object.defineProperty(z,"prototype",{writable:!1}),z}function B(z){var et=W(z,"string");return P(et)==="symbol"?et:String(et)}function W(z,et){if(P(z)!=="object"||z===null)return z;var ut=z[Symbol.toPrimitive];if(ut!==void 0){var ft=ut.call(z,et||"default");if(P(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(z)}function A(){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get.bind():A=function(et,ut,ft){var ht=U(et,ut);if(ht){var at=Object.getOwnPropertyDescriptor(ht,ut);return at.get?at.get.call(arguments.length<3?et:ft):at.value}},A.apply(this,arguments)}function U(z,et){for(;!Object.prototype.hasOwnProperty.call(z,et)&&(z=c(z),z!==null););return z}function $(z,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(et&&et.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),et&&k(z,et)}function k(z,et){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,ht){return ft.__proto__=ht,ft},k(z,et)}function m(z){var et=s();return function(){var ft=c(z),ht;if(et){var at=c(this).constructor;ht=Reflect.construct(ft,arguments,at)}else ht=ft.apply(this,arguments);return E(this,ht)}}function E(z,et){if(et&&(P(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(z)}function o(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(z){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},c(z)}var O=function(z){$(ut,z);var et=m(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return x(ut,[{key:"code",value:function(ht,at){var _t=this.children.map(function(q){return q.length()<=1?"":q.domNode.textContent}).join(`
`).slice(ht,ht+at);return(0,D.b)(_t)}},{key:"html",value:function(ht,at){return`<pre>
`.concat(this.code(ht,at),`
</pre>`)}}],[{key:"create",value:function(ht){var at=A(c(ut),"create",this).call(this,ht);return at.setAttribute("spellcheck",!1),at}}]),ut}(M.Z),L=function(z){$(ut,z);var et=m(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return x(ut,null,[{key:"register",value:function(){N.ZP.register(O)}}]),ut}(y.ZP),j=function(z){$(ut,z);var et=m(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return x(ut)}(b.Z);j.blotName="code",j.tagName="CODE",L.blotName="code-block",L.className="ql-code-block",L.tagName="DIV",O.blotName="code-block-container",O.className="ql-code-block-container",O.tagName="DIV",O.allowedChildren=[L],L.allowedChildren=[D.Z,h.Z,v.Z],L.requiredContainer=O,L.TAB="  "},6039:(p,C,t)=>{t.d(C,{HQ:()=>E,Hn:()=>m,OO:()=>k});var y=t(1233);function h(o){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},h(o)}function v(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function b(o,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(o,M(O.key),O)}}function D(o,s,c){return s&&b(o.prototype,s),c&&b(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}function M(o){var s=N(o,"string");return h(s)==="symbol"?s:String(s)}function N(o,s){if(h(o)!=="object"||o===null)return o;var c=o[Symbol.toPrimitive];if(c!==void 0){var O=c.call(o,s||"default");if(h(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(s,c,O){var L=S(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},P.apply(this,arguments)}function S(o,s){for(;!Object.prototype.hasOwnProperty.call(o,s)&&(o=$(o),o!==null););return o}function I(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&x(o,s)}function x(o,s){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},x(o,s)}function B(o){var s=U();return function(){var O=$(o),L;if(s){var j=$(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return W(this,L)}}function W(o,s){if(s&&(h(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(o)}function A(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(o){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},$(o)}var k=function(o){I(c,o);var s=B(c);function c(){return v(this,c),s.apply(this,arguments)}return D(c,[{key:"value",value:function(L){var j=P($(c.prototype),"value",this).call(this,L);if(j.indexOf("rgb(")!==0)return j;j=j.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var z=j.split(",").map(function(et){return"00".concat(parseInt(et,10).toString(16)).slice(-2)}).join("");return"#".concat(z)}}]),c}(y.StyleAttributor),m=new y.ClassAttributor("color","ql-color",{scope:y.Scope.INLINE}),E=new k("color","color",{scope:y.Scope.INLINE})},4048:(p,C,t)=>{t.d(C,{H8:()=>D,IF:()=>v,hY:()=>b});var y=t(1233),h={scope:y.Scope.BLOCK,whitelist:["rtl"]},v=new y.Attributor("direction","dir",h),b=new y.ClassAttributor("direction","ql-direction",h),D=new y.StyleAttributor("direction","direction",h)},5832:(p,C,t)=>{t.d(C,{H:()=>o,_:()=>m});var y=t(1233);function h(s){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h(s)}function v(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function b(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,M(L.key),L)}}function D(s,c,O){return c&&b(s.prototype,c),O&&b(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function M(s){var c=N(s,"string");return h(c)==="symbol"?c:String(c)}function N(s,c){if(h(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(h(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(c,O,L){var j=S(c,O);if(j){var z=Object.getOwnPropertyDescriptor(j,O);return z.get?z.get.call(arguments.length<3?c:L):z.value}},P.apply(this,arguments)}function S(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=$(s),s!==null););return s}function I(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&x(s,c)}function x(s,c){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},x(s,c)}function B(s){var c=U();return function(){var L=$(s),j;if(c){var z=$(this).constructor;j=Reflect.construct(L,arguments,z)}else j=L.apply(this,arguments);return W(this,j)}}function W(s,c){if(c&&(h(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(s)}function A(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(s){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},$(s)}var k={scope:y.Scope.INLINE,whitelist:["serif","monospace"]},m=new y.ClassAttributor("font","ql-font",k),E=function(s){I(O,s);var c=B(O);function O(){return v(this,O),c.apply(this,arguments)}return D(O,[{key:"value",value:function(j){return P($(O.prototype),"value",this).call(this,j).replace(/["']/g,"")}}]),O}(y.StyleAttributor),o=new E("font","font-family",k)},7256:(p,C,t)=>{t.d(C,{N:()=>m,Z:()=>k});var y=t(6603);function h(E){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},h(E)}function v(E,o){if(!(E instanceof o))throw new TypeError("Cannot call a class as a function")}function b(E,o){for(var s=0;s<o.length;s++){var c=o[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(E,M(c.key),c)}}function D(E,o,s){return o&&b(E.prototype,o),s&&b(E,s),Object.defineProperty(E,"prototype",{writable:!1}),E}function M(E){var o=N(E,"string");return h(o)==="symbol"?o:String(o)}function N(E,o){if(h(E)!=="object"||E===null)return E;var s=E[Symbol.toPrimitive];if(s!==void 0){var c=s.call(E,o||"default");if(h(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(E)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(o,s,c){var O=S(o,s);if(O){var L=Object.getOwnPropertyDescriptor(O,s);return L.get?L.get.call(arguments.length<3?o:c):L.value}},P.apply(this,arguments)}function S(E,o){for(;!Object.prototype.hasOwnProperty.call(E,o)&&(E=$(E),E!==null););return E}function I(E,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(o&&o.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),o&&x(E,o)}function x(E,o){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,O){return c.__proto__=O,c},x(E,o)}function B(E){var o=U();return function(){var c=$(E),O;if(o){var L=$(this).constructor;O=Reflect.construct(c,arguments,L)}else O=c.apply(this,arguments);return W(this,O)}}function W(E,o){if(o&&(h(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(E)}function A(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(E){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$(E)}var k=function(E){I(s,E);var o=B(s);function s(){return v(this,s),o.apply(this,arguments)}return D(s,[{key:"format",value:function(O,L){O!==this.statics.blotName||!L?P($(s.prototype),"format",this).call(this,O,L):this.domNode.setAttribute("href",this.constructor.sanitize(L))}}],[{key:"create",value:function(O){var L=P($(s),"create",this).call(this,O);return L.setAttribute("href",this.sanitize(O)),L.setAttribute("rel","noopener noreferrer"),L.setAttribute("target","_blank"),L}},{key:"formats",value:function(O){return O.getAttribute("href")}},{key:"sanitize",value:function(O){return m(O,this.PROTOCOL_WHITELIST)?O:this.SANITIZED_URL}}]),s}(y.Z);k.blotName="link",k.tagName="A",k.SANITIZED_URL="about:blank",k.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(E,o){var s=document.createElement("a");s.href=E;var c=s.href.slice(0,s.href.indexOf(":"));return o.indexOf(c)>-1}},1629:(p,C,t)=>{t.d(C,{Z:()=>v,m:()=>h});var y=t(1233),h=new y.ClassAttributor("size","ql-size",{scope:y.Scope.INLINE,whitelist:["small","large","huge"]}),v=new y.StyleAttributor("size","font-size",{scope:y.Scope.INLINE,whitelist:["10px","18px","32px"]})},1342:(p,C,t)=>{t.d(C,{Du:()=>B,h6:()=>W,kk:()=>x,yA:()=>I});var y=t(6062),h=t(1801),v=t(8252);function b(A){return P(A)||N(A)||M(A)||D()}function D(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(A,U){if(A){if(typeof A=="string")return S(A,U);var $=Object.prototype.toString.call(A).slice(8,-1);if($==="Object"&&A.constructor&&($=A.constructor.name),$==="Map"||$==="Set")return Array.from(A);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return S(A,U)}}function N(A){if(typeof Symbol<"u"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function P(A){if(Array.isArray(A))return S(A)}function S(A,U){(U==null||U>A.length)&&(U=A.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=A[$];return k}var I=v.F1.map(function(A){return(0,y.Z)(v.Pw,A)}),x=v.Mu.map(function(A){return(0,h.Z)(v.Pw,A)}),B=x.reduce(function(A,U){return A[U.attrName]=U,A},{}),W=[].concat(b(I),b(x)).reduce(function(A,U){return A[U.keyName]=U,A},{})},8252:(p,C,t)=>{t.d(C,{F1:()=>h,Mu:()=>v,Pw:()=>y,fU:()=>b});var y={name:"cell",allowedTags:["TH","TD","TR"]},h=["height","width"],v=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],b=new Set([].concat(h,v))},6062:(p,C,t)=>{t.d(C,{Z:()=>N});var y=t(1674),h=t(2141),v=t(3398),b=["name"];function D(P,S){if(P==null)return{};var I=M(P,S),x,B;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(P);for(B=0;B<W.length;B++)x=W[B],!(S.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(P,x)&&(I[x]=P[x])}return I}function M(P,S){if(P==null)return{};var I={},x=Object.keys(P),B,W;for(W=0;W<x.length;W++)B=x[W],!(S.indexOf(B)>=0)&&(I[B]=P[B]);return I}function N(P,S){var I=P.name,x=D(P,b),B="".concat(I).concat((0,h.Z)(S)),W="".concat(v.WT.attribute).concat(I,"_").concat(S);return new y.Z(B,W,x)}},1801:(p,C,t)=>{t.d(C,{Z:()=>W});var y=t(4569),h=t(2141),v=t(3398),b=["name","formatName"];function D(A,U){return I(A)||S(A,U)||N(A,U)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(A,U){if(A){if(typeof A=="string")return P(A,U);var $=Object.prototype.toString.call(A).slice(8,-1);if($==="Object"&&A.constructor&&($=A.constructor.name),$==="Map"||$==="Set")return Array.from(A);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return P(A,U)}}function P(A,U){(U==null||U>A.length)&&(U=A.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=A[$];return k}function S(A,U){var $=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if($!=null){var k,m,E,o,s=[],c=!0,O=!1;try{if(E=($=$.call(A)).next,U===0){if(Object($)!==$)return;c=!1}else for(;!(c=(k=E.call($)).done)&&(s.push(k.value),s.length!==U);c=!0);}catch(L){O=!0,m=L}finally{try{if(!c&&$.return!=null&&(o=$.return(),Object(o)!==o))return}finally{if(O)throw m}}return s}}function I(A){if(Array.isArray(A))return A}function x(A,U){if(A==null)return{};var $=B(A,U),k,m;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(A);for(m=0;m<E.length;m++)k=E[m],!(U.indexOf(k)>=0)&&Object.prototype.propertyIsEnumerable.call(A,k)&&($[k]=A[k])}return $}function B(A,U){if(A==null)return{};var $={},k=Object.keys(A),m,E;for(E=0;E<k.length;E++)m=k[E],!(U.indexOf(m)>=0)&&($[m]=A[m]);return $}function W(A,U){var $=A.name,k=A.formatName,m=x(A,b),E=U.split("-"),o=D(E,2),s=o[0],c=o[1],O="".concat($).concat((0,h.Z)(k??s)).concat(c?(0,h.Z)(c):""),L="".concat(v.WT.style).concat($,"_").concat(U);return new y.Z(O,L,m)}},319:(p,C,t)=>{t.d(C,{Qu:()=>I,VT:()=>x,Zt:()=>W,li:()=>B});var y=t(6062),h=t(1801),v=t(19);function b(A){return P(A)||N(A)||M(A)||D()}function D(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(A,U){if(A){if(typeof A=="string")return S(A,U);var $=Object.prototype.toString.call(A).slice(8,-1);if($==="Object"&&A.constructor&&($=A.constructor.name),$==="Map"||$==="Set")return Array.from(A);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return S(A,U)}}function N(A){if(typeof Symbol<"u"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function P(A){if(Array.isArray(A))return S(A)}function S(A,U){(U==null||U>A.length)&&(U=A.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=A[$];return k}var I=v.N2.map(function(A){return(0,y.Z)(v.Sp,A)}),x=v.GX.map(function(A){return(0,h.Z)(v.Sp,A)}),B=x.reduce(function(A,U){return A[U.attrName]=U,A},{}),W=[].concat(b(I),b(x)).reduce(function(A,U){return A[U.keyName]=U,A},{})},19:(p,C,t)=>{t.d(C,{GX:()=>v,N2:()=>h,Sp:()=>y,bc:()=>b});var y={name:"table",allowedTags:["TABLE"]},h=["height","width"],v=["height","width","text-align","background-color","border","border-style","border-width","border-color"],b=new Set([].concat(h,v))},8536:(p,C,t)=>{t.d(C,{Z:()=>y});function y(){return Math.random().toString(36).slice(2,6)}},1969:(p,C,t)=>{t.d(C,{KA:()=>wt,Lv:()=>X,RM:()=>rt,SC:()=>mt,iD:()=>w,pj:()=>J,xD:()=>V,xJ:()=>lt,xs:()=>Y,zW:()=>F});var y=t(6446),h=t(4122),v=t(3553),b=t(5874),D=t(1342),M=t(319),N=t(8536),P=t(2795);function S(vt){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},S(vt)}function I(vt,T){return W(vt)||B(vt,T)||$(vt,T)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(vt,T){var a=vt==null?null:typeof Symbol<"u"&&vt[Symbol.iterator]||vt["@@iterator"];if(a!=null){var i,f,_,G,yt=[],At=!0,Ht=!1;try{if(_=(a=a.call(vt)).next,T===0){if(Object(a)!==a)return;At=!1}else for(;!(At=(i=_.call(a)).done)&&(yt.push(i.value),yt.length!==T);At=!0);}catch(Ft){Ht=!0,f=Ft}finally{try{if(!At&&a.return!=null&&(G=a.return(),Object(G)!==G))return}finally{if(Ht)throw f}}return yt}}function W(vt){if(Array.isArray(vt))return vt}function A(vt){return m(vt)||k(vt)||$(vt)||U()}function U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(vt,T){if(vt){if(typeof vt=="string")return E(vt,T);var a=Object.prototype.toString.call(vt).slice(8,-1);if(a==="Object"&&vt.constructor&&(a=vt.constructor.name),a==="Map"||a==="Set")return Array.from(vt);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(vt,T)}}function k(vt){if(typeof Symbol<"u"&&vt[Symbol.iterator]!=null||vt["@@iterator"]!=null)return Array.from(vt)}function m(vt){if(Array.isArray(vt))return E(vt)}function E(vt,T){(T==null||T>vt.length)&&(T=vt.length);for(var a=0,i=new Array(T);a<T;a++)i[a]=vt[a];return i}function o(vt,T){if(!(vt instanceof T))throw new TypeError("Cannot call a class as a function")}function s(vt,T){for(var a=0;a<T.length;a++){var i=T[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(vt,O(i.key),i)}}function c(vt,T,a){return T&&s(vt.prototype,T),a&&s(vt,a),Object.defineProperty(vt,"prototype",{writable:!1}),vt}function O(vt){var T=L(vt,"string");return S(T)==="symbol"?T:String(T)}function L(vt,T){if(S(vt)!=="object"||vt===null)return vt;var a=vt[Symbol.toPrimitive];if(a!==void 0){var i=a.call(vt,T||"default");if(S(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(vt)}function j(){return typeof Reflect<"u"&&Reflect.get?j=Reflect.get.bind():j=function(T,a,i){var f=z(T,a);if(f){var _=Object.getOwnPropertyDescriptor(f,a);return _.get?_.get.call(arguments.length<3?T:i):_.value}},j.apply(this,arguments)}function z(vt,T){for(;!Object.prototype.hasOwnProperty.call(vt,T)&&(vt=q(vt),vt!==null););return vt}function et(vt,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");vt.prototype=Object.create(T&&T.prototype,{constructor:{value:vt,writable:!0,configurable:!0}}),Object.defineProperty(vt,"prototype",{writable:!1}),T&&ut(vt,T)}function ut(vt,T){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,f){return i.__proto__=f,i},ut(vt,T)}function ft(vt){var T=_t();return function(){var i=q(vt),f;if(T){var _=q(this).constructor;f=Reflect.construct(i,arguments,_)}else f=i.apply(this,arguments);return ht(this,f)}}function ht(vt,T){if(T&&(S(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(vt)}function at(vt){if(vt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vt}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(vt){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},q(vt)}var pt=["row","cell"],nt="data-table-";function st(vt,T,a){vt.forEachAt(T,a,function(i,f,_){i.deleteAt(f,_)})}var F=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a,[{key:"optimize",value:function(){var f,_=this.domNode.getAttribute("".concat(nt,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var G=this.domNode,yt={row:_};Object.keys(D.Du).forEach(function(qt){var Yt=G.dataset[qt.toLowerCase()];Yt&&(yt[qt]=Yt)}),this.wrap(this.statics.requiredContainer.blotName,yt)}for(var At=arguments.length,Ht=new Array(At),Ft=0;Ft<At;Ft++)Ht[Ft]=arguments[Ft];(f=j(q(a.prototype),"optimize",this)).call.apply(f,[this].concat(Ht))}},{key:"format",value:function(f,_){var G=f==="tableCellLine";G&&_===null&&(_=this.formats().tableCellLine);var yt=pt.indexOf(f)>-1;if(yt||M.li[f]||D.Du[f]){var At="data-".concat(yt?"table-":"").concat(f.toLowerCase());if((0,P.Z)(this.domNode,At,_),D.Du[f]){var Ht;(Ht=this.cell())===null||Ht===void 0||Ht.format(f,_)}if(M.li[f]){var Ft;(Ft=this.cell())===null||Ft===void 0||(Ft=Ft.table())===null||Ft===void 0||Ft.format(f,_)}}else j(q(a.prototype),"format",this).call(this,f,_)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(f){var _=j(q(a),"create",this).call(this,f);return pt.forEach(function(G){var yt,At=G==="row"?X:dt;_.setAttribute("".concat(nt).concat(G),(yt=f==null?void 0:f[G])!==null&&yt!==void 0?yt:At())}),_}},{key:"formats",value:function(f){return pt.reduce(function(_,G){var yt="".concat(nt).concat(G);return f.hasAttribute(yt)&&(_[G]=f.getAttribute(yt)||void 0),_},{})}}]),a}(y.ZP);F.blotName="tableCellLine",F.className="ql-table-cell-line",F.tagName="P";var w=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a)}(F);w.blotName="tableHeaderCellLine",w.className="ql-table-header-cell-line";var Q=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a,[{key:"format",value:function(f,_){var G;(G=D.Du[f])===null||G===void 0||G.add(this.domNode,_)}},{key:"checkMerge",value:function(){if(j(q(a.prototype),"checkMerge",this).call(this)&&this.next.children.head!=null){var f=this.children.head.formats()[this.children.head.statics.blotName],_=this.children.tail.formats()[this.children.tail.statics.blotName],G=this.next.children.head.formats()[this.next.children.head.statics.blotName],yt=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return f.cell===_.cell&&f.cell===G.cell&&f.cell===yt.cell}return!1}},{key:"formats",value:function(){return a.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var f;return(f=this.row())===null||f===void 0?void 0:f.table()}},{key:"optimize",value:function(){var f,_,G=(f=this.domNode.getAttribute("".concat(nt,"row")))!==null&&f!==void 0?f:this.domNode.getAttribute("".concat(nt,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:G});for(var yt=arguments.length,At=new Array(yt),Ht=0;Ht<yt;Ht++)At[Ht]=arguments[Ht];(_=j(q(a.prototype),"optimize",this)).call.apply(_,[this].concat(At))}},{key:"deleteAt",value:function(f,_){st(this.children,f,_)}}],[{key:"create",value:function(f){var _=j(q(a),"create",this).call(this,f);return f&&Object.keys(f).forEach(function(G){var yt;(yt=D.Du[G])===null||yt===void 0||yt.add(_,f[G])}),_}},{key:"cellFormats",value:function(f){var _={};if(f.hasAttribute("".concat(nt,"row"))||f.hasAttribute("".concat(nt,"header-row"))){var G;_.row=(G=f.getAttribute("".concat(nt,"row")))!==null&&G!==void 0?G:f.getAttribute("".concat(nt,"header-row"))}return Object.keys(D.Du).forEach(function(yt){var At,Ht=(At=f.firstElementChild)===null||At===void 0?void 0:At.dataset[yt.toLowerCase()];Ht&&(_[yt]=Ht)}),_}}]),a}(v.Z);Q.tagName=["TD","TH"];var J=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a,[{key:"format",value:function(f,_){f==="row"?(this.domNode.setAttribute("".concat(nt).concat(f),_),this.children.forEach(function(G){G.format(f,_)})):j(q(a.prototype),"format",this).call(this,f,_)}}],[{key:"create",value:function(f){var _=j(q(a),"create",this).call(this,f),G="".concat(nt,"row");return f!=null&&f.row&&_.setAttribute(G,f.row),_}}]),a}(Q);J.blotName="tableCell",J.className="ql-table-data-cell",J.dataAttribute="".concat(nt,"row"),J.defaultChild=F;var Y=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a,[{key:"format",value:function(f,_){f==="row"?(this.domNode.setAttribute("".concat(nt).concat(f),_),this.children.forEach(function(G){G.format(f,_)})):j(q(a.prototype),"format",this).call(this,f,_)}}],[{key:"create",value:function(f){var _=j(q(a),"create",this).call(this,f),G="".concat(nt,"header-row");return f&&f.row&&_.setAttribute(G,f.row),_}}]),a}(Q);Y.tagName=["TH","TD"],Y.className="ql-table-header-cell",Y.blotName="tableHeaderCell",Y.dataAttribute="".concat(nt,"header-row"),Y.defaultChild=w;var ct=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a,[{key:"checkMerge",value:function(){if(j(q(a.prototype),"checkMerge",this).call(this)&&(0,b.Z)(this.next.children.head)){var f="row",_=this.children.head.formats(),G=this.children.tail.formats(),yt=this.next.children.head.formats(),At=this.next.children.tail.formats();return _[f]===G[f]&&_[f]===yt[f]&&_[f]===At[f]}return!1}},{key:"optimize",value:function(){for(var f,_=this,G=arguments.length,yt=new Array(G),At=0;At<G;At++)yt[At]=arguments[At];(f=j(q(a.prototype),"optimize",this)).call.apply(f,[this].concat(yt));var Ht=this.childFormatName;this.children.forEach(function(Ft){if((0,b.Z)(Ft.next)){var qt=Ft.formats(),Yt=Ft.next.formats();if(qt[Ht]!==Yt[Ht]){var Jt=_.splitAfter(Ft);Jt&&Jt.optimize(),_.prev&&_.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var f;return(f=this.parent)===null||f===void 0?void 0:f.parent}},{key:"formats",value:function(){var f={},_="".concat(nt,"row");return this.domNode.hasAttribute(_)&&(f[_]=this.domNode.getAttribute(_)),f}}],[{key:"create",value:function(f){var _=j(q(a),"create",this).call(this,f);return f!=null&&f.row&&_.setAttribute("".concat(nt,"row"),f.row),_}}]),a}(v.Z);ct.tagName="TR";var mt=function(vt){et(a,vt);var T=ft(a);function a(i,f){var _;return o(this,a),_=T.call(this,i,f),_.childFormatName="table",_}return c(a,[{key:"deleteAt",value:function(f,_){st(this.children,f,_)}}]),a}(ct);mt.blotName="tableRow";var wt=function(vt){et(a,vt);var T=ft(a);function a(i,f){var _;return o(this,a),_=T.call(this,i,f),_.childFormatName="tableHeaderCell",_}return c(a)}(ct);wt.blotName="tableHeaderRow";var ot=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a,[{key:"optimize",value:function(){var f;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var _,G=((_=this.children.head.children.head.children)===null||_===void 0||(_=_.head)===null||_===void 0?void 0:_.domNode)||null,yt={};G&&Object.keys(M.li).forEach(function(qt){var Yt=G.dataset[qt.toLowerCase()];Yt&&(yt[qt]=Yt)}),this.wrap(this.statics.requiredContainer.blotName,yt)}for(var At=arguments.length,Ht=new Array(At),Ft=0;Ft<At;Ft++)Ht[Ft]=arguments[Ft];(f=j(q(a.prototype),"optimize",this)).call.apply(f,[this].concat(Ht))}}]),a}(v.Z),rt=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a)}(ot);rt.blotName="tableBody",rt.tagName="TBODY";var V=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a)}(ot);V.blotName="tableHeader",V.tagName="THEAD";var lt=function(vt){et(a,vt);var T=ft(a);function a(){return o(this,a),T.apply(this,arguments)}return c(a,[{key:"balanceCells",value:function(){var f=this.descendants(wt),_=this.descendants(mt),G=this.getMaxTableColCount(f,_);this.balanceRows(G,f,Y),this.balanceRows(G,_,J)}},{key:"getMaxTableColCount",value:function(f,_){return Math.max(this.getMaxRowColCount(f),this.getMaxRowColCount(_))}},{key:"getMaxRowColCount",value:function(f){return Math.max.apply(Math,A(f.map(function(_){return _.children.length})))}},{key:"balanceRows",value:function(f,_,G){var yt=this;_.forEach(function(At){new Array(f-At.children.length).fill(0).forEach(function(){var Ht;(0,b.Z)(At.children.head)&&(Ht=G.cellFormats(At.children.head.domNode));var Ft=yt.scroll.create(G.blotName,Ht),qt=yt.scroll.create(G.allowedChildren[0].blotName,Ht);Ft.appendChild(qt),At.appendChild(Ft),Ft.optimize()})})}},{key:"cells",value:function(f){return this.rows().map(function(_){return _.children.at(f)})}},{key:"deleteColumn",value:function(f){var _=this;[V,rt].forEach(function(G){var yt=_.descendants(G),At=I(yt,1),Ht=At[0];!(0,b.Z)(Ht)||!(0,b.Z)(Ht.children.head)||Ht.children.forEach(function(Ft){var qt=Ft.children.at(f);(0,b.Z)(qt)&&qt.remove()})})}},{key:"insertColumn",value:function(f){var _=this;[V,rt].forEach(function(G){var yt=_.descendants(G),At=I(yt,1),Ht=At[0];if(!(!(0,b.Z)(Ht)||!(0,b.Z)(Ht.children.head))){var Ft=G===V?Y:J,qt=G===V?w:F;Ht.children.forEach(function(Yt){var Jt=Yt.children.at(f),bt=qt.formats(Yt.children.head.children.head.domNode),Pt=_.scroll.create(Ft.blotName,{row:bt.row}),It=_.scroll.create(qt.blotName,{row:bt.row}),Lt=_.scroll.create(h.Z.blotName);It.appendChild(Lt),Pt.appendChild(It),Yt.insertBefore(Pt,Jt)})}})}},{key:"insertRow",value:function(f){var _=this,G=this.descendants(rt),yt=I(G,1),At=yt[0];if(!(!(0,b.Z)(At)||!(0,b.Z)(At.children.head))){var Ht=X(),Ft=this.scroll.create(mt.blotName,{row:Ht});At.children.head.children.forEach(function(){var Yt=_.scroll.create(J.blotName,{row:Ht}),Jt=_.scroll.create(F.blotName,{row:Ht}),bt=_.scroll.create(h.Z.blotName);Jt.appendChild(bt),Yt.appendChild(Jt),Ft.appendChild(Yt)});var qt=At.children.at(f);At.insertBefore(Ft,qt)}}},{key:"insertHeaderRow",value:function(){var f=this,_=this.descendants(V),G=I(_,1),yt=G[0],At=this.descendants(rt),Ht=I(At,1),Ft=Ht[0];if(!((0,b.Z)(yt)||!(0,b.Z)(Ft)||!(0,b.Z)(Ft.children.head))){var qt=X(),Yt=this.scroll.create(V.blotName),Jt=this.scroll.create(wt.blotName),bt=this.children.at(0);Yt.appendChild(Jt),Ft.children.head.children.forEach(function(){var Pt=f.scroll.create(Y.blotName,{row:qt}),It=f.scroll.create(w.blotName,{row:qt}),Lt=f.scroll.create(h.Z.blotName);It.appendChild(Lt),Pt.appendChild(It),Jt.appendChild(Pt),Pt.optimize()}),this.insertBefore(Yt,bt)}}},{key:"rows",value:function(){var f=this.children.head;return(0,b.Z)(f)?f.children.map(function(_){return _}):[]}},{key:"formats",value:function(){var f={},_=this.cells()[0].domNode.firstElementChild;return Object.keys(M.li).forEach(function(G){var yt=_==null?void 0:_.dataset[G.toLowerCase()];yt&&(f[G]=yt)}),f}},{key:"format",value:function(f,_){var G=M.li[f];if(G){var yt="data-".concat(f.toLowerCase());this.cells().forEach(function(At){(0,P.Z)(At.children.head.domNode,yt,_)}),G.add(this.domNode,_)}}}],[{key:"create",value:function(f){var _=j(q(a),"create",this).call(this,f);return f&&Object.keys(f).forEach(function(G){var yt;(yt=M.li[G])===null||yt===void 0||yt.add(_,f[G])}),_}}]),a}(v.Z);lt.blotName="tableContainer",lt.tagName="TABLE",lt.allowedChildren=[V,rt],rt.requiredContainer=lt,V.requiredContainer=lt,rt.allowedChildren=[mt],mt.requiredContainer=rt,mt.allowedChildren=[J],J.requiredContainer=mt,F.requiredContainer=J,J.allowedChildren=[F],V.allowedChildren=[wt],wt.requiredContainer=V,w.requiredContainer=Y,Y.allowedChildren=[w],wt.allowedChildren=[Y],Y.requiredContainer=wt;function X(){return"row-".concat((0,N.Z)())}function dt(){return"cell-".concat((0,N.Z)())}},2795:(p,C,t)=>{t.d(C,{Z:()=>y});function y(h,v,b){b?h.setAttribute(v,b):h.removeAttribute(v)}},5635:(p,C,t)=>{t.d(C,{HI:()=>V,PF:()=>lt,ZP:()=>rt,fw:()=>T});var y=t(9098),h=t.n(y),v=t(1233),b=t(6446),D=t(281),M=t(3122),N=t(7094),P=t(715),S=t(7898),I=t(7309),x=t(6039),B=t(4048),W=t(5832),A=t(1629),U=t(3071),$=t(2141);function k(bt,Pt){var It=Object.keys(bt);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(bt);Pt&&(Lt=Lt.filter(function(Mt){return Object.getOwnPropertyDescriptor(bt,Mt).enumerable})),It.push.apply(It,Lt)}return It}function m(bt){for(var Pt=1;Pt<arguments.length;Pt++){var It=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?k(Object(It),!0).forEach(function(Lt){o(bt,Lt,It[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(It)):k(Object(It)).forEach(function(Lt){Object.defineProperty(bt,Lt,Object.getOwnPropertyDescriptor(It,Lt))})}return bt}function E(bt){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pt){return typeof Pt}:function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},E(bt)}function o(bt,Pt,It){return Pt=ht(Pt),Pt in bt?Object.defineProperty(bt,Pt,{value:It,enumerable:!0,configurable:!0,writable:!0}):bt[Pt]=It,bt}function s(bt,Pt){return z(bt)||j(bt,Pt)||O(bt,Pt)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(bt,Pt){if(bt){if(typeof bt=="string")return L(bt,Pt);var It=Object.prototype.toString.call(bt).slice(8,-1);if(It==="Object"&&bt.constructor&&(It=bt.constructor.name),It==="Map"||It==="Set")return Array.from(bt);if(It==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(It))return L(bt,Pt)}}function L(bt,Pt){(Pt==null||Pt>bt.length)&&(Pt=bt.length);for(var It=0,Lt=new Array(Pt);It<Pt;It++)Lt[It]=bt[It];return Lt}function j(bt,Pt){var It=bt==null?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(It!=null){var Lt,Mt,Wt,Bt,$t=[],Kt=!0,te=!1;try{if(Wt=(It=It.call(bt)).next,Pt===0){if(Object(It)!==It)return;Kt=!1}else for(;!(Kt=(Lt=Wt.call(It)).done)&&($t.push(Lt.value),$t.length!==Pt);Kt=!0);}catch(ae){te=!0,Mt=ae}finally{try{if(!Kt&&It.return!=null&&(Bt=It.return(),Object(Bt)!==Bt))return}finally{if(te)throw Mt}}return $t}}function z(bt){if(Array.isArray(bt))return bt}function et(bt,Pt){if(!(bt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function ut(bt,Pt){for(var It=0;It<Pt.length;It++){var Lt=Pt[It];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(bt,ht(Lt.key),Lt)}}function ft(bt,Pt,It){return Pt&&ut(bt.prototype,Pt),It&&ut(bt,It),Object.defineProperty(bt,"prototype",{writable:!1}),bt}function ht(bt){var Pt=at(bt,"string");return E(Pt)==="symbol"?Pt:String(Pt)}function at(bt,Pt){if(E(bt)!=="object"||bt===null)return bt;var It=bt[Symbol.toPrimitive];if(It!==void 0){var Lt=It.call(bt,Pt||"default");if(E(Lt)!=="object")return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Pt==="string"?String:Number)(bt)}function _t(bt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),Object.defineProperty(bt,"prototype",{writable:!1}),Pt&&q(bt,Pt)}function q(bt,Pt){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,Mt){return Lt.__proto__=Mt,Lt},q(bt,Pt)}function pt(bt){var Pt=F();return function(){var Lt=w(bt),Mt;if(Pt){var Wt=w(this).constructor;Mt=Reflect.construct(Lt,arguments,Wt)}else Mt=Lt.apply(this,arguments);return nt(this,Mt)}}function nt(bt,Pt){if(Pt&&(E(Pt)==="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(bt)}function st(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(bt){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(It){return It.__proto__||Object.getPrototypeOf(It)},w(bt)}var Q=(0,M.Z)("quill:clipboard"),J=1,Y=3,ct=[[Y,Jt],[Y,Ft],["br",_],[J,Ft],[J,f],[J,i],[J,qt],["li",At],["ol, ul",Ht],["pre",G],["b",a.bind(a,"bold")],["i",a.bind(a,"italic")],["strike",a.bind(a,"strike")],["style",yt]],mt=[Jt,Ft],wt=[P.if,B.IF].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),ot=[P.HE,S.w,x.HQ,B.H8,W.H,A.Z].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),rt=function(bt){_t(It,bt);var Pt=pt(It);function It(Lt,Mt){var Wt,Bt;return et(this,It),Bt=Pt.call(this,Lt,Mt),Bt.quill.root.addEventListener("copy",function($t){return Bt.onCaptureCopy($t,!1)}),Bt.quill.root.addEventListener("cut",function($t){return Bt.onCaptureCopy($t,!0)}),Bt.quill.root.addEventListener("paste",Bt.onCapturePaste.bind(st(Bt))),Bt.matchers=[],Bt.tableBlots=(Wt=Mt.tableBlots)!==null&&Wt!==void 0?Wt:[],ct.concat(Bt.options.matchers).forEach(function($t){var Kt=s($t,2),te=Kt[0],ae=Kt[1];Bt.addMatcher(te,ae)}),Bt}return ft(It,[{key:"addMatcher",value:function(Mt,Wt){this.matchers.push([Mt,Wt])}},{key:"addTableBlot",value:function(Mt){this.tableBlots.push(Mt)}},{key:"convert",value:function(Mt){var Wt=Mt.html,Bt=Mt.text,$t=Mt.keepLastNewLine,Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Kt[I.ZP.blotName]?new(h())().insert(Bt,o({},I.ZP.blotName,Kt[I.ZP.blotName])):Wt?this.applyMatchers(Wt,$t,Kt):this.applyTextMatchers(Bt)}},{key:"applyTextMatchers",value:function(){var Mt=this,Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Wt.length===0)return new(h());var Bt=this.prepareTextMatching(),$t=this.quill.root.ownerDocument.createElement("div");$t.textContent=Wt;var Kt=$t.childNodes[0];return Bt.reduce(function(te,ae){return ae(Kt,te,Mt.quill.scroll)},new(h()))}},{key:"applyMatchers",value:function(Mt,Wt){var Bt=this,$t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Kt=new DOMParser().parseFromString(Mt,"text/html"),te=Kt.body,ae=new WeakMap,he=this.prepareMatching(te,ae),me=s(he,2),Ne=me[0],gt=me[1],St=T(this.quill.scroll,te,Ne,gt,ae);return!Wt&&lt(St,`
`)&&(St.ops[St.ops.length-1].attributes==null||Object.values($t).some(function(Ct){return Bt.tableBlots.includes(Ct)}))?St.compose(new(h())().retain(St.length()-1).delete(1)):St}},{key:"dangerouslyPasteHTML",value:function(Mt,Wt){var Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D.ZP.sources.API;if(typeof Mt=="string"){var $t=this.convert({html:Mt,text:""});this.quill.setContents($t,Wt),this.quill.setSelection(0,D.ZP.sources.SILENT)}else{var Kt=this.convert({html:Wt,text:""});this.quill.updateContents(new(h())().retain(Mt).concat(Kt),Bt),this.quill.setSelection(Mt+Kt.length(),D.ZP.sources.SILENT)}}},{key:"onCaptureCopy",value:function(Mt){var Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Mt.defaultPrevented){if(Mt.clipboardData)Mt.preventDefault();else return;var Bt=this.quill.selection.getRange(),$t=s(Bt,1),Kt=$t[0];if(Kt!=null){var te=this.onCopy(Kt,Wt),ae=te.html,he=te.text;Mt.clipboardData.setData("text/plain",he),Mt.clipboardData.setData("text/html",ae),Wt&&(this.raiseCallback("onCut",Mt),(0,U.WQ)({range:Kt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(Mt){if(!(Mt.defaultPrevented||!this.quill.isEnabled())){if(this.raiseCallback("onPaste",Mt),Mt.clipboardData)Mt.preventDefault();else return;var Wt=this.quill.getSelection(!0);if(Wt!=null){var Bt=Mt.clipboardData.getData("text/html"),$t=Array.from(Mt.clipboardData.files||[]);if(!Bt&&$t.length>0){this.quill.uploader.upload(Wt,$t);return}if(Bt&&$t.length>0){var Kt=new DOMParser().parseFromString(Bt,"text/html"),te=Kt.body,ae=te.childElementCount===1&&te.firstElementChild.tagName==="IMG";if(ae){this.quill.uploader.upload(Wt,$t);return}}var he=Mt.clipboardData.getData("text/plain");this.onPaste(Wt,{html:Bt,text:he,keepLastNewLine:!0})}}}},{key:"raiseCallback",value:function(Mt,Wt){var Bt=this.options[Mt];Bt&&typeof Bt=="function"&&Bt(Wt)}},{key:"onCopy",value:function(Mt){var Wt=Mt.index,Bt=Mt.length,$t=this.quill.getText(Wt,Bt),Kt=this.quill.getSemanticHTML(Wt,Bt);return{html:Kt,text:$t}}},{key:"onPaste",value:function(Mt,Wt){var Bt=Wt.text,$t=Wt.html,Kt=Wt.keepLastNewLine,te=this.quill.getFormat(Mt.index),ae=this.convert({text:Bt,html:$t,keepLastNewLine:Kt},te);Q.log("onPaste",ae,{text:Bt,html:$t});var he=new(h())().retain(Mt.index).delete(Mt.length).concat(ae);this.quill.updateContents(he,D.ZP.sources.USER),this.quill.setSelection(he.length()-Mt.length,D.ZP.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(Mt,Wt){var Bt=[],$t=[];return this.matchers.forEach(function(Kt){var te=s(Kt,2),ae=te[0],he=te[1];switch(ae){case Y:$t.push(he);break;case J:Bt.push(he);break;default:Array.from(Mt.querySelectorAll(ae)).forEach(function(me){if(Wt.has(me)){var Ne=Wt.get(me);Ne.push(he)}else Wt.set(me,[he])});break}}),[Bt,$t]}},{key:"prepareTextMatching",value:function(){var Mt=[Yt];return this.matchers.forEach(function(Wt){var Bt=s(Wt,2),$t=Bt[0],Kt=Bt[1];mt.indexOf(Kt)===-1&&$t===Y&&Mt.push(Kt)}),Mt}}]),It}(N.Z);rt.DEFAULTS={matchers:[]};function V(bt,Pt,It){return E(Pt)==="object"?Object.keys(Pt).reduce(function(Lt,Mt){return V(Lt,Mt,Pt[Mt])},bt):bt.reduce(function(Lt,Mt){if(Mt.attributes&&Mt.attributes[Pt])return Lt.push(Mt);var Wt=It?o({},Pt,It):{};return Lt.insert(Mt.insert,m(m({},Wt),Mt.attributes))},new(h()))}function lt(bt,Pt){for(var It="",Lt=bt.ops.length-1;Lt>=0&&It.length<Pt.length;--Lt){var Mt=bt.ops[Lt];if(typeof Mt.insert!="string")break;It=Mt.insert+It}return It.slice(-1*Pt.length)===Pt}function X(bt){return bt.childNodes.length===0?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(bt.tagName.toLowerCase())!==-1}var dt=new WeakMap;function vt(bt){return bt==null?!1:(dt.has(bt)||(bt.tagName==="PRE"?dt.set(bt,!0):dt.set(bt,vt(bt.parentNode))),dt.get(bt))}function T(bt,Pt,It,Lt,Mt){return Pt.nodeType===Pt.TEXT_NODE?Lt.reduce(function(Wt,Bt){return Bt(Pt,Wt,bt)},new(h())):Pt.nodeType===Pt.ELEMENT_NODE?Array.from(Pt.childNodes||[]).reduce(function(Wt,Bt){var $t=T(bt,Bt,It,Lt,Mt);return Bt.nodeType===Pt.ELEMENT_NODE&&($t=It.reduce(function(Kt,te){return te(Bt,Kt,bt)},$t),$t=(Mt.get(Bt)||[]).reduce(function(Kt,te){return te(Bt,Kt,bt)},$t)),Wt.concat($t)},new(h())):new(h())}function a(bt,Pt,It){return V(It,bt,!0)}function i(bt,Pt,It){if(["TD","TH","TR","TABLE"].indexOf(bt.tagName)===-1){var Lt=v.Attributor.keys(bt),Mt=v.ClassAttributor.keys(bt),Wt=v.StyleAttributor.keys(bt),Bt={};if(Lt.concat(Mt).concat(Wt).forEach(function($t){var Kt=It.query($t,v.Scope.ATTRIBUTE);Kt!=null&&(Bt[Kt.attrName]=Kt.value(bt),Bt[Kt.attrName])||(Kt=wt[$t],Kt!=null&&(Kt.attrName===$t||Kt.keyName===$t)&&(Bt[Kt.attrName]=Kt.value(bt)||void 0),Kt=ot[$t],Kt!=null&&(Kt.attrName===$t||Kt.keyName===$t)&&(Kt=ot[$t],Bt[Kt.attrName]=Kt.value(bt)||void 0))}),Object.keys(Bt).length>0)return V(Pt,Bt)}return Pt}function f(bt,Pt,It){var Lt=It.query(bt);if(Lt==null)return Pt;if(Lt.prototype instanceof v.EmbedBlot){var Mt={},Wt=Lt.value(bt);if(Wt!=null)return Mt[Lt.blotName]=Wt,new(h())().insert(Mt,Lt.formats(bt,It))}else if(Lt.prototype instanceof v.BlockBlot&&!lt(Pt,`
`)&&Pt.insert(`
`),typeof Lt.formats=="function")return V(Pt,Lt.blotName,Lt.formats(bt,It));return Pt}function _(bt,Pt){return lt(Pt,`
`)||Pt.insert(`
`),Pt}function G(bt,Pt,It){var Lt=It.query("code-block"),Mt=Lt?Lt.formats(bt,It):!0;return V(Pt,"code-block",Mt)}function yt(){return new(h())}function At(bt,Pt,It){var Lt=It.query(bt);if(Lt==null||Lt.blotName!=="list"||!lt(Pt,`
`))return Pt;for(var Mt=-1,Wt=bt.parentNode;Wt!=null;)["OL","UL"].indexOf(Wt.tagName)!==-1&&(Mt+=1),Wt=Wt.parentNode;return Mt<=0?Pt:Pt.reduce(function(Bt,$t){return $t.attributes&&typeof $t.attributes.indent=="number"?Bt.push($t):Bt.insert($t.insert,m({indent:Mt},$t.attributes||{}))},new(h()))}function Ht(bt,Pt){var It=bt.tagName==="OL"?"ordered":"bullet";return V(Pt,"list",It)}function Ft(bt,Pt,It){if(!lt(Pt,`
`)){if(X(bt))return Pt.insert(`
`);if(Pt.length()>0&&bt.nextSibling)for(var Lt=bt.nextSibling;Lt!=null;){if(X(Lt))return Pt.insert(`
`);var Mt=It.query(Lt);if((Mt==null?void 0:Mt.prototype)instanceof b.i2)return Pt.insert(`
`);Lt=Lt.firstChild}}return Pt}function qt(bt,Pt){var It={},Lt=bt.style||{};return["height","width"].forEach(function(Mt){var Wt=["TD","TH"].indexOf(bt.tagName)!==-1,Bt=bt.tagName==="TABLE";if((Wt||Bt)&&Lt[Mt]){var $t="".concat(Bt?"table":"cell").concat((0,$.Z)(Mt));It[$t]=Lt[Mt]}}),Lt.fontStyle==="italic"&&(It.italic=!0),Lt.textDecoration.indexOf("underline")!==-1&&(It.underline=!0),Lt.textDecoration.indexOf("line-through")!==-1&&(It.strike=!0),(Lt.fontWeight.indexOf("bold")===0||parseInt(Lt.fontWeight,10)>=700)&&(It.bold=!0),Object.keys(It).length>0&&(Pt=V(Pt,It)),parseFloat(Lt.textIndent||0)>0?new(h())().insert("	").concat(Pt):Pt}function Yt(bt,Pt){var It=bt.data||"";return It=It.replace(/\r\n/g,`
`),Pt.insert(It)}function Jt(bt,Pt){var It=bt.data;if(bt.parentNode.tagName==="O:P")return Pt.insert(It.trim());if(It.trim().length===0&&It.indexOf(`
`)!==-1)return Pt;if(!vt(bt)){var Lt=function(Wt,Bt){var $t=Bt.replace(/[^\u00a0]/g,"");return $t.length<1&&Wt?" ":$t};It=It.replace(/\r\n/g," ").replace(/\n/g," "),It=It.replace(/\s\s+/g,Lt.bind(Lt,!0)),(bt.previousSibling==null&&X(bt.parentNode)||bt.previousSibling!=null&&X(bt.previousSibling))&&(It=It.replace(/^\s+/,Lt.bind(Lt,!1))),(bt.nextSibling==null&&X(bt.parentNode)||bt.nextSibling!=null&&X(bt.nextSibling))&&(It=It.replace(/\s+$/,Lt.bind(Lt,!1)))}return Pt.insert(It)}},2613:(p,C,t)=>{t.d(C,{Z:()=>m});var y=t(1233),h=t(281),v=t(7094),b=t(8034);function D(c){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},D(c)}function M(c,O){if(!(c instanceof O))throw new TypeError("Cannot call a class as a function")}function N(c,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,S(j.key),j)}}function P(c,O,L){return O&&N(c.prototype,O),L&&N(c,L),Object.defineProperty(c,"prototype",{writable:!1}),c}function S(c){var O=I(c,"string");return D(O)==="symbol"?O:String(O)}function I(c,O){if(D(c)!=="object"||c===null)return c;var L=c[Symbol.toPrimitive];if(L!==void 0){var j=L.call(c,O||"default");if(D(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(c)}function x(c,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(O&&O.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),O&&B(c,O)}function B(c,O){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,z){return j.__proto__=z,j},B(c,O)}function W(c){var O=$();return function(){var j=k(c),z;if(O){var et=k(this).constructor;z=Reflect.construct(j,arguments,et)}else z=j.apply(this,arguments);return A(this,z)}}function A(c,O){if(O&&(D(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(c)}function U(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(c){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},k(c)}var m=function(c){x(L,c);var O=W(L);function L(j,z){var et;return M(this,L),et=O.call(this,j,z),et.lastRecorded=0,et.ignoreChange=!1,et.clear(),et.quill.on(h.ZP.events.EDITOR_CHANGE,function(ut,ft,ht,at){ut!==h.ZP.events.TEXT_CHANGE||et.ignoreChange||(!et.options.userOnly||at===h.ZP.sources.USER?et.record(ft,ht):et.transform(ft))}),et.quill.keyboard.addBinding({key:"z",shortKey:!0},et.undo.bind(U(et))),et.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},et.redo.bind(U(et))),(0,b.Z)()&&/Win/i.test(navigator.platform)&&et.quill.keyboard.addBinding({key:"y",shortKey:!0},et.redo.bind(U(et))),et.quill.root.addEventListener("beforeinput",function(ut){ut.inputType==="historyUndo"?(et.undo(),ut.preventDefault()):ut.inputType==="historyRedo"&&(et.redo(),ut.preventDefault())}),et}return P(L,[{key:"change",value:function(z,et){if(this.stack[z].length!==0){var ut=this.stack[z].pop(),ft=this.quill.getContents(),ht=ut.invert(ft);this.stack[et].push(ht),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ut,h.ZP.sources.USER),this.ignoreChange=!1;var at=s(this.quill.scroll,ut);this.quill.setSelection(at)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(z,et){if(z.ops.length!==0){this.stack.redo=[];var ut=z.invert(et),ft=Date.now();if(this.lastRecorded+this.options.delay>ft&&this.stack.undo.length>0){var ht=this.stack.undo.pop();ut=ut.compose(ht)}else this.lastRecorded=ft;ut.length()!==0&&(this.stack.undo.push(ut),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(z){E(this.stack.undo,z),E(this.stack.redo,z)}},{key:"undo",value:function(){this.change("undo","redo")}}]),L}(v.Z);m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(c,O){for(var L=O,j=c.length-1;j>=0;j-=1){var z=c[j];c[j]=L.transform(z,!0),L=z.transform(L),c[j].length()===0&&c.splice(j,1)}}function o(c,O){var L=O.ops[O.ops.length-1];return L==null?!1:L.insert!=null?typeof L.insert=="string"&&L.insert.endsWith(`
`):L.attributes!=null?Object.keys(L.attributes).some(function(j){return c.query(j,y.Scope.BLOCK)!=null}):!1}function s(c,O){var L=O.reduce(function(z,et){return z+(et.delete||0)},0),j=O.length()-L;return o(c,O)&&(j-=1),j}},3071:(p,C,t)=>{t.d(C,{ZP:()=>Q,WQ:()=>wt});var y=t(8805),h=t.n(y),v=t(2722),b=t.n(v),D=t(9098),M=t.n(D),N=t(1233),P=t(281),S=t(3122),I=t(7094),x=t(8034);function B(ot){var rt=window,V=rt.innerHeight,lt=ot.getBoundingClientRect(),X=lt.y,dt=lt.bottom;return X<0?!0:dt>=V?!1:null}function W(ot){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},W(ot)}function A(ot,rt){return E(ot)||m(ot,rt)||$(ot,rt)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(ot,rt){if(ot){if(typeof ot=="string")return k(ot,rt);var V=Object.prototype.toString.call(ot).slice(8,-1);if(V==="Object"&&ot.constructor&&(V=ot.constructor.name),V==="Map"||V==="Set")return Array.from(ot);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return k(ot,rt)}}function k(ot,rt){(rt==null||rt>ot.length)&&(rt=ot.length);for(var V=0,lt=new Array(rt);V<rt;V++)lt[V]=ot[V];return lt}function m(ot,rt){var V=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(V!=null){var lt,X,dt,vt,T=[],a=!0,i=!1;try{if(dt=(V=V.call(ot)).next,rt===0){if(Object(V)!==V)return;a=!1}else for(;!(a=(lt=dt.call(V)).done)&&(T.push(lt.value),T.length!==rt);a=!0);}catch(f){i=!0,X=f}finally{try{if(!a&&V.return!=null&&(vt=V.return(),Object(vt)!==vt))return}finally{if(i)throw X}}return T}}function E(ot){if(Array.isArray(ot))return ot}function o(ot,rt){var V=Object.keys(ot);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ot);rt&&(lt=lt.filter(function(X){return Object.getOwnPropertyDescriptor(ot,X).enumerable})),V.push.apply(V,lt)}return V}function s(ot){for(var rt=1;rt<arguments.length;rt++){var V=arguments[rt]!=null?arguments[rt]:{};rt%2?o(Object(V),!0).forEach(function(lt){c(ot,lt,V[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(V)):o(Object(V)).forEach(function(lt){Object.defineProperty(ot,lt,Object.getOwnPropertyDescriptor(V,lt))})}return ot}function c(ot,rt,V){return rt=z(rt),rt in ot?Object.defineProperty(ot,rt,{value:V,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=V,ot}function O(ot,rt){if(!(ot instanceof rt))throw new TypeError("Cannot call a class as a function")}function L(ot,rt){for(var V=0;V<rt.length;V++){var lt=rt[V];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ot,z(lt.key),lt)}}function j(ot,rt,V){return rt&&L(ot.prototype,rt),V&&L(ot,V),Object.defineProperty(ot,"prototype",{writable:!1}),ot}function z(ot){var rt=et(ot,"string");return W(rt)==="symbol"?rt:String(rt)}function et(ot,rt){if(W(ot)!=="object"||ot===null)return ot;var V=ot[Symbol.toPrimitive];if(V!==void 0){var lt=V.call(ot,rt||"default");if(W(lt)!=="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rt==="string"?String:Number)(ot)}function ut(ot,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(rt&&rt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),rt&&ft(ot,rt)}function ft(ot,rt){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(lt,X){return lt.__proto__=X,lt},ft(ot,rt)}function ht(ot){var rt=q();return function(){var lt=pt(ot),X;if(rt){var dt=pt(this).constructor;X=Reflect.construct(lt,arguments,dt)}else X=lt.apply(this,arguments);return at(this,X)}}function at(ot,rt){if(rt&&(W(rt)==="object"||typeof rt=="function"))return rt;if(rt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(ot)}function _t(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pt(ot){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},pt(ot)}var nt=(0,S.Z)("quill:keyboard"),st={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},F={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},w=(0,x.Z)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Q=function(ot){ut(V,ot);var rt=ht(V);function V(lt,X){var dt;return O(this,V),dt=rt.call(this,lt,X),dt.bindings={},Object.keys(dt.options.bindings).forEach(function(vt){dt.options.bindings[vt]&&dt.addBinding(dt.options.bindings[vt])}),dt.addInternalBindings(),dt.listen(),dt}return j(V,[{key:"addInternalBindings",value:function(){var X=this;this.quill.once(P.ZP.events.CONTENT_SETTED,function(){X.addBinding({key:"enter",shiftKey:null},X.handleEnter),X.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),(0,x.Z)()&&/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:"backspace"},{collapsed:!0},X.handleBackspace),X.addBinding({key:"del"},{collapsed:!0},X.handleDelete)):(X.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},X.handleBackspace),X.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},X.handleDelete)),X.addBinding({key:"backspace"},{collapsed:!1},X.handleDeleteRange),X.addBinding({key:"del"},{collapsed:!1},X.handleDeleteRange),X.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},X.handleBackspace)})}},{key:"addBinding",value:function(X){var dt=this,vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=mt(X);if(a==null){nt.warn("Attempted to add invalid keyboard binding",a);return}typeof vt=="function"&&(vt={handler:vt}),typeof T=="function"&&(T={handler:T});var i=a.which?"which":"key",f=Array.isArray(a[i])?a[i]:[a[i]];f.forEach(function(_){var G=s(s(s({},a),{},{key:_},vt),T);dt.bindings[G.key]=dt.bindings[G.key]||[],dt.bindings[G.key].push(G)})}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(dt){if(!(dt.defaultPrevented||dt.isComposing)){X.raiseOnKeydownCallback(dt);var vt=V.normalizeKeyName(dt),T=(X.bindings[vt]||[]).concat(X.bindings[dt.which]||[]),a=T.filter(function(Bt){return V.match(dt,Bt)});if(a.length!==0){var i=X.quill.getSelection();if(!(i==null||!X.quill.hasFocus())){var f=X.quill.getLine(i.index),_=A(f,2),G=_[0],yt=_[1],At=X.quill.getLeaf(i.index),Ht=A(At,2),Ft=Ht[0],qt=Ht[1],Yt=i.length===0?[Ft,qt]:X.quill.getLeaf(i.index+i.length),Jt=A(Yt,2),bt=Jt[0],Pt=Jt[1],It=Ft instanceof N.TextBlot?Ft.value().slice(0,qt):"",Lt=bt instanceof N.TextBlot?bt.value().slice(Pt):"",Mt={collapsed:i.length===0,empty:i.length===0&&G.length()<=1,format:X.quill.getFormat(i),line:G,offset:yt,prefix:It,suffix:Lt,event:dt},Wt=!1;a.some(function(Bt){if(Bt.collapsed!=null&&Bt.collapsed!==Mt.collapsed||Bt.empty!=null&&Bt.empty!==Mt.empty||Bt.offset!=null&&Bt.offset!==Mt.offset)return!1;if(Array.isArray(Bt.format)){if(Bt.format.every(function(te){return Mt.format[te]==null}))return!1}else if(W(Bt.format)==="object"&&!Object.keys(Bt.format).every(function(te){return Bt.format[te]===!0?Mt.format[te]!=null:Bt.format[te]===!1?Mt.format[te]==null:b()(Bt.format[te],Mt.format[te])}))return!1;if(Bt.prefix!=null&&!Bt.prefix.test(Mt.prefix)||Bt.suffix!=null&&!Bt.suffix.test(Mt.suffix))return!1;var $t=Bt.handler.call(X,i,Mt,Bt),Kt=$t==null?void 0:$t.preventAfterAllMatches;return Wt=$t!==!0||Kt,Wt&&!Kt}),Wt&&dt.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(X){var dt=this.options.onKeydown;dt&&typeof dt=="function"&&dt(X)}},{key:"handleBackspace",value:function(X,dt){var vt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(dt.prefix)?2:1;if(!(X.index===0||this.quill.getLength()<=1)){var T={},a=this.quill.getLine(X.index),i=A(a,1),f=i[0],_=new(M())().retain(X.index-vt).delete(vt);if(dt.offset===0){var G=this.quill.getLine(X.index-1),yt=A(G,1),At=yt[0];if(At){var Ht=At.statics.blotName==="block"&&At.length()<=1,Ft=At.statics.blotName.startsWith("table"),qt=f.statics.blotName==="block"&&f.length()<=1;if(Ft&&(qt&&f.remove(),this.quill.setSelection(X.index-1)),!Ht&&!Ft){var Yt=f.formats(),Jt=this.quill.getFormat(X.index-1,1);if(T=D.AttributeMap.diff(Yt,Jt)||{},Object.keys(T).length>0){var bt=new(M())().retain(X.index+f.length()-2).retain(1,T);_=_.compose(bt)}}}}this.quill.updateContents(_,P.ZP.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(X,dt){var vt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(dt.suffix)?2:1;if(!(X.index>=this.quill.getLength()-vt)){var T={},a=this.quill.getLine(X.index),i=A(a,1),f=i[0],_=new(M())().retain(X.index).delete(vt);if(dt.offset>=f.length()-1){var G=this.quill.getLine(X.index+1),yt=A(G,1),At=yt[0];if(At){var Ht=f.formats(),Ft=this.quill.getFormat(X.index,1);T=D.AttributeMap.diff(Ht,Ft)||{},Object.keys(T).length>0&&(_=_.retain(At.length()-1).retain(1,T))}}this.quill.updateContents(_,P.ZP.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(X,dt){this.raiseOnKeydownCallback(dt.event),wt({range:X,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(X,dt){var vt=this,T=Object.keys(dt.format).reduce(function(yt,At){return vt.quill.scroll.query(At,N.Scope.BLOCK)&&!Array.isArray(dt.format[At])&&(yt[At]=dt.format[At]),yt},{}),a=new(M())().retain(X.index).delete(X.length).insert(`
`,T);this.quill.updateContents(a,P.ZP.sources.USER),this.quill.setSelection(X.index+1,P.ZP.sources.SILENT),this.quill.focus();var i=this.quill.getLine(X.index+1),f=A(i,1),_=f[0],G=B(_.domNode);G!==null&&_.domNode.scrollIntoView(G),Object.keys(dt.format).forEach(function(yt){T[yt]==null&&(Array.isArray(dt.format[yt])||yt==="code"||yt==="link"||(vt.raiseOnKeydownCallback(dt.event),vt.quill.format(yt,dt.format[yt],P.ZP.sources.USER)))})}}],[{key:"match",value:function(X,dt){return["altKey","ctrlKey","metaKey","shiftKey"].some(function(vt){return!!dt[vt]!==X[vt]&&dt[vt]!==null})?!1:dt.key===V.normalizeKeyName(X)||dt.key===X.which}},{key:"normalizeKeyName",value:function(X){var dt=X.key,vt=X.which,T=!!dt,a=T?dt:vt;return a&&(T?a=st[a.toLowerCase()]||a:a=F[a]||String.fromCharCode(a)),a}}]),V}(I.Z);Q.DEFAULTS={bindings:{bold:ct("bold",66),italic:ct("italic",73),underline:ct("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(rt,V){return V.collapsed&&V.offset!==0?!0:(this.quill.format("indent","+1",P.ZP.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(rt,V){return V.collapsed&&V.offset!==0?!0:(this.quill.format("indent","-1",P.ZP.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(rt,V){V.format.indent!=null?this.quill.format("indent","-1",P.ZP.sources.USER):V.format.list!=null&&this.quill.format("list",!1,P.ZP.sources.USER)}},"indent code-block":J(!0),"outdent code-block":J(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(rt){this.quill.deleteText(rt.index-1,1,P.ZP.sources.USER)}},tab:{key:"tab",handler:function(rt,V){var lt=V.format,X=lt.tableCellLine||lt.tableHeaderCellLine||lt.tableHeaderCell||lt.table;if(X)return!0;this.quill.history.cutoff();var dt=new(M())().retain(rt.index).delete(rt.length).insert("	");return this.quill.updateContents(dt,P.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(rt.index+1,P.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,P.ZP.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(rt,V){var lt={list:!1};V.format.indent&&(lt.indent=!1),this.quill.formatLine(rt.index,rt.length,lt,P.ZP.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(rt){var V=this.quill.getLine(rt.index),lt=A(V,2),X=lt[0],dt=lt[1],vt=s(s({},X.formats()),{},{list:"checked"}),T=new(M())().retain(rt.index).insert(`
`,vt).retain(X.length()-dt-1).retain(1,{list:"unchecked"});this.quill.updateContents(T,P.ZP.sources.USER),this.quill.setSelection(rt.index+1,P.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(rt,V){var lt=this.quill.getLine(rt.index),X=A(lt,2),dt=X[0],vt=X[1],T=new(M())().retain(rt.index).insert(`
`,V.format).retain(dt.length()-vt-1).retain(1,{header:null});this.quill.updateContents(T,P.ZP.sources.USER),this.quill.setSelection(rt.index+1,P.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(rt,V){if(this.quill.scroll.query("list")==null)return!0;var lt=V.prefix.length,X=this.quill.getLine(rt.index),dt=A(X,2),vt=dt[0],T=dt[1];if(T>lt)return!0;var a;switch(V.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(rt.index," ",P.ZP.sources.USER),this.quill.history.cutoff();var i=new(M())().retain(rt.index-T).delete(lt+1).retain(vt.length()-2-T).retain(1,{list:a});return this.raiseOnKeydownCallback(V.event),this.quill.updateContents(i,P.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(rt.index-lt,P.ZP.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(rt){for(var V=this.quill.getLine(rt.index),lt=A(V,2),X=lt[0],dt=lt[1],vt=2,T=X;T!=null&&T.length()<=1&&T.formats()["code-block"];)if(T=T.prev,vt-=1,vt<=0){var a=new(M())().retain(rt.index+X.length()-dt-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,P.ZP.sources.USER),this.quill.setSelection(rt.index-1,P.ZP.sources.SILENT),!1}return!0}},"embed left":Y("leftArrow",!1),"embed left shift":Y("leftArrow",!0),"embed right":Y("rightArrow",!1),"embed right shift":Y("rightArrow",!0)}};function J(ot){return{key:"tab",shiftKey:!ot,format:{"code-block":!0},handler:function(V){var lt=this.quill.scroll.query("code-block"),X=V.length===0?this.quill.getLines(V.index,1):this.quill.getLines(V),dt=V.index,vt=V.length;X.forEach(function(T,a){ot?(T.insertAt(0,lt.TAB),a===0?dt+=lt.TAB.length:vt+=lt.TAB.length):T.domNode.textContent.indexOf(lt.TAB)===0&&(T.deleteAt(0,lt.TAB.length),a===0?dt-=lt.TAB.length:vt-=lt.TAB.length)}),this.quill.update(P.ZP.sources.USER),this.quill.setSelection(dt,vt,P.ZP.sources.SILENT)}}}function Y(ot,rt){var V=ot==="leftArrow"?"prefix":"suffix";return c(c({key:ot,shiftKey:rt,altKey:null},V,/^$/),"handler",function(X){var dt=X.index;ot==="rightArrow"&&(dt+=X.length+1);var vt=this.quill.getLeaf(dt),T=A(vt,1),a=T[0];return a instanceof N.EmbedBlot?(ot==="leftArrow"?rt?this.quill.setSelection(X.index-1,X.length+1,P.ZP.sources.USER):this.quill.setSelection(X.index-1,P.ZP.sources.USER):rt?this.quill.setSelection(X.index,X.length+1,P.ZP.sources.USER):this.quill.setSelection(X.index+X.length+1,P.ZP.sources.USER),!1):!0})}function ct(ot,rt){return{key:ot[0],which:rt,shortKey:!0,handler:function(lt,X){return this.quill.format(ot,!X.format[ot],P.ZP.sources.USER),{preventAfterAllMatches:!0}}}}function mt(ot){if(typeof ot=="string"||typeof ot=="number")ot={key:ot};else if(W(ot)==="object")ot=h()(ot);else return null;return ot.shortKey&&(ot[w]=ot.shortKey,delete ot.shortKey),ot}function wt(ot){var rt=ot.quill,V=ot.range,lt=rt.getLines(V),X={};if(lt.length>1){var dt=lt[0].formats(),vt=lt[lt.length-1].formats();X=D.AttributeMap.diff(vt,dt)||{}}rt.deleteText(V,P.ZP.sources.USER),Object.keys(X).length>0&&rt.formatLine(V.index,1,X,P.ZP.sources.USER),rt.setSelection(V.index,P.ZP.sources.SILENT)}},9072:(p,C,t)=>{t.d(C,{ZP:()=>J});var y=t(9098),h=t.n(y),v=t(1233),b=t(6603),D=t(281),M=t(7094),N=t(6446),P=t(4122),S=t(3657),I=t(8222),x=t(7309),B=t(5635),W=t(8034);function A(Y){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct},A(Y)}function U(Y,ct,mt){return ct=j(ct),ct in Y?Object.defineProperty(Y,ct,{value:mt,enumerable:!0,configurable:!0,writable:!0}):Y[ct]=mt,Y}function $(Y,ct){return s(Y)||o(Y,ct)||m(Y,ct)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(Y,ct){if(Y){if(typeof Y=="string")return E(Y,ct);var mt=Object.prototype.toString.call(Y).slice(8,-1);if(mt==="Object"&&Y.constructor&&(mt=Y.constructor.name),mt==="Map"||mt==="Set")return Array.from(Y);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return E(Y,ct)}}function E(Y,ct){(ct==null||ct>Y.length)&&(ct=Y.length);for(var mt=0,wt=new Array(ct);mt<ct;mt++)wt[mt]=Y[mt];return wt}function o(Y,ct){var mt=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(mt!=null){var wt,ot,rt,V,lt=[],X=!0,dt=!1;try{if(rt=(mt=mt.call(Y)).next,ct===0){if(Object(mt)!==mt)return;X=!1}else for(;!(X=(wt=rt.call(mt)).done)&&(lt.push(wt.value),lt.length!==ct);X=!0);}catch(vt){dt=!0,ot=vt}finally{try{if(!X&&mt.return!=null&&(V=mt.return(),Object(V)!==V))return}finally{if(dt)throw ot}}return lt}}function s(Y){if(Array.isArray(Y))return Y}function c(Y,ct){if(!(Y instanceof ct))throw new TypeError("Cannot call a class as a function")}function O(Y,ct){for(var mt=0;mt<ct.length;mt++){var wt=ct[mt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Y,j(wt.key),wt)}}function L(Y,ct,mt){return ct&&O(Y.prototype,ct),mt&&O(Y,mt),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function j(Y){var ct=z(Y,"string");return A(ct)==="symbol"?ct:String(ct)}function z(Y,ct){if(A(Y)!=="object"||Y===null)return Y;var mt=Y[Symbol.toPrimitive];if(mt!==void 0){var wt=mt.call(Y,ct||"default");if(A(wt)!=="object")return wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ct==="string"?String:Number)(Y)}function et(Y,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),ct&&ut(Y,ct)}function ut(Y,ct){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(wt,ot){return wt.__proto__=ot,wt},ut(Y,ct)}function ft(Y){var ct=_t();return function(){var wt=nt(Y),ot;if(ct){var rt=nt(this).constructor;ot=Reflect.construct(wt,arguments,rt)}else ot=wt.apply(this,arguments);return ht(this,ot)}}function ht(Y,ct){if(ct&&(A(ct)==="object"||typeof ct=="function"))return ct;if(ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(Y)}function at(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(){return typeof Reflect<"u"&&Reflect.get?q=Reflect.get.bind():q=function(ct,mt,wt){var ot=pt(ct,mt);if(ot){var rt=Object.getOwnPropertyDescriptor(ot,mt);return rt.get?rt.get.call(arguments.length<3?ct:wt):rt.value}},q.apply(this,arguments)}function pt(Y,ct){for(;!Object.prototype.hasOwnProperty.call(Y,ct)&&(Y=nt(Y),Y!==null););return Y}function nt(Y){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(mt){return mt.__proto__||Object.getPrototypeOf(mt)},nt(Y)}var st=new v.ClassAttributor("code-token","hljs",{scope:v.Scope.INLINE}),F=function(Y){et(mt,Y);var ct=ft(mt);function mt(wt,ot,rt){var V;return c(this,mt),V=ct.call(this,wt,ot,rt),st.add(V.domNode,rt),V}return L(mt,[{key:"format",value:function(ot,rt){ot!==mt.blotName?q(nt(mt.prototype),"format",this).call(this,ot,rt):rt?st.add(this.domNode,rt):(st.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var ot,rt=arguments.length,V=new Array(rt),lt=0;lt<rt;lt++)V[lt]=arguments[lt];(ot=q(nt(mt.prototype),"optimize",this)).call.apply(ot,[this].concat(V)),st.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(ot,rt){for(;ot!=null&&ot!==rt.domNode;){if(ot.classList&&ot.classList.contains(x.ZP.className))return q(nt(mt),"formats",this).call(this,ot,rt);ot=ot.parentNode}}}]),mt}(b.Z);F.blotName="code-token",F.className="ql-token";var w=function(Y){et(mt,Y);var ct=ft(mt);function mt(){return c(this,mt),ct.apply(this,arguments)}return L(mt,[{key:"format",value:function(ot,rt){ot===this.statics.blotName&&rt?this.domNode.setAttribute("data-language",rt):q(nt(mt.prototype),"format",this).call(this,ot,rt)}},{key:"replaceWith",value:function(ot,rt){return this.formatAt(0,this.length(),F.blotName,!1),q(nt(mt.prototype),"replaceWith",this).call(this,ot,rt)}}],[{key:"create",value:function(ot){var rt=q(nt(mt),"create",this).call(this,ot);return typeof ot=="string"&&rt.setAttribute("data-language",ot),rt}},{key:"formats",value:function(ot){return ot.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),mt}(x.ZP),Q=function(Y){et(mt,Y);var ct=ft(mt);function mt(){return c(this,mt),ct.apply(this,arguments)}return L(mt,[{key:"attach",value:function(){q(nt(mt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(ot,rt){ot===w.blotName&&(this.forceNext=!0,this.children.forEach(function(V){V.format(ot,rt)}))}},{key:"formatAt",value:function(ot,rt,V,lt){V===w.blotName&&(this.forceNext=!0),q(nt(mt.prototype),"formatAt",this).call(this,ot,rt,V,lt)}},{key:"highlight",value:function(ot){var rt=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head!=null){var lt=Array.from(this.domNode.childNodes).filter(function(a){return a!==rt.uiNode}),X="".concat(lt.map(function(a){return a.textContent}).join(`
`),`
`),dt=w.formats(this.children.head.domNode);if(V||this.forceNext||this.cachedText!==X){if(X.trim().length>0||this.cachedText==null){var vt=this.children.reduce(function(a,i){return a.concat((0,N.qz)(i,!1))},new(h())),T=ot(X,dt);vt.diff(T).reduce(function(a,i){var f=i.retain,_=i.attributes;return f?(_&&Object.keys(_).forEach(function(G){[w.blotName,F.blotName].indexOf(G)!==-1&&rt.formatAt(a,f,G,_[G])}),a+f):a},0)}this.cachedText=X,this.forceNext=!1}}}},{key:"html",value:function(ot,rt){var V=this.children.find(ot),lt=$(V,1),X=lt[0],dt=X?w.formats(X.domNode):"plain";return'<pre data-language="'.concat(dt,`">
`).concat(this.code(ot,rt),`
</pre>`)}},{key:"optimize",value:function(ot){if(q(nt(mt.prototype),"optimize",this).call(this,ot),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){var rt=w.formats(this.children.head.domNode);rt!==this.uiNode.value&&(this.uiNode.value=rt)}}}]),mt}(x.se);Q.allowedChildren=[w],w.requiredContainer=Q,w.allowedChildren=[F,S.Z,I.Z,P.Z];var J=function(Y){et(mt,Y);var ct=ft(mt);function mt(wt,ot){var rt;if(c(this,mt),rt=ct.call(this,wt,ot),rt.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return rt.languages=rt.options.languages.reduce(function(V,lt){var X=lt.key;return V[X]=!0,V},{}),rt.highlightBlot=rt.highlightBlot.bind(at(rt)),rt.initListener(),rt.initTimer(),rt}return L(mt,[{key:"initListener",value:function(){var ot=this;this.quill.on(D.ZP.events.SCROLL_BLOT_MOUNT,function(rt){if(rt instanceof Q){var V=ot.quill.root.ownerDocument.createElement("select");ot.options.languages.forEach(function(lt){var X=lt.key,dt=lt.label,vt=V.ownerDocument.createElement("option");vt.textContent=dt,vt.setAttribute("value",X),V.appendChild(vt)}),V.addEventListener("change",function(){rt.format(w.blotName,V.value),ot.quill.root.focus(),ot.highlight(rt,!0)}),rt.uiNode==null&&(rt.attachUI(V),rt.children.head&&(V.value=w.formats(rt.children.head.domNode)))}})}},{key:"initTimer",value:function(){var ot=this,rt=null;this.quill.on(D.ZP.events.SCROLL_OPTIMIZE,function(){clearTimeout(rt),rt=setTimeout(function(){ot.highlight(),rt=null},ot.options.interval)})}},{key:"highlight",value:function(){var ot=this,rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.quill.selection.composing){this.quill.update(D.ZP.sources.USER);var lt=this.quill.getSelection(),X=rt==null?this.quill.scroll.descendants(Q):[rt];X.forEach(function(dt){dt.highlight(ot.highlightBlot,V)}),this.quill.update(D.ZP.sources.SILENT),lt!=null&&this.quill.setSelection(lt,D.ZP.sources.SILENT)}}},{key:"highlightBlot",value:function(ot){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(rt=this.languages[rt]?rt:"plain",rt==="plain")return(0,I.b)(ot).split(`
`).reduce(function(lt,X,dt){return dt!==0&&lt.insert(`
`,U({},x.ZP.blotName,rt)),lt.insert(X)},new(h()));var V=this.quill.root.ownerDocument.createElement("div");return V.classList.add(x.ZP.className),V.innerHTML=this.options.hljs.highlight(rt,ot).value,(0,B.fw)(this.quill.scroll,V,[function(lt,X){var dt=st.value(lt);return dt?X.compose(new(h())().retain(X.length(),U({},F.blotName,dt))):X}],[function(lt,X){return lt.data.split(`
`).reduce(function(dt,vt,T){return T!==0&&dt.insert(`
`,U({},x.ZP.blotName,rt)),dt.insert(vt)},X)}],new WeakMap)}}],[{key:"register",value:function(){D.ZP.register(F,!0),D.ZP.register(w,!0),D.ZP.register(Q,!0)}}]),mt}(M.Z);J.DEFAULTS={hljs:function(){return(0,W.Z)()?window.hljs:null}(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},867:(p,C,t)=>{t.d(C,{Z:()=>w});var y=t(9098),h=t.n(y),v=t(1233),b=t(281),D=t(7094),M=t(1969),N=t(5874),P=t(5635),S=t(9466),I=t(7896),x=t(319),B=t(1342),W=t(2480);function A(Q){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},A(Q)}function U(Q,J,Y){return J=j(J),J in Q?Object.defineProperty(Q,J,{value:Y,enumerable:!0,configurable:!0,writable:!0}):Q[J]=Y,Q}function $(Q,J){return s(Q)||o(Q,J)||m(Q,J)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(Q,J){if(Q){if(typeof Q=="string")return E(Q,J);var Y=Object.prototype.toString.call(Q).slice(8,-1);if(Y==="Object"&&Q.constructor&&(Y=Q.constructor.name),Y==="Map"||Y==="Set")return Array.from(Q);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return E(Q,J)}}function E(Q,J){(J==null||J>Q.length)&&(J=Q.length);for(var Y=0,ct=new Array(J);Y<J;Y++)ct[Y]=Q[Y];return ct}function o(Q,J){var Y=Q==null?null:typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(Y!=null){var ct,mt,wt,ot,rt=[],V=!0,lt=!1;try{if(wt=(Y=Y.call(Q)).next,J===0){if(Object(Y)!==Y)return;V=!1}else for(;!(V=(ct=wt.call(Y)).done)&&(rt.push(ct.value),rt.length!==J);V=!0);}catch(X){lt=!0,mt=X}finally{try{if(!V&&Y.return!=null&&(ot=Y.return(),Object(ot)!==ot))return}finally{if(lt)throw mt}}return rt}}function s(Q){if(Array.isArray(Q))return Q}function c(Q,J){if(!(Q instanceof J))throw new TypeError("Cannot call a class as a function")}function O(Q,J){for(var Y=0;Y<J.length;Y++){var ct=J[Y];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(Q,j(ct.key),ct)}}function L(Q,J,Y){return J&&O(Q.prototype,J),Y&&O(Q,Y),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function j(Q){var J=z(Q,"string");return A(J)==="symbol"?J:String(J)}function z(Q,J){if(A(Q)!=="object"||Q===null)return Q;var Y=Q[Symbol.toPrimitive];if(Y!==void 0){var ct=Y.call(Q,J||"default");if(A(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(Q)}function et(Q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(J&&J.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),J&&ut(Q,J)}function ut(Q,J){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ct,mt){return ct.__proto__=mt,ct},ut(Q,J)}function ft(Q){var J=_t();return function(){var ct=q(Q),mt;if(J){var wt=q(this).constructor;mt=Reflect.construct(ct,arguments,wt)}else mt=ct.apply(this,arguments);return ht(this,mt)}}function ht(Q,J){if(J&&(A(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(Q)}function at(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(Q){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},q(Q)}var pt=[null,null,null,-1],nt=1,st=function(Q){et(Y,Q);var J=ft(Y);function Y(){var ct;c(this,Y);for(var mt=arguments.length,wt=new Array(mt),ot=0;ot<mt;ot++)wt[ot]=arguments[ot];return ct=J.call.apply(J,[this].concat(wt)),ct.tableBlots=[M.zW.blotName,M.iD.blotName],ct.tableBlots.forEach(function(rt){ct.quill.editor.addImmediateFormat(rt)}),ct.integrateClipboard(),ct.addKeyboardHandlers(),ct.listenBalanceCells(),ct}return L(Y,[{key:"integrateClipboard",value:function(){var mt=this;this.tableBlots.forEach(function(wt){mt.quill.clipboard.addTableBlot(wt)}),this.quill.clipboard.addMatcher("td, th",F),this.quill.clipboard.addMatcher("table",(0,I.F)(x.Zt)),this.quill.clipboard.addMatcher("td, th",(0,I.a)(B.h6))}},{key:"addKeyboardHandlers",value:function(){var mt=this,wt=Y.keyboardBindings;Object.keys(wt).forEach(function(ot){wt[ot]&&mt.quill.keyboard.addBinding(wt[ot])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(M.xJ).forEach(function(mt){mt.balanceCells()})}},{key:"deleteColumn",value:function(){var mt=this.getTable(),wt=$(mt,3),ot=wt[0],rt=wt[2];(0,N.Z)(rt)&&(ot.deleteColumn(rt.cellOffset()),this.quill.update(b.ZP.sources.USER))}},{key:"deleteRow",value:function(){var mt=this.getTable(),wt=$(mt,2),ot=wt[1];(0,N.Z)(ot)&&(ot.remove(),this.quill.update(b.ZP.sources.USER))}},{key:"deleteTable",value:function(){var mt=this.getTable(),wt=$(mt,1),ot=wt[0];if((0,N.Z)(ot)){var rt=ot.offset();ot.remove(),this.quill.update(b.ZP.sources.USER),this.quill.setSelection(rt,b.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,N.Z)(mt))return pt;var wt=this.quill.getLine(mt.index),ot=$(wt,2),rt=ot[0],V=ot[1];if(!(0,N.Z)(rt)||this.tableBlots.indexOf(rt.statics.blotName)===-1)return pt;var lt=rt.parent,X=lt.parent,dt=X.parent.parent;return[dt,X,lt,V]}},{key:"insertColumn",value:function(mt){var wt=this.quill.getSelection(),ot=this.getTable(wt),rt=$(ot,3),V=rt[0],lt=rt[1],X=rt[2];if((0,N.Z)(X)){var dt=X.cellOffset();V.insertColumn(dt+mt),this.quill.update(b.ZP.sources.USER);var vt=lt.rowOffset();mt===0&&(vt+=1),this.quill.setSelection(wt.index+vt,wt.length,b.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(mt){var wt=this.quill.getSelection(),ot=this.getTable(wt),rt=$(ot,3),V=rt[0],lt=rt[1],X=rt[2];if((0,N.Z)(X)){var dt=lt.rowOffset();V.insertRow(dt+mt),this.quill.update(b.ZP.sources.USER),mt>0?this.quill.setSelection(wt,b.ZP.sources.SILENT):this.quill.setSelection(wt.index+lt.children.length,wt.length,b.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var mt=this.quill.getSelection(),wt=this.getTable(mt),ot=$(wt,3),rt=ot[0],V=ot[2];(0,N.Z)(V)&&(rt.insertHeaderRow(),this.quill.update(b.ZP.sources.USER))}},{key:"insertTable",value:function(mt,wt){var ot=this.quill.getSelection();if((0,N.Z)(ot)){var rt=new Array(mt).fill(0).reduce(function(V){var lt=(0,M.Lv)();return new Array(wt).fill(`
`).forEach(function(X){V.insert(X,{tableCellLine:{row:lt,cell:(0,M.Lv)()}})}),V},new(h())().retain(ot.index));this.quill.updateContents(rt,b.ZP.sources.USER),this.quill.setSelection(ot.index,b.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var mt=this;this.quill.on(b.ZP.events.SCROLL_OPTIMIZE,function(wt){wt.some(function(ot){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(ot.target.tagName)!==-1?(mt.quill.once(b.ZP.events.TEXT_CHANGE,function(rt,V,lt){lt===b.ZP.sources.USER&&mt.balanceTables()}),!0):!1})}),this.quill.on(b.ZP.events.CONTENT_SETTED,function(){mt.quill.once(b.ZP.events.TEXT_CHANGE,function(){mt.balanceTables()})})}}],[{key:"register",value:function(){b.ZP.register(M.zW,!0),b.ZP.register(M.iD,!0),b.ZP.register(M.xs,!0),b.ZP.register(M.pj,!0),b.ZP.register(M.KA,!0),b.ZP.register(M.SC,!0),b.ZP.register(M.RM,!0),b.ZP.register(M.xD,!0),b.ZP.register(M.xJ,!0),[x.li,B.Du].forEach(function(mt){Object.keys(mt).forEach(function(wt){b.ZP.register(U({},"formats/".concat(wt),mt[wt]),!0)})})}}]),Y}(D.Z);st.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(J){var Y=this.quill.getLine(J.index),ct=$(Y,1),mt=ct[0];return!(!mt.prev||["tableCellLine","tableHeaderCellLine"].indexOf(mt.prev.statics.blotName)===-1)}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,Y){var ct,mt,wt=this,ot=this.quill.getModule("table");if(ot){var rt=this.quill,V=ot.getTable(J),lt=$(V,1),X=lt[0],dt=((ct=this.quill.selection)===null||ct===void 0?void 0:ct.lastNative.native.endContainer.nodeType)===nt;if(dt){var vt=X.offset();(0,W.Z)({quill:rt,index:vt,table:X});return}if(!((mt=this.quill.selection)!==null&&mt!==void 0&&mt.composing)){J.length>0&&this.quill.scroll.deleteAt(J.index,J.length);var T=Object.keys(Y.format).reduce(function(a,i){return wt.quill.scroll.query(i,v.Scope.BLOCK)&&!Array.isArray(Y.format[i])&&(a[i]=Y.format[i]),a},{});this.quill.insertText(J.index,`
`,T.tableCellLine,b.ZP.sources.USER),this.quill.setSelection(J.index+1,b.ZP.sources.SILENT),this.quill.focus(),Object.keys(Y.format).forEach(function(a){T[a]==null&&(Array.isArray(Y.format[a])||a!=="link"&&wt.quill.format(a,Y.format[a],b.ZP.sources.USER))})}}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,Y){var ct=Y.event,mt=Y.line,wt=mt.offset(this.quill.scroll);ct.shiftKey?this.quill.setSelection(wt-1,b.ZP.sources.USER):this.quill.setSelection(wt+mt.length(),b.ZP.sources.USER)}},"table down":(0,S.Z)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":(0,S.Z)(!0,["tableCellLine","tableHeaderCellLine"])};function F(Q,J){var Y=Q.parentNode,ct=Y.parentNode.tagName==="TABLE"?Y.parentNode:Y.parentNode.parentNode,mt=Y.parentNode.tagName==="THEAD"?!0:null,wt=Array.from(ct.querySelectorAll("tr")),ot=Array.from(Y.querySelectorAll("th,td")),rt=wt.indexOf(Y)+1,V=ot.indexOf(Q)+1,lt=mt?"tableHeaderCellLine":"tableCellLine";return J.length()===0?(J=new(h())().insert(`
`,U({},lt,{row:rt,cell:V})),J):((0,P.PF)(J,`
`)||J.insert(`
`),(0,P.HI)(J,lt,{row:rt,cell:V}))}const w=st},6054:(p,C,t)=>{t.d(C,{Z:()=>Ne});var y=t(9098),h=t.n(y),v=t(281),b=t(7094),D=t(6446),M=t(3553),N=t(5874),P=t(319),S=t(8536),I=t(2795);function x(gt){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},x(gt)}function B(gt,St){return U(gt)||A(gt,St)||m(gt,St)||W()}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(gt,St){var Ct=gt==null?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Ct!=null){var Nt,xt,Rt,jt,zt=[],Xt=!0,ee=!1;try{if(Rt=(Ct=Ct.call(gt)).next,St===0){if(Object(Ct)!==Ct)return;Xt=!1}else for(;!(Xt=(Nt=Rt.call(Ct)).done)&&(zt.push(Nt.value),zt.length!==St);Xt=!0);}catch(re){ee=!0,xt=re}finally{try{if(!Xt&&Ct.return!=null&&(jt=Ct.return(),Object(jt)!==jt))return}finally{if(ee)throw xt}}return zt}}function U(gt){if(Array.isArray(gt))return gt}function $(gt){return o(gt)||E(gt)||m(gt)||k()}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(gt,St){if(gt){if(typeof gt=="string")return s(gt,St);var Ct=Object.prototype.toString.call(gt).slice(8,-1);if(Ct==="Object"&&gt.constructor&&(Ct=gt.constructor.name),Ct==="Map"||Ct==="Set")return Array.from(gt);if(Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct))return s(gt,St)}}function E(gt){if(typeof Symbol<"u"&&gt[Symbol.iterator]!=null||gt["@@iterator"]!=null)return Array.from(gt)}function o(gt){if(Array.isArray(gt))return s(gt)}function s(gt,St){(St==null||St>gt.length)&&(St=gt.length);for(var Ct=0,Nt=new Array(St);Ct<St;Ct++)Nt[Ct]=gt[Ct];return Nt}function c(gt,St){if(!(gt instanceof St))throw new TypeError("Cannot call a class as a function")}function O(gt,St){for(var Ct=0;Ct<St.length;Ct++){var Nt=St[Ct];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(gt,j(Nt.key),Nt)}}function L(gt,St,Ct){return St&&O(gt.prototype,St),Ct&&O(gt,Ct),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function j(gt){var St=z(gt,"string");return x(St)==="symbol"?St:String(St)}function z(gt,St){if(x(gt)!=="object"||gt===null)return gt;var Ct=gt[Symbol.toPrimitive];if(Ct!==void 0){var Nt=Ct.call(gt,St||"default");if(x(Nt)!=="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(gt)}function et(){return typeof Reflect<"u"&&Reflect.get?et=Reflect.get.bind():et=function(St,Ct,Nt){var xt=ut(St,Ct);if(xt){var Rt=Object.getOwnPropertyDescriptor(xt,Ct);return Rt.get?Rt.get.call(arguments.length<3?St:Nt):Rt.value}},et.apply(this,arguments)}function ut(gt,St){for(;!Object.prototype.hasOwnProperty.call(gt,St)&&(gt=nt(gt),gt!==null););return gt}function ft(gt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(St&&St.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),St&&ht(gt,St)}function ht(gt,St){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Nt,xt){return Nt.__proto__=xt,Nt},ht(gt,St)}function at(gt){var St=pt();return function(){var Nt=nt(gt),xt;if(St){var Rt=nt(this).constructor;xt=Reflect.construct(Nt,arguments,Rt)}else xt=Nt.apply(this,arguments);return _t(this,xt)}}function _t(gt,St){if(St&&(x(St)==="object"||typeof St=="function"))return St;if(St!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(gt)}function q(gt){if(gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}function pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nt(gt){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ct){return Ct.__proto__||Object.getPrototypeOf(Ct)},nt(gt)}var st="data-tablelite-",F=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct,[{key:"format",value:function(xt,Rt){if(P.li[xt]){var jt,zt="data-".concat(xt.toLowerCase());(0,I.Z)(this.domNode,zt,Rt),(jt=this.row())===null||jt===void 0||(jt=jt.table())===null||jt===void 0||jt.format(xt,Rt)}else et(nt(Ct.prototype),"format",this).call(this,xt,Rt)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var xt;return(xt=this.row())===null||xt===void 0?void 0:xt.table()}}],[{key:"create",value:function(xt){var Rt=et(nt(Ct),"create",this).call(this),jt=this.dataAttribute;return(0,I.Z)(Rt,jt,xt??V()),Rt}},{key:"formats",value:function(xt){var Rt=this.dataAttribute;if(xt.hasAttribute(Rt))return xt.getAttribute(Rt)}}]),Ct}(D.ZP);F.tagName=["TD","TH"];var w=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct,[{key:"format",value:function(xt,Rt){xt===Ct.blotName&&Rt?this.domNode.setAttribute(Ct.dataAttribute,Rt):et(nt(Ct.prototype),"format",this).call(this,xt,Rt)}}]),Ct}(F);w.blotName="table",w.dataAttribute="".concat(st,"row");var Q=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct,[{key:"format",value:function(xt,Rt){xt===Ct.blotName&&Rt?this.domNode.setAttribute(Ct.dataAttribute,Rt):et(nt(Ct.prototype),"format",this).call(this,xt,Rt)}}]),Ct}(F);Q.tagName=["TH","TD"],Q.blotName="tableHeaderCell",Q.dataAttribute="".concat(st,"header-row");var J=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct,[{key:"checkMerge",value:function(){if(et(nt(Ct.prototype),"checkMerge",this).call(this)&&(0,N.Z)(this.next.children.head)){var xt=this.childFormatName,Rt=this.children.head.formats(),jt=this.children.tail.formats(),zt=this.next.children.head.formats(),Xt=this.next.children.tail.formats();return Rt[xt]===jt[xt]&&Rt[xt]===zt[xt]&&Rt[xt]===Xt[xt]}return!1}},{key:"optimize",value:function(){for(var xt,Rt=this,jt=arguments.length,zt=new Array(jt),Xt=0;Xt<jt;Xt++)zt[Xt]=arguments[Xt];(xt=et(nt(Ct.prototype),"optimize",this)).call.apply(xt,[this].concat(zt));var ee=this.childFormatName;this.children.forEach(function(re){if((0,N.Z)(re.next)){var le=re.formats(),oe=re.next.formats();if(le[ee]!==oe[ee]){var Ce=Rt.splitAfter(re);Ce&&Ce.optimize(),Rt.prev&&Rt.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var xt;return(xt=this.parent)===null||xt===void 0?void 0:xt.parent}}]),Ct}(M.Z);J.tagName="TR";var Y=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(Nt,xt){var Rt;return c(this,Ct),Rt=St.call(this,Nt,xt),Rt.childFormatName="table",Rt}return L(Ct)}(J);Y.blotName="tableRow";var ct=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(Nt,xt){var Rt;return c(this,Ct),Rt=St.call(this,Nt,xt),Rt.childFormatName="tableHeaderCell",Rt}return L(Ct)}(J);ct.blotName="tableHeaderRow";var mt=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct,[{key:"optimize",value:function(){var xt;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var Rt=this.children.head.children.head.domNode,jt={};Object.keys(P.li).forEach(function(re){var le=Rt.dataset[re.toLowerCase()];le&&(jt[re]=le)}),this.wrap(this.statics.requiredContainer.blotName,jt)}for(var zt=arguments.length,Xt=new Array(zt),ee=0;ee<zt;ee++)Xt[ee]=arguments[ee];(xt=et(nt(Ct.prototype),"optimize",this)).call.apply(xt,[this].concat(Xt))}}]),Ct}(M.Z),wt=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct)}(mt);wt.blotName="tableBody",wt.tagName=["TBODY"];var ot=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct)}(mt);ot.blotName="tableHeader",ot.tagName=["THEAD"];var rt=function(gt){ft(Ct,gt);var St=at(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return L(Ct,[{key:"balanceCells",value:function(){var xt=this.descendants(ct),Rt=this.descendants(Y),jt=this.getMaxTableColCount(xt,Rt);this.balanceRows(jt,xt,Q),this.balanceRows(jt,Rt,w)}},{key:"getMaxTableColCount",value:function(xt,Rt){return Math.max(this.getMaxRowColCount(xt),this.getMaxRowColCount(Rt))}},{key:"getMaxRowColCount",value:function(xt){return Math.max.apply(Math,$(xt.map(function(Rt){return Rt.children.length})))}},{key:"balanceRows",value:function(xt,Rt,jt){var zt=this;Rt.forEach(function(Xt){new Array(xt-Xt.children.length).fill(0).forEach(function(){var ee;(0,N.Z)(Xt.children.head)&&(ee=jt.formats(Xt.children.head.domNode));var re=zt.scroll.create(jt.blotName,ee);Xt.appendChild(re),re.optimize()})})}},{key:"cells",value:function(xt){return this.rows().map(function(Rt){return Rt.children.at(xt)})}},{key:"deleteColumn",value:function(xt){var Rt=this;[ot,wt].forEach(function(jt){var zt=Rt.descendants(jt),Xt=B(zt,1),ee=Xt[0];!(0,N.Z)(ee)||!(0,N.Z)(ee.children.head)||ee.children.forEach(function(re){var le=re.children.at(xt);(0,N.Z)(le)&&le.remove()})})}},{key:"insertColumn",value:function(xt){var Rt=this;[ot,wt].forEach(function(jt){var zt=Rt.descendants(jt),Xt=B(zt,1),ee=Xt[0];if(!(!(0,N.Z)(ee)||!(0,N.Z)(ee.children.head))){var re=jt===ot?Q:w;ee.children.forEach(function(le){var oe=le.children.at(xt),Ce=re.formats(le.children.head.domNode),Xe=Rt.scroll.create(re.blotName,Ce);le.insertBefore(Xe,oe)})}})}},{key:"insertRow",value:function(xt){var Rt=this,jt=this.descendants(wt),zt=B(jt,1),Xt=zt[0];if(!(!(0,N.Z)(Xt)||!(0,N.Z)(Xt.children.head))){var ee=V(),re=this.scroll.create(Y.blotName);Xt.children.head.children.forEach(function(){var oe=Rt.scroll.create(w.blotName,ee);re.appendChild(oe)});var le=Xt.children.at(xt);Xt.insertBefore(re,le)}}},{key:"insertHeaderRow",value:function(){var xt=this,Rt=this.descendants(ot),jt=B(Rt,1),zt=jt[0],Xt=this.descendants(wt),ee=B(Xt,1),re=ee[0];if(!((0,N.Z)(zt)||!(0,N.Z)(re)||!(0,N.Z)(re.children.head))){var le=V(),oe=this.scroll.create(ot.blotName),Ce=this.scroll.create(ct.blotName),Xe=this.children.at(0);oe.appendChild(Ce),re.children.head.children.forEach(function(){var Qe=xt.scroll.create(Q.blotName,le);Ce.appendChild(Qe),Qe.optimize()}),this.insertBefore(oe,Xe)}}},{key:"rows",value:function(){var xt=this.children.head;return(0,N.Z)(xt)?xt.children.map(function(Rt){return Rt}):[]}},{key:"formats",value:function(){var xt={},Rt=this.cells()[0].domNode;return Object.keys(P.li).forEach(function(jt){var zt=Rt.dataset[jt.toLowerCase()];zt&&(xt[jt]=zt)}),xt}},{key:"format",value:function(xt,Rt){var jt=P.li[xt];if(jt){var zt="data-".concat(xt.toLowerCase());this.cells().forEach(function(Xt){(0,I.Z)(Xt.domNode,zt,Rt)}),jt.add(this.domNode,Rt)}}}],[{key:"create",value:function(xt){var Rt=et(nt(Ct),"create",this).call(this,xt);return xt&&Object.keys(xt).forEach(function(jt){var zt;(zt=P.li[jt])===null||zt===void 0||zt.add(Rt,xt[jt])}),Rt}}]),Ct}(M.Z);rt.blotName="tableContainer",rt.tagName="TABLE",rt.allowedChildren=[ot,wt],wt.requiredContainer=rt,ot.requiredContainer=rt,wt.allowedChildren=[Y],Y.requiredContainer=wt,Y.allowedChildren=[w],w.requiredContainer=Y,ot.allowedChildren=[ct],ct.requiredContainer=ot,ct.allowedChildren=[Q],Q.requiredContainer=ct;function V(){return"row-".concat((0,S.Z)())}var lt=t(5635),X=t(9466);function dt(gt){var St=gt.quill,Ct=gt.index,Nt=gt.range,xt=Ct-1,Rt=new(h())().retain(xt).insert(`
`);St.updateContents(Rt,v.ZP.sources.USER),St.setSelection(Nt.index+1,Nt.length,v.ZP.sources.SILENT)}var vt=t(2480);function T(gt,St,Ct){return gt.prev==null&&gt.next==null?St.prev==null&&St.next==null?Ct===0?-1:1:St.prev==null?-1:1:gt.prev==null?-1:gt.next==null?1:null}var a=t(7896),i=t(1342);function f(gt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},f(gt)}function _(gt,St,Ct){return St=Pt(St),St in gt?Object.defineProperty(gt,St,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):gt[St]=Ct,gt}function G(gt,St){return qt(gt)||Ft(gt,St)||At(gt,St)||yt()}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(gt,St){if(gt){if(typeof gt=="string")return Ht(gt,St);var Ct=Object.prototype.toString.call(gt).slice(8,-1);if(Ct==="Object"&&gt.constructor&&(Ct=gt.constructor.name),Ct==="Map"||Ct==="Set")return Array.from(gt);if(Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct))return Ht(gt,St)}}function Ht(gt,St){(St==null||St>gt.length)&&(St=gt.length);for(var Ct=0,Nt=new Array(St);Ct<St;Ct++)Nt[Ct]=gt[Ct];return Nt}function Ft(gt,St){var Ct=gt==null?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Ct!=null){var Nt,xt,Rt,jt,zt=[],Xt=!0,ee=!1;try{if(Rt=(Ct=Ct.call(gt)).next,St===0){if(Object(Ct)!==Ct)return;Xt=!1}else for(;!(Xt=(Nt=Rt.call(Ct)).done)&&(zt.push(Nt.value),zt.length!==St);Xt=!0);}catch(re){ee=!0,xt=re}finally{try{if(!Xt&&Ct.return!=null&&(jt=Ct.return(),Object(jt)!==jt))return}finally{if(ee)throw xt}}return zt}}function qt(gt){if(Array.isArray(gt))return gt}function Yt(gt,St){if(!(gt instanceof St))throw new TypeError("Cannot call a class as a function")}function Jt(gt,St){for(var Ct=0;Ct<St.length;Ct++){var Nt=St[Ct];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(gt,Pt(Nt.key),Nt)}}function bt(gt,St,Ct){return St&&Jt(gt.prototype,St),Ct&&Jt(gt,Ct),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function Pt(gt){var St=It(gt,"string");return f(St)==="symbol"?St:String(St)}function It(gt,St){if(f(gt)!=="object"||gt===null)return gt;var Ct=gt[Symbol.toPrimitive];if(Ct!==void 0){var Nt=Ct.call(gt,St||"default");if(f(Nt)!=="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(gt)}function Lt(gt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(St&&St.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),St&&Mt(gt,St)}function Mt(gt,St){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Nt,xt){return Nt.__proto__=xt,Nt},Mt(gt,St)}function Wt(gt){var St=Kt();return function(){var Nt=te(gt),xt;if(St){var Rt=te(this).constructor;xt=Reflect.construct(Nt,arguments,Rt)}else xt=Nt.apply(this,arguments);return Bt(this,xt)}}function Bt(gt,St){if(St&&(f(St)==="object"||typeof St=="function"))return St;if(St!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $t(gt)}function $t(gt){if(gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}function Kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(gt){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ct){return Ct.__proto__||Object.getPrototypeOf(Ct)},te(gt)}var ae=[null,null,null,-1],he=function(gt){Lt(Ct,gt);var St=Wt(Ct);function Ct(){var Nt;Yt(this,Ct);for(var xt=arguments.length,Rt=new Array(xt),jt=0;jt<xt;jt++)Rt[jt]=arguments[jt];return Nt=St.call.apply(St,[this].concat(Rt)),Nt.tableBlots=[w.blotName,Q.blotName],Nt.tableBlots.forEach(function(zt){Nt.quill.editor.addImmediateFormat(zt)}),Nt.integrateClipboard(),Nt.addKeyboardHandlers(),Nt.listenBalanceCells(),Nt}return bt(Ct,[{key:"integrateClipboard",value:function(){var xt=this;this.tableBlots.forEach(function(Rt){return xt.quill.clipboard.addTableBlot(Rt)}),this.quill.clipboard.addMatcher("tr",me),this.quill.clipboard.addMatcher("table",(0,a.F)(P.Zt)),this.quill.clipboard.addMatcher("td, th",(0,a.a)(i.h6))}},{key:"addKeyboardHandlers",value:function(){var xt=this,Rt=Ct.keyboardBindings;Object.keys(Rt).forEach(function(jt){Rt[jt]&&xt.quill.keyboard.addBinding(Rt[jt])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(rt).forEach(function(xt){xt.balanceCells()})}},{key:"deleteColumn",value:function(){var xt=this.getTable(),Rt=G(xt,3),jt=Rt[0],zt=Rt[2];(0,N.Z)(zt)&&(jt.deleteColumn(zt.cellOffset()),this.quill.update(v.ZP.sources.USER))}},{key:"deleteRow",value:function(){var xt=this.getTable(),Rt=G(xt,2),jt=Rt[1];(0,N.Z)(jt)&&(jt.remove(),this.quill.update(v.ZP.sources.USER))}},{key:"deleteTable",value:function(){var xt=this.getTable(),Rt=G(xt,1),jt=Rt[0];if((0,N.Z)(jt)){var zt=jt.offset();jt.remove(),this.quill.update(v.ZP.sources.USER),this.quill.setSelection(zt,v.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,N.Z)(xt))return ae;var Rt=this.quill.getLine(xt.index),jt=G(Rt,2),zt=jt[0],Xt=jt[1];if(!(0,N.Z)(zt)||this.tableBlots.indexOf(zt.statics.blotName)===-1)return ae;var ee=zt.parent,re=ee.parent.parent;return[re,ee,zt,Xt]}},{key:"insertColumn",value:function(xt){var Rt=this.quill.getSelection(),jt=this.getTable(Rt),zt=G(jt,3),Xt=zt[0],ee=zt[1],re=zt[2];if((0,N.Z)(re)){var le=re.cellOffset();Xt.insertColumn(le+xt),this.quill.update(v.ZP.sources.USER);var oe=ee.rowOffset();xt===0&&(oe+=1),this.quill.setSelection(Rt.index+oe,Rt.length,v.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(xt){var Rt=this.quill.getSelection(),jt=this.getTable(Rt),zt=G(jt,3),Xt=zt[0],ee=zt[1],re=zt[2];if((0,N.Z)(re)){var le=ee.rowOffset();Xt.insertRow(le+xt),this.quill.update(v.ZP.sources.USER),xt>0?this.quill.setSelection(Rt,v.ZP.sources.SILENT):this.quill.setSelection(Rt.index+ee.children.length,Rt.length,v.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var xt=this.quill.getSelection(),Rt=this.getTable(xt),jt=G(Rt,3),zt=jt[0],Xt=jt[2];(0,N.Z)(Xt)&&(zt.insertHeaderRow(),this.quill.update(v.ZP.sources.USER))}},{key:"insertTable",value:function(xt,Rt){var jt=this.quill.getSelection();if((0,N.Z)(jt)){var zt=new Array(xt).fill(0).reduce(function(Xt){var ee=new Array(Rt).fill(`
`).join("");return Xt.insert(ee,{table:V()})},new(h())().retain(jt.index));this.quill.updateContents(zt,v.ZP.sources.USER),this.quill.setSelection(jt.index,v.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var xt=this;this.quill.on(v.ZP.events.SCROLL_OPTIMIZE,function(Rt){Rt.some(function(jt){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(jt.target.tagName)!==-1?(xt.quill.once(v.ZP.events.TEXT_CHANGE,function(zt,Xt,ee){ee===v.ZP.sources.USER&&xt.balanceTables()}),!0):!1})}),this.quill.on(v.ZP.events.CONTENT_SETTED,function(){xt.quill.once(v.ZP.events.TEXT_CHANGE,function(){xt.balanceTables()})})}}],[{key:"register",value:function(){v.ZP.register(Q,!0),v.ZP.register(w,!0),v.ZP.register(ct,!0),v.ZP.register(Y,!0),v.ZP.register(wt,!0),v.ZP.register(ot,!0),v.ZP.register(rt,!0),[P.li,i.Du].forEach(function(xt){Object.keys(xt).forEach(function(Rt){v.ZP.register(_({},"formats/".concat(Rt),xt[Rt]),!0)})})}}]),Ct}(b.Z);he.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(St){var Ct=this.quill.getModule("table");if(Ct){var Nt=this.quill,xt=Ct.getTable(St),Rt=G(xt,4),jt=Rt[0],zt=Rt[1],Xt=Rt[2],ee=Rt[3],re=T(zt,Xt,ee),le=jt.children.length>1&&jt.children.head;if(re==null||re<0&&le)return;var oe=jt.offset();re<0?dt({quill:Nt,index:oe,range:St}):(0,vt.Z)({quill:Nt,index:oe,table:jt})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(St){var Ct=this.quill.getModule("table");if(Ct){var Nt=this.quill,xt=Ct.getTable(St),Rt=G(xt,4),jt=Rt[0],zt=Rt[1],Xt=Rt[2],ee=Rt[3],re=T(zt,Xt,ee);if(re==null)return;var le=jt.offset(),oe=jt.children.length>1&&jt.children.tail;re<0||re>0&&oe?dt({quill:Nt,index:le,range:St}):(0,vt.Z)({quill:Nt,index:le,table:jt})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(St,Ct){var Nt=Ct.event,xt=Ct.line,Rt=xt.offset(this.quill.scroll);Nt.shiftKey?this.quill.setSelection(Rt-1,v.ZP.sources.USER):this.quill.setSelection(Rt+xt.length(),v.ZP.sources.USER)}},"table down":(0,X.Z)(!1,["table","tableHeaderCell"]),"table up":(0,X.Z)(!0,["table","tableHeaderCell"])};function me(gt,St){var Ct=gt.parentNode.tagName==="TABLE"?gt.parentNode:gt.parentNode.parentNode,Nt=gt.parentNode.tagName==="THEAD"?!0:null,xt=Array.from(Ct.querySelectorAll("tr")),Rt=xt.indexOf(gt)+1;return(0,lt.HI)(St,Nt?"tableHeaderCell":"table",Rt)}const Ne=he},2480:(p,C,t)=>{t.d(C,{Z:()=>b});var y=t(9098),h=t.n(y),v=t(281);function b(D){var M=D.quill,N=D.index,P=D.table,S=N+P.length(),I=new(h())().retain(S).insert(`
`);M.updateContents(I,v.ZP.sources.USER),M.setSelection(S,v.ZP.sources.USER)}},9466:(p,C,t)=>{t.d(C,{Z:()=>h});var y=t(281);function h(v,b){return{key:v?"upArrow":"downArrow",collapsed:!0,format:b,handler:function(M,N){var P=v?"prev":"next",S=N.line,I=S.statics.blotName.indexOf("Line")>-1?S.parent:S,x=I.parent.parent[P],B=I.parent[P]||(x==null?void 0:x.children.head);if(B!=null){if(B.statics.blotName==="tableRow"||B.statics.blotName==="tableHeaderRow"){for(var W=B.children.head,A=I;A.prev!=null;)A=A.prev,W=W.next;var U=W.offset(this.quill.scroll)+Math.min(N.offset,W.length()-1);this.quill.setSelection(U,0,y.ZP.sources.USER)}}else{var $=I.table()[P];$!=null&&(v?this.quill.setSelection($.offset(this.quill.scroll)+$.length()-1,0,y.ZP.sources.USER):this.quill.setSelection($.offset(this.quill.scroll),0,y.ZP.sources.USER))}return!1}}}},7896:(p,C,t)=>{t.d(C,{F:()=>W,a:()=>A});var y=t(1233),h=t(1674),v=t(4569),b=t(5635);function D(U){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},D(U)}function M(U,$){var k=Object.keys(U);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(U);$&&(m=m.filter(function(E){return Object.getOwnPropertyDescriptor(U,E).enumerable})),k.push.apply(k,m)}return k}function N(U){for(var $=1;$<arguments.length;$++){var k=arguments[$]!=null?arguments[$]:{};$%2?M(Object(k),!0).forEach(function(m){P(U,m,k[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(k)):M(Object(k)).forEach(function(m){Object.defineProperty(U,m,Object.getOwnPropertyDescriptor(k,m))})}return U}function P(U,$,k){return $=S($),$ in U?Object.defineProperty(U,$,{value:k,enumerable:!0,configurable:!0,writable:!0}):U[$]=k,U}function S(U){var $=I(U,"string");return D($)==="symbol"?$:String($)}function I(U,$){if(D(U)!=="object"||U===null)return U;var k=U[Symbol.toPrimitive];if(k!==void 0){var m=k.call(U,$||"default");if(D(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(U)}function x(U,$,k,m){U[$]=!m&&U[$]?U[$]:k}function B(U,$,k,m,E,o){return U.filter(function(s){return!!s}).forEach(function(s){var c=k.query(s,y.Scope.ATTRIBUTE);if(c!==null){var O=c.value($);if(O){x(E,c.attrName,O,o);return}}var L=m[s];if(L!=null&&(L.attrName===s||L.keyName===s)){var j=L.value($)||void 0;x(E,L.attrName,j,o)}}),E}function W(U){return function($,k,m){var E=h.Z.keys($),o=v.Z.keys($),s=N(N({},B(E,$,m,U,{},!0)),B(o,$,m,U,{},!0));return Object.keys(s).length>0?(0,b.HI)(k,s):k}}function A(U){return function($,k,m){var E,o=h.Z.keys($),s=v.Z.keys($),c=((E=$.parentNode)===null||E===void 0?void 0:E.tagName)==="TR"?$.parentNode:void 0,O=N(N({},B(o,$,m,U,{},!0)),B(s,$,m,U,{},!0));if(c){var L=v.Z.keys(c);O=B(L,c,m,U,O,!1)}return Object.keys(O).length>0?(0,b.HI)(k,O):k}}},3859:(p,C,t)=>{t.d(C,{Z:()=>s});var y=t(9098),h=t.n(y),v=t(2069),b=t(7094),D=t(8034);function M(c){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},M(c)}function N(c,O,L){return O=x(O),O in c?Object.defineProperty(c,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):c[O]=L,c}function P(c,O){if(!(c instanceof O))throw new TypeError("Cannot call a class as a function")}function S(c,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,x(j.key),j)}}function I(c,O,L){return O&&S(c.prototype,O),L&&S(c,L),Object.defineProperty(c,"prototype",{writable:!1}),c}function x(c){var O=B(c,"string");return M(O)==="symbol"?O:String(O)}function B(c,O){if(M(c)!=="object"||c===null)return c;var L=c[Symbol.toPrimitive];if(L!==void 0){var j=L.call(c,O||"default");if(M(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(c)}function W(c,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(O&&O.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),O&&A(c,O)}function A(c,O){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,z){return j.__proto__=z,j},A(c,O)}function U(c){var O=m();return function(){var j=E(c),z;if(O){var et=E(this).constructor;z=Reflect.construct(j,arguments,et)}else z=j.apply(this,arguments);return $(this,z)}}function $(c,O){if(O&&(M(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(c)}function k(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(c){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},E(c)}var o=function(c){W(L,c);var O=U(L);function L(j,z){var et;return P(this,L),et=O.call(this,j,z),et.preventImageUploading(!1),et.addDragOverHandler(),et.addDropHandler(),et}return I(L,[{key:"addDragOverHandler",value:function(){if((0,D.Z)()){var z=window.navigator.userAgent.toLowerCase(),et=z.indexOf("msie ")!==-1||z.indexOf("trident/")!==-1||z.indexOf("edge/")!==-1;et&&this.quill.root.addEventListener("dragover",function(ut){ut.preventDefault()})}}},{key:"addDropHandler",value:function(){var z=this;this.quill.root.addEventListener("drop",function(et){var ut=et.dataTransfer.files.length===0,ft=z.options.onDrop;if(ft&&typeof ft=="function"&&ft(et),!(ut||z.preventImageUpload)){et.preventDefault();var ht;if(document.caretRangeFromPoint)ht=document.caretRangeFromPoint(et.clientX,et.clientY);else if(document.caretPositionFromPoint){var at=document.caretPositionFromPoint(et.clientX,et.clientY);ht=document.createRange(),ht.setStart(at.offsetNode,at.offset),ht.setEnd(at.offsetNode,at.offset)}else return;var _t=z.quill.selection.normalizeNative(ht),q=z.quill.selection.normalizedToRange(_t);z.upload(q,et.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(z){return typeof z<"u"&&(this.preventImageUpload=z),this.preventImageUpload}},{key:"upload",value:function(z,et,ut){var ft=this;if(!(this.preventImageUpload&&!ut)){var ht=[];Array.from(et).forEach(function(at){at&&ft.options.mimetypes.indexOf(at.type)!==-1&&ht.push(at)}),ht.length>0&&this.options.handler.call(this,z,ht,this.options.imageBlot)}}}]),L}(b.Z);o.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(O,L,j){var z=this,et=L.map(function(ut){return new Promise(function(ft){var ht=new FileReader;ht.onload=function(at){ft(at.target.result)},ht.readAsDataURL(ut)})});Promise.all(et).then(function(ut){var ft=ut.reduce(function(ht,at){return ht.insert(N({},j,at))},new(h())().retain(O.index).delete(O.length));z.quill.updateContents(ft,v.Z.sources.USER),z.quill.setSelection(O.index+ut.length,v.Z.sources.SILENT)})}};const s=o},2141:(p,C,t)=>{t.d(C,{Z:()=>y});function y(h){return h?h.substring(0,1).toUpperCase()+h.substring(1):""}},8034:(p,C,t)=>{t.d(C,{Z:()=>h});var y=function(){return typeof window<"u"};const h=y},5874:(p,C,t)=>{t.d(C,{Z:()=>y});function y(h){return h!=null}},1233:(p,C,t)=>{t.r(C),t.d(C,{Attributor:()=>O,AttributorStore:()=>q,BlockBlot:()=>J,ClassAttributor:()=>et,ContainerBlot:()=>m,EmbedBlot:()=>mt,InlineBlot:()=>F,LeafBlot:()=>s,ParentBlot:()=>U,Registry:()=>S,Scope:()=>h,ScrollBlot:()=>lt,StyleAttributor:()=>at,TextBlot:()=>vt});var y;(function(T){T[T.TYPE=3]="TYPE",T[T.LEVEL=12]="LEVEL",T[T.ATTRIBUTE=13]="ATTRIBUTE",T[T.BLOT=14]="BLOT",T[T.INLINE=7]="INLINE",T[T.BLOCK=11]="BLOCK",T[T.BLOCK_BLOT=10]="BLOCK_BLOT",T[T.INLINE_BLOT=6]="INLINE_BLOT",T[T.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",T[T.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",T[T.ANY=15]="ANY"})(y||(y={}));const h=y;var v=function(){function T(){this.head=null,this.tail=null,this.length=0}return T.prototype.append=function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(this.insertBefore(a[0],null),a.length>1){var f=a.slice(1);this.append.apply(this,f)}},T.prototype.at=function(a){for(var i=this.iterator(),f=i();f&&a>0;)a-=1,f=i();return f},T.prototype.contains=function(a){for(var i=this.iterator(),f=i();f;){if(f===a)return!0;f=i()}return!1},T.prototype.indexOf=function(a){for(var i=this.iterator(),f=i(),_=0;f;){if(f===a)return _;_+=1,f=i()}return-1},T.prototype.insertBefore=function(a,i){a!=null&&(this.remove(a),a.next=i,i!=null?(a.prev=i.prev,i.prev!=null&&(i.prev.next=a),i.prev=a,i===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},T.prototype.offset=function(a){for(var i=0,f=this.head;f!=null;){if(f===a)return i;i+=f.length(),f=f.next}return-1},T.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},T.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var i=a;return a!=null&&(a=a.next),i}},T.prototype.find=function(a,i){i===void 0&&(i=!1);for(var f=this.iterator(),_=f();_;){var G=_.length();if(a<G||i&&a===G&&(_.next==null||_.next.length()!==0))return[_,a];a-=G,_=f()}return[null,0]},T.prototype.forEach=function(a){for(var i=this.iterator(),f=i();f;)a(f),f=i()},T.prototype.forEachAt=function(a,i,f){if(!(i<=0))for(var _=this.find(a),G=_[0],yt=_[1],At=a-yt,Ht=this.iterator(G),Ft=Ht();Ft&&At<a+i;){var qt=Ft.length();a>At?f(Ft,a-At,Math.min(i,At+qt-a)):f(Ft,0,Math.min(qt,a+i-At)),At+=qt,Ft=Ht()}},T.prototype.map=function(a){return this.reduce(function(i,f){return i.push(a(f)),i},[])},T.prototype.reduce=function(a,i){for(var f=this.iterator(),_=f();_;)i=a(i,_),_=f();return i},T}();const b=v;var D=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),M=function(T){D(a,T);function a(i){var f=this;return i="[Parchment] "+i,f=T.call(this,i)||this,f.message=i,f.name=f.constructor.name,f}return a}(Error);const N=M;var P=function(){function T(){this.attributes={},this.classes={},this.tags={},this.types={}}return T.find=function(a,i){if(i===void 0&&(i=!1),a==null)return null;if(this.blots.has(a))return this.blots.get(a)||null;if(i){var f=null;try{f=a.parentNode}catch{return null}return this.find(f,i)}return null},T.prototype.create=function(a,i,f){var _=this.query(i);if(_==null)throw new N("Unable to create ".concat(i," blot"));var G=_,yt=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:G.create(f),At=new G(a,yt,f);return T.blots.set(At.domNode,At),At},T.prototype.find=function(a,i){return i===void 0&&(i=!1),T.find(a,i)},T.prototype.query=function(a,i){var f=this;i===void 0&&(i=h.ANY);var _;if(typeof a=="string")_=this.types[a]||this.attributes[a];else if(a instanceof Text||a.nodeType===Node.TEXT_NODE)_=this.types.text;else if(typeof a=="number")a&h.LEVEL&h.BLOCK?_=this.types.block:a&h.LEVEL&h.INLINE&&(_=this.types.inline);else if(a instanceof Element){var G=(a.getAttribute("class")||"").split(/\s+/);G.some(function(yt){return _=f.classes[yt],!!_}),_=_||this.tags[a.tagName]}return _==null?null:i&h.LEVEL&_.scope&&i&h.TYPE&_.scope?_:null},T.prototype.register=function(){for(var a=this,i=[],f=0;f<arguments.length;f++)i[f]=arguments[f];if(i.length>1)return i.map(function(yt){return a.register(yt)});var _=i[0];if(typeof _.blotName!="string"&&typeof _.attrName!="string")throw new N("Invalid definition");if(_.blotName==="abstract")throw new N("Cannot register abstract class");if(this.types[_.blotName||_.attrName]=_,typeof _.keyName=="string")this.attributes[_.keyName]=_;else if(_.className!=null&&(this.classes[_.className]=_),_.tagName!=null){Array.isArray(_.tagName)?_.tagName=_.tagName.map(function(yt){return yt.toUpperCase()}):_.tagName=_.tagName.toUpperCase();var G=Array.isArray(_.tagName)?_.tagName:[_.tagName];G.forEach(function(yt){(a.tags[yt]==null||_.className==null)&&(a.tags[yt]=_)})}return _},T.blots=new WeakMap,T}();const S=P;var I=function(){function T(a,i){this.scroll=a,this.domNode=i,S.blots.set(i,this),this.prev=null,this.next=null}return T.create=function(a){if(this.tagName==null)throw new N("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a,10).toString()===a&&(a=parseInt(a,10))),typeof a=="number"?i=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?i=document.createElement(a):i=document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},Object.defineProperty(T.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),T.prototype.attach=function(){},T.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return this.scroll.create(a)},T.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),S.blots.delete(this.domNode)},T.prototype.deleteAt=function(a,i){var f=this.isolate(a,i);f.remove()},T.prototype.formatAt=function(a,i,f,_){var G=this.isolate(a,i);if(this.scroll.query(f,h.BLOT)!=null&&_)G.wrap(f,_);else if(this.scroll.query(f,h.ATTRIBUTE)!=null){var yt=this.scroll.create(this.statics.scope);G.wrap(yt),yt.format(f,_)}},T.prototype.insertAt=function(a,i,f){var _=f==null?this.scroll.create("text",i):this.scroll.create(i,f),G=this.split(a);this.parent.insertBefore(_,G||void 0)},T.prototype.isolate=function(a,i){var f=this.split(a);if(f==null)throw new Error("Attempt to isolate at end");return f.split(i),f},T.prototype.length=function(){return 1},T.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this===a?0:this.parent.children.offset(this)+this.parent.offset(a)},T.prototype.optimize=function(a){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},T.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},T.prototype.replaceWith=function(a,i){var f=typeof a=="string"?this.scroll.create(a,i):a;return this.parent!=null&&(this.parent.insertBefore(f,this.next||void 0),this.remove()),f},T.prototype.split=function(a,i){return a===0?this:this.next},T.prototype.update=function(a,i){},T.prototype.wrap=function(a,i){var f=typeof a=="string"?this.scroll.create(a,i):a;if(this.parent!=null&&this.parent.insertBefore(f,this.next||void 0),typeof f.appendChild!="function")throw new N("Cannot wrap ".concat(a));return f.appendChild(this),f},T.blotName="abstract",T}();const x=I;var B=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function W(T,a){var i=a.find(T);if(i==null)try{i=a.create(T)}catch{i=a.create(h.INLINE),Array.from(T.childNodes).forEach(function(_){i.domNode.appendChild(_)}),T.parentNode&&T.parentNode.replaceChild(i.domNode,T),i.attach()}return i}var A=function(T){B(a,T);function a(i,f){var _=T.call(this,i,f)||this;return _.uiNode=null,_.build(),_}return a.prototype.appendChild=function(i){this.insertBefore(i)},a.prototype.attach=function(){T.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},a.prototype.attachUI=function(i){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=i,a.uiClass&&this.uiNode.classList.add(a.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},a.prototype.build=function(){var i=this;this.children=new b,Array.from(this.domNode.childNodes).filter(function(f){return f!==i.uiNode}).reverse().forEach(function(f){try{var _=W(f,i.scroll);i.insertBefore(_,i.children.head||void 0)}catch(G){if(G instanceof N)return;throw G}})},a.prototype.deleteAt=function(i,f){if(i===0&&f===this.length())return this.remove();this.children.forEachAt(i,f,function(_,G,yt){_.deleteAt(G,yt)})},a.prototype.descendant=function(i,f){f===void 0&&(f=0);var _=this.children.find(f),G=_[0],yt=_[1];return i.blotName==null&&i(G)||i.blotName!=null&&G instanceof i?[G,yt]:G instanceof a?G.descendant(i,yt):[null,-1]},a.prototype.descendants=function(i,f,_){f===void 0&&(f=0),_===void 0&&(_=Number.MAX_VALUE);var G=[],yt=_;return this.children.forEachAt(f,_,function(At,Ht,Ft){(i.blotName==null&&i(At)||i.blotName!=null&&At instanceof i)&&G.push(At),At instanceof a&&(G=G.concat(At.descendants(i,Ht,yt))),yt-=Ft}),G},a.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),T.prototype.detach.call(this)},a.prototype.enforceAllowedChildren=function(){var i=this,f=!1;this.children.forEach(function(_){if(!f){var G=i.statics.allowedChildren.some(function(yt){return _ instanceof yt});G||(_.statics.scope===h.BLOCK_BLOT?(_.next!=null&&i.splitAfter(_),_.prev!=null&&i.splitAfter(_.prev),_.parent.unwrap(),f=!0):_ instanceof a?_.unwrap():_.remove())}})},a.prototype.formatAt=function(i,f,_,G){this.children.forEachAt(i,f,function(yt,At,Ht){yt.formatAt(At,Ht,_,G)})},a.prototype.insertAt=function(i,f,_){var G=this.children.find(i),yt=G[0],At=G[1];if(yt)yt.insertAt(At,f,_);else{var Ht=_==null?this.scroll.create("text",f):this.scroll.create(f,_);this.appendChild(Ht)}},a.prototype.insertBefore=function(i,f){i.parent!=null&&i.parent.children.remove(i);var _=null;this.children.insertBefore(i,f||null),i.parent=this,f!=null&&(_=f.domNode),(this.domNode.parentNode!==i.domNode||this.domNode.nextSibling!==_)&&this.domNode.insertBefore(i.domNode,_),i.attach()},a.prototype.length=function(){return this.children.reduce(function(i,f){return i+f.length()},0)},a.prototype.moveChildren=function(i,f){this.children.forEach(function(_){i.insertBefore(_,f)})},a.prototype.optimize=function(i){if(T.prototype.optimize.call(this,i),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){var f=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(f)}else this.remove()},a.prototype.path=function(i,f){f===void 0&&(f=!1);var _=this.children.find(i,f),G=_[0],yt=_[1],At=[[this,i]];return G instanceof a?At.concat(G.path(yt,f)):(G!=null&&At.push([G,yt]),At)},a.prototype.removeChild=function(i){this.children.remove(i)},a.prototype.replaceWith=function(i,f){var _=typeof i=="string"?this.scroll.create(i,f):i;return _ instanceof a&&this.moveChildren(_),T.prototype.replaceWith.call(this,_)},a.prototype.split=function(i,f){if(f===void 0&&(f=!1),!f){if(i===0)return this;if(i===this.length())return this.next}var _=this.clone();return this.parent&&this.parent.insertBefore(_,this.next||void 0),this.children.forEachAt(i,this.length(),function(G,yt,At){var Ht=G.split(yt,f);Ht!=null&&_.appendChild(Ht)}),_},a.prototype.splitAfter=function(i){for(var f=this.clone();i.next!=null;)f.appendChild(i.next);return this.parent&&this.parent.insertBefore(f,this.next||void 0),f},a.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},a.prototype.update=function(i,f){var _=this,G=[],yt=[];i.forEach(function(At){At.target===_.domNode&&At.type==="childList"&&(G.push.apply(G,At.addedNodes),yt.push.apply(yt,At.removedNodes))}),yt.forEach(function(At){if(!(At.parentNode!=null&&At.tagName!=="IFRAME"&&document.body.compareDocumentPosition(At)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Ht=_.scroll.find(At);Ht!=null&&(Ht.domNode.parentNode==null||Ht.domNode.parentNode===_.domNode)&&Ht.detach()}}),G.filter(function(At){return At.parentNode===_.domNode||At===_.uiNode}).sort(function(At,Ht){return At===Ht?0:At.compareDocumentPosition(Ht)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(At){var Ht=null;At.nextSibling!=null&&(Ht=_.scroll.find(At.nextSibling));var Ft=W(At,_.scroll);(Ft.next!==Ht||Ft.next==null)&&(Ft.parent!=null&&Ft.parent.removeChild(_),_.insertBefore(Ft,Ht||void 0))}),this.enforceAllowedChildren()},a.uiClass="",a}(x);const U=A;var $=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),k=function(T){$(a,T);function a(){return T!==null&&T.apply(this,arguments)||this}return a.prototype.checkMerge=function(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName},a.prototype.deleteAt=function(i,f){T.prototype.deleteAt.call(this,i,f),this.enforceAllowedChildren()},a.prototype.formatAt=function(i,f,_,G){T.prototype.formatAt.call(this,i,f,_,G),this.enforceAllowedChildren()},a.prototype.insertAt=function(i,f,_){T.prototype.insertAt.call(this,i,f,_),this.enforceAllowedChildren()},a.prototype.optimize=function(i){T.prototype.optimize.call(this,i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},a.blotName="container",a.scope=h.BLOCK_BLOT,a}(U);const m=k;var E=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),o=function(T){E(a,T);function a(){return T!==null&&T.apply(this,arguments)||this}return a.value=function(i){return!0},a.prototype.index=function(i,f){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},a.prototype.position=function(i,f){var _=Array.from(this.parent.domNode.childNodes),G=_.indexOf(this.domNode);return i>0&&(G+=1),[this.parent.domNode,G]},a.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},a.scope=h.INLINE_BLOT,a}(x);const s=o;var c=function(){function T(a,i,f){f===void 0&&(f={}),this.attrName=a,this.keyName=i;var _=h.TYPE&h.ATTRIBUTE;this.scope=f.scope!=null?f.scope&h.LEVEL|_:h.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return T.keys=function(a){return Array.from(a.attributes).map(function(i){return i.name})},T.prototype.add=function(a,i){return this.canAdd(a,i)?(a.setAttribute(this.keyName,i),!0):!1},T.prototype.canAdd=function(a,i){return this.whitelist==null?!0:typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1},T.prototype.remove=function(a){a.removeAttribute(this.keyName)},T.prototype.value=function(a){var i=a.getAttribute(this.keyName);return this.canAdd(a,i)&&i?i:""},T}();const O=c;var L=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function j(T,a){var i=T.getAttribute("class")||"";return i.split(/\s+/).filter(function(f){return f.indexOf("".concat(a,"-"))===0})}var z=function(T){L(a,T);function a(){return T!==null&&T.apply(this,arguments)||this}return a.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},a.prototype.add=function(i,f){return this.canAdd(i,f)?(this.remove(i),i.classList.add("".concat(this.keyName,"-").concat(f)),!0):!1},a.prototype.remove=function(i){var f=j(i,this.keyName);f.forEach(function(_){i.classList.remove(_)}),i.classList.length===0&&i.removeAttribute("class")},a.prototype.value=function(i){var f=j(i,this.keyName)[0]||"",_=f.slice(this.keyName.length+1);return this.canAdd(i,_)?_:""},a}(O);const et=z;var ut=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function ft(T){var a=T.split("-"),i=a.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return a[0]+i}var ht=function(T){ut(a,T);function a(){return T!==null&&T.apply(this,arguments)||this}return a.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(f){var _=f.split(":");return _[0].trim()})},a.prototype.add=function(i,f){return this.canAdd(i,f)?(i.style[ft(this.keyName)]=f,!0):!1},a.prototype.remove=function(i){i.style[ft(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},a.prototype.value=function(i){var f=i.style[ft(this.keyName)];return this.canAdd(i,f)?f:""},a}(O);const at=ht;var _t=function(){function T(a){this.attributes={},this.domNode=a,this.build()}return T.prototype.attribute=function(a,i){i?a.add(this.domNode,i)&&(a.value(this.domNode)!=null?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])},T.prototype.build=function(){var a=this;this.attributes={};var i=S.find(this.domNode);if(i!=null){var f=O.keys(this.domNode),_=et.keys(this.domNode),G=at.keys(this.domNode);f.concat(_).concat(G).forEach(function(yt){var At=i.scroll.query(yt,h.ATTRIBUTE);At instanceof O&&(a.attributes[At.attrName]=At)})}},T.prototype.copy=function(a){var i=this;Object.keys(this.attributes).forEach(function(f){var _=i.attributes[f].value(i.domNode);a.format(f,_)})},T.prototype.move=function(a){var i=this;this.copy(a),Object.keys(this.attributes).forEach(function(f){i.attributes[f].remove(i.domNode)}),this.attributes={}},T.prototype.values=function(){var a=this;return Object.keys(this.attributes).reduce(function(i,f){return i[f]=a.attributes[f].value(a.domNode),i},{})},T}();const q=_t;var pt=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function nt(T,a){if(Object.keys(T).length!==Object.keys(a).length)return!1;for(var i in T)if(T[i]!==a[i])return!1;return!0}var st=function(T){pt(a,T);function a(i,f){var _=T.call(this,i,f)||this;return _.attributes=new q(_.domNode),_}return a.formats=function(i,f){var _=f.query(a.blotName);if(!(_!=null&&i.tagName===_.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},a.prototype.format=function(i,f){var _=this;if(i===this.statics.blotName&&!f)this.children.forEach(function(yt){yt instanceof a||(yt=yt.wrap(a.blotName,!0)),_.attributes.copy(yt)}),this.unwrap();else{var G=this.scroll.query(i,h.INLINE);if(G==null)return;G instanceof O?this.attributes.attribute(G,f):f&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f)}},a.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode,this.scroll);return f!=null&&(i[this.statics.blotName]=f),i},a.prototype.formatAt=function(i,f,_,G){if(this.formats()[_]!=null||this.scroll.query(_,h.ATTRIBUTE)){var yt=this.isolate(i,f);yt.format(_,G)}else T.prototype.formatAt.call(this,i,f,_,G)},a.prototype.optimize=function(i){T.prototype.optimize.call(this,i);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var _=this.next;_ instanceof a&&_.prev===this&&nt(f,_.formats())&&(_.moveChildren(this),_.remove())},a.prototype.replaceWith=function(i,f){var _=T.prototype.replaceWith.call(this,i,f);return this.attributes.copy(_),_},a.prototype.update=function(i,f){var _=this;T.prototype.update.call(this,i,f);var G=i.some(function(yt){return yt.target===_.domNode&&yt.type==="attributes"});G&&this.attributes.build()},a.prototype.wrap=function(i,f){var _=T.prototype.wrap.call(this,i,f);return _ instanceof a&&this.attributes.move(_),_},a.allowedChildren=[a,s],a.blotName="inline",a.scope=h.INLINE_BLOT,a.tagName="SPAN",a}(U);const F=st;var w=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),Q=function(T){w(a,T);function a(i,f){var _=T.call(this,i,f)||this;return _.attributes=new q(_.domNode),_}return a.formats=function(i,f){var _=f.query(a.blotName);if(!(_!=null&&i.tagName===_.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},a.prototype.format=function(i,f){var _=this.scroll.query(i,h.BLOCK);_!=null&&(_ instanceof O?this.attributes.attribute(_,f):i===this.statics.blotName&&!f?this.replaceWith(a.blotName):f&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f))},a.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode,this.scroll);return f!=null&&(i[this.statics.blotName]=f),i},a.prototype.formatAt=function(i,f,_,G){this.scroll.query(_,h.BLOCK)!=null?this.format(_,G):T.prototype.formatAt.call(this,i,f,_,G)},a.prototype.insertAt=function(i,f,_){if(_==null||this.scroll.query(f,h.INLINE)!=null)T.prototype.insertAt.call(this,i,f,_);else{var G=this.split(i);if(G!=null){var yt=this.scroll.create(f,_);G.parent.insertBefore(yt,G)}else throw new Error("Attempt to insertAt after block boundaries")}},a.prototype.replaceWith=function(i,f){var _=T.prototype.replaceWith.call(this,i,f);return this.attributes.copy(_),_},a.prototype.update=function(i,f){var _=this;T.prototype.update.call(this,i,f);var G=i.some(function(yt){return yt.target===_.domNode&&yt.type==="attributes"});G&&this.attributes.build()},a.blotName="block",a.scope=h.BLOCK_BLOT,a.tagName="P",a.allowedChildren=[F,a,s],a}(U);const J=Q;var Y=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ct=function(T){Y(a,T);function a(){return T!==null&&T.apply(this,arguments)||this}return a.formats=function(i,f){},a.prototype.format=function(i,f){T.prototype.formatAt.call(this,0,this.length(),i,f)},a.prototype.formatAt=function(i,f,_,G){i===0&&f===this.length()?this.format(_,G):T.prototype.formatAt.call(this,i,f,_,G)},a.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},a}(s);const mt=ct;var wt=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ot={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},rt=100,V=function(T){wt(a,T);function a(i,f){var _=T.call(this,null,f)||this;return _.registry=i,_.scroll=_,_.build(),_.observer=new MutationObserver(function(G){_.update(G)}),_.observer.observe(_.domNode,ot),_.attach(),_}return a.prototype.create=function(i,f){return this.registry.create(this,i,f)},a.prototype.find=function(i,f){f===void 0&&(f=!1);var _=this.registry.find(i,f);return _?_.scroll===this?_:f?this.find(_.scroll.domNode.parentNode,!0):null:null},a.prototype.query=function(i,f){return f===void 0&&(f=h.ANY),this.registry.query(i,f)},a.prototype.register=function(){for(var i,f=[],_=0;_<arguments.length;_++)f[_]=arguments[_];return(i=this.registry).register.apply(i,f)},a.prototype.build=function(){this.scroll!=null&&T.prototype.build.call(this)},a.prototype.detach=function(){T.prototype.detach.call(this),this.observer.disconnect()},a.prototype.deleteAt=function(i,f){this.update(),i===0&&f===this.length()?this.children.forEach(function(_){_.remove()}):T.prototype.deleteAt.call(this,i,f)},a.prototype.formatAt=function(i,f,_,G){this.update(),T.prototype.formatAt.call(this,i,f,_,G)},a.prototype.insertAt=function(i,f,_){this.update(),T.prototype.insertAt.call(this,i,f,_)},a.prototype.optimize=function(i,f){var _=this;i===void 0&&(i=[]),f===void 0&&(f={}),T.prototype.optimize.call(this,f);for(var G=f.mutationsMap||new WeakMap,yt=Array.from(this.observer.takeRecords());yt.length>0;)i.push(yt.pop());for(var At=function Yt(Jt,bt){bt===void 0&&(bt=!0),!(Jt==null||Jt===_)&&Jt.domNode.parentNode!=null&&(G.has(Jt.domNode)||G.set(Jt.domNode,[]),bt&&Yt(Jt.parent))},Ht=function Yt(Jt){G.has(Jt.domNode)&&(Jt instanceof U&&Jt.children.forEach(Yt),G.delete(Jt.domNode),Jt.optimize(f))},Ft=i,qt=0;Ft.length>0;qt+=1){if(qt>=rt)throw new Error("[Parchment] Maximum optimize iterations reached");for(Ft.forEach(function(Yt){var Jt=_.find(Yt.target,!0);Jt!=null&&(Jt.domNode===Yt.target&&(Yt.type==="childList"?(At(_.find(Yt.previousSibling,!1)),Array.from(Yt.addedNodes).forEach(function(bt){var Pt=_.find(bt,!1);At(Pt,!1),Pt instanceof U&&Pt.children.forEach(function(It){At(It,!1)})})):Yt.type==="attributes"&&At(Jt.prev)),At(Jt))}),this.children.forEach(Ht),Ft=Array.from(this.observer.takeRecords()),yt=Ft.slice();yt.length>0;)i.push(yt.pop())}},a.prototype.update=function(i,f){var _=this;f===void 0&&(f={}),i=i||this.observer.takeRecords();var G=new WeakMap;i.map(function(yt){var At=_.find(yt.target,!0);return At==null?null:G.has(At.domNode)?(G.get(At.domNode).push(yt),null):(G.set(At.domNode,[yt]),At)}).forEach(function(yt){yt!=null&&yt!==_&&G.has(yt.domNode)&&yt.update(G.get(yt.domNode)||[],f)}),f.mutationsMap=G,G.has(this.domNode)&&T.prototype.update.call(this,G.get(this.domNode),f),this.optimize(i,f)},a.blotName="scroll",a.defaultChild=J,a.allowedChildren=[J,m],a.scope=h.BLOCK_BLOT,a.tagName="DIV",a}(U);const lt=V;var X=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,G){_.__proto__=G}||function(_,G){for(var yt in G)Object.prototype.hasOwnProperty.call(G,yt)&&(_[yt]=G[yt])},T(i,f)};return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(a,i);function f(){this.constructor=a}a.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),dt=function(T){X(a,T);function a(i,f){var _=T.call(this,i,f)||this;return _.text=_.statics.value(_.domNode),_}return a.create=function(i){return document.createTextNode(i)},a.value=function(i){return i.data},a.prototype.deleteAt=function(i,f){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+f)},a.prototype.index=function(i,f){return this.domNode===i?f:-1},a.prototype.insertAt=function(i,f,_){_==null?(this.text=this.text.slice(0,i)+f+this.text.slice(i),this.domNode.data=this.text):T.prototype.insertAt.call(this,i,f,_)},a.prototype.length=function(){return this.text.length},a.prototype.optimize=function(i){T.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof a&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},a.prototype.position=function(i,f){return[this.domNode,i]},a.prototype.split=function(i,f){if(f===void 0&&(f=!1),!f){if(i===0)return this;if(i===this.length())return this.next}var _=this.scroll.create(this.domNode.splitText(i));return this.parent.insertBefore(_,this.next||void 0),this.text=this.statics.value(this.domNode),_},a.prototype.update=function(i,f){var _=this;i.some(function(G){return G.type==="characterData"&&G.target===_.domNode})&&(this.text=this.statics.value(this.domNode))},a.prototype.value=function(){return this.text},a.blotName="text",a.scope=h.INLINE_BLOT,a}(s);const vt=dt},3034:function(p,C){var t=Object.prototype.hasOwnProperty,y="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(y=!1));function v(N,P,S){this.fn=N,this.context=P,this.once=S||!1}function b(N,P,S,I,x){if(typeof S!="function")throw new TypeError("The listener must be a function");var B=new v(S,I||N,x),W=y?y+P:P;return N._events[W]?N._events[W].fn?N._events[W]=[N._events[W],B]:N._events[W].push(B):(N._events[W]=B,N._eventsCount++),N}function D(N,P){--N._eventsCount===0?N._events=new h:delete N._events[P]}function M(){this._events=new h,this._eventsCount=0}M.prototype.eventNames=function(){var P=[],S,I;if(this._eventsCount===0)return P;for(I in S=this._events)t.call(S,I)&&P.push(y?I.slice(1):I);return Object.getOwnPropertySymbols?P.concat(Object.getOwnPropertySymbols(S)):P},M.prototype.listeners=function(P){var S=y?y+P:P,I=this._events[S];if(!I)return[];if(I.fn)return[I.fn];for(var x=0,B=I.length,W=new Array(B);x<B;x++)W[x]=I[x].fn;return W},M.prototype.listenerCount=function(P){var S=y?y+P:P,I=this._events[S];return I?I.fn?1:I.length:0},M.prototype.emit=function(P,S,I,x,B,W){var A=y?y+P:P;if(!this._events[A])return!1;var U=this._events[A],$=arguments.length,k,m;if(U.fn){switch(U.once&&this.removeListener(P,U.fn,void 0,!0),$){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,S),!0;case 3:return U.fn.call(U.context,S,I),!0;case 4:return U.fn.call(U.context,S,I,x),!0;case 5:return U.fn.call(U.context,S,I,x,B),!0;case 6:return U.fn.call(U.context,S,I,x,B,W),!0}for(m=1,k=new Array($-1);m<$;m++)k[m-1]=arguments[m];U.fn.apply(U.context,k)}else{var E=U.length,o;for(m=0;m<E;m++)switch(U[m].once&&this.removeListener(P,U[m].fn,void 0,!0),$){case 1:U[m].fn.call(U[m].context);break;case 2:U[m].fn.call(U[m].context,S);break;case 3:U[m].fn.call(U[m].context,S,I);break;case 4:U[m].fn.call(U[m].context,S,I,x);break;default:if(!k)for(o=1,k=new Array($-1);o<$;o++)k[o-1]=arguments[o];U[m].fn.apply(U[m].context,k)}}return!0},M.prototype.on=function(P,S,I){return b(this,P,S,I,!1)},M.prototype.once=function(P,S,I){return b(this,P,S,I,!0)},M.prototype.removeListener=function(P,S,I,x){var B=y?y+P:P;if(!this._events[B])return this;if(!S)return D(this,B),this;var W=this._events[B];if(W.fn)W.fn===S&&(!x||W.once)&&(!I||W.context===I)&&D(this,B);else{for(var A=0,U=[],$=W.length;A<$;A++)(W[A].fn!==S||x&&!W[A].once||I&&W[A].context!==I)&&U.push(W[A]);U.length?this._events[B]=U.length===1?U[0]:U:D(this,B)}return this},M.prototype.removeAllListeners=function(P){var S;return P?(S=y?y+P:P,this._events[S]&&D(this,S)):(this._events=new h,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=y,M.EventEmitter=M,typeof p<"u"&&(p.exports=M)},1456:p=>{var C=-1,t=1,y=0;function h(m,E,o,s){if(m===E)return m?[[y,m]]:[];if(o!=null){var c=$(m,E,o);if(c)return c}var O=M(m,E),L=m.substring(0,O);m=m.substring(O),E=E.substring(O),O=N(m,E);var j=m.substring(m.length-O);m=m.substring(0,m.length-O),E=E.substring(0,E.length-O);var z=v(m,E);return L&&z.unshift([y,L]),j&&z.push([y,j]),S(z,s),z}function v(m,E){var o;if(!m)return[[t,E]];if(!E)return[[C,m]];var s=m.length>E.length?m:E,c=m.length>E.length?E:m,O=s.indexOf(c);if(O!==-1)return o=[[t,s.substring(0,O)],[y,c],[t,s.substring(O+c.length)]],m.length>E.length&&(o[0][0]=o[2][0]=C),o;if(c.length===1)return[[C,m],[t,E]];var L=P(m,E);if(L){var j=L[0],z=L[1],et=L[2],ut=L[3],ft=L[4],ht=h(j,et),at=h(z,ut);return ht.concat([[y,ft]],at)}return b(m,E)}function b(m,E){for(var o=m.length,s=E.length,c=Math.ceil((o+s)/2),O=c,L=2*c,j=new Array(L),z=new Array(L),et=0;et<L;et++)j[et]=-1,z[et]=-1;j[O+1]=0,z[O+1]=0;for(var ut=o-s,ft=ut%2!==0,ht=0,at=0,_t=0,q=0,pt=0;pt<c;pt++){for(var nt=-pt+ht;nt<=pt-at;nt+=2){var st=O+nt,F;nt===-pt||nt!==pt&&j[st-1]<j[st+1]?F=j[st+1]:F=j[st-1]+1;for(var w=F-nt;F<o&&w<s&&m.charAt(F)===E.charAt(w);)F++,w++;if(j[st]=F,F>o)at+=2;else if(w>s)ht+=2;else if(ft){var Q=O+ut-nt;if(Q>=0&&Q<L&&z[Q]!==-1){var J=o-z[Q];if(F>=J)return D(m,E,F,w)}}}for(var Y=-pt+_t;Y<=pt-q;Y+=2){var Q=O+Y,J;Y===-pt||Y!==pt&&z[Q-1]<z[Q+1]?J=z[Q+1]:J=z[Q-1]+1;for(var ct=J-Y;J<o&&ct<s&&m.charAt(o-J-1)===E.charAt(s-ct-1);)J++,ct++;if(z[Q]=J,J>o)q+=2;else if(ct>s)_t+=2;else if(!ft){var st=O+ut-Y;if(st>=0&&st<L&&j[st]!==-1){var F=j[st],w=O+F-st;if(J=o-J,F>=J)return D(m,E,F,w)}}}}return[[C,m],[t,E]]}function D(m,E,o,s){var c=m.substring(0,o),O=E.substring(0,s),L=m.substring(o),j=E.substring(s),z=h(c,O),et=h(L,j);return z.concat(et)}function M(m,E){if(!m||!E||m.charAt(0)!==E.charAt(0))return 0;for(var o=0,s=Math.min(m.length,E.length),c=s,O=0;o<c;)m.substring(O,c)==E.substring(O,c)?(o=c,O=o):s=c,c=Math.floor((s-o)/2+o);return I(m.charCodeAt(c-1))&&c--,c}function N(m,E){if(!m||!E||m.slice(-1)!==E.slice(-1))return 0;for(var o=0,s=Math.min(m.length,E.length),c=s,O=0;o<c;)m.substring(m.length-c,m.length-O)==E.substring(E.length-c,E.length-O)?(o=c,O=o):s=c,c=Math.floor((s-o)/2+o);return x(m.charCodeAt(m.length-c))&&c--,c}function P(m,E){var o=m.length>E.length?m:E,s=m.length>E.length?E:m;if(o.length<4||s.length*2<o.length)return null;function c(at,_t,q){for(var pt=at.substring(q,q+Math.floor(at.length/4)),nt=-1,st="",F,w,Q,J;(nt=_t.indexOf(pt,nt+1))!==-1;){var Y=M(at.substring(q),_t.substring(nt)),ct=N(at.substring(0,q),_t.substring(0,nt));st.length<ct+Y&&(st=_t.substring(nt-ct,nt)+_t.substring(nt,nt+Y),F=at.substring(0,q-ct),w=at.substring(q+Y),Q=_t.substring(0,nt-ct),J=_t.substring(nt+Y))}return st.length*2>=at.length?[F,w,Q,J,st]:null}var O=c(o,s,Math.ceil(o.length/4)),L=c(o,s,Math.ceil(o.length/2)),j;if(!O&&!L)return null;L?O?j=O[4].length>L[4].length?O:L:j=L:j=O;var z,et,ut,ft;m.length>E.length?(z=j[0],et=j[1],ut=j[2],ft=j[3]):(ut=j[0],ft=j[1],z=j[2],et=j[3]);var ht=j[4];return[z,et,ut,ft,ht]}function S(m,E){m.push([y,""]);for(var o=0,s=0,c=0,O="",L="",j;o<m.length;){if(o<m.length-1&&!m[o][1]){m.splice(o,1);continue}switch(m[o][0]){case t:c++,L+=m[o][1],o++;break;case C:s++,O+=m[o][1],o++;break;case y:var z=o-c-s-1;if(E){if(z>=0&&W(m[z][1])){var et=m[z][1].slice(-1);if(m[z][1]=m[z][1].slice(0,-1),O=et+O,L=et+L,!m[z][1]){m.splice(z,1),o--;var ut=z-1;m[ut]&&m[ut][0]===t&&(c++,L=m[ut][1]+L,ut--),m[ut]&&m[ut][0]===C&&(s++,O=m[ut][1]+O,ut--),z=ut}}if(B(m[o][1])){var et=m[o][1].charAt(0);m[o][1]=m[o][1].slice(1),O+=et,L+=et}}if(o<m.length-1&&!m[o][1]){m.splice(o,1);break}if(O.length>0||L.length>0){O.length>0&&L.length>0&&(j=M(L,O),j!==0&&(z>=0?m[z][1]+=L.substring(0,j):(m.splice(0,0,[y,L.substring(0,j)]),o++),L=L.substring(j),O=O.substring(j)),j=N(L,O),j!==0&&(m[o][1]=L.substring(L.length-j)+m[o][1],L=L.substring(0,L.length-j),O=O.substring(0,O.length-j)));var ft=c+s;O.length===0&&L.length===0?(m.splice(o-ft,ft),o=o-ft):O.length===0?(m.splice(o-ft,ft,[t,L]),o=o-ft+1):L.length===0?(m.splice(o-ft,ft,[C,O]),o=o-ft+1):(m.splice(o-ft,ft,[C,O],[t,L]),o=o-ft+2)}o!==0&&m[o-1][0]===y?(m[o-1][1]+=m[o][1],m.splice(o,1)):o++,c=0,s=0,O="",L="";break}}m[m.length-1][1]===""&&m.pop();var ht=!1;for(o=1;o<m.length-1;)m[o-1][0]===y&&m[o+1][0]===y&&(m[o][1].substring(m[o][1].length-m[o-1][1].length)===m[o-1][1]?(m[o][1]=m[o-1][1]+m[o][1].substring(0,m[o][1].length-m[o-1][1].length),m[o+1][1]=m[o-1][1]+m[o+1][1],m.splice(o-1,1),ht=!0):m[o][1].substring(0,m[o+1][1].length)==m[o+1][1]&&(m[o-1][1]+=m[o+1][1],m[o][1]=m[o][1].substring(m[o+1][1].length)+m[o+1][1],m.splice(o+1,1),ht=!0)),o++;ht&&S(m,E)}function I(m){return m>=55296&&m<=56319}function x(m){return m>=56320&&m<=57343}function B(m){return x(m.charCodeAt(0))}function W(m){return I(m.charCodeAt(m.length-1))}function A(m){for(var E=[],o=0;o<m.length;o++)m[o][1].length>0&&E.push(m[o]);return E}function U(m,E,o,s){return W(m)||B(s)?null:A([[y,m],[C,E],[t,o],[y,s]])}function $(m,E,o){var s=typeof o=="number"?{index:o,length:0}:o.oldRange,c=typeof o=="number"?null:o.newRange,O=m.length,L=E.length;if(s.length===0&&(c===null||c.length===0)){var j=s.index,z=m.slice(0,j),et=m.slice(j),ut=c?c.index:null;t:{var ft=j+L-O;if(ut!==null&&ut!==ft||ft<0||ft>L)break t;var ht=E.slice(0,ft),at=E.slice(ft);if(at!==et)break t;var _t=Math.min(j,ft),q=z.slice(0,_t),pt=ht.slice(0,_t);if(q!==pt)break t;var nt=z.slice(_t),st=ht.slice(_t);return U(q,nt,st,et)}t:{if(ut!==null&&ut!==j)break t;var F=j,ht=E.slice(0,F),at=E.slice(F);if(ht!==z)break t;var w=Math.min(O-F,L-F),Q=et.slice(et.length-w),J=at.slice(at.length-w);if(Q!==J)break t;var nt=et.slice(0,et.length-w),st=at.slice(0,at.length-w);return U(z,nt,st,Q)}}if(s.length>0&&c&&c.length===0)t:{var q=m.slice(0,s.index),Q=m.slice(s.index+s.length),_t=q.length,w=Q.length;if(L<_t+w)break t;var pt=E.slice(0,_t),J=E.slice(L-w);if(q!==pt||Q!==J)break t;var nt=m.slice(_t,O-w),st=E.slice(_t,L-w);return U(q,nt,st,Q)}return null}function k(m,E,o){return h(m,E,o,!0)}k.INSERT=t,k.DELETE=C,k.EQUAL=y,p.exports=k},8805:(p,C,t)=>{p=t.nmd(p);var y=200,h="__lodash_hash_undefined__",v=9007199254740991,b="[object Arguments]",D="[object Array]",M="[object Boolean]",N="[object Date]",P="[object Error]",S="[object Function]",I="[object GeneratorFunction]",x="[object Map]",B="[object Number]",W="[object Object]",A="[object Promise]",U="[object RegExp]",$="[object Set]",k="[object String]",m="[object Symbol]",E="[object WeakMap]",o="[object ArrayBuffer]",s="[object DataView]",c="[object Float32Array]",O="[object Float64Array]",L="[object Int8Array]",j="[object Int16Array]",z="[object Int32Array]",et="[object Uint8Array]",ut="[object Uint8ClampedArray]",ft="[object Uint16Array]",ht="[object Uint32Array]",at=/[\\^$.*+?()[\]{}|]/g,_t=/\w*$/,q=/^\[object .+?Constructor\]$/,pt=/^(?:0|[1-9]\d*)$/,nt={};nt[b]=nt[D]=nt[o]=nt[s]=nt[M]=nt[N]=nt[c]=nt[O]=nt[L]=nt[j]=nt[z]=nt[x]=nt[B]=nt[W]=nt[U]=nt[$]=nt[k]=nt[m]=nt[et]=nt[ut]=nt[ft]=nt[ht]=!0,nt[P]=nt[S]=nt[E]=!1;var st=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,F=typeof self=="object"&&self&&self.Object===Object&&self,w=st||F||Function("return this")(),Q=C&&!C.nodeType&&C,J=Q&&!0&&p&&!p.nodeType&&p,Y=J&&J.exports===Q;function ct(d,H){return d.set(H[0],H[1]),d}function mt(d,H){return d.add(H),d}function wt(d,H){for(var g=-1,Z=d?d.length:0;++g<Z&&H(d[g],g,d)!==!1;);return d}function ot(d,H){for(var g=-1,Z=H.length,Ot=d.length;++g<Z;)d[Ot+g]=H[g];return d}function rt(d,H,g,Z){var Ot=-1,Dt=d?d.length:0;for(Z&&Dt&&(g=d[++Ot]);++Ot<Dt;)g=H(g,d[Ot],Ot,d);return g}function V(d,H){for(var g=-1,Z=Array(d);++g<d;)Z[g]=H(g);return Z}function lt(d,H){return d==null?void 0:d[H]}function X(d){var H=!1;if(d!=null&&typeof d.toString!="function")try{H=!!(d+"")}catch{}return H}function dt(d){var H=-1,g=Array(d.size);return d.forEach(function(Z,Ot){g[++H]=[Ot,Z]}),g}function vt(d,H){return function(g){return d(H(g))}}function T(d){var H=-1,g=Array(d.size);return d.forEach(function(Z){g[++H]=Z}),g}var a=Array.prototype,i=Function.prototype,f=Object.prototype,_=w["__core-js_shared__"],G=function(){var d=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),yt=i.toString,At=f.hasOwnProperty,Ht=f.toString,Ft=RegExp("^"+yt.call(At).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=Y?w.Buffer:void 0,Yt=w.Symbol,Jt=w.Uint8Array,bt=vt(Object.getPrototypeOf,Object),Pt=Object.create,It=f.propertyIsEnumerable,Lt=a.splice,Mt=Object.getOwnPropertySymbols,Wt=qt?qt.isBuffer:void 0,Bt=vt(Object.keys,Object),$t=Me(w,"DataView"),Kt=Me(w,"Map"),te=Me(w,"Promise"),ae=Me(w,"Set"),he=Me(w,"WeakMap"),me=Me(Object,"create"),Ne=Ee($t),gt=Ee(Kt),St=Ee(te),Ct=Ee(ae),Nt=Ee(he),xt=Yt?Yt.prototype:void 0,Rt=xt?xt.valueOf:void 0;function jt(d){var H=-1,g=d?d.length:0;for(this.clear();++H<g;){var Z=d[H];this.set(Z[0],Z[1])}}function zt(){this.__data__=me?me(null):{}}function Xt(d){return this.has(d)&&delete this.__data__[d]}function ee(d){var H=this.__data__;if(me){var g=H[d];return g===h?void 0:g}return At.call(H,d)?H[d]:void 0}function re(d){var H=this.__data__;return me?H[d]!==void 0:At.call(H,d)}function le(d,H){var g=this.__data__;return g[d]=me&&H===void 0?h:H,this}jt.prototype.clear=zt,jt.prototype.delete=Xt,jt.prototype.get=ee,jt.prototype.has=re,jt.prototype.set=le;function oe(d){var H=-1,g=d?d.length:0;for(this.clear();++H<g;){var Z=d[H];this.set(Z[0],Z[1])}}function Ce(){this.__data__=[]}function Xe(d){var H=this.__data__,g=lr(H,d);if(g<0)return!1;var Z=H.length-1;return g==Z?H.pop():Lt.call(H,g,1),!0}function Qe(d){var H=this.__data__,g=lr(H,d);return g<0?void 0:H[g][1]}function jr(d){return lr(this.__data__,d)>-1}function kr(d,H){var g=this.__data__,Z=lr(g,d);return Z<0?g.push([d,H]):g[Z][1]=H,this}oe.prototype.clear=Ce,oe.prototype.delete=Xe,oe.prototype.get=Qe,oe.prototype.has=jr,oe.prototype.set=kr;function ve(d){var H=-1,g=d?d.length:0;for(this.clear();++H<g;){var Z=d[H];this.set(Z[0],Z[1])}}function or(){this.__data__={hash:new jt,map:new(Kt||oe),string:new jt}}function Hr(d){return Ke(this,d).delete(d)}function Fr(d){return Ke(this,d).get(d)}function mr(d){return Ke(this,d).has(d)}function Ur(d,H){return Ke(this,d).set(d,H),this}ve.prototype.clear=or,ve.prototype.delete=Hr,ve.prototype.get=Fr,ve.prototype.has=mr,ve.prototype.set=Ur;function Se(d){this.__data__=new oe(d)}function yr(){this.__data__=new oe}function Wr(d){return this.__data__.delete(d)}function Le(d){return this.__data__.get(d)}function Ye(d){return this.__data__.has(d)}function $r(d,H){var g=this.__data__;if(g instanceof oe){var Z=g.__data__;if(!Kt||Z.length<y-1)return Z.push([d,H]),this;g=this.__data__=new ve(Z)}return g.set(d,H),this}Se.prototype.clear=yr,Se.prototype.delete=Wr,Se.prototype.get=Le,Se.prototype.has=Ye,Se.prototype.set=$r;function we(d,H){var g=dr(d)||fr(d)?V(d.length,String):[],Z=g.length,Ot=!!Z;for(var Dt in d)(H||At.call(d,Dt))&&!(Ot&&(Dt=="length"||Xr(Dt,Z)))&&g.push(Dt);return g}function ar(d,H,g){var Z=d[H];(!(At.call(d,H)&&cr(Z,g))||g===void 0&&!(H in d))&&(d[H]=g)}function lr(d,H){for(var g=d.length;g--;)if(cr(d[g][0],H))return g;return-1}function He(d,H){return d&&Er(H,hr(H),d)}function gr(d,H,g,Z,Ot,Dt,Zt){var Gt;if(Z&&(Gt=Dt?Z(d,Ot,Dt,Zt):Z(d)),Gt!==void 0)return Gt;if(!je(d))return d;var ne=dr(d);if(ne){if(Gt=qr(d),!H)return Vr(d,Gt)}else{var Vt=ze(d),ie=Vt==S||Vt==I;if(We(d))return sr(d,H);if(Vt==W||Vt==b||ie&&!Dt){if(X(d))return Dt?d:{};if(Gt=Ae(ie?{}:d),!H)return wr(d,He(Gt,d))}else{if(!nt[Vt])return Dt?d:{};Gt=tr(d,Vt,gr,H)}}Zt||(Zt=new Se);var de=Zt.get(d);if(de)return de;if(Zt.set(d,Gt),!ne)var se=g?Gr(d):hr(d);return wt(se||d,function(ye,ge){se&&(ge=ye,ye=d[ge]),ar(Gt,ge,gr(ye,H,g,Z,ge,d,Zt))}),Gt}function Tr(d){return je(d)?Pt(d):{}}function Kr(d,H,g){var Z=H(d);return dr(d)?Z:ot(Z,g(d))}function br(d){return Ht.call(d)}function zr(d){if(!je(d)||Pr(d))return!1;var H=Be(d)||X(d)?Ft:q;return H.test(Ee(d))}function Zr(d){if(!Re(d))return Bt(d);var H=[];for(var g in Object(d))At.call(d,g)&&g!="constructor"&&H.push(g);return H}function sr(d,H){if(H)return d.slice();var g=new d.constructor(d.length);return d.copy(g),g}function _r(d){var H=new d.constructor(d.byteLength);return new Jt(H).set(new Jt(d)),H}function Fe(d,H){var g=H?_r(d.buffer):d.buffer;return new d.constructor(g,d.byteOffset,d.byteLength)}function ur(d,H,g){var Z=H?g(dt(d),!0):dt(d);return rt(Z,ct,new d.constructor)}function Sr(d){var H=new d.constructor(d.source,_t.exec(d));return H.lastIndex=d.lastIndex,H}function Ze(d,H,g){var Z=H?g(T(d),!0):T(d);return rt(Z,mt,new d.constructor)}function Je(d){return Rt?Object(Rt.call(d)):{}}function Or(d,H){var g=H?_r(d.buffer):d.buffer;return new d.constructor(g,d.byteOffset,d.length)}function Vr(d,H){var g=-1,Z=d.length;for(H||(H=Array(Z));++g<Z;)H[g]=d[g];return H}function Er(d,H,g,Z){g||(g={});for(var Ot=-1,Dt=H.length;++Ot<Dt;){var Zt=H[Ot],Gt=Z?Z(g[Zt],d[Zt],Zt,g,d):void 0;ar(g,Zt,Gt===void 0?d[Zt]:Gt)}return g}function wr(d,H){return Er(d,Ue(d),H)}function Gr(d){return Kr(d,hr,Ue)}function Ke(d,H){var g=d.__data__;return Qr(H)?g[typeof H=="string"?"string":"hash"]:g.map}function Me(d,H){var g=lt(d,H);return zr(g)?g:void 0}var Ue=Mt?vt(Mt,Object):Ve,ze=br;($t&&ze(new $t(new ArrayBuffer(1)))!=s||Kt&&ze(new Kt)!=x||te&&ze(te.resolve())!=A||ae&&ze(new ae)!=$||he&&ze(new he)!=E)&&(ze=function(d){var H=Ht.call(d),g=H==W?d.constructor:void 0,Z=g?Ee(g):void 0;if(Z)switch(Z){case Ne:return s;case gt:return x;case St:return A;case Ct:return $;case Nt:return E}return H});function qr(d){var H=d.length,g=d.constructor(H);return H&&typeof d[0]=="string"&&At.call(d,"index")&&(g.index=d.index,g.input=d.input),g}function Ae(d){return typeof d.constructor=="function"&&!Re(d)?Tr(bt(d)):{}}function tr(d,H,g,Z){var Ot=d.constructor;switch(H){case o:return _r(d);case M:case N:return new Ot(+d);case s:return Fe(d,Z);case c:case O:case L:case j:case z:case et:case ut:case ft:case ht:return Or(d,Z);case x:return ur(d,Z,g);case B:case k:return new Ot(d);case U:return Sr(d);case $:return Ze(d,Z,g);case m:return Je(d)}}function Xr(d,H){return H=H??v,!!H&&(typeof d=="number"||pt.test(d))&&d>-1&&d%1==0&&d<H}function Qr(d){var H=typeof d;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?d!=="__proto__":d===null}function Pr(d){return!!G&&G in d}function Re(d){var H=d&&d.constructor,g=typeof H=="function"&&H.prototype||f;return d===g}function Ee(d){if(d!=null){try{return yt.call(d)}catch{}try{return d+""}catch{}}return""}function er(d){return gr(d,!0,!0)}function cr(d,H){return d===H||d!==d&&H!==H}function fr(d){return Ar(d)&&At.call(d,"callee")&&(!It.call(d,"callee")||Ht.call(d)==b)}var dr=Array.isArray;function De(d){return d!=null&&xr(d.length)&&!Be(d)}function Ar(d){return Rr(d)&&De(d)}var We=Wt||pr;function Be(d){var H=je(d)?Ht.call(d):"";return H==S||H==I}function xr(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=v}function je(d){var H=typeof d;return!!d&&(H=="object"||H=="function")}function Rr(d){return!!d&&typeof d=="object"}function hr(d){return De(d)?we(d):Zr(d)}function Ve(){return[]}function pr(){return!1}p.exports=er},2722:(p,C,t)=>{p=t.nmd(p);var y=200,h="__lodash_hash_undefined__",v=1,b=2,D=9007199254740991,M="[object Arguments]",N="[object Array]",P="[object AsyncFunction]",S="[object Boolean]",I="[object Date]",x="[object Error]",B="[object Function]",W="[object GeneratorFunction]",A="[object Map]",U="[object Number]",$="[object Null]",k="[object Object]",m="[object Promise]",E="[object Proxy]",o="[object RegExp]",s="[object Set]",c="[object String]",O="[object Symbol]",L="[object Undefined]",j="[object WeakMap]",z="[object ArrayBuffer]",et="[object DataView]",ut="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",at="[object Int16Array]",_t="[object Int32Array]",q="[object Uint8Array]",pt="[object Uint8ClampedArray]",nt="[object Uint16Array]",st="[object Uint32Array]",F=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,J={};J[ut]=J[ft]=J[ht]=J[at]=J[_t]=J[q]=J[pt]=J[nt]=J[st]=!0,J[M]=J[N]=J[z]=J[S]=J[et]=J[I]=J[x]=J[B]=J[A]=J[U]=J[k]=J[o]=J[s]=J[c]=J[j]=!1;var Y=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,ct=typeof self=="object"&&self&&self.Object===Object&&self,mt=Y||ct||Function("return this")(),wt=C&&!C.nodeType&&C,ot=wt&&!0&&p&&!p.nodeType&&p,rt=ot&&ot.exports===wt,V=rt&&Y.process,lt=function(){try{return V&&V.binding&&V.binding("util")}catch{}}(),X=lt&&lt.isTypedArray;function dt(d,H){for(var g=-1,Z=d==null?0:d.length,Ot=0,Dt=[];++g<Z;){var Zt=d[g];H(Zt,g,d)&&(Dt[Ot++]=Zt)}return Dt}function vt(d,H){for(var g=-1,Z=H.length,Ot=d.length;++g<Z;)d[Ot+g]=H[g];return d}function T(d,H){for(var g=-1,Z=d==null?0:d.length;++g<Z;)if(H(d[g],g,d))return!0;return!1}function a(d,H){for(var g=-1,Z=Array(d);++g<d;)Z[g]=H(g);return Z}function i(d){return function(H){return d(H)}}function f(d,H){return d.has(H)}function _(d,H){return d==null?void 0:d[H]}function G(d){var H=-1,g=Array(d.size);return d.forEach(function(Z,Ot){g[++H]=[Ot,Z]}),g}function yt(d,H){return function(g){return d(H(g))}}function At(d){var H=-1,g=Array(d.size);return d.forEach(function(Z){g[++H]=Z}),g}var Ht=Array.prototype,Ft=Function.prototype,qt=Object.prototype,Yt=mt["__core-js_shared__"],Jt=Ft.toString,bt=qt.hasOwnProperty,Pt=function(){var d=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),It=qt.toString,Lt=RegExp("^"+Jt.call(bt).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=rt?mt.Buffer:void 0,Wt=mt.Symbol,Bt=mt.Uint8Array,$t=qt.propertyIsEnumerable,Kt=Ht.splice,te=Wt?Wt.toStringTag:void 0,ae=Object.getOwnPropertySymbols,he=Mt?Mt.isBuffer:void 0,me=yt(Object.keys,Object),Ne=Ue(mt,"DataView"),gt=Ue(mt,"Map"),St=Ue(mt,"Promise"),Ct=Ue(mt,"Set"),Nt=Ue(mt,"WeakMap"),xt=Ue(Object,"create"),Rt=Ee(Ne),jt=Ee(gt),zt=Ee(St),Xt=Ee(Ct),ee=Ee(Nt),re=Wt?Wt.prototype:void 0,le=re?re.valueOf:void 0;function oe(d){var H=-1,g=d==null?0:d.length;for(this.clear();++H<g;){var Z=d[H];this.set(Z[0],Z[1])}}function Ce(){this.__data__=xt?xt(null):{},this.size=0}function Xe(d){var H=this.has(d)&&delete this.__data__[d];return this.size-=H?1:0,H}function Qe(d){var H=this.__data__;if(xt){var g=H[d];return g===h?void 0:g}return bt.call(H,d)?H[d]:void 0}function jr(d){var H=this.__data__;return xt?H[d]!==void 0:bt.call(H,d)}function kr(d,H){var g=this.__data__;return this.size+=this.has(d)?0:1,g[d]=xt&&H===void 0?h:H,this}oe.prototype.clear=Ce,oe.prototype.delete=Xe,oe.prototype.get=Qe,oe.prototype.has=jr,oe.prototype.set=kr;function ve(d){var H=-1,g=d==null?0:d.length;for(this.clear();++H<g;){var Z=d[H];this.set(Z[0],Z[1])}}function or(){this.__data__=[],this.size=0}function Hr(d){var H=this.__data__,g=sr(H,d);if(g<0)return!1;var Z=H.length-1;return g==Z?H.pop():Kt.call(H,g,1),--this.size,!0}function Fr(d){var H=this.__data__,g=sr(H,d);return g<0?void 0:H[g][1]}function mr(d){return sr(this.__data__,d)>-1}function Ur(d,H){var g=this.__data__,Z=sr(g,d);return Z<0?(++this.size,g.push([d,H])):g[Z][1]=H,this}ve.prototype.clear=or,ve.prototype.delete=Hr,ve.prototype.get=Fr,ve.prototype.has=mr,ve.prototype.set=Ur;function Se(d){var H=-1,g=d==null?0:d.length;for(this.clear();++H<g;){var Z=d[H];this.set(Z[0],Z[1])}}function yr(){this.size=0,this.__data__={hash:new oe,map:new(gt||ve),string:new oe}}function Wr(d){var H=Me(this,d).delete(d);return this.size-=H?1:0,H}function Le(d){return Me(this,d).get(d)}function Ye(d){return Me(this,d).has(d)}function $r(d,H){var g=Me(this,d),Z=g.size;return g.set(d,H),this.size+=g.size==Z?0:1,this}Se.prototype.clear=yr,Se.prototype.delete=Wr,Se.prototype.get=Le,Se.prototype.has=Ye,Se.prototype.set=$r;function we(d){var H=-1,g=d==null?0:d.length;for(this.__data__=new Se;++H<g;)this.add(d[H])}function ar(d){return this.__data__.set(d,h),this}function lr(d){return this.__data__.has(d)}we.prototype.add=we.prototype.push=ar,we.prototype.has=lr;function He(d){var H=this.__data__=new ve(d);this.size=H.size}function gr(){this.__data__=new ve,this.size=0}function Tr(d){var H=this.__data__,g=H.delete(d);return this.size=H.size,g}function Kr(d){return this.__data__.get(d)}function br(d){return this.__data__.has(d)}function zr(d,H){var g=this.__data__;if(g instanceof ve){var Z=g.__data__;if(!gt||Z.length<y-1)return Z.push([d,H]),this.size=++g.size,this;g=this.__data__=new Se(Z)}return g.set(d,H),this.size=g.size,this}He.prototype.clear=gr,He.prototype.delete=Tr,He.prototype.get=Kr,He.prototype.has=br,He.prototype.set=zr;function Zr(d,H){var g=fr(d),Z=!g&&cr(d),Ot=!g&&!Z&&De(d),Dt=!g&&!Z&&!Ot&&Rr(d),Zt=g||Z||Ot||Dt,Gt=Zt?a(d.length,String):[],ne=Gt.length;for(var Vt in d)(H||bt.call(d,Vt))&&!(Zt&&(Vt=="length"||Ot&&(Vt=="offset"||Vt=="parent")||Dt&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||tr(Vt,ne)))&&Gt.push(Vt);return Gt}function sr(d,H){for(var g=d.length;g--;)if(er(d[g][0],H))return g;return-1}function _r(d,H,g){var Z=H(d);return fr(d)?Z:vt(Z,g(d))}function Fe(d){return d==null?d===void 0?L:$:te&&te in Object(d)?ze(d):Re(d)}function ur(d){return je(d)&&Fe(d)==M}function Sr(d,H,g,Z,Ot){return d===H?!0:d==null||H==null||!je(d)&&!je(H)?d!==d&&H!==H:Ze(d,H,g,Z,Sr,Ot)}function Ze(d,H,g,Z,Ot,Dt){var Zt=fr(d),Gt=fr(H),ne=Zt?N:Ae(d),Vt=Gt?N:Ae(H);ne=ne==M?k:ne,Vt=Vt==M?k:Vt;var ie=ne==k,de=Vt==k,se=ne==Vt;if(se&&De(d)){if(!De(H))return!1;Zt=!0,ie=!1}if(se&&!ie)return Dt||(Dt=new He),Zt||Rr(d)?Er(d,H,g,Z,Ot,Dt):wr(d,H,ne,g,Z,Ot,Dt);if(!(g&v)){var ye=ie&&bt.call(d,"__wrapped__"),ge=de&&bt.call(H,"__wrapped__");if(ye||ge){var Te=ye?d.value():d,ke=ge?H.value():H;return Dt||(Dt=new He),Ot(Te,ke,g,Z,Dt)}}return se?(Dt||(Dt=new He),Gr(d,H,g,Z,Ot,Dt)):!1}function Je(d){if(!xr(d)||Qr(d))return!1;var H=We(d)?Lt:w;return H.test(Ee(d))}function Or(d){return je(d)&&Be(d.length)&&!!J[Fe(d)]}function Vr(d){if(!Pr(d))return me(d);var H=[];for(var g in Object(d))bt.call(d,g)&&g!="constructor"&&H.push(g);return H}function Er(d,H,g,Z,Ot,Dt){var Zt=g&v,Gt=d.length,ne=H.length;if(Gt!=ne&&!(Zt&&ne>Gt))return!1;var Vt=Dt.get(d);if(Vt&&Dt.get(H))return Vt==H;var ie=-1,de=!0,se=g&b?new we:void 0;for(Dt.set(d,H),Dt.set(H,d);++ie<Gt;){var ye=d[ie],ge=H[ie];if(Z)var Te=Zt?Z(ge,ye,ie,H,d,Dt):Z(ye,ge,ie,d,H,Dt);if(Te!==void 0){if(Te)continue;de=!1;break}if(se){if(!T(H,function(ke,rr){if(!f(se,rr)&&(ye===ke||Ot(ye,ke,g,Z,Dt)))return se.push(rr)})){de=!1;break}}else if(!(ye===ge||Ot(ye,ge,g,Z,Dt))){de=!1;break}}return Dt.delete(d),Dt.delete(H),de}function wr(d,H,g,Z,Ot,Dt,Zt){switch(g){case et:if(d.byteLength!=H.byteLength||d.byteOffset!=H.byteOffset)return!1;d=d.buffer,H=H.buffer;case z:return!(d.byteLength!=H.byteLength||!Dt(new Bt(d),new Bt(H)));case S:case I:case U:return er(+d,+H);case x:return d.name==H.name&&d.message==H.message;case o:case c:return d==H+"";case A:var Gt=G;case s:var ne=Z&v;if(Gt||(Gt=At),d.size!=H.size&&!ne)return!1;var Vt=Zt.get(d);if(Vt)return Vt==H;Z|=b,Zt.set(d,H);var ie=Er(Gt(d),Gt(H),Z,Ot,Dt,Zt);return Zt.delete(d),ie;case O:if(le)return le.call(d)==le.call(H)}return!1}function Gr(d,H,g,Z,Ot,Dt){var Zt=g&v,Gt=Ke(d),ne=Gt.length,Vt=Ke(H),ie=Vt.length;if(ne!=ie&&!Zt)return!1;for(var de=ne;de--;){var se=Gt[de];if(!(Zt?se in H:bt.call(H,se)))return!1}var ye=Dt.get(d);if(ye&&Dt.get(H))return ye==H;var ge=!0;Dt.set(d,H),Dt.set(H,d);for(var Te=Zt;++de<ne;){se=Gt[de];var ke=d[se],rr=H[se];if(Z)var Cn=Zt?Z(rr,ke,se,H,d,Dt):Z(ke,rr,se,d,H,Dt);if(!(Cn===void 0?ke===rr||Ot(ke,rr,g,Z,Dt):Cn)){ge=!1;break}Te||(Te=se=="constructor")}if(ge&&!Te){var nr=d.constructor,nn=H.constructor;nr!=nn&&"constructor"in d&&"constructor"in H&&!(typeof nr=="function"&&nr instanceof nr&&typeof nn=="function"&&nn instanceof nn)&&(ge=!1)}return Dt.delete(d),Dt.delete(H),ge}function Ke(d){return _r(d,hr,qr)}function Me(d,H){var g=d.__data__;return Xr(H)?g[typeof H=="string"?"string":"hash"]:g.map}function Ue(d,H){var g=_(d,H);return Je(g)?g:void 0}function ze(d){var H=bt.call(d,te),g=d[te];try{d[te]=void 0;var Z=!0}catch{}var Ot=It.call(d);return Z&&(H?d[te]=g:delete d[te]),Ot}var qr=ae?function(d){return d==null?[]:(d=Object(d),dt(ae(d),function(H){return $t.call(d,H)}))}:Ve,Ae=Fe;(Ne&&Ae(new Ne(new ArrayBuffer(1)))!=et||gt&&Ae(new gt)!=A||St&&Ae(St.resolve())!=m||Ct&&Ae(new Ct)!=s||Nt&&Ae(new Nt)!=j)&&(Ae=function(d){var H=Fe(d),g=H==k?d.constructor:void 0,Z=g?Ee(g):"";if(Z)switch(Z){case Rt:return et;case jt:return A;case zt:return m;case Xt:return s;case ee:return j}return H});function tr(d,H){return H=H??D,!!H&&(typeof d=="number"||Q.test(d))&&d>-1&&d%1==0&&d<H}function Xr(d){var H=typeof d;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?d!=="__proto__":d===null}function Qr(d){return!!Pt&&Pt in d}function Pr(d){var H=d&&d.constructor,g=typeof H=="function"&&H.prototype||qt;return d===g}function Re(d){return It.call(d)}function Ee(d){if(d!=null){try{return Jt.call(d)}catch{}try{return d+""}catch{}}return""}function er(d,H){return d===H||d!==d&&H!==H}var cr=ur(function(){return arguments}())?ur:function(d){return je(d)&&bt.call(d,"callee")&&!$t.call(d,"callee")},fr=Array.isArray;function dr(d){return d!=null&&Be(d.length)&&!We(d)}var De=he||pr;function Ar(d,H){return Sr(d,H)}function We(d){if(!xr(d))return!1;var H=Fe(d);return H==B||H==W||H==P||H==E}function Be(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=D}function xr(d){var H=typeof d;return d!=null&&(H=="object"||H=="function")}function je(d){return d!=null&&typeof d=="object"}var Rr=X?i(X):Or;function hr(d){return dr(d)?Zr(d):Vr(d)}function Ve(){return[]}function pr(){return!1}p.exports=Ar},732:(p,C,t)=>{p=t.nmd(p);var y=200,h="__lodash_hash_undefined__",v=800,b=16,D=9007199254740991,M="[object Arguments]",N="[object Array]",P="[object AsyncFunction]",S="[object Boolean]",I="[object Date]",x="[object Error]",B="[object Function]",W="[object GeneratorFunction]",A="[object Map]",U="[object Number]",$="[object Null]",k="[object Object]",m="[object Proxy]",E="[object RegExp]",o="[object Set]",s="[object String]",c="[object Undefined]",O="[object WeakMap]",L="[object ArrayBuffer]",j="[object DataView]",z="[object Float32Array]",et="[object Float64Array]",ut="[object Int8Array]",ft="[object Int16Array]",ht="[object Int32Array]",at="[object Uint8Array]",_t="[object Uint8ClampedArray]",q="[object Uint16Array]",pt="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,st=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,w={};w[z]=w[et]=w[ut]=w[ft]=w[ht]=w[at]=w[_t]=w[q]=w[pt]=!0,w[M]=w[N]=w[L]=w[S]=w[j]=w[I]=w[x]=w[B]=w[A]=w[U]=w[k]=w[E]=w[o]=w[s]=w[O]=!1;var Q=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,J=typeof self=="object"&&self&&self.Object===Object&&self,Y=Q||J||Function("return this")(),ct=C&&!C.nodeType&&C,mt=ct&&!0&&p&&!p.nodeType&&p,wt=mt&&mt.exports===ct,ot=wt&&Q.process,rt=function(){try{var g=mt&&mt.require&&mt.require("util").types;return g||ot&&ot.binding&&ot.binding("util")}catch{}}(),V=rt&&rt.isTypedArray;function lt(g,Z,Ot){switch(Ot.length){case 0:return g.call(Z);case 1:return g.call(Z,Ot[0]);case 2:return g.call(Z,Ot[0],Ot[1]);case 3:return g.call(Z,Ot[0],Ot[1],Ot[2])}return g.apply(Z,Ot)}function X(g,Z){for(var Ot=-1,Dt=Array(g);++Ot<g;)Dt[Ot]=Z(Ot);return Dt}function dt(g){return function(Z){return g(Z)}}function vt(g,Z){return g==null?void 0:g[Z]}function T(g,Z){return function(Ot){return g(Z(Ot))}}var a=Array.prototype,i=Function.prototype,f=Object.prototype,_=Y["__core-js_shared__"],G=i.toString,yt=f.hasOwnProperty,At=function(){var g=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Ht=f.toString,Ft=G.call(Object),qt=RegExp("^"+G.call(yt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=wt?Y.Buffer:void 0,Jt=Y.Symbol,bt=Y.Uint8Array,Pt=Yt?Yt.allocUnsafe:void 0,It=T(Object.getPrototypeOf,Object),Lt=Object.create,Mt=f.propertyIsEnumerable,Wt=a.splice,Bt=Jt?Jt.toStringTag:void 0,$t=function(){try{var g=Or(Object,"defineProperty");return g({},"",{}),g}catch{}}(),Kt=Yt?Yt.isBuffer:void 0,te=Math.max,ae=Date.now,he=Or(Y,"Map"),me=Or(Object,"create"),Ne=function(){function g(){}return function(Z){if(!We(Z))return{};if(Lt)return Lt(Z);g.prototype=Z;var Ot=new g;return g.prototype=void 0,Ot}}();function gt(g){var Z=-1,Ot=g==null?0:g.length;for(this.clear();++Z<Ot;){var Dt=g[Z];this.set(Dt[0],Dt[1])}}function St(){this.__data__=me?me(null):{},this.size=0}function Ct(g){var Z=this.has(g)&&delete this.__data__[g];return this.size-=Z?1:0,Z}function Nt(g){var Z=this.__data__;if(me){var Ot=Z[g];return Ot===h?void 0:Ot}return yt.call(Z,g)?Z[g]:void 0}function xt(g){var Z=this.__data__;return me?Z[g]!==void 0:yt.call(Z,g)}function Rt(g,Z){var Ot=this.__data__;return this.size+=this.has(g)?0:1,Ot[g]=me&&Z===void 0?h:Z,this}gt.prototype.clear=St,gt.prototype.delete=Ct,gt.prototype.get=Nt,gt.prototype.has=xt,gt.prototype.set=Rt;function jt(g){var Z=-1,Ot=g==null?0:g.length;for(this.clear();++Z<Ot;){var Dt=g[Z];this.set(Dt[0],Dt[1])}}function zt(){this.__data__=[],this.size=0}function Xt(g){var Z=this.__data__,Ot=Le(Z,g);if(Ot<0)return!1;var Dt=Z.length-1;return Ot==Dt?Z.pop():Wt.call(Z,Ot,1),--this.size,!0}function ee(g){var Z=this.__data__,Ot=Le(Z,g);return Ot<0?void 0:Z[Ot][1]}function re(g){return Le(this.__data__,g)>-1}function le(g,Z){var Ot=this.__data__,Dt=Le(Ot,g);return Dt<0?(++this.size,Ot.push([g,Z])):Ot[Dt][1]=Z,this}jt.prototype.clear=zt,jt.prototype.delete=Xt,jt.prototype.get=ee,jt.prototype.has=re,jt.prototype.set=le;function oe(g){var Z=-1,Ot=g==null?0:g.length;for(this.clear();++Z<Ot;){var Dt=g[Z];this.set(Dt[0],Dt[1])}}function Ce(){this.size=0,this.__data__={hash:new gt,map:new(he||jt),string:new gt}}function Xe(g){var Z=Je(this,g).delete(g);return this.size-=Z?1:0,Z}function Qe(g){return Je(this,g).get(g)}function jr(g){return Je(this,g).has(g)}function kr(g,Z){var Ot=Je(this,g),Dt=Ot.size;return Ot.set(g,Z),this.size+=Ot.size==Dt?0:1,this}oe.prototype.clear=Ce,oe.prototype.delete=Xe,oe.prototype.get=Qe,oe.prototype.has=jr,oe.prototype.set=kr;function ve(g){var Z=this.__data__=new jt(g);this.size=Z.size}function or(){this.__data__=new jt,this.size=0}function Hr(g){var Z=this.__data__,Ot=Z.delete(g);return this.size=Z.size,Ot}function Fr(g){return this.__data__.get(g)}function mr(g){return this.__data__.has(g)}function Ur(g,Z){var Ot=this.__data__;if(Ot instanceof jt){var Dt=Ot.__data__;if(!he||Dt.length<y-1)return Dt.push([g,Z]),this.size=++Ot.size,this;Ot=this.__data__=new oe(Dt)}return Ot.set(g,Z),this.size=Ot.size,this}ve.prototype.clear=or,ve.prototype.delete=Hr,ve.prototype.get=Fr,ve.prototype.has=mr,ve.prototype.set=Ur;function Se(g,Z){var Ot=er(g),Dt=!Ot&&Ee(g),Zt=!Ot&&!Dt&&dr(g),Gt=!Ot&&!Dt&&!Zt&&je(g),ne=Ot||Dt||Zt||Gt,Vt=ne?X(g.length,String):[],ie=Vt.length;for(var de in g)(Z||yt.call(g,de))&&!(ne&&(de=="length"||Zt&&(de=="offset"||de=="parent")||Gt&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||wr(de,ie)))&&Vt.push(de);return Vt}function yr(g,Z,Ot){(Ot!==void 0&&!Re(g[Z],Ot)||Ot===void 0&&!(Z in g))&&Ye(g,Z,Ot)}function Wr(g,Z,Ot){var Dt=g[Z];(!(yt.call(g,Z)&&Re(Dt,Ot))||Ot===void 0&&!(Z in g))&&Ye(g,Z,Ot)}function Le(g,Z){for(var Ot=g.length;Ot--;)if(Re(g[Ot][0],Z))return Ot;return-1}function Ye(g,Z,Ot){Z=="__proto__"&&$t?$t(g,Z,{configurable:!0,enumerable:!0,value:Ot,writable:!0}):g[Z]=Ot}var $r=Ze();function we(g){return g==null?g===void 0?c:$:Bt&&Bt in Object(g)?Vr(g):qr(g)}function ar(g){return Be(g)&&we(g)==M}function lr(g){if(!We(g)||Me(g))return!1;var Z=De(g)?qt:st;return Z.test(Pr(g))}function He(g){return Be(g)&&Ar(g.length)&&!!w[we(g)]}function gr(g){if(!We(g))return ze(g);var Z=Ue(g),Ot=[];for(var Dt in g)Dt=="constructor"&&(Z||!yt.call(g,Dt))||Ot.push(Dt);return Ot}function Tr(g,Z,Ot,Dt,Zt){g!==Z&&$r(Z,function(Gt,ne){if(Zt||(Zt=new ve),We(Gt))Kr(g,Z,ne,Ot,Tr,Dt,Zt);else{var Vt=Dt?Dt(tr(g,ne),Gt,ne+"",g,Z,Zt):void 0;Vt===void 0&&(Vt=Gt),yr(g,ne,Vt)}},hr)}function Kr(g,Z,Ot,Dt,Zt,Gt,ne){var Vt=tr(g,Ot),ie=tr(Z,Ot),de=ne.get(ie);if(de){yr(g,Ot,de);return}var se=Gt?Gt(Vt,ie,Ot+"",g,Z,ne):void 0,ye=se===void 0;if(ye){var ge=er(ie),Te=!ge&&dr(ie),ke=!ge&&!Te&&je(ie);se=ie,ge||Te||ke?er(Vt)?se=Vt:fr(Vt)?se=Fe(Vt):Te?(ye=!1,se=Zr(ie,!0)):ke?(ye=!1,se=_r(ie,!0)):se=[]:xr(ie)||Ee(ie)?(se=Vt,Ee(Vt)?se=Rr(Vt):(!We(Vt)||De(Vt))&&(se=Er(ie))):ye=!1}ye&&(ne.set(ie,se),Zt(se,ie,Dt,Gt,ne),ne.delete(ie)),yr(g,Ot,se)}function br(g,Z){return Xr(Ae(g,Z,d),g+"")}var zr=$t?function(g,Z){return $t(g,"toString",{configurable:!0,enumerable:!1,value:pr(Z),writable:!0})}:d;function Zr(g,Z){if(Z)return g.slice();var Ot=g.length,Dt=Pt?Pt(Ot):new g.constructor(Ot);return g.copy(Dt),Dt}function sr(g){var Z=new g.constructor(g.byteLength);return new bt(Z).set(new bt(g)),Z}function _r(g,Z){var Ot=Z?sr(g.buffer):g.buffer;return new g.constructor(Ot,g.byteOffset,g.length)}function Fe(g,Z){var Ot=-1,Dt=g.length;for(Z||(Z=Array(Dt));++Ot<Dt;)Z[Ot]=g[Ot];return Z}function ur(g,Z,Ot,Dt){var Zt=!Ot;Ot||(Ot={});for(var Gt=-1,ne=Z.length;++Gt<ne;){var Vt=Z[Gt],ie=Dt?Dt(Ot[Vt],g[Vt],Vt,Ot,g):void 0;ie===void 0&&(ie=g[Vt]),Zt?Ye(Ot,Vt,ie):Wr(Ot,Vt,ie)}return Ot}function Sr(g){return br(function(Z,Ot){var Dt=-1,Zt=Ot.length,Gt=Zt>1?Ot[Zt-1]:void 0,ne=Zt>2?Ot[2]:void 0;for(Gt=g.length>3&&typeof Gt=="function"?(Zt--,Gt):void 0,ne&&Gr(Ot[0],Ot[1],ne)&&(Gt=Zt<3?void 0:Gt,Zt=1),Z=Object(Z);++Dt<Zt;){var Vt=Ot[Dt];Vt&&g(Z,Vt,Dt,Gt)}return Z})}function Ze(g){return function(Z,Ot,Dt){for(var Zt=-1,Gt=Object(Z),ne=Dt(Z),Vt=ne.length;Vt--;){var ie=ne[g?Vt:++Zt];if(Ot(Gt[ie],ie,Gt)===!1)break}return Z}}function Je(g,Z){var Ot=g.__data__;return Ke(Z)?Ot[typeof Z=="string"?"string":"hash"]:Ot.map}function Or(g,Z){var Ot=vt(g,Z);return lr(Ot)?Ot:void 0}function Vr(g){var Z=yt.call(g,Bt),Ot=g[Bt];try{g[Bt]=void 0;var Dt=!0}catch{}var Zt=Ht.call(g);return Dt&&(Z?g[Bt]=Ot:delete g[Bt]),Zt}function Er(g){return typeof g.constructor=="function"&&!Ue(g)?Ne(It(g)):{}}function wr(g,Z){var Ot=typeof g;return Z=Z??D,!!Z&&(Ot=="number"||Ot!="symbol"&&F.test(g))&&g>-1&&g%1==0&&g<Z}function Gr(g,Z,Ot){if(!We(Ot))return!1;var Dt=typeof Z;return(Dt=="number"?cr(Ot)&&wr(Z,Ot.length):Dt=="string"&&Z in Ot)?Re(Ot[Z],g):!1}function Ke(g){var Z=typeof g;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?g!=="__proto__":g===null}function Me(g){return!!At&&At in g}function Ue(g){var Z=g&&g.constructor,Ot=typeof Z=="function"&&Z.prototype||f;return g===Ot}function ze(g){var Z=[];if(g!=null)for(var Ot in Object(g))Z.push(Ot);return Z}function qr(g){return Ht.call(g)}function Ae(g,Z,Ot){return Z=te(Z===void 0?g.length-1:Z,0),function(){for(var Dt=arguments,Zt=-1,Gt=te(Dt.length-Z,0),ne=Array(Gt);++Zt<Gt;)ne[Zt]=Dt[Z+Zt];Zt=-1;for(var Vt=Array(Z+1);++Zt<Z;)Vt[Zt]=Dt[Zt];return Vt[Z]=Ot(ne),lt(g,this,Vt)}}function tr(g,Z){if(!(Z==="constructor"&&typeof g[Z]=="function")&&Z!="__proto__")return g[Z]}var Xr=Qr(zr);function Qr(g){var Z=0,Ot=0;return function(){var Dt=ae(),Zt=b-(Dt-Ot);if(Ot=Dt,Zt>0){if(++Z>=v)return arguments[0]}else Z=0;return g.apply(void 0,arguments)}}function Pr(g){if(g!=null){try{return G.call(g)}catch{}try{return g+""}catch{}}return""}function Re(g,Z){return g===Z||g!==g&&Z!==Z}var Ee=ar(function(){return arguments}())?ar:function(g){return Be(g)&&yt.call(g,"callee")&&!Mt.call(g,"callee")},er=Array.isArray;function cr(g){return g!=null&&Ar(g.length)&&!De(g)}function fr(g){return Be(g)&&cr(g)}var dr=Kt||H;function De(g){if(!We(g))return!1;var Z=we(g);return Z==B||Z==W||Z==P||Z==m}function Ar(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=D}function We(g){var Z=typeof g;return g!=null&&(Z=="object"||Z=="function")}function Be(g){return g!=null&&typeof g=="object"}function xr(g){if(!Be(g)||we(g)!=k)return!1;var Z=It(g);if(Z===null)return!0;var Ot=yt.call(Z,"constructor")&&Z.constructor;return typeof Ot=="function"&&Ot instanceof Ot&&G.call(Ot)==Ft}var je=V?dt(V):He;function Rr(g){return ur(g,hr(g))}function hr(g){return cr(g)?Se(g,!0):gr(g)}var Ve=Sr(function(g,Z,Ot){Tr(g,Z,Ot)});function pr(g){return function(){return g}}function d(g){return g}function H(){return!1}p.exports=Ve},5143:(p,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const y=t(8805),h=t(2722);var v;(function(b){function D(S={},I={},x=!1){typeof S!="object"&&(S={}),typeof I!="object"&&(I={});let B=y(I);x||(B=Object.keys(B).reduce((W,A)=>(B[A]!=null&&(W[A]=B[A]),W),{}));for(const W in S)S[W]!==void 0&&I[W]===void 0&&(B[W]=S[W]);return Object.keys(B).length>0?B:void 0}b.compose=D;function M(S={},I={}){typeof S!="object"&&(S={}),typeof I!="object"&&(I={});const x=Object.keys(S).concat(Object.keys(I)).reduce((B,W)=>(h(S[W],I[W])||(B[W]=I[W]===void 0?null:I[W]),B),{});return Object.keys(x).length>0?x:void 0}b.diff=M;function N(S={},I={}){S=S||{};const x=Object.keys(I).reduce((B,W)=>(I[W]!==S[W]&&S[W]!==void 0&&(B[W]=I[W]),B),{});return Object.keys(S).reduce((B,W)=>(S[W]!==I[W]&&I[W]===void 0&&(B[W]=null),B),x)}b.invert=N;function P(S,I,x=!1){if(typeof S!="object")return I;if(typeof I!="object")return;if(!x)return I;const B=Object.keys(I).reduce((W,A)=>(S[A]===void 0&&(W[A]=I[A]),W),{});return Object.keys(B).length>0?B:void 0}b.transform=P})(v||(v={})),C.default=v},9098:(p,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const y=t(1456),h=t(8805),v=t(2722),b=t(5143);C.AttributeMap=b.default;const D=t(6237);C.Op=D.default;const M=t(2849);C.OpIterator=M.default;const N=String.fromCharCode(0),P=(I,x)=>{if(typeof I!="object"||I===null)throw new Error(`cannot retain a ${typeof I}`);if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);const B=Object.keys(I)[0];if(!B||B!==Object.keys(x)[0])throw new Error(`embed types not matched: ${B} != ${Object.keys(x)[0]}`);return[B,I[B],x[B]]};class S{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,B){this.handlers[x]=B}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){const B=this.handlers[x];if(!B)throw new Error(`no handlers for embed type "${x}"`);return B}insert(x,B){const W={};return typeof x=="string"&&x.length===0?this:(W.insert=x,B!=null&&typeof B=="object"&&Object.keys(B).length>0&&(W.attributes=B),this.push(W))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,B){if(typeof x=="number"&&x<=0)return this;const W={retain:x};return B!=null&&typeof B=="object"&&Object.keys(B).length>0&&(W.attributes=B),this.push(W)}push(x){let B=this.ops.length,W=this.ops[B-1];if(x=h(x),typeof W=="object"){if(typeof x.delete=="number"&&typeof W.delete=="number")return this.ops[B-1]={delete:W.delete+x.delete},this;if(typeof W.delete=="number"&&x.insert!=null&&(B-=1,W=this.ops[B-1],typeof W!="object"))return this.ops.unshift(x),this;if(v(x.attributes,W.attributes)){if(typeof x.insert=="string"&&typeof W.insert=="string")return this.ops[B-1]={insert:W.insert+x.insert},typeof x.attributes=="object"&&(this.ops[B-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof W.retain=="number")return this.ops[B-1]={retain:W.retain+x.retain},typeof x.attributes=="object"&&(this.ops[B-1].attributes=x.attributes),this}}return B===this.ops.length?this.ops.push(x):this.ops.splice(B,0,x),this}chop(){const x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){const B=[],W=[];return this.forEach(A=>{(x(A)?B:W).push(A)}),[B,W]}reduce(x,B){return this.ops.reduce(x,B)}changeLength(){return this.reduce((x,B)=>B.insert?x+D.default.length(B):B.delete?x-B.delete:x,0)}length(){return this.reduce((x,B)=>x+D.default.length(B),0)}slice(x=0,B=1/0){const W=[],A=new M.default(this.ops);let U=0;for(;U<B&&A.hasNext();){let $;U<x?$=A.next(x-U):($=A.next(B-U),W.push($)),U+=D.default.length($)}return new S(W)}compose(x){const B=new M.default(this.ops),W=new M.default(x.ops),A=[],U=W.peek();if(U!=null&&typeof U.retain=="number"&&U.attributes==null){let k=U.retain;for(;B.peekType()==="insert"&&B.peekLength()<=k;)k-=B.peekLength(),A.push(B.next());U.retain-k>0&&W.next(U.retain-k)}const $=new S(A);for(;B.hasNext()||W.hasNext();)if(W.peekType()==="insert")$.push(W.next());else if(B.peekType()==="delete")$.push(B.next());else{const k=Math.min(B.peekLength(),W.peekLength()),m=B.next(k),E=W.next(k);if(E.retain){const o={};if(typeof m.retain=="number")o.retain=typeof E.retain=="number"?k:E.retain;else if(typeof E.retain=="number")m.retain==null?o.insert=m.insert:o.retain=m.retain;else{const c=m.retain==null?"insert":"retain",[O,L,j]=P(m[c],E.retain),z=S.getHandler(O);o[c]={[O]:z.compose(L,j,c==="retain")}}const s=b.default.compose(m.attributes,E.attributes,typeof m.retain=="number");if(s&&(o.attributes=s),$.push(o),!W.hasNext()&&v($.ops[$.ops.length-1],o)){const c=new S(B.rest());return $.concat(c).chop()}}else typeof E.delete=="number"&&(typeof m.retain=="number"||typeof m.retain=="object"&&m.retain!==null)&&$.push(E)}return $.chop()}concat(x){const B=new S(this.ops.slice());return x.ops.length>0&&(B.push(x.ops[0]),B.ops=B.ops.concat(x.ops.slice(1))),B}diff(x,B){if(this.ops===x.ops)return new S;const W=[this,x].map(m=>m.map(E=>{if(E.insert!=null)return typeof E.insert=="string"?E.insert:N;const o=m===x?"on":"with";throw new Error("diff() called "+o+" non-document")}).join("")),A=new S,U=y(W[0],W[1],B),$=new M.default(this.ops),k=new M.default(x.ops);return U.forEach(m=>{let E=m[1].length;for(;E>0;){let o=0;switch(m[0]){case y.INSERT:o=Math.min(k.peekLength(),E),A.push(k.next(o));break;case y.DELETE:o=Math.min(E,$.peekLength()),$.next(o),A.delete(o);break;case y.EQUAL:o=Math.min($.peekLength(),k.peekLength(),E);const s=$.next(o),c=k.next(o);v(s.insert,c.insert)?A.retain(o,b.default.diff(s.attributes,c.attributes)):A.push(c).delete(o);break}E-=o}}),A.chop()}eachLine(x,B=`
`){const W=new M.default(this.ops);let A=new S,U=0;for(;W.hasNext();){if(W.peekType()!=="insert")return;const $=W.peek(),k=D.default.length($)-W.peekLength(),m=typeof $.insert=="string"?$.insert.indexOf(B,k)-k:-1;if(m<0)A.push(W.next());else if(m>0)A.push(W.next(m));else{if(x(A,W.next(1).attributes||{},U)===!1)return;U+=1,A=new S}}A.length()>0&&x(A,{},U)}invert(x){const B=new S;return this.reduce((W,A)=>{if(A.insert)B.delete(D.default.length(A));else{if(typeof A.retain=="number"&&A.attributes==null)return B.retain(A.retain),W+A.retain;if(A.delete||typeof A.retain=="number"){const U=A.delete||A.retain;return x.slice(W,W+U).forEach(k=>{A.delete?B.push(k):A.retain&&A.attributes&&B.retain(D.default.length(k),b.default.invert(A.attributes,k.attributes))}),W+U}else if(typeof A.retain=="object"&&A.retain!==null){const U=x.slice(W,W+1),$=new M.default(U.ops).next(),[k,m,E]=P(A.retain,$.insert),o=S.getHandler(k);return B.retain({[k]:o.invert(m,E)},b.default.invert(A.attributes,$.attributes)),W+1}}return W},0),B.chop()}transform(x,B=!1){if(B=!!B,typeof x=="number")return this.transformPosition(x,B);const W=x,A=new M.default(this.ops),U=new M.default(W.ops),$=new S;for(;A.hasNext()||U.hasNext();)if(A.peekType()==="insert"&&(B||U.peekType()!=="insert"))$.retain(D.default.length(A.next()));else if(U.peekType()==="insert")$.push(U.next());else{const k=Math.min(A.peekLength(),U.peekLength()),m=A.next(k),E=U.next(k);if(m.delete)continue;if(E.delete)$.push(E);else{const o=m.retain,s=E.retain;let c=typeof s=="object"&&s!==null?s:k;if(typeof o=="object"&&o!==null&&typeof s=="object"&&s!==null){const O=Object.keys(o)[0];if(O===Object.keys(s)[0]){const L=S.getHandler(O);L&&(c={[O]:L.transform(o[O],s[O],B)})}}$.retain(c,b.default.transform(m.attributes,E.attributes,B))}}return $.chop()}transformPosition(x,B=!1){B=!!B;const W=new M.default(this.ops);let A=0;for(;W.hasNext()&&A<=x;){const U=W.peekLength(),$=W.peekType();if(W.next(),$==="delete"){x-=Math.min(U,x-A);continue}else $==="insert"&&(A<x||!B)&&(x+=U);A+=U}return x}}S.Op=D.default,S.OpIterator=M.default,S.AttributeMap=b.default,S.handlers={},C.default=S,p.exports=S,p.exports.default=S},6237:(p,C)=>{Object.defineProperty(C,"__esModule",{value:!0});var t;(function(y){function h(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.retain=="object"&&v.retain!==null?1:typeof v.insert=="string"?v.insert.length:1}y.length=h})(t||(t={})),C.default=t},2849:(p,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const y=t(6237);class h{constructor(b){this.ops=b,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(b){b||(b=1/0);const D=this.ops[this.index];if(D){const M=this.offset,N=y.default.length(D);if(b>=N-M?(b=N-M,this.index+=1,this.offset=0):this.offset+=b,typeof D.delete=="number")return{delete:b};{const P={};return D.attributes&&(P.attributes=D.attributes),typeof D.retain=="number"?P.retain=b:typeof D.retain=="object"&&D.retain!==null?P.retain=D.retain:typeof D.insert=="string"?P.insert=D.insert.substr(M,b):P.insert=D.insert,P}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?y.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const b=this.ops[this.index];return b?typeof b.delete=="number"?"delete":typeof b.retain=="number"||typeof b.retain=="object"&&b.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const b=this.offset,D=this.index,M=this.next(),N=this.ops.slice(this.index);return this.offset=b,this.index=D,[M].concat(N)}}else return[]}}C.default=h},1863:(p,C,t)=>{var y=t(9731);p.exports=y},6572:(p,C,t)=>{var y=t(4401);p.exports=y},2318:(p,C,t)=>{var y=t(3661);p.exports=y},576:(p,C,t)=>{var y=t(5606);p.exports=y},2327:(p,C,t)=>{t(5445);var y=t(6731);p.exports=y("Array","fill")},3274:(p,C,t)=>{t(9477),t(6272);var y=t(577);p.exports=y.Array.from},5339:(p,C,t)=>{t(2947);var y=t(577);p.exports=y.Object.values},1189:(p,C,t)=>{t(538);var y=t(6731);p.exports=y("String","endsWith")},5142:(p,C,t)=>{t(297)},1019:(p,C,t)=>{t(4660)},1183:(p,C,t)=>{t(5275)},2570:(p,C,t)=>{t(2839)},297:(p,C,t)=>{var y=t(1863);p.exports=y},4660:(p,C,t)=>{var y=t(6572);p.exports=y},5275:(p,C,t)=>{var y=t(2318);p.exports=y},2839:(p,C,t)=>{var y=t(576);p.exports=y},6324:(p,C,t)=>{var y=t(2539),h=t(7471),v=TypeError;p.exports=function(b){if(y(b))return b;throw new v(h(b)+" is not a function")}},2162:(p,C,t)=>{var y=t(2539),h=String,v=TypeError;p.exports=function(b){if(typeof b=="object"||y(b))return b;throw new v("Can't set "+h(b)+" as a prototype")}},2572:(p,C,t)=>{var y=t(5485),h=t(3830),v=t(8503).f,b=y("unscopables"),D=Array.prototype;D[b]===void 0&&v(D,b,{configurable:!0,value:h(null)}),p.exports=function(M){D[b][M]=!0}},8874:(p,C,t)=>{var y=t(3988),h=String,v=TypeError;p.exports=function(b){if(y(b))return b;throw new v(h(b)+" is not an object")}},9236:(p,C,t)=>{var y=t(6015),h=t(7234),v=t(3235);p.exports=function(D){for(var M=y(this),N=v(M),P=arguments.length,S=h(P>1?arguments[1]:void 0,N),I=P>2?arguments[2]:void 0,x=I===void 0?N:h(I,N);x>S;)M[S++]=D;return M}},8459:(p,C,t)=>{var y=t(9794),h=t(2977),v=t(6015),b=t(9154),D=t(7024),M=t(6467),N=t(3235),P=t(3003),S=t(2387),I=t(7874),x=Array;p.exports=function(W){var A=v(W),U=M(this),$=arguments.length,k=$>1?arguments[1]:void 0,m=k!==void 0;m&&(k=y(k,$>2?arguments[2]:void 0));var E=I(A),o=0,s,c,O,L,j,z;if(E&&!(this===x&&D(E)))for(L=S(A,E),j=L.next,c=U?new this:[];!(O=h(j,L)).done;o++)z=m?b(L,k,[O.value,o],!0):O.value,P(c,o,z);else for(s=N(A),c=U?new this(s):x(s);s>o;o++)z=m?k(A[o],o):A[o],P(c,o,z);return c.length=o,c}},5644:(p,C,t)=>{var y=t(7625),h=t(7234),v=t(3235),b=function(D){return function(M,N,P){var S=y(M),I=v(S),x=h(P,I),B;if(D&&N!==N){for(;I>x;)if(B=S[x++],B!==B)return!0}else for(;I>x;x++)if((D||x in S)&&S[x]===N)return D||x||0;return!D&&-1}};p.exports={includes:b(!0),indexOf:b(!1)}},9154:(p,C,t)=>{var y=t(8874),h=t(8880);p.exports=function(v,b,D,M){try{return M?b(y(D)[0],D[1]):b(D)}catch(N){h(v,"throw",N)}}},3346:(p,C,t)=>{var y=t(5485),h=y("iterator"),v=!1;try{var b=0,D={next:function(){return{done:!!b++}},return:function(){v=!0}};D[h]=function(){return this},Array.from(D,function(){throw 2})}catch{}p.exports=function(M,N){try{if(!N&&!v)return!1}catch{return!1}var P=!1;try{var S={};S[h]=function(){return{next:function(){return{done:P=!0}}}},M(S)}catch{}return P}},4545:(p,C,t)=>{var y=t(4038),h=y({}.toString),v=y("".slice);p.exports=function(b){return v(h(b),8,-1)}},2702:(p,C,t)=>{var y=t(1923),h=t(2539),v=t(4545),b=t(5485),D=b("toStringTag"),M=Object,N=v(function(){return arguments}())==="Arguments",P=function(S,I){try{return S[I]}catch{}};p.exports=y?v:function(S){var I,x,B;return S===void 0?"Undefined":S===null?"Null":typeof(x=P(I=M(S),D))=="string"?x:N?v(I):(B=v(I))==="Object"&&h(I.callee)?"Arguments":B}},1358:(p,C,t)=>{var y=t(2623),h=t(3054),v=t(3037),b=t(8503);p.exports=function(D,M,N){for(var P=h(M),S=b.f,I=v.f,x=0;x<P.length;x++){var B=P[x];!y(D,B)&&!(N&&y(N,B))&&S(D,B,I(M,B))}}},6775:(p,C,t)=>{var y=t(5485),h=y("match");p.exports=function(v){var b=/./;try{"/./"[v](b)}catch{try{return b[h]=!1,"/./"[v](b)}catch{}}return!1}},6141:(p,C,t)=>{var y=t(5202);p.exports=!y(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},3585:p=>{p.exports=function(C,t){return{value:C,done:t}}},8868:(p,C,t)=>{var y=t(5007),h=t(8503),v=t(4238);p.exports=y?function(b,D,M){return h.f(b,D,v(1,M))}:function(b,D,M){return b[D]=M,b}},4238:p=>{p.exports=function(C,t){return{enumerable:!(C&1),configurable:!(C&2),writable:!(C&4),value:t}}},3003:(p,C,t)=>{var y=t(3164),h=t(8503),v=t(4238);p.exports=function(b,D,M){var N=y(D);N in b?h.f(b,N,v(0,M)):b[N]=M}},916:(p,C,t)=>{var y=t(2539),h=t(8503),v=t(6614),b=t(2136);p.exports=function(D,M,N,P){P||(P={});var S=P.enumerable,I=P.name!==void 0?P.name:M;if(y(N)&&v(N,I,P),P.global)S?D[M]=N:b(M,N);else{try{P.unsafe?D[M]&&(S=!0):delete D[M]}catch{}S?D[M]=N:h.f(D,M,{value:N,enumerable:!1,configurable:!P.nonConfigurable,writable:!P.nonWritable})}return D}},2136:(p,C,t)=>{var y=t(730),h=Object.defineProperty;p.exports=function(v,b){try{h(y,v,{value:b,configurable:!0,writable:!0})}catch{y[v]=b}return b}},5007:(p,C,t)=>{var y=t(5202);p.exports=!y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},8629:p=>{var C=typeof document=="object"&&document.all,t=typeof C>"u"&&C!==void 0;p.exports={all:C,IS_HTMLDDA:t}},2215:(p,C,t)=>{var y=t(730),h=t(3988),v=y.document,b=h(v)&&h(v.createElement);p.exports=function(D){return b?v.createElement(D):{}}},932:p=>{p.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7626:(p,C,t)=>{var y=t(730),h=t(932),v=y.process,b=y.Deno,D=v&&v.versions||b&&b.version,M=D&&D.v8,N,P;M&&(N=M.split("."),P=N[0]>0&&N[0]<4?1:+(N[0]+N[1])),!P&&h&&(N=h.match(/Edge\/(\d+)/),(!N||N[1]>=74)&&(N=h.match(/Chrome\/(\d+)/),N&&(P=+N[1]))),p.exports=P},6731:(p,C,t)=>{var y=t(730),h=t(4038);p.exports=function(v,b){return h(y[v].prototype[b])}},8552:p=>{p.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2189:(p,C,t)=>{var y=t(730),h=t(3037).f,v=t(8868),b=t(916),D=t(2136),M=t(1358),N=t(3455);p.exports=function(P,S){var I=P.target,x=P.global,B=P.stat,W,A,U,$,k,m;if(x?A=y:B?A=y[I]||D(I,{}):A=(y[I]||{}).prototype,A)for(U in S){if(k=S[U],P.dontCallGetSet?(m=h(A,U),$=m&&m.value):$=A[U],W=N(x?U:I+(B?".":"#")+U,P.forced),!W&&$!==void 0){if(typeof k==typeof $)continue;M(k,$)}(P.sham||$&&$.sham)&&v(k,"sham",!0),b(A,U,k,P)}}},5202:p=>{p.exports=function(C){try{return!!C()}catch{return!0}}},9794:(p,C,t)=>{var y=t(6192),h=t(6324),v=t(2865),b=y(y.bind);p.exports=function(D,M){return h(D),M===void 0?D:v?b(D,M):function(){return D.apply(M,arguments)}}},2865:(p,C,t)=>{var y=t(5202);p.exports=!y(function(){var h=(function(){}).bind();return typeof h!="function"||h.hasOwnProperty("prototype")})},2977:(p,C,t)=>{var y=t(2865),h=Function.prototype.call;p.exports=y?h.bind(h):function(){return h.apply(h,arguments)}},9895:(p,C,t)=>{var y=t(5007),h=t(2623),v=Function.prototype,b=y&&Object.getOwnPropertyDescriptor,D=h(v,"name"),M=D&&(function(){}).name==="something",N=D&&(!y||y&&b(v,"name").configurable);p.exports={EXISTS:D,PROPER:M,CONFIGURABLE:N}},6589:(p,C,t)=>{var y=t(4038),h=t(6324);p.exports=function(v,b,D){try{return y(h(Object.getOwnPropertyDescriptor(v,b)[D]))}catch{}}},6192:(p,C,t)=>{var y=t(4545),h=t(4038);p.exports=function(v){if(y(v)==="Function")return h(v)}},4038:(p,C,t)=>{var y=t(2865),h=Function.prototype,v=h.call,b=y&&h.bind.bind(v,v);p.exports=y?b:function(D){return function(){return v.apply(D,arguments)}}},7300:(p,C,t)=>{var y=t(730),h=t(2539),v=function(b){return h(b)?b:void 0};p.exports=function(b,D){return arguments.length<2?v(y[b]):y[b]&&y[b][D]}},7874:(p,C,t)=>{var y=t(2702),h=t(3923),v=t(2219),b=t(7817),D=t(5485),M=D("iterator");p.exports=function(N){if(!v(N))return h(N,M)||h(N,"@@iterator")||b[y(N)]}},2387:(p,C,t)=>{var y=t(2977),h=t(6324),v=t(8874),b=t(7471),D=t(7874),M=TypeError;p.exports=function(N,P){var S=arguments.length<2?D(N):P;if(h(S))return v(y(S,N));throw new M(b(N)+" is not iterable")}},3923:(p,C,t)=>{var y=t(6324),h=t(2219);p.exports=function(v,b){var D=v[b];return h(D)?void 0:y(D)}},730:function(p,C,t){var y=function(h){return h&&h.Math===Math&&h};p.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof t.g=="object"&&t.g)||y(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},2623:(p,C,t)=>{var y=t(4038),h=t(6015),v=y({}.hasOwnProperty);p.exports=Object.hasOwn||function(D,M){return v(h(D),M)}},7467:p=>{p.exports={}},845:(p,C,t)=>{var y=t(7300);p.exports=y("document","documentElement")},2470:(p,C,t)=>{var y=t(5007),h=t(5202),v=t(2215);p.exports=!y&&!h(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!==7})},6854:(p,C,t)=>{var y=t(4038),h=t(5202),v=t(4545),b=Object,D=y("".split);p.exports=h(function(){return!b("z").propertyIsEnumerable(0)})?function(M){return v(M)==="String"?D(M,""):b(M)}:b},7821:(p,C,t)=>{var y=t(4038),h=t(2539),v=t(6838),b=y(Function.toString);h(v.inspectSource)||(v.inspectSource=function(D){return b(D)}),p.exports=v.inspectSource},5378:(p,C,t)=>{var y=t(2543),h=t(730),v=t(3988),b=t(8868),D=t(2623),M=t(6838),N=t(3511),P=t(7467),S="Object already initialized",I=h.TypeError,x=h.WeakMap,B,W,A,U=function(E){return A(E)?W(E):B(E,{})},$=function(E){return function(o){var s;if(!v(o)||(s=W(o)).type!==E)throw new I("Incompatible receiver, "+E+" required");return s}};if(y||M.state){var k=M.state||(M.state=new x);k.get=k.get,k.has=k.has,k.set=k.set,B=function(E,o){if(k.has(E))throw new I(S);return o.facade=E,k.set(E,o),o},W=function(E){return k.get(E)||{}},A=function(E){return k.has(E)}}else{var m=N("state");P[m]=!0,B=function(E,o){if(D(E,m))throw new I(S);return o.facade=E,b(E,m,o),o},W=function(E){return D(E,m)?E[m]:{}},A=function(E){return D(E,m)}}p.exports={set:B,get:W,has:A,enforce:U,getterFor:$}},7024:(p,C,t)=>{var y=t(5485),h=t(7817),v=y("iterator"),b=Array.prototype;p.exports=function(D){return D!==void 0&&(h.Array===D||b[v]===D)}},2539:(p,C,t)=>{var y=t(8629),h=y.all;p.exports=y.IS_HTMLDDA?function(v){return typeof v=="function"||v===h}:function(v){return typeof v=="function"}},6467:(p,C,t)=>{var y=t(4038),h=t(5202),v=t(2539),b=t(2702),D=t(7300),M=t(7821),N=function(){},P=[],S=D("Reflect","construct"),I=/^\s*(?:class|function)\b/,x=y(I.exec),B=!I.test(N),W=function($){if(!v($))return!1;try{return S(N,P,$),!0}catch{return!1}},A=function($){if(!v($))return!1;switch(b($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return B||!!x(I,M($))}catch{return!0}};A.sham=!0,p.exports=!S||h(function(){var U;return W(W.call)||!W(Object)||!W(function(){U=!0})||U})?A:W},3455:(p,C,t)=>{var y=t(5202),h=t(2539),v=/#|\.prototype\./,b=function(S,I){var x=M[D(S)];return x===P?!0:x===N?!1:h(I)?y(I):!!I},D=b.normalize=function(S){return String(S).replace(v,".").toLowerCase()},M=b.data={},N=b.NATIVE="N",P=b.POLYFILL="P";p.exports=b},2219:p=>{p.exports=function(C){return C==null}},3988:(p,C,t)=>{var y=t(2539),h=t(8629),v=h.all;p.exports=h.IS_HTMLDDA?function(b){return typeof b=="object"?b!==null:y(b)||b===v}:function(b){return typeof b=="object"?b!==null:y(b)}},4708:p=>{p.exports=!1},184:(p,C,t)=>{var y=t(3988),h=t(4545),v=t(5485),b=v("match");p.exports=function(D){var M;return y(D)&&((M=D[b])!==void 0?!!M:h(D)==="RegExp")}},8820:(p,C,t)=>{var y=t(7300),h=t(2539),v=t(7676),b=t(3713),D=Object;p.exports=b?function(M){return typeof M=="symbol"}:function(M){var N=y("Symbol");return h(N)&&v(N.prototype,D(M))}},8880:(p,C,t)=>{var y=t(2977),h=t(8874),v=t(3923);p.exports=function(b,D,M){var N,P;h(b);try{if(N=v(b,"return"),!N){if(D==="throw")throw M;return M}N=y(N,b)}catch(S){P=!0,N=S}if(D==="throw")throw M;if(P)throw N;return h(N),M}},3450:(p,C,t)=>{var y=t(344).IteratorPrototype,h=t(3830),v=t(4238),b=t(3506),D=t(7817),M=function(){return this};p.exports=function(N,P,S,I){var x=P+" Iterator";return N.prototype=h(y,{next:v(+!I,S)}),b(N,x,!1,!0),D[x]=M,N}},3174:(p,C,t)=>{var y=t(2189),h=t(2977),v=t(4708),b=t(9895),D=t(2539),M=t(3450),N=t(8059),P=t(5502),S=t(3506),I=t(8868),x=t(916),B=t(5485),W=t(7817),A=t(344),U=b.PROPER,$=b.CONFIGURABLE,k=A.IteratorPrototype,m=A.BUGGY_SAFARI_ITERATORS,E=B("iterator"),o="keys",s="values",c="entries",O=function(){return this};p.exports=function(L,j,z,et,ut,ft,ht){M(z,j,et);var at=function(Y){if(Y===ut&&st)return st;if(!m&&Y&&Y in pt)return pt[Y];switch(Y){case o:return function(){return new z(this,Y)};case s:return function(){return new z(this,Y)};case c:return function(){return new z(this,Y)}}return function(){return new z(this)}},_t=j+" Iterator",q=!1,pt=L.prototype,nt=pt[E]||pt["@@iterator"]||ut&&pt[ut],st=!m&&nt||at(ut),F=j==="Array"&&pt.entries||nt,w,Q,J;if(F&&(w=N(F.call(new L)),w!==Object.prototype&&w.next&&(!v&&N(w)!==k&&(P?P(w,k):D(w[E])||x(w,E,O)),S(w,_t,!0,!0),v&&(W[_t]=O))),U&&ut===s&&nt&&nt.name!==s&&(!v&&$?I(pt,"name",s):(q=!0,st=function(){return h(nt,this)})),ut)if(Q={values:at(s),keys:ft?st:at(o),entries:at(c)},ht)for(J in Q)(m||q||!(J in pt))&&x(pt,J,Q[J]);else y({target:j,proto:!0,forced:m||q},Q);return(!v||ht)&&pt[E]!==st&&x(pt,E,st,{name:ut}),W[j]=st,Q}},344:(p,C,t)=>{var y=t(5202),h=t(2539),v=t(3988),b=t(3830),D=t(8059),M=t(916),N=t(5485),P=t(4708),S=N("iterator"),I=!1,x,B,W;[].keys&&(W=[].keys(),"next"in W?(B=D(D(W)),B!==Object.prototype&&(x=B)):I=!0);var A=!v(x)||y(function(){var U={};return x[S].call(U)!==U});A?x={}:P&&(x=b(x)),h(x[S])||M(x,S,function(){return this}),p.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:I}},7817:p=>{p.exports={}},3235:(p,C,t)=>{var y=t(3627);p.exports=function(h){return y(h.length)}},6614:(p,C,t)=>{var y=t(4038),h=t(5202),v=t(2539),b=t(2623),D=t(5007),M=t(9895).CONFIGURABLE,N=t(7821),P=t(5378),S=P.enforce,I=P.get,x=String,B=Object.defineProperty,W=y("".slice),A=y("".replace),U=y([].join),$=D&&!h(function(){return B(function(){},"length",{value:8}).length!==8}),k=String(String).split("String"),m=p.exports=function(E,o,s){W(x(o),0,7)==="Symbol("&&(o="["+A(x(o),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(o="get "+o),s&&s.setter&&(o="set "+o),(!b(E,"name")||M&&E.name!==o)&&(D?B(E,"name",{value:o,configurable:!0}):E.name=o),$&&s&&b(s,"arity")&&E.length!==s.arity&&B(E,"length",{value:s.arity});try{s&&b(s,"constructor")&&s.constructor?D&&B(E,"prototype",{writable:!1}):E.prototype&&(E.prototype=void 0)}catch{}var c=S(E);return b(c,"source")||(c.source=U(k,typeof o=="string"?o:"")),E};Function.prototype.toString=m(function(){return v(this)&&I(this).source||N(this)},"toString")},3041:p=>{var C=Math.ceil,t=Math.floor;p.exports=Math.trunc||function(h){var v=+h;return(v>0?t:C)(v)}},50:(p,C,t)=>{var y=t(184),h=TypeError;p.exports=function(v){if(y(v))throw new h("The method doesn't accept regular expressions");return v}},3830:(p,C,t)=>{var y=t(8874),h=t(3944),v=t(8552),b=t(7467),D=t(845),M=t(2215),N=t(3511),P=">",S="<",I="prototype",x="script",B=N("IE_PROTO"),W=function(){},A=function(E){return S+x+P+E+S+"/"+x+P},U=function(E){E.write(A("")),E.close();var o=E.parentWindow.Object;return E=null,o},$=function(){var E=M("iframe"),o="java"+x+":",s;return E.style.display="none",D.appendChild(E),E.src=String(o),s=E.contentWindow.document,s.open(),s.write(A("document.F=Object")),s.close(),s.F},k,m=function(){try{k=new ActiveXObject("htmlfile")}catch{}m=typeof document<"u"?document.domain&&k?U(k):$():U(k);for(var E=v.length;E--;)delete m[I][v[E]];return m()};b[B]=!0,p.exports=Object.create||function(o,s){var c;return o!==null?(W[I]=y(o),c=new W,W[I]=null,c[B]=o):c=m(),s===void 0?c:h.f(c,s)}},3944:(p,C,t)=>{var y=t(5007),h=t(2268),v=t(8503),b=t(8874),D=t(7625),M=t(4254);C.f=y&&!h?Object.defineProperties:function(P,S){b(P);for(var I=D(S),x=M(S),B=x.length,W=0,A;B>W;)v.f(P,A=x[W++],I[A]);return P}},8503:(p,C,t)=>{var y=t(5007),h=t(2470),v=t(2268),b=t(8874),D=t(3164),M=TypeError,N=Object.defineProperty,P=Object.getOwnPropertyDescriptor,S="enumerable",I="configurable",x="writable";C.f=y?v?function(W,A,U){if(b(W),A=D(A),b(U),typeof W=="function"&&A==="prototype"&&"value"in U&&x in U&&!U[x]){var $=P(W,A);$&&$[x]&&(W[A]=U.value,U={configurable:I in U?U[I]:$[I],enumerable:S in U?U[S]:$[S],writable:!1})}return N(W,A,U)}:N:function(W,A,U){if(b(W),A=D(A),b(U),h)try{return N(W,A,U)}catch{}if("get"in U||"set"in U)throw new M("Accessors not supported");return"value"in U&&(W[A]=U.value),W}},3037:(p,C,t)=>{var y=t(5007),h=t(2977),v=t(6251),b=t(4238),D=t(7625),M=t(3164),N=t(2623),P=t(2470),S=Object.getOwnPropertyDescriptor;C.f=y?S:function(x,B){if(x=D(x),B=M(B),P)try{return S(x,B)}catch{}if(N(x,B))return b(!h(v.f,x,B),x[B])}},5974:(p,C,t)=>{var y=t(7862),h=t(8552),v=h.concat("length","prototype");C.f=Object.getOwnPropertyNames||function(D){return y(D,v)}},1526:(p,C)=>{C.f=Object.getOwnPropertySymbols},8059:(p,C,t)=>{var y=t(2623),h=t(2539),v=t(6015),b=t(3511),D=t(6141),M=b("IE_PROTO"),N=Object,P=N.prototype;p.exports=D?N.getPrototypeOf:function(S){var I=v(S);if(y(I,M))return I[M];var x=I.constructor;return h(x)&&I instanceof x?x.prototype:I instanceof N?P:null}},7676:(p,C,t)=>{var y=t(4038);p.exports=y({}.isPrototypeOf)},7862:(p,C,t)=>{var y=t(4038),h=t(2623),v=t(7625),b=t(5644).indexOf,D=t(7467),M=y([].push);p.exports=function(N,P){var S=v(N),I=0,x=[],B;for(B in S)!h(D,B)&&h(S,B)&&M(x,B);for(;P.length>I;)h(S,B=P[I++])&&(~b(x,B)||M(x,B));return x}},4254:(p,C,t)=>{var y=t(7862),h=t(8552);p.exports=Object.keys||function(b){return y(b,h)}},6251:(p,C)=>{var t={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,h=y&&!t.call({1:2},1);C.f=h?function(b){var D=y(this,b);return!!D&&D.enumerable}:t},5502:(p,C,t)=>{var y=t(6589),h=t(8874),v=t(2162);p.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,D={},M;try{M=y(Object.prototype,"__proto__","set"),M(D,[]),b=D instanceof Array}catch{}return function(P,S){return h(P),v(S),b?M(P,S):P.__proto__=S,P}}():void 0)},7830:(p,C,t)=>{var y=t(5007),h=t(5202),v=t(4038),b=t(8059),D=t(4254),M=t(7625),N=t(6251).f,P=v(N),S=v([].push),I=y&&h(function(){var B=Object.create(null);return B[2]=2,!P(B,2)}),x=function(B){return function(W){for(var A=M(W),U=D(A),$=I&&b(A)===null,k=U.length,m=0,E=[],o;k>m;)o=U[m++],(!y||($?o in A:P(A,o)))&&S(E,B?[o,A[o]]:A[o]);return E}};p.exports={entries:x(!0),values:x(!1)}},532:(p,C,t)=>{var y=t(2977),h=t(2539),v=t(3988),b=TypeError;p.exports=function(D,M){var N,P;if(M==="string"&&h(N=D.toString)&&!v(P=y(N,D))||h(N=D.valueOf)&&!v(P=y(N,D))||M!=="string"&&h(N=D.toString)&&!v(P=y(N,D)))return P;throw new b("Can't convert object to primitive value")}},3054:(p,C,t)=>{var y=t(7300),h=t(4038),v=t(5974),b=t(1526),D=t(8874),M=h([].concat);p.exports=y("Reflect","ownKeys")||function(P){var S=v.f(D(P)),I=b.f;return I?M(S,I(P)):S}},577:(p,C,t)=>{var y=t(730);p.exports=y},6373:(p,C,t)=>{var y=t(2219),h=TypeError;p.exports=function(v){if(y(v))throw new h("Can't call method on "+v);return v}},3506:(p,C,t)=>{var y=t(8503).f,h=t(2623),v=t(5485),b=v("toStringTag");p.exports=function(D,M,N){D&&!N&&(D=D.prototype),D&&!h(D,b)&&y(D,b,{configurable:!0,value:M})}},3511:(p,C,t)=>{var y=t(6568),h=t(2858),v=y("keys");p.exports=function(b){return v[b]||(v[b]=h(b))}},6838:(p,C,t)=>{var y=t(730),h=t(2136),v="__core-js_shared__",b=y[v]||h(v,{});p.exports=b},6568:(p,C,t)=>{var y=t(4708),h=t(6838);(p.exports=function(v,b){return h[v]||(h[v]=b!==void 0?b:{})})("versions",[]).push({version:"3.33.3",mode:y?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6365:(p,C,t)=>{var y=t(4038),h=t(3550),v=t(2532),b=t(6373),D=y("".charAt),M=y("".charCodeAt),N=y("".slice),P=function(S){return function(I,x){var B=v(b(I)),W=h(x),A=B.length,U,$;return W<0||W>=A?S?"":void 0:(U=M(B,W),U<55296||U>56319||W+1===A||($=M(B,W+1))<56320||$>57343?S?D(B,W):U:S?N(B,W,W+2):(U-55296<<10)+($-56320)+65536)}};p.exports={codeAt:P(!1),charAt:P(!0)}},3370:(p,C,t)=>{var y=t(7626),h=t(5202),v=t(730),b=v.String;p.exports=!!Object.getOwnPropertySymbols&&!h(function(){var D=Symbol("symbol detection");return!b(D)||!(Object(D)instanceof Symbol)||!Symbol.sham&&y&&y<41})},7234:(p,C,t)=>{var y=t(3550),h=Math.max,v=Math.min;p.exports=function(b,D){var M=y(b);return M<0?h(M+D,0):v(M,D)}},7625:(p,C,t)=>{var y=t(6854),h=t(6373);p.exports=function(v){return y(h(v))}},3550:(p,C,t)=>{var y=t(3041);p.exports=function(h){var v=+h;return v!==v||v===0?0:y(v)}},3627:(p,C,t)=>{var y=t(3550),h=Math.min;p.exports=function(v){return v>0?h(y(v),9007199254740991):0}},6015:(p,C,t)=>{var y=t(6373),h=Object;p.exports=function(v){return h(y(v))}},634:(p,C,t)=>{var y=t(2977),h=t(3988),v=t(8820),b=t(3923),D=t(532),M=t(5485),N=TypeError,P=M("toPrimitive");p.exports=function(S,I){if(!h(S)||v(S))return S;var x=b(S,P),B;if(x){if(I===void 0&&(I="default"),B=y(x,S,I),!h(B)||v(B))return B;throw new N("Can't convert object to primitive value")}return I===void 0&&(I="number"),D(S,I)}},3164:(p,C,t)=>{var y=t(634),h=t(8820);p.exports=function(v){var b=y(v,"string");return h(b)?b:b+""}},1923:(p,C,t)=>{var y=t(5485),h=y("toStringTag"),v={};v[h]="z",p.exports=String(v)==="[object z]"},2532:(p,C,t)=>{var y=t(2702),h=String;p.exports=function(v){if(y(v)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return h(v)}},7471:p=>{var C=String;p.exports=function(t){try{return C(t)}catch{return"Object"}}},2858:(p,C,t)=>{var y=t(4038),h=0,v=Math.random(),b=y(1 .toString);p.exports=function(D){return"Symbol("+(D===void 0?"":D)+")_"+b(++h+v,36)}},3713:(p,C,t)=>{var y=t(3370);p.exports=y&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},2268:(p,C,t)=>{var y=t(5007),h=t(5202);p.exports=y&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2543:(p,C,t)=>{var y=t(730),h=t(2539),v=y.WeakMap;p.exports=h(v)&&/native code/.test(String(v))},5485:(p,C,t)=>{var y=t(730),h=t(6568),v=t(2623),b=t(2858),D=t(3370),M=t(3713),N=y.Symbol,P=h("wks"),S=M?N.for||N:N&&N.withoutSetter||b;p.exports=function(I){return v(P,I)||(P[I]=D&&v(N,I)?N[I]:S("Symbol."+I)),P[I]}},5445:(p,C,t)=>{var y=t(2189),h=t(9236),v=t(2572);y({target:"Array",proto:!0},{fill:h}),v("fill")},6272:(p,C,t)=>{var y=t(2189),h=t(8459),v=t(3346),b=!v(function(D){Array.from(D)});y({target:"Array",stat:!0,forced:b},{from:h})},2947:(p,C,t)=>{var y=t(2189),h=t(7830).values;y({target:"Object",stat:!0},{values:function(b){return h(b)}})},538:(p,C,t)=>{var y=t(2189),h=t(6192),v=t(3037).f,b=t(3627),D=t(2532),M=t(50),N=t(6373),P=t(6775),S=t(4708),I=h("".endsWith),x=h("".slice),B=Math.min,W=P("endsWith"),A=!S&&!W&&!!function(){var U=v(String.prototype,"endsWith");return U&&!U.writable}();y({target:"String",proto:!0,forced:!A&&!W},{endsWith:function($){var k=D(N(this));M($);var m=arguments.length>1?arguments[1]:void 0,E=k.length,o=m===void 0?E:B(b(m),E),s=D($);return I?I(k,s,o):x(k,o-s.length,o)===s}})},9477:(p,C,t)=>{var y=t(6365).charAt,h=t(2532),v=t(5378),b=t(3174),D=t(3585),M="String Iterator",N=v.set,P=v.getterFor(M);b(String,"String",function(S){N(this,{type:M,string:h(S),index:0})},function(){var I=P(this),x=I.string,B=I.index,W;return B>=x.length?D(void 0,!0):(W=y(x,B),I.index+=W.length,D(W,!1))})},9731:(p,C,t)=>{var y=t(2327);p.exports=y},4401:(p,C,t)=>{var y=t(3274);p.exports=y},3661:(p,C,t)=>{var y=t(5339);p.exports=y},5606:(p,C,t)=>{var y=t(1189);p.exports=y}},R={};function tt(p){var C=R[p];if(C!==void 0)return C.exports;var t=R[p]={id:p,loaded:!1,exports:{}};return n[p].call(t.exports,t,t.exports,tt),t.loaded=!0,t.exports}tt.n=p=>{var C=p&&p.__esModule?()=>p.default:()=>p;return tt.d(C,{a:C}),C},tt.d=(p,C)=>{for(var t in C)tt.o(C,t)&&!tt.o(p,t)&&Object.defineProperty(p,t,{enumerable:!0,get:C[t]})},tt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),tt.o=(p,C)=>Object.prototype.hasOwnProperty.call(p,C),tt.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},tt.nmd=p=>(p.paths=[],p.children||(p.children=[]),p);var Tt={};return(()=>{tt.d(Tt,{default:()=>ka}),tt(1019),tt(5142),tt(1183),tt(2570);var p=tt(2432),C=tt(715),t=tt(4048),y=tt(1233);function h(u){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},h(u)}function v(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function b(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,M(it.key),it)}}function D(u,l,K){return l&&b(u.prototype,l),K&&b(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function M(u){var l=N(u,"string");return h(l)==="symbol"?l:String(l)}function N(u,l){if(h(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(h(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(l,K,it){var Et=S(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:it):kt.value}},P.apply(this,arguments)}function S(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=$(u),u!==null););return u}function I(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}function x(u,l){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},x(u,l)}function B(u){var l=U();return function(){var it=$(u),Et;if(l){var kt=$(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return W(this,Et)}}function W(u,l){if(l&&(h(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(u)}function A(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(u){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},$(u)}var k=function(u){I(K,u);var l=B(K);function K(){return v(this,K),l.apply(this,arguments)}return D(K,[{key:"add",value:function(Et,kt){if(kt==="+1"||kt==="-1"){var be=this.value(Et)||0;kt=kt==="+1"?be+1:be-1}return kt===0?(this.remove(Et),!0):P($(K.prototype),"add",this).call(this,Et,kt)}},{key:"canAdd",value:function(Et,kt){return P($(K.prototype),"canAdd",this).call(this,Et,kt)||P($(K.prototype),"canAdd",this).call(this,Et,parseInt(kt,10))}},{key:"value",value:function(Et){return parseInt(P($(K.prototype),"value",this).call(this,Et),10)||void 0}}]),K}(y.ClassAttributor),m=new k("indent","ql-indent",{scope:y.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});const E=m;var o=tt(6446);function s(u){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function c(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,L(it.key),it)}}function O(u,l,K){return l&&c(u.prototype,l),K&&c(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function L(u){var l=j(u,"string");return s(l)==="symbol"?l:String(l)}function j(u,l){if(s(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(s(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function z(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function et(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&ut(u,l)}function ut(u,l){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},ut(u,l)}function ft(u){var l=_t();return function(){var it=q(u),Et;if(l){var kt=q(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return ht(this,Et)}}function ht(u,l){if(l&&(s(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return at(u)}function at(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(u){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},q(u)}var pt=function(u){et(K,u);var l=ft(K);function K(){return z(this,K),l.apply(this,arguments)}return O(K)}(o.ZP);pt.blotName="blockquote",pt.tagName="blockquote";const nt=pt;function st(u){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},st(u)}function F(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function w(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,J(it.key),it)}}function Q(u,l,K){return l&&w(u.prototype,l),K&&w(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function J(u){var l=Y(u,"string");return st(l)==="symbol"?l:String(l)}function Y(u,l){if(st(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(st(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function ct(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&mt(u,l)}function mt(u,l){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},mt(u,l)}function wt(u){var l=V();return function(){var it=lt(u),Et;if(l){var kt=lt(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return ot(this,Et)}}function ot(u,l){if(l&&(st(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rt(u)}function rt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lt(u){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},lt(u)}var X=function(u){ct(K,u);var l=wt(K);function K(){return F(this,K),l.apply(this,arguments)}return Q(K,null,[{key:"formats",value:function(Et){return this.tagName.indexOf(Et.tagName)+1}}]),K}(o.ZP);X.blotName="header",X.tagName=["H1","H2","H3","H4","H5","H6"];const dt=X;var vt=tt(3553),T=tt(281);function a(u){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},a(u)}function i(){return typeof Reflect<"u"&&Reflect.get?i=Reflect.get.bind():i=function(l,K,it){var Et=f(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:it):kt.value}},i.apply(this,arguments)}function f(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=It(u),u!==null););return u}function _(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,yt(it.key),it)}}function G(u,l,K){return l&&_(u.prototype,l),K&&_(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function yt(u){var l=At(u,"string");return a(l)==="symbol"?l:String(l)}function At(u,l){if(a(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(a(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Ht(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Ft(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&qt(u,l)}function qt(u,l){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},qt(u,l)}function Yt(u){var l=Pt();return function(){var it=It(u),Et;if(l){var kt=It(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return Jt(this,Et)}}function Jt(u,l){if(l&&(a(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bt(u)}function bt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function It(u){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},It(u)}var Lt=function(u){Ft(K,u);var l=Yt(K);function K(){return Ht(this,K),l.apply(this,arguments)}return G(K)}(vt.Z);Lt.blotName="list-container",Lt.tagName="OL";var Mt=function(u){Ft(K,u);var l=Yt(K);function K(it,Et){var kt;Ht(this,K),kt=l.call(this,it,Et);var be=Et.ownerDocument.createElement("span"),Ui=function(Wi){if(it.isEnabled()){var $i=kt.statics.formats(Et,it);$i==="checked"?(kt.format("list","unchecked"),Wi.preventDefault()):$i==="unchecked"&&(kt.format("list","checked"),Wi.preventDefault())}};return be.addEventListener("mousedown",Ui),be.addEventListener("touchstart",Ui),kt.attachUI(be),kt}return G(K,[{key:"format",value:function(Et,kt){Et===this.statics.blotName&&kt?this.domNode.setAttribute("data-list",kt):i(It(K.prototype),"format",this).call(this,Et,kt)}}],[{key:"create",value:function(Et){var kt=i(It(K),"create",this).call(this);return kt.setAttribute("data-list",Et),kt}},{key:"formats",value:function(Et){return Et.getAttribute("data-list")||void 0}},{key:"register",value:function(){T.ZP.register(Lt)}}]),K}(o.ZP);Mt.blotName="list",Mt.tagName="LI",Lt.allowedChildren=[Mt],Mt.requiredContainer=Lt;var Wt=tt(7898),Bt=tt(6039),$t=tt(5832),Kt=tt(1629),te=tt(3991);function ae(u){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ae(u)}function he(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,Ne(it.key),it)}}function me(u,l,K){return l&&he(u.prototype,l),K&&he(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Ne(u){var l=gt(u,"string");return ae(l)==="symbol"?l:String(l)}function gt(u,l){if(ae(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(ae(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function St(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Ct(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Nt(u,l)}function Nt(u,l){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},Nt(u,l)}function xt(u){var l=zt();return function(){var it=Xt(u),Et;if(l){var kt=Xt(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return Rt(this,Et)}}function Rt(u,l){if(l&&(ae(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jt(u)}function jt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xt(u){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Xt(u)}var ee=function(u){Ct(K,u);var l=xt(K);function K(){return St(this,K),l.apply(this,arguments)}return me(K)}(te.Z);ee.blotName="italic",ee.tagName=["EM","I"];const re=ee;var le=tt(7256),oe=tt(6603);function Ce(u){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ce(u)}function Xe(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Qe(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,kr(it.key),it)}}function jr(u,l,K){return l&&Qe(u.prototype,l),K&&Qe(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function kr(u){var l=ve(u,"string");return Ce(l)==="symbol"?l:String(l)}function ve(u,l){if(Ce(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(Ce(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function or(){return typeof Reflect<"u"&&Reflect.get?or=Reflect.get.bind():or=function(l,K,it){var Et=Hr(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:it):kt.value}},or.apply(this,arguments)}function Hr(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Le(u),u!==null););return u}function Fr(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&mr(u,l)}function mr(u,l){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},mr(u,l)}function Ur(u){var l=Wr();return function(){var it=Le(u),Et;if(l){var kt=Le(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return Se(this,Et)}}function Se(u,l){if(l&&(Ce(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yr(u)}function yr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Wr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Le(u){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Le(u)}var Ye=function(u){Fr(K,u);var l=Ur(K);function K(){return Xe(this,K),l.apply(this,arguments)}return jr(K,null,[{key:"create",value:function(Et){return Et==="super"?document.createElement("sup"):Et==="sub"?document.createElement("sub"):or(Le(K),"create",this).call(this,Et)}},{key:"formats",value:function(Et){if(Et.tagName==="SUB")return"sub";if(Et.tagName==="SUP")return"super"}}]),K}(oe.Z);Ye.blotName="script",Ye.tagName=["SUB","SUP"];const $r=Ye;function we(u){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},we(u)}function ar(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,He(it.key),it)}}function lr(u,l,K){return l&&ar(u.prototype,l),K&&ar(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function He(u){var l=gr(u,"string");return we(l)==="symbol"?l:String(l)}function gr(u,l){if(we(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(we(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Tr(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Kr(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&br(u,l)}function br(u,l){return br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},br(u,l)}function zr(u){var l=_r();return function(){var it=Fe(u),Et;if(l){var kt=Fe(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return Zr(this,Et)}}function Zr(u,l){if(l&&(we(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sr(u)}function sr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function _r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fe(u){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Fe(u)}var ur=function(u){Kr(K,u);var l=zr(K);function K(){return Tr(this,K),l.apply(this,arguments)}return lr(K)}(te.Z);ur.blotName="strike",ur.tagName=["S","STRIKE"];const Sr=ur;function Ze(u){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ze(u)}function Je(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,Vr(it.key),it)}}function Or(u,l,K){return l&&Je(u.prototype,l),K&&Je(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Vr(u){var l=Er(u,"string");return Ze(l)==="symbol"?l:String(l)}function Er(u,l){if(Ze(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(Ze(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function wr(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Gr(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Ke(u,l)}function Ke(u,l){return Ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},Ke(u,l)}function Me(u){var l=qr();return function(){var it=Ae(u),Et;if(l){var kt=Ae(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return Ue(this,Et)}}function Ue(u,l){if(l&&(Ze(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(u)}function ze(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function qr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ae(u){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ae(u)}var tr=function(u){Gr(K,u);var l=Me(K);function K(){return wr(this,K),l.apply(this,arguments)}return Or(K)}(oe.Z);tr.blotName="underline",tr.tagName="U";const Xr=tr;var Qr=tt(7452),Pr=tt(8034);function Re(u){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Re(u)}function Ee(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function er(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,fr(it.key),it)}}function cr(u,l,K){return l&&er(u.prototype,l),K&&er(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function fr(u){var l=dr(u,"string");return Re(l)==="symbol"?l:String(l)}function dr(u,l){if(Re(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(Re(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function De(){return typeof Reflect<"u"&&Reflect.get?De=Reflect.get.bind():De=function(l,K,it){var Et=Ar(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:it):kt.value}},De.apply(this,arguments)}function Ar(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Ve(u),u!==null););return u}function We(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Be(u,l)}function Be(u,l){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},Be(u,l)}function xr(u){var l=hr();return function(){var it=Ve(u),Et;if(l){var kt=Ve(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return je(this,Et)}}function je(u,l){if(l&&(Re(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(u)}function Rr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function hr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ve(u){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ve(u)}var pr=function(u){We(K,u);var l=xr(K);function K(){return Ee(this,K),l.apply(this,arguments)}return cr(K,[{key:"html",value:function(){var Et=this.value(),kt=Et.formula;return"<span>".concat(kt,"</span>")}}],[{key:"create",value:function(Et){var kt=null;if((0,Pr.Z)()&&(kt=window.katex),kt==null)throw new Error("Formula module requires KaTeX.");var be=De(Ve(K),"create",this).call(this,Et);return typeof Et=="string"&&(kt.render(Et,be,{throwOnError:!1,errorColor:"#f00"}),be.setAttribute("data-value",Et)),be}},{key:"value",value:function(Et){return Et.getAttribute("data-value")}}]),K}(Qr.Z);pr.blotName="formula",pr.className="ql-formula",pr.tagName="SPAN";const d=pr;function H(u){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},H(u)}function g(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Z(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,Dt(it.key),it)}}function Ot(u,l,K){return l&&Z(u.prototype,l),K&&Z(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Dt(u){var l=Zt(u,"string");return H(l)==="symbol"?l:String(l)}function Zt(u,l){if(H(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(H(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Gt(){return typeof Reflect<"u"&&Reflect.get?Gt=Reflect.get.bind():Gt=function(l,K,it){var Et=ne(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:it):kt.value}},Gt.apply(this,arguments)}function ne(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Te(u),u!==null););return u}function Vt(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&ie(u,l)}function ie(u,l){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},ie(u,l)}function de(u){var l=ge();return function(){var it=Te(u),Et;if(l){var kt=Te(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return se(this,Et)}}function se(u,l){if(l&&(H(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(u)}function ye(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Te(u){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Te(u)}var ke=["alt","height","width"],rr=function(u){Vt(K,u);var l=de(K);function K(){return g(this,K),l.apply(this,arguments)}return Ot(K,[{key:"format",value:function(Et,kt){ke.indexOf(Et)>-1?kt?this.domNode.setAttribute(Et,kt):this.domNode.removeAttribute(Et):Gt(Te(K.prototype),"format",this).call(this,Et,kt)}}],[{key:"create",value:function(Et){var kt=Gt(Te(K),"create",this).call(this,Et);return typeof Et=="string"&&kt.setAttribute("src",this.sanitize(Et)),kt}},{key:"formats",value:function(Et){return ke.reduce(function(kt,be){return Et.hasAttribute(be)&&(kt[be]=Et.getAttribute(be)),kt},{})}},{key:"match",value:function(Et){return/\.(jpe?g|gif|png)$/.test(Et)||/^data:image\/.+;base64/.test(Et)}},{key:"register",value:function(){(0,Pr.Z)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(Et){return(0,le.N)(Et,["http","https","data"])?Et:"//:0"}},{key:"value",value:function(Et){return Et.getAttribute("src")}}]),K}(y.EmbedBlot);rr.blotName="image",rr.tagName="IMG";const Cn=rr;function nr(u){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},nr(u)}function nn(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function xi(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,ea(it.key),it)}}function ta(u,l,K){return l&&xi(u.prototype,l),K&&xi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function ea(u){var l=ra(u,"string");return nr(l)==="symbol"?l:String(l)}function ra(u,l){if(nr(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(nr(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function cn(){return typeof Reflect<"u"&&Reflect.get?cn=Reflect.get.bind():cn=function(l,K,it){var Et=na(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:it):kt.value}},cn.apply(this,arguments)}function na(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Yr(u),u!==null););return u}function ia(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Wn(u,l)}function Wn(u,l){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},Wn(u,l)}function oa(u){var l=sa();return function(){var it=Yr(u),Et;if(l){var kt=Yr(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return aa(this,Et)}}function aa(u,l){if(l&&(nr(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(u)}function la(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function sa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yr(u){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Yr(u)}var Ri=["height","width"],Tn=function(u){ia(K,u);var l=oa(K);function K(){return nn(this,K),l.apply(this,arguments)}return ta(K,[{key:"format",value:function(Et,kt){Ri.indexOf(Et)>-1?kt?this.domNode.setAttribute(Et,kt):this.domNode.removeAttribute(Et):cn(Yr(K.prototype),"format",this).call(this,Et,kt)}},{key:"html",value:function(){var Et=this.value(),kt=Et.video;return'<a href="'.concat(kt,'">').concat(kt,"</a>")}}],[{key:"create",value:function(Et){var kt=cn(Yr(K),"create",this).call(this,Et);return kt.setAttribute("frameborder","0"),kt.setAttribute("allowfullscreen",!0),kt.setAttribute("src",this.sanitize(Et)),kt}},{key:"formats",value:function(Et){return Ri.reduce(function(kt,be){return Et.hasAttribute(be)&&(kt[be]=Et.getAttribute(be)),kt},{})}},{key:"sanitize",value:function(Et){return le.Z.sanitize(Et)}},{key:"value",value:function(Et){return Et.getAttribute("src")}}]),K}(o.i2);Tn.blotName="video",Tn.className="ql-video",Tn.tagName="IFRAME";const ua=Tn;var Ii=tt(7309),ca=tt(9072),Ni=tt(867),fa=tt(9098),Li=tt.n(fa);function on(u){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},on(u)}function da(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Mi(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,pa(it.key),it)}}function ha(u,l,K){return l&&Mi(u.prototype,l),K&&Mi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function pa(u){var l=va(u,"string");return on(l)==="symbol"?l:String(l)}function va(u,l){if(on(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(on(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function ma(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&$n(u,l)}function $n(u,l){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},$n(u,l)}function ya(u){var l=_a();return function(){var it=Sn(u),Et;if(l){var kt=Sn(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return ga(this,Et)}}function ga(u,l){if(l&&(on(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ba(u)}function ba(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function _a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sn(u){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Sn(u)}var Kn=function(u){ma(K,u);var l=ya(K);function K(){return da(this,K),l.apply(this,arguments)}return ha(K,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return`
`}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return`
`}}]),K}(y.EmbedBlot);Kn.blotName="multilineBreak",Kn.tagName="BR";const Oa=Kn;var Ea=tt(7094);function an(u){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},an(u)}function Ca(u,l,K){return l=Bi(l),l in u?Object.defineProperty(u,l,{value:K,enumerable:!0,configurable:!0,writable:!0}):u[l]=K,u}function Ta(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Di(u,l){for(var K=0;K<l.length;K++){var it=l[K];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(u,Bi(it.key),it)}}function Sa(u,l,K){return l&&Di(u.prototype,l),K&&Di(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Bi(u){var l=wa(u,"string");return an(l)==="symbol"?l:String(l)}function wa(u,l){if(an(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(an(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Pa(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&zn(u,l)}function zn(u,l){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,Et){return it.__proto__=Et,it},zn(u,l)}function Aa(u){var l=Ra();return function(){var it=wn(u),Et;if(l){var kt=wn(this).constructor;Et=Reflect.construct(it,arguments,kt)}else Et=it.apply(this,arguments);return xa(this,Et)}}function xa(u,l){if(l&&(an(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ji(u)}function ji(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Ra(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wn(u){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},wn(u)}function Ia(u){return!u.nextSibling&&!u.previousSibling?new(Li())().insert(`
`):new(Li())().insert({multilineBreak:""})}var Na=function(u){Pa(K,u);var l=Aa(K);function K(it,Et){var kt;Ta(this,K);var be="blots/multilineBreak";return kt=l.call(this,it,Et),T.ZP.register(Ca({},be,Oa),!0),it.keyboard.addBinding({key:"enter",shiftKey:!0},kt.enterHandler.bind(ji(kt))),it.keyboard.bindings.enter.unshift(it.keyboard.bindings.enter.pop()),it.clipboard.addMatcher("BR",Ia),kt}return Sa(K,[{key:"enterHandler",value:function(Et){var kt=this.quill.getLeaf(Et.index)[0],be=this.quill.getLeaf(Et.index+1)[0];this.quill.insertEmbed(Et.index,"multilineBreak",!0,"user"),(be===null||kt.parent!==be.parent)&&this.quill.insertEmbed(Et.index,"multilineBreak",!0,"user"),this.quill.setSelection(Et.index+1,T.ZP.sources.SILENT)}}]),K}(Ea.Z);const La=Na;var Ma=tt(6054),ki=tt(1342),Hi=tt(319);function fn(u){"@babel/helpers - typeof";return fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},fn(u)}function Fi(u,l){var K=Object.keys(u);if(Object.getOwnPropertySymbols){var it=Object.getOwnPropertySymbols(u);l&&(it=it.filter(function(Et){return Object.getOwnPropertyDescriptor(u,Et).enumerable})),K.push.apply(K,it)}return K}function Pn(u){for(var l=1;l<arguments.length;l++){var K=arguments[l]!=null?arguments[l]:{};l%2?Fi(Object(K),!0).forEach(function(it){Da(u,it,K[it])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(K)):Fi(Object(K)).forEach(function(it){Object.defineProperty(u,it,Object.getOwnPropertyDescriptor(K,it))})}return u}function Da(u,l,K){return l=Ba(l),l in u?Object.defineProperty(u,l,{value:K,enumerable:!0,configurable:!0,writable:!0}):u[l]=K,u}function Ba(u){var l=ja(u,"string");return fn(l)==="symbol"?l:String(l)}function ja(u,l){if(fn(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var it=K.call(u,l||"default");if(fn(it)!=="object")return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function An(u,l){return l.reduce(function(K,it){var Et="".concat(u).concat(it.attrName);return K[Et]=it,K},{})}p.default.register(Pn(Pn(Pn(Pn({"attributors/attribute/direction":t.IF},An("attributors/attribute/",Hi.Qu)),An("attributors/attribute/",ki.yA)),{},{"attributors/class/align":C.dk,"attributors/class/background":Wt.Y,"attributors/class/color":Bt.Hn,"attributors/class/direction":t.hY,"attributors/class/font":$t._,"attributors/class/size":Kt.m,"attributors/style/align":C.HE,"attributors/style/background":Wt.w,"attributors/style/color":Bt.HQ,"attributors/style/direction":t.H8,"attributors/style/font":$t.H,"attributors/style/size":Kt.Z},An("attributors/style/",Hi.VT)),An("attributors/style/",ki.kk)),!0),p.default.register({"formats/align":C.dk,"formats/direction":t.hY,"formats/indent":E,"formats/background":Wt.w,"formats/color":Bt.HQ,"formats/font":$t._,"formats/size":Kt.m,"formats/blockquote":nt,"formats/code-block":Ii.ZP,"formats/header":dt,"formats/list":Mt,"formats/bold":te.Z,"formats/code":Ii.EK,"formats/italic":re,"formats/link":le.Z,"formats/script":$r,"formats/strike":Sr,"formats/underline":Xr,"formats/formula":d,"formats/image":Cn,"formats/video":ua,"tableModules/lite":Ma.Z,"tableModules/main":Ni.Z,"modules/syntax":ca.ZP,"modules/multiline":La,"modules/table":Ni.Z},!0);const ka=p.default})(),Tt=Tt.default,Tt})())})(Co);var _l=Co.exports;const ce=Ha(_l);function To(){if(!ce)throw hi.Error("E1041","Quill");return ce}var ai;if(ce){var Ol=ce.import("core/theme");ai=class extends Ol{constructor(r,e){super(r,e),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox")}}}else ai={};const El=ai;var li={};if(ce){var Cl=ce.import("formats/image");li=class extends Cl{static create(r){var e=r&&r.src||r,n=super.create(e);if(tn(r)){var R=(tt,Tt)=>{r[tt]&&n.setAttribute(tt,Tt)};R("alt",r.alt),R("width",r.width),R("height",r.height)}return n}static formats(r){var e=super.formats(r);return e.imageSrc=r.getAttribute("src"),e}formats(){var r=super.formats(),e=this.domNode.style.float;return e&&(r.float=e),r}format(r,e){r==="float"?this.domNode.style[r]=e:super.format(r,e)}static value(r){return{src:r.getAttribute("src"),width:r.getAttribute("width"),height:r.getAttribute("height"),alt:r.getAttribute("alt")}}},li.blotName="extendedImage"}const Tl=li;var So={};if(ce){var Sl=ce.import("formats/link");So=class wo extends Sl{static create(e){var n,R=(n=e==null?void 0:e.href)!==null&&n!==void 0?n:e,tt=super.create(R);return tn(e)&&(e.text&&(tt.innerText=e.text),e.target||tt.removeAttribute("target")),tt}static formats(e){return{href:e.getAttribute("href"),target:e.getAttribute("target")}}formats(){var e=super.formats(),{href:n,target:R}=wo.formats(this.domNode);return e.link=n,e.target=R,e}format(e,n){e==="link"&&tn(n)?(n.text&&(this.domNode.innerText=n.text),n.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",n.href)):super.format(e,n)}static value(e){return{href:e.getAttribute("href"),text:e.innerText,target:!!e.getAttribute("target")}}}}const wl=So;var si={};ce&&(si=ce.import("attributors/style/font"),si.whitelist=null);const Pl=si;var ui={};ce&&(ui=ce.import("attributors/style/size"),ui.whitelist=null);const Al=ui;var ci={};ce&&(ci=ce.import("attributors/style/align"),ci.whitelist.push("left"));const xl=ci;class Rl{}var Po=Rl;if(ce){var Il=ce.import("core/module");Po=class extends Il{constructor(r,e){super(r,e),this.editorInstance=e.editorInstance}saveValueChangeEvent(r){this.editorInstance._saveValueChangeEvent(r)}addCleanCallback(r){this.editorInstance.addCleanCallback(r)}handleOptionChangeValue(r){tn(r)?Object.entries(r).forEach(e=>{var[n,R]=e;return this.option(n,R)}):_e(r)||this===null||this===void 0||this.clean()}}}const Ie=Po;var Nl="dx-colorview",Ll="dx-colorview-container",Nn="dx-colorview-container-row",Ml="dx-colorview-container-cell",Dl="dx-colorview-palette",Bl="dx-colorview-palette-cell",jl="dx-colorview-palette-handle",qi="dx-colorview-palette-gradient",kl="dx-colorview-palette-gradient-white",Hl="dx-colorview-palette-gradient-black",Fl="dx-colorview-hue-scale",Ul="dx-colorview-hue-scale-cell",Wl="dx-colorview-hue-scale-handle",$l="dx-colorview-hue-scale-wrapper",Kl="dx-colorview-controls-container",zl="dx-colorview-label-red",Zl="dx-colorview-label-green",Vl="dx-colorview-label-blue",Gl="dx-colorview-label-hex",ql="dx-colorview-alpha-channel-scale",Xl="dx-colorview-alpha-channel-row",Ql="dx-colorview-alpha-channel-wrapper",Yl="dx-colorview-alpha-channel-label",Jl="dx-colorview-alpha-channel-handle",ts="dx-colorview-alpha-channel-cell",es="dx-colorview-alpha-channel-border",Xi="dx-colorview-color-preview",rs="dx-colorview-color-preview-container",ns="dx-colorview-color-preview-container-inner",is="dx-colorview-color-preview-color-current",os="dx-colorview-color-preview-color-new",Vn="#000000",mi=vo.inherit({_supportedKeys:function(){var r=this.option("rtlEnabled"),e=this,n=function(v){var b=100/e._paletteWidth;return v.shiftKey&&(b*=e.option("keyStep")),b=b>1?b:1,Math.round(b)},R=function(v){var b=e._currentColor.hsv.s+v;b>100?b=100:b<0&&(b=0),e._currentColor.hsv.s=b,p()},tt=function(v){var b=100/e._paletteHeight;return v.shiftKey&&(b*=e.option("keyStep")),b=b>1?b:1,Math.round(b)},Tt=function(v){var b=e._currentColor.hsv.v+v;b>100?b=100:b<0&&(b=0),e._currentColor.hsv.v=b,p()};function p(){e._placePaletteHandle(),e._updateColorFromHsv(e._currentColor.hsv.h,e._currentColor.hsv.s,e._currentColor.hsv.v)}var C=function(v){var b=360/(e._hueScaleWrapperHeight-e._hueScaleHandleHeight);return v.shiftKey&&(b*=e.option("keyStep")),b=b>1?b:1,b},t=function(v){e._currentColor.hsv.h+=v,e._placeHueScaleHandle();var b=dn(e._$hueScaleHandle);e._updateColorHue(b.top+e._hueScaleHandleHeight/2)},y=function(v){var b=1/e._alphaChannelScaleWorkWidth;return v.shiftKey&&(b*=e.option("keyStep")),b=b>.01?b:.01,b=r?-b:b,b},h=function(v){e._currentColor.a+=v,e._placeAlphaChannelHandle();var b=dn(e._$alphaChannelHandle);e._calculateColorTransparencyByScaleWidth(b.left+e._alphaChannelHandleWidth/2)};return ue(this.callBase(),{upArrow:function(v){v.preventDefault(),v.stopPropagation(),xn(v)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(v),t(C(v))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(v),Tt(tt(v)))},downArrow:function(v){v.preventDefault(),v.stopPropagation(),xn(v)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(v),t(-C(v))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(v),Tt(-tt(v)))},rightArrow:function(v){v.preventDefault(),v.stopPropagation(),xn(v)?(r?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(v),h(-y(v))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(v),R(n(v)))},leftArrow:function(v){v.preventDefault(),v.stopPropagation(),xn(v)?(r?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(v),h(y(v))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(v),R(-n(v)))},enter:function(v){this._fireEnterKeyPressed(v)}})},_getDefaultOptions:function(){return ue(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return un.real().deviceType==="desktop"&&!un.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(r){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:r})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(r){r=r||Vn;var e=new ir(r);e.colorIsInvalid?(this._currentColor||(this._currentColor=new ir(Vn)),this.option("value",this._currentColor.baseColor)):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(e))&&(this._currentColor=e,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,e))},_setBaseColor:function(r){var e=r||Vn,n=new ir(e);if(!n.colorIsInvalid){var R=this._makeRgba(this.option("matchValue")!==this._makeRgba(n));R&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,n)}},_initMarkup:function(){this.callBase(),this.$element().addClass(Nl),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(r,e){e instanceof ir||(e=new ir(e)),r.css("backgroundColor",this._makeRgba(e))},_makeRgba:function(r){return r instanceof ir||(r=new ir(r)),"rgba("+[r.r,r.g,r.b,r.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var r=this.$element();this._$colorPickerContainer=Ut("<div>").addClass(Ll).appendTo(r),this._renderHtmlRows()},_renderHtmlRows:function(r){var e=this._$colorPickerContainer.find("."+Nn),n=e.length,R=this.option("editAlphaChannel")?2:1,tt=n-R;if(tt>0&&e.eq(-1).remove(),tt<0){tt=Math.abs(tt);var Tt=[],p;for(p=0;p<tt;p++)Tt.push(Ut("<div>").addClass(Nn));if(n)for(p=0;p<Tt.length;p++)e.eq(0).after(Tt[p]);else this._$colorPickerContainer.append(Tt)}},_renderHtmlCellInsideRow:function(r,e,n){return Ut("<div>").addClass(Ml).addClass(n).appendTo(e.find("."+Nn).eq(r))},_renderPalette:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,Bl),e=Ut("<div>").addClass([qi,kl].join(" ")),n=Ut("<div>").addClass([qi,Hl].join(" "));this._$palette=Ut("<div>").addClass(Dl).css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(r),this._paletteHeight=Mr(this._$palette),this._paletteWidth=Dr(this._$palette),this._renderPaletteHandle(),this._$palette.append([e,n])},_renderPaletteHandle:function(){this._$paletteHandle=Ut("<div>").addClass(jl).appendTo(this._$palette),this._createComponent(this._$paletteHandle,Dn,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:(function(){return-this._paletteHandleHeight/2}).bind(this),onDragMove:r=>{var{event:e}=r,n=dn(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(e),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(n),this._calculateColorValue(n))}}),this._paletteHandleWidth=Dr(this._$paletteHandle),this._paletteHandleHeight=Mr(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){mn(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(r){var e=Math.floor(r.top+this._paletteHandleHeight/2);return 100-Math.round(100*e/this._paletteHeight)},_calculateColorSaturation:function(r){var e=Math.floor(r.left+this._paletteHandleWidth/2);return Math.round(100*e/this._paletteWidth)},_updateColorFromHsv:function(r,e,n){var R=this._currentColor.a;this._currentColor=new ir("hsv("+[r,e,n].join(",")+")"),this._currentColor.a=R,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,Ul);this._$hueScaleWrapper=Ut("<div>").addClass($l).appendTo(r),this._$hueScale=Ut("<div>").addClass(Fl).appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Mr(this._$hueScale),this._hueScaleWrapperHeight=Cr(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._$hueScaleHandle=Ut("<div>").addClass(Wl).appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,Dn,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:r=>{var{event:e}=r;this._updateByDrag=!0,this._saveValueChangeEvent(e),this._updateColorHue(dn(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Mr(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var r=this._hueScaleWrapperHeight,e=this._hueScaleHandleHeight,n=(r-e)*(360-this._currentColor.hsv.h)/360;r<n+e&&(n=r-e),n<0&&(n=0),mn(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue:function(r){var e=360-Math.round(360*(r-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,R=this._currentColor.hsv.v;this._isTopColorHue=!1,e=e<0?0:e,e>=360&&(this._isTopColorHue=!0,e=0),this._updateColorFromHsv(e,n,R),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Ut("<div>").addClass(Kl).appendTo(r)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var r=Ut("<div>").addClass(rs).appendTo(this._$controlsContainer),e=Ut("<div>").addClass(ns).appendTo(r);this._$currentColor=Ut("<div>").addClass([Xi,os].join(" ")),this._$baseColor=Ut("<div>").addClass([Xi,is].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),e.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+Nn).eq(1).addClass(Xl),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:hn,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:Qt.format("dxColorView-ariaRed"),labelClass:zl}),this._renderEditorWithLabel({editorType:hn,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:Qt.format("dxColorView-ariaGreen"),labelClass:Zl}),this._renderEditorWithLabel({editorType:hn,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:Qt.format("dxColorView-ariaBlue"),labelClass:Vl})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(r){var e=Ut("<div>"),n=Ut("<label>").addClass(r.labelClass).text(r.labelText+":").append(e);fe.off(n,ri),fe.on(n,ri,function(p){p.preventDefault()});var R=r.editorType,tt=ue({value:r.value,onValueChanged:r.onValueChanged,onKeyboardHandled:p=>this._keyboardHandler(p)},{stylingMode:this.option("stylingMode")});R===hn&&(tt.min=r.min||0,tt.max=r.max||255,tt.step=r.step||1);var Tt=new R(e,tt);return Tt.registerKeyHandler("enter",(function(p){this._fireEnterKeyPressed(p)}).bind(this)),this.setAria("label",r.labelAriaText,e),n},hexInputOptions:function(){return{editorType:ni,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:Gl,labelText:"#",labelAriaText:Qt.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=ni.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"))},_renderAlphaChannelScale:function(){var r=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,ts),e=Ut("<div>").addClass(es).appendTo(r),n=Ut("<div>").addClass(Ql).appendTo(e);this._$alphaChannelScale=Ut("<div>").addClass(ql).appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(r)},_makeCSSLinearGradient:function(r){var e=this._currentColor,n="".concat(e.r,",").concat(e.g,",").concat(e.b),R=this.option("rtlEnabled"),tt="rgba(".concat(n,", ").concat(R?"1":"0",")"),Tt="rgba(".concat(n,", ").concat(R?"0":"1",")"),p="linear-gradient(-90deg, ".concat(tt,", ").concat(Tt,")");r.css("backgroundImage",p)},_renderAlphaChannelInput:function(){var r=this,e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);r._alphaChannelInput=this._renderEditorWithLabel({editorType:hn,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(n){var R=n.value;R=r._currentColor.isValidAlpha(R)?R:r._currentColor.a,n.event&&r._saveValueChangeEvent(n.event),r._updateColorTransparency(R),r._placeAlphaChannelHandle()},labelClass:Yl,labelText:"Alpha",labelAriaText:Qt.format("dxColorView-ariaAlpha")}).appendTo(e).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(r){this._currentColor.a=r,this.applyColor()},_renderAlphaChannelHandle:function(r){this._$alphaChannelHandle=Ut("<div>").addClass(Jl).appendTo(r),this._createComponent(this._$alphaChannelHandle,Dn,{contentTemplate:null,boundary:r,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:e=>{var{event:n}=e;this._updateByDrag=!0;var R=this._$alphaChannelHandle,tt=dn(R).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(n),this._calculateColorTransparencyByScaleWidth(tt)}}),this._alphaChannelHandleWidth=Dr(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=Dr(r)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(r){var e=(r-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");e=n?e:1-e,r>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?e=n?1:0:e<1&&(e=e.toFixed(2));var R=this._alphaChannelInput.option("value");e=Math.max(e,0),e=Math.min(e,1),e===R?this._updateByDrag=!1:this._alphaChannelInput.option("value",e)},_placeAlphaChannelHandle:function(){var r=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);r<0&&(r=0),this._alphaChannelScaleWorkWidth<r&&(r=this._alphaChannelScaleWorkWidth),mn(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-r:r})},applyColor:function(){var r=this.option("value"),e=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),e===r?this._updateByDrag=!1:this.option("value",e)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(r,e){var n,R;r?R=this._validateHex("#"+this._hexInput.option("value")):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),R="rgba("+n.join(", ")+")"):R="rgb("+n.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new ir(R),this._saveValueChangeEvent(e.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(r){return this._currentColor.isValidHex(r)?r:this._currentColor.toHex()},_validateRgb:function(){var r=this._rgbInputs[0].option("value"),e=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(r,e,n)||(r=this._currentColor.r,e=this._currentColor.g,n=this._currentColor.b),[r,e,n]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(r){var e=r.value;switch(r.name){case"value":this._setCurrentColor(e),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(r);break;case"matchValue":this._setBaseColor(e);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(r)}}});pi("dxColorView",mi);class as{constructor(){this._collection=[]}clear(){this._collection=[]}add(e,n){this._collection.push({name:e,instance:n})}remove(e){this._collection=this._collection.filter(n=>n.name!==e)}getByName(e){var n=null;return Pe(this._collection,(R,tt)=>{var{name:Tt,instance:p}=tt;if(Tt===e)return n=p,!1}),n}each(e){this._collection.forEach(n=>{var{name:R,instance:tt}=n;return tt&&e(R,tt)})}}var ls=["table","tableHeaderCell"],ss=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function Ao(r){var e=r.getModule("table");return e!=null&&e.tableFormats?e.tableFormats():ls}function us(r,e){return!!e&&r.quill.getText(e).length<e.length}function gn(r,e){var{tableBlot:n,quill:R}=e,tt=n??R.scroll.find(r.get(0));tt.format("tableWidth","initial")}function Un(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("tr").eq(e).find("th, td")}function bn(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",n=[],R=e==="horizontal",tt=R?Un(r):yi(r);return tt.each((Tt,p)=>{var C=Ut(p);C.get(0).style[R?"width":"height"]===""&&n.push(C)}),n}function Ge(r,e){var{elements:n,property:R,value:tt}=e,Tt=r.quill.getModule("table").tableBlots,p="cell".concat(Fn(R,!0));Pe(n,(C,t)=>{var y,h=r.quill.scroll.find(t);if(!Tt.includes(h.statics.blotName)){var v=h.descendant(b=>Tt.includes(b.statics.blotName));h=v?v[0]:null}(y=h)===null||y===void 0||y.format(p,tt+"px")})}function vr(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"horizontal";return n==="horizontal"?yi(r,e):Un(r,e)}function yi(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("th:nth-child(".concat(1+e,"), td:nth-child(").concat(1+e,")"))}function Ir(r,e){for(var n=arguments.length,R=new Array(n>2?n-2:0),tt=2;tt<n;tt++)R[tt-2]=arguments[tt];return()=>{var Tt=r.getModule("table");if(Tt)return r.focus(),Tt[e](...R)}}var En="dx-colorbox",xo=En+"-input",cs=xo+"-container",fs=En+"-color-result-preview",Qi=En+"-color-is-not-defined",ds=En+"-overlay",hs="dx-colorview-container-cell",ps="dx-colorview-button-cell",vs="dx-colorview-buttons-container",ms="dx-colorview-apply-button",ys="dx-colorview-cancel-button",Ln=mi.prototype,Nr={makeTransparentBackground:Ln._makeTransparentBackground.bind(Ln),makeRgba:Ln._makeRgba.bind(Ln)},_n=Fa.inherit({_supportedKeys:function(){var r=function(e){if(e.stopPropagation(),this.option("opened"))return e.preventDefault(),!0};return ue(this.callBase(),{tab:function(e){if(this.option("opened")){var n=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();n&&(fe.trigger(n,"focus"),n.select()),e.preventDefault()}},enter:this._enterKeyHandler,leftArrow:r,rightArrow:r,upArrow:function(e){return this.option("opened")?e.altKey?(this.close(),!1):!0:(e.preventDefault(),!1)},downArrow:function(e){return!this.option("opened")&&!e.altKey?(e.preventDefault(),!1):!this.option("opened")&&e.altKey?(this._validatedOpening(),!1):!0}})},_getDefaultOptions:function(){return ue(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),this.option("applyValueMode")==="useButtons"&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return ue(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var r=this._popup.bottomToolbar();r&&(r.addClass(hs).addClass(ps).find(".dx-toolbar-items-container").addClass(vs),r.find(".dx-popup-done").addClass(ms),r.find(".dx-popup-cancel").addClass(ys))},_createColorView:function(){this._popup.$overlayContent().addClass(ds);var r=Ut("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(r,mi,this._colorViewConfig()),this._colorView.registerKeyHandler("escape",this._escapeHandler.bind(this)),fe.on(r,"focus",(function(){this.focus()}).bind(this))},_escapeHandler:function(){this.close(),this.focus()},_getFirstPopupElement:function(){return Ut(this._colorView._rgbInputs[0].element()).find("input")},_applyNewColor:function(r){this.option("value",r),r&&Nr.makeTransparentBackground(this._$colorResultPreview,r),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var r=this;return{value:r.option("value"),matchValue:r.option("value"),editAlphaChannel:r.option("editAlphaChannel"),applyValueMode:r.option("applyValueMode"),focusStateEnabled:r.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),onEnterKeyPressed:function(e){var{event:n}=e;r._colorViewEnterKeyPressed=!0,r._colorView.option("value")!==r.option("value")&&(r._saveValueChangeEvent(n),r._applyNewColor(r._colorView.option("value")),r.close())},onValueChanged:function(e){var{event:n,value:R,previousValue:tt}=e,Tt=r.option("applyValueMode")==="instantly",p=Nr.makeRgba(R)===tt,C=Tt||r._colorViewEnterKeyPressed,t=r._shouldSaveEmptyValue;p||!C||t||(n&&r._saveValueChangeEvent(n),r._applyNewColor(R))}}},_enterKeyHandler:function(r){var e=this._input().val(),{value:n,editAlphaChannel:R}=this.option(),tt=n&&R?Nr.makeRgba(n):n;if(!e)return!1;var Tt=new ir(e);if(Tt.colorIsInvalid){this._input().val(tt);return}if(e!==tt&&(this._applyColorFromInput(e),this._saveValueChangeEvent(r),this.option("value",this.option("editAlphaChannel")?Nr.makeRgba(e):e)),this._colorView){var p=this._colorView.option("value");n!==p&&(this._saveValueChangeEvent(r),this.option("value",p))}return this.close(),!1},_applyButtonHandler:function(r){this._saveValueChangeEvent(r.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass(En),this.callBase()},_renderInput:function(){this.callBase(),this._input().addClass(xo),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner(Ut("<div>").addClass(cs)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Ut("<div>").addClass(fs).appendTo(this._$textEditorInputContainer),this.option("value")?Nr.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Qi)},_renderValue:function(){var{value:r,editAlphaChannel:e}=this.option(),n=r&&e,R=n?Nr.makeRgba(r):r;return this.option("text",R),this.callBase()},_resetInputValue:function(){var r=this._input(),e=this.option("value");r.val(e),this._updateColorViewValue(e)},_updateColorViewValue:function(r){this._colorView&&this._colorView.option({value:r,matchValue:r})},_valueChangeEventHandler:function(r){var e=this._input().val();e&&(e=this._applyColorFromInput(e),this._updateColorViewValue(e)),this.callBase(r,e)},_applyColorFromInput:function(r){var{editAlphaChannel:e}=this.option(),n=new ir(r);return n.colorIsInvalid?(this._resetInputValue(),this.option("value")):e?Nr.makeRgba(r):r},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(r){var e=r.value,n=r.name;switch(n){case"value":this._$colorBoxInputContainer.toggleClass(Qi,!e),e?Nr.makeTransparentBackground(this._$colorResultPreview,e):this._$colorResultPreview.removeAttr("style"),e===null&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(e),this._shouldSaveEmptyValue=!1,this.callBase(r);break;case"applyButtonText":case"cancelButtonText":this.callBase(r),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(n,e);break;default:this.callBase(r)}}});pi("dxColorBox",_n);var gs=["imageSrc","src"],bs=un.current().deviceType==="phone",_s="dxHtmlEditor-dialogImageCaption",Os="dxHtmlEditor-dialogUpdateImageCaption",Es="dxHtmlEditor-dialogImageUrlField",Cs="dxHtmlEditor-dialogImageAltField",Ts="dxHtmlEditor-dialogImageWidthField",Ss="dxHtmlEditor-dialogImageHeightField",ws="dxHtmlEditor-dialogImageAddButton",Ps="dxHtmlEditor-dialogImageUpdateButton",As="dxHtmlEditor-dialogImageSpecifyUrl",xs="dxHtmlEditor-dialogImageSelectFile",Rs="dxHtmlEditor-dialogImageKeepAspectRatio",Is="dxHtmlEditor-dialogImageEncodeToBase64",Ns="dx-htmleditor-add-image-popup",Ls="dx-htmleditor-add-image-popup-with-tabs",Ms="dx-fix-ratio-container",Yi="dx-formdialog",Ji="user",to="silent",Ds="dx-htmleditor-image";class Bs{constructor(e,n){this.module=e,this.config=n??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var e=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(e).done((n,R)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(n,R)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){var e=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(e)}setAddButtonDisabled(e){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":e})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(e){var{imageSrc:n,src:R}=e,tt=Ua(e,gs);return mo({src:n??R},tt)}createUrlTab(e){return new js(this.module,{config:this.config,formData:e,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new ks(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.length===0||this.isUpdating?["url"]:e.map(n=>typeof n=="object"?n.name:n)}createTabs(e){return this.tabsModel.map(n=>{var R=n==="url";return R?this.createUrlTab(e):this.createFileTab()})}isImageUpdating(){var e;return Object.prototype.hasOwnProperty.call((e=this.module.quill.getFormat())!==null&&e!==void 0?e:{},"imageSrc")}updatePopupConfig(){var e="".concat(Ns," ").concat(Yi);this.useTabbedItems()&&(e+=" ".concat(Ls));var n=this.isUpdating?Os:_s,R=this.isUpdating?Ps:ws;this.editorInstance.formDialogOption({title:Qt.format(n),"toolbarItems[0].options.text":Qt.format(R),wrapperAttr:{class:e}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":Qt.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:Yi}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return bs?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){if(this.useTabbedItems()){var e=Wa(this.tabs,n=>({title:n.getTabName(),colCount:11,items:n.getItemsConfig()}));return[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:n=>{this.tabPanelIndex=n.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:e}]}return this.tabs[0].getItemsConfig()}}class Ro{constructor(e,n,R){var{config:tt,formData:Tt,isUpdating:p}=n;this.module=e,this.config=tt,this.formData=Tt,this.isUpdating=p,this.onFileSelected=R,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new Hs(this.module,this.config,this.formData):new No(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class js extends Ro{getTabName(){return Qt.format(As)}}class ks extends Ro{getTabName(){return Qt.format(xs)}createStrategy(){return new Fs(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class Io{constructor(e,n){this.module=e,this.config=n,this.editorInstance=e.editorInstance,this.quill=e.quill,this.selection=this.getQuillSelection()}getQuillSelection(){var e=this.quill.getSelection();return e??{index:this.quill.getLength(),length:0}}pasteImage(){}isValid(){return!0}upload(){}}class No extends Io{constructor(e,n,R){super(e,n,R),this.shouldKeepAspectRatio=!0}pasteImage(e,n){this.module.saveValueChangeEvent(n),Mo(this.quill,this.selection.index,e)}keepAspectRatio(e,n){var{dependentEditor:R,e:tt}=n,Tt=parseInt(tt.value),p=parseInt(tt.previousValue),C=parseInt(R.option("value"));e.component.updateData(e.dataField,Tt),this.shouldKeepAspectRatio&&C&&p&&!this.preventRecalculating&&(this.preventRecalculating=!0,R.option("value",Math.round(Tt*C/parseInt(p)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(e,n,R){return this.editorInstance._createComponent(e,ni,ue(!0,n.editorOptions,{value:n.component.option("formData")[n.dataField],onEnterKey:n.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,n),onValueChanged:tt=>{this.keepAspectRatio(n,{dependentEditor:this[R+"Editor"],e:tt})}}))}upload(){var e=this.editorInstance._formDialog._form.validate();return e.isValid}getItemsConfig(){return[{dataField:"src",colSpan:11,label:{text:Qt.format(Es)},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:Qt.format(Ts)},template:e=>{var n=Ut("<div>").addClass(Ms),R=Ut("<div>").appendTo(n);this.widthEditor=this.createKeepAspectRatioEditor(R,e,"height");var tt=Ut("<div>").appendTo(n);return this.editorInstance._createComponent(tt,kn,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:Qt.format(Rs),focusStateEnabled:!1,keyExpr:"value",stylingMode:"outlined",selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:Tt=>{this.shouldKeepAspectRatio=!!Tt.component.option("selectedItems").length}}),n}},{dataField:"height",colSpan:5,label:{text:Qt.format(Ss)},template:e=>{var n=Ut("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(n,e,"width"),n}},{dataField:"alt",colSpan:11,label:{text:Qt.format(Cs)}}]}}class Hs extends No{constructor(e,n,R,tt){super(e,n,tt),this.formData=R,this.modifyFormData()}modifyFormData(){var{imageSrc:e}=this.quill.getFormat(this.selection.index-1,1);(!e||this.selection.index===0)&&(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,to));var n=this.quill.getLeaf(this.selection.index)[0].domNode;if(n){var R,tt;this.formData.width=(R=this.formData.width)!==null&&R!==void 0?R:Dr(Ut(n)),this.formData.height=(tt=this.formData.height)!==null&&tt!==void 0?tt:Mr(Ut(n))}}pasteImage(e,n){this.quill.deleteText(this.embedFormatIndex(),1,to),this.selection.index-=1,super.pasteImage(e,n)}embedFormatIndex(){var e,n=(e=this.selection)!==null&&e!==void 0?e:this.quill.getSelection();return n?n.length?n.index:n.index-1:this.quill.getLength()}}class Fs extends Io{constructor(e,n,R){super(e,n,R),this.useBase64=!_e(this.config.fileUploadMode)||this.config.fileUploadMode==="base64",this.isValidInternal=!1,this.onFileSelected=R,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}onUploaded(e){Do(this.config.uploadDirectory,e.file.name,this.quill,this.selection.index)}base64Upload(e){this.quill.getModule("uploader").upload(this.selection,e.value,!0)}pasteImage(e,n){this.useBase64&&super.pasteImage(e,n)}isBase64Editable(){return this.config.fileUploadMode==="both"}validate(e){var n=e.component;this.isValidInternal=!n._files.some(R=>!R.isValid()),n._files.length===0&&(this.isValidInternal=!1)}getFileUploaderOptions(){var e={uploadUrl:this.config.uploadUrl,onValueChanged:n=>{this.validate(n),this.data=n,this.onFileSelected()},onUploaded:n=>this.onUploaded(n)};return ue({},Lo(),e,this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{var e=Ut("<div>");return this.module.editorInstance._createComponent(e,Eo,this.getFileUploaderOptions()),e}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:Qt.format(Is),onValueChanged:e=>{this.isBase64Editable()&&(this.useBase64=e.value)}}}]}}function Us(r){return r[r.length-1]!=="/"?r+"/":r}function Lo(){return{value:[],name:Ds,accept:"image/*",uploadMode:"useButtons"}}function Mo(r,e,n){r.insertEmbed(e,"extendedImage",n,Ji),r.setSelection(e+1,0,Ji)}function Do(r,e,n,R){if(r){var tt=Us(r)+e;Mo(n,R,{src:tt})}}var Ws=400,$s=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],Bo=$s.map(r=>({id:r,value:Qt.format("dxHtmlEditor-borderStyle".concat(Fn(r,!0)))})),Br="user",Ks="silent",zs="dxHtmlEditor-dialogColorCaption",Zs="dxHtmlEditor-dialogBackgroundCaption",Vs="dxHtmlEditor-dialogLinkCaption",Gs="dxHtmlEditor-dialogInsertTableCaption",qs="dxHtmlEditor-dialogLinkUrlField",Xs="dxHtmlEditor-dialogLinkTextField",Qs="dxHtmlEditor-dialogLinkTargetField",Ys="dx-formdialog-field-target",Js="dxHtmlEditor-dialogInsertTableRowsField",tu="dxHtmlEditor-dialogInsertTableColumnsField",jo={insertHeaderRow:"header",clear:"clearformat"};function ko(r){return{clear:e=>{var{event:n}=e,R=r.quill.getSelection();if(R){var tt;r.saveValueChangeEvent(n),r.quill.removeFormat(R),(tt=gi(r))===null||tt===void 0||tt.updateFormatWidgets()}},link:nu(r),image:iu(r,r.editorInstance.option("imageUpload")),color:io(r,"color"),background:io(r,"background"),orderedList:Lr(r,"list","ordered"),bulletList:Lr(r,"list","bullet"),alignLeft:Lr(r,"align","left"),alignCenter:Lr(r,"align","center"),alignRight:Lr(r,"align","right"),alignJustify:Lr(r,"align","justify"),codeBlock:bi(r,"code-block"),undo:e=>{var{event:n}=e;r.saveValueChangeEvent(n),r.quill.history.undo()},redo:e=>{var{event:n}=e;r.saveValueChangeEvent(n),r.quill.history.redo()},increaseIndent:e=>{var{event:n}=e;rn(r,["indent","+1",Br],n)},decreaseIndent:e=>{var{event:n}=e;rn(r,["indent","-1",Br],n)},superscript:Lr(r,"script","super"),subscript:Lr(r,"script","sub"),insertTable:lu(r),insertHeaderRow:Ir(r.quill,"insertHeaderRow"),insertRowAbove:Ir(r.quill,"insertRowAbove"),insertRowBelow:Ir(r.quill,"insertRowBelow"),insertColumnLeft:Ir(r.quill,"insertColumnLeft"),insertColumnRight:Ir(r.quill,"insertColumnRight"),deleteColumn:Ir(r.quill,"deleteColumn"),deleteRow:Ir(r.quill,"deleteRow"),deleteTable:Ir(r.quill,"deleteTable"),cellProperties:ro(r,"cell"),tableProperties:ro(r,"table")}}function eo(r,e){var{contentTemplate:n,title:R,minHeight:tt,minWidth:Tt,maxWidth:p}=e;r.formDialogOption({contentTemplate:n,title:R,minHeight:tt??0,minWidth:Tt??0,maxWidth:p??"none"})}function ro(r,e){return n=>{var R,tt;(R=n)!==null&&R!==void 0&&R.length||(n=Ut(eu(r,e)));var[Tt,p]=(tt=r.quill.getModule("table").getTable())!==null&&tt!==void 0?tt:[],C=r.quill.getFormat(r.editorInstance.getSelection(!0)),t=cu(e)(r,{$element:n,formats:C,tableBlot:Tt,rowBlot:p}),{contentTemplate:y,title:h,minHeight:v,minWidth:b,maxWidth:D}=r.editorInstance._formDialog._popup.option(),M={contentTemplate:y,title:h,minHeight:v,minWidth:b,maxWidth:D},N;r.editorInstance.formDialogOption({contentTemplate:S=>{var I=Ut("<div>").appendTo(S),x=Ut("<div>").appendTo(I);return r.editorInstance._createComponent(x,yo,t.formOptions),r.editorInstance._createComponent(I,$a,{}),N=x.dxForm("instance"),I},title:Qt.format("dxHtmlEditor-".concat(e,"Properties")),minHeight:Ws,minWidth:Math.min(800,.9*Dr(en())-1),maxWidth:.9*Dr(en())});var P=r.editorInstance.showFormDialog();P.done((S,I)=>{r.saveValueChangeEvent(I),t.applyHandler(N),eo(r.editorInstance,M)}),P.fail(()=>{r.quill.focus(),eo(r.editorInstance,M)})}}function rn(r,e,n){r.saveValueChangeEvent(n),r.quill.format(...e)}function eu(r,e){var n=r.quill.getModule("table").getTable();return e==="table"?n[0].domNode:n[2].domNode}function ru(r,e){var n=To(),R=n.import("formats/link"),tt,Tt;[tt,Tt]=r.quill.scroll.descendant(R,e.index),!tt&&e.length===0&&([tt,Tt]=r.quill.scroll.descendant(R,e.index-1),tt&&(Tt+=1));var p=tt?{index:e.index-Tt,length:tt.length()}:null;return p}function no(r){return Array.isArray(r)?r[0]:r}function nu(r){return()=>{var e;r.quill.focus();var n=r.quill.getSelection(),R=n?r.quill.getFormat():{},tt=R.link!==void 0&&((e=n)===null||e===void 0?void 0:e.length)===0,Tt=R.link||"";if(tt){var p=ru(r,n);p?n=p:Tt=""}var C=us(r,n),t={href:Tt,text:n&&!C?r.quill.getText(n):"",target:Object.prototype.hasOwnProperty.call(R,"target")?!!R.target:!0};r.editorInstance.formDialogOption("title",Qt.format(Vs));var y=r.editorInstance.showFormDialog({formData:t,items:ou(C)});y.done((h,v)=>{if(n&&!C){var b=h.text||h.href,{index:D,length:M}=n;h.text=void 0,r.saveValueChangeEvent(v),M&&r.quill.deleteText(D,M,Ks),r.quill.insertText(D,b,"link",h,Br),r.quill.setSelection(D+b.length,0,Br)}else h.text=!n&&!h.text?h.href:h.text,rn(r,["link",h,Br],v)}),y.fail(()=>{r.quill.focus()})}}function iu(r,e){var n=new Bs(r,e);return()=>{n.render()}}function ou(r){return[{dataField:"href",label:{text:Qt.format(qs)}},{dataField:"text",label:{text:Qt.format(Xs)},visible:!r},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:Qt.format(Qs)},cssClass:Ys,label:{visible:!1}}]}function io(r,e){return()=>{var n=r.quill.getFormat(),R=e==="color"?zs:Zs;r.editorInstance.formDialogOption("title",Qt.format(R));var tt=r.editorInstance.showFormDialog({formData:n,items:[{dataField:e,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});tt.done((Tt,p)=>{rn(r,[e,Tt[e],Br],p)}),tt.fail(()=>{r.quill.focus()})}}function Lr(r,e,n){return R=>{var tt,{event:Tt}=R,p=r.quill.getFormat(),C=p[e]===n?!1:n;rn(r,[e,C,Br],Tt),(tt=gi(r))===null||tt===void 0||tt.updateFormatWidgets(!0)}}function gi(r){return r._updateFormatWidget?r:r.quill.getModule("toolbar")}function bi(r,e){return n=>{var R,{event:tt}=n,Tt=r.quill.getFormat(),p=Tt[e],C=!(Ka(p)?p:_e(p));rn(r,[e,C,Br],tt),(R=gi(r))===null||R===void 0||R._updateFormatWidget(e,C,Tt)}}function au(){return[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(Js)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(tu)}}]}function lu(r){return()=>{var e=r.quill.getFormat(),n=r._tableFormats.some(tt=>Object.prototype.hasOwnProperty.call(e,tt));if(n){r.quill.focus();return}r.editorInstance.formDialogOption("title",Qt.format(Gs));var R=r.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:au()});R.done((tt,Tt)=>{r.quill.focus();var p=r.quill.getModule("table");if(p){r.saveValueChangeEvent(Tt);var{columns:C,rows:t}=tt;p.insertTable(C,t)}}).always(()=>{r.quill.focus()})}}function su(r,e){var{$element:n,formats:R,tableBlot:tt}=e,Tt=en(),p,C,t,y=n,h=r.editorInstance,v=parseInt(R.tableWidth)||Oe(y),b=Tt.getComputedStyle(y.get(0)),D=b.textAlign==="start"?"left":b.textAlign,M={colCount:2,formData:{width:v,height:_e(R.tableHeight)?parseInt(R.tableHeight):Cr(y),backgroundColor:R.tableBackgroundColor||b.backgroundColor,borderStyle:R.tableBorderStyle||b.borderTopStyle,borderColor:R.tableBorderColor||b.borderTopColor,borderWidth:parseInt(_e(R.tableBorderWidth)?R.tableBorderWidth:b.borderTopWidth),alignment:R.tableAlign||D},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Bo,valueExpr:"id",displayExpr:"value",placeholder:"Select style"}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},colSpan:2,template:N=>{var P=Ut("<div>");return h._createComponent(P,_n,{editAlphaChannel:!0,value:N.component.option("formData").borderColor,onInitialized:S=>{C=S.component}}),P}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:N=>{var P=Ut("<div>");return h._createComponent(P,_n,{editAlphaChannel:!0,value:N.component.option("formData").backgroundColor,onInitialized:S=>{t=S.component}}),P}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var N=Ut("<div>");return h._createComponent(N,kn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[D],onInitialized:P=>{p=P.component}}),N}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:M,applyHandler:N=>{var P=N.option("formData"),S=P.width===v?void 0:P.width,I=P.height;fu(r,{$table:y,newHeight:I,newWidth:S,tableBlot:tt}),r.editorInstance.format("tableBorderStyle",P.borderStyle),r.editorInstance.format("tableBorderWidth",P.borderWidth+"px"),r.editorInstance.format("tableBorderColor",C.option("value")),r.editorInstance.format("tableBackgroundColor",t.option("value")),r.editorInstance.format("tableTextAlign",p.option("selectedItemKeys")[0])}}}function uu(r,e){var{$element:n,formats:R,tableBlot:tt,rowBlot:Tt}=e,p=en(),C,t,y,h,v=n,b=_e(R.cellWidth)?parseInt(R.cellWidth):Oe(v),D=r.editorInstance,M=p.getComputedStyle(v.get(0)),N=M.textAlign==="start"?"left":M.textAlign,P={colCount:2,formData:{width:b,height:_e(R.cellHeight)?parseInt(R.cellHeight):Cr(v),backgroundColor:no(R.cellBackgroundColor)||M.backgroundColor,borderStyle:R.cellBorderStyle||M.borderTopStyle,borderColor:no(R.cellBorderColor)||M.borderTopColor,borderWidth:parseInt(_e(R.cellBorderWidth)?R.cellBorderWidth:M.borderTopWidth),alignment:R.cellTextAlign||N,verticalAlignment:R.cellVerticalAlign||M.verticalAlign,verticalPadding:parseInt(_e(R.cellPaddingTop)?R.cellPaddingTop:M.paddingTop),horizontalPadding:parseInt(_e(R.cellPaddingLeft)?R.cellPaddingLeft:M.paddingLeft)},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Bo,valueExpr:"id",displayExpr:"value"}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:Qt.format("dxHtmlEditor-borderColor")},template:S=>{var I=Ut("<div>");return D._createComponent(I,_n,{editAlphaChannel:!0,value:S.component.option("formData").borderColor,onInitialized:x=>{y=x.component}}),I}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:Qt.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{label:{text:Qt.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:S=>{var I=Ut("<div>");return D._createComponent(I,_n,{editAlphaChannel:!0,value:S.component.option("formData").backgroundColor,onInitialized:x=>{h=x.component}}),I}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var S=Ut("<div>");return D._createComponent(S,kn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[N],onInitialized:I=>{C=I.component}}),S}},{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-vertical")},template:()=>{var S=Ut("<div>");return D._createComponent(S,kn,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[M.verticalAlign],onInitialized:I=>{t=I.component}}),S}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:P,applyHandler:S=>{var I=S.option("formData"),x=I.width===parseInt(b)?void 0:I.width,B=I.height;du(r,{$cell:v,newHeight:B,newWidth:x,tableBlot:tt,rowBlot:Tt}),r.editorInstance.format("cellBorderWidth",I.borderWidth+"px"),r.editorInstance.format("cellBorderColor",y.option("value")),r.editorInstance.format("cellBorderStyle",I.borderStyle),r.editorInstance.format("cellBackgroundColor",h.option("value")),r.editorInstance.format("cellTextAlign",C.option("selectedItemKeys")[0]),r.editorInstance.format("cellVerticalAlign",t.option("selectedItemKeys")[0]),r.editorInstance.format("cellPaddingLeft",I.horizontalPadding+"px"),r.editorInstance.format("cellPaddingRight",I.horizontalPadding+"px"),r.editorInstance.format("cellPaddingTop",I.verticalPadding+"px"),r.editorInstance.format("cellPaddingBottom",I.verticalPadding+"px")}}}function cu(r){return r==="cell"?uu:su}function fu(r,e){var{$table:n,newHeight:R,newWidth:tt,tableBlot:Tt}=e;if(_e(tt)){var p=bn(n);if(p.length>0)r.editorInstance.format("tableWidth",tt+"px");else{var C=Un(n),t=Oe(n);gn(n,{tableBlot:Tt}),Pe(C,(b,D)=>{var M=Ut(D),N=tt/t*Oe(M),P=vr(n,M.index(),"horizontal");Ge(r,{elements:P,property:"width",value:N})})}}var y=bn(n,"vertical");if((y==null?void 0:y.length)>0)Tt.format("tableHeight",R+"px");else{var h=yi(n),v=Cr(n);Pe(h,(b,D)=>{var M=Ut(D),N=R/v*Cr(M),P=vr(n,b,"vertical");Ge(r,{elements:P,property:"height",value:N})})}}function du(r,e){var{$cell:n,newHeight:R,newWidth:tt,tableBlot:Tt,rowBlot:p}=e,C=Ut(n.closest("table"));if(_e(tt)){var t=Ut(n).index(),y=vr(C,t),h=tt-Oe(n),v=Oe(C);tt>v&&gn(C,{tableBlot:Tt}),Ge(r,{elements:y,property:"width",value:tt});var b=n.next(),D=bn(C).length===0;if(D)if(gn(C,{tableBlot:Tt}),b.length===1){y=vr(C,t+1);var M=Oe(y.eq(0))-h;Ge(r,{elements:y,property:"width",value:Math.max(M,0)})}else{var N=n.prev();if(N.length===1){y=vr(C,t-1);var P=Oe(y.eq(0))-h;Ge(r,{elements:y,property:"width",value:Math.max(P,0)})}}}p.children.forEach(I=>{I.format("cellHeight",R+"px")});var S=bn(C,"vertical");S.length===0&&C.css("height","auto")}var Ho=Ie;if(ce){var oo="dx-htmleditor-toolbar-wrapper",hu="dx-htmleditor-toolbar",pu="dx-htmleditor-toolbar-format",vu="dx-htmleditor-toolbar-separator",mu="dx-htmleditor-toolbar-menu-separator",ao="dx-format-active",yu="dx-icon",gu="selection-change",bu="user",_u="silent",Ou={66:"bold",73:"italic",85:"underline"},Gn={b:66,i:73,u:85},ln=r=>Qt.format("dxHtmlEditor-".concat(Fn(r))),Eu=(r,e)=>{if(e==="header"){var n=_e(r)&&r!==!1;return n?"".concat(ln("heading")," ").concat(r):ln("normalText")}return ln(r)||r};Ho=class extends Ie{constructor(r,e){var n;if(super(r,e),n=this,this._toolbarWidgets=new as,this._formatHandlers=ko(this),this._tableFormats=Ao(r),_e(e.items)){this._addCallbacks(),this._renderToolbar();var R=this.toolbarInstance._layoutStrategy._menu;if(R){var tt=R._renderPopup;R._renderPopup=function(){for(var Tt=arguments.length,p=new Array(Tt),C=0;C<Tt;C++)p[C]=arguments[C];tt.apply(R,...p),R._popup.on("showing",()=>{n._updateToolbar(!0)})}}this.quill.on("editor-change",(Tt,p,C,t)=>{var y=t===_u&&Bn(this.quill.getFormat());if(!y){var h=Tt===gu;this._updateToolbar(h)}})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(r){this.updateFormatWidgets(r),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(r,e,n){var R=this._toolbarWidgets.getByName(r);R&&(e?this._markActiveFormatWidget(r,R,n):(this._resetFormatWidget(r,R),Object.prototype.hasOwnProperty.call(r)&&delete n[r]),this._toggleClearFormatting(e||!Bn(n)))}_renderToolbar(){var r=this.options.container||this._getContainer();this._$toolbar=Ut("<div>").addClass(hu).appendTo(r),this._$toolbarContainer=Ut(r).addClass(oo),fe.on(this._$toolbarContainer,xe("mousedown",this.editorInstance.NAME),e=>{e.target.focus(),e.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,za,this.toolbarConfig),this.editorInstance.on("optionChanged",e=>{var{name:n}=e;(n==="readOnly"||n==="disabled")&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var r;return(r=this.options.multiline)!==null&&r!==void 0?r:!0}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(oo)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var r=Ut("<div>");return this.editorInstance.$element().prepend(r),r}_detectRenamedOptions(r){tn(r)&&Pe([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(e,n)=>{Object.prototype.hasOwnProperty.call(r,n.oldName)&&hi.log("W1016",n.oldName,n.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:Gn.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Gn.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Gn.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(r,e,n){var{which:R}=n,tt=Ou[R];this._updateButtonState(tt)}_updateButtonState(r){var e=this._toolbarWidgets.getByName(r),n=this.quill.getFormat(),R=n[r];R?this._markActiveFormatWidget(r,e,n):this._resetFormatWidget(r,e)}_prepareToolbarItems(){var r=[];return Pe(this.options.items,(e,n)=>{var R;if(this._detectRenamedOptions(n),tn(n))R=this._handleObjectItem(n);else if(vi(n)){var tt=this._prepareButtonItemConfig(n);R=this._getToolbarItem(tt)}R&&r.push(R)}),r}_handleObjectItem(r){if(r.name&&r.acceptedValues&&this._isAcceptableItem(r.widget,"dxSelectBox")){var e=this._prepareSelectItemConfig(r);return this._getToolbarItem(e)}else if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var n=this._prepareButtonItemConfig(r.name),R=ue(!0,n,r);return this._getToolbarItem(R)}else return this._getToolbarItem(r)}_isAcceptableItem(r,e){return!r||r===e}_prepareButtonItemConfig(r){var e,n=(e=jo[r])!==null&&e!==void 0?e:r,R=jn(r);return{widget:"dxButton",name:r,options:{hint:ln(R),text:ln(R),icon:n.toLowerCase(),onClick:this._formatHandlers[r]||bi(this,r),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(r){var{name:e,acceptedValues:n}=r;return ue(!0,{widget:"dxSelectBox",name:e,options:{stylingMode:"filled",dataSource:n,displayExpr:R=>Eu(R,e),placeholder:ln(e),onValueChanged:R=>{this._isReset||(this._hideAdaptiveMenu(),rn(this,[e,R.value,bu],R.event),this._setValueSilent(R.component,R.value))}}},r)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(r){var e={options:{onInitialized:n=>{r.name&&(n.component.$element().addClass(pu),n.component.$element().toggleClass("dx-".concat(r.name.toLowerCase(),"-format"),!!r.name),this._toolbarWidgets.add(r.name,n.component))},onDisposing:()=>{this._toolbarWidgets.remove(r.name)}}};return ue(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(r.name),r,e)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(r,e,n)=>{Ut(n).addClass(vu)},menuItemTemplate:(r,e,n)=>{Ut(n).addClass(mu)}}}}_getDefaultConfig(r){return this._getDefaultItemsConfig()[r]}updateHistoryWidgets(){var r=this.quill.history;if(r){var{undo:e,redo:n}=r.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!e.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!n.length)}}updateTableWidgets(){var r=this.quill.getModule("table");if(r){var e=this.quill.getSelection(),n=e&&this.quill.getFormat(e)||{},R=this._tableFormats.some(tt=>!!n[tt]);ss.forEach(tt=>{var Tt=tt==="insertTable",p=this._toolbarWidgets.getByName(tt);this._updateManipulationWidget(p,Tt?!R:R)})}}_updateManipulationWidget(r,e){r&&r.option("disabled",!e)}updateFormatWidgets(r){var e=this.quill.getSelection();if(e){var n=this.quill.getFormat(e),R=!Bn(n);(!R||r)&&this._resetFormatWidgets();for(var tt in n){var Tt=this._getFormatWidgetName(tt,n),p=this._toolbarWidgets.getByName(Tt)||this._toolbarWidgets.getByName(tt);p&&this._markActiveFormatWidget(tt,p,n)}this._toggleClearFormatting(R||e.length>1)}}_markActiveFormatWidget(r,e,n){this._isColorFormat(r)&&this._updateColorWidget(r,n[r]),"value"in e.option()?this._setValueSilent(e,n[r]):e.$element().addClass(ao)}_toggleClearFormatting(r){var e=this._toolbarWidgets.getByName("clear");e&&e.option("disabled",!r)}_isColorFormat(r){return r==="color"||r==="background"}_updateColorWidget(r,e){var n=this._toolbarWidgets.getByName(r);n&&n.$element().find(".".concat(yu)).css("borderBottomColor",e||"transparent")}_getFormatWidgetName(r,e){var n;switch(r){case"align":n=r+jn(e[r]);break;case"list":n=e[r]+jn(r);break;case"code-block":n="codeBlock";break;case"script":n=e[r]+r;break;case"imageSrc":n="image";break;default:n=r}return n}_setValueSilent(r,e){this._isReset=!0,r.option("value",e),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((r,e)=>{this._resetFormatWidget(r,e)})}_resetFormatWidget(r,e){e.$element().removeClass(ao),this._isColorFormat(r)&&this._updateColorWidget(r),r==="clear"&&e.option("disabled",!0),e.NAME==="dxSelectBox"&&this._setValueSilent(e,null)}addClickHandler(r,e){this._formatHandlers[r]=e;var n=this._toolbarWidgets.getByName(r);n&&n.NAME==="dxButton"&&n.option("onClick",e)}}}const Cu=Ho;var Fo=Ie;ce&&(Fo=class extends Ie{constructor(r,e){super(r,e);var n=this.editorInstance.NAME;fe.on(this.quill.root,xe("drop",n),this._dropHandler.bind(this)),fe.on(this.quill.root,xe("paste",n),this._pasteHandler.bind(this))}_dropHandler(r){var e,n=r.originalEvent.dataTransfer,R=n==null||(e=n.files)===null||e===void 0?void 0:e.length;this.saveValueChangeEvent(r),r.preventDefault(),R&&this._getImage(n.files,this._addImage.bind(this))}_pasteHandler(r){var e,{clipboardData:n}=r.originalEvent;if(this.saveValueChangeEvent(r),!!n){var R=(e=n.items)===null||e===void 0?void 0:e.length,tt=n.getData("text/html");!tt&&R&&this._getImage(n.items,Tt=>{this._isBrowserSupportImagePaste(Za)||this._addImage(Tt)})}}_isBrowserSupportImagePaste(r){var{mozilla:e,chrome:n,version:R}=r;return e||n&&R>82}_isImage(r){return!!r.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(r,e){var n=en();Pe(r,(R,tt)=>{if(this._isImage(tt)){var Tt=new n.FileReader;Tt.onload=C=>{var{target:t}=C;e(t.result)};var p=tt.getAsFile?tt.getAsFile():tt;p instanceof n.Blob&&Tt.readAsDataURL(p)}})}_addImage(r){var e=this.quill.getSelection(),n=e?e.index:this.quill.getLength();this.quill.insertEmbed(n,"extendedImage",r,"user")}});const Tu=Fo;var Su="dxHtmlEditorPopupModule",Uo=Ie;if(ce){var wu="dx-suggestion-list",Pu="dx-suggestion-list-wrapper",Au=100;Uo=class extends Ie{_getDefaultOptions(){return{dataSource:null}}constructor(r,e){super(r,e),this.options=ue({},this._getDefaultOptions(),e),this._popup=this.renderPopup(),this._popup.$wrapper().addClass(Pu),this._renderPreventFocusOut()}renderList(r,e){var n=Ut("<div>").addClass(wu).appendTo(r);this._list=this.options.editorInstance._createComponent(n,Va,e)}renderPopup(){var r=this.options.editorInstance,e=Ut("<div>").appendTo(r.$element()),n=this._getPopupConfig();return r._createComponent(e,go,n)}_getPopupConfig(){return{contentTemplate:r=>{var e=this._getListConfig(this.options);this.renderList(Ut(r),e)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(r){return{dataSource:r.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var r=en(),e=r&&Mr(r)||0;return Math.max(Au,.5*e)}selectionChangedHandler(r){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(r))}_renderPreventFocusOut(){var r=xe("mousedown",Su);fe.on(this._popup.$wrapper(),r,e=>{e.preventDefault()})}insertEmbedContent(r){}showPopup(){this._popup&&this._popup.show()}savePosition(r){this.caretPosition=r}getPosition(){return this.caretPosition}}}const Wo=Uo;var vn={};if(ce){var xu=ce.import("blots/embed"),Ru="dx-variable";vn=class extends xu{static create(r){var e=super.create(),n,R,tt=r.value;return Array.isArray(r.escapeChar)?(n=ii(r.escapeChar[0],""),R=ii(r.escapeChar[1],"")):n=R=r.escapeChar,e.innerText=n+tt+R,e.dataset.varStartEscChar=n,e.dataset.varEndEscChar=R,e.dataset.varValue=r.value,e}static value(r){return ue({},{value:r.dataset.varValue,escapeChar:[r.dataset.varStartEscChar||"",r.dataset.varEndEscChar||""]})}},vn.blotName="variable",vn.tagName="span",vn.className=Ru}const Iu=vn;var $o=Ie;if(ce){var Nu="dx-variable-format",Lu="dx-format-active";ce.register({"formats/variable":Iu},!0),$o=class extends Wo{_getDefaultOptions(){var r=super._getDefaultOptions();return ue(r,{escapeChar:""})}constructor(r,e){super(r,e);var n=r.getModule("toolbar");n&&n.addClickHandler("variable",this.showPopup.bind(this)),r.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",R=>{var tt=Ut(R.component.option("position").of);tt.hasClass(Nu)&&tt.addClass(Lu)})}showPopup(r){var e=this.quill.getSelection(!0),n=e?e.index:this.quill.getLength();this.savePosition(n),this._resetPopupPosition(r,n),super.showPopup()}_resetPopupPosition(r,e){if(r&&r.element)this._popup.option("position",{of:r.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var n=this.quill.getBounds(e),R=yn(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:n.left,v:n.bottom-R.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(r){var e=this.getPosition(),n=r.component.option("selectedItem"),R=ue({},{value:n,escapeChar:this.options.escapeChar});setTimeout((function(){this.quill.insertEmbed(e,"variable",R),this.quill.setSelection(e+1)}).bind(this))}}}const Mu=$o;var Du="dx-resize-frame",Bu="dx-touch-device",On="dxHtmlResizingModule",lo=xe("keydown",On),ju=xe("scroll",On),ku=xe("mousedown",On),qn=1;class Hu extends Ie{constructor(e,n){super(e,n),this.allowedTargets=n.allowedTargets||["image"],this.enabled=!!n.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){fe.on(this.quill.root,xe(ri,On),this._clickHandler.bind(this)),fe.on(this.quill.root,ju,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){fe.off(this.quill.root,On),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(e){if(this._isAllowedTarget(e.target)){if(this._$target===e.target)return;this._$target=e.target;var n=Ut(this._$target),R=Math.max(Oe(n)-Dr(n),this.resizable.option("minWidth")),tt=Math.max(Cr(n)-Mr(n),this.resizable.option("minHeight"));this.resizable.option({minWidth:R,minHeight:tt}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(e){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(e){return this._isImage(e)}_isImage(e){return this.allowedTargets.indexOf("image")!==-1&&e.tagName.toUpperCase()==="IMG"}showFrame(){this._$resizeFrame.show(),fe.on(this.quill.root,lo,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(e){var n=Ga(e);(n==="del"||n==="backspace")&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),fe.off(this.quill.root,lo)}updateFramePosition(){var{height:e,width:n,top:R,left:tt}=yn(this._$target),{top:Tt,left:p}=yn(this.quill.root),C=this._getBorderWidth();this._$resizeFrame.css({height:e,width:n,padding:qn,top:R-Tt-C-qn,left:tt-p-C-qn}),mn(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:e}=un.current();this._$resizeFrame=Ut("<div>").addClass(Du).toggleClass(Bu,e!=="desktop").appendTo(this.editorInstance._getQuillContainer()).hide(),fe.on(this._$resizeFrame,ku,n=>{n.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,qa,{onResize:n=>{this._$target&&(Ut(this._$target).attr({height:n.height,width:n.width}),this.updateFramePosition())}})}}_deleteImage(){if(this._isAllowedTarget(this._$target)){var e;(e=ce.find(this._$target))===null||e===void 0||e.deleteAt(0)}}option(e,n){if(e==="mediaResizing"){this.handleOptionChangeValue(n);return}e==="enabled"?(this.enabled=n,n?this._attachEvents():this._detachEvents()):e==="allowedTargets"&&Array.isArray(n)&&(this.allowedTargets=n)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var Fu="dx-table-resize-frame",so="dx-htmleditor-column-resizer",uo="dx-htmleditor-row-resizer",Uu={minColumnWidth:40,minRowHeight:24},Wu=2,Xn=3,_i="dxHtmlTableResizingModule",co=xe("dxpointerdown",_i),$u=xe("scroll",_i);class Ku extends Ie{constructor(e,n){super(e,n),this.enabled=!!n.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",n.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",n.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(e){e?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=Ki.add(this._resizeHandler.bind(this))}_minSizeLimit(e,n){return _e(n)?Math.max(n,0):Uu[e]}_applyResizingImpl(){var e=this._findTables();e.length&&(this._fixTablesWidths(e),this._createResizeFrames(e),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){fe.on(this.editorInstance._getContent(),$u,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){fe.off(this.editorInstance._getContent(),_i),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(e,n,R){return(tt,Tt,p)=>{if(this._isTableChanging()){var C=this._findTables();this._removeResizeFrames(),p==="api"&&this._fixTablesWidths(C),this._updateTablesColumnsWidth(C),this._createResizeFrames(C),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(e){var n;return(n=this._framesForTables)===null||n===void 0?void 0:n.get(e.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var e=this._findTables();Pe(e,(n,R)=>{var tt=Ut(R),Tt=this._tableResizeFrames[n],p=Oe(tt),C=this._tableLastWidth(Tt);Math.abs(p-C)>1&&(this._tableLastWidth(Tt,p),this._updateColumnsWidth(tt,n))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return Ut(this._quillContainer).find("table")}_getWidthStyleValue(e){var n=e[0].style.width;return n!==""?parseInt(n):void 0}_tableLastWidth(e,n){if(_e(n))e.lastWidth=n;else return e==null?void 0:e.lastWidth}_fixTablesWidths(e){Pe(e,(n,R)=>{var tt=Ut(R),Tt=this._getTableDeterminantElements(tt,"horizontal");this._tableResizeFrames[n]||(this._tableResizeFrames[n]={lastWidth:void 0});var p=this._getFrameForTable(tt);if(p||this._tableResizeFrames.push({$table:tt}),bn(tt).length===0){var C,{columnsSum:t}=this._getColumnElementsSum(Tt);gn(tt,{quill:this.quill});var y=(C=this._tableLastWidth(p))!==null&&C!==void 0?C:Oe(tt);p&&this._tableLastWidth(p,Math.max(t,y))}})}_createResizeFrames(e){this._framesForTables=new Map,e.each((n,R)=>{var tt,Tt=Ut(R),p=(tt=this._tableResizeFrames[n])===null||tt===void 0?void 0:tt.$table,C=this._tableResizeFrames[n].lastWidth;this._tableResizeFrames[n]={$frame:this._createTableResizeFrame(R),$table:Tt,index:n,lastWidth:p&&R===p.get(0)?C:void 0,columnsCount:this._getTableDeterminantElements(Tt,"horizontal").length,rowsCount:this._getTableDeterminantElements(Tt,"vertical").length},this._framesForTables.set(R,this._tableResizeFrames[n])}),this._tableResizeFrames.length=e.length}_isTableChanging(){var e=this._findTables(),n=!1;return e.length!==this._tableResizeFrames.length?n=!0:Pe(e,(R,tt)=>{var Tt=Ut(tt),p=this._tableResizeFrames[R],C=(p==null?void 0:p.columnsCount)!==this._getTableDeterminantElements(Tt,"horizontal").length,t=(p==null?void 0:p.rowsCount)!==this._getTableDeterminantElements(Tt,"vertical").length;if(C||t)return n=!0,!1}),n}_removeResizeFrames(e){var n;Pe(this._tableResizeFrames,(R,tt)=>{if(tt.$frame){var Tt,p=".".concat(so,", .").concat(uo);this._detachSeparatorEvents((Tt=tt.$frame)===null||Tt===void 0?void 0:Tt.find(p)),tt.$frame.remove()}}),(n=this._framesForTables)===null||n===void 0||n.clear(),e&&(this._tableResizeFrames=[])}_detachSeparatorEvents(e){e.each((n,R)=>{fe.off(R,co)})}_createTableResizeFrame(){return Ut("<div>").addClass(Fu).appendTo(this._quillContainer)}_updateFramesPositions(){Pe(this._tableResizeFrames,(e,n)=>{this._updateFramePosition(n.$table,n.$frame)})}_updateFramePosition(e,n){var{height:R,width:tt,top:Tt,left:p}=yn(e.get(0)),{top:C,left:t}=yn(this.quill.root);n.css({height:R,width:tt,top:Tt-C,left:p-t}),mn(n,{left:0,top:0})}_updateFramesSeparators(e){Pe(this._tableResizeFrames,(n,R)=>{e?this._updateFrameSeparators(R,e):(this._updateFrameSeparators(R,"vertical"),this._updateFrameSeparators(R,"horizontal"))})}_isDraggable(e){return e.hasClass("dx-draggable")&&e.is(":visible")}_removeDraggable(e,n){if(this._isDraggable(e)){var R=Ut(e).dxDraggable("instance");R.dispose(),Ut(e).addClass(n)}}_getDirectionInfo(e){return e==="vertical"?{lineResizerClass:uo,sizeFunction:n=>Cr(n),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:so,sizeFunction:n=>Oe(n),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(e,n){return n.sizeFunction(e)}_updateFrameSeparators(e,n){for(var R=this._getTableDeterminantElements(e.$table,n),tt=R.length,Tt=tt-1,p=this._getDirectionInfo(n),C=e.$frame.find(".".concat(p.lineResizerClass)),t={transform:"none"},y=0,h=0;h<=Tt;h++){y+=this._getSize(R.eq(h),p),_e(C[h])||(C[h]=Ut("<div>").addClass(p.lineResizerClass).appendTo(e.$frame).get(0));var v=Ut(C[h]);this._removeDraggable(v,p.lineResizerClass),t[p.positionCoordinate]=y-Wu,Ut(v).css(t);var b={lineSeparator:C[h],index:h,$determinantElements:R,frame:e,direction:n};this._attachColumnSeparatorEvents(b)}}_getTableDeterminantElements(e,n){return n==="vertical"?e.find("th:first-child, td:first-child"):Un(e)}_attachColumnSeparatorEvents(e){fe.on(e.lineSeparator,co,()=>{this._createDraggableElement(e)})}_dragStartHandler(e){var{$determinantElements:n,index:R,frame:tt,direction:Tt,lineSeparator:p}=e,C=this._getDirectionInfo(Tt);this._isDragging=!0,this._fixColumnsWidth(tt.$table),this._startLineSize=parseInt(this._getSize(Ut(n[R]),C)),this._startTableWidth=Oe(tt.$table),this._startLineSeparatorPosition=parseInt(Ut(p).css(C.positionCoordinate)),this._nextLineSize=0,n[R+1]?this._nextLineSize=parseInt(this._getSize(Ut(n[R+1]),C)):Tt==="horizontal"&&gn(tt.$table,{quill:this.quill})}_shouldRevertOffset(e){return e==="horizontal"&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(e,n,R){if(this._nextLineSize){if(e>=this._minColumnWidth){var tt=this._nextColumnOffsetLimit?R<this._nextColumnOffsetLimit:R<0,Tt=Math.abs(this._getWidthStyleValue(n)-Oe(n))>Xn;return tt||!Tt}}else return!0;return!1}_shouldSetNextColumnWidth(e){return this._nextLineSize&&e>0}_horizontalDragHandler(e){var{currentLineNewSize:n,directionInfo:R,eventOffset:tt,$determinantElements:Tt,index:p,frame:C}=e,t=this._nextLineSize&&this._nextLineSize-tt,y=n>=this._minColumnWidth,h=vr(C.$table,p),v=vr(C.$table,p+1),b=Oe(h.eq(0))-n;if(y)if(this._isNextColumnWidthEnough(t,Tt.eq(p+1),tt)){Ge(this,{elements:h,property:R.positionStyleProperty,value:n}),this._shouldSetNextColumnWidth(t)&&Ge(this,{elements:v,property:R.positionStyleProperty,value:t});var D=Math.abs(this._startTableWidth-Oe(C.$table))<Xn,M=Math.abs(b)>Xn||!this._nextLineSize&&D;M&&(Ge(this,{elements:h,property:R.positionStyleProperty,value:Oe(h.eq(0))}),t+=n-Oe(h.eq(0)),this._shouldSetNextColumnWidth(t)&&Ge(this,{elements:v,property:R.positionStyleProperty,value:t}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||tt;this._$highlightedElement.css(R.positionCoordinate,this._startLineSeparatorPosition+tt+b+"px")}_verticalDragHandler(e){var{currentLineNewSize:n,directionInfo:R,eventOffset:tt,$determinantElements:Tt,index:p,frame:C}=e,t=Math.max(n,this._minRowHeight),y=vr(C.$table,p,"vertical");Ge(this,{elements:y,property:R.positionStyleProperty,value:t});var h=Cr(Tt.eq(p))-n;this._$highlightedElement.css(R.positionCoordinate,this._startLineSeparatorPosition+tt+h+"px")}_dragMoveHandler(e,n){var{$determinantElements:R,index:tt,frame:Tt,direction:p}=n,C=this._getDirectionInfo(p),t=e.offset[C.positionCoordinateName];this.editorInstance._saveValueChangeEvent(e),this._shouldRevertOffset(p)&&(t=-t);var y=this._startLineSize+t;p==="horizontal"?this._horizontalDragHandler({currentLineNewSize:y,directionInfo:C,eventOffset:t,$determinantElements:R,index:tt,frame:Tt}):this._verticalDragHandler({currentLineNewSize:y,directionInfo:C,eventOffset:t,$determinantElements:R,index:tt,frame:Tt}),this._updateFramePosition(Tt.$table,Tt.$frame)}_dragEndHandler(e){var n;(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(e.frame,Oe(e.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(e){var{$determinantElements:n,index:R}=e;return!_e(n[R+1])}_getBoundaryConfig(e){var n={};if(e.direction==="vertical")n.boundary=e.frame.$table,n.boundOffset={bottom:bo()?-Mr(en()):-Cr(this._quillContainer),top:0,left:0,right:0};else if(!this._isLastColumnResizing(e))n.boundary=e.frame.$table;else{var R=this.editorInstance._getContent();n.boundary=R,n.boundOffset={bottom:0,top:0,left:R.css("paddingLeft"),right:R.css("paddingRight")}}return n}_createDraggableElement(e){var n,R=this._getBoundaryConfig(e),tt=e.direction==="vertical"?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._$highlightedElement=Ut("<div>").addClass("".concat(tt)).insertAfter(Ut(e.lineSeparator));var Tt={contentTemplate:null,allowMoveByClick:!1,dragDirection:e.direction,onDragMove:p=>{var{component:C,event:t}=p;this._dragMoveHandler(t,e)},onDragStart:()=>{this._dragStartHandler(e)},onDragEnd:()=>{this._dragEndHandler(e)}};ue(Tt,R),this._currentDraggableElement=this.editorInstance._createComponent(e.lineSeparator,Dn,Tt)}_fixColumnsWidth(e){var n=this._getTableDeterminantElements(e);Pe(n,(R,tt)=>{var Tt=Oe(tt),p=vr(e,R);Ge(this,{elements:p,property:"width",value:Math.max(Tt,this._minColumnWidth)})})}_getColumnElementsSum(e){var n=[],R=0;return Pe(e,(tt,Tt)=>{var p=Ut(Tt),C=this._getWidthStyleValue(p)||Oe(p);n[tt]=Math.max(C,this._minColumnWidth),R+=n[tt]}),{columnsWidths:n,columnsSum:R}}_setColumnsRatioWidth(e,n,R,tt){Pe(e,Tt=>{var p=vr(tt,Tt),C;n>0?C=this._minColumnWidth+Math.round((R[Tt]-this._minColumnWidth)*n):C=this._minColumnWidth,Ge(this,{elements:p,property:"width",value:C})})}_updateColumnsWidth(e,n){var R=this._getTableDeterminantElements(e),tt=this._tableResizeFrames[n];tt||(this._tableResizeFrames[n]={}),tt=this._tableResizeFrames[n];var Tt=this._tableLastWidth(tt)||Oe(e),p,{columnsWidths:C,columnsSum:t}=this._getColumnElementsSum(R),y=R.length*this._minColumnWidth;t>y?p=(Tt-y)/(t-y):p=-1,this._tableLastWidth(tt,p>0?Tt:y),this._setColumnsRatioWidth(R,p,C,e)}_updateTablesColumnsWidth(e){Pe(e,(n,R)=>{this._updateColumnsWidth(Ut(R),n)})}option(e,n){if(e==="tableResizing"){this.handleOptionChangeValue(n);return}e==="enabled"?(this.enabled=n,n?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(e)&&(this["_".concat(e)]=this._minSizeLimit(e,n))}clean(){this._removeResizeFrames(!0),this._detachEvents(),Ki.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}var zu="dxHtmlEditorTableContextMenu",fo=xe("dxcontextmenu",zu),Ko=Ie,Qn=r=>Qt.format("dxHtmlEditor-".concat(Fn(r)));ce&&(Ko=class extends Ie{constructor(r,e){super(r,e),this.enabled=!!e.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=ko(this),this._tableFormats=Ao(r),this.enabled&&this._enableContextMenu(e.items)}_enableContextMenu(r){var e;(e=this._contextMenu)===null||e===void 0||e.dispose(),this._contextMenu=this._createContextMenu(r),this._attachEvents()}_attachEvents(){fe.on(this.editorInstance._getContent(),fo,this._prepareContextMenuHandler())}_detachEvents(){fe.off(this.editorInstance._getContent(),fo)}_createContextMenu(r){var e=Ut("<div>").appendTo(this.editorInstance.$element()),n=this._getMenuConfig(r);return this.editorInstance._createComponent(e,Xa,n)}showPropertiesForm(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cell",e=Ut(this._targetElement).closest(r==="cell"?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(r,"Properties")](e),this._targetElement=null}_isAcceptableItem(r,e){return!r||r===e}_handleObjectItem(r){if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var e=this._prepareMenuItemConfig(r.name),n=ue(!0,e,r);return n}else return r.items&&(r.items=this._prepareMenuItems(r.items)),r}_prepareMenuItemConfig(r){var e,n,R=(e=jo[r])!==null&&e!==void 0?e:r,tt=jn(r);return{text:Qn(tt),icon:R.toLowerCase(),onClick:(n=this._formatHandlers[r])!==null&&n!==void 0?n:bi(this,r)}}_prepareMenuItems(r){var e=[];return Pe(r,(n,R)=>{var tt;tn(R)?tt=this._handleObjectItem(R):vi(R)&&(tt=this._prepareMenuItemConfig(R)),tt&&e.push(tt)}),e}_getMenuConfig(r){var e=[{text:Qn("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",ue(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:Qn("delete"),items:["deleteColumn","deleteRow","deleteTable"]},ue(this._prepareMenuItemConfig("cellProperties"),{onClick:R=>{this.showPropertiesForm("cell")}}),ue(this._prepareMenuItemConfig("tableProperties"),{onClick:R=>{this.showPropertiesForm("table")}})],n=this._prepareMenuItems(r!=null&&r.length?r:e);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:n}}_prepareContextMenuHandler(){return r=>{this._isTableTarget(r.target)&&(this._targetElement=r.target,this._setContextMenuPosition(r),this._contextMenu.show(),r.preventDefault())}}_setContextMenuPosition(r){var e=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:r.clientX-e.left,y:r.clientY-e.top}}})}_isTableTarget(r){return!!Ut(r).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(r,e){if(r==="tableContextMenu"){this.handleOptionChangeValue(e);return}if(r==="enabled")this.enabled=e,e?this._enableContextMenu():this.clean();else if(r==="items"){var n;(n=this._contextMenu)===null||n===void 0||n.dispose(),this._contextMenu=this._createContextMenu(e)}}prepareCleanCallback(){return()=>{this.clean()}}});const Zu=Ko;var Yn="dxHtmlEditorImageUpload",Vu="dx-htmleditor-hidden-content",zo=Ie;ce&&(zo=class extends Ie{constructor(r,e){super(r,e),this.options=e,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){var r=_e(this.options.fileUploadMode)&&this.options.fileUploadMode!=="base64";r?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var r;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),(r=this._fileUploader)===null||r===void 0||r.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){var r=Ut("<div>").addClass(Vu).appendTo(this._quillContainer),e=ue({},Lo(),{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(r,Eo,e),r}_onUploaded(r){var e,{index:n}=(e=this.quill.getSelection())!==null&&e!==void 0?e:{index:this.quill.getLength()};Do(this.options.uploadDirectory,r.file.name,this.quill,n)}_attachEvents(){fe.on(this.quill.root,xe("drop",Yn),this._dropHandler.bind(this)),fe.on(this.quill.root,xe("paste",Yn),this._pasteHandler.bind(this))}_detachEvents(){fe.off(this.quill.root,Yn)}_dropHandler(r){this._handleInsertImages(r,"dataTransfer")}_pasteHandler(r){this._handleInsertImages(r,"clipboardData")}_handleInsertImages(r,e){this.saveValueChangeEvent(r);var n=Array.from(r.originalEvent[e].files||[]),R=n;R.length&&(r.preventDefault(),r.stopPropagation(),this._fileUploader.option("value",R),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(r,e){switch(r){case"imageUpload":this.handleOptionChangeValue(e);break;case"fileUploadMode":this.options.fileUploadMode=e,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(e)}}});const Gu=zo;var qu="dxHtmlEditorImageCursor",ho=xe("dxclick",qu),Zo=Ie;ce&&(Zo=class extends Ie{constructor(r,e){super(r,e),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){fe.on(this.quill.root,ho,this._clickHandler.bind(this))}_detachEvents(){fe.off(this.quill.root,ho)}_clickHandler(r){this._isAllowedTarget(r.target)&&this._adjustSelection(r)}_isAllowedTarget(r){return this._isImage(r)}_isImage(r){return r.tagName.toUpperCase()==="IMG"}_adjustSelection(r){var e=this.quill.scroll.find(r.target);if(e){var n=e.offset(this.quill.scroll);this.quill.setSelection(n+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const Xu=Zo;class Qu{constructor(){this._storage={}}set(e,n){var R,tt,{editorKey:Tt,marker:p}=e;(tt=(R=this._storage)[Tt])!==null&&tt!==void 0||(R[Tt]={}),this._storage[Tt][p]=n}get(e){var n,R,{editorKey:tt,marker:Tt}=e,p=!_e(tt);return p?(n=Object.values(this._storage).at(-1))===null||n===void 0?void 0:n[Tt]:(R=this._storage[tt])===null||R===void 0?void 0:R[Tt]}delete(e){var{editorKey:n,marker:R}=e;this._storage[n]&&(delete this._storage[n][R],Bn(this._storage[n])&&delete this._storage[n])}}var sn={};if(ce){var Yu=ce.import("blots/embed"),Ju="dx-mention";sn=class fi extends Yu{constructor(e,n){super(e,n),this.renderContent(this.contentNode,fi.value(n))}static create(e){var n=super.create();return n.setAttribute("spellcheck",!1),n.dataset.marker=e.marker,n.dataset.mentionValue=e.value,n.dataset.id=e.id,n}static value(e){return{marker:e.dataset.marker,id:e.dataset.id,value:e.dataset.mentionValue}}renderContent(e,n){var R=fi._templatesStorage.get({editorKey:n.keyInTemplateStorage,marker:n.marker});R?R.render({model:n,container:e}):this.baseContentRender(e,n)}baseContentRender(e,n){var R=Ut("<span>").text(n.marker);Ut(e).append(R).append(n.value)}static addTemplate(e,n){this._templatesStorage.set(e,n)}static removeTemplate(e){this._templatesStorage.delete(e)}},sn.blotName="mention",sn.tagName="span",sn.className=Ju,sn._templatesStorage=new Qu}const Jn=sn;var Vo=Ie;if(ce){var tc="user",ec="@",$e={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},rc=[$e.ARROW_LEFT,$e.ARROW_RIGHT,$e.PAGE_UP,$e.PAGE_DOWN,$e.END,$e.HOME],nc=[" ",`
`],ic="dx-state-disabled";ce.register({"formats/mention":Jn},!0),Vo=class extends Wo{_getDefaultOptions(){var r=super._getDefaultOptions();return ue(r,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}constructor(r,e){super(r,e),this._mentions={},e.mentions.forEach(n=>{var R=n.marker;R||(n.marker=R=ec);var tt=n.template;if(tt){var Tt=this.editorInstance._getTemplate(tt);Tt&&Jn.addTemplate({marker:R,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},Tt)}this._mentions[R]=ue({},this._getDefaultOptions(),n)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:$e.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:$e.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[$e.ENTER,$e.SPACE]},this._selectItemHandler.bind(this));var r=this.quill.keyboard.bindings[$e.ENTER];r.unshift(r.pop()),this.quill.keyboard.addBinding({key:$e.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[$e.ARROW_LEFT,$e.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:rc},this._ignoreKeyHandler.bind(this))}_moveToItem(r){var e=this._list.getDataSource();if(this._isMentionActive&&!e.isLoading()){var n=Ut(this._list.option("focusedElement")),R=r==="next"?"first":"last",tt=n[r]();tt=tt.length?tt:this._activeListItems[R](),this._list.option("focusedElement",oi(tt)),this._list.scrollToItem(tt)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(r,e,n){return r>n?e:r<e?n:r}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(r,e){this.compileGetters(this.options),super.renderList(r,e)}compileGetters(r){var{displayExpr:e,valueExpr:n}=r;this._valueGetter=zi(e),this._idGetter=zi(n)}_getListConfig(r){var e=super._getListConfig(r);return ue(e,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var r=this._activeMentionConfig.marker.length,e=r+this._searchValue.length,n=this.getPosition(),R=this._list.option("selectedItem"),tt={value:this._valueGetter(R),id:this._idGetter(R),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},Tt=ce.import("delta"),p=Math.max(0,n-r),C=new Tt().retain(p).delete(e).insert({mention:tt}).insert(" ");this.quill.updateContents(C),this.quill.setSelection(p+2)}_getLastInsertOperation(r){var e=r[r.length-1],n="insert"in e;if(n)return e;var R="delete"in e;if(R&&r.length>=2){var tt=r[r.length-2],Tt="insert"in tt,p=R&&Tt;if(p)return tt}return null}onTextChange(r,e,n){if(n===tc){var R=r.ops[r.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(R)&&this._filterList(this._searchValue);else{var{ops:tt}=r,Tt=this._getLastInsertOperation(tt);Tt&&this.checkMentionRequest(Tt,tt)}}}get _isPopupVisible(){var r;return(r=this._popup)===null||r===void 0?void 0:r.option("visible")}_processSearchValue(r){var e="insert"in r;if(e)this._searchValue+=r.insert;else{if(!this._searchValue.length||r.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(r,e){var{insert:n}=r,R=this.quill.getSelection();if(!(!n||!vi(n)||!R||this._isMarkerPartOfText(e[0].retain))&&(this._activeMentionConfig=this._mentions[n],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var tt=R.index&&this._getCharByIndex(R.index-1)===`
`;this.savePosition(R.index+tt),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(r){return!(!r||nc.indexOf(this._getCharByIndex(r-1))!==-1)}_getCharByIndex(r){return this.quill.getContents(r,1).ops[0].insert}_updateList(r){var{dataSource:e,displayExpr:n,valueExpr:R,itemTemplate:tt,searchExpr:Tt}=r;this.compileGetters({displayExpr:n,valueExpr:R}),this._list.unselectAll(),this._list.option({dataSource:e,displayExpr:n,itemTemplate:tt,searchExpr:Tt})}_filterList(r){if(!this._isMinSearchLengthExceeded(r)){this._resetFilter();return}var e=this._activeMentionConfig.searchTimeout;e?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(r)},e)):this._search(r)}_isMinSearchLengthExceeded(r){return r.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(r){this._hasSearch=!0,this._list.option("searchValue",r)}_focusFirstElement(){if(this._list){var r=this._activeListItems.first();this._list.option("focusedElement",oi(r)),this._list.scrollToItem(r)}}get _popupPosition(){var r=this.getPosition(),{left:e,top:n,height:R}=this.quill.getBounds(r&&r-1),{left:tt,top:Tt}=Ut(this.quill.root).offset(),p=fe.Event("positionEvent",{pageX:tt+e,pageY:Tt+n});return{of:p,offset:{v:R},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return ue(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat(ic,")"))}clean(){Object.keys(this._mentions).forEach(r=>{this._mentions[r].template&&Jn.removeTemplate({marker:r,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const oc=Vo;class Hn{constructor(){if(!Hn.initialized){var e=this.getQuill(),n=e.import("attributors/style/direction");e.register({"formats/align":xl,"formats/direction":n,"formats/font":Pl,"formats/size":Al,"formats/extendedImage":Tl,"formats/link":wl,"modules/toolbar":Cu,"modules/dropImage":Tu,"modules/variables":Mu,"modules/resizing":Hu,"modules/tableResizing":Ku,"modules/tableContextMenu":Zu,"modules/imageUpload":Gu,"modules/imageCursor":Xu,"modules/mentions":oc,"themes/basic":El},!0),this._customModules=[],Hn._initialized=!0}}createEditor(e,n){var R=this.getQuill();return new R(e,n)}registerModules(e){var n=RegExp("modules/*"),R=this.getQuill(),tt=p=>!!R.imports[p];for(var Tt in e)n.test(Tt)&&!tt(Tt)&&this._customModules.push(Tt.slice(8));R.register(e,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return To()}}class ac{constructor(){this._converters={}}addConverter(e,n){this._converters[e]=n}getConverter(e){return this._converters[e]}}var di=new ac;class lc{setQuillInstance(e){this.quillInstance=e}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var e=this.quillInstance.getContents();return e.length()===1&&this._isDeltaEmpty(e)}_isDeltaEmpty(e){return e.reduce((n,R)=>{var{insert:tt}=R;return tt.indexOf(`
`)!==-1})}}di.addConverter("delta",lc);function sc(r){var e=r[1];return e.match(/\S+\./)?"ordered":"bullet"}function uc(r){var e=r.getAttribute("style");if(e){var n=e.replace(/\n+/g,"").match(/level(\d+)/);return n?n[1]-1:0}else return!1}function cc(r){var e=r[r.length-1];e.insert=e.insert.trim()}var fc=r=>{var e=r.import("delta");return(n,R)=>{var tt=R.ops.slice(),Tt=tt[0];Tt.insert=Tt.insert.replace(/^\s+/,"");var p=Tt.insert.match(/^(\S+)\s+/),C=p&&uc(n);return!p||C===!1?R:(Tt.insert=Tt.insert.substring(p[0].length,Tt.insert.length),cc(tt),tt.push({insert:`
`,attributes:{list:sc(p),indent:C}}),new e(tt))}},po="dx-formdialog",dc="dx-formdialog-form";class hc{constructor(e,n){this._editorInstance=e,this._popupUserConfig=n,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var e=this._editorInstance,n=Ut("<div>").addClass(po).appendTo(e.$element()),R=this._getPopupConfig();return e._createComponent(n,go,R)}_attachOptionChangedHandler(){var e;(e=this._popup)===null||e===void 0||e.on("optionChanged",n=>{var{name:R,value:tt}=n;R==="title"&&this._updateFormLabel(tt)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(e){e.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var e=bo()?Qa():null;return un.real().deviceType==="phone"||e==="xs"}_getPopupConfig(){return ue({onInitialized:e=>{this._popup=e.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:e=>{var n=Ut("<div>").appendTo(e);this._renderForm(n,{onEditorEnterKey:R=>this.callAddButtonAction(R.event),customizeItem:R=>{R.itemType==="simple"&&(R.editorOptions=ue(!0,{},R.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("OK"),onClick:e=>this.callAddButtonAction(e.event)}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("Cancel"),onClick:()=>{this._popup.hide()}}}],_wrapperClassExternal:po},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(e){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),e)}_renderForm(e,n){e.addClass(dc),this._form=this._editorInstance._createComponent(e,yo,n),this._updateFormLabel()}_updateFormLabel(e){var n,R=e??this.popupOption("title");(n=this._form)===null||n===void 0||n.$element().attr("aria-label",R)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:Ya()?"top":"left"}}formOption(e,n){return this._form.option.apply(this._form,arguments)}show(e){if(!this._popup.option("visible")){this.deferred=new _o;var n=ue(this._getDefaultFormOptions(),e);return this._form.option(n),this._popup.show(),this.deferred.promise()}}hide(e,n){this.deferred.resolve(e,n),this._popup.hide()}popupOption(e,n){return this._popup.option.apply(this._popup,arguments)}}var pc="dx-htmleditor",vc="dx-quill-container",mc="ql-clipboard",yc="dx-htmleditor-submit-element",gc="dx-htmleditor-content",Mn="markdown",ti="htmlContent",bc=un.current().platform==="ios",_c=0,Go=vo.inherit({_getDefaultOptions:function(){return ue(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:Ja().editorStylingMode||"outlined"})},_init:function(){this._mentionKeyInTemplateStorage=_c++,this.callBase(),this._cleanCallback=Zi(),this._contentInitializedCallback=Zi()},_getAnonymousTemplateName:function(){return ti},_initTemplates:function(){this._templateManager.addDefaultTemplates({[ti]:new tl}),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat(gc))},_focusInHandler:function(r){var{relatedTarget:e}=r;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(r){var{relatedTarget:e}=r;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(r){return Ut(r).hasClass(mc)},_initMarkup:function(){this._$htmlContainer=Ut("<div>").addClass(vc),this.$element().attr("role","application").addClass(pc).wrapInner(this._$htmlContainer),this._renderStylingMode();var r=this._getTemplate(ti);this._$templateResult=r&&r.render({container:oi(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderSubmitElement:function(){this._$submitElement=Ut("<textarea>").addClass(yc).attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(r){this._getSubmitElement().val(r)},_getSubmitElement:function(){return this._$submitElement},_createNoScriptFrame:function(){return Ut("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})},_removeXSSVulnerableHtml:function(r){var e=this._createNoScriptFrame().appendTo("body"),n=e.get(0),R=n.contentWindow,tt=R.document,Tt=tt.body;Tt.innerHTML=r;var p=t=>{if(t.attributes)for(var y=0;y<t.attributes.length;y++){var h=t.attributes[y].name;h.startsWith("on")&&t.removeAttribute(h)}if(t.childNodes)for(var v=0;v<t.childNodes.length;v++)p(t.childNodes[v])};p(Tt),Tt.querySelectorAll("script").forEach(t=>{t.remove()});var C=Tt.innerHTML;return e.remove(),C},_updateContainerMarkup:function(){var r=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),r=this._markdownConverter.toHtml(r)),r){var e=this._removeXSSVulnerableHtml(r);this._$htmlContainer.html(e)}},_prepareMarkdownConverter:function(){var r=di.getConverter("markdown");if(r)this._markdownConverter=new r;else throw hi.Error("E1051","markdown")},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new Hn)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var r=di.getConverter("delta");r&&(this._deltaConverter=new r)}this.option("valueType")===Mn&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new _o;var r=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),r},_pointerMoveHandler:function(r){bc&&r.stopPropagation()},_attachFocusEvents:function(){el(this.callBase.bind(this))},_addKeyPressHandler:function(){var r=xe("keydown","".concat(this.NAME,"TextChange"));fe.on(this._$htmlContainer,r,this._keyDownHandler.bind(this))},_keyDownHandler:function(r){this._saveValueChangeEvent(r)},_renderHtmlEditor:function(){var r=this.option("customizeModules"),e=this._getModulesConfig();rl(r)&&r(e),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:e,theme:"basic"}),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=nl(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var r=this._getContent(),e=il(r);fe.on(r,xe(ol.init,this.NAME),e,al),fe.on(r,xe(ll.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var r=this.option("value");if(!_e(r)){var e=this._deltaConverter.toHtml(),n=this._quillInstance.clipboard.convert({html:e});if(n.ops.length){this._quillInstance.setContents(n);return}}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var r=this._getRegistrator().getQuill(),e=fc(r),n=ue({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:R=>this._saveValueChangeEvent(Rn(R)),imageBlot:"extendedImage"},keyboard:{onKeydown:R=>this._saveValueChangeEvent(Rn(R))},clipboard:{onPaste:R=>this._saveValueChangeEvent(Rn(R)),onCut:R=>this._saveValueChangeEvent(Rn(R)),matchers:[["p.MsoListParagraphCxSpFirst",e],["p.MsoListParagraphCxSpMiddle",e],["p.MsoListParagraphCxSpLast",e]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules());return n},_getModuleConfigByOption:function(r){var e=this.option(r),n={};if(_e(e))return Array.isArray(e)?n[r]=e:n=e,ue(this._getBaseModuleConfig(),n)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var r={},e=this._getRegistrator().getRegisteredModuleNames();return e.forEach(n=>{r[n]=this._getBaseModuleConfig()}),r},_textChangeHandler:function(r,e,n){var R=this._deltaConverter.toHtml(),tt=this._isMarkdownValue()?this._updateValueByType(Mn,R):R,Tt=this.option("value");Tt!==tt&&!this._isNullValueConverted(Tt,tt)&&(this._isEditorUpdating=!0,this.option("value",tt)),this._finalizeContentRendering()},_isNullValueConverted:function(r,e){return r===null&&e===""},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(r,e){var n=this._markdownConverter;if(_e(n)){var R=ii(e,this.option("value"));return r===Mn?n.toMarkdown(R):n.toHtml(R)}},_isMarkdownValue:function(){return this.option("valueType")===Mn},_resetEnabledState:function(){if(this._quillInstance){var r=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(r)}},_renderFormDialog:function(){var r=ue(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new hc(this,r)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_prepareModuleOptions(r){var e,n=(e=r.fullName)===null||e===void 0?void 0:e.split("."),R=r.value,tt=n.length>=2?n[1]:r.name;return n.length===3&&(R={[n[2]]:R}),[tt,R]},_moduleOptionChanged:function(r,e){var n=this.getModule(r),R=!!n;R?n.option(...this._prepareModuleOptions(e)):this._invalidate()},_optionChanged:function(r){switch(r.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var e=this._isMarkdownValue()?this._updateValueByType("HTML",r.value):r.value;this._suppressValueChangeAction(),this._updateHtmlContent(e),this._resumeValueChangeAction()}else this._$htmlContainer.html(r.value);var n=this.option("value");n!==r.previousValue&&(this._setSubmitValue(n),this.callBase(mo({},r,{value:n})));break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",r);break;case"valueType":this._prepareConverters();var R=this._updateValueByType(r.value);r.value==="html"&&this._quillInstance?this._updateHtmlContent(R):this.option("value",R);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(r),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",r);break;case"mediaResizing":!r.previousValue||!r.value?this._invalidate():this.getModule("resizing").option(r.name,r.value);break;case"width":this.callBase(r),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",r);break;default:this.callBase(r)}},_repaintToolbar:function(){this._applyToolbarMethod("repaint")},_updateHtmlContent:function(r){var e=this._quillInstance.clipboard.convert({html:r});this._quillInstance.setContents(e)},_clean:function(){this._quillInstance&&(fe.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(r,e){if(this._quillInstance)return this._quillInstance[r].apply(this._quillInstance,e)},_applyQuillHistoryMethod(r){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[r]()},_applyToolbarMethod(r){var e;(e=this.getModule("toolbar"))===null||e===void 0||e[r]()},addCleanCallback(r){this._cleanCallback.add(r)},addContentInitializedCallback(r){this._contentInitializedCallback.add(r)},register:function(r){this._getRegistrator().registerModules(r),this._quillInstance&&this.repaint()},get:function(r){return this._getRegistrator().getQuill().import(r)},getModule:function(r){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(r){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(r,e){this._applyQuillMethod("setSelection",arguments)},getText:function(r,e){return this._applyQuillMethod("getText",arguments)},format:function(r,e){this._applyQuillMethod("format",arguments)},formatText:function(r,e,n,R){this._applyQuillMethod("formatText",arguments)},formatLine:function(r,e,n,R){this._applyQuillMethod("formatLine",arguments)},getFormat:function(r,e){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(r,e){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(r,e){return this._applyQuillMethod("getBounds",arguments)},delete:function(r,e){this._applyQuillMethod("deleteText",arguments)},insertText:function(r,e,n){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(r,e,n){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(r){return this._formDialog.show(r)},formDialogOption:function(r,e){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")},getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}});pi("dxHtmlEditor",Go);const Oc=Object.freeze(Object.defineProperty({__proto__:null,default:Go},Symbol.toStringTag,{value:"Module"})),Ec=sl(Oc);/*!
 * devextreme-vue
 * Version: 22.2.12
 * Build date: Mon Apr 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var Cc=ei&&ei.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pe,"__esModule",{value:!0});pe.DxVariables=pe.DxToolbarItem=pe.DxToolbar=pe.DxTableResizing=pe.DxTableContextMenuItem=pe.DxTableContextMenu=pe.DxTab=pe.DxMention=pe.DxMediaResizing=pe.DxItem=pe.DxImageUpload=pe.DxFileUploaderOptions=pe.DxHtmlEditor=void 0;var Tc=Cc(Ec),Sc=Oo,qe=Oo,qo=Sc.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowSoftLineBreak:Boolean,customizeModules:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,imageUpload:Object,isValid:Boolean,mediaResizing:Object,mentions:Array,name:String,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,tableContextMenu:Object,tableResizing:Object,toolbar:Object,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:{},valueType:String,variables:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSoftLineBreak":null,"update:customizeModules":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:imageUpload":null,"update:isValid":null,"update:mediaResizing":null,"update:mentions":null,"update:name":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:tableContextMenu":null,"update:tableResizing":null,"update:toolbar":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:valueType":null,"update:variables":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=Tc.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={imageUpload:{isCollectionItem:!1,optionName:"imageUpload"},mediaResizing:{isCollectionItem:!1,optionName:"mediaResizing"},mention:{isCollectionItem:!0,optionName:"mentions"},tableContextMenu:{isCollectionItem:!1,optionName:"tableContextMenu"},tableResizing:{isCollectionItem:!1,optionName:"tableResizing"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},variables:{isCollectionItem:!1,optionName:"variables"}}}});pe.DxHtmlEditor=qo;var Xo=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:abortUpload":null,"update:accept":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowCanceling":null,"update:allowedFileExtensions":null,"update:bindingOptions":null,"update:chunkSize":null,"update:dialogTrigger":null,"update:disabled":null,"update:dropZone":null,"update:elementAttr":null,"update:extendSelection":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:invalidFileExtensionMessage":null,"update:invalidMaxFileSizeMessage":null,"update:invalidMinFileSizeMessage":null,"update:isValid":null,"update:labelText":null,"update:maxFileSize":null,"update:minFileSize":null,"update:multiple":null,"update:name":null,"update:onBeforeSend":null,"update:onContentReady":null,"update:onDisposing":null,"update:onDropZoneEnter":null,"update:onDropZoneLeave":null,"update:onFilesUploaded":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onProgress":null,"update:onUploadAborted":null,"update:onUploaded":null,"update:onUploadError":null,"update:onUploadStarted":null,"update:onValueChanged":null,"update:progress":null,"update:readOnly":null,"update:readyToUploadMessage":null,"update:rtlEnabled":null,"update:selectButtonText":null,"update:showFileList":null,"update:stylingMode":null,"update:tabIndex":null,"update:uploadAbortedMessage":null,"update:uploadButtonText":null,"update:uploadChunk":null,"update:uploadCustomData":null,"update:uploadedMessage":null,"update:uploadFailedMessage":null,"update:uploadFile":null,"update:uploadHeaders":null,"update:uploadMethod":null,"update:uploadMode":null,"update:uploadUrl":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:visible":null,"update:width":null},props:{abortUpload:Function,accept:String,accessKey:String,activeStateEnabled:Boolean,allowCanceling:Boolean,allowedFileExtensions:Array,bindingOptions:Object,chunkSize:Number,dialogTrigger:{},disabled:Boolean,dropZone:{},elementAttr:Object,extendSelection:Boolean,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},invalidFileExtensionMessage:String,invalidMaxFileSizeMessage:String,invalidMinFileSizeMessage:String,isValid:Boolean,labelText:String,maxFileSize:Number,minFileSize:Number,multiple:Boolean,name:String,onBeforeSend:Function,onContentReady:Function,onDisposing:Function,onDropZoneEnter:Function,onDropZoneLeave:Function,onFilesUploaded:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onProgress:Function,onUploadAborted:Function,onUploaded:Function,onUploadError:Function,onUploadStarted:Function,onValueChanged:Function,progress:Number,readOnly:Boolean,readyToUploadMessage:String,rtlEnabled:Boolean,selectButtonText:String,showFileList:Boolean,stylingMode:String,tabIndex:Number,uploadAbortedMessage:String,uploadButtonText:String,uploadChunk:Function,uploadCustomData:{},uploadedMessage:String,uploadFailedMessage:String,uploadFile:Function,uploadHeaders:{},uploadMethod:String,uploadMode:String,uploadUrl:String,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:Array,visible:Boolean,width:[Function,Number,String]}});pe.DxFileUploaderOptions=Xo;Xo.$_optionName="fileUploaderOptions";var Oi=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fileUploaderOptions":null,"update:fileUploadMode":null,"update:tabs":null,"update:uploadDirectory":null,"update:uploadUrl":null},props:{fileUploaderOptions:Object,fileUploadMode:String,tabs:Array,uploadDirectory:String,uploadUrl:String}});pe.DxImageUpload=Oi;Oi.$_optionName="imageUpload";Oi.$_expectedChildren={fileUploaderOptions:{isCollectionItem:!1,optionName:"fileUploaderOptions"},tab:{isCollectionItem:!0,optionName:"tabs"}};var Ei=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});pe.DxItem=Ei;Ei.$_optionName="items";Ei.$_isCollectionItem=!0;var Qo=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedTargets":null,"update:enabled":null},props:{allowedTargets:Array,enabled:Boolean}});pe.DxMediaResizing=Qo;Qo.$_optionName="mediaResizing";var Ci=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:displayExpr":null,"update:itemTemplate":null,"update:marker":null,"update:minSearchLength":null,"update:searchExpr":null,"update:searchTimeout":null,"update:template":null,"update:valueExpr":null},props:{dataSource:{},displayExpr:[Function,String],itemTemplate:{},marker:String,minSearchLength:Number,searchExpr:[Array,Function,String],searchTimeout:Number,template:{},valueExpr:[Function,String]}});pe.DxMention=Ci;Ci.$_optionName="mentions";Ci.$_isCollectionItem=!0;var Ti=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:name":null},props:{name:String}});pe.DxTab=Ti;Ti.$_optionName="tabs";Ti.$_isCollectionItem=!0;var Si=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});pe.DxTableContextMenu=Si;Si.$_optionName="tableContextMenu";Si.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},tableContextMenuItem:{isCollectionItem:!0,optionName:"items"}};var wi=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,html:String,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});pe.DxTableContextMenuItem=wi;wi.$_optionName="items";wi.$_isCollectionItem=!0;var Yo=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:minColumnWidth":null,"update:minRowHeight":null},props:{enabled:Boolean,minColumnWidth:Number,minRowHeight:Number}});pe.DxTableResizing=Yo;Yo.$_optionName="tableResizing";var Pi=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:container":null,"update:items":null,"update:multiline":null},props:{container:{},items:Array,multiline:Boolean}});pe.DxToolbar=Pi;Pi.$_optionName="toolbar";Pi.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var Ai=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});pe.DxToolbarItem=Ai;Ai.$_optionName="items";Ai.$_isCollectionItem=!0;var Jo=qe.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:escapeChar":null},props:{dataSource:{},escapeChar:[Array,String]}});pe.DxVariables=Jo;Jo.$_optionName="variables";pe.default=qo;const wc={class:"content-block dx-card responsive-paddings"},Ic={__name:"Faqs",setup(r){const e=vl(),{t:n}=ul(),R=Zn("mt"),tt=Zn("mf"),Tt=Zn("routeHistoryState"),p=Vi(null),C=Vi(null),t=cl({gridData:null,validationRules:{topic:[{type:"required",message:n("settings.faqs.topic")+R.validations.required}],question:[{type:"required",message:n("settings.faqs.question")+R.validations.required}],answer:[{type:"required",message:n("settings.faqs.answer")+R.validations.required}]}});e.dispatch("settingFaq/getFaqs"),fl(()=>e.state.settingFaq.faqs,N=>{t.gridData=tt.cloneDeep(N)}),dl(()=>e.dispatch("settingFaq/resetState"));function y(N){N.changes.length&&e.dispatch("settingFaq/save",N)}function h(N){p.value.instance.option("editing.form.items[2].editorOptions.value",N.value),p.value.instance.option("editing.form.items[3].visible",!N.value),p.value.instance.option("editing.form.items[4].visible",N.value)}function v(N){p.value.instance.option("editing.popup.title",n("settings.faqs.popup.create"))}function b(N){const P=/<\/?[a-z][\s\S]*>/i.test(N.data.answer);h({value:P}),p.value.instance.option("editing.popup.title",n("settings.faqs.popup.edit"))}function D(N){tt.checkPinDataGrid(N,p.value.instance);let P=N.component.option("toolbarItems");P.push({toolbar:"bottom",location:"before",widget:"dxButton",options:{icon:"image",text:n("titles.chooseImage"),onClick:()=>C.value.show({clientPath:"faqs"})}}),N.component.option("toolbarItems",P),tt.pushPopupToHistoryState(Tt,()=>p.value.instance.cancelEditData())}function M(){tt.popRouteHistoryState(Tt)}return(N,P)=>{const S=ml("DxToolbar");return yl(),hl("div",wc,[pl("div",null,[Jr(pn(gl),{ref_key:"dataGridRef",ref:p,"data-source":t.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"popup",popup:{showTitle:!0,onShown:D,onHidden:M},form:{labelLocation:N.$screen.getScreenSizeInfo.isXSmall?"top":"left",items:[{dataField:"topic",colSpan:2},{dataField:"question",colSpan:2},{editorType:"dxCheckBox",colSpan:2,editorOptions:{value:!1,onValueChanged:h},label:{text:N.$t("settings.faqs.useHtml")}},{visible:!0,colSpan:2,dataField:"answer",editorType:"dxTextArea",editorOptions:{stylingMode:"filled",height:150}},{visible:!1,dataField:"answer",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{mediaResizing:{enabled:!0},toolbar:{items:["undo","redo","separator","bold","italic","strike","underline","separator","alignLeft","alignCenter","alignRight","alignJustify","separator","orderedList","bulletList","separator","color","background","separator","link","image","separator","clear","insertTable"]}}}]},startEditAction:"dblClick"},onContentReady:P[0]||(P[0]=I=>N.$mf.dataGridPreload(t.gridData,p.value.instance)),onInitNewRow:v,onEditingStart:b,onSaved:y},{commandCellTemplate:Gi(({data:I})=>[Jr(S,{items:[{visible:I.data.status!=4,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"edit",hint:N.$t("buttons.edit"),text:N.$t("buttons.edit"),onClick:()=>{p.value.instance.editRow(I.rowIndex)}}},{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"trash",hint:N.$t("buttons.delete"),text:N.$t("buttons.delete"),onClick:()=>N.$bus.emit("checkPin",()=>p.value.instance.deleteRow(I.rowIndex))}}]},null,8,["items"])]),default:Gi(()=>[Jr(pn(In),{fixed:!0,width:N.$screen.getScreenSizeInfo.isXSmall?35:65,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:N.$t(`titles.commandHeaderTitle${N.$screen.getScreenSizeInfo.isXSmall?"Short":""}`)},null,8,["width","caption"]),Jr(pn(In),{"data-field":"topic","header-filter":{allowSearch:!0},caption:N.$t("settings.faqs.topic"),"validation-rules":t.validationRules.topic},null,8,["caption","validation-rules"]),Jr(pn(In),{"data-field":"question","header-filter":{allowSearch:!0},caption:N.$t("settings.faqs.question"),"validation-rules":t.validationRules.question},null,8,["caption","validation-rules"]),Jr(pn(In),{visible:!1,"data-field":"answer","header-filter":{allowSearch:!0},caption:N.$t("settings.faqs.answer"),"validation-rules":t.validationRules.answer},null,8,["caption","validation-rules"])]),_:1},8,["data-source","editing"]),Jr(bl,{ref_key:"pickImagePopupRef",ref:C},null,512)])])}}};export{Ic as default};
