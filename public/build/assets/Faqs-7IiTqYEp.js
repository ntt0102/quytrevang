import{S as pa,bG as ci,aB as Yr,ai as ge,bQ as io,X as ue,Y as An,bn as sn,aK as ir,$ as Wt,aJ as Mr,aU as Dr,bZ as Ln,b_ as cn,b$ as vn,by as Pr,ab as fn,b3 as qt,al as de,a_ as Jn,a4 as ti,a1 as fi,ad as we,aV as Hn,c0 as va,aS as ma,aw as oo,c1 as ya,c2 as jn,c3 as ao,c4 as ga,aR as Jr,c5 as ba,bC as _e,a$ as Mn,aW as xe,c6 as _a,aD as hi,c7 as Dn,c8 as Oa,c9 as Ea,ca as lo,bI as ei,cb as mn,bE as Ca,cc as Ta,bk as Ii,aI as so,cd as Sa,bw as ri,ce as Ni,cf as Pa,bs as wa,a0 as uo,cg as Aa,ch as Li,ci as xa,bv as Ra,aC as Ia,cj as Na,ck as La,cl as Ma,Z as Da,aX as Ba,cm as xn,a2 as ja,a3 as Mi,u as ka,r as Di,a as Ha,w as Fa,L as Ua,b as Wa,d as $a,e as Qr,f as Bi,g as hn,h as Ka,k as Kn,m as za,o as Za,n as dn}from"./app-BIuOnb9W.js";import{F as co}from"./FileManager-CjKzop05.js";import{_ as Va}from"./PickImagePopup-C8CHVL1g.js";var se={},Bn={exports:{}};/*!
 * DevExtreme-Quill Editor v.1.6.3
 * https://js.devexpress.com/
 * Copyright (c) 2020, Developer Express Inc.
 * Copyright (c) 2017, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var Ga=Bn.exports,ji;function qa(){return ji||(ji=1,function(r,e){(function(A,X){r.exports=X()})(Ga,()=>(()=>{var n={1674:(d,C,t)=>{t.d(C,{Z:()=>T});var y=t(1233),v=t(3866),m=t(3398);function g(a){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},g(a)}function D(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}function M(a,u){for(var c=0;c<u.length;c++){var _=u[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,x(_.key),_)}}function I(a,u,c){return u&&M(a.prototype,u),c&&M(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function x(a){var u=N(a,"string");return g(u)==="symbol"?u:String(u)}function N(a,u){if(g(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var _=c.call(a,u);if(g(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function j(){return typeof Reflect<"u"&&Reflect.get?j=Reflect.get.bind():j=function(u,c,_){var B=L(u,c);if(B){var k=Object.getOwnPropertyDescriptor(B,c);return k.get?k.get.call(arguments.length<3?u:_):k.value}},j.apply(this,arguments)}function L(a,u){for(;!Object.prototype.hasOwnProperty.call(a,u)&&(a=O(a),a!==null););return a}function H(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&W(a,u)}function W(a,u){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,B){return _.__proto__=B,_},W(a,u)}function E(a){var u=it();return function(){var _=O(a),B;if(u){var k=O(this).constructor;B=Reflect.construct(_,arguments,k)}else B=_.apply(this,arguments);return R(this,B)}}function R(a,u){if(u&&(g(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(a)}function F(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function it(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(a){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},O(a)}var T=function(a){H(c,a);var u=E(c);function c(_,B){var k,$,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return D(this,c),$=u.call(this,_,B,J),$.allowedTags=(k=J.allowedTags)!==null&&k!==void 0?k:[],$}return I(c,[{key:"add",value:function(B,k){return v.Mx.call(this,j(O(c.prototype),"add",this),B,k)}},{key:"remove",value:function(B){return v.Mx.call(this,j(O(c.prototype),"remove",this),B)}},{key:"value",value:function(B){return v.Mx.call(this,j(O(c.prototype),"value",this),B)}},{key:"canAdd",value:function(B,k){return v.ud.call(this,j(O(c.prototype),"canAdd",this),B,k)}}],[{key:"keys",value:function(B){return(0,v.dj)(j(O(c),"keys",this),B,m.WT.attribute)}}]),c}(y.Attributor)},3866:(d,C,t)=>{t.d(C,{Mx:()=>v,dj:()=>g,ud:()=>m});var y=t(3398);function v(D){var M=this.keyName;this.keyName=(0,y.mQ)(this.keyName);for(var I=arguments.length,x=new Array(I>1?I-1:0),N=1;N<I;N++)x[N-1]=arguments[N];var j=D.call.apply(D,[this].concat(x));return this.keyName=M,j}function m(D,M,I){var x=this.allowedTags.indexOf(M.tagName)>-1;return x&&D.call(this,M,I)}function g(D,M,I){return D(M).map(function(x){return(0,y.jf)(M.tagName,x,I)})}},4569:(d,C,t)=>{t.d(C,{Z:()=>T});var y=t(1233),v=t(3866),m=t(3398);function g(a){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},g(a)}function D(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}function M(a,u){for(var c=0;c<u.length;c++){var _=u[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,x(_.key),_)}}function I(a,u,c){return u&&M(a.prototype,u),c&&M(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function x(a){var u=N(a,"string");return g(u)==="symbol"?u:String(u)}function N(a,u){if(g(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var _=c.call(a,u);if(g(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function j(){return typeof Reflect<"u"&&Reflect.get?j=Reflect.get.bind():j=function(u,c,_){var B=L(u,c);if(B){var k=Object.getOwnPropertyDescriptor(B,c);return k.get?k.get.call(arguments.length<3?u:_):k.value}},j.apply(this,arguments)}function L(a,u){for(;!Object.prototype.hasOwnProperty.call(a,u)&&(a=O(a),a!==null););return a}function H(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&W(a,u)}function W(a,u){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,B){return _.__proto__=B,_},W(a,u)}function E(a){var u=it();return function(){var _=O(a),B;if(u){var k=O(this).constructor;B=Reflect.construct(_,arguments,k)}else B=_.apply(this,arguments);return R(this,B)}}function R(a,u){if(u&&(g(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(a)}function F(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function it(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(a){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},O(a)}var T=function(a){H(c,a);var u=E(c);function c(_,B){var k,$,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return D(this,c),$=u.call(this,_,B,J),$.allowedTags=(k=J.allowedTags)!==null&&k!==void 0?k:[],$}return I(c,[{key:"add",value:function(B,k){return v.Mx.call(this,j(O(c.prototype),"add",this),B,k)}},{key:"remove",value:function(B){return v.Mx.call(this,j(O(c.prototype),"remove",this),B)}},{key:"value",value:function(B){return v.Mx.call(this,j(O(c.prototype),"value",this),B)}},{key:"canAdd",value:function(B,k){return v.ud.call(this,j(O(c.prototype),"canAdd",this),B,k)}}],[{key:"keys",value:function(B){return(0,v.dj)(j(O(c),"keys",this),B,m.WT.style)}}]),c}(y.StyleAttributor)},3398:(d,C,t)=>{t.d(C,{WT:()=>N,jf:()=>L,mQ:()=>H});var y=t(19),v=t(8252);function m(W){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},m(W)}function g(W,E){var R=Object.keys(W);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(W);E&&(F=F.filter(function(it){return Object.getOwnPropertyDescriptor(W,it).enumerable})),R.push.apply(R,F)}return R}function D(W){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?g(Object(R),!0).forEach(function(F){M(W,F,R[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(R)):g(Object(R)).forEach(function(F){Object.defineProperty(W,F,Object.getOwnPropertyDescriptor(R,F))})}return W}function M(W,E,R){return E=I(E),E in W?Object.defineProperty(W,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):W[E]=R,W}function I(W){var E=x(W,"string");return m(E)==="symbol"?E:String(E)}function x(W,E){if(m(W)!=="object"||W===null)return W;var R=W[Symbol.toPrimitive];if(R!==void 0){var F=R.call(W,E||"default");if(m(F)!=="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(W)}var N={attribute:"attr",style:"style"},j=D(D({},y.Sp.allowedTags.reduce(function(W,E){return W[E]={name:y.Sp.name,keyNamesSet:y.bc},W},{})),v.Pw.allowedTags.reduce(function(W,E){return W[E]={name:v.Pw.name,keyNamesSet:v.fU},W},{}));function L(W,E,R){var F=j[W];return F&&F.keyNamesSet.has(E)?"".concat(R).concat(F.name,"_").concat(E):E}function H(W){return W.replace(/([^]*_)/,"")}},6446:(d,C,t)=>{t.d(C,{i2:()=>dt,qz:()=>nt,E2:()=>_t,ZP:()=>ht});var y=t(9098),v=t.n(y),m=t(1233),g=t(4122),D=t(6603),M=t(8222),I=t(3398);function x(Z,vt,tt,lt){return tt.map(U=>{const w=lt?(0,I.jf)(Z,U,lt):U;return vt.scroll.query(w,m.Scope.ATTRIBUTE)}).filter(U=>U instanceof m.Attributor).reduce((U,w)=>(U[w.attrName]=w,U),{})}function N(){m.AttributorStore.prototype.build=function(){const{tagName:Z}=this.domNode,vt=m.Registry.find(this.domNode);if(vt==null)return;const tt=m.Attributor.keys(this.domNode),lt=m.ClassAttributor.keys(this.domNode),U=m.StyleAttributor.keys(this.domNode);this.attributes={...x(Z,vt,tt,I.WT.attribute),...x(Z,vt,lt),...x(Z,vt,U,I.WT.style)}}}function j(Z){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},j(Z)}function L(Z,vt){var tt=Object.keys(Z);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(Z);vt&&(lt=lt.filter(function(U){return Object.getOwnPropertyDescriptor(Z,U).enumerable})),tt.push.apply(tt,lt)}return tt}function H(Z){for(var vt=1;vt<arguments.length;vt++){var tt=arguments[vt]!=null?arguments[vt]:{};vt%2?L(Object(tt),!0).forEach(function(lt){W(Z,lt,tt[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(tt)):L(Object(tt)).forEach(function(lt){Object.defineProperty(Z,lt,Object.getOwnPropertyDescriptor(tt,lt))})}return Z}function W(Z,vt,tt){return vt=it(vt),vt in Z?Object.defineProperty(Z,vt,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Z[vt]=tt,Z}function E(Z,vt){if(!(Z instanceof vt))throw new TypeError("Cannot call a class as a function")}function R(Z,vt){for(var tt=0;tt<vt.length;tt++){var lt=vt[tt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Z,it(lt.key),lt)}}function F(Z,vt,tt){return vt&&R(Z.prototype,vt),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function it(Z){var vt=O(Z,"string");return j(vt)==="symbol"?vt:String(vt)}function O(Z,vt){if(j(Z)!=="object"||Z===null)return Z;var tt=Z[Symbol.toPrimitive];if(tt!==void 0){var lt=tt.call(Z,vt||"default");if(j(lt)!=="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vt==="string"?String:Number)(Z)}function T(){return typeof Reflect<"u"&&Reflect.get?T=Reflect.get.bind():T=function(vt,tt,lt){var U=a(vt,tt);if(U){var w=Object.getOwnPropertyDescriptor(U,tt);return w.get?w.get.call(arguments.length<3?vt:lt):w.value}},T.apply(this,arguments)}function a(Z,vt){for(;!Object.prototype.hasOwnProperty.call(Z,vt)&&(Z=J(Z),Z!==null););return Z}function u(Z,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(vt&&vt.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),vt&&c(Z,vt)}function c(Z,vt){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(lt,U){return lt.__proto__=U,lt},c(Z,vt)}function _(Z){var vt=$();return function(){var lt=J(Z),U;if(vt){var w=J(this).constructor;U=Reflect.construct(lt,arguments,w)}else U=lt.apply(this,arguments);return B(this,U)}}function B(Z,vt){if(vt&&(j(vt)==="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(Z)}function k(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J(Z){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(tt){return tt.__proto__||Object.getPrototypeOf(tt)},J(Z)}N();var ut=1,ht=function(Z){u(tt,Z);var vt=_(tt);function tt(lt,U){var w;return E(this,tt),w=vt.call(this,lt,U),w.cache={},w}return F(tt,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=nt(this)),this.cache.delta}},{key:"deleteAt",value:function(U,w){T(J(tt.prototype),"deleteAt",this).call(this,U,w),this.cache={}}},{key:"formatAt",value:function(U,w,V,Q){w<=0||(this.scroll.query(V,m.Scope.BLOCK)?U+w===this.length()&&this.format(V,Q):T(J(tt.prototype),"formatAt",this).call(this,U,Math.min(w,this.length()-U-1),V,Q),this.cache={})}},{key:"insertAt",value:function(U,w,V){if(V!=null){T(J(tt.prototype),"insertAt",this).call(this,U,w,V),this.cache={};return}if(w.length!==0){var Q=w.split(`
`),G=Q.shift();G.length>0&&(U<this.length()-1||this.children.tail==null?T(J(tt.prototype),"insertAt",this).call(this,Math.min(U,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var st=this;Q.reduce(function(mt,Tt){return st=st.split(mt,!0),st.insertAt(0,Tt),Tt.length},U+G.length)}}},{key:"insertBefore",value:function(U,w){var V=this.children.head;T(J(tt.prototype),"insertBefore",this).call(this,U,w),V instanceof g.Z&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=T(J(tt.prototype),"length",this).call(this)+ut),this.cache.length}},{key:"moveChildren",value:function(U,w){T(J(tt.prototype),"moveChildren",this).call(this,U,w),this.cache={}}},{key:"optimize",value:function(U){T(J(tt.prototype),"optimize",this).call(this,U),this.cache={}}},{key:"path",value:function(U){return T(J(tt.prototype),"path",this).call(this,U,!0)}},{key:"removeChild",value:function(U){T(J(tt.prototype),"removeChild",this).call(this,U),this.cache={}}},{key:"split",value:function(U){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w&&(U===0||U>=this.length()-ut)){var V=this.clone();return U===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}var Q=T(J(tt.prototype),"split",this).call(this,U,w);return this.cache={},Q}}]),tt}(m.BlockBlot);ht.blotName="block",ht.tagName="P",ht.defaultChild=g.Z,ht.allowedChildren=[g.Z,D.Z,m.EmbedBlot,M.Z];var dt=function(Z){u(tt,Z);var vt=_(tt);function tt(){return E(this,tt),vt.apply(this,arguments)}return F(tt,[{key:"attach",value:function(){T(J(tt.prototype),"attach",this).call(this),this.attributes=new m.AttributorStore(this.domNode)}},{key:"delta",value:function(){return new(v())().insert(this.value(),H(H({},this.formats()),this.attributes.values()))}},{key:"format",value:function(U,w){var V=this.scroll.query(U,m.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,w)}},{key:"formatAt",value:function(U,w,V,Q){this.format(V,Q)}},{key:"insertAt",value:function(U,w,V){if(typeof w=="string"&&w.endsWith(`
`)){var Q=this.scroll.create(ht.blotName);this.parent.insertBefore(Q,U===0?this:this.next),Q.insertAt(0,w.slice(0,-1))}else T(J(tt.prototype),"insertAt",this).call(this,U,w,V)}}]),tt}(m.EmbedBlot);dt.scope=m.Scope.BLOCK_BLOT;function nt(Z){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Z.descendants(m.LeafBlot).reduce(function(tt,lt){return lt.length()===0?tt:tt.insert(lt.value(),_t(lt,{},vt))},new(v())).insert(`
`,_t(Z))}function _t(Z){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Z==null||(typeof Z.formats=="function"&&(vt=H(H({},vt),Z.formats()),tt&&delete vt["code-token"]),Z.parent==null||Z.parent.statics.blotName==="scroll"||Z.parent.statics.scope!==Z.statics.scope)?vt:_t(Z.parent,vt,tt)}},4122:(d,C,t)=>{t.d(C,{Z:()=>F});var y=t(1233);function v(it){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},v(it)}function m(it,O){if(!(it instanceof O))throw new TypeError("Cannot call a class as a function")}function g(it,O){for(var T=0;T<O.length;T++){var a=O[T];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(it,M(a.key),a)}}function D(it,O,T){return O&&g(it.prototype,O),T&&g(it,T),Object.defineProperty(it,"prototype",{writable:!1}),it}function M(it){var O=I(it,"string");return v(O)==="symbol"?O:String(O)}function I(it,O){if(v(it)!=="object"||it===null)return it;var T=it[Symbol.toPrimitive];if(T!==void 0){var a=T.call(it,O);if(v(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(it)}function x(it,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(O&&O.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),Object.defineProperty(it,"prototype",{writable:!1}),O&&N(it,O)}function N(it,O){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,u){return a.__proto__=u,a},N(it,O)}function j(it){var O=W();return function(){var a=E(it),u;if(O){var c=E(this).constructor;u=Reflect.construct(a,arguments,c)}else u=a.apply(this,arguments);return L(this,u)}}function L(it,O){if(O&&(v(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(it)}function H(it){if(it===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(it){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},E(it)}var R=function(it){x(T,it);var O=j(T);function T(){return m(this,T),O.apply(this,arguments)}return D(T,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T}(y.EmbedBlot);R.blotName="break",R.tagName="BR";const F=R},3553:(d,C,t)=>{t.d(C,{Z:()=>W});var y=t(1233);function v(E){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},v(E)}function m(E,R,F){return Object.defineProperty(E,"prototype",{writable:!1}),E}function g(E,R){if(!(E instanceof R))throw new TypeError("Cannot call a class as a function")}function D(E,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(R&&R.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),R&&M(E,R)}function M(E,R){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,O){return it.__proto__=O,it},M(E,R)}function I(E){var R=j();return function(){var it=L(E),O;if(R){var T=L(this).constructor;O=Reflect.construct(it,arguments,T)}else O=it.apply(this,arguments);return x(this,O)}}function x(E,R){if(R&&(v(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(E)}function N(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(E){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},L(E)}var H=function(E){D(F,E);var R=I(F);function F(){return g(this,F),R.apply(this,arguments)}return m(F)}(y.ContainerBlot);const W=H},3657:(d,C,t)=>{t.d(C,{Z:()=>T});var y=t(1233),v=t(8222);function m(a){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},m(a)}function g(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}function D(a,u){for(var c=0;c<u.length;c++){var _=u[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,I(_.key),_)}}function M(a,u,c){return u&&D(a.prototype,u),c&&D(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function I(a){var u=x(a,"string");return m(u)==="symbol"?u:String(u)}function x(a,u){if(m(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var _=c.call(a,u);if(m(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function N(){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get.bind():N=function(u,c,_){var B=j(u,c);if(B){var k=Object.getOwnPropertyDescriptor(B,c);return k.get?k.get.call(arguments.length<3?u:_):k.value}},N.apply(this,arguments)}function j(a,u){for(;!Object.prototype.hasOwnProperty.call(a,u)&&(a=it(a),a!==null););return a}function L(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&H(a,u)}function H(a,u){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,B){return _.__proto__=B,_},H(a,u)}function W(a){var u=F();return function(){var _=it(a),B;if(u){var k=it(this).constructor;B=Reflect.construct(_,arguments,k)}else B=_.apply(this,arguments);return E(this,B)}}function E(a,u){if(u&&(m(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(a)}function R(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function it(a){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},it(a)}var O=function(a){L(c,a);var u=W(c);function c(_,B,k){var $;return g(this,c),$=u.call(this,_,B),$.selection=k,$.textNode=document.createTextNode(c.CONTENTS),$.domNode.appendChild($.textNode),$.savedLength=0,$}return M(c,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(B,k){if(this.savedLength!==0){N(it(c.prototype),"format",this).call(this,B,k);return}for(var $=this,J=0;$!=null&&$.statics.scope!==y.Scope.BLOCK_BLOT;)J+=$.offset($.parent),$=$.parent;$!=null&&(this.savedLength=c.CONTENTS.length,$.optimize(),$.formatAt(J,c.CONTENTS.length,B,k),this.savedLength=0)}},{key:"index",value:function(B,k){return B===this.textNode?0:N(it(c.prototype),"index",this).call(this,B,k)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){N(it(c.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||this.parent==null)return null;for(var B=this.selection.getNativeRange();this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var k=this.prev instanceof v.Z?this.prev:null,$=k?k.length():0,J=this.next instanceof v.Z?this.next:null,ut=J?J.text:"",ht=this.textNode,dt=ht.data.split(c.CONTENTS).join("");ht.data=c.CONTENTS;var nt;if(k)nt=k,(dt||J)&&(k.insertAt(k.length(),dt+ut),J&&J.remove());else if(J)nt=J,J.insertAt(0,dt);else{var _t=document.createTextNode(dt);nt=this.scroll.create(_t),this.parent.insertBefore(nt,this)}if(this.remove(),B){var Z=function(U,w){return k&&U===k.domNode?w:U===ht?$+w-1:J&&U===J.domNode?$+dt.length+w:null},vt=Z(B.start.node,B.start.offset),tt=Z(B.end.node,B.end.offset);if(vt!==null&&tt!==null)return{startNode:nt.domNode,startOffset:vt,endNode:nt.domNode,endOffset:tt}}return null}},{key:"update",value:function(B,k){var $=this;if(B.some(function(ut){return ut.type==="characterData"&&ut.target===$.textNode})){var J=this.restore();J&&(k.range=J)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),c}(y.EmbedBlot);O.blotName="cursor",O.className="ql-cursor",O.tagName="span",O.CONTENTS="\uFEFF";const T=O},7452:(d,C,t)=>{t.d(C,{Z:()=>a});var y=t(1233),v=t(8222);function m(u){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},m(u)}function g(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function D(u,c){for(var _=0;_<c.length;_++){var B=c[_];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(u,I(B.key),B)}}function M(u,c,_){return c&&D(u.prototype,c),Object.defineProperty(u,"prototype",{writable:!1}),u}function I(u){var c=x(u,"string");return m(c)==="symbol"?c:String(c)}function x(u,c){if(m(u)!=="object"||u===null)return u;var _=u[Symbol.toPrimitive];if(_!==void 0){var B=_.call(u,c);if(m(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}function N(){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get.bind():N=function(c,_,B){var k=j(c,_);if(k){var $=Object.getOwnPropertyDescriptor(k,_);return $.get?$.get.call(arguments.length<3?c:B):$.value}},N.apply(this,arguments)}function j(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&(u=it(u),u!==null););return u}function L(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),c&&H(u,c)}function H(u,c){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,k){return B.__proto__=k,B},H(u,c)}function W(u){var c=F();return function(){var B=it(u),k;if(c){var $=it(this).constructor;k=Reflect.construct(B,arguments,$)}else k=B.apply(this,arguments);return E(this,k)}}function E(u,c){if(c&&(m(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(u)}function R(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function it(u){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},it(u)}var O="\uFEFF",T=function(u){L(_,u);var c=W(_);function _(B,k){var $;return g(this,_),$=c.call(this,B,k),$.contentNode=document.createElement("span"),$.contentNode.setAttribute("contenteditable",!1),Array.from($.domNode.childNodes).forEach(function(J){$.contentNode.appendChild(J)}),$.leftGuard=document.createTextNode(O),$.rightGuard=document.createTextNode(O),$.domNode.appendChild($.leftGuard),$.domNode.appendChild($.contentNode),$.domNode.appendChild($.rightGuard),$}return M(_,[{key:"index",value:function(k,$){return k===this.leftGuard?0:k===this.rightGuard?1:N(it(_.prototype),"index",this).call(this,k,$)}},{key:"restore",value:function(k){var $,J,ut=k.data.split(O).join("");if(k===this.leftGuard)if(this.prev instanceof v.Z){var ht=this.prev.length();this.prev.insertAt(ht,ut),$={startNode:this.prev.domNode,startOffset:ht+ut.length}}else J=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(J),this),$={startNode:J,startOffset:ut.length};else k===this.rightGuard&&(this.next instanceof v.Z?(this.next.insertAt(0,ut),$={startNode:this.next.domNode,startOffset:ut.length}):(J=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(J),this.next),$={startNode:J,startOffset:ut.length}));return k.data=O,$}},{key:"update",value:function(k,$){var J=this;k.forEach(function(ut){if(ut.type==="characterData"&&(ut.target===J.leftGuard||ut.target===J.rightGuard)){var ht=J.restore(ut.target);ht&&($.range=ht)}})}}]),_}(y.EmbedBlot);const a=T},6603:(d,C,t)=>{t.d(C,{Z:()=>a});var y=t(1233),v=t(4122),m=t(8222);function g(u){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(u)}function D(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function M(u,c){for(var _=0;_<c.length;_++){var B=c[_];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(u,x(B.key),B)}}function I(u,c,_){return c&&M(u.prototype,c),_&&M(u,_),Object.defineProperty(u,"prototype",{writable:!1}),u}function x(u){var c=N(u,"string");return g(c)==="symbol"?c:String(c)}function N(u,c){if(g(u)!=="object"||u===null)return u;var _=u[Symbol.toPrimitive];if(_!==void 0){var B=_.call(u,c);if(g(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}function j(){return typeof Reflect<"u"&&Reflect.get?j=Reflect.get.bind():j=function(c,_,B){var k=L(c,_);if(k){var $=Object.getOwnPropertyDescriptor(k,_);return $.get?$.get.call(arguments.length<3?c:B):$.value}},j.apply(this,arguments)}function L(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&(u=O(u),u!==null););return u}function H(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),c&&W(u,c)}function W(u,c){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,k){return B.__proto__=k,B},W(u,c)}function E(u){var c=it();return function(){var B=O(u),k;if(c){var $=O(this).constructor;k=Reflect.construct(B,arguments,$)}else k=B.apply(this,arguments);return R(this,k)}}function R(u,c){if(c&&(g(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(u)}function F(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function it(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(u){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},O(u)}var T=function(u){H(_,u);var c=E(_);function _(){return D(this,_),c.apply(this,arguments)}return I(_,[{key:"formatAt",value:function(k,$,J,ut){if(_.compare(this.statics.blotName,J)<0&&this.scroll.query(J,y.Scope.BLOT)){var ht=this.isolate(k,$);ut&&ht.wrap(J,ut)}else j(O(_.prototype),"formatAt",this).call(this,k,$,J,ut)}},{key:"optimize",value:function(k){if(j(O(_.prototype),"optimize",this).call(this,k),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var $=this.parent.isolate(this.offset(),this.length());this.moveChildren($),$.wrap(this)}}}],[{key:"compare",value:function(k,$){var J=_.order.indexOf(k),ut=_.order.indexOf($);return J>=0||ut>=0?J-ut:k===$?0:k<$?-1:1}}]),_}(y.InlineBlot);T.allowedChildren=[T,v.Z,y.EmbedBlot,m.Z],T.order=["cursor","inline","link","underline","strike","italic","bold","script","code"];const a=T},3272:(d,C,t)=>{t.d(C,{Z:()=>dt});var y=t(1233),v=t(2069),m=t(6446),g=t(4122),D=t(3553),M=t(1969);function I(nt){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t},I(nt)}function x(nt,_t){return W(nt)||H(nt,_t)||j(nt,_t)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(nt,_t){if(nt){if(typeof nt=="string")return L(nt,_t);var Z=Object.prototype.toString.call(nt).slice(8,-1);if(Z==="Object"&&nt.constructor&&(Z=nt.constructor.name),Z==="Map"||Z==="Set")return Array.from(nt);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return L(nt,_t)}}function L(nt,_t){(_t==null||_t>nt.length)&&(_t=nt.length);for(var Z=0,vt=new Array(_t);Z<_t;Z++)vt[Z]=nt[Z];return vt}function H(nt,_t){var Z=nt==null?null:typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(Z!=null){var vt,tt,lt,U,w=[],V=!0,Q=!1;try{if(lt=(Z=Z.call(nt)).next,_t===0){if(Object(Z)!==Z)return;V=!1}else for(;!(V=(vt=lt.call(Z)).done)&&(w.push(vt.value),w.length!==_t);V=!0);}catch(G){Q=!0,tt=G}finally{try{if(!V&&Z.return!=null&&(U=Z.return(),Object(U)!==U))return}finally{if(Q)throw tt}}return w}}function W(nt){if(Array.isArray(nt))return nt}function E(nt,_t){if(!(nt instanceof _t))throw new TypeError("Cannot call a class as a function")}function R(nt,_t){for(var Z=0;Z<_t.length;Z++){var vt=_t[Z];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(nt,it(vt.key),vt)}}function F(nt,_t,Z){return _t&&R(nt.prototype,_t),Object.defineProperty(nt,"prototype",{writable:!1}),nt}function it(nt){var _t=O(nt,"string");return I(_t)==="symbol"?_t:String(_t)}function O(nt,_t){if(I(nt)!=="object"||nt===null)return nt;var Z=nt[Symbol.toPrimitive];if(Z!==void 0){var vt=Z.call(nt,_t);if(I(vt)!=="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(nt)}function T(){return typeof Reflect<"u"&&Reflect.get?T=Reflect.get.bind():T=function(_t,Z,vt){var tt=a(_t,Z);if(tt){var lt=Object.getOwnPropertyDescriptor(tt,Z);return lt.get?lt.get.call(arguments.length<3?_t:vt):lt.value}},T.apply(this,arguments)}function a(nt,_t){for(;!Object.prototype.hasOwnProperty.call(nt,_t)&&(nt=J(nt),nt!==null););return nt}function u(nt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),_t&&c(nt,_t)}function c(nt,_t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,tt){return vt.__proto__=tt,vt},c(nt,_t)}function _(nt){var _t=$();return function(){var vt=J(nt),tt;if(_t){var lt=J(this).constructor;tt=Reflect.construct(vt,arguments,lt)}else tt=vt.apply(this,arguments);return B(this,tt)}}function B(nt,_t){if(_t&&(I(_t)==="object"||typeof _t=="function"))return _t;if(_t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(nt)}function k(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J(nt){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},J(nt)}function ut(nt){return nt instanceof m.ZP||nt instanceof m.i2}var ht=function(nt){u(Z,nt);var _t=_(Z);function Z(vt,tt,lt){var U,w=lt.emitter,V=lt.toggleBlankClass;return E(this,Z),U=_t.call(this,vt,tt),U.emitter=w,U.toggleBlankClass=V,U.batch=!1,U.optimize(),U.enable(),U.domNode.addEventListener("dragstart",function(Q){return U.handleDragStart(Q)}),U}return F(Z,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var tt=this.batch;this.batch=!1,this.update(tt)}},{key:"emitMount",value:function(tt){this.emitter.emit(v.Z.events.SCROLL_BLOT_MOUNT,tt)}},{key:"emitUnmount",value:function(tt){this.emitter.emit(v.Z.events.SCROLL_BLOT_UNMOUNT,tt)}},{key:"deleteAt",value:function(tt,lt){var U=this.line(tt),w=x(U,2),V=w[0],Q=w[1],G=this.line(tt+lt),st=x(G,1),mt=st[0];if(T(J(Z.prototype),"deleteAt",this).call(this,tt,lt),mt!=null&&V!==mt&&Q>0){var Tt=(V instanceof M.zW||mt instanceof M.zW)&&V.parent!==mt.parent,et=V instanceof m.i2||mt instanceof m.i2;if(!et&&!Tt){var Y=mt.children.head instanceof g.Z?null:mt.children.head;V.moveChildren(mt,Y),V.remove()}}this.optimize()}},{key:"enable",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",tt)}},{key:"formatAt",value:function(tt,lt,U,w){T(J(Z.prototype),"formatAt",this).call(this,tt,lt,U,w),this.optimize()}},{key:"handleDragStart",value:function(tt){tt.preventDefault()}},{key:"insertAt",value:function(tt,lt,U){if(tt>=this.length())if(U==null||this.scroll.query(lt,y.Scope.BLOCK)==null){var w=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(w),U==null&&lt.endsWith(`
`)?w.insertAt(0,lt.slice(0,-1),U):w.insertAt(0,lt,U)}else{var V=this.scroll.create(lt,U);this.appendChild(V)}else T(J(Z.prototype),"insertAt",this).call(this,tt,lt,U);this.optimize()}},{key:"insertBefore",value:function(tt,lt){if(tt.statics.scope===y.Scope.INLINE_BLOT){var U=this.scroll.create(this.statics.defaultChild.blotName);U.appendChild(tt),T(J(Z.prototype),"insertBefore",this).call(this,U,lt)}else T(J(Z.prototype),"insertBefore",this).call(this,tt,lt)}},{key:"isEnabled",value:function(){return this.domNode.getAttribute("contenteditable")==="true"}},{key:"leaf",value:function(tt){return this.path(tt).pop()||[null,-1]}},{key:"line",value:function(tt){return tt===this.length()?this.line(tt-1):this.descendant(ut,tt)}},{key:"lines",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function w(V,Q,G){var st=[],mt=G;return V.children.forEachAt(Q,G,function(Tt,et,Y){ut(Tt)?st.push(Tt):Tt instanceof y.ContainerBlot&&(st=st.concat(w(Tt,et,mt))),mt-=Y}),st};return U(this,tt,lt)}},{key:"optimize",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(T(J(Z.prototype),"optimize",this).call(this,tt,lt),tt.length>0&&this.emitter.emit(v.Z.events.SCROLL_OPTIMIZE,tt,lt))}},{key:"path",value:function(tt){return T(J(Z.prototype),"path",this).call(this,tt).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(tt){var lt=this;if(this.batch){Array.isArray(tt)&&(this.batch=this.batch.concat(tt),this.toggleBlankClass());return}var U=v.Z.sources.USER;typeof tt=="string"&&(U=tt),Array.isArray(tt)||(tt=this.observer.takeRecords()),tt=tt.filter(function(w){var V=w.target,Q=lt.find(V,!0);return Q&&Q.scroll===lt}),tt.length>0&&this.emitter.emit(v.Z.events.SCROLL_BEFORE_UPDATE,U,tt),T(J(Z.prototype),"update",this).call(this,tt.concat([])),tt.length>0&&this.emitter.emit(v.Z.events.SCROLL_UPDATE,U,tt)}}]),Z}(y.ScrollBlot);ht.blotName="scroll",ht.className="ql-editor",ht.tagName="DIV",ht.defaultChild=m.ZP,ht.allowedChildren=[m.ZP,m.i2,D.Z];const dt=ht},8222:(d,C,t)=>{t.d(C,{Z:()=>H,b:()=>W});var y=t(1233);function v(E){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},v(E)}function m(E,R,F){return Object.defineProperty(E,"prototype",{writable:!1}),E}function g(E,R){if(!(E instanceof R))throw new TypeError("Cannot call a class as a function")}function D(E,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(R&&R.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),R&&M(E,R)}function M(E,R){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,O){return it.__proto__=O,it},M(E,R)}function I(E){var R=j();return function(){var it=L(E),O;if(R){var T=L(this).constructor;O=Reflect.construct(it,arguments,T)}else O=it.apply(this,arguments);return x(this,O)}}function x(E,R){if(R&&(v(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(E)}function N(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(E){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},L(E)}var H=function(E){D(F,E);var R=I(F);function F(){return g(this,F),R.apply(this,arguments)}return m(F)}(y.TextBlot);function W(E){return E.replace(/[&<>"']/g,function(R){var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return F[R]})}},2432:(d,C,t)=>{t.d(C,{default:()=>E});var y=t(281),v=t(6446),m=t(4122),g=t(3553),D=t(3657),M=t(7452),I=t(6603),x=t(3272),N=t(8222),j=t(5635),L=t(2613),H=t(3071),W=t(3859);y.ZP.register({"blots/block":v.ZP,"blots/block/embed":v.i2,"blots/break":m.Z,"blots/container":g.Z,"blots/cursor":D.Z,"blots/embed":M.Z,"blots/inline":I.Z,"blots/scroll":x.Z,"blots/text":N.Z,"modules/clipboard":j.ZP,"modules/history":L.Z,"modules/keyboard":H.ZP,"modules/uploader":W.Z});const E=y.ZP},2861:(d,C,t)=>{t.d(C,{Z:()=>Y});var y=t(8805),v=t.n(y),m=t(2722),g=t.n(m),D=t(732),M=t.n(D),I=t(9098),x=t.n(I),N=t(1233),j=t(7800),L=t(3657),H=t(6446),W=t(4122),E=t(8222);function R(K,at){K.classList.remove(at),K.classList.length===0&&K.removeAttribute("class")}function F(K){return J(K)||it(K)||B(K)||_()}function it(K){if(typeof Symbol<"u"&&K[Symbol.iterator]!=null||K["@@iterator"]!=null)return Array.from(K)}function O(K,at){var q=Object.keys(K);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(K);at&&(ct=ct.filter(function(pt){return Object.getOwnPropertyDescriptor(K,pt).enumerable})),q.push.apply(q,ct)}return q}function T(K){for(var at=1;at<arguments.length;at++){var q=arguments[at]!=null?arguments[at]:{};at%2?O(Object(q),!0).forEach(function(ct){a(K,ct,q[ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(q)):O(Object(q)).forEach(function(ct){Object.defineProperty(K,ct,Object.getOwnPropertyDescriptor(q,ct))})}return K}function a(K,at,q){return at=nt(at),at in K?Object.defineProperty(K,at,{value:q,enumerable:!0,configurable:!0,writable:!0}):K[at]=q,K}function u(K){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(at){return typeof at}:function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at},u(K)}function c(K,at){return J(K)||$(K,at)||B(K,at)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B(K,at){if(K){if(typeof K=="string")return k(K,at);var q=Object.prototype.toString.call(K).slice(8,-1);if(q==="Object"&&K.constructor&&(q=K.constructor.name),q==="Map"||q==="Set")return Array.from(K);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return k(K,at)}}function k(K,at){(at==null||at>K.length)&&(at=K.length);for(var q=0,ct=new Array(at);q<at;q++)ct[q]=K[q];return ct}function $(K,at){var q=K==null?null:typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(q!=null){var ct,pt,S,o,i=[],s=!0,b=!1;try{if(S=(q=q.call(K)).next,at===0){if(Object(q)!==q)return;s=!1}else for(;!(s=(ct=S.call(q)).done)&&(i.push(ct.value),i.length!==at);s=!0);}catch(z){b=!0,pt=z}finally{try{if(!s&&q.return!=null&&(o=q.return(),Object(o)!==o))return}finally{if(b)throw pt}}return i}}function J(K){if(Array.isArray(K))return K}function ut(K,at){if(!(K instanceof at))throw new TypeError("Cannot call a class as a function")}function ht(K,at){for(var q=0;q<at.length;q++){var ct=at[q];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(K,nt(ct.key),ct)}}function dt(K,at,q){return at&&ht(K.prototype,at),Object.defineProperty(K,"prototype",{writable:!1}),K}function nt(K){var at=_t(K,"string");return u(at)==="symbol"?at:String(at)}function _t(K,at){if(u(K)!=="object"||K===null)return K;var q=K[Symbol.toPrimitive];if(q!==void 0){var ct=q.call(K,at||"default");if(u(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return(at==="string"?String:Number)(K)}var Z=/^[ -~]*$/,vt=function(){function K(at){ut(this,K),this.scroll=at,this.delta=this.getDelta(),this.immediateFormats=new Set}return dt(K,[{key:"addImmediateFormat",value:function(q){this.immediateFormats.add(q)}},{key:"applyDelta",value:function(q){var ct=this;this.scroll.update();var pt=this.scroll.length();this.scroll.batchStart();var S=Tt(q),o=new(x());return S.reduce(function(i,s){var b=I.Op.length(s),z=s.attributes||{},yt=!1;if(s.insert!=null){if(o.retain(b),typeof s.insert=="string"){var wt=s.insert;yt=!wt.endsWith(`
`)&&(pt<=i||ct.scroll.descendant(H.i2,i)[0]),ct.scroll.insertAt(i,wt);var jt=ct.scroll.line(i),Ut=c(jt,2),Vt=Ut[0],Yt=Ut[1],Gt=M()({},(0,H.E2)(Vt));if(Vt instanceof H.ZP){var bt=Vt.descendant(N.LeafBlot,Yt),Pt=c(bt,1),Rt=Pt[0];Gt=M()(Gt,(0,H.E2)(Rt))}z=I.AttributeMap.diff(Gt,z)||{}}else if(u(s.insert)==="object"){var Nt=Object.keys(s.insert)[0];if(Nt==null)return i;yt=ct.scroll.query(Nt,N.Scope.INLINE)!=null&&(pt<=i||ct.scroll.descendant(H.i2,i)[0]),ct.scroll.insertAt(i,Nt,s.insert[Nt])}pt+=b}else o.push(s);var Lt=Object.keys(z);ct.immediateFormats.forEach(function(Mt){Lt.indexOf(Mt)>-1&&(ct.scroll.formatAt(i,b,Mt,z[Mt]),delete z[Mt])}),Object.keys(z).forEach(function(Mt){ct.scroll.formatAt(i,b,Mt,z[Mt])});var Ft=yt?1:0;return pt+=Ft,o.delete(Ft),i+b+Ft},0),o.reduce(function(i,s){return typeof s.delete=="number"?(ct.scroll.deleteAt(i,s.delete),i):i+I.Op.length(s)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(S)}},{key:"deleteText",value:function(q,ct){return this.scroll.deleteAt(q,ct),this.update(new(x())().retain(q).delete(ct))}},{key:"formatLine",value:function(q,ct){var pt=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(S).forEach(function(i){pt.scroll.lines(q,Math.max(ct,1)).forEach(function(s){s.format(i,S[i])})}),this.scroll.optimize();var o=new(x())().retain(q).retain(ct,v()(S));return this.update(o)}},{key:"formatText",value:function(q,ct){var pt=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(S).forEach(function(i){pt.scroll.formatAt(q,ct,i,S[i])});var o=new(x())().retain(q).retain(ct,v()(S));return this.update(o)}},{key:"getContents",value:function(q,ct){return this.delta.slice(q,q+ct)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(q,ct){return q.concat(ct.delta())},new(x()))}},{key:"getFormat",value:function(q){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,pt=[],S=[];ct===0?this.scroll.path(q).forEach(function(s){var b=c(s,1),z=b[0];z instanceof H.ZP?pt.push(z):z instanceof N.LeafBlot&&S.push(z)}):(pt=this.scroll.lines(q,ct),S=this.scroll.descendants(N.LeafBlot,q,ct));var o=[pt,S].map(function(s){if(s.length===0)return{};for(var b=(0,H.E2)(s.shift());Object.keys(b).length>0;){var z=s.shift();if(z==null)return b;b=Q((0,H.E2)(z),b)}return b}),i=c(o,2);return pt=i[0],S=i[1],T(T({},pt),S)}},{key:"getHTML",value:function(q,ct){var pt=this.scroll.line(q),S=c(pt,2),o=S[0],i=S[1];return o.length()>i+ct?lt(o,i,ct,!0):lt(this.scroll,q,ct,!0)}},{key:"getText",value:function(q,ct){return this.getContents(q,ct).filter(function(pt){return typeof pt.insert=="string"}).map(function(pt){return pt.insert}).join("")}},{key:"insertEmbed",value:function(q,ct,pt){return this.scroll.insertAt(q,ct,pt),this.update(new(x())().retain(q).insert(a({},ct,pt)))}},{key:"insertText",value:function(q,ct){var pt=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ct=ct.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(q,ct),Object.keys(S).forEach(function(o){pt.scroll.formatAt(q,ct.length,o,S[o])}),this.update(new(x())().retain(q).insert(ct,v()(S)))}},{key:"isBlank",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.scroll.children.length===0)return!0;if(q||this.scroll.children.length>1)return!1;var ct=this.scroll.children.head;return ct.statics.blotName!==H.ZP.blotName||ct.children.length>1?!1:ct.children.head instanceof W.Z}},{key:"removeFormat",value:function(q,ct){var pt=this.getText(q,ct),S=this.scroll.line(q+ct),o=c(S,2),i=o[0],s=o[1],b=0,z=new(x());i!=null&&(b=i.length()-s,z=i.delta().slice(s,s+b-1).insert(`
`));var yt=this.getContents(q,ct+b),wt=yt.diff(new(x())().insert(pt).concat(z)),jt=new(x())().retain(q).concat(wt);return this.applyDelta(jt)}},{key:"update",value:function(q){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,S=this.delta;if(ct.length===1&&ct[0].type==="characterData"&&ct[0].target.data.match(Z)&&this.scroll.find(ct[0].target)){var o=this.scroll.find(ct[0].target),i=(0,H.E2)(o),s=o.offset(this.scroll),b=ct[0].oldValue.replace(L.Z.CONTENTS,""),z=new(x())().insert(b),yt=new(x())().insert(o.value()),wt=pt&&{oldRange:et(pt.oldRange,-s),newRange:et(pt.newRange,-s)},jt=new(x())().retain(s).concat(z.diff(yt,wt));q=jt.reduce(function(Ut,Vt){return Vt.insert?Ut.insert(Vt.insert,i):Ut.push(Vt)},new(x())),this.delta=S.compose(q)}else this.delta=this.getDelta(),(!q||!g()(S.compose(q),this.delta))&&(q=S.diff(this.delta,pt));return q}}]),K}();function tt(K,at,q){if(K.length===0){var ct=G(q.pop()),pt=c(ct,1),S=pt[0];return at<=0?"</li></".concat(S,">"):"</li></".concat(S,">").concat(tt([],at-1,q))}var o=F(K),i=o[0],s=i.child,b=i.offset,z=i.length,yt=i.indent,wt=i.type,jt=o.slice(1),Ut=G(wt,s),Vt=c(Ut,2),Yt=Vt[0],Gt=Vt[1];if(yt>at)return q.push(wt),yt===at+1?"<".concat(Yt,"><li").concat(Gt,">").concat(lt(s,b,z)).concat(tt(jt,yt,q)):"<".concat(Yt,"><li>").concat(tt(K,at+1,q));var bt=q[q.length-1];if(yt===at&&wt===bt)return"</li><li".concat(Gt,">").concat(lt(s,b,z)).concat(tt(jt,yt,q));var Pt=G(q.pop()),Rt=c(Pt,1),Nt=Rt[0];return"</li></".concat(Nt,">").concat(tt(K,at-1,q))}function lt(K,at,q){var ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof K.html=="function")return K.html(at,q);if(K instanceof E.Z)return(0,E.b)(K.value().slice(at,at+q));if(K.children){if(K.statics.blotName==="list-container"){var pt=[];return K.children.forEachAt(at,q,function(jt,Ut,Vt){var Yt=jt.formats();pt.push({child:jt,offset:Ut,length:Vt,indent:Yt.indent||0,type:Yt.list})}),tt(pt,-1,[])}var S=[];if(K.children.forEachAt(at,q,function(jt,Ut,Vt){S.push(lt(jt,Ut,Vt))}),U(K.children,S),ct||K.statics.blotName==="list")return S.join("");var o=w(K),i=o.outerHTML,s=o.innerHTML,b=i.split(">".concat(s,"<")),z=c(b,2),yt=z[0],wt=z[1];return yt.indexOf("<table")===0?"".concat(yt.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(S.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(wt):"".concat(yt,">").concat(S.join(""),"<").concat(wt)}return K.domNode.outerHTML}function U(K,at){K.length===1&&K.head instanceof W.Z&&at.push("<br>")}function w(K){var at=K.domNode.cloneNode(!0);return V(K,at)}function V(K,at){var q=["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"];return q.includes(K.statics.blotName)&&R(at,K.statics.className),at}function Q(K,at){return Object.keys(at).reduce(function(q,ct){return K[ct]==null||(at[ct]===K[ct]?q[ct]=at[ct]:Array.isArray(at[ct])?at[ct].indexOf(K[ct])<0&&(q[ct]=at[ct].concat([K[ct]])):q[ct]=[at[ct],K[ct]]),q},{})}function G(K,at){var q=K==="ordered"?"ol":"ul",ct=at?"".concat(st(at)):"";switch(K){case"checked":return[q,"".concat(ct,' data-list="checked"')];case"unchecked":return[q,"".concat(ct,' data-list="unchecked"')];default:return[q,ct]}}function st(K){var at=K.domNode;if(!at.hasAttributes())return"";for(var q=at.attributes,ct=" ",pt=0;pt<q.length;pt+=1){var S=q[pt].name,o=q[pt].value;S==="class"&&(o=mt(o)),o.length&&S.indexOf("data-")===-1&&(ct+="".concat(S,'="').concat(o,'"'))}return ct.length>1?ct:""}function mt(K){return K.replace(/ql-indent-\d/g,"").trim()}function Tt(K){return K.reduce(function(at,q){if(typeof q.insert=="string"){var ct=q.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return at.insert(ct,q.attributes)}return at.push(q)},new(x()))}function et(K,at){var q=K.index,ct=K.length;return new j.e(q+at,ct)}const Y=vt},2069:(d,C,t)=>{t.d(C,{Z:()=>B});var y=t(3034),v=t.n(y),m=t(8034),g=t(2598),D=t(3122);function M(k){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},M(k)}function I(k,$){if(!(k instanceof $))throw new TypeError("Cannot call a class as a function")}function x(k,$){for(var J=0;J<$.length;J++){var ut=$[J];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(k,j(ut.key),ut)}}function N(k,$,J){return $&&x(k.prototype,$),Object.defineProperty(k,"prototype",{writable:!1}),k}function j(k){var $=L(k,"string");return M($)==="symbol"?$:String($)}function L(k,$){if(M(k)!=="object"||k===null)return k;var J=k[Symbol.toPrimitive];if(J!==void 0){var ut=J.call(k,$);if(M(ut)!=="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}function H(){return typeof Reflect<"u"&&Reflect.get?H=Reflect.get.bind():H=function($,J,ut){var ht=W($,J);if(ht){var dt=Object.getOwnPropertyDescriptor(ht,J);return dt.get?dt.get.call(arguments.length<3?$:ut):dt.value}},H.apply(this,arguments)}function W(k,$){for(;!Object.prototype.hasOwnProperty.call(k,$)&&(k=a(k),k!==null););return k}function E(k,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create($&&$.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),$&&R(k,$)}function R(k,$){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ut,ht){return ut.__proto__=ht,ut},R(k,$)}function F(k){var $=T();return function(){var ut=a(k),ht;if($){var dt=a(this).constructor;ht=Reflect.construct(ut,arguments,dt)}else ht=ut.apply(this,arguments);return it(this,ht)}}function it(k,$){if($&&(M($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(k)}function O(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(k){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},a(k)}var u=(0,D.Z)("quill:events"),c=["selectionchange","mousedown","mouseup","click"];(0,m.Z)()&&c.forEach(function(k){document.addEventListener(k,function(){for(var $=arguments.length,J=new Array($),ut=0;ut<$;ut++)J[ut]=arguments[ut];Array.from(document.querySelectorAll(".ql-container")).forEach(function(ht){var dt=g.Z.get(ht);if(dt&&dt.emitter){var nt;(nt=dt.emitter).handleDOM.apply(nt,J)}})})});var _=function(k){E(J,k);var $=F(J);function J(){var ut;return I(this,J),ut=$.call(this),ut.listeners={},ut.on("error",u.error),ut}return N(J,[{key:"emit",value:function(){for(var ht,dt,nt=arguments.length,_t=new Array(nt),Z=0;Z<nt;Z++)_t[Z]=arguments[Z];(ht=u.log).call.apply(ht,[u].concat(_t)),(dt=H(a(J.prototype),"emit",this)).call.apply(dt,[this].concat(_t))}},{key:"handleDOM",value:function(ht){for(var dt=arguments.length,nt=new Array(dt>1?dt-1:0),_t=1;_t<dt;_t++)nt[_t-1]=arguments[_t];(this.listeners[ht.type]||[]).forEach(function(Z){var vt=Z.node,tt=Z.handler;(ht.target===vt||vt.contains(ht.target))&&tt.apply(void 0,[ht].concat(nt))})}},{key:"listenDOM",value:function(ht,dt,nt){this.listeners[ht]||(this.listeners[ht]=[]),this.listeners[ht].push({node:dt,handler:nt})}}]),J}(v());_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},_.sources={API:"api",SILENT:"silent",USER:"user"};const B=_},2598:(d,C,t)=>{t.d(C,{Z:()=>y});const y=new WeakMap},3122:(d,C,t)=>{t.d(C,{Z:()=>D});var y=["error","warn","log","info"],v="warn";function m(M){if(y.indexOf(M)<=y.indexOf(v)){for(var I,x=arguments.length,N=new Array(x>1?x-1:0),j=1;j<x;j++)N[j-1]=arguments[j];(I=console)[M].apply(I,N)}}function g(M){return y.reduce(function(I,x){return I[x]=m.bind(console,x,M),I},{})}g.level=function(M){v=M},m.level=g.level;const D=g},7094:(d,C,t)=>{t.d(C,{Z:()=>g});function y(D,M,I){return Object.defineProperty(D,"prototype",{writable:!1}),D}function v(D,M){if(!(D instanceof M))throw new TypeError("Cannot call a class as a function")}var m=y(function D(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v(this,D),this.quill=M,this.options=I});m.DEFAULTS={};const g=m},281:(d,C,t)=>{t.d(C,{ZP:()=>nt});var y=t(9098),v=t.n(y),m=t(8805),g=t.n(m),D=t(732),M=t.n(D),I=t(1233),x=t(2861),N=t(2069),j=t(7094),L=t(7800),H=t(2598),W=t(3122),E=t(1690),R=t(5874);function F(lt){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},F(lt)}function it(lt,U,w){return U=J(U),U in lt?Object.defineProperty(lt,U,{value:w,enumerable:!0,configurable:!0,writable:!0}):lt[U]=w,lt}function O(lt,U){return _(lt)||c(lt,U)||a(lt,U)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(lt,U){if(lt){if(typeof lt=="string")return u(lt,U);var w=Object.prototype.toString.call(lt).slice(8,-1);if(w==="Object"&&lt.constructor&&(w=lt.constructor.name),w==="Map"||w==="Set")return Array.from(lt);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return u(lt,U)}}function u(lt,U){(U==null||U>lt.length)&&(U=lt.length);for(var w=0,V=new Array(U);w<U;w++)V[w]=lt[w];return V}function c(lt,U){var w=lt==null?null:typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(w!=null){var V,Q,G,st,mt=[],Tt=!0,et=!1;try{if(G=(w=w.call(lt)).next,U===0){if(Object(w)!==w)return;Tt=!1}else for(;!(Tt=(V=G.call(w)).done)&&(mt.push(V.value),mt.length!==U);Tt=!0);}catch(Y){et=!0,Q=Y}finally{try{if(!Tt&&w.return!=null&&(st=w.return(),Object(st)!==st))return}finally{if(et)throw Q}}return mt}}function _(lt){if(Array.isArray(lt))return lt}function B(lt,U){if(!(lt instanceof U))throw new TypeError("Cannot call a class as a function")}function k(lt,U){for(var w=0;w<U.length;w++){var V=U[w];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(lt,J(V.key),V)}}function $(lt,U,w){return U&&k(lt.prototype,U),w&&k(lt,w),Object.defineProperty(lt,"prototype",{writable:!1}),lt}function J(lt){var U=ut(lt,"string");return F(U)==="symbol"?U:String(U)}function ut(lt,U){if(F(lt)!=="object"||lt===null)return lt;var w=lt[Symbol.toPrimitive];if(w!==void 0){var V=w.call(lt,U||"default");if(F(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(lt)}var ht=(0,W.Z)("quill"),dt=new I.Registry;I.ParentBlot.uiClass="ql-ui";var nt=function(){function lt(U){var w=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(B(this,lt),this.options=_t(U,V),this.container=this.options.container,this.container==null)return ht.error("Invalid Quill container",U);this.options.debug&&lt.debug(this.options.debug);var Q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",H.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new N.Z;var G=this.options.registry.query(I.ScrollBlot.blotName);this.scroll=new G(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new x.Z(this.scroll),this.selection=new L.Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(N.Z.events.EDITOR_CHANGE,function(st){st===N.Z.events.TEXT_CHANGE&&w.toggleBlankClass()}),this.emitter.on(N.Z.events.SCROLL_UPDATE,function(st,mt){var Tt=w.selection.lastRange,et=w.selection.getRange(),Y=O(et,1),K=Y[0],at=Tt&&K?{oldRange:Tt,newRange:K}:void 0;Z.call(w,function(){return w.editor.update(null,mt,at)},st)}),this.setContents(this.getInitialContent(Q)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return $(lt,[{key:"getInitialContent",value:function(w){return this.clipboard.convert({html:"".concat(w,"<p><br></p>"),text:`
`})}},{key:"toggleBlankClass",value:function(){var w=this.selection.composing;this.root.classList.toggle("ql-blank",this.editor.isBlank(w))}},{key:"addContainer",value:function(w){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof w=="string"){var Q=w;w=document.createElement("div"),w.classList.add(Q)}return this.container.insertBefore(w,V),w}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(w,V,Q){var G=this,st=vt(w,V,Q),mt=O(st,4);return w=mt[0],V=mt[1],Q=mt[3],Z.call(this,function(){return G.editor.deleteText(w,V)},Q,w,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(w){this.allowReadOnlyEdits=!0;var V=w();return this.allowReadOnlyEdits=!1,V}},{key:"enable",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(w),this.container.classList.toggle("ql-disabled",!w)}},{key:"focus",value:function(){var w=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=w,this.scrollIntoView()}},{key:"format",value:function(w,V){var Q=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N.Z.sources.API;return Z.call(this,function(){var st=Q.getSelection(!0),mt=new(v());if(st==null)return mt;if(Q.scroll.query(w,I.Scope.BLOCK))mt=Q.editor.formatLine(st.index,st.length,it({},w,V));else{if(st.length===0)return Q.selection.format(w,V),mt;mt=Q.editor.formatText(st.index,st.length,it({},w,V))}return Q.setSelection(st,N.Z.sources.SILENT),mt},G)}},{key:"formatLine",value:function(w,V,Q,G,st){var mt=this,Tt,et=vt(w,V,Q,G,st),Y=O(et,4);return w=Y[0],V=Y[1],Tt=Y[2],st=Y[3],Z.call(this,function(){return mt.editor.formatLine(w,V,Tt)},st,w,0)}},{key:"formatText",value:function(w,V,Q,G,st){var mt=this,Tt,et=vt(w,V,Q,G,st),Y=O(et,4);return w=Y[0],V=Y[1],Tt=Y[2],st=Y[3],Z.call(this,function(){return mt.editor.formatText(w,V,Tt)},st,w,0)}},{key:"getBounds",value:function(w){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q;typeof w=="number"?Q=this.selection.getBounds(w,V):Q=this.selection.getBounds(w.index,w.length);var G=this.container.getBoundingClientRect();return{bottom:Q.bottom-G.top,height:Q.height,left:Q.left-G.left,right:Q.right-G.left,top:Q.top-G.top,width:Q.width}}},{key:"getContents",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,Q=vt(w,V),G=O(Q,2);return w=G[0],V=G[1],this.editor.getContents(w,V)}},{key:"getFormat",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,R.Z)(w)?typeof w=="number"?this.editor.getFormat(w,V):this.editor.getFormat(w.index,w.length):{}}},{key:"getIndex",value:function(w){return w.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(w){return this.scroll.leaf(w)}},{key:"getLine",value:function(w){return this.scroll.line(w)}},{key:"getLines",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof w!="number"?this.scroll.lines(w.index,w.length):this.scroll.lines(w,V)}},{key:"getModule",value:function(w){return this.theme.modules[w]}},{key:"getSelection",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return w&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,Q=vt(w,V),G=O(Q,2);return w=G[0],V=G[1],this.editor.getHTML(w,V)}},{key:"getText",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,Q=vt(w,V),G=O(Q,2);return w=G[0],V=G[1],this.editor.getText(w,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(w,V,Q){var G=this,st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:lt.sources.API;return Z.call(this,function(){return G.editor.insertEmbed(w,V,Q)},st,w)}},{key:"insertText",value:function(w,V,Q,G,st){var mt=this,Tt,et=vt(w,0,Q,G,st),Y=O(et,4);return w=Y[0],Tt=Y[2],st=Y[3],Z.call(this,function(){return mt.editor.insertText(w,V,Tt)},st,w,V.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var w;return(w=this.emitter).off.apply(w,arguments)}},{key:"on",value:function(){var w;return(w=this.emitter).on.apply(w,arguments)}},{key:"once",value:function(){var w;return(w=this.emitter).once.apply(w,arguments)}},{key:"removeFormat",value:function(w,V,Q){var G=this,st=vt(w,V,Q),mt=O(st,4);return w=mt[0],V=mt[1],Q=mt[3],Z.call(this,function(){return G.editor.removeFormat(w,V)},Q,w)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(w){var V=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.Z.sources.API;return Z.call(this,function(){w=new(v())(w);var G=V.getLength(),st=V.editor.deleteText(0,G),mt=V.editor.applyDelta(w),Tt=V.editor.deleteText(V.getLength()-1,1);return V.emitter.emit(lt.events.CONTENT_SETTED),st.compose(mt).compose(Tt)},Q)}},{key:"setSelection",value:function(w,V,Q){if(w==null)this.selection.setRange(null,V||lt.sources.API);else{var G=vt(w,V,Q),st=O(G,4);w=st[0],V=st[1],Q=st[3],this.selection.setRange(new L.e(Math.max(0,w),V),Q),Q!==N.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(w){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.Z.sources.API,Q=new(v())().insert(w);return this.setContents(Q,V)}},{key:"update",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N.Z.sources.USER,V=this.scroll.update(w);return this.selection.update(w),V}},{key:"updateContents",value:function(w){var V=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N.Z.sources.API;return Z.call(this,function(){return w=new(v())(w),V.editor.applyDelta(w,Q)},Q,!0)}}],[{key:"debug",value:function(w){w===!0&&(w="log"),W.Z.level(w)}},{key:"find",value:function(w){return H.Z.get(w)||dt.find(w)}},{key:"import",value:function(w){return this.imports[w]==null&&ht.error("Cannot import ".concat(w,". Are you sure it was registered?")),this.imports[w]}},{key:"register",value:function(w,V){var Q=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof w!="string"){var st=w.attrName||w.blotName;typeof st=="string"?this.register("formats/".concat(st),w,V):Object.keys(w).forEach(function(mt){Q.register(mt,w[mt],V)})}else this.imports[w]!=null&&!G&&ht.warn("Overwriting ".concat(w," with"),V),this.imports[w]=V,(w.indexOf("blots/")===0||w.indexOf("formats/")===0)&&V.blotName!=="abstract"&&dt.register(V),typeof V.register=="function"&&V.register(dt)}}]),lt}();nt.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:dt,scrollingContainer:null,theme:"default"},nt.events=N.Z.events,nt.sources=N.Z.sources,nt.version="1.6.3",nt.imports={delta:v(),parchment:I,"core/module":j.Z,"core/theme":E.Z};function _t(lt,U){if(U=M()({container:lt,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},U),!U.theme||U.theme===nt.DEFAULTS.theme)U.theme=E.Z;else if(U.theme=nt.import("themes/".concat(U.theme)),U.theme==null)throw new Error("Invalid theme ".concat(U.theme,". Did you register it?"));var w=g()(U.theme.DEFAULTS);[w,U].forEach(function(G){G.modules=G.modules||{},Object.keys(G.modules).forEach(function(st){G.modules[st]===!0&&(G.modules[st]={})})});var V=Object.keys(w.modules).concat(Object.keys(U.modules)),Q=V.reduce(function(G,st){var mt=nt.import("modules/".concat(st));return mt==null?ht.error("Cannot load ".concat(st," module. Are you sure you registered it?")):G[st]=mt.DEFAULTS||{},G},{});return U.modules!=null&&U.modules.toolbar&&U.modules.toolbar.constructor!==Object&&(U.modules.toolbar={container:U.modules.toolbar}),U=M()({},nt.DEFAULTS,{modules:Q},w,U),["bounds","container","scrollingContainer"].forEach(function(G){typeof U[G]=="string"&&(U[G]=document.querySelector(U[G]))}),U.modules=Object.keys(U.modules).reduce(function(G,st){return U.modules[st]&&(G[st]=U.modules[st]),G},{}),U}function Z(lt,U,w,V){if(!this.isEnabled()&&U===N.Z.sources.USER&&!this.allowReadOnlyEdits)return new(v());var Q=w==null?null:this.getSelection(),G=this.editor.delta,st=lt();if(Q!=null&&(w===!0&&(w=Q.index),V==null?Q=tt(Q,st,U):V!==0&&(Q=tt(Q,w,V,U)),this.setSelection(Q,N.Z.sources.SILENT)),st.length()>0){var mt,Tt=[N.Z.events.TEXT_CHANGE,st,G,U];if((mt=this.emitter).emit.apply(mt,[N.Z.events.EDITOR_CHANGE].concat(Tt)),U!==N.Z.sources.SILENT){var et;(et=this.emitter).emit.apply(et,Tt)}}return st}function vt(lt,U,w,V,Q){var G={};return typeof lt.index=="number"&&typeof lt.length=="number"?typeof U!="number"?(Q=V,V=w,w=U,U=lt.length,lt=lt.index):(U=lt.length,lt=lt.index):typeof U!="number"&&(Q=V,V=w,w=U,U=0),F(w)==="object"?(G=w,Q=V):typeof w=="string"&&(V!=null?G[w]=V:Q=w),Q=Q||N.Z.sources.API,[lt,U,G,Q]}function tt(lt,U,w,V){if(lt==null)return null;var Q,G;if(U instanceof v()){var st=[lt.index,lt.index+lt.length].map(function(Y){return U.transformPosition(Y,V!==N.Z.sources.USER)}),mt=O(st,2);Q=mt[0],G=mt[1]}else{var Tt=[lt.index,lt.index+lt.length].map(function(Y){return Y<U||Y===U&&V===N.Z.sources.USER?Y:w>=0?Y+w:Math.max(U,Y+w)}),et=O(Tt,2);Q=et[0],G=et[1]}return new L.e(Q,G-Q)}},7800:(d,C,t)=>{t.d(C,{Z:()=>$,e:()=>k});var y=t(1233),v=t(8805),m=t.n(v),g=t(2722),D=t.n(g),M=t(2069),I=t(3122);function x(ut){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ht){return typeof ht}:function(ht){return ht&&typeof Symbol=="function"&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht},x(ut)}function N(ut){return H(ut)||L(ut)||R(ut)||j()}function j(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(ut){if(typeof Symbol<"u"&&ut[Symbol.iterator]!=null||ut["@@iterator"]!=null)return Array.from(ut)}function H(ut){if(Array.isArray(ut))return F(ut)}function W(ut,ht){return O(ut)||it(ut,ht)||R(ut,ht)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(ut,ht){if(ut){if(typeof ut=="string")return F(ut,ht);var dt=Object.prototype.toString.call(ut).slice(8,-1);if(dt==="Object"&&ut.constructor&&(dt=ut.constructor.name),dt==="Map"||dt==="Set")return Array.from(ut);if(dt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return F(ut,ht)}}function F(ut,ht){(ht==null||ht>ut.length)&&(ht=ut.length);for(var dt=0,nt=new Array(ht);dt<ht;dt++)nt[dt]=ut[dt];return nt}function it(ut,ht){var dt=ut==null?null:typeof Symbol<"u"&&ut[Symbol.iterator]||ut["@@iterator"];if(dt!=null){var nt,_t,Z,vt,tt=[],lt=!0,U=!1;try{if(Z=(dt=dt.call(ut)).next,ht===0){if(Object(dt)!==dt)return;lt=!1}else for(;!(lt=(nt=Z.call(dt)).done)&&(tt.push(nt.value),tt.length!==ht);lt=!0);}catch(w){U=!0,_t=w}finally{try{if(!lt&&dt.return!=null&&(vt=dt.return(),Object(vt)!==vt))return}finally{if(U)throw _t}}return tt}}function O(ut){if(Array.isArray(ut))return ut}function T(ut,ht){for(var dt=0;dt<ht.length;dt++){var nt=ht[dt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(ut,u(nt.key),nt)}}function a(ut,ht,dt){return ht&&T(ut.prototype,ht),Object.defineProperty(ut,"prototype",{writable:!1}),ut}function u(ut){var ht=c(ut,"string");return x(ht)==="symbol"?ht:String(ht)}function c(ut,ht){if(x(ut)!=="object"||ut===null)return ut;var dt=ut[Symbol.toPrimitive];if(dt!==void 0){var nt=dt.call(ut,ht);if(x(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ut)}function _(ut,ht){if(!(ut instanceof ht))throw new TypeError("Cannot call a class as a function")}var B=(0,I.Z)("quill:selection"),k=a(function ut(ht){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,ut),this.index=ht,this.length=dt}),$=function(){function ut(ht,dt){var nt=this;_(this,ut),this.emitter=dt,this.scroll=ht,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new k(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!nt.mouseDown&&!nt.composing&&setTimeout(nt.update.bind(nt,M.Z.sources.USER),1)}),this.emitter.on(M.Z.events.SCROLL_BEFORE_UPDATE,function(){if(nt.hasFocus()){var _t=nt.getNativeRange();_t!=null&&_t.start.node!==nt.cursor.textNode&&nt.emitter.once(M.Z.events.SCROLL_UPDATE,function(){try{nt.root.contains(_t.start.node)&&nt.root.contains(_t.end.node)&&nt.setNativeRange(_t.start.node,_t.start.offset,_t.end.node,_t.end.offset),nt.update(M.Z.sources.SILENT)}catch{}})}}),this.emitter.on(M.Z.events.SCROLL_OPTIMIZE,function(_t,Z){if(Z.range){var vt=Z.range,tt=vt.startNode,lt=vt.startOffset,U=vt.endNode,w=vt.endOffset;nt.setNativeRange(tt,lt,U,w),nt.update(M.Z.sources.SILENT)}}),this.update(M.Z.sources.SILENT)}return a(ut,[{key:"handleComposition",value:function(){var dt=this;this.root.addEventListener("compositionstart",function(){dt.composing=!0,dt.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(dt.scroll.batchEnd(),dt.composing=!1,dt.cursor.parent){var nt=dt.cursor.restore();if(!nt)return;setTimeout(function(){dt.setNativeRange(nt.startNode,nt.startOffset,nt.endNode,nt.endOffset)},1)}})}},{key:"handleDragging",value:function(){var dt=this;this.emitter.listenDOM("mousedown",document.body,function(){dt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){dt.mouseDown=!1,dt.update(M.Z.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(dt,nt){this.scroll.update();var _t=this.getNativeRange();if(!(_t==null||!_t.native.collapsed||this.scroll.query(dt,y.Scope.BLOCK))){if(_t.start.node!==this.cursor.textNode){var Z=this.scroll.find(_t.start.node,!1);if(Z==null)return;if(Z instanceof y.LeafBlot){var vt=Z.split(_t.start.offset);Z.parent.insertBefore(this.cursor,vt)}else Z.insertBefore(this.cursor,_t.start.node);this.cursor.attach()}this.cursor.format(dt,nt),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(dt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_t=this.scroll.length();dt=Math.min(dt,_t-1),nt=Math.min(dt+nt,_t-1)-dt;var Z,vt=this.scroll.leaf(dt),tt=W(vt,2),lt=tt[0],U=tt[1];if(lt==null)return null;var w=this.getPositionData(lt,U,!0),V=W(w,2);Z=V[0],U=V[1];var Q=document.createRange();if(nt>0){Q.setStart(Z,U);var G=this.scroll.leaf(dt+nt),st=W(G,2);if(lt=st[0],U=st[1],lt==null)return null;var mt=this.getPositionData(lt,U,!0),Tt=W(mt,2);return Z=Tt[0],U=Tt[1],Q.setEnd(Z,U),Q.getBoundingClientRect()}var et="left",Y;return Z instanceof Text?(U<Z.data.length?(Q.setStart(Z,U),Q.setEnd(Z,U+1)):(Q.setStart(Z,U-1),Q.setEnd(Z,U),et="right"),Y=Q.getBoundingClientRect()):(Y=lt.domNode.getBoundingClientRect(),U>0&&(et="right")),{bottom:Y.top+Y.height,height:Y.height,left:Y[et],right:Y[et],top:Y.top,width:0}}},{key:"getNativeRange",value:function(){var dt,nt,_t=this.root.getRootNode(),Z=(dt=(nt=_t.getSelection)===null||nt===void 0?void 0:nt.call(_t))!==null&&dt!==void 0?dt:document.getSelection();if(Z==null||Z.rangeCount<=0)return null;var vt=Z.getRangeAt(0);if(vt==null)return null;var tt=this.normalizeNative(vt);return B.info("getNativeRange",tt),tt}},{key:"getRange",value:function(){var dt=this.getNativeRange();if(dt==null)return[null,null];var nt=this.normalizedToRange(dt);return[nt,dt]}},{key:"hasFocus",value:function(){var dt=this.root.getRootNode();return dt.activeElement===this.root||J(this.root,dt.activeElement)}},{key:"normalizedToRange",value:function(dt){var nt=this,_t=[[dt.start.node,dt.start.offset]];dt.native.collapsed||_t.push([dt.end.node,dt.end.offset]);var Z=_t.map(function(lt){var U=W(lt,2),w=U[0],V=U[1],Q=nt.scroll.find(w,!0),G=Q.offset(nt.scroll);return V===0?G:Q instanceof y.LeafBlot?G+Q.index(w,V):G+Q.length()}),vt=Math.min(Math.max.apply(Math,N(Z)),this.scroll.length()-1),tt=Math.min.apply(Math,[vt].concat(N(Z)));return new k(tt,vt-tt)}},{key:"normalizeNative",value:function(dt){if(!J(this.root,dt.startContainer)||!dt.collapsed&&!J(this.root,dt.endContainer))return null;var nt={start:{node:dt.startContainer,offset:dt.startOffset},end:{node:dt.endContainer,offset:dt.endOffset},native:dt};return[nt.start,nt.end].forEach(function(_t){for(var Z=_t.node,vt=_t.offset;!(Z instanceof Text)&&Z.childNodes.length>0;)if(Z.childNodes.length>vt)Z=Z.childNodes[vt],vt=0;else if(Z.childNodes.length===vt)Z=Z.lastChild,Z instanceof Text?vt=Z.data.length:Z.childNodes.length>0?vt=Z.childNodes.length:vt=Z.childNodes.length+1;else break;_t.node=Z,_t.offset=vt}),nt}},{key:"rangeToNative",value:function(dt){var nt=this,_t=dt.collapsed?[dt.index]:[dt.index,dt.index+dt.length],Z=[],vt=this.scroll.length();return _t.forEach(function(tt,lt){tt=Math.min(vt-1,tt);var U=nt.scroll.leaf(tt),w=W(U,2),V=w[0],Q=w[1],G=nt.getPositionData(V,Q,lt!==0),st=W(G,2),mt=st[0],Tt=st[1];Z.push(mt,Tt)}),Z.length<2?Z.concat(Z):Z}},{key:"getPositionData",value:function(dt,nt,_t){return dt instanceof y.LeafBlot?dt.position(nt,_t):[dt.domNode,nt]}},{key:"scrollIntoView",value:function(dt){var nt=this.lastRange;if(nt!=null){var _t=this.getBounds(nt.index,nt.length);if(_t!=null){var Z=this.scroll.length()-1,vt=this.scroll.line(Math.min(nt.index,Z)),tt=W(vt,1),lt=tt[0],U=lt;if(nt.length>0){var w=this.scroll.line(Math.min(nt.index+nt.length,Z)),V=W(w,1);U=V[0]}if(!(lt==null||U==null)){var Q=dt.getBoundingClientRect();_t.top<Q.top?dt.scrollTop-=Q.top-_t.top:_t.bottom>Q.bottom&&(dt.scrollTop+=_t.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(dt,nt){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dt,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:nt,vt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(B.info("setNativeRange",dt,nt,_t,Z),!(dt!=null&&(this.root.parentNode==null||dt.parentNode==null||_t.parentNode==null))){var tt=document.getSelection();if(tt!=null)if(dt!=null){this.hasFocus()||this.root.focus();var lt=this.getNativeRange()||{},U=lt.native;if(U==null||vt||dt!==U.startContainer||nt!==U.startOffset||_t!==U.endContainer||Z!==U.endOffset){dt.tagName==="BR"&&(nt=Array.from(dt.parentNode.childNodes).indexOf(dt),dt=dt.parentNode),_t.tagName==="BR"&&(Z=Array.from(_t.parentNode.childNodes).indexOf(_t),_t=_t.parentNode);var w=document.createRange();w.setStart(dt,nt),w.setEnd(_t,Z),tt.removeAllRanges(),tt.addRange(w)}}else tt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(dt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.Z.sources.API;if(typeof nt=="string"&&(_t=nt,nt=!1),B.info("setRange",dt),dt!=null){var Z=this.rangeToNative(dt);this.setNativeRange.apply(this,N(Z).concat([nt]))}else this.setNativeRange(null);this.update(_t)}},{key:"update",value:function(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.Z.sources.USER,nt=this.lastRange,_t=this.getRange(),Z=W(_t,2),vt=Z[0],tt=Z[1];if(this.lastRange=vt,this.lastNative=tt,this.lastRange!=null&&(this.savedRange=this.lastRange),!D()(nt,this.lastRange)){var lt;if(!this.composing&&tt!=null&&tt.native.collapsed&&tt.start.node!==this.cursor.textNode){var U=this.cursor.restore();U&&this.setNativeRange(U.startNode,U.startOffset,U.endNode,U.endOffset)}var w=[M.Z.events.SELECTION_CHANGE,m()(this.lastRange),m()(nt),dt];if((lt=this.emitter).emit.apply(lt,[M.Z.events.EDITOR_CHANGE].concat(w)),dt!==M.Z.sources.SILENT){var V;(V=this.emitter).emit.apply(V,w)}}}}]),ut}();function J(ut,ht){try{ht.parentNode}catch{return!1}return ht instanceof Text&&(ht=ht.parentNode),ut.contains(ht)}},1690:(d,C,t)=>{t.d(C,{Z:()=>x});function y(N){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},y(N)}function v(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function m(N,j){for(var L=0;L<j.length;L++){var H=j[L];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,D(H.key),H)}}function g(N,j,L){return j&&m(N.prototype,j),Object.defineProperty(N,"prototype",{writable:!1}),N}function D(N){var j=M(N,"string");return y(j)==="symbol"?j:String(j)}function M(N,j){if(y(N)!=="object"||N===null)return N;var L=N[Symbol.toPrimitive];if(L!==void 0){var H=L.call(N,j);if(y(H)!=="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}var I=function(){function N(j,L){v(this,N),this.quill=j,this.options=L,this.modules={}}return g(N,[{key:"init",value:function(){var L=this;Object.keys(this.options.modules).forEach(function(H){L.modules[H]==null&&L.addModule(H)})}},{key:"addModule",value:function(L){var H=this.quill.constructor.import("modules/".concat(L));return this.modules[L]=new H(this.quill,this.options.modules[L]||{}),this.modules[L]}}]),N}();I.DEFAULTS={modules:{}},I.themes={default:I};const x=I},715:(d,C,t)=>{t.d(C,{HE:()=>D,dk:()=>g,if:()=>m});var y=t(1233),v={scope:y.Scope.BLOCK,whitelist:["right","center","justify"]},m=new y.Attributor("align","align",v),g=new y.ClassAttributor("align","ql-align",v),D=new y.StyleAttributor("align","text-align",v)},7898:(d,C,t)=>{t.d(C,{Y:()=>m,w:()=>g});var y=t(1233),v=t(6039),m=new y.ClassAttributor("background","ql-bg",{scope:y.Scope.INLINE}),g=new v.OO("background","background-color",{scope:y.Scope.INLINE})},3991:(d,C,t)=>{t.d(C,{Z:()=>O});var y=t(6603);function v(T){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(T)}function m(T,a){if(!(T instanceof a))throw new TypeError("Cannot call a class as a function")}function g(T,a){for(var u=0;u<a.length;u++){var c=a[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(T,M(c.key),c)}}function D(T,a,u){return a&&g(T.prototype,a),u&&g(T,u),Object.defineProperty(T,"prototype",{writable:!1}),T}function M(T){var a=I(T,"string");return v(a)==="symbol"?a:String(a)}function I(T,a){if(v(T)!=="object"||T===null)return T;var u=T[Symbol.toPrimitive];if(u!==void 0){var c=u.call(T,a);if(v(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}function x(){return typeof Reflect<"u"&&Reflect.get?x=Reflect.get.bind():x=function(a,u,c){var _=N(a,u);if(_){var B=Object.getOwnPropertyDescriptor(_,u);return B.get?B.get.call(arguments.length<3?a:c):B.value}},x.apply(this,arguments)}function N(T,a){for(;!Object.prototype.hasOwnProperty.call(T,a)&&(T=F(T),T!==null););return T}function j(T,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(a&&a.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),a&&L(T,a)}function L(T,a){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,_){return c.__proto__=_,c},L(T,a)}function H(T){var a=R();return function(){var c=F(T),_;if(a){var B=F(this).constructor;_=Reflect.construct(c,arguments,B)}else _=c.apply(this,arguments);return W(this,_)}}function W(T,a){if(a&&(v(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(T)}function E(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(T){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},F(T)}var it=function(T){j(u,T);var a=H(u);function u(){return m(this,u),a.apply(this,arguments)}return D(u,[{key:"optimize",value:function(_){x(F(u.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return x(F(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),u}(y.Z);it.blotName="bold",it.tagName=["STRONG","B"];const O=it},7309:(d,C,t)=>{t.d(C,{EK:()=>k,ZP:()=>B,se:()=>_});var y=t(6446),v=t(4122),m=t(3657),g=t(6603),D=t(8222),M=t(3553),I=t(281);function x($){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},x($)}function N($,J){if(!($ instanceof J))throw new TypeError("Cannot call a class as a function")}function j($,J){for(var ut=0;ut<J.length;ut++){var ht=J[ut];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty($,H(ht.key),ht)}}function L($,J,ut){return J&&j($.prototype,J),ut&&j($,ut),Object.defineProperty($,"prototype",{writable:!1}),$}function H($){var J=W($,"string");return x(J)==="symbol"?J:String(J)}function W($,J){if(x($)!=="object"||$===null)return $;var ut=$[Symbol.toPrimitive];if(ut!==void 0){var ht=ut.call($,J);if(x(ht)!=="object")return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}function E(){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get.bind():E=function(J,ut,ht){var dt=R(J,ut);if(dt){var nt=Object.getOwnPropertyDescriptor(dt,ut);return nt.get?nt.get.call(arguments.length<3?J:ht):nt.value}},E.apply(this,arguments)}function R($,J){for(;!Object.prototype.hasOwnProperty.call($,J)&&($=c($),$!==null););return $}function F($,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(J&&J.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),J&&it($,J)}function it($,J){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ht,dt){return ht.__proto__=dt,ht},it($,J)}function O($){var J=u();return function(){var ht=c($),dt;if(J){var nt=c(this).constructor;dt=Reflect.construct(ht,arguments,nt)}else dt=ht.apply(this,arguments);return T(this,dt)}}function T($,J){if(J&&(x(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a($)}function a($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c($){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},c($)}var _=function($){F(ut,$);var J=O(ut);function ut(){return N(this,ut),J.apply(this,arguments)}return L(ut,[{key:"code",value:function(dt,nt){var _t=this.children.map(function(Z){return Z.length()<=1?"":Z.domNode.textContent}).join(`
`).slice(dt,dt+nt);return(0,D.b)(_t)}},{key:"html",value:function(dt,nt){return`<pre>
`.concat(this.code(dt,nt),`
</pre>`)}}],[{key:"create",value:function(dt){var nt=E(c(ut),"create",this).call(this,dt);return nt.setAttribute("spellcheck",!1),nt}}]),ut}(M.Z),B=function($){F(ut,$);var J=O(ut);function ut(){return N(this,ut),J.apply(this,arguments)}return L(ut,null,[{key:"register",value:function(){I.ZP.register(_)}}]),ut}(y.ZP),k=function($){F(ut,$);var J=O(ut);function ut(){return N(this,ut),J.apply(this,arguments)}return L(ut)}(g.Z);k.blotName="code",k.tagName="CODE",B.blotName="code-block",B.className="ql-code-block",B.tagName="DIV",_.blotName="code-block-container",_.className="ql-code-block-container",_.tagName="DIV",_.allowedChildren=[B],B.allowedChildren=[D.Z,v.Z,m.Z],B.requiredContainer=_,B.TAB="  "},6039:(d,C,t)=>{t.d(C,{HQ:()=>T,Hn:()=>O,OO:()=>it});var y=t(1233);function v(a){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},v(a)}function m(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}function g(a,u){for(var c=0;c<u.length;c++){var _=u[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,M(_.key),_)}}function D(a,u,c){return u&&g(a.prototype,u),Object.defineProperty(a,"prototype",{writable:!1}),a}function M(a){var u=I(a,"string");return v(u)==="symbol"?u:String(u)}function I(a,u){if(v(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var _=c.call(a,u);if(v(_)!=="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}function x(){return typeof Reflect<"u"&&Reflect.get?x=Reflect.get.bind():x=function(u,c,_){var B=N(u,c);if(B){var k=Object.getOwnPropertyDescriptor(B,c);return k.get?k.get.call(arguments.length<3?u:_):k.value}},x.apply(this,arguments)}function N(a,u){for(;!Object.prototype.hasOwnProperty.call(a,u)&&(a=F(a),a!==null););return a}function j(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&L(a,u)}function L(a,u){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,B){return _.__proto__=B,_},L(a,u)}function H(a){var u=R();return function(){var _=F(a),B;if(u){var k=F(this).constructor;B=Reflect.construct(_,arguments,k)}else B=_.apply(this,arguments);return W(this,B)}}function W(a,u){if(u&&(v(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(a)}function E(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(a){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},F(a)}var it=function(a){j(c,a);var u=H(c);function c(){return m(this,c),u.apply(this,arguments)}return D(c,[{key:"value",value:function(B){var k=x(F(c.prototype),"value",this).call(this,B);if(k.indexOf("rgb(")!==0)return k;k=k.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var $=k.split(",").map(function(J){return"00".concat(parseInt(J,10).toString(16)).slice(-2)}).join("");return"#".concat($)}}]),c}(y.StyleAttributor),O=new y.ClassAttributor("color","ql-color",{scope:y.Scope.INLINE}),T=new it("color","color",{scope:y.Scope.INLINE})},4048:(d,C,t)=>{t.d(C,{H8:()=>D,IF:()=>m,hY:()=>g});var y=t(1233),v={scope:y.Scope.BLOCK,whitelist:["rtl"]},m=new y.Attributor("direction","dir",v),g=new y.ClassAttributor("direction","ql-direction",v),D=new y.StyleAttributor("direction","direction",v)},5832:(d,C,t)=>{t.d(C,{H:()=>a,_:()=>O});var y=t(1233);function v(u){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},v(u)}function m(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function g(u,c){for(var _=0;_<c.length;_++){var B=c[_];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(u,M(B.key),B)}}function D(u,c,_){return c&&g(u.prototype,c),Object.defineProperty(u,"prototype",{writable:!1}),u}function M(u){var c=I(u,"string");return v(c)==="symbol"?c:String(c)}function I(u,c){if(v(u)!=="object"||u===null)return u;var _=u[Symbol.toPrimitive];if(_!==void 0){var B=_.call(u,c);if(v(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}function x(){return typeof Reflect<"u"&&Reflect.get?x=Reflect.get.bind():x=function(c,_,B){var k=N(c,_);if(k){var $=Object.getOwnPropertyDescriptor(k,_);return $.get?$.get.call(arguments.length<3?c:B):$.value}},x.apply(this,arguments)}function N(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&(u=F(u),u!==null););return u}function j(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),c&&L(u,c)}function L(u,c){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,k){return B.__proto__=k,B},L(u,c)}function H(u){var c=R();return function(){var B=F(u),k;if(c){var $=F(this).constructor;k=Reflect.construct(B,arguments,$)}else k=B.apply(this,arguments);return W(this,k)}}function W(u,c){if(c&&(v(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(u)}function E(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(u){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},F(u)}var it={scope:y.Scope.INLINE,whitelist:["serif","monospace"]},O=new y.ClassAttributor("font","ql-font",it),T=function(u){j(_,u);var c=H(_);function _(){return m(this,_),c.apply(this,arguments)}return D(_,[{key:"value",value:function(k){return x(F(_.prototype),"value",this).call(this,k).replace(/["']/g,"")}}]),_}(y.StyleAttributor),a=new T("font","font-family",it)},7256:(d,C,t)=>{t.d(C,{N:()=>O,Z:()=>it});var y=t(6603);function v(T){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(T)}function m(T,a){if(!(T instanceof a))throw new TypeError("Cannot call a class as a function")}function g(T,a){for(var u=0;u<a.length;u++){var c=a[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(T,M(c.key),c)}}function D(T,a,u){return a&&g(T.prototype,a),u&&g(T,u),Object.defineProperty(T,"prototype",{writable:!1}),T}function M(T){var a=I(T,"string");return v(a)==="symbol"?a:String(a)}function I(T,a){if(v(T)!=="object"||T===null)return T;var u=T[Symbol.toPrimitive];if(u!==void 0){var c=u.call(T,a);if(v(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}function x(){return typeof Reflect<"u"&&Reflect.get?x=Reflect.get.bind():x=function(a,u,c){var _=N(a,u);if(_){var B=Object.getOwnPropertyDescriptor(_,u);return B.get?B.get.call(arguments.length<3?a:c):B.value}},x.apply(this,arguments)}function N(T,a){for(;!Object.prototype.hasOwnProperty.call(T,a)&&(T=F(T),T!==null););return T}function j(T,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(a&&a.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),a&&L(T,a)}function L(T,a){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,_){return c.__proto__=_,c},L(T,a)}function H(T){var a=R();return function(){var c=F(T),_;if(a){var B=F(this).constructor;_=Reflect.construct(c,arguments,B)}else _=c.apply(this,arguments);return W(this,_)}}function W(T,a){if(a&&(v(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(T)}function E(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(T){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},F(T)}var it=function(T){j(u,T);var a=H(u);function u(){return m(this,u),a.apply(this,arguments)}return D(u,[{key:"format",value:function(_,B){_!==this.statics.blotName||!B?x(F(u.prototype),"format",this).call(this,_,B):this.domNode.setAttribute("href",this.constructor.sanitize(B))}}],[{key:"create",value:function(_){var B=x(F(u),"create",this).call(this,_);return B.setAttribute("href",this.sanitize(_)),B.setAttribute("rel","noopener noreferrer"),B.setAttribute("target","_blank"),B}},{key:"formats",value:function(_){return _.getAttribute("href")}},{key:"sanitize",value:function(_){return O(_,this.PROTOCOL_WHITELIST)?_:this.SANITIZED_URL}}]),u}(y.Z);it.blotName="link",it.tagName="A",it.SANITIZED_URL="about:blank",it.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function O(T,a){var u=document.createElement("a");u.href=T;var c=u.href.slice(0,u.href.indexOf(":"));return a.indexOf(c)>-1}},1629:(d,C,t)=>{t.d(C,{Z:()=>m,m:()=>v});var y=t(1233),v=new y.ClassAttributor("size","ql-size",{scope:y.Scope.INLINE,whitelist:["small","large","huge"]}),m=new y.StyleAttributor("size","font-size",{scope:y.Scope.INLINE,whitelist:["10px","18px","32px"]})},1342:(d,C,t)=>{t.d(C,{Du:()=>H,h6:()=>W,kk:()=>L,yA:()=>j});var y=t(6062),v=t(1801),m=t(8252);function g(E){return x(E)||I(E)||M(E)||D()}function D(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(E,R){if(E){if(typeof E=="string")return N(E,R);var F=Object.prototype.toString.call(E).slice(8,-1);if(F==="Object"&&E.constructor&&(F=E.constructor.name),F==="Map"||F==="Set")return Array.from(E);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return N(E,R)}}function I(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}function x(E){if(Array.isArray(E))return N(E)}function N(E,R){(R==null||R>E.length)&&(R=E.length);for(var F=0,it=new Array(R);F<R;F++)it[F]=E[F];return it}var j=m.F1.map(function(E){return(0,y.Z)(m.Pw,E)}),L=m.Mu.map(function(E){return(0,v.Z)(m.Pw,E)}),H=L.reduce(function(E,R){return E[R.attrName]=R,E},{}),W=[].concat(g(j),g(L)).reduce(function(E,R){return E[R.keyName]=R,E},{})},8252:(d,C,t)=>{t.d(C,{F1:()=>v,Mu:()=>m,Pw:()=>y,fU:()=>g});var y={name:"cell",allowedTags:["TH","TD","TR"]},v=["height","width"],m=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],g=new Set([].concat(v,m))},6062:(d,C,t)=>{t.d(C,{Z:()=>I});var y=t(1674),v=t(2141),m=t(3398),g=["name"];function D(x,N){if(x==null)return{};var j=M(x,N),L,H;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(x);for(H=0;H<W.length;H++)L=W[H],!(N.indexOf(L)>=0)&&Object.prototype.propertyIsEnumerable.call(x,L)&&(j[L]=x[L])}return j}function M(x,N){if(x==null)return{};var j={},L=Object.keys(x),H,W;for(W=0;W<L.length;W++)H=L[W],!(N.indexOf(H)>=0)&&(j[H]=x[H]);return j}function I(x,N){var j=x.name,L=D(x,g),H="".concat(j).concat((0,v.Z)(N)),W="".concat(m.WT.attribute).concat(j,"_").concat(N);return new y.Z(H,W,L)}},1801:(d,C,t)=>{t.d(C,{Z:()=>W});var y=t(4569),v=t(2141),m=t(3398),g=["name","formatName"];function D(E,R){return j(E)||N(E,R)||I(E,R)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(E,R){if(E){if(typeof E=="string")return x(E,R);var F=Object.prototype.toString.call(E).slice(8,-1);if(F==="Object"&&E.constructor&&(F=E.constructor.name),F==="Map"||F==="Set")return Array.from(E);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return x(E,R)}}function x(E,R){(R==null||R>E.length)&&(R=E.length);for(var F=0,it=new Array(R);F<R;F++)it[F]=E[F];return it}function N(E,R){var F=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(F!=null){var it,O,T,a,u=[],c=!0,_=!1;try{if(T=(F=F.call(E)).next,R!==0)for(;!(c=(it=T.call(F)).done)&&(u.push(it.value),u.length!==R);c=!0);}catch(B){_=!0,O=B}finally{try{if(!c&&F.return!=null&&(a=F.return(),Object(a)!==a))return}finally{if(_)throw O}}return u}}function j(E){if(Array.isArray(E))return E}function L(E,R){if(E==null)return{};var F=H(E,R),it,O;if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(E);for(O=0;O<T.length;O++)it=T[O],!(R.indexOf(it)>=0)&&Object.prototype.propertyIsEnumerable.call(E,it)&&(F[it]=E[it])}return F}function H(E,R){if(E==null)return{};var F={},it=Object.keys(E),O,T;for(T=0;T<it.length;T++)O=it[T],!(R.indexOf(O)>=0)&&(F[O]=E[O]);return F}function W(E,R){var F=E.name,it=E.formatName,O=L(E,g),T=R.split("-"),a=D(T,2),u=a[0],c=a[1],_="".concat(F).concat((0,v.Z)(it??u)).concat(c?(0,v.Z)(c):""),B="".concat(m.WT.style).concat(F,"_").concat(R);return new y.Z(_,B,O)}},319:(d,C,t)=>{t.d(C,{Qu:()=>j,VT:()=>L,Zt:()=>W,li:()=>H});var y=t(6062),v=t(1801),m=t(19);function g(E){return x(E)||I(E)||M(E)||D()}function D(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(E,R){if(E){if(typeof E=="string")return N(E,R);var F=Object.prototype.toString.call(E).slice(8,-1);if(F==="Object"&&E.constructor&&(F=E.constructor.name),F==="Map"||F==="Set")return Array.from(E);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return N(E,R)}}function I(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}function x(E){if(Array.isArray(E))return N(E)}function N(E,R){(R==null||R>E.length)&&(R=E.length);for(var F=0,it=new Array(R);F<R;F++)it[F]=E[F];return it}var j=m.N2.map(function(E){return(0,y.Z)(m.Sp,E)}),L=m.GX.map(function(E){return(0,v.Z)(m.Sp,E)}),H=L.reduce(function(E,R){return E[R.attrName]=R,E},{}),W=[].concat(g(j),g(L)).reduce(function(E,R){return E[R.keyName]=R,E},{})},19:(d,C,t)=>{t.d(C,{GX:()=>m,N2:()=>v,Sp:()=>y,bc:()=>g});var y={name:"table",allowedTags:["TABLE"]},v=["height","width"],m=["height","width","text-align","background-color","border","border-style","border-width","border-color"],g=new Set([].concat(v,m))},8536:(d,C,t)=>{t.d(C,{Z:()=>y});function y(){return Math.random().toString(36).slice(2,6)}},1969:(d,C,t)=>{t.d(C,{KA:()=>Tt,Lv:()=>q,RM:()=>Y,SC:()=>mt,iD:()=>w,pj:()=>Q,xD:()=>K,xJ:()=>at,xs:()=>G,zW:()=>U});var y=t(6446),v=t(4122),m=t(3553),g=t(5874),D=t(1342),M=t(319),I=t(8536),x=t(2795);function N(pt){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},N(pt)}function j(pt,S){return W(pt)||H(pt,S)||F(pt,S)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(pt,S){var o=pt==null?null:typeof Symbol<"u"&&pt[Symbol.iterator]||pt["@@iterator"];if(o!=null){var i,s,b,z,yt=[],wt=!0,jt=!1;try{if(b=(o=o.call(pt)).next,S!==0)for(;!(wt=(i=b.call(o)).done)&&(yt.push(i.value),yt.length!==S);wt=!0);}catch(Ut){jt=!0,s=Ut}finally{try{if(!wt&&o.return!=null&&(z=o.return(),Object(z)!==z))return}finally{if(jt)throw s}}return yt}}function W(pt){if(Array.isArray(pt))return pt}function E(pt){return O(pt)||it(pt)||F(pt)||R()}function R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(pt,S){if(pt){if(typeof pt=="string")return T(pt,S);var o=Object.prototype.toString.call(pt).slice(8,-1);if(o==="Object"&&pt.constructor&&(o=pt.constructor.name),o==="Map"||o==="Set")return Array.from(pt);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return T(pt,S)}}function it(pt){if(typeof Symbol<"u"&&pt[Symbol.iterator]!=null||pt["@@iterator"]!=null)return Array.from(pt)}function O(pt){if(Array.isArray(pt))return T(pt)}function T(pt,S){(S==null||S>pt.length)&&(S=pt.length);for(var o=0,i=new Array(S);o<S;o++)i[o]=pt[o];return i}function a(pt,S){if(!(pt instanceof S))throw new TypeError("Cannot call a class as a function")}function u(pt,S){for(var o=0;o<S.length;o++){var i=S[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(pt,_(i.key),i)}}function c(pt,S,o){return S&&u(pt.prototype,S),o&&u(pt,o),Object.defineProperty(pt,"prototype",{writable:!1}),pt}function _(pt){var S=B(pt,"string");return N(S)==="symbol"?S:String(S)}function B(pt,S){if(N(pt)!=="object"||pt===null)return pt;var o=pt[Symbol.toPrimitive];if(o!==void 0){var i=o.call(pt,S);if(N(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(pt)}function k(){return typeof Reflect<"u"&&Reflect.get?k=Reflect.get.bind():k=function(S,o,i){var s=$(S,o);if(s){var b=Object.getOwnPropertyDescriptor(s,o);return b.get?b.get.call(arguments.length<3?S:i):b.value}},k.apply(this,arguments)}function $(pt,S){for(;!Object.prototype.hasOwnProperty.call(pt,S)&&(pt=Z(pt),pt!==null););return pt}function J(pt,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");pt.prototype=Object.create(S&&S.prototype,{constructor:{value:pt,writable:!0,configurable:!0}}),Object.defineProperty(pt,"prototype",{writable:!1}),S&&ut(pt,S)}function ut(pt,S){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},ut(pt,S)}function ht(pt){var S=_t();return function(){var i=Z(pt),s;if(S){var b=Z(this).constructor;s=Reflect.construct(i,arguments,b)}else s=i.apply(this,arguments);return dt(this,s)}}function dt(pt,S){if(S&&(N(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(pt)}function nt(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z(pt){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Z(pt)}var vt=["row","cell"],tt="data-table-";function lt(pt,S,o){pt.forEachAt(S,o,function(i,s,b){i.deleteAt(s,b)})}var U=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o,[{key:"optimize",value:function(){var s,b=this.domNode.getAttribute("".concat(tt,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var z=this.domNode,yt={row:b};Object.keys(D.Du).forEach(function(Vt){var Yt=z.dataset[Vt.toLowerCase()];Yt&&(yt[Vt]=Yt)}),this.wrap(this.statics.requiredContainer.blotName,yt)}for(var wt=arguments.length,jt=new Array(wt),Ut=0;Ut<wt;Ut++)jt[Ut]=arguments[Ut];(s=k(Z(o.prototype),"optimize",this)).call.apply(s,[this].concat(jt))}},{key:"format",value:function(s,b){var z=s==="tableCellLine";z&&b===null&&(b=this.formats().tableCellLine);var yt=vt.indexOf(s)>-1;if(yt||M.li[s]||D.Du[s]){var wt="data-".concat(yt?"table-":"").concat(s.toLowerCase());if((0,x.Z)(this.domNode,wt,b),D.Du[s]){var jt;(jt=this.cell())===null||jt===void 0||jt.format(s,b)}if(M.li[s]){var Ut;(Ut=this.cell())===null||Ut===void 0||(Ut=Ut.table())===null||Ut===void 0||Ut.format(s,b)}}else k(Z(o.prototype),"format",this).call(this,s,b)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(s){var b=k(Z(o),"create",this).call(this,s);return vt.forEach(function(z){var yt,wt=z==="row"?q:ct;b.setAttribute("".concat(tt).concat(z),(yt=s==null?void 0:s[z])!==null&&yt!==void 0?yt:wt())}),b}},{key:"formats",value:function(s){return vt.reduce(function(b,z){var yt="".concat(tt).concat(z);return s.hasAttribute(yt)&&(b[z]=s.getAttribute(yt)||void 0),b},{})}}]),o}(y.ZP);U.blotName="tableCellLine",U.className="ql-table-cell-line",U.tagName="P";var w=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o)}(U);w.blotName="tableHeaderCellLine",w.className="ql-table-header-cell-line";var V=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o,[{key:"format",value:function(s,b){var z;(z=D.Du[s])===null||z===void 0||z.add(this.domNode,b)}},{key:"checkMerge",value:function(){if(k(Z(o.prototype),"checkMerge",this).call(this)&&this.next.children.head!=null){var s=this.children.head.formats()[this.children.head.statics.blotName],b=this.children.tail.formats()[this.children.tail.statics.blotName],z=this.next.children.head.formats()[this.next.children.head.statics.blotName],yt=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return s.cell===b.cell&&s.cell===z.cell&&s.cell===yt.cell}return!1}},{key:"formats",value:function(){return o.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var s;return(s=this.row())===null||s===void 0?void 0:s.table()}},{key:"optimize",value:function(){var s,b,z=(s=this.domNode.getAttribute("".concat(tt,"row")))!==null&&s!==void 0?s:this.domNode.getAttribute("".concat(tt,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:z});for(var yt=arguments.length,wt=new Array(yt),jt=0;jt<yt;jt++)wt[jt]=arguments[jt];(b=k(Z(o.prototype),"optimize",this)).call.apply(b,[this].concat(wt))}},{key:"deleteAt",value:function(s,b){lt(this.children,s,b)}}],[{key:"create",value:function(s){var b=k(Z(o),"create",this).call(this,s);return s&&Object.keys(s).forEach(function(z){var yt;(yt=D.Du[z])===null||yt===void 0||yt.add(b,s[z])}),b}},{key:"cellFormats",value:function(s){var b={};if(s.hasAttribute("".concat(tt,"row"))||s.hasAttribute("".concat(tt,"header-row"))){var z;b.row=(z=s.getAttribute("".concat(tt,"row")))!==null&&z!==void 0?z:s.getAttribute("".concat(tt,"header-row"))}return Object.keys(D.Du).forEach(function(yt){var wt,jt=(wt=s.firstElementChild)===null||wt===void 0?void 0:wt.dataset[yt.toLowerCase()];jt&&(b[yt]=jt)}),b}}]),o}(m.Z);V.tagName=["TD","TH"];var Q=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o,[{key:"format",value:function(s,b){s==="row"?(this.domNode.setAttribute("".concat(tt).concat(s),b),this.children.forEach(function(z){z.format(s,b)})):k(Z(o.prototype),"format",this).call(this,s,b)}}],[{key:"create",value:function(s){var b=k(Z(o),"create",this).call(this,s),z="".concat(tt,"row");return s!=null&&s.row&&b.setAttribute(z,s.row),b}}]),o}(V);Q.blotName="tableCell",Q.className="ql-table-data-cell",Q.dataAttribute="".concat(tt,"row"),Q.defaultChild=U;var G=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o,[{key:"format",value:function(s,b){s==="row"?(this.domNode.setAttribute("".concat(tt).concat(s),b),this.children.forEach(function(z){z.format(s,b)})):k(Z(o.prototype),"format",this).call(this,s,b)}}],[{key:"create",value:function(s){var b=k(Z(o),"create",this).call(this,s),z="".concat(tt,"header-row");return s&&s.row&&b.setAttribute(z,s.row),b}}]),o}(V);G.tagName=["TH","TD"],G.className="ql-table-header-cell",G.blotName="tableHeaderCell",G.dataAttribute="".concat(tt,"header-row"),G.defaultChild=w;var st=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o,[{key:"checkMerge",value:function(){if(k(Z(o.prototype),"checkMerge",this).call(this)&&(0,g.Z)(this.next.children.head)){var s="row",b=this.children.head.formats(),z=this.children.tail.formats(),yt=this.next.children.head.formats(),wt=this.next.children.tail.formats();return b[s]===z[s]&&b[s]===yt[s]&&b[s]===wt[s]}return!1}},{key:"optimize",value:function(){for(var s,b=this,z=arguments.length,yt=new Array(z),wt=0;wt<z;wt++)yt[wt]=arguments[wt];(s=k(Z(o.prototype),"optimize",this)).call.apply(s,[this].concat(yt));var jt=this.childFormatName;this.children.forEach(function(Ut){if((0,g.Z)(Ut.next)){var Vt=Ut.formats(),Yt=Ut.next.formats();if(Vt[jt]!==Yt[jt]){var Gt=b.splitAfter(Ut);Gt&&Gt.optimize(),b.prev&&b.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var s;return(s=this.parent)===null||s===void 0?void 0:s.parent}},{key:"formats",value:function(){var s={},b="".concat(tt,"row");return this.domNode.hasAttribute(b)&&(s[b]=this.domNode.getAttribute(b)),s}}],[{key:"create",value:function(s){var b=k(Z(o),"create",this).call(this,s);return s!=null&&s.row&&b.setAttribute("".concat(tt,"row"),s.row),b}}]),o}(m.Z);st.tagName="TR";var mt=function(pt){J(o,pt);var S=ht(o);function o(i,s){var b;return a(this,o),b=S.call(this,i,s),b.childFormatName="table",b}return c(o,[{key:"deleteAt",value:function(s,b){lt(this.children,s,b)}}]),o}(st);mt.blotName="tableRow";var Tt=function(pt){J(o,pt);var S=ht(o);function o(i,s){var b;return a(this,o),b=S.call(this,i,s),b.childFormatName="tableHeaderCell",b}return c(o)}(st);Tt.blotName="tableHeaderRow";var et=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o,[{key:"optimize",value:function(){var s;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var b,z=((b=this.children.head.children.head.children)===null||b===void 0||(b=b.head)===null||b===void 0?void 0:b.domNode)||null,yt={};z&&Object.keys(M.li).forEach(function(Vt){var Yt=z.dataset[Vt.toLowerCase()];Yt&&(yt[Vt]=Yt)}),this.wrap(this.statics.requiredContainer.blotName,yt)}for(var wt=arguments.length,jt=new Array(wt),Ut=0;Ut<wt;Ut++)jt[Ut]=arguments[Ut];(s=k(Z(o.prototype),"optimize",this)).call.apply(s,[this].concat(jt))}}]),o}(m.Z),Y=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o)}(et);Y.blotName="tableBody",Y.tagName="TBODY";var K=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o)}(et);K.blotName="tableHeader",K.tagName="THEAD";var at=function(pt){J(o,pt);var S=ht(o);function o(){return a(this,o),S.apply(this,arguments)}return c(o,[{key:"balanceCells",value:function(){var s=this.descendants(Tt),b=this.descendants(mt),z=this.getMaxTableColCount(s,b);this.balanceRows(z,s,G),this.balanceRows(z,b,Q)}},{key:"getMaxTableColCount",value:function(s,b){return Math.max(this.getMaxRowColCount(s),this.getMaxRowColCount(b))}},{key:"getMaxRowColCount",value:function(s){return Math.max.apply(Math,E(s.map(function(b){return b.children.length})))}},{key:"balanceRows",value:function(s,b,z){var yt=this;b.forEach(function(wt){new Array(s-wt.children.length).fill(0).forEach(function(){var jt;(0,g.Z)(wt.children.head)&&(jt=z.cellFormats(wt.children.head.domNode));var Ut=yt.scroll.create(z.blotName,jt),Vt=yt.scroll.create(z.allowedChildren[0].blotName,jt);Ut.appendChild(Vt),wt.appendChild(Ut),Ut.optimize()})})}},{key:"cells",value:function(s){return this.rows().map(function(b){return b.children.at(s)})}},{key:"deleteColumn",value:function(s){var b=this;[K,Y].forEach(function(z){var yt=b.descendants(z),wt=j(yt,1),jt=wt[0];!(0,g.Z)(jt)||!(0,g.Z)(jt.children.head)||jt.children.forEach(function(Ut){var Vt=Ut.children.at(s);(0,g.Z)(Vt)&&Vt.remove()})})}},{key:"insertColumn",value:function(s){var b=this;[K,Y].forEach(function(z){var yt=b.descendants(z),wt=j(yt,1),jt=wt[0];if(!(!(0,g.Z)(jt)||!(0,g.Z)(jt.children.head))){var Ut=z===K?G:Q,Vt=z===K?w:U;jt.children.forEach(function(Yt){var Gt=Yt.children.at(s),bt=Vt.formats(Yt.children.head.children.head.domNode),Pt=b.scroll.create(Ut.blotName,{row:bt.row}),Rt=b.scroll.create(Vt.blotName,{row:bt.row}),Nt=b.scroll.create(v.Z.blotName);Rt.appendChild(Nt),Pt.appendChild(Rt),Yt.insertBefore(Pt,Gt)})}})}},{key:"insertRow",value:function(s){var b=this,z=this.descendants(Y),yt=j(z,1),wt=yt[0];if(!(!(0,g.Z)(wt)||!(0,g.Z)(wt.children.head))){var jt=q(),Ut=this.scroll.create(mt.blotName,{row:jt});wt.children.head.children.forEach(function(){var Yt=b.scroll.create(Q.blotName,{row:jt}),Gt=b.scroll.create(U.blotName,{row:jt}),bt=b.scroll.create(v.Z.blotName);Gt.appendChild(bt),Yt.appendChild(Gt),Ut.appendChild(Yt)});var Vt=wt.children.at(s);wt.insertBefore(Ut,Vt)}}},{key:"insertHeaderRow",value:function(){var s=this,b=this.descendants(K),z=j(b,1),yt=z[0],wt=this.descendants(Y),jt=j(wt,1),Ut=jt[0];if(!((0,g.Z)(yt)||!(0,g.Z)(Ut)||!(0,g.Z)(Ut.children.head))){var Vt=q(),Yt=this.scroll.create(K.blotName),Gt=this.scroll.create(Tt.blotName),bt=this.children.at(0);Yt.appendChild(Gt),Ut.children.head.children.forEach(function(){var Pt=s.scroll.create(G.blotName,{row:Vt}),Rt=s.scroll.create(w.blotName,{row:Vt}),Nt=s.scroll.create(v.Z.blotName);Rt.appendChild(Nt),Pt.appendChild(Rt),Gt.appendChild(Pt),Pt.optimize()}),this.insertBefore(Yt,bt)}}},{key:"rows",value:function(){var s=this.children.head;return(0,g.Z)(s)?s.children.map(function(b){return b}):[]}},{key:"formats",value:function(){var s={},b=this.cells()[0].domNode.firstElementChild;return Object.keys(M.li).forEach(function(z){var yt=b==null?void 0:b.dataset[z.toLowerCase()];yt&&(s[z]=yt)}),s}},{key:"format",value:function(s,b){var z=M.li[s];if(z){var yt="data-".concat(s.toLowerCase());this.cells().forEach(function(wt){(0,x.Z)(wt.children.head.domNode,yt,b)}),z.add(this.domNode,b)}}}],[{key:"create",value:function(s){var b=k(Z(o),"create",this).call(this,s);return s&&Object.keys(s).forEach(function(z){var yt;(yt=M.li[z])===null||yt===void 0||yt.add(b,s[z])}),b}}]),o}(m.Z);at.blotName="tableContainer",at.tagName="TABLE",at.allowedChildren=[K,Y],Y.requiredContainer=at,K.requiredContainer=at,Y.allowedChildren=[mt],mt.requiredContainer=Y,mt.allowedChildren=[Q],Q.requiredContainer=mt,U.requiredContainer=Q,Q.allowedChildren=[U],K.allowedChildren=[Tt],Tt.requiredContainer=K,w.requiredContainer=G,G.allowedChildren=[w],Tt.allowedChildren=[G],G.requiredContainer=Tt;function q(){return"row-".concat((0,I.Z)())}function ct(){return"cell-".concat((0,I.Z)())}},2795:(d,C,t)=>{t.d(C,{Z:()=>y});function y(v,m,g){g?v.setAttribute(m,g):v.removeAttribute(m)}},5635:(d,C,t)=>{t.d(C,{HI:()=>K,PF:()=>at,ZP:()=>Y,fw:()=>S});var y=t(9098),v=t.n(y),m=t(1233),g=t(6446),D=t(281),M=t(3122),I=t(7094),x=t(715),N=t(7898),j=t(7309),L=t(6039),H=t(4048),W=t(5832),E=t(1629),R=t(3071),F=t(2141);function it(bt,Pt){var Rt=Object.keys(bt);if(Object.getOwnPropertySymbols){var Nt=Object.getOwnPropertySymbols(bt);Pt&&(Nt=Nt.filter(function(Lt){return Object.getOwnPropertyDescriptor(bt,Lt).enumerable})),Rt.push.apply(Rt,Nt)}return Rt}function O(bt){for(var Pt=1;Pt<arguments.length;Pt++){var Rt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?it(Object(Rt),!0).forEach(function(Nt){a(bt,Nt,Rt[Nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(Rt)):it(Object(Rt)).forEach(function(Nt){Object.defineProperty(bt,Nt,Object.getOwnPropertyDescriptor(Rt,Nt))})}return bt}function T(bt){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pt){return typeof Pt}:function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},T(bt)}function a(bt,Pt,Rt){return Pt=dt(Pt),Pt in bt?Object.defineProperty(bt,Pt,{value:Rt,enumerable:!0,configurable:!0,writable:!0}):bt[Pt]=Rt,bt}function u(bt,Pt){return $(bt)||k(bt,Pt)||_(bt,Pt)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(bt,Pt){if(bt){if(typeof bt=="string")return B(bt,Pt);var Rt=Object.prototype.toString.call(bt).slice(8,-1);if(Rt==="Object"&&bt.constructor&&(Rt=bt.constructor.name),Rt==="Map"||Rt==="Set")return Array.from(bt);if(Rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Rt))return B(bt,Pt)}}function B(bt,Pt){(Pt==null||Pt>bt.length)&&(Pt=bt.length);for(var Rt=0,Nt=new Array(Pt);Rt<Pt;Rt++)Nt[Rt]=bt[Rt];return Nt}function k(bt,Pt){var Rt=bt==null?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(Rt!=null){var Nt,Lt,Ft,Mt,$t=[],zt=!0,te=!1;try{if(Ft=(Rt=Rt.call(bt)).next,Pt===0){if(Object(Rt)!==Rt)return;zt=!1}else for(;!(zt=(Nt=Ft.call(Rt)).done)&&($t.push(Nt.value),$t.length!==Pt);zt=!0);}catch(ae){te=!0,Lt=ae}finally{try{if(!zt&&Rt.return!=null&&(Mt=Rt.return(),Object(Mt)!==Mt))return}finally{if(te)throw Lt}}return $t}}function $(bt){if(Array.isArray(bt))return bt}function J(bt,Pt){if(!(bt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function ut(bt,Pt){for(var Rt=0;Rt<Pt.length;Rt++){var Nt=Pt[Rt];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(bt,dt(Nt.key),Nt)}}function ht(bt,Pt,Rt){return Pt&&ut(bt.prototype,Pt),Object.defineProperty(bt,"prototype",{writable:!1}),bt}function dt(bt){var Pt=nt(bt,"string");return T(Pt)==="symbol"?Pt:String(Pt)}function nt(bt,Pt){if(T(bt)!=="object"||bt===null)return bt;var Rt=bt[Symbol.toPrimitive];if(Rt!==void 0){var Nt=Rt.call(bt,Pt||"default");if(T(Nt)!=="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Pt==="string"?String:Number)(bt)}function _t(bt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),Object.defineProperty(bt,"prototype",{writable:!1}),Pt&&Z(bt,Pt)}function Z(bt,Pt){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Nt,Lt){return Nt.__proto__=Lt,Nt},Z(bt,Pt)}function vt(bt){var Pt=U();return function(){var Nt=w(bt),Lt;if(Pt){var Ft=w(this).constructor;Lt=Reflect.construct(Nt,arguments,Ft)}else Lt=Nt.apply(this,arguments);return tt(this,Lt)}}function tt(bt,Pt){if(Pt&&(T(Pt)==="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(bt)}function lt(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(bt){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Rt){return Rt.__proto__||Object.getPrototypeOf(Rt)},w(bt)}var V=(0,M.Z)("quill:clipboard"),Q=1,G=3,st=[[G,Gt],[G,Ut],["br",b],[Q,Ut],[Q,s],[Q,i],[Q,Vt],["li",wt],["ol, ul",jt],["pre",z],["b",o.bind(o,"bold")],["i",o.bind(o,"italic")],["strike",o.bind(o,"strike")],["style",yt]],mt=[Gt,Ut],Tt=[x.if,H.IF].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),et=[x.HE,N.w,L.HQ,H.H8,W.H,E.Z].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),Y=function(bt){_t(Rt,bt);var Pt=vt(Rt);function Rt(Nt,Lt){var Ft,Mt;return J(this,Rt),Mt=Pt.call(this,Nt,Lt),Mt.quill.root.addEventListener("copy",function($t){return Mt.onCaptureCopy($t,!1)}),Mt.quill.root.addEventListener("cut",function($t){return Mt.onCaptureCopy($t,!0)}),Mt.quill.root.addEventListener("paste",Mt.onCapturePaste.bind(lt(Mt))),Mt.matchers=[],Mt.tableBlots=(Ft=Lt.tableBlots)!==null&&Ft!==void 0?Ft:[],st.concat(Mt.options.matchers).forEach(function($t){var zt=u($t,2),te=zt[0],ae=zt[1];Mt.addMatcher(te,ae)}),Mt}return ht(Rt,[{key:"addMatcher",value:function(Lt,Ft){this.matchers.push([Lt,Ft])}},{key:"addTableBlot",value:function(Lt){this.tableBlots.push(Lt)}},{key:"convert",value:function(Lt){var Ft=Lt.html,Mt=Lt.text,$t=Lt.keepLastNewLine,zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return zt[j.ZP.blotName]?new(v())().insert(Mt,a({},j.ZP.blotName,zt[j.ZP.blotName])):Ft?this.applyMatchers(Ft,$t,zt):this.applyTextMatchers(Mt)}},{key:"applyTextMatchers",value:function(){var Lt=this,Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Ft.length===0)return new(v());var Mt=this.prepareTextMatching(),$t=this.quill.root.ownerDocument.createElement("div");$t.textContent=Ft;var zt=$t.childNodes[0];return Mt.reduce(function(te,ae){return ae(zt,te,Lt.quill.scroll)},new(v()))}},{key:"applyMatchers",value:function(Lt,Ft){var Mt=this,$t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},zt=new DOMParser().parseFromString(Lt,"text/html"),te=zt.body,ae=new WeakMap,le=this.prepareMatching(te,ae),Ce=u(le,2),Oe=Ce[0],gt=Ce[1],St=S(this.quill.scroll,te,Oe,gt,ae);return!Ft&&at(St,`
`)&&(St.ops[St.ops.length-1].attributes==null||Object.values($t).some(function(Ct){return Mt.tableBlots.includes(Ct)}))?St.compose(new(v())().retain(St.length()-1).delete(1)):St}},{key:"dangerouslyPasteHTML",value:function(Lt,Ft){var Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D.ZP.sources.API;if(typeof Lt=="string"){var $t=this.convert({html:Lt,text:""});this.quill.setContents($t,Ft),this.quill.setSelection(0,D.ZP.sources.SILENT)}else{var zt=this.convert({html:Ft,text:""});this.quill.updateContents(new(v())().retain(Lt).concat(zt),Mt),this.quill.setSelection(Lt+zt.length(),D.ZP.sources.SILENT)}}},{key:"onCaptureCopy",value:function(Lt){var Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Lt.defaultPrevented){if(Lt.clipboardData)Lt.preventDefault();else return;var Mt=this.quill.selection.getRange(),$t=u(Mt,1),zt=$t[0];if(zt!=null){var te=this.onCopy(zt,Ft),ae=te.html,le=te.text;Lt.clipboardData.setData("text/plain",le),Lt.clipboardData.setData("text/html",ae),Ft&&(this.raiseCallback("onCut",Lt),(0,R.WQ)({range:zt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(Lt){if(!(Lt.defaultPrevented||!this.quill.isEnabled())){if(this.raiseCallback("onPaste",Lt),Lt.clipboardData)Lt.preventDefault();else return;var Ft=this.quill.getSelection(!0);if(Ft!=null){var Mt=Lt.clipboardData.getData("text/html"),$t=Array.from(Lt.clipboardData.files||[]);if(!Mt&&$t.length>0){this.quill.uploader.upload(Ft,$t);return}if(Mt&&$t.length>0){var zt=new DOMParser().parseFromString(Mt,"text/html"),te=zt.body,ae=te.childElementCount===1&&te.firstElementChild.tagName==="IMG";if(ae){this.quill.uploader.upload(Ft,$t);return}}var le=Lt.clipboardData.getData("text/plain");this.onPaste(Ft,{html:Mt,text:le,keepLastNewLine:!0})}}}},{key:"raiseCallback",value:function(Lt,Ft){var Mt=this.options[Lt];Mt&&typeof Mt=="function"&&Mt(Ft)}},{key:"onCopy",value:function(Lt){var Ft=Lt.index,Mt=Lt.length,$t=this.quill.getText(Ft,Mt),zt=this.quill.getSemanticHTML(Ft,Mt);return{html:zt,text:$t}}},{key:"onPaste",value:function(Lt,Ft){var Mt=Ft.text,$t=Ft.html,zt=Ft.keepLastNewLine,te=this.quill.getFormat(Lt.index),ae=this.convert({text:Mt,html:$t,keepLastNewLine:zt},te);V.log("onPaste",ae,{text:Mt,html:$t});var le=new(v())().retain(Lt.index).delete(Lt.length).concat(ae);this.quill.updateContents(le,D.ZP.sources.USER),this.quill.setSelection(le.length()-Lt.length,D.ZP.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(Lt,Ft){var Mt=[],$t=[];return this.matchers.forEach(function(zt){var te=u(zt,2),ae=te[0],le=te[1];switch(ae){case G:$t.push(le);break;case Q:Mt.push(le);break;default:Array.from(Lt.querySelectorAll(ae)).forEach(function(Ce){if(Ft.has(Ce)){var Oe=Ft.get(Ce);Oe.push(le)}else Ft.set(Ce,[le])});break}}),[Mt,$t]}},{key:"prepareTextMatching",value:function(){var Lt=[Yt];return this.matchers.forEach(function(Ft){var Mt=u(Ft,2),$t=Mt[0],zt=Mt[1];mt.indexOf(zt)===-1&&$t===G&&Lt.push(zt)}),Lt}}]),Rt}(I.Z);Y.DEFAULTS={matchers:[]};function K(bt,Pt,Rt){return T(Pt)==="object"?Object.keys(Pt).reduce(function(Nt,Lt){return K(Nt,Lt,Pt[Lt])},bt):bt.reduce(function(Nt,Lt){if(Lt.attributes&&Lt.attributes[Pt])return Nt.push(Lt);var Ft=Rt?a({},Pt,Rt):{};return Nt.insert(Lt.insert,O(O({},Ft),Lt.attributes))},new(v()))}function at(bt,Pt){for(var Rt="",Nt=bt.ops.length-1;Nt>=0&&Rt.length<Pt.length;--Nt){var Lt=bt.ops[Nt];if(typeof Lt.insert!="string")break;Rt=Lt.insert+Rt}return Rt.slice(-1*Pt.length)===Pt}function q(bt){return bt.childNodes.length===0?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(bt.tagName.toLowerCase())!==-1}var ct=new WeakMap;function pt(bt){return bt==null?!1:(ct.has(bt)||(bt.tagName==="PRE"?ct.set(bt,!0):ct.set(bt,pt(bt.parentNode))),ct.get(bt))}function S(bt,Pt,Rt,Nt,Lt){return Pt.nodeType===Pt.TEXT_NODE?Nt.reduce(function(Ft,Mt){return Mt(Pt,Ft,bt)},new(v())):Pt.nodeType===Pt.ELEMENT_NODE?Array.from(Pt.childNodes||[]).reduce(function(Ft,Mt){var $t=S(bt,Mt,Rt,Nt,Lt);return Mt.nodeType===Pt.ELEMENT_NODE&&($t=Rt.reduce(function(zt,te){return te(Mt,zt,bt)},$t),$t=(Lt.get(Mt)||[]).reduce(function(zt,te){return te(Mt,zt,bt)},$t)),Ft.concat($t)},new(v())):new(v())}function o(bt,Pt,Rt){return K(Rt,bt,!0)}function i(bt,Pt,Rt){if(["TD","TH","TR","TABLE"].indexOf(bt.tagName)===-1){var Nt=m.Attributor.keys(bt),Lt=m.ClassAttributor.keys(bt),Ft=m.StyleAttributor.keys(bt),Mt={};if(Nt.concat(Lt).concat(Ft).forEach(function($t){var zt=Rt.query($t,m.Scope.ATTRIBUTE);zt!=null&&(Mt[zt.attrName]=zt.value(bt),Mt[zt.attrName])||(zt=Tt[$t],zt!=null&&(zt.attrName===$t||zt.keyName===$t)&&(Mt[zt.attrName]=zt.value(bt)||void 0),zt=et[$t],zt!=null&&(zt.attrName===$t||zt.keyName===$t)&&(zt=et[$t],Mt[zt.attrName]=zt.value(bt)||void 0))}),Object.keys(Mt).length>0)return K(Pt,Mt)}return Pt}function s(bt,Pt,Rt){var Nt=Rt.query(bt);if(Nt==null)return Pt;if(Nt.prototype instanceof m.EmbedBlot){var Lt={},Ft=Nt.value(bt);if(Ft!=null)return Lt[Nt.blotName]=Ft,new(v())().insert(Lt,Nt.formats(bt,Rt))}else if(Nt.prototype instanceof m.BlockBlot&&!at(Pt,`
`)&&Pt.insert(`
`),typeof Nt.formats=="function")return K(Pt,Nt.blotName,Nt.formats(bt,Rt));return Pt}function b(bt,Pt){return at(Pt,`
`)||Pt.insert(`
`),Pt}function z(bt,Pt,Rt){var Nt=Rt.query("code-block"),Lt=Nt?Nt.formats(bt,Rt):!0;return K(Pt,"code-block",Lt)}function yt(){return new(v())}function wt(bt,Pt,Rt){var Nt=Rt.query(bt);if(Nt==null||Nt.blotName!=="list"||!at(Pt,`
`))return Pt;for(var Lt=-1,Ft=bt.parentNode;Ft!=null;)["OL","UL"].indexOf(Ft.tagName)!==-1&&(Lt+=1),Ft=Ft.parentNode;return Lt<=0?Pt:Pt.reduce(function(Mt,$t){return $t.attributes&&typeof $t.attributes.indent=="number"?Mt.push($t):Mt.insert($t.insert,O({indent:Lt},$t.attributes||{}))},new(v()))}function jt(bt,Pt){var Rt=bt.tagName==="OL"?"ordered":"bullet";return K(Pt,"list",Rt)}function Ut(bt,Pt,Rt){if(!at(Pt,`
`)){if(q(bt))return Pt.insert(`
`);if(Pt.length()>0&&bt.nextSibling)for(var Nt=bt.nextSibling;Nt!=null;){if(q(Nt))return Pt.insert(`
`);var Lt=Rt.query(Nt);if((Lt==null?void 0:Lt.prototype)instanceof g.i2)return Pt.insert(`
`);Nt=Nt.firstChild}}return Pt}function Vt(bt,Pt){var Rt={},Nt=bt.style||{};return["height","width"].forEach(function(Lt){var Ft=["TD","TH"].indexOf(bt.tagName)!==-1,Mt=bt.tagName==="TABLE";if((Ft||Mt)&&Nt[Lt]){var $t="".concat(Mt?"table":"cell").concat((0,F.Z)(Lt));Rt[$t]=Nt[Lt]}}),Nt.fontStyle==="italic"&&(Rt.italic=!0),Nt.textDecoration.indexOf("underline")!==-1&&(Rt.underline=!0),Nt.textDecoration.indexOf("line-through")!==-1&&(Rt.strike=!0),(Nt.fontWeight.indexOf("bold")===0||parseInt(Nt.fontWeight,10)>=700)&&(Rt.bold=!0),Object.keys(Rt).length>0&&(Pt=K(Pt,Rt)),parseFloat(Nt.textIndent||0)>0?new(v())().insert("	").concat(Pt):Pt}function Yt(bt,Pt){var Rt=bt.data||"";return Rt=Rt.replace(/\r\n/g,`
`),Pt.insert(Rt)}function Gt(bt,Pt){var Rt=bt.data;if(bt.parentNode.tagName==="O:P")return Pt.insert(Rt.trim());if(Rt.trim().length===0&&Rt.indexOf(`
`)!==-1)return Pt;if(!pt(bt)){var Nt=function(Ft,Mt){var $t=Mt.replace(/[^\u00a0]/g,"");return $t.length<1&&Ft?" ":$t};Rt=Rt.replace(/\r\n/g," ").replace(/\n/g," "),Rt=Rt.replace(/\s\s+/g,Nt.bind(Nt,!0)),(bt.previousSibling==null&&q(bt.parentNode)||bt.previousSibling!=null&&q(bt.previousSibling))&&(Rt=Rt.replace(/^\s+/,Nt.bind(Nt,!1))),(bt.nextSibling==null&&q(bt.parentNode)||bt.nextSibling!=null&&q(bt.nextSibling))&&(Rt=Rt.replace(/\s+$/,Nt.bind(Nt,!1)))}return Pt.insert(Rt)}},2613:(d,C,t)=>{t.d(C,{Z:()=>O});var y=t(1233),v=t(281),m=t(7094),g=t(8034);function D(c){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},D(c)}function M(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}function I(c,_){for(var B=0;B<_.length;B++){var k=_[B];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(c,N(k.key),k)}}function x(c,_,B){return _&&I(c.prototype,_),Object.defineProperty(c,"prototype",{writable:!1}),c}function N(c){var _=j(c,"string");return D(_)==="symbol"?_:String(_)}function j(c,_){if(D(c)!=="object"||c===null)return c;var B=c[Symbol.toPrimitive];if(B!==void 0){var k=B.call(c,_);if(D(k)!=="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(c)}function L(c,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(_&&_.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),_&&H(c,_)}function H(c,_){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,$){return k.__proto__=$,k},H(c,_)}function W(c){var _=F();return function(){var k=it(c),$;if(_){var J=it(this).constructor;$=Reflect.construct(k,arguments,J)}else $=k.apply(this,arguments);return E(this,$)}}function E(c,_){if(_&&(D(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(c)}function R(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function it(c){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},it(c)}var O=function(c){L(B,c);var _=W(B);function B(k,$){var J;return M(this,B),J=_.call(this,k,$),J.lastRecorded=0,J.ignoreChange=!1,J.clear(),J.quill.on(v.ZP.events.EDITOR_CHANGE,function(ut,ht,dt,nt){ut!==v.ZP.events.TEXT_CHANGE||J.ignoreChange||(!J.options.userOnly||nt===v.ZP.sources.USER?J.record(ht,dt):J.transform(ht))}),J.quill.keyboard.addBinding({key:"z",shortKey:!0},J.undo.bind(R(J))),J.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},J.redo.bind(R(J))),(0,g.Z)()&&/Win/i.test(navigator.platform)&&J.quill.keyboard.addBinding({key:"y",shortKey:!0},J.redo.bind(R(J))),J.quill.root.addEventListener("beforeinput",function(ut){ut.inputType==="historyUndo"?(J.undo(),ut.preventDefault()):ut.inputType==="historyRedo"&&(J.redo(),ut.preventDefault())}),J}return x(B,[{key:"change",value:function($,J){if(this.stack[$].length!==0){var ut=this.stack[$].pop(),ht=this.quill.getContents(),dt=ut.invert(ht);this.stack[J].push(dt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ut,v.ZP.sources.USER),this.ignoreChange=!1;var nt=u(this.quill.scroll,ut);this.quill.setSelection(nt)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function($,J){if($.ops.length!==0){this.stack.redo=[];var ut=$.invert(J),ht=Date.now();if(this.lastRecorded+this.options.delay>ht&&this.stack.undo.length>0){var dt=this.stack.undo.pop();ut=ut.compose(dt)}else this.lastRecorded=ht;ut.length()!==0&&(this.stack.undo.push(ut),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function($){T(this.stack.undo,$),T(this.stack.redo,$)}},{key:"undo",value:function(){this.change("undo","redo")}}]),B}(m.Z);O.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function T(c,_){for(var B=_,k=c.length-1;k>=0;k-=1){var $=c[k];c[k]=B.transform($,!0),B=$.transform(B),c[k].length()===0&&c.splice(k,1)}}function a(c,_){var B=_.ops[_.ops.length-1];return B==null?!1:B.insert!=null?typeof B.insert=="string"&&B.insert.endsWith(`
`):B.attributes!=null?Object.keys(B.attributes).some(function(k){return c.query(k,y.Scope.BLOCK)!=null}):!1}function u(c,_){var B=_.reduce(function($,J){return $+(J.delete||0)},0),k=_.length()-B;return a(c,_)&&(k-=1),k}},3071:(d,C,t)=>{t.d(C,{ZP:()=>V,WQ:()=>Tt});var y=t(8805),v=t.n(y),m=t(2722),g=t.n(m),D=t(9098),M=t.n(D),I=t(1233),x=t(281),N=t(3122),j=t(7094),L=t(8034);function H(et){var Y=window,K=Y.innerHeight,at=et.getBoundingClientRect(),q=at.y,ct=at.bottom;return q<0?!0:ct>=K?!1:null}function W(et){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},W(et)}function E(et,Y){return T(et)||O(et,Y)||F(et,Y)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(et,Y){if(et){if(typeof et=="string")return it(et,Y);var K=Object.prototype.toString.call(et).slice(8,-1);if(K==="Object"&&et.constructor&&(K=et.constructor.name),K==="Map"||K==="Set")return Array.from(et);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return it(et,Y)}}function it(et,Y){(Y==null||Y>et.length)&&(Y=et.length);for(var K=0,at=new Array(Y);K<Y;K++)at[K]=et[K];return at}function O(et,Y){var K=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(K!=null){var at,q,ct,pt,S=[],o=!0,i=!1;try{if(ct=(K=K.call(et)).next,Y===0){if(Object(K)!==K)return;o=!1}else for(;!(o=(at=ct.call(K)).done)&&(S.push(at.value),S.length!==Y);o=!0);}catch(s){i=!0,q=s}finally{try{if(!o&&K.return!=null&&(pt=K.return(),Object(pt)!==pt))return}finally{if(i)throw q}}return S}}function T(et){if(Array.isArray(et))return et}function a(et,Y){var K=Object.keys(et);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(et);Y&&(at=at.filter(function(q){return Object.getOwnPropertyDescriptor(et,q).enumerable})),K.push.apply(K,at)}return K}function u(et){for(var Y=1;Y<arguments.length;Y++){var K=arguments[Y]!=null?arguments[Y]:{};Y%2?a(Object(K),!0).forEach(function(at){c(et,at,K[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(K)):a(Object(K)).forEach(function(at){Object.defineProperty(et,at,Object.getOwnPropertyDescriptor(K,at))})}return et}function c(et,Y,K){return Y=$(Y),Y in et?Object.defineProperty(et,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}):et[Y]=K,et}function _(et,Y){if(!(et instanceof Y))throw new TypeError("Cannot call a class as a function")}function B(et,Y){for(var K=0;K<Y.length;K++){var at=Y[K];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(et,$(at.key),at)}}function k(et,Y,K){return Y&&B(et.prototype,Y),K&&B(et,K),Object.defineProperty(et,"prototype",{writable:!1}),et}function $(et){var Y=J(et,"string");return W(Y)==="symbol"?Y:String(Y)}function J(et,Y){if(W(et)!=="object"||et===null)return et;var K=et[Symbol.toPrimitive];if(K!==void 0){var at=K.call(et,Y||"default");if(W(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(et)}function ut(et,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(Y&&Y.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),Y&&ht(et,Y)}function ht(et,Y){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,q){return at.__proto__=q,at},ht(et,Y)}function dt(et){var Y=Z();return function(){var at=vt(et),q;if(Y){var ct=vt(this).constructor;q=Reflect.construct(at,arguments,ct)}else q=at.apply(this,arguments);return nt(this,q)}}function nt(et,Y){if(Y&&(W(Y)==="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(et)}function _t(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(et){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},vt(et)}var tt=(0,N.Z)("quill:keyboard"),lt={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},U={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},w=(0,L.Z)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",V=function(et){ut(K,et);var Y=dt(K);function K(at,q){var ct;return _(this,K),ct=Y.call(this,at,q),ct.bindings={},Object.keys(ct.options.bindings).forEach(function(pt){ct.options.bindings[pt]&&ct.addBinding(ct.options.bindings[pt])}),ct.addInternalBindings(),ct.listen(),ct}return k(K,[{key:"addInternalBindings",value:function(){var q=this;this.quill.once(x.ZP.events.CONTENT_SETTED,function(){q.addBinding({key:"enter",shiftKey:null},q.handleEnter),q.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),(0,L.Z)()&&/Firefox/i.test(navigator.userAgent)?(q.addBinding({key:"backspace"},{collapsed:!0},q.handleBackspace),q.addBinding({key:"del"},{collapsed:!0},q.handleDelete)):(q.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},q.handleBackspace),q.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},q.handleDelete)),q.addBinding({key:"backspace"},{collapsed:!1},q.handleDeleteRange),q.addBinding({key:"del"},{collapsed:!1},q.handleDeleteRange),q.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q.handleBackspace)})}},{key:"addBinding",value:function(q){var ct=this,pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=mt(q);if(o==null){tt.warn("Attempted to add invalid keyboard binding",o);return}typeof pt=="function"&&(pt={handler:pt}),typeof S=="function"&&(S={handler:S});var i=o.which?"which":"key",s=Array.isArray(o[i])?o[i]:[o[i]];s.forEach(function(b){var z=u(u(u({},o),{},{key:b},pt),S);ct.bindings[z.key]=ct.bindings[z.key]||[],ct.bindings[z.key].push(z)})}},{key:"listen",value:function(){var q=this;this.quill.root.addEventListener("keydown",function(ct){if(!(ct.defaultPrevented||ct.isComposing)){q.raiseOnKeydownCallback(ct);var pt=K.normalizeKeyName(ct),S=(q.bindings[pt]||[]).concat(q.bindings[ct.which]||[]),o=S.filter(function(Mt){return K.match(ct,Mt)});if(o.length!==0){var i=q.quill.getSelection();if(!(i==null||!q.quill.hasFocus())){var s=q.quill.getLine(i.index),b=E(s,2),z=b[0],yt=b[1],wt=q.quill.getLeaf(i.index),jt=E(wt,2),Ut=jt[0],Vt=jt[1],Yt=i.length===0?[Ut,Vt]:q.quill.getLeaf(i.index+i.length),Gt=E(Yt,2),bt=Gt[0],Pt=Gt[1],Rt=Ut instanceof I.TextBlot?Ut.value().slice(0,Vt):"",Nt=bt instanceof I.TextBlot?bt.value().slice(Pt):"",Lt={collapsed:i.length===0,empty:i.length===0&&z.length()<=1,format:q.quill.getFormat(i),line:z,offset:yt,prefix:Rt,suffix:Nt,event:ct},Ft=!1;o.some(function(Mt){if(Mt.collapsed!=null&&Mt.collapsed!==Lt.collapsed||Mt.empty!=null&&Mt.empty!==Lt.empty||Mt.offset!=null&&Mt.offset!==Lt.offset)return!1;if(Array.isArray(Mt.format)){if(Mt.format.every(function(te){return Lt.format[te]==null}))return!1}else if(W(Mt.format)==="object"&&!Object.keys(Mt.format).every(function(te){return Mt.format[te]===!0?Lt.format[te]!=null:Mt.format[te]===!1?Lt.format[te]==null:g()(Mt.format[te],Lt.format[te])}))return!1;if(Mt.prefix!=null&&!Mt.prefix.test(Lt.prefix)||Mt.suffix!=null&&!Mt.suffix.test(Lt.suffix))return!1;var $t=Mt.handler.call(q,i,Lt,Mt),zt=$t==null?void 0:$t.preventAfterAllMatches;return Ft=$t!==!0||zt,Ft&&!zt}),Ft&&ct.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(q){var ct=this.options.onKeydown;ct&&typeof ct=="function"&&ct(q)}},{key:"handleBackspace",value:function(q,ct){var pt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ct.prefix)?2:1;if(!(q.index===0||this.quill.getLength()<=1)){var S={},o=this.quill.getLine(q.index),i=E(o,1),s=i[0],b=new(M())().retain(q.index-pt).delete(pt);if(ct.offset===0){var z=this.quill.getLine(q.index-1),yt=E(z,1),wt=yt[0];if(wt){var jt=wt.statics.blotName==="block"&&wt.length()<=1,Ut=wt.statics.blotName.startsWith("table"),Vt=s.statics.blotName==="block"&&s.length()<=1;if(Ut&&(Vt&&s.remove(),this.quill.setSelection(q.index-1)),!jt&&!Ut){var Yt=s.formats(),Gt=this.quill.getFormat(q.index-1,1);if(S=D.AttributeMap.diff(Yt,Gt)||{},Object.keys(S).length>0){var bt=new(M())().retain(q.index+s.length()-2).retain(1,S);b=b.compose(bt)}}}}this.quill.updateContents(b,x.ZP.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(q,ct){var pt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ct.suffix)?2:1;if(!(q.index>=this.quill.getLength()-pt)){var S={},o=this.quill.getLine(q.index),i=E(o,1),s=i[0],b=new(M())().retain(q.index).delete(pt);if(ct.offset>=s.length()-1){var z=this.quill.getLine(q.index+1),yt=E(z,1),wt=yt[0];if(wt){var jt=s.formats(),Ut=this.quill.getFormat(q.index,1);S=D.AttributeMap.diff(jt,Ut)||{},Object.keys(S).length>0&&(b=b.retain(wt.length()-1).retain(1,S))}}this.quill.updateContents(b,x.ZP.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(q,ct){this.raiseOnKeydownCallback(ct.event),Tt({range:q,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(q,ct){var pt=this,S=Object.keys(ct.format).reduce(function(yt,wt){return pt.quill.scroll.query(wt,I.Scope.BLOCK)&&!Array.isArray(ct.format[wt])&&(yt[wt]=ct.format[wt]),yt},{}),o=new(M())().retain(q.index).delete(q.length).insert(`
`,S);this.quill.updateContents(o,x.ZP.sources.USER),this.quill.setSelection(q.index+1,x.ZP.sources.SILENT),this.quill.focus();var i=this.quill.getLine(q.index+1),s=E(i,1),b=s[0],z=H(b.domNode);z!==null&&b.domNode.scrollIntoView(z),Object.keys(ct.format).forEach(function(yt){S[yt]==null&&(Array.isArray(ct.format[yt])||yt==="code"||yt==="link"||(pt.raiseOnKeydownCallback(ct.event),pt.quill.format(yt,ct.format[yt],x.ZP.sources.USER)))})}}],[{key:"match",value:function(q,ct){return["altKey","ctrlKey","metaKey","shiftKey"].some(function(pt){return!!ct[pt]!==q[pt]&&ct[pt]!==null})?!1:ct.key===K.normalizeKeyName(q)||ct.key===q.which}},{key:"normalizeKeyName",value:function(q){var ct=q.key,pt=q.which,S=!!ct,o=S?ct:pt;return o&&(S?o=lt[o.toLowerCase()]||o:o=U[o]||String.fromCharCode(o)),o}}]),K}(j.Z);V.DEFAULTS={bindings:{bold:st("bold",66),italic:st("italic",73),underline:st("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(Y,K){return K.collapsed&&K.offset!==0?!0:(this.quill.format("indent","+1",x.ZP.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(Y,K){return K.collapsed&&K.offset!==0?!0:(this.quill.format("indent","-1",x.ZP.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Y,K){K.format.indent!=null?this.quill.format("indent","-1",x.ZP.sources.USER):K.format.list!=null&&this.quill.format("list",!1,x.ZP.sources.USER)}},"indent code-block":Q(!0),"outdent code-block":Q(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Y){this.quill.deleteText(Y.index-1,1,x.ZP.sources.USER)}},tab:{key:"tab",handler:function(Y,K){var at=K.format,q=at.tableCellLine||at.tableHeaderCellLine||at.tableHeaderCell||at.table;if(q)return!0;this.quill.history.cutoff();var ct=new(M())().retain(Y.index).delete(Y.length).insert("	");return this.quill.updateContents(ct,x.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index+1,x.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,x.ZP.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(Y,K){var at={list:!1};K.format.indent&&(at.indent=!1),this.quill.formatLine(Y.index,Y.length,at,x.ZP.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(Y){var K=this.quill.getLine(Y.index),at=E(K,2),q=at[0],ct=at[1],pt=u(u({},q.formats()),{},{list:"checked"}),S=new(M())().retain(Y.index).insert(`
`,pt).retain(q.length()-ct-1).retain(1,{list:"unchecked"});this.quill.updateContents(S,x.ZP.sources.USER),this.quill.setSelection(Y.index+1,x.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(Y,K){var at=this.quill.getLine(Y.index),q=E(at,2),ct=q[0],pt=q[1],S=new(M())().retain(Y.index).insert(`
`,K.format).retain(ct.length()-pt-1).retain(1,{header:null});this.quill.updateContents(S,x.ZP.sources.USER),this.quill.setSelection(Y.index+1,x.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Y,K){if(this.quill.scroll.query("list")==null)return!0;var at=K.prefix.length,q=this.quill.getLine(Y.index),ct=E(q,2),pt=ct[0],S=ct[1];if(S>at)return!0;var o;switch(K.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(Y.index," ",x.ZP.sources.USER),this.quill.history.cutoff();var i=new(M())().retain(Y.index-S).delete(at+1).retain(pt.length()-2-S).retain(1,{list:o});return this.raiseOnKeydownCallback(K.event),this.quill.updateContents(i,x.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index-at,x.ZP.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(Y){for(var K=this.quill.getLine(Y.index),at=E(K,2),q=at[0],ct=at[1],pt=2,S=q;S!=null&&S.length()<=1&&S.formats()["code-block"];)if(S=S.prev,pt-=1,pt<=0){var o=new(M())().retain(Y.index+q.length()-ct-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,x.ZP.sources.USER),this.quill.setSelection(Y.index-1,x.ZP.sources.SILENT),!1}return!0}},"embed left":G("leftArrow",!1),"embed left shift":G("leftArrow",!0),"embed right":G("rightArrow",!1),"embed right shift":G("rightArrow",!0)}};function Q(et){return{key:"tab",shiftKey:!et,format:{"code-block":!0},handler:function(K){var at=this.quill.scroll.query("code-block"),q=K.length===0?this.quill.getLines(K.index,1):this.quill.getLines(K),ct=K.index,pt=K.length;q.forEach(function(S,o){et?(S.insertAt(0,at.TAB),o===0?ct+=at.TAB.length:pt+=at.TAB.length):S.domNode.textContent.indexOf(at.TAB)===0&&(S.deleteAt(0,at.TAB.length),o===0?ct-=at.TAB.length:pt-=at.TAB.length)}),this.quill.update(x.ZP.sources.USER),this.quill.setSelection(ct,pt,x.ZP.sources.SILENT)}}}function G(et,Y){var K=et==="leftArrow"?"prefix":"suffix";return c(c({key:et,shiftKey:Y,altKey:null},K,/^$/),"handler",function(q){var ct=q.index;et==="rightArrow"&&(ct+=q.length+1);var pt=this.quill.getLeaf(ct),S=E(pt,1),o=S[0];return o instanceof I.EmbedBlot?(et==="leftArrow"?Y?this.quill.setSelection(q.index-1,q.length+1,x.ZP.sources.USER):this.quill.setSelection(q.index-1,x.ZP.sources.USER):Y?this.quill.setSelection(q.index,q.length+1,x.ZP.sources.USER):this.quill.setSelection(q.index+q.length+1,x.ZP.sources.USER),!1):!0})}function st(et,Y){return{key:et[0],which:Y,shortKey:!0,handler:function(at,q){return this.quill.format(et,!q.format[et],x.ZP.sources.USER),{preventAfterAllMatches:!0}}}}function mt(et){if(typeof et=="string"||typeof et=="number")et={key:et};else if(W(et)==="object")et=v()(et);else return null;return et.shortKey&&(et[w]=et.shortKey,delete et.shortKey),et}function Tt(et){var Y=et.quill,K=et.range,at=Y.getLines(K),q={};if(at.length>1){var ct=at[0].formats(),pt=at[at.length-1].formats();q=D.AttributeMap.diff(pt,ct)||{}}Y.deleteText(K,x.ZP.sources.USER),Object.keys(q).length>0&&Y.formatLine(K.index,1,q,x.ZP.sources.USER),Y.setSelection(K.index,x.ZP.sources.SILENT)}},9072:(d,C,t)=>{t.d(C,{ZP:()=>Q});var y=t(9098),v=t.n(y),m=t(1233),g=t(6603),D=t(281),M=t(7094),I=t(6446),x=t(4122),N=t(3657),j=t(8222),L=t(7309),H=t(5635),W=t(8034);function E(G){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(st){return typeof st}:function(st){return st&&typeof Symbol=="function"&&st.constructor===Symbol&&st!==Symbol.prototype?"symbol":typeof st},E(G)}function R(G,st,mt){return st=k(st),st in G?Object.defineProperty(G,st,{value:mt,enumerable:!0,configurable:!0,writable:!0}):G[st]=mt,G}function F(G,st){return u(G)||a(G,st)||O(G,st)||it()}function it(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(G,st){if(G){if(typeof G=="string")return T(G,st);var mt=Object.prototype.toString.call(G).slice(8,-1);if(mt==="Object"&&G.constructor&&(mt=G.constructor.name),mt==="Map"||mt==="Set")return Array.from(G);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return T(G,st)}}function T(G,st){(st==null||st>G.length)&&(st=G.length);for(var mt=0,Tt=new Array(st);mt<st;mt++)Tt[mt]=G[mt];return Tt}function a(G,st){var mt=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(mt!=null){var Tt,et,Y,K,at=[],q=!0,ct=!1;try{if(Y=(mt=mt.call(G)).next,st!==0)for(;!(q=(Tt=Y.call(mt)).done)&&(at.push(Tt.value),at.length!==st);q=!0);}catch(pt){ct=!0,et=pt}finally{try{if(!q&&mt.return!=null&&(K=mt.return(),Object(K)!==K))return}finally{if(ct)throw et}}return at}}function u(G){if(Array.isArray(G))return G}function c(G,st){if(!(G instanceof st))throw new TypeError("Cannot call a class as a function")}function _(G,st){for(var mt=0;mt<st.length;mt++){var Tt=st[mt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(G,k(Tt.key),Tt)}}function B(G,st,mt){return st&&_(G.prototype,st),mt&&_(G,mt),Object.defineProperty(G,"prototype",{writable:!1}),G}function k(G){var st=$(G,"string");return E(st)==="symbol"?st:String(st)}function $(G,st){if(E(G)!=="object"||G===null)return G;var mt=G[Symbol.toPrimitive];if(mt!==void 0){var Tt=mt.call(G,st||"default");if(E(Tt)!=="object")return Tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(st==="string"?String:Number)(G)}function J(G,st){if(typeof st!="function"&&st!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(st&&st.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),st&&ut(G,st)}function ut(G,st){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Tt,et){return Tt.__proto__=et,Tt},ut(G,st)}function ht(G){var st=_t();return function(){var Tt=tt(G),et;if(st){var Y=tt(this).constructor;et=Reflect.construct(Tt,arguments,Y)}else et=Tt.apply(this,arguments);return dt(this,et)}}function dt(G,st){if(st&&(E(st)==="object"||typeof st=="function"))return st;if(st!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(G)}function nt(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z(){return typeof Reflect<"u"&&Reflect.get?Z=Reflect.get.bind():Z=function(st,mt,Tt){var et=vt(st,mt);if(et){var Y=Object.getOwnPropertyDescriptor(et,mt);return Y.get?Y.get.call(arguments.length<3?st:Tt):Y.value}},Z.apply(this,arguments)}function vt(G,st){for(;!Object.prototype.hasOwnProperty.call(G,st)&&(G=tt(G),G!==null););return G}function tt(G){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(mt){return mt.__proto__||Object.getPrototypeOf(mt)},tt(G)}var lt=new m.ClassAttributor("code-token","hljs",{scope:m.Scope.INLINE}),U=function(G){J(mt,G);var st=ht(mt);function mt(Tt,et,Y){var K;return c(this,mt),K=st.call(this,Tt,et,Y),lt.add(K.domNode,Y),K}return B(mt,[{key:"format",value:function(et,Y){et!==mt.blotName?Z(tt(mt.prototype),"format",this).call(this,et,Y):Y?lt.add(this.domNode,Y):(lt.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var et,Y=arguments.length,K=new Array(Y),at=0;at<Y;at++)K[at]=arguments[at];(et=Z(tt(mt.prototype),"optimize",this)).call.apply(et,[this].concat(K)),lt.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(et,Y){for(;et!=null&&et!==Y.domNode;){if(et.classList&&et.classList.contains(L.ZP.className))return Z(tt(mt),"formats",this).call(this,et,Y);et=et.parentNode}}}]),mt}(g.Z);U.blotName="code-token",U.className="ql-token";var w=function(G){J(mt,G);var st=ht(mt);function mt(){return c(this,mt),st.apply(this,arguments)}return B(mt,[{key:"format",value:function(et,Y){et===this.statics.blotName&&Y?this.domNode.setAttribute("data-language",Y):Z(tt(mt.prototype),"format",this).call(this,et,Y)}},{key:"replaceWith",value:function(et,Y){return this.formatAt(0,this.length(),U.blotName,!1),Z(tt(mt.prototype),"replaceWith",this).call(this,et,Y)}}],[{key:"create",value:function(et){var Y=Z(tt(mt),"create",this).call(this,et);return typeof et=="string"&&Y.setAttribute("data-language",et),Y}},{key:"formats",value:function(et){return et.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),mt}(L.ZP),V=function(G){J(mt,G);var st=ht(mt);function mt(){return c(this,mt),st.apply(this,arguments)}return B(mt,[{key:"attach",value:function(){Z(tt(mt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(et,Y){et===w.blotName&&(this.forceNext=!0,this.children.forEach(function(K){K.format(et,Y)}))}},{key:"formatAt",value:function(et,Y,K,at){K===w.blotName&&(this.forceNext=!0),Z(tt(mt.prototype),"formatAt",this).call(this,et,Y,K,at)}},{key:"highlight",value:function(et){var Y=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head!=null){var at=Array.from(this.domNode.childNodes).filter(function(o){return o!==Y.uiNode}),q="".concat(at.map(function(o){return o.textContent}).join(`
`),`
`),ct=w.formats(this.children.head.domNode);if(K||this.forceNext||this.cachedText!==q){if(q.trim().length>0||this.cachedText==null){var pt=this.children.reduce(function(o,i){return o.concat((0,I.qz)(i,!1))},new(v())),S=et(q,ct);pt.diff(S).reduce(function(o,i){var s=i.retain,b=i.attributes;return s?(b&&Object.keys(b).forEach(function(z){[w.blotName,U.blotName].indexOf(z)!==-1&&Y.formatAt(o,s,z,b[z])}),o+s):o},0)}this.cachedText=q,this.forceNext=!1}}}},{key:"html",value:function(et,Y){var K=this.children.find(et),at=F(K,1),q=at[0],ct=q?w.formats(q.domNode):"plain";return'<pre data-language="'.concat(ct,`">
`).concat(this.code(et,Y),`
</pre>`)}},{key:"optimize",value:function(et){if(Z(tt(mt.prototype),"optimize",this).call(this,et),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){var Y=w.formats(this.children.head.domNode);Y!==this.uiNode.value&&(this.uiNode.value=Y)}}}]),mt}(L.se);V.allowedChildren=[w],w.requiredContainer=V,w.allowedChildren=[U,N.Z,j.Z,x.Z];var Q=function(G){J(mt,G);var st=ht(mt);function mt(Tt,et){var Y;if(c(this,mt),Y=st.call(this,Tt,et),Y.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return Y.languages=Y.options.languages.reduce(function(K,at){var q=at.key;return K[q]=!0,K},{}),Y.highlightBlot=Y.highlightBlot.bind(nt(Y)),Y.initListener(),Y.initTimer(),Y}return B(mt,[{key:"initListener",value:function(){var et=this;this.quill.on(D.ZP.events.SCROLL_BLOT_MOUNT,function(Y){if(Y instanceof V){var K=et.quill.root.ownerDocument.createElement("select");et.options.languages.forEach(function(at){var q=at.key,ct=at.label,pt=K.ownerDocument.createElement("option");pt.textContent=ct,pt.setAttribute("value",q),K.appendChild(pt)}),K.addEventListener("change",function(){Y.format(w.blotName,K.value),et.quill.root.focus(),et.highlight(Y,!0)}),Y.uiNode==null&&(Y.attachUI(K),Y.children.head&&(K.value=w.formats(Y.children.head.domNode)))}})}},{key:"initTimer",value:function(){var et=this,Y=null;this.quill.on(D.ZP.events.SCROLL_OPTIMIZE,function(){clearTimeout(Y),Y=setTimeout(function(){et.highlight(),Y=null},et.options.interval)})}},{key:"highlight",value:function(){var et=this,Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.quill.selection.composing){this.quill.update(D.ZP.sources.USER);var at=this.quill.getSelection(),q=Y==null?this.quill.scroll.descendants(V):[Y];q.forEach(function(ct){ct.highlight(et.highlightBlot,K)}),this.quill.update(D.ZP.sources.SILENT),at!=null&&this.quill.setSelection(at,D.ZP.sources.SILENT)}}},{key:"highlightBlot",value:function(et){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(Y=this.languages[Y]?Y:"plain",Y==="plain")return(0,j.b)(et).split(`
`).reduce(function(at,q,ct){return ct!==0&&at.insert(`
`,R({},L.ZP.blotName,Y)),at.insert(q)},new(v()));var K=this.quill.root.ownerDocument.createElement("div");return K.classList.add(L.ZP.className),K.innerHTML=this.options.hljs.highlight(Y,et).value,(0,H.fw)(this.quill.scroll,K,[function(at,q){var ct=lt.value(at);return ct?q.compose(new(v())().retain(q.length(),R({},U.blotName,ct))):q}],[function(at,q){return at.data.split(`
`).reduce(function(ct,pt,S){return S!==0&&ct.insert(`
`,R({},L.ZP.blotName,Y)),ct.insert(pt)},q)}],new WeakMap)}}],[{key:"register",value:function(){D.ZP.register(U,!0),D.ZP.register(w,!0),D.ZP.register(V,!0)}}]),mt}(M.Z);Q.DEFAULTS={hljs:function(){return(0,W.Z)()?window.hljs:null}(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},867:(d,C,t)=>{t.d(C,{Z:()=>w});var y=t(9098),v=t.n(y),m=t(1233),g=t(281),D=t(7094),M=t(1969),I=t(5874),x=t(5635),N=t(9466),j=t(7896),L=t(319),H=t(1342),W=t(2480);function E(V){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},E(V)}function R(V,Q,G){return Q=k(Q),Q in V?Object.defineProperty(V,Q,{value:G,enumerable:!0,configurable:!0,writable:!0}):V[Q]=G,V}function F(V,Q){return u(V)||a(V,Q)||O(V,Q)||it()}function it(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(V,Q){if(V){if(typeof V=="string")return T(V,Q);var G=Object.prototype.toString.call(V).slice(8,-1);if(G==="Object"&&V.constructor&&(G=V.constructor.name),G==="Map"||G==="Set")return Array.from(V);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return T(V,Q)}}function T(V,Q){(Q==null||Q>V.length)&&(Q=V.length);for(var G=0,st=new Array(Q);G<Q;G++)st[G]=V[G];return st}function a(V,Q){var G=V==null?null:typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(G!=null){var st,mt,Tt,et,Y=[],K=!0,at=!1;try{if(Tt=(G=G.call(V)).next,Q===0){if(Object(G)!==G)return;K=!1}else for(;!(K=(st=Tt.call(G)).done)&&(Y.push(st.value),Y.length!==Q);K=!0);}catch(q){at=!0,mt=q}finally{try{if(!K&&G.return!=null&&(et=G.return(),Object(et)!==et))return}finally{if(at)throw mt}}return Y}}function u(V){if(Array.isArray(V))return V}function c(V,Q){if(!(V instanceof Q))throw new TypeError("Cannot call a class as a function")}function _(V,Q){for(var G=0;G<Q.length;G++){var st=Q[G];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(V,k(st.key),st)}}function B(V,Q,G){return Q&&_(V.prototype,Q),G&&_(V,G),Object.defineProperty(V,"prototype",{writable:!1}),V}function k(V){var Q=$(V,"string");return E(Q)==="symbol"?Q:String(Q)}function $(V,Q){if(E(V)!=="object"||V===null)return V;var G=V[Symbol.toPrimitive];if(G!==void 0){var st=G.call(V,Q||"default");if(E(st)!=="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(V)}function J(V,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(Q&&Q.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),Q&&ut(V,Q)}function ut(V,Q){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(st,mt){return st.__proto__=mt,st},ut(V,Q)}function ht(V){var Q=_t();return function(){var st=Z(V),mt;if(Q){var Tt=Z(this).constructor;mt=Reflect.construct(st,arguments,Tt)}else mt=st.apply(this,arguments);return dt(this,mt)}}function dt(V,Q){if(Q&&(E(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nt(V)}function nt(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z(V){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},Z(V)}var vt=[null,null,null,-1],tt=1,lt=function(V){J(G,V);var Q=ht(G);function G(){var st;c(this,G);for(var mt=arguments.length,Tt=new Array(mt),et=0;et<mt;et++)Tt[et]=arguments[et];return st=Q.call.apply(Q,[this].concat(Tt)),st.tableBlots=[M.zW.blotName,M.iD.blotName],st.tableBlots.forEach(function(Y){st.quill.editor.addImmediateFormat(Y)}),st.integrateClipboard(),st.addKeyboardHandlers(),st.listenBalanceCells(),st}return B(G,[{key:"integrateClipboard",value:function(){var mt=this;this.tableBlots.forEach(function(Tt){mt.quill.clipboard.addTableBlot(Tt)}),this.quill.clipboard.addMatcher("td, th",U),this.quill.clipboard.addMatcher("table",(0,j.F)(L.Zt)),this.quill.clipboard.addMatcher("td, th",(0,j.a)(H.h6))}},{key:"addKeyboardHandlers",value:function(){var mt=this,Tt=G.keyboardBindings;Object.keys(Tt).forEach(function(et){Tt[et]&&mt.quill.keyboard.addBinding(Tt[et])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(M.xJ).forEach(function(mt){mt.balanceCells()})}},{key:"deleteColumn",value:function(){var mt=this.getTable(),Tt=F(mt,3),et=Tt[0],Y=Tt[2];(0,I.Z)(Y)&&(et.deleteColumn(Y.cellOffset()),this.quill.update(g.ZP.sources.USER))}},{key:"deleteRow",value:function(){var mt=this.getTable(),Tt=F(mt,2),et=Tt[1];(0,I.Z)(et)&&(et.remove(),this.quill.update(g.ZP.sources.USER))}},{key:"deleteTable",value:function(){var mt=this.getTable(),Tt=F(mt,1),et=Tt[0];if((0,I.Z)(et)){var Y=et.offset();et.remove(),this.quill.update(g.ZP.sources.USER),this.quill.setSelection(Y,g.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,I.Z)(mt))return vt;var Tt=this.quill.getLine(mt.index),et=F(Tt,2),Y=et[0],K=et[1];if(!(0,I.Z)(Y)||this.tableBlots.indexOf(Y.statics.blotName)===-1)return vt;var at=Y.parent,q=at.parent,ct=q.parent.parent;return[ct,q,at,K]}},{key:"insertColumn",value:function(mt){var Tt=this.quill.getSelection(),et=this.getTable(Tt),Y=F(et,3),K=Y[0],at=Y[1],q=Y[2];if((0,I.Z)(q)){var ct=q.cellOffset();K.insertColumn(ct+mt),this.quill.update(g.ZP.sources.USER);var pt=at.rowOffset();mt===0&&(pt+=1),this.quill.setSelection(Tt.index+pt,Tt.length,g.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(mt){var Tt=this.quill.getSelection(),et=this.getTable(Tt),Y=F(et,3),K=Y[0],at=Y[1],q=Y[2];if((0,I.Z)(q)){var ct=at.rowOffset();K.insertRow(ct+mt),this.quill.update(g.ZP.sources.USER),mt>0?this.quill.setSelection(Tt,g.ZP.sources.SILENT):this.quill.setSelection(Tt.index+at.children.length,Tt.length,g.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var mt=this.quill.getSelection(),Tt=this.getTable(mt),et=F(Tt,3),Y=et[0],K=et[2];(0,I.Z)(K)&&(Y.insertHeaderRow(),this.quill.update(g.ZP.sources.USER))}},{key:"insertTable",value:function(mt,Tt){var et=this.quill.getSelection();if((0,I.Z)(et)){var Y=new Array(mt).fill(0).reduce(function(K){var at=(0,M.Lv)();return new Array(Tt).fill(`
`).forEach(function(q){K.insert(q,{tableCellLine:{row:at,cell:(0,M.Lv)()}})}),K},new(v())().retain(et.index));this.quill.updateContents(Y,g.ZP.sources.USER),this.quill.setSelection(et.index,g.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var mt=this;this.quill.on(g.ZP.events.SCROLL_OPTIMIZE,function(Tt){Tt.some(function(et){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(et.target.tagName)!==-1?(mt.quill.once(g.ZP.events.TEXT_CHANGE,function(Y,K,at){at===g.ZP.sources.USER&&mt.balanceTables()}),!0):!1})}),this.quill.on(g.ZP.events.CONTENT_SETTED,function(){mt.quill.once(g.ZP.events.TEXT_CHANGE,function(){mt.balanceTables()})})}}],[{key:"register",value:function(){g.ZP.register(M.zW,!0),g.ZP.register(M.iD,!0),g.ZP.register(M.xs,!0),g.ZP.register(M.pj,!0),g.ZP.register(M.KA,!0),g.ZP.register(M.SC,!0),g.ZP.register(M.RM,!0),g.ZP.register(M.xD,!0),g.ZP.register(M.xJ,!0),[L.li,H.Du].forEach(function(mt){Object.keys(mt).forEach(function(Tt){g.ZP.register(R({},"formats/".concat(Tt),mt[Tt]),!0)})})}}]),G}(D.Z);lt.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(Q){var G=this.quill.getLine(Q.index),st=F(G,1),mt=st[0];return!(!mt.prev||["tableCellLine","tableHeaderCellLine"].indexOf(mt.prev.statics.blotName)===-1)}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(Q,G){var st,mt,Tt=this,et=this.quill.getModule("table");if(et){var Y=this.quill,K=et.getTable(Q),at=F(K,1),q=at[0],ct=((st=this.quill.selection)===null||st===void 0?void 0:st.lastNative.native.endContainer.nodeType)===tt;if(ct){var pt=q.offset();(0,W.Z)({quill:Y,index:pt,table:q});return}if(!((mt=this.quill.selection)!==null&&mt!==void 0&&mt.composing)){Q.length>0&&this.quill.scroll.deleteAt(Q.index,Q.length);var S=Object.keys(G.format).reduce(function(o,i){return Tt.quill.scroll.query(i,m.Scope.BLOCK)&&!Array.isArray(G.format[i])&&(o[i]=G.format[i]),o},{});this.quill.insertText(Q.index,`
`,S.tableCellLine,g.ZP.sources.USER),this.quill.setSelection(Q.index+1,g.ZP.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(o){S[o]==null&&(Array.isArray(G.format[o])||o!=="link"&&Tt.quill.format(o,G.format[o],g.ZP.sources.USER))})}}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(Q,G){var st=G.event,mt=G.line,Tt=mt.offset(this.quill.scroll);st.shiftKey?this.quill.setSelection(Tt-1,g.ZP.sources.USER):this.quill.setSelection(Tt+mt.length(),g.ZP.sources.USER)}},"table down":(0,N.Z)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":(0,N.Z)(!0,["tableCellLine","tableHeaderCellLine"])};function U(V,Q){var G=V.parentNode,st=G.parentNode.tagName==="TABLE"?G.parentNode:G.parentNode.parentNode,mt=G.parentNode.tagName==="THEAD"?!0:null,Tt=Array.from(st.querySelectorAll("tr")),et=Array.from(G.querySelectorAll("th,td")),Y=Tt.indexOf(G)+1,K=et.indexOf(V)+1,at=mt?"tableHeaderCellLine":"tableCellLine";return Q.length()===0?(Q=new(v())().insert(`
`,R({},at,{row:Y,cell:K})),Q):((0,x.PF)(Q,`
`)||Q.insert(`
`),(0,x.HI)(Q,at,{row:Y,cell:K}))}const w=lt},6054:(d,C,t)=>{t.d(C,{Z:()=>Oe});var y=t(9098),v=t.n(y),m=t(281),g=t(7094),D=t(6446),M=t(3553),I=t(5874),x=t(319),N=t(8536),j=t(2795);function L(gt){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},L(gt)}function H(gt,St){return R(gt)||E(gt,St)||O(gt,St)||W()}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(gt,St){var Ct=gt==null?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Ct!=null){var It,At,xt,kt,Kt=[],Qt=!0,re=!1;try{if(xt=(Ct=Ct.call(gt)).next,St!==0)for(;!(Qt=(It=xt.call(Ct)).done)&&(Kt.push(It.value),Kt.length!==St);Qt=!0);}catch(ne){re=!0,At=ne}finally{try{if(!Qt&&Ct.return!=null&&(kt=Ct.return(),Object(kt)!==kt))return}finally{if(re)throw At}}return Kt}}function R(gt){if(Array.isArray(gt))return gt}function F(gt){return a(gt)||T(gt)||O(gt)||it()}function it(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(gt,St){if(gt){if(typeof gt=="string")return u(gt,St);var Ct=Object.prototype.toString.call(gt).slice(8,-1);if(Ct==="Object"&&gt.constructor&&(Ct=gt.constructor.name),Ct==="Map"||Ct==="Set")return Array.from(gt);if(Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct))return u(gt,St)}}function T(gt){if(typeof Symbol<"u"&&gt[Symbol.iterator]!=null||gt["@@iterator"]!=null)return Array.from(gt)}function a(gt){if(Array.isArray(gt))return u(gt)}function u(gt,St){(St==null||St>gt.length)&&(St=gt.length);for(var Ct=0,It=new Array(St);Ct<St;Ct++)It[Ct]=gt[Ct];return It}function c(gt,St){if(!(gt instanceof St))throw new TypeError("Cannot call a class as a function")}function _(gt,St){for(var Ct=0;Ct<St.length;Ct++){var It=St[Ct];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(gt,k(It.key),It)}}function B(gt,St,Ct){return St&&_(gt.prototype,St),Ct&&_(gt,Ct),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function k(gt){var St=$(gt,"string");return L(St)==="symbol"?St:String(St)}function $(gt,St){if(L(gt)!=="object"||gt===null)return gt;var Ct=gt[Symbol.toPrimitive];if(Ct!==void 0){var It=Ct.call(gt,St);if(L(It)!=="object")return It;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(gt)}function J(){return typeof Reflect<"u"&&Reflect.get?J=Reflect.get.bind():J=function(St,Ct,It){var At=ut(St,Ct);if(At){var xt=Object.getOwnPropertyDescriptor(At,Ct);return xt.get?xt.get.call(arguments.length<3?St:It):xt.value}},J.apply(this,arguments)}function ut(gt,St){for(;!Object.prototype.hasOwnProperty.call(gt,St)&&(gt=tt(gt),gt!==null););return gt}function ht(gt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(St&&St.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),St&&dt(gt,St)}function dt(gt,St){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(It,At){return It.__proto__=At,It},dt(gt,St)}function nt(gt){var St=vt();return function(){var It=tt(gt),At;if(St){var xt=tt(this).constructor;At=Reflect.construct(It,arguments,xt)}else At=It.apply(this,arguments);return _t(this,At)}}function _t(gt,St){if(St&&(L(St)==="object"||typeof St=="function"))return St;if(St!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(gt)}function Z(gt){if(gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}function vt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tt(gt){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ct){return Ct.__proto__||Object.getPrototypeOf(Ct)},tt(gt)}var lt="data-tablelite-",U=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct,[{key:"format",value:function(At,xt){if(x.li[At]){var kt,Kt="data-".concat(At.toLowerCase());(0,j.Z)(this.domNode,Kt,xt),(kt=this.row())===null||kt===void 0||(kt=kt.table())===null||kt===void 0||kt.format(At,xt)}else J(tt(Ct.prototype),"format",this).call(this,At,xt)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var At;return(At=this.row())===null||At===void 0?void 0:At.table()}}],[{key:"create",value:function(At){var xt=J(tt(Ct),"create",this).call(this),kt=this.dataAttribute;return(0,j.Z)(xt,kt,At??K()),xt}},{key:"formats",value:function(At){var xt=this.dataAttribute;if(At.hasAttribute(xt))return At.getAttribute(xt)}}]),Ct}(D.ZP);U.tagName=["TD","TH"];var w=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct,[{key:"format",value:function(At,xt){At===Ct.blotName&&xt?this.domNode.setAttribute(Ct.dataAttribute,xt):J(tt(Ct.prototype),"format",this).call(this,At,xt)}}]),Ct}(U);w.blotName="table",w.dataAttribute="".concat(lt,"row");var V=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct,[{key:"format",value:function(At,xt){At===Ct.blotName&&xt?this.domNode.setAttribute(Ct.dataAttribute,xt):J(tt(Ct.prototype),"format",this).call(this,At,xt)}}]),Ct}(U);V.tagName=["TH","TD"],V.blotName="tableHeaderCell",V.dataAttribute="".concat(lt,"header-row");var Q=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct,[{key:"checkMerge",value:function(){if(J(tt(Ct.prototype),"checkMerge",this).call(this)&&(0,I.Z)(this.next.children.head)){var At=this.childFormatName,xt=this.children.head.formats(),kt=this.children.tail.formats(),Kt=this.next.children.head.formats(),Qt=this.next.children.tail.formats();return xt[At]===kt[At]&&xt[At]===Kt[At]&&xt[At]===Qt[At]}return!1}},{key:"optimize",value:function(){for(var At,xt=this,kt=arguments.length,Kt=new Array(kt),Qt=0;Qt<kt;Qt++)Kt[Qt]=arguments[Qt];(At=J(tt(Ct.prototype),"optimize",this)).call.apply(At,[this].concat(Kt));var re=this.childFormatName;this.children.forEach(function(ne){if((0,I.Z)(ne.next)){var ie=ne.formats(),oe=ne.next.formats();if(ie[re]!==oe[re]){var Se=xt.splitAfter(ne);Se&&Se.optimize(),xt.prev&&xt.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var At;return(At=this.parent)===null||At===void 0?void 0:At.parent}}]),Ct}(M.Z);Q.tagName="TR";var G=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(It,At){var xt;return c(this,Ct),xt=St.call(this,It,At),xt.childFormatName="table",xt}return B(Ct)}(Q);G.blotName="tableRow";var st=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(It,At){var xt;return c(this,Ct),xt=St.call(this,It,At),xt.childFormatName="tableHeaderCell",xt}return B(Ct)}(Q);st.blotName="tableHeaderRow";var mt=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct,[{key:"optimize",value:function(){var At;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var xt=this.children.head.children.head.domNode,kt={};Object.keys(x.li).forEach(function(ne){var ie=xt.dataset[ne.toLowerCase()];ie&&(kt[ne]=ie)}),this.wrap(this.statics.requiredContainer.blotName,kt)}for(var Kt=arguments.length,Qt=new Array(Kt),re=0;re<Kt;re++)Qt[re]=arguments[re];(At=J(tt(Ct.prototype),"optimize",this)).call.apply(At,[this].concat(Qt))}}]),Ct}(M.Z),Tt=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct)}(mt);Tt.blotName="tableBody",Tt.tagName=["TBODY"];var et=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct)}(mt);et.blotName="tableHeader",et.tagName=["THEAD"];var Y=function(gt){ht(Ct,gt);var St=nt(Ct);function Ct(){return c(this,Ct),St.apply(this,arguments)}return B(Ct,[{key:"balanceCells",value:function(){var At=this.descendants(st),xt=this.descendants(G),kt=this.getMaxTableColCount(At,xt);this.balanceRows(kt,At,V),this.balanceRows(kt,xt,w)}},{key:"getMaxTableColCount",value:function(At,xt){return Math.max(this.getMaxRowColCount(At),this.getMaxRowColCount(xt))}},{key:"getMaxRowColCount",value:function(At){return Math.max.apply(Math,F(At.map(function(xt){return xt.children.length})))}},{key:"balanceRows",value:function(At,xt,kt){var Kt=this;xt.forEach(function(Qt){new Array(At-Qt.children.length).fill(0).forEach(function(){var re;(0,I.Z)(Qt.children.head)&&(re=kt.formats(Qt.children.head.domNode));var ne=Kt.scroll.create(kt.blotName,re);Qt.appendChild(ne),ne.optimize()})})}},{key:"cells",value:function(At){return this.rows().map(function(xt){return xt.children.at(At)})}},{key:"deleteColumn",value:function(At){var xt=this;[et,Tt].forEach(function(kt){var Kt=xt.descendants(kt),Qt=H(Kt,1),re=Qt[0];!(0,I.Z)(re)||!(0,I.Z)(re.children.head)||re.children.forEach(function(ne){var ie=ne.children.at(At);(0,I.Z)(ie)&&ie.remove()})})}},{key:"insertColumn",value:function(At){var xt=this;[et,Tt].forEach(function(kt){var Kt=xt.descendants(kt),Qt=H(Kt,1),re=Qt[0];if(!(!(0,I.Z)(re)||!(0,I.Z)(re.children.head))){var ne=kt===et?V:w;re.children.forEach(function(ie){var oe=ie.children.at(At),Se=ne.formats(ie.children.head.domNode),Xe=xt.scroll.create(ne.blotName,Se);ie.insertBefore(Xe,oe)})}})}},{key:"insertRow",value:function(At){var xt=this,kt=this.descendants(Tt),Kt=H(kt,1),Qt=Kt[0];if(!(!(0,I.Z)(Qt)||!(0,I.Z)(Qt.children.head))){var re=K(),ne=this.scroll.create(G.blotName);Qt.children.head.children.forEach(function(){var oe=xt.scroll.create(w.blotName,re);ne.appendChild(oe)});var ie=Qt.children.at(At);Qt.insertBefore(ne,ie)}}},{key:"insertHeaderRow",value:function(){var At=this,xt=this.descendants(et),kt=H(xt,1),Kt=kt[0],Qt=this.descendants(Tt),re=H(Qt,1),ne=re[0];if(!((0,I.Z)(Kt)||!(0,I.Z)(ne)||!(0,I.Z)(ne.children.head))){var ie=K(),oe=this.scroll.create(et.blotName),Se=this.scroll.create(st.blotName),Xe=this.children.at(0);oe.appendChild(Se),ne.children.head.children.forEach(function(){var or=At.scroll.create(V.blotName,ie);Se.appendChild(or),or.optimize()}),this.insertBefore(oe,Xe)}}},{key:"rows",value:function(){var At=this.children.head;return(0,I.Z)(At)?At.children.map(function(xt){return xt}):[]}},{key:"formats",value:function(){var At={},xt=this.cells()[0].domNode;return Object.keys(x.li).forEach(function(kt){var Kt=xt.dataset[kt.toLowerCase()];Kt&&(At[kt]=Kt)}),At}},{key:"format",value:function(At,xt){var kt=x.li[At];if(kt){var Kt="data-".concat(At.toLowerCase());this.cells().forEach(function(Qt){(0,j.Z)(Qt.domNode,Kt,xt)}),kt.add(this.domNode,xt)}}}],[{key:"create",value:function(At){var xt=J(tt(Ct),"create",this).call(this,At);return At&&Object.keys(At).forEach(function(kt){var Kt;(Kt=x.li[kt])===null||Kt===void 0||Kt.add(xt,At[kt])}),xt}}]),Ct}(M.Z);Y.blotName="tableContainer",Y.tagName="TABLE",Y.allowedChildren=[et,Tt],Tt.requiredContainer=Y,et.requiredContainer=Y,Tt.allowedChildren=[G],G.requiredContainer=Tt,G.allowedChildren=[w],w.requiredContainer=G,et.allowedChildren=[st],st.requiredContainer=et,st.allowedChildren=[V],V.requiredContainer=st;function K(){return"row-".concat((0,N.Z)())}var at=t(5635),q=t(9466);function ct(gt){var St=gt.quill,Ct=gt.index,It=gt.range,At=Ct-1,xt=new(v())().retain(At).insert(`
`);St.updateContents(xt,m.ZP.sources.USER),St.setSelection(It.index+1,It.length,m.ZP.sources.SILENT)}var pt=t(2480);function S(gt,St,Ct){return gt.prev==null&&gt.next==null?St.prev==null&&St.next==null?Ct===0?-1:1:St.prev==null?-1:1:gt.prev==null?-1:gt.next==null?1:null}var o=t(7896),i=t(1342);function s(gt){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(St){return typeof St}:function(St){return St&&typeof Symbol=="function"&&St.constructor===Symbol&&St!==Symbol.prototype?"symbol":typeof St},s(gt)}function b(gt,St,Ct){return St=Pt(St),St in gt?Object.defineProperty(gt,St,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):gt[St]=Ct,gt}function z(gt,St){return Vt(gt)||Ut(gt,St)||wt(gt,St)||yt()}function yt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wt(gt,St){if(gt){if(typeof gt=="string")return jt(gt,St);var Ct=Object.prototype.toString.call(gt).slice(8,-1);if(Ct==="Object"&&gt.constructor&&(Ct=gt.constructor.name),Ct==="Map"||Ct==="Set")return Array.from(gt);if(Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct))return jt(gt,St)}}function jt(gt,St){(St==null||St>gt.length)&&(St=gt.length);for(var Ct=0,It=new Array(St);Ct<St;Ct++)It[Ct]=gt[Ct];return It}function Ut(gt,St){var Ct=gt==null?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(Ct!=null){var It,At,xt,kt,Kt=[],Qt=!0,re=!1;try{if(xt=(Ct=Ct.call(gt)).next,St===0){if(Object(Ct)!==Ct)return;Qt=!1}else for(;!(Qt=(It=xt.call(Ct)).done)&&(Kt.push(It.value),Kt.length!==St);Qt=!0);}catch(ne){re=!0,At=ne}finally{try{if(!Qt&&Ct.return!=null&&(kt=Ct.return(),Object(kt)!==kt))return}finally{if(re)throw At}}return Kt}}function Vt(gt){if(Array.isArray(gt))return gt}function Yt(gt,St){if(!(gt instanceof St))throw new TypeError("Cannot call a class as a function")}function Gt(gt,St){for(var Ct=0;Ct<St.length;Ct++){var It=St[Ct];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(gt,Pt(It.key),It)}}function bt(gt,St,Ct){return St&&Gt(gt.prototype,St),Ct&&Gt(gt,Ct),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function Pt(gt){var St=Rt(gt,"string");return s(St)==="symbol"?St:String(St)}function Rt(gt,St){if(s(gt)!=="object"||gt===null)return gt;var Ct=gt[Symbol.toPrimitive];if(Ct!==void 0){var It=Ct.call(gt,St||"default");if(s(It)!=="object")return It;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(gt)}function Nt(gt,St){if(typeof St!="function"&&St!==null)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(St&&St.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),St&&Lt(gt,St)}function Lt(gt,St){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(It,At){return It.__proto__=At,It},Lt(gt,St)}function Ft(gt){var St=zt();return function(){var It=te(gt),At;if(St){var xt=te(this).constructor;At=Reflect.construct(It,arguments,xt)}else At=It.apply(this,arguments);return Mt(this,At)}}function Mt(gt,St){if(St&&(s(St)==="object"||typeof St=="function"))return St;if(St!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $t(gt)}function $t(gt){if(gt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}function zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(gt){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ct){return Ct.__proto__||Object.getPrototypeOf(Ct)},te(gt)}var ae=[null,null,null,-1],le=function(gt){Nt(Ct,gt);var St=Ft(Ct);function Ct(){var It;Yt(this,Ct);for(var At=arguments.length,xt=new Array(At),kt=0;kt<At;kt++)xt[kt]=arguments[kt];return It=St.call.apply(St,[this].concat(xt)),It.tableBlots=[w.blotName,V.blotName],It.tableBlots.forEach(function(Kt){It.quill.editor.addImmediateFormat(Kt)}),It.integrateClipboard(),It.addKeyboardHandlers(),It.listenBalanceCells(),It}return bt(Ct,[{key:"integrateClipboard",value:function(){var At=this;this.tableBlots.forEach(function(xt){return At.quill.clipboard.addTableBlot(xt)}),this.quill.clipboard.addMatcher("tr",Ce),this.quill.clipboard.addMatcher("table",(0,o.F)(x.Zt)),this.quill.clipboard.addMatcher("td, th",(0,o.a)(i.h6))}},{key:"addKeyboardHandlers",value:function(){var At=this,xt=Ct.keyboardBindings;Object.keys(xt).forEach(function(kt){xt[kt]&&At.quill.keyboard.addBinding(xt[kt])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(Y).forEach(function(At){At.balanceCells()})}},{key:"deleteColumn",value:function(){var At=this.getTable(),xt=z(At,3),kt=xt[0],Kt=xt[2];(0,I.Z)(Kt)&&(kt.deleteColumn(Kt.cellOffset()),this.quill.update(m.ZP.sources.USER))}},{key:"deleteRow",value:function(){var At=this.getTable(),xt=z(At,2),kt=xt[1];(0,I.Z)(kt)&&(kt.remove(),this.quill.update(m.ZP.sources.USER))}},{key:"deleteTable",value:function(){var At=this.getTable(),xt=z(At,1),kt=xt[0];if((0,I.Z)(kt)){var Kt=kt.offset();kt.remove(),this.quill.update(m.ZP.sources.USER),this.quill.setSelection(Kt,m.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,I.Z)(At))return ae;var xt=this.quill.getLine(At.index),kt=z(xt,2),Kt=kt[0],Qt=kt[1];if(!(0,I.Z)(Kt)||this.tableBlots.indexOf(Kt.statics.blotName)===-1)return ae;var re=Kt.parent,ne=re.parent.parent;return[ne,re,Kt,Qt]}},{key:"insertColumn",value:function(At){var xt=this.quill.getSelection(),kt=this.getTable(xt),Kt=z(kt,3),Qt=Kt[0],re=Kt[1],ne=Kt[2];if((0,I.Z)(ne)){var ie=ne.cellOffset();Qt.insertColumn(ie+At),this.quill.update(m.ZP.sources.USER);var oe=re.rowOffset();At===0&&(oe+=1),this.quill.setSelection(xt.index+oe,xt.length,m.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(At){var xt=this.quill.getSelection(),kt=this.getTable(xt),Kt=z(kt,3),Qt=Kt[0],re=Kt[1],ne=Kt[2];if((0,I.Z)(ne)){var ie=re.rowOffset();Qt.insertRow(ie+At),this.quill.update(m.ZP.sources.USER),At>0?this.quill.setSelection(xt,m.ZP.sources.SILENT):this.quill.setSelection(xt.index+re.children.length,xt.length,m.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var At=this.quill.getSelection(),xt=this.getTable(At),kt=z(xt,3),Kt=kt[0],Qt=kt[2];(0,I.Z)(Qt)&&(Kt.insertHeaderRow(),this.quill.update(m.ZP.sources.USER))}},{key:"insertTable",value:function(At,xt){var kt=this.quill.getSelection();if((0,I.Z)(kt)){var Kt=new Array(At).fill(0).reduce(function(Qt){var re=new Array(xt).fill(`
`).join("");return Qt.insert(re,{table:K()})},new(v())().retain(kt.index));this.quill.updateContents(Kt,m.ZP.sources.USER),this.quill.setSelection(kt.index,m.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var At=this;this.quill.on(m.ZP.events.SCROLL_OPTIMIZE,function(xt){xt.some(function(kt){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(kt.target.tagName)!==-1?(At.quill.once(m.ZP.events.TEXT_CHANGE,function(Kt,Qt,re){re===m.ZP.sources.USER&&At.balanceTables()}),!0):!1})}),this.quill.on(m.ZP.events.CONTENT_SETTED,function(){At.quill.once(m.ZP.events.TEXT_CHANGE,function(){At.balanceTables()})})}}],[{key:"register",value:function(){m.ZP.register(V,!0),m.ZP.register(w,!0),m.ZP.register(st,!0),m.ZP.register(G,!0),m.ZP.register(Tt,!0),m.ZP.register(et,!0),m.ZP.register(Y,!0),[x.li,i.Du].forEach(function(At){Object.keys(At).forEach(function(xt){m.ZP.register(b({},"formats/".concat(xt),At[xt]),!0)})})}}]),Ct}(g.Z);le.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(St){var Ct=this.quill.getModule("table");if(Ct){var It=this.quill,At=Ct.getTable(St),xt=z(At,4),kt=xt[0],Kt=xt[1],Qt=xt[2],re=xt[3],ne=S(Kt,Qt,re),ie=kt.children.length>1&&kt.children.head;if(ne==null||ne<0&&ie)return;var oe=kt.offset();ne<0?ct({quill:It,index:oe,range:St}):(0,pt.Z)({quill:It,index:oe,table:kt})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(St){var Ct=this.quill.getModule("table");if(Ct){var It=this.quill,At=Ct.getTable(St),xt=z(At,4),kt=xt[0],Kt=xt[1],Qt=xt[2],re=xt[3],ne=S(Kt,Qt,re);if(ne==null)return;var ie=kt.offset(),oe=kt.children.length>1&&kt.children.tail;ne<0||ne>0&&oe?ct({quill:It,index:ie,range:St}):(0,pt.Z)({quill:It,index:ie,table:kt})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(St,Ct){var It=Ct.event,At=Ct.line,xt=At.offset(this.quill.scroll);It.shiftKey?this.quill.setSelection(xt-1,m.ZP.sources.USER):this.quill.setSelection(xt+At.length(),m.ZP.sources.USER)}},"table down":(0,q.Z)(!1,["table","tableHeaderCell"]),"table up":(0,q.Z)(!0,["table","tableHeaderCell"])};function Ce(gt,St){var Ct=gt.parentNode.tagName==="TABLE"?gt.parentNode:gt.parentNode.parentNode,It=gt.parentNode.tagName==="THEAD"?!0:null,At=Array.from(Ct.querySelectorAll("tr")),xt=At.indexOf(gt)+1;return(0,at.HI)(St,It?"tableHeaderCell":"table",xt)}const Oe=le},2480:(d,C,t)=>{t.d(C,{Z:()=>g});var y=t(9098),v=t.n(y),m=t(281);function g(D){var M=D.quill,I=D.index,x=D.table,N=I+x.length(),j=new(v())().retain(N).insert(`
`);M.updateContents(j,m.ZP.sources.USER),M.setSelection(N,m.ZP.sources.USER)}},9466:(d,C,t)=>{t.d(C,{Z:()=>v});var y=t(281);function v(m,g){return{key:m?"upArrow":"downArrow",collapsed:!0,format:g,handler:function(M,I){var x=m?"prev":"next",N=I.line,j=N.statics.blotName.indexOf("Line")>-1?N.parent:N,L=j.parent.parent[x],H=j.parent[x]||(L==null?void 0:L.children.head);if(H!=null){if(H.statics.blotName==="tableRow"||H.statics.blotName==="tableHeaderRow"){for(var W=H.children.head,E=j;E.prev!=null;)E=E.prev,W=W.next;var R=W.offset(this.quill.scroll)+Math.min(I.offset,W.length()-1);this.quill.setSelection(R,0,y.ZP.sources.USER)}}else{var F=j.table()[x];F!=null&&(m?this.quill.setSelection(F.offset(this.quill.scroll)+F.length()-1,0,y.ZP.sources.USER):this.quill.setSelection(F.offset(this.quill.scroll),0,y.ZP.sources.USER))}return!1}}}},7896:(d,C,t)=>{t.d(C,{F:()=>W,a:()=>E});var y=t(1233),v=t(1674),m=t(4569),g=t(5635);function D(R){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},D(R)}function M(R,F){var it=Object.keys(R);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(R);F&&(O=O.filter(function(T){return Object.getOwnPropertyDescriptor(R,T).enumerable})),it.push.apply(it,O)}return it}function I(R){for(var F=1;F<arguments.length;F++){var it=arguments[F]!=null?arguments[F]:{};F%2?M(Object(it),!0).forEach(function(O){x(R,O,it[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(it)):M(Object(it)).forEach(function(O){Object.defineProperty(R,O,Object.getOwnPropertyDescriptor(it,O))})}return R}function x(R,F,it){return F=N(F),F in R?Object.defineProperty(R,F,{value:it,enumerable:!0,configurable:!0,writable:!0}):R[F]=it,R}function N(R){var F=j(R,"string");return D(F)==="symbol"?F:String(F)}function j(R,F){if(D(R)!=="object"||R===null)return R;var it=R[Symbol.toPrimitive];if(it!==void 0){var O=it.call(R,F||"default");if(D(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(R)}function L(R,F,it,O){R[F]=!O&&R[F]?R[F]:it}function H(R,F,it,O,T,a){return R.filter(function(u){return!!u}).forEach(function(u){var c=it.query(u,y.Scope.ATTRIBUTE);if(c!==null){var _=c.value(F);if(_){L(T,c.attrName,_,a);return}}var B=O[u];if(B!=null&&(B.attrName===u||B.keyName===u)){var k=B.value(F)||void 0;L(T,B.attrName,k,a)}}),T}function W(R){return function(F,it,O){var T=v.Z.keys(F),a=m.Z.keys(F),u=I(I({},H(T,F,O,R,{},!0)),H(a,F,O,R,{},!0));return Object.keys(u).length>0?(0,g.HI)(it,u):it}}function E(R){return function(F,it,O){var T,a=v.Z.keys(F),u=m.Z.keys(F),c=((T=F.parentNode)===null||T===void 0?void 0:T.tagName)==="TR"?F.parentNode:void 0,_=I(I({},H(a,F,O,R,{},!0)),H(u,F,O,R,{},!0));if(c){var B=m.Z.keys(c);_=H(B,c,O,R,_,!1)}return Object.keys(_).length>0?(0,g.HI)(it,_):it}}},3859:(d,C,t)=>{t.d(C,{Z:()=>u});var y=t(9098),v=t.n(y),m=t(2069),g=t(7094),D=t(8034);function M(c){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},M(c)}function I(c,_,B){return _=L(_),_ in c?Object.defineProperty(c,_,{value:B,enumerable:!0,configurable:!0,writable:!0}):c[_]=B,c}function x(c,_){if(!(c instanceof _))throw new TypeError("Cannot call a class as a function")}function N(c,_){for(var B=0;B<_.length;B++){var k=_[B];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(c,L(k.key),k)}}function j(c,_,B){return _&&N(c.prototype,_),Object.defineProperty(c,"prototype",{writable:!1}),c}function L(c){var _=H(c,"string");return M(_)==="symbol"?_:String(_)}function H(c,_){if(M(c)!=="object"||c===null)return c;var B=c[Symbol.toPrimitive];if(B!==void 0){var k=B.call(c,_||"default");if(M(k)!=="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(c)}function W(c,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(_&&_.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),_&&E(c,_)}function E(c,_){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,$){return k.__proto__=$,k},E(c,_)}function R(c){var _=O();return function(){var k=T(c),$;if(_){var J=T(this).constructor;$=Reflect.construct(k,arguments,J)}else $=k.apply(this,arguments);return F(this,$)}}function F(c,_){if(_&&(M(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return it(c)}function it(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(c){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},T(c)}var a=function(c){W(B,c);var _=R(B);function B(k,$){var J;return x(this,B),J=_.call(this,k,$),J.preventImageUploading(!1),J.addDragOverHandler(),J.addDropHandler(),J}return j(B,[{key:"addDragOverHandler",value:function(){if((0,D.Z)()){var $=window.navigator.userAgent.toLowerCase(),J=$.indexOf("msie ")!==-1||$.indexOf("trident/")!==-1||$.indexOf("edge/")!==-1;J&&this.quill.root.addEventListener("dragover",function(ut){ut.preventDefault()})}}},{key:"addDropHandler",value:function(){var $=this;this.quill.root.addEventListener("drop",function(J){var ut=J.dataTransfer.files.length===0,ht=$.options.onDrop;if(ht&&typeof ht=="function"&&ht(J),!(ut||$.preventImageUpload)){J.preventDefault();var dt;if(document.caretRangeFromPoint)dt=document.caretRangeFromPoint(J.clientX,J.clientY);else if(document.caretPositionFromPoint){var nt=document.caretPositionFromPoint(J.clientX,J.clientY);dt=document.createRange(),dt.setStart(nt.offsetNode,nt.offset),dt.setEnd(nt.offsetNode,nt.offset)}else return;var _t=$.quill.selection.normalizeNative(dt),Z=$.quill.selection.normalizedToRange(_t);$.upload(Z,J.dataTransfer.files)}})}},{key:"preventImageUploading",value:function($){return typeof $<"u"&&(this.preventImageUpload=$),this.preventImageUpload}},{key:"upload",value:function($,J,ut){var ht=this;if(!(this.preventImageUpload&&!ut)){var dt=[];Array.from(J).forEach(function(nt){nt&&ht.options.mimetypes.indexOf(nt.type)!==-1&&dt.push(nt)}),dt.length>0&&this.options.handler.call(this,$,dt,this.options.imageBlot)}}}]),B}(g.Z);a.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(_,B,k){var $=this,J=B.map(function(ut){return new Promise(function(ht){var dt=new FileReader;dt.onload=function(nt){ht(nt.target.result)},dt.readAsDataURL(ut)})});Promise.all(J).then(function(ut){var ht=ut.reduce(function(dt,nt){return dt.insert(I({},k,nt))},new(v())().retain(_.index).delete(_.length));$.quill.updateContents(ht,m.Z.sources.USER),$.quill.setSelection(_.index+ut.length,m.Z.sources.SILENT)})}};const u=a},2141:(d,C,t)=>{t.d(C,{Z:()=>y});function y(v){return v?v.substring(0,1).toUpperCase()+v.substring(1):""}},8034:(d,C,t)=>{t.d(C,{Z:()=>v});var y=function(){return typeof window<"u"};const v=y},5874:(d,C,t)=>{t.d(C,{Z:()=>y});function y(v){return v!=null}},1233:(d,C,t)=>{t.r(C),t.d(C,{Attributor:()=>_,AttributorStore:()=>Z,BlockBlot:()=>Q,ClassAttributor:()=>J,ContainerBlot:()=>O,EmbedBlot:()=>mt,InlineBlot:()=>U,LeafBlot:()=>u,ParentBlot:()=>R,Registry:()=>N,Scope:()=>v,ScrollBlot:()=>at,StyleAttributor:()=>nt,TextBlot:()=>pt});var y;(function(S){S[S.TYPE=3]="TYPE",S[S.LEVEL=12]="LEVEL",S[S.ATTRIBUTE=13]="ATTRIBUTE",S[S.BLOT=14]="BLOT",S[S.INLINE=7]="INLINE",S[S.BLOCK=11]="BLOCK",S[S.BLOCK_BLOT=10]="BLOCK_BLOT",S[S.INLINE_BLOT=6]="INLINE_BLOT",S[S.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",S[S.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",S[S.ANY=15]="ANY"})(y||(y={}));const v=y;var m=function(){function S(){this.head=null,this.tail=null,this.length=0}return S.prototype.append=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(this.insertBefore(o[0],null),o.length>1){var s=o.slice(1);this.append.apply(this,s)}},S.prototype.at=function(o){for(var i=this.iterator(),s=i();s&&o>0;)o-=1,s=i();return s},S.prototype.contains=function(o){for(var i=this.iterator(),s=i();s;){if(s===o)return!0;s=i()}return!1},S.prototype.indexOf=function(o){for(var i=this.iterator(),s=i(),b=0;s;){if(s===o)return b;b+=1,s=i()}return-1},S.prototype.insertBefore=function(o,i){o!=null&&(this.remove(o),o.next=i,i!=null?(o.prev=i.prev,i.prev!=null&&(i.prev.next=o),i.prev=o,i===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},S.prototype.offset=function(o){for(var i=0,s=this.head;s!=null;){if(s===o)return i;i+=s.length(),s=s.next}return-1},S.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},S.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var i=o;return o!=null&&(o=o.next),i}},S.prototype.find=function(o,i){i===void 0&&(i=!1);for(var s=this.iterator(),b=s();b;){var z=b.length();if(o<z||i&&o===z&&(b.next==null||b.next.length()!==0))return[b,o];o-=z,b=s()}return[null,0]},S.prototype.forEach=function(o){for(var i=this.iterator(),s=i();s;)o(s),s=i()},S.prototype.forEachAt=function(o,i,s){if(!(i<=0))for(var b=this.find(o),z=b[0],yt=b[1],wt=o-yt,jt=this.iterator(z),Ut=jt();Ut&&wt<o+i;){var Vt=Ut.length();o>wt?s(Ut,o-wt,Math.min(i,wt+Vt-o)):s(Ut,0,Math.min(Vt,o+i-wt)),wt+=Vt,Ut=jt()}},S.prototype.map=function(o){return this.reduce(function(i,s){return i.push(o(s)),i},[])},S.prototype.reduce=function(o,i){for(var s=this.iterator(),b=s();b;)i=o(i,b),b=s();return i},S}();const g=m;var D=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),M=function(S){D(o,S);function o(i){var s=this;return i="[Parchment] "+i,s=S.call(this,i)||this,s.message=i,s.name=s.constructor.name,s}return o}(Error);const I=M;var x=function(){function S(){this.attributes={},this.classes={},this.tags={},this.types={}}return S.find=function(o,i){if(i===void 0&&(i=!1),o==null)return null;if(this.blots.has(o))return this.blots.get(o)||null;if(i){var s=null;try{s=o.parentNode}catch{return null}return this.find(s,i)}return null},S.prototype.create=function(o,i,s){var b=this.query(i);if(b==null)throw new I("Unable to create ".concat(i," blot"));var z=b,yt=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:z.create(s),wt=new z(o,yt,s);return S.blots.set(wt.domNode,wt),wt},S.prototype.find=function(o,i){return i===void 0&&(i=!1),S.find(o,i)},S.prototype.query=function(o,i){var s=this;i===void 0&&(i=v.ANY);var b;if(typeof o=="string")b=this.types[o]||this.attributes[o];else if(o instanceof Text||o.nodeType===Node.TEXT_NODE)b=this.types.text;else if(typeof o=="number")o&v.LEVEL&v.BLOCK?b=this.types.block:o&v.LEVEL&v.INLINE&&(b=this.types.inline);else if(o instanceof Element){var z=(o.getAttribute("class")||"").split(/\s+/);z.some(function(yt){return b=s.classes[yt],!!b}),b=b||this.tags[o.tagName]}return b==null?null:i&v.LEVEL&b.scope&&i&v.TYPE&b.scope?b:null},S.prototype.register=function(){for(var o=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(i.length>1)return i.map(function(yt){return o.register(yt)});var b=i[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new I("Invalid definition");if(b.blotName==="abstract")throw new I("Cannot register abstract class");if(this.types[b.blotName||b.attrName]=b,typeof b.keyName=="string")this.attributes[b.keyName]=b;else if(b.className!=null&&(this.classes[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(yt){return yt.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var z=Array.isArray(b.tagName)?b.tagName:[b.tagName];z.forEach(function(yt){(o.tags[yt]==null||b.className==null)&&(o.tags[yt]=b)})}return b},S.blots=new WeakMap,S}();const N=x;var j=function(){function S(o,i){this.scroll=o,this.domNode=i,N.blots.set(i,this),this.prev=null,this.next=null}return S.create=function(o){if(this.tagName==null)throw new I("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o,10).toString()===o&&(o=parseInt(o,10))),typeof o=="number"?i=document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?i=document.createElement(o):i=document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},Object.defineProperty(S.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),S.prototype.attach=function(){},S.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return this.scroll.create(o)},S.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),N.blots.delete(this.domNode)},S.prototype.deleteAt=function(o,i){var s=this.isolate(o,i);s.remove()},S.prototype.formatAt=function(o,i,s,b){var z=this.isolate(o,i);if(this.scroll.query(s,v.BLOT)!=null&&b)z.wrap(s,b);else if(this.scroll.query(s,v.ATTRIBUTE)!=null){var yt=this.scroll.create(this.statics.scope);z.wrap(yt),yt.format(s,b)}},S.prototype.insertAt=function(o,i,s){var b=s==null?this.scroll.create("text",i):this.scroll.create(i,s),z=this.split(o);this.parent.insertBefore(b,z||void 0)},S.prototype.isolate=function(o,i){var s=this.split(o);if(s==null)throw new Error("Attempt to isolate at end");return s.split(i),s},S.prototype.length=function(){return 1},S.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this===o?0:this.parent.children.offset(this)+this.parent.offset(o)},S.prototype.optimize=function(o){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},S.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},S.prototype.replaceWith=function(o,i){var s=typeof o=="string"?this.scroll.create(o,i):o;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s},S.prototype.split=function(o,i){return o===0?this:this.next},S.prototype.update=function(o,i){},S.prototype.wrap=function(o,i){var s=typeof o=="string"?this.scroll.create(o,i):o;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new I("Cannot wrap ".concat(o));return s.appendChild(this),s},S.blotName="abstract",S}();const L=j;var H=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}();function W(S,o){var i=o.find(S);if(i==null)try{i=o.create(S)}catch{i=o.create(v.INLINE),Array.from(S.childNodes).forEach(function(b){i.domNode.appendChild(b)}),S.parentNode&&S.parentNode.replaceChild(i.domNode,S),i.attach()}return i}var E=function(S){H(o,S);function o(i,s){var b=S.call(this,i,s)||this;return b.uiNode=null,b.build(),b}return o.prototype.appendChild=function(i){this.insertBefore(i)},o.prototype.attach=function(){S.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},o.prototype.attachUI=function(i){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=i,o.uiClass&&this.uiNode.classList.add(o.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},o.prototype.build=function(){var i=this;this.children=new g,Array.from(this.domNode.childNodes).filter(function(s){return s!==i.uiNode}).reverse().forEach(function(s){try{var b=W(s,i.scroll);i.insertBefore(b,i.children.head||void 0)}catch(z){if(z instanceof I)return;throw z}})},o.prototype.deleteAt=function(i,s){if(i===0&&s===this.length())return this.remove();this.children.forEachAt(i,s,function(b,z,yt){b.deleteAt(z,yt)})},o.prototype.descendant=function(i,s){s===void 0&&(s=0);var b=this.children.find(s),z=b[0],yt=b[1];return i.blotName==null&&i(z)||i.blotName!=null&&z instanceof i?[z,yt]:z instanceof o?z.descendant(i,yt):[null,-1]},o.prototype.descendants=function(i,s,b){s===void 0&&(s=0),b===void 0&&(b=Number.MAX_VALUE);var z=[],yt=b;return this.children.forEachAt(s,b,function(wt,jt,Ut){(i.blotName==null&&i(wt)||i.blotName!=null&&wt instanceof i)&&z.push(wt),wt instanceof o&&(z=z.concat(wt.descendants(i,jt,yt))),yt-=Ut}),z},o.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),S.prototype.detach.call(this)},o.prototype.enforceAllowedChildren=function(){var i=this,s=!1;this.children.forEach(function(b){if(!s){var z=i.statics.allowedChildren.some(function(yt){return b instanceof yt});z||(b.statics.scope===v.BLOCK_BLOT?(b.next!=null&&i.splitAfter(b),b.prev!=null&&i.splitAfter(b.prev),b.parent.unwrap(),s=!0):b instanceof o?b.unwrap():b.remove())}})},o.prototype.formatAt=function(i,s,b,z){this.children.forEachAt(i,s,function(yt,wt,jt){yt.formatAt(wt,jt,b,z)})},o.prototype.insertAt=function(i,s,b){var z=this.children.find(i),yt=z[0],wt=z[1];if(yt)yt.insertAt(wt,s,b);else{var jt=b==null?this.scroll.create("text",s):this.scroll.create(s,b);this.appendChild(jt)}},o.prototype.insertBefore=function(i,s){i.parent!=null&&i.parent.children.remove(i);var b=null;this.children.insertBefore(i,s||null),i.parent=this,s!=null&&(b=s.domNode),(this.domNode.parentNode!==i.domNode||this.domNode.nextSibling!==b)&&this.domNode.insertBefore(i.domNode,b),i.attach()},o.prototype.length=function(){return this.children.reduce(function(i,s){return i+s.length()},0)},o.prototype.moveChildren=function(i,s){this.children.forEach(function(b){i.insertBefore(b,s)})},o.prototype.optimize=function(i){if(S.prototype.optimize.call(this,i),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){var s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s)}else this.remove()},o.prototype.path=function(i,s){s===void 0&&(s=!1);var b=this.children.find(i,s),z=b[0],yt=b[1],wt=[[this,i]];return z instanceof o?wt.concat(z.path(yt,s)):(z!=null&&wt.push([z,yt]),wt)},o.prototype.removeChild=function(i){this.children.remove(i)},o.prototype.replaceWith=function(i,s){var b=typeof i=="string"?this.scroll.create(i,s):i;return b instanceof o&&this.moveChildren(b),S.prototype.replaceWith.call(this,b)},o.prototype.split=function(i,s){if(s===void 0&&(s=!1),!s){if(i===0)return this;if(i===this.length())return this.next}var b=this.clone();return this.parent&&this.parent.insertBefore(b,this.next||void 0),this.children.forEachAt(i,this.length(),function(z,yt,wt){var jt=z.split(yt,s);jt!=null&&b.appendChild(jt)}),b},o.prototype.splitAfter=function(i){for(var s=this.clone();i.next!=null;)s.appendChild(i.next);return this.parent&&this.parent.insertBefore(s,this.next||void 0),s},o.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},o.prototype.update=function(i,s){var b=this,z=[],yt=[];i.forEach(function(wt){wt.target===b.domNode&&wt.type==="childList"&&(z.push.apply(z,wt.addedNodes),yt.push.apply(yt,wt.removedNodes))}),yt.forEach(function(wt){if(!(wt.parentNode!=null&&wt.tagName!=="IFRAME"&&document.body.compareDocumentPosition(wt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var jt=b.scroll.find(wt);jt!=null&&(jt.domNode.parentNode==null||jt.domNode.parentNode===b.domNode)&&jt.detach()}}),z.filter(function(wt){return wt.parentNode===b.domNode||wt===b.uiNode}).sort(function(wt,jt){return wt===jt?0:wt.compareDocumentPosition(jt)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(wt){var jt=null;wt.nextSibling!=null&&(jt=b.scroll.find(wt.nextSibling));var Ut=W(wt,b.scroll);(Ut.next!==jt||Ut.next==null)&&(Ut.parent!=null&&Ut.parent.removeChild(b),b.insertBefore(Ut,jt||void 0))}),this.enforceAllowedChildren()},o.uiClass="",o}(L);const R=E;var F=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),it=function(S){F(o,S);function o(){return S!==null&&S.apply(this,arguments)||this}return o.prototype.checkMerge=function(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName},o.prototype.deleteAt=function(i,s){S.prototype.deleteAt.call(this,i,s),this.enforceAllowedChildren()},o.prototype.formatAt=function(i,s,b,z){S.prototype.formatAt.call(this,i,s,b,z),this.enforceAllowedChildren()},o.prototype.insertAt=function(i,s,b){S.prototype.insertAt.call(this,i,s,b),this.enforceAllowedChildren()},o.prototype.optimize=function(i){S.prototype.optimize.call(this,i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},o.blotName="container",o.scope=v.BLOCK_BLOT,o}(R);const O=it;var T=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),a=function(S){T(o,S);function o(){return S!==null&&S.apply(this,arguments)||this}return o.value=function(i){return!0},o.prototype.index=function(i,s){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(s,1):-1},o.prototype.position=function(i,s){var b=Array.from(this.parent.domNode.childNodes),z=b.indexOf(this.domNode);return i>0&&(z+=1),[this.parent.domNode,z]},o.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},o.scope=v.INLINE_BLOT,o}(L);const u=a;var c=function(){function S(o,i,s){s===void 0&&(s={}),this.attrName=o,this.keyName=i;var b=v.TYPE&v.ATTRIBUTE;this.scope=s.scope!=null?s.scope&v.LEVEL|b:v.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}return S.keys=function(o){return Array.from(o.attributes).map(function(i){return i.name})},S.prototype.add=function(o,i){return this.canAdd(o,i)?(o.setAttribute(this.keyName,i),!0):!1},S.prototype.canAdd=function(o,i){return this.whitelist==null?!0:typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1},S.prototype.remove=function(o){o.removeAttribute(this.keyName)},S.prototype.value=function(o){var i=o.getAttribute(this.keyName);return this.canAdd(o,i)&&i?i:""},S}();const _=c;var B=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}();function k(S,o){var i=S.getAttribute("class")||"";return i.split(/\s+/).filter(function(s){return s.indexOf("".concat(o,"-"))===0})}var $=function(S){B(o,S);function o(){return S!==null&&S.apply(this,arguments)||this}return o.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(s){return s.split("-").slice(0,-1).join("-")})},o.prototype.add=function(i,s){return this.canAdd(i,s)?(this.remove(i),i.classList.add("".concat(this.keyName,"-").concat(s)),!0):!1},o.prototype.remove=function(i){var s=k(i,this.keyName);s.forEach(function(b){i.classList.remove(b)}),i.classList.length===0&&i.removeAttribute("class")},o.prototype.value=function(i){var s=k(i,this.keyName)[0]||"",b=s.slice(this.keyName.length+1);return this.canAdd(i,b)?b:""},o}(_);const J=$;var ut=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}();function ht(S){var o=S.split("-"),i=o.slice(1).map(function(s){return s[0].toUpperCase()+s.slice(1)}).join("");return o[0]+i}var dt=function(S){ut(o,S);function o(){return S!==null&&S.apply(this,arguments)||this}return o.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(s){var b=s.split(":");return b[0].trim()})},o.prototype.add=function(i,s){return this.canAdd(i,s)?(i.style[ht(this.keyName)]=s,!0):!1},o.prototype.remove=function(i){i.style[ht(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},o.prototype.value=function(i){var s=i.style[ht(this.keyName)];return this.canAdd(i,s)?s:""},o}(_);const nt=dt;var _t=function(){function S(o){this.attributes={},this.domNode=o,this.build()}return S.prototype.attribute=function(o,i){i?o.add(this.domNode,i)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},S.prototype.build=function(){var o=this;this.attributes={};var i=N.find(this.domNode);if(i!=null){var s=_.keys(this.domNode),b=J.keys(this.domNode),z=nt.keys(this.domNode);s.concat(b).concat(z).forEach(function(yt){var wt=i.scroll.query(yt,v.ATTRIBUTE);wt instanceof _&&(o.attributes[wt.attrName]=wt)})}},S.prototype.copy=function(o){var i=this;Object.keys(this.attributes).forEach(function(s){var b=i.attributes[s].value(i.domNode);o.format(s,b)})},S.prototype.move=function(o){var i=this;this.copy(o),Object.keys(this.attributes).forEach(function(s){i.attributes[s].remove(i.domNode)}),this.attributes={}},S.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(i,s){return i[s]=o.attributes[s].value(o.domNode),i},{})},S}();const Z=_t;var vt=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}();function tt(S,o){if(Object.keys(S).length!==Object.keys(o).length)return!1;for(var i in S)if(S[i]!==o[i])return!1;return!0}var lt=function(S){vt(o,S);function o(i,s){var b=S.call(this,i,s)||this;return b.attributes=new Z(b.domNode),b}return o.formats=function(i,s){var b=s.query(o.blotName);if(!(b!=null&&i.tagName===b.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},o.prototype.format=function(i,s){var b=this;if(i===this.statics.blotName&&!s)this.children.forEach(function(yt){yt instanceof o||(yt=yt.wrap(o.blotName,!0)),b.attributes.copy(yt)}),this.unwrap();else{var z=this.scroll.query(i,v.INLINE);if(z==null)return;z instanceof _?this.attributes.attribute(z,s):s&&(i!==this.statics.blotName||this.formats()[i]!==s)&&this.replaceWith(i,s)}},o.prototype.formats=function(){var i=this.attributes.values(),s=this.statics.formats(this.domNode,this.scroll);return s!=null&&(i[this.statics.blotName]=s),i},o.prototype.formatAt=function(i,s,b,z){if(this.formats()[b]!=null||this.scroll.query(b,v.ATTRIBUTE)){var yt=this.isolate(i,s);yt.format(b,z)}else S.prototype.formatAt.call(this,i,s,b,z)},o.prototype.optimize=function(i){S.prototype.optimize.call(this,i);var s=this.formats();if(Object.keys(s).length===0)return this.unwrap();var b=this.next;b instanceof o&&b.prev===this&&tt(s,b.formats())&&(b.moveChildren(this),b.remove())},o.prototype.replaceWith=function(i,s){var b=S.prototype.replaceWith.call(this,i,s);return this.attributes.copy(b),b},o.prototype.update=function(i,s){var b=this;S.prototype.update.call(this,i,s);var z=i.some(function(yt){return yt.target===b.domNode&&yt.type==="attributes"});z&&this.attributes.build()},o.prototype.wrap=function(i,s){var b=S.prototype.wrap.call(this,i,s);return b instanceof o&&this.attributes.move(b),b},o.allowedChildren=[o,u],o.blotName="inline",o.scope=v.INLINE_BLOT,o.tagName="SPAN",o}(R);const U=lt;var w=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),V=function(S){w(o,S);function o(i,s){var b=S.call(this,i,s)||this;return b.attributes=new Z(b.domNode),b}return o.formats=function(i,s){var b=s.query(o.blotName);if(!(b!=null&&i.tagName===b.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},o.prototype.format=function(i,s){var b=this.scroll.query(i,v.BLOCK);b!=null&&(b instanceof _?this.attributes.attribute(b,s):i===this.statics.blotName&&!s?this.replaceWith(o.blotName):s&&(i!==this.statics.blotName||this.formats()[i]!==s)&&this.replaceWith(i,s))},o.prototype.formats=function(){var i=this.attributes.values(),s=this.statics.formats(this.domNode,this.scroll);return s!=null&&(i[this.statics.blotName]=s),i},o.prototype.formatAt=function(i,s,b,z){this.scroll.query(b,v.BLOCK)!=null?this.format(b,z):S.prototype.formatAt.call(this,i,s,b,z)},o.prototype.insertAt=function(i,s,b){if(b==null||this.scroll.query(s,v.INLINE)!=null)S.prototype.insertAt.call(this,i,s,b);else{var z=this.split(i);if(z!=null){var yt=this.scroll.create(s,b);z.parent.insertBefore(yt,z)}else throw new Error("Attempt to insertAt after block boundaries")}},o.prototype.replaceWith=function(i,s){var b=S.prototype.replaceWith.call(this,i,s);return this.attributes.copy(b),b},o.prototype.update=function(i,s){var b=this;S.prototype.update.call(this,i,s);var z=i.some(function(yt){return yt.target===b.domNode&&yt.type==="attributes"});z&&this.attributes.build()},o.blotName="block",o.scope=v.BLOCK_BLOT,o.tagName="P",o.allowedChildren=[U,o,u],o}(R);const Q=V;var G=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),st=function(S){G(o,S);function o(){return S!==null&&S.apply(this,arguments)||this}return o.formats=function(i,s){},o.prototype.format=function(i,s){S.prototype.formatAt.call(this,0,this.length(),i,s)},o.prototype.formatAt=function(i,s,b,z){i===0&&s===this.length()?this.format(b,z):S.prototype.formatAt.call(this,i,s,b,z)},o.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},o}(u);const mt=st;var Tt=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),et={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Y=100,K=function(S){Tt(o,S);function o(i,s){var b=S.call(this,null,s)||this;return b.registry=i,b.scroll=b,b.build(),b.observer=new MutationObserver(function(z){b.update(z)}),b.observer.observe(b.domNode,et),b.attach(),b}return o.prototype.create=function(i,s){return this.registry.create(this,i,s)},o.prototype.find=function(i,s){s===void 0&&(s=!1);var b=this.registry.find(i,s);return b?b.scroll===this?b:s?this.find(b.scroll.domNode.parentNode,!0):null:null},o.prototype.query=function(i,s){return s===void 0&&(s=v.ANY),this.registry.query(i,s)},o.prototype.register=function(){for(var i,s=[],b=0;b<arguments.length;b++)s[b]=arguments[b];return(i=this.registry).register.apply(i,s)},o.prototype.build=function(){this.scroll!=null&&S.prototype.build.call(this)},o.prototype.detach=function(){S.prototype.detach.call(this),this.observer.disconnect()},o.prototype.deleteAt=function(i,s){this.update(),i===0&&s===this.length()?this.children.forEach(function(b){b.remove()}):S.prototype.deleteAt.call(this,i,s)},o.prototype.formatAt=function(i,s,b,z){this.update(),S.prototype.formatAt.call(this,i,s,b,z)},o.prototype.insertAt=function(i,s,b){this.update(),S.prototype.insertAt.call(this,i,s,b)},o.prototype.optimize=function(i,s){var b=this;i===void 0&&(i=[]),s===void 0&&(s={}),S.prototype.optimize.call(this,s);for(var z=s.mutationsMap||new WeakMap,yt=Array.from(this.observer.takeRecords());yt.length>0;)i.push(yt.pop());for(var wt=function Yt(Gt,bt){bt===void 0&&(bt=!0),!(Gt==null||Gt===b)&&Gt.domNode.parentNode!=null&&(z.has(Gt.domNode)||z.set(Gt.domNode,[]),bt&&Yt(Gt.parent))},jt=function Yt(Gt){z.has(Gt.domNode)&&(Gt instanceof R&&Gt.children.forEach(Yt),z.delete(Gt.domNode),Gt.optimize(s))},Ut=i,Vt=0;Ut.length>0;Vt+=1){if(Vt>=Y)throw new Error("[Parchment] Maximum optimize iterations reached");for(Ut.forEach(function(Yt){var Gt=b.find(Yt.target,!0);Gt!=null&&(Gt.domNode===Yt.target&&(Yt.type==="childList"?(wt(b.find(Yt.previousSibling,!1)),Array.from(Yt.addedNodes).forEach(function(bt){var Pt=b.find(bt,!1);wt(Pt,!1),Pt instanceof R&&Pt.children.forEach(function(Rt){wt(Rt,!1)})})):Yt.type==="attributes"&&wt(Gt.prev)),wt(Gt))}),this.children.forEach(jt),Ut=Array.from(this.observer.takeRecords()),yt=Ut.slice();yt.length>0;)i.push(yt.pop())}},o.prototype.update=function(i,s){var b=this;s===void 0&&(s={}),i=i||this.observer.takeRecords();var z=new WeakMap;i.map(function(yt){var wt=b.find(yt.target,!0);return wt==null?null:z.has(wt.domNode)?(z.get(wt.domNode).push(yt),null):(z.set(wt.domNode,[yt]),wt)}).forEach(function(yt){yt!=null&&yt!==b&&z.has(yt.domNode)&&yt.update(z.get(yt.domNode)||[],s)}),s.mutationsMap=z,z.has(this.domNode)&&S.prototype.update.call(this,z.get(this.domNode),s),this.optimize(i,s)},o.blotName="scroll",o.defaultChild=Q,o.allowedChildren=[Q,O],o.scope=v.BLOCK_BLOT,o.tagName="DIV",o}(R);const at=K;var q=function(){var S=function(i,s){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,z){b.__proto__=z}||function(b,z){for(var yt in z)Object.prototype.hasOwnProperty.call(z,yt)&&(b[yt]=z[yt])},S(i,s)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");S(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),ct=function(S){q(o,S);function o(i,s){var b=S.call(this,i,s)||this;return b.text=b.statics.value(b.domNode),b}return o.create=function(i){return document.createTextNode(i)},o.value=function(i){return i.data},o.prototype.deleteAt=function(i,s){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+s)},o.prototype.index=function(i,s){return this.domNode===i?s:-1},o.prototype.insertAt=function(i,s,b){b==null?(this.text=this.text.slice(0,i)+s+this.text.slice(i),this.domNode.data=this.text):S.prototype.insertAt.call(this,i,s,b)},o.prototype.length=function(){return this.text.length},o.prototype.optimize=function(i){S.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof o&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},o.prototype.position=function(i,s){return[this.domNode,i]},o.prototype.split=function(i,s){if(s===void 0&&(s=!1),!s){if(i===0)return this;if(i===this.length())return this.next}var b=this.scroll.create(this.domNode.splitText(i));return this.parent.insertBefore(b,this.next||void 0),this.text=this.statics.value(this.domNode),b},o.prototype.update=function(i,s){var b=this;i.some(function(z){return z.type==="characterData"&&z.target===b.domNode})&&(this.text=this.statics.value(this.domNode))},o.prototype.value=function(){return this.text},o.blotName="text",o.scope=v.INLINE_BLOT,o}(u);const pt=ct},3034:function(d,C){var t=Object.prototype.hasOwnProperty,y="~";function v(){}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(y=!1));function m(I,x,N){this.fn=I,this.context=x,this.once=N||!1}function g(I,x,N,j,L){if(typeof N!="function")throw new TypeError("The listener must be a function");var H=new m(N,j||I,L),W=y?y+x:x;return I._events[W]?I._events[W].fn?I._events[W]=[I._events[W],H]:I._events[W].push(H):(I._events[W]=H,I._eventsCount++),I}function D(I,x){--I._eventsCount===0?I._events=new v:delete I._events[x]}function M(){this._events=new v,this._eventsCount=0}M.prototype.eventNames=function(){var x=[],N,j;if(this._eventsCount===0)return x;for(j in N=this._events)t.call(N,j)&&x.push(y?j.slice(1):j);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(N)):x},M.prototype.listeners=function(x){var N=y?y+x:x,j=this._events[N];if(!j)return[];if(j.fn)return[j.fn];for(var L=0,H=j.length,W=new Array(H);L<H;L++)W[L]=j[L].fn;return W},M.prototype.listenerCount=function(x){var N=y?y+x:x,j=this._events[N];return j?j.fn?1:j.length:0},M.prototype.emit=function(x,N,j,L,H,W){var E=y?y+x:x;if(!this._events[E])return!1;var R=this._events[E],F=arguments.length,it,O;if(R.fn){switch(R.once&&this.removeListener(x,R.fn,void 0,!0),F){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,N),!0;case 3:return R.fn.call(R.context,N,j),!0;case 4:return R.fn.call(R.context,N,j,L),!0;case 5:return R.fn.call(R.context,N,j,L,H),!0;case 6:return R.fn.call(R.context,N,j,L,H,W),!0}for(O=1,it=new Array(F-1);O<F;O++)it[O-1]=arguments[O];R.fn.apply(R.context,it)}else{var T=R.length,a;for(O=0;O<T;O++)switch(R[O].once&&this.removeListener(x,R[O].fn,void 0,!0),F){case 1:R[O].fn.call(R[O].context);break;case 2:R[O].fn.call(R[O].context,N);break;case 3:R[O].fn.call(R[O].context,N,j);break;case 4:R[O].fn.call(R[O].context,N,j,L);break;default:if(!it)for(a=1,it=new Array(F-1);a<F;a++)it[a-1]=arguments[a];R[O].fn.apply(R[O].context,it)}}return!0},M.prototype.on=function(x,N,j){return g(this,x,N,j,!1)},M.prototype.once=function(x,N,j){return g(this,x,N,j,!0)},M.prototype.removeListener=function(x,N,j,L){var H=y?y+x:x;if(!this._events[H])return this;if(!N)return D(this,H),this;var W=this._events[H];if(W.fn)W.fn===N&&(!L||W.once)&&(!j||W.context===j)&&D(this,H);else{for(var E=0,R=[],F=W.length;E<F;E++)(W[E].fn!==N||L&&!W[E].once||j&&W[E].context!==j)&&R.push(W[E]);R.length?this._events[H]=R.length===1?R[0]:R:D(this,H)}return this},M.prototype.removeAllListeners=function(x){var N;return x?(N=y?y+x:x,this._events[N]&&D(this,N)):(this._events=new v,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=y,M.EventEmitter=M,typeof d<"u"&&(d.exports=M)},1456:d=>{var C=-1,t=1,y=0;function v(O,T,a,u){if(O===T)return O?[[y,O]]:[];if(a!=null){var c=F(O,T,a);if(c)return c}var _=M(O,T),B=O.substring(0,_);O=O.substring(_),T=T.substring(_),_=I(O,T);var k=O.substring(O.length-_);O=O.substring(0,O.length-_),T=T.substring(0,T.length-_);var $=m(O,T);return B&&$.unshift([y,B]),k&&$.push([y,k]),N($,u),$}function m(O,T){var a;if(!O)return[[t,T]];if(!T)return[[C,O]];var u=O.length>T.length?O:T,c=O.length>T.length?T:O,_=u.indexOf(c);if(_!==-1)return a=[[t,u.substring(0,_)],[y,c],[t,u.substring(_+c.length)]],O.length>T.length&&(a[0][0]=a[2][0]=C),a;if(c.length===1)return[[C,O],[t,T]];var B=x(O,T);if(B){var k=B[0],$=B[1],J=B[2],ut=B[3],ht=B[4],dt=v(k,J),nt=v($,ut);return dt.concat([[y,ht]],nt)}return g(O,T)}function g(O,T){for(var a=O.length,u=T.length,c=Math.ceil((a+u)/2),_=c,B=2*c,k=new Array(B),$=new Array(B),J=0;J<B;J++)k[J]=-1,$[J]=-1;k[_+1]=0,$[_+1]=0;for(var ut=a-u,ht=ut%2!==0,dt=0,nt=0,_t=0,Z=0,vt=0;vt<c;vt++){for(var tt=-vt+dt;tt<=vt-nt;tt+=2){var lt=_+tt,U;tt===-vt||tt!==vt&&k[lt-1]<k[lt+1]?U=k[lt+1]:U=k[lt-1]+1;for(var w=U-tt;U<a&&w<u&&O.charAt(U)===T.charAt(w);)U++,w++;if(k[lt]=U,U>a)nt+=2;else if(w>u)dt+=2;else if(ht){var V=_+ut-tt;if(V>=0&&V<B&&$[V]!==-1){var Q=a-$[V];if(U>=Q)return D(O,T,U,w)}}}for(var G=-vt+_t;G<=vt-Z;G+=2){var V=_+G,Q;G===-vt||G!==vt&&$[V-1]<$[V+1]?Q=$[V+1]:Q=$[V-1]+1;for(var st=Q-G;Q<a&&st<u&&O.charAt(a-Q-1)===T.charAt(u-st-1);)Q++,st++;if($[V]=Q,Q>a)Z+=2;else if(st>u)_t+=2;else if(!ht){var lt=_+ut-G;if(lt>=0&&lt<B&&k[lt]!==-1){var U=k[lt],w=_+U-lt;if(Q=a-Q,U>=Q)return D(O,T,U,w)}}}}return[[C,O],[t,T]]}function D(O,T,a,u){var c=O.substring(0,a),_=T.substring(0,u),B=O.substring(a),k=T.substring(u),$=v(c,_),J=v(B,k);return $.concat(J)}function M(O,T){if(!O||!T||O.charAt(0)!==T.charAt(0))return 0;for(var a=0,u=Math.min(O.length,T.length),c=u,_=0;a<c;)O.substring(_,c)==T.substring(_,c)?(a=c,_=a):u=c,c=Math.floor((u-a)/2+a);return j(O.charCodeAt(c-1))&&c--,c}function I(O,T){if(!O||!T||O.slice(-1)!==T.slice(-1))return 0;for(var a=0,u=Math.min(O.length,T.length),c=u,_=0;a<c;)O.substring(O.length-c,O.length-_)==T.substring(T.length-c,T.length-_)?(a=c,_=a):u=c,c=Math.floor((u-a)/2+a);return L(O.charCodeAt(O.length-c))&&c--,c}function x(O,T){var a=O.length>T.length?O:T,u=O.length>T.length?T:O;if(a.length<4||u.length*2<a.length)return null;function c(nt,_t,Z){for(var vt=nt.substring(Z,Z+Math.floor(nt.length/4)),tt=-1,lt="",U,w,V,Q;(tt=_t.indexOf(vt,tt+1))!==-1;){var G=M(nt.substring(Z),_t.substring(tt)),st=I(nt.substring(0,Z),_t.substring(0,tt));lt.length<st+G&&(lt=_t.substring(tt-st,tt)+_t.substring(tt,tt+G),U=nt.substring(0,Z-st),w=nt.substring(Z+G),V=_t.substring(0,tt-st),Q=_t.substring(tt+G))}return lt.length*2>=nt.length?[U,w,V,Q,lt]:null}var _=c(a,u,Math.ceil(a.length/4)),B=c(a,u,Math.ceil(a.length/2)),k;if(!_&&!B)return null;B?_?k=_[4].length>B[4].length?_:B:k=B:k=_;var $,J,ut,ht;O.length>T.length?($=k[0],J=k[1],ut=k[2],ht=k[3]):(ut=k[0],ht=k[1],$=k[2],J=k[3]);var dt=k[4];return[$,J,ut,ht,dt]}function N(O,T){O.push([y,""]);for(var a=0,u=0,c=0,_="",B="",k;a<O.length;){if(a<O.length-1&&!O[a][1]){O.splice(a,1);continue}switch(O[a][0]){case t:c++,B+=O[a][1],a++;break;case C:u++,_+=O[a][1],a++;break;case y:var $=a-c-u-1;if(T){if($>=0&&W(O[$][1])){var J=O[$][1].slice(-1);if(O[$][1]=O[$][1].slice(0,-1),_=J+_,B=J+B,!O[$][1]){O.splice($,1),a--;var ut=$-1;O[ut]&&O[ut][0]===t&&(c++,B=O[ut][1]+B,ut--),O[ut]&&O[ut][0]===C&&(u++,_=O[ut][1]+_,ut--),$=ut}}if(H(O[a][1])){var J=O[a][1].charAt(0);O[a][1]=O[a][1].slice(1),_+=J,B+=J}}if(a<O.length-1&&!O[a][1]){O.splice(a,1);break}if(_.length>0||B.length>0){_.length>0&&B.length>0&&(k=M(B,_),k!==0&&($>=0?O[$][1]+=B.substring(0,k):(O.splice(0,0,[y,B.substring(0,k)]),a++),B=B.substring(k),_=_.substring(k)),k=I(B,_),k!==0&&(O[a][1]=B.substring(B.length-k)+O[a][1],B=B.substring(0,B.length-k),_=_.substring(0,_.length-k)));var ht=c+u;_.length===0&&B.length===0?(O.splice(a-ht,ht),a=a-ht):_.length===0?(O.splice(a-ht,ht,[t,B]),a=a-ht+1):B.length===0?(O.splice(a-ht,ht,[C,_]),a=a-ht+1):(O.splice(a-ht,ht,[C,_],[t,B]),a=a-ht+2)}a!==0&&O[a-1][0]===y?(O[a-1][1]+=O[a][1],O.splice(a,1)):a++,c=0,u=0,_="",B="";break}}O[O.length-1][1]===""&&O.pop();var dt=!1;for(a=1;a<O.length-1;)O[a-1][0]===y&&O[a+1][0]===y&&(O[a][1].substring(O[a][1].length-O[a-1][1].length)===O[a-1][1]?(O[a][1]=O[a-1][1]+O[a][1].substring(0,O[a][1].length-O[a-1][1].length),O[a+1][1]=O[a-1][1]+O[a+1][1],O.splice(a-1,1),dt=!0):O[a][1].substring(0,O[a+1][1].length)==O[a+1][1]&&(O[a-1][1]+=O[a+1][1],O[a][1]=O[a][1].substring(O[a+1][1].length)+O[a+1][1],O.splice(a+1,1),dt=!0)),a++;dt&&N(O,T)}function j(O){return O>=55296&&O<=56319}function L(O){return O>=56320&&O<=57343}function H(O){return L(O.charCodeAt(0))}function W(O){return j(O.charCodeAt(O.length-1))}function E(O){for(var T=[],a=0;a<O.length;a++)O[a][1].length>0&&T.push(O[a]);return T}function R(O,T,a,u){return W(O)||H(u)?null:E([[y,O],[C,T],[t,a],[y,u]])}function F(O,T,a){var u=typeof a=="number"?{index:a,length:0}:a.oldRange,c=typeof a=="number"?null:a.newRange,_=O.length,B=T.length;if(u.length===0&&(c===null||c.length===0)){var k=u.index,$=O.slice(0,k),J=O.slice(k),ut=c?c.index:null;t:{var ht=k+B-_;if(ut!==null&&ut!==ht||ht<0||ht>B)break t;var dt=T.slice(0,ht),nt=T.slice(ht);if(nt!==J)break t;var _t=Math.min(k,ht),Z=$.slice(0,_t),vt=dt.slice(0,_t);if(Z!==vt)break t;var tt=$.slice(_t),lt=dt.slice(_t);return R(Z,tt,lt,J)}t:{if(ut!==null&&ut!==k)break t;var U=k,dt=T.slice(0,U),nt=T.slice(U);if(dt!==$)break t;var w=Math.min(_-U,B-U),V=J.slice(J.length-w),Q=nt.slice(nt.length-w);if(V!==Q)break t;var tt=J.slice(0,J.length-w),lt=nt.slice(0,nt.length-w);return R($,tt,lt,V)}}if(u.length>0&&c&&c.length===0)t:{var Z=O.slice(0,u.index),V=O.slice(u.index+u.length),_t=Z.length,w=V.length;if(B<_t+w)break t;var vt=T.slice(0,_t),Q=T.slice(B-w);if(Z!==vt||V!==Q)break t;var tt=O.slice(_t,_-w),lt=T.slice(_t,B-w);return R(Z,tt,lt,V)}return null}function it(O,T,a){return v(O,T,a,!0)}it.INSERT=t,it.DELETE=C,it.EQUAL=y,d.exports=it},8805:(d,C,t)=>{d=t.nmd(d);var y=200,v="__lodash_hash_undefined__",m=9007199254740991,g="[object Arguments]",D="[object Array]",M="[object Boolean]",I="[object Date]",x="[object Error]",N="[object Function]",j="[object GeneratorFunction]",L="[object Map]",H="[object Number]",W="[object Object]",E="[object Promise]",R="[object RegExp]",F="[object Set]",it="[object String]",O="[object Symbol]",T="[object WeakMap]",a="[object ArrayBuffer]",u="[object DataView]",c="[object Float32Array]",_="[object Float64Array]",B="[object Int8Array]",k="[object Int16Array]",$="[object Int32Array]",J="[object Uint8Array]",ut="[object Uint8ClampedArray]",ht="[object Uint16Array]",dt="[object Uint32Array]",nt=/[\\^$.*+?()[\]{}|]/g,_t=/\w*$/,Z=/^\[object .+?Constructor\]$/,vt=/^(?:0|[1-9]\d*)$/,tt={};tt[g]=tt[D]=tt[a]=tt[u]=tt[M]=tt[I]=tt[c]=tt[_]=tt[B]=tt[k]=tt[$]=tt[L]=tt[H]=tt[W]=tt[R]=tt[F]=tt[it]=tt[O]=tt[J]=tt[ut]=tt[ht]=tt[dt]=!0,tt[x]=tt[N]=tt[T]=!1;var lt=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,U=typeof self=="object"&&self&&self.Object===Object&&self,w=lt||U||Function("return this")(),V=C&&!C.nodeType&&C,Q=V&&!0&&d&&!d.nodeType&&d,G=Q&&Q.exports===V;function st(f,l){return f.set(l[0],l[1]),f}function mt(f,l){return f.add(l),f}function Tt(f,l){for(var P=-1,ot=f?f.length:0;++P<ot&&l(f[P],P,f)!==!1;);return f}function et(f,l){for(var P=-1,ot=l.length,Bt=f.length;++P<ot;)f[Bt+P]=l[P];return f}function Y(f,l,P,ot){for(var Bt=-1,Ht=f?f.length:0;++Bt<Ht;)P=l(P,f[Bt],Bt,f);return P}function K(f,l){for(var P=-1,ot=Array(f);++P<f;)ot[P]=l(P);return ot}function at(f,l){return f==null?void 0:f[l]}function q(f){var l=!1;if(f!=null&&typeof f.toString!="function")try{l=!!(f+"")}catch{}return l}function ct(f){var l=-1,P=Array(f.size);return f.forEach(function(ot,Bt){P[++l]=[Bt,ot]}),P}function pt(f,l){return function(P){return f(l(P))}}function S(f){var l=-1,P=Array(f.size);return f.forEach(function(ot){P[++l]=ot}),P}var o=Array.prototype,i=Function.prototype,s=Object.prototype,b=w["__core-js_shared__"],z=function(){var f=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),yt=i.toString,wt=s.hasOwnProperty,jt=s.toString,Ut=RegExp("^"+yt.call(wt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=G?w.Buffer:void 0,Yt=w.Symbol,Gt=w.Uint8Array,bt=pt(Object.getPrototypeOf,Object),Pt=Object.create,Rt=s.propertyIsEnumerable,Nt=o.splice,Lt=Object.getOwnPropertySymbols,Ft=Vt?Vt.isBuffer:void 0,Mt=pt(Object.keys,Object),$t=Re(w,"DataView"),zt=Re(w,"Map"),te=Re(w,"Promise"),ae=Re(w,"Set"),le=Re(w,"WeakMap"),Ce=Re(Object,"create"),Oe=Ee($t),gt=Ee(zt),St=Ee(te),Ct=Ee(ae),It=Ee(le),At=Yt?Yt.prototype:void 0,xt=At?At.valueOf:void 0;function kt(f){var l=-1,P=f?f.length:0;for(this.clear();++l<P;){var ot=f[l];this.set(ot[0],ot[1])}}function Kt(){this.__data__=Ce?Ce(null):{}}function Qt(f){return this.has(f)&&delete this.__data__[f]}function re(f){var l=this.__data__;if(Ce){var P=l[f];return P===v?void 0:P}return wt.call(l,f)?l[f]:void 0}function ne(f){var l=this.__data__;return Ce?l[f]!==void 0:wt.call(l,f)}function ie(f,l){var P=this.__data__;return P[f]=Ce&&l===void 0?v:l,this}kt.prototype.clear=Kt,kt.prototype.delete=Qt,kt.prototype.get=re,kt.prototype.has=ne,kt.prototype.set=ie;function oe(f){var l=-1,P=f?f.length:0;for(this.clear();++l<P;){var ot=f[l];this.set(ot[0],ot[1])}}function Se(){this.__data__=[]}function Xe(f){var l=this.__data__,P=sr(l,f);if(P<0)return!1;var ot=l.length-1;return P==ot?l.pop():Nt.call(l,P,1),!0}function or(f){var l=this.__data__,P=sr(l,f);return P<0?void 0:l[P][1]}function dr(f){return sr(this.__data__,f)>-1}function We(f,l){var P=this.__data__,ot=sr(P,f);return ot<0?P.push([f,l]):P[ot][1]=l,this}oe.prototype.clear=Se,oe.prototype.delete=Xe,oe.prototype.get=or,oe.prototype.has=dr,oe.prototype.set=We;function Te(f){var l=-1,P=f?f.length:0;for(this.clear();++l<P;){var ot=f[l];this.set(ot[0],ot[1])}}function jr(){this.__data__={hash:new kt,map:new(zt||oe),string:new kt}}function kr(f){return Ve(this,f).delete(f)}function $e(f){return Ve(this,f).get(f)}function pr(f){return Ve(this,f).has(f)}function Hr(f,l){return Ve(this,f).set(f,l),this}Te.prototype.clear=jr,Te.prototype.delete=kr,Te.prototype.get=$e,Te.prototype.has=pr,Te.prototype.set=Hr;function be(f){this.__data__=new oe(f)}function Fr(){this.__data__=new oe}function ar(f){return this.__data__.delete(f)}function vr(f){return this.__data__.get(f)}function mr(f){return this.__data__.has(f)}function lr(f,l){var P=this.__data__;if(P instanceof oe){var ot=P.__data__;if(!zt||ot.length<y-1)return ot.push([f,l]),this;P=this.__data__=new Te(ot)}return P.set(f,l),this}be.prototype.clear=Fr,be.prototype.delete=ar,be.prototype.get=vr,be.prototype.has=mr,be.prototype.set=lr;function Qe(f,l){var P=Ne(f)||rr(f)?K(f.length,String):[],ot=P.length,Bt=!!ot;for(var Ht in f)wt.call(f,Ht)&&!(Bt&&(Ht=="length"||br(Ht,ot)))&&P.push(Ht);return P}function wr(f,l,P){var ot=f[l];(!(wt.call(f,l)&&er(ot,P))||P===void 0&&!(l in f))&&(f[l]=P)}function sr(f,l){for(var P=f.length;P--;)if(er(f[P][0],l))return P;return-1}function Ae(f,l){return f&&tr(l,Cr(l),f)}function Ke(f,l,P,ot,Bt,Ht,Xt){var Zt;if(ot&&(Zt=Ht?ot(f,Bt,Ht,Xt):ot(f)),Zt!==void 0)return Zt;if(!Pe(f))return f;var ee=Ne(f);if(ee){if(Zt=ur(f),!l)return Zr(f,Zt)}else{var Jt=He(f),fe=Jt==N||Jt==j;if(Ge(f))return ze(f,l);if(Jt==W||Jt==g||fe&&!Ht){if(q(f))return Ht?f:{};if(Zt=Ie(fe?{}:f),!l)return Ze(f,Ae(Zt,f))}else{if(!tt[Jt])return Ht?f:{};Zt=Gr(f,Jt,Ke,l)}}Xt||(Xt=new be);var he=Xt.get(f);if(he)return he;if(Xt.set(f,Zt),!ee)var pe=P?Vr(f):Cr(f);return Tt(pe||f,function(ve,me){pe&&(me=ve,ve=f[me]),wr(Zt,me,Ke(ve,l,P,ot,me,f,Xt))}),Zt}function Ur(f){return Pe(f)?Pt(f):{}}function yr(f,l,P){var ot=l(f);return Ne(f)?ot:et(ot,P(f))}function Wr(f){return jt.call(f)}function $r(f){if(!Pe(f)||cr(f))return!1;var l=_r(f)||q(f)?Ut:Z;return l.test(Ee(f))}function Kr(f){if(!fr(f))return Mt(f);var l=[];for(var P in Object(f))wt.call(f,P)&&P!="constructor"&&l.push(P);return l}function ze(f,l){if(l)return f.slice();var P=new f.constructor(f.length);return f.copy(P),P}function gr(f){var l=new f.constructor(f.byteLength);return new Gt(l).set(new Gt(f)),l}function Ye(f,l){var P=l?gr(f.buffer):f.buffer;return new f.constructor(P,f.byteOffset,f.byteLength)}function Ar(f,l,P){var ot=l?P(ct(f),!0):ct(f);return Y(ot,st,new f.constructor)}function xr(f){var l=new f.constructor(f.source,_t.exec(f));return l.lastIndex=f.lastIndex,l}function je(f,l,P){var ot=l?P(S(f),!0):S(f);return Y(ot,mt,new f.constructor)}function Je(f){return xt?Object(xt.call(f)):{}}function zr(f,l){var P=l?gr(f.buffer):f.buffer;return new f.constructor(P,f.byteOffset,f.length)}function Zr(f,l){var P=-1,ot=f.length;for(l||(l=Array(ot));++P<ot;)l[P]=f[P];return l}function tr(f,l,P,ot){P||(P={});for(var Bt=-1,Ht=l.length;++Bt<Ht;){var Xt=l[Bt],Zt=void 0;wr(P,Xt,Zt===void 0?f[Xt]:Zt)}return P}function Ze(f,l){return tr(f,ke(f),l)}function Vr(f){return yr(f,Cr,ke)}function Ve(f,l){var P=f.__data__;return qr(l)?P[typeof l=="string"?"string":"hash"]:P.map}function Re(f,l){var P=at(f,l);return $r(P)?P:void 0}var ke=Lt?pt(Lt,Object):Tr,He=Wr;($t&&He(new $t(new ArrayBuffer(1)))!=u||zt&&He(new zt)!=L||te&&He(te.resolve())!=E||ae&&He(new ae)!=F||le&&He(new le)!=T)&&(He=function(f){var l=jt.call(f),P=l==W?f.constructor:void 0,ot=P?Ee(P):void 0;if(ot)switch(ot){case Oe:return u;case gt:return L;case St:return E;case Ct:return F;case It:return T}return l});function ur(f){var l=f.length,P=f.constructor(l);return l&&typeof f[0]=="string"&&wt.call(f,"index")&&(P.index=f.index,P.input=f.input),P}function Ie(f){return typeof f.constructor=="function"&&!fr(f)?Ur(bt(f)):{}}function Gr(f,l,P,ot){var Bt=f.constructor;switch(l){case a:return gr(f);case M:case I:return new Bt(+f);case u:return Ye(f,ot);case c:case _:case B:case k:case $:case J:case ut:case ht:case dt:return zr(f,ot);case L:return Ar(f,ot,P);case H:case it:return new Bt(f);case R:return xr(f);case F:return je(f,ot,P);case O:return Je(f)}}function br(f,l){return l=l??m,!!l&&(typeof f=="number"||vt.test(f))&&f>-1&&f%1==0&&f<l}function qr(f){var l=typeof f;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?f!=="__proto__":f===null}function cr(f){return!!z&&z in f}function fr(f){var l=f&&f.constructor,P=typeof l=="function"&&l.prototype||s;return f===P}function Ee(f){if(f!=null){try{return yt.call(f)}catch{}try{return f+""}catch{}}return""}function Me(f){return Ke(f,!0,!0)}function er(f,l){return f===l||f!==f&&l!==l}function rr(f){return De(f)&&wt.call(f,"callee")&&(!Rt.call(f,"callee")||jt.call(f)==g)}var Ne=Array.isArray;function nr(f){return f!=null&&Or(f.length)&&!_r(f)}function De(f){return Er(f)&&nr(f)}var Ge=Ft||Rr;function _r(f){var l=Pe(f)?jt.call(f):"";return l==N||l==j}function Or(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=m}function Pe(f){var l=typeof f;return!!f&&(l=="object"||l=="function")}function Er(f){return!!f&&typeof f=="object"}function Cr(f){return nr(f)?Qe(f):Kr(f)}function Tr(){return[]}function Rr(){return!1}d.exports=Me},2722:(d,C,t)=>{d=t.nmd(d);var y=200,v="__lodash_hash_undefined__",m=1,g=2,D=9007199254740991,M="[object Arguments]",I="[object Array]",x="[object AsyncFunction]",N="[object Boolean]",j="[object Date]",L="[object Error]",H="[object Function]",W="[object GeneratorFunction]",E="[object Map]",R="[object Number]",F="[object Null]",it="[object Object]",O="[object Promise]",T="[object Proxy]",a="[object RegExp]",u="[object Set]",c="[object String]",_="[object Symbol]",B="[object Undefined]",k="[object WeakMap]",$="[object ArrayBuffer]",J="[object DataView]",ut="[object Float32Array]",ht="[object Float64Array]",dt="[object Int8Array]",nt="[object Int16Array]",_t="[object Int32Array]",Z="[object Uint8Array]",vt="[object Uint8ClampedArray]",tt="[object Uint16Array]",lt="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Q={};Q[ut]=Q[ht]=Q[dt]=Q[nt]=Q[_t]=Q[Z]=Q[vt]=Q[tt]=Q[lt]=!0,Q[M]=Q[I]=Q[$]=Q[N]=Q[J]=Q[j]=Q[L]=Q[H]=Q[E]=Q[R]=Q[it]=Q[a]=Q[u]=Q[c]=Q[k]=!1;var G=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,st=typeof self=="object"&&self&&self.Object===Object&&self,mt=G||st||Function("return this")(),Tt=C&&!C.nodeType&&C,et=Tt&&!0&&d&&!d.nodeType&&d,Y=et&&et.exports===Tt,K=Y&&G.process,at=function(){try{return K&&K.binding&&K.binding("util")}catch{}}(),q=at&&at.isTypedArray;function ct(f,l){for(var P=-1,ot=f==null?0:f.length,Bt=0,Ht=[];++P<ot;){var Xt=f[P];l(Xt,P,f)&&(Ht[Bt++]=Xt)}return Ht}function pt(f,l){for(var P=-1,ot=l.length,Bt=f.length;++P<ot;)f[Bt+P]=l[P];return f}function S(f,l){for(var P=-1,ot=f==null?0:f.length;++P<ot;)if(l(f[P],P,f))return!0;return!1}function o(f,l){for(var P=-1,ot=Array(f);++P<f;)ot[P]=l(P);return ot}function i(f){return function(l){return f(l)}}function s(f,l){return f.has(l)}function b(f,l){return f==null?void 0:f[l]}function z(f){var l=-1,P=Array(f.size);return f.forEach(function(ot,Bt){P[++l]=[Bt,ot]}),P}function yt(f,l){return function(P){return f(l(P))}}function wt(f){var l=-1,P=Array(f.size);return f.forEach(function(ot){P[++l]=ot}),P}var jt=Array.prototype,Ut=Function.prototype,Vt=Object.prototype,Yt=mt["__core-js_shared__"],Gt=Ut.toString,bt=Vt.hasOwnProperty,Pt=function(){var f=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Rt=Vt.toString,Nt=RegExp("^"+Gt.call(bt).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lt=Y?mt.Buffer:void 0,Ft=mt.Symbol,Mt=mt.Uint8Array,$t=Vt.propertyIsEnumerable,zt=jt.splice,te=Ft?Ft.toStringTag:void 0,ae=Object.getOwnPropertySymbols,le=Lt?Lt.isBuffer:void 0,Ce=yt(Object.keys,Object),Oe=ke(mt,"DataView"),gt=ke(mt,"Map"),St=ke(mt,"Promise"),Ct=ke(mt,"Set"),It=ke(mt,"WeakMap"),At=ke(Object,"create"),xt=Ee(Oe),kt=Ee(gt),Kt=Ee(St),Qt=Ee(Ct),re=Ee(It),ne=Ft?Ft.prototype:void 0,ie=ne?ne.valueOf:void 0;function oe(f){var l=-1,P=f==null?0:f.length;for(this.clear();++l<P;){var ot=f[l];this.set(ot[0],ot[1])}}function Se(){this.__data__=At?At(null):{},this.size=0}function Xe(f){var l=this.has(f)&&delete this.__data__[f];return this.size-=l?1:0,l}function or(f){var l=this.__data__;if(At){var P=l[f];return P===v?void 0:P}return bt.call(l,f)?l[f]:void 0}function dr(f){var l=this.__data__;return At?l[f]!==void 0:bt.call(l,f)}function We(f,l){var P=this.__data__;return this.size+=this.has(f)?0:1,P[f]=At&&l===void 0?v:l,this}oe.prototype.clear=Se,oe.prototype.delete=Xe,oe.prototype.get=or,oe.prototype.has=dr,oe.prototype.set=We;function Te(f){var l=-1,P=f==null?0:f.length;for(this.clear();++l<P;){var ot=f[l];this.set(ot[0],ot[1])}}function jr(){this.__data__=[],this.size=0}function kr(f){var l=this.__data__,P=ze(l,f);if(P<0)return!1;var ot=l.length-1;return P==ot?l.pop():zt.call(l,P,1),--this.size,!0}function $e(f){var l=this.__data__,P=ze(l,f);return P<0?void 0:l[P][1]}function pr(f){return ze(this.__data__,f)>-1}function Hr(f,l){var P=this.__data__,ot=ze(P,f);return ot<0?(++this.size,P.push([f,l])):P[ot][1]=l,this}Te.prototype.clear=jr,Te.prototype.delete=kr,Te.prototype.get=$e,Te.prototype.has=pr,Te.prototype.set=Hr;function be(f){var l=-1,P=f==null?0:f.length;for(this.clear();++l<P;){var ot=f[l];this.set(ot[0],ot[1])}}function Fr(){this.size=0,this.__data__={hash:new oe,map:new(gt||Te),string:new oe}}function ar(f){var l=Re(this,f).delete(f);return this.size-=l?1:0,l}function vr(f){return Re(this,f).get(f)}function mr(f){return Re(this,f).has(f)}function lr(f,l){var P=Re(this,f),ot=P.size;return P.set(f,l),this.size+=P.size==ot?0:1,this}be.prototype.clear=Fr,be.prototype.delete=ar,be.prototype.get=vr,be.prototype.has=mr,be.prototype.set=lr;function Qe(f){var l=-1,P=f==null?0:f.length;for(this.__data__=new be;++l<P;)this.add(f[l])}function wr(f){return this.__data__.set(f,v),this}function sr(f){return this.__data__.has(f)}Qe.prototype.add=Qe.prototype.push=wr,Qe.prototype.has=sr;function Ae(f){var l=this.__data__=new Te(f);this.size=l.size}function Ke(){this.__data__=new Te,this.size=0}function Ur(f){var l=this.__data__,P=l.delete(f);return this.size=l.size,P}function yr(f){return this.__data__.get(f)}function Wr(f){return this.__data__.has(f)}function $r(f,l){var P=this.__data__;if(P instanceof Te){var ot=P.__data__;if(!gt||ot.length<y-1)return ot.push([f,l]),this.size=++P.size,this;P=this.__data__=new be(ot)}return P.set(f,l),this.size=P.size,this}Ae.prototype.clear=Ke,Ae.prototype.delete=Ur,Ae.prototype.get=yr,Ae.prototype.has=Wr,Ae.prototype.set=$r;function Kr(f,l){var P=rr(f),ot=!P&&er(f),Bt=!P&&!ot&&nr(f),Ht=!P&&!ot&&!Bt&&Er(f),Xt=P||ot||Bt||Ht,Zt=Xt?o(f.length,String):[],ee=Zt.length;for(var Jt in f)bt.call(f,Jt)&&!(Xt&&(Jt=="length"||Bt&&(Jt=="offset"||Jt=="parent")||Ht&&(Jt=="buffer"||Jt=="byteLength"||Jt=="byteOffset")||Gr(Jt,ee)))&&Zt.push(Jt);return Zt}function ze(f,l){for(var P=f.length;P--;)if(Me(f[P][0],l))return P;return-1}function gr(f,l,P){var ot=l(f);return rr(f)?ot:pt(ot,P(f))}function Ye(f){return f==null?f===void 0?B:F:te&&te in Object(f)?He(f):fr(f)}function Ar(f){return Pe(f)&&Ye(f)==M}function xr(f,l,P,ot,Bt){return f===l?!0:f==null||l==null||!Pe(f)&&!Pe(l)?f!==f&&l!==l:je(f,l,P,ot,xr,Bt)}function je(f,l,P,ot,Bt,Ht){var Xt=rr(f),Zt=rr(l),ee=Xt?I:Ie(f),Jt=Zt?I:Ie(l);ee=ee==M?it:ee,Jt=Jt==M?it:Jt;var fe=ee==it,he=Jt==it,pe=ee==Jt;if(pe&&nr(f)){if(!nr(l))return!1;Xt=!0,fe=!1}if(pe&&!fe)return Ht||(Ht=new Ae),Xt||Er(f)?tr(f,l,P,ot,Bt,Ht):Ze(f,l,ee,P,ot,Bt,Ht);if(!(P&m)){var ve=fe&&bt.call(f,"__wrapped__"),me=he&&bt.call(l,"__wrapped__");if(ve||me){var Fe=ve?f.value():f,Ue=me?l.value():l;return Ht||(Ht=new Ae),Bt(Fe,Ue,P,ot,Ht)}}return pe?(Ht||(Ht=new Ae),Vr(f,l,P,ot,Bt,Ht)):!1}function Je(f){if(!Or(f)||qr(f))return!1;var l=Ge(f)?Nt:w;return l.test(Ee(f))}function zr(f){return Pe(f)&&_r(f.length)&&!!Q[Ye(f)]}function Zr(f){if(!cr(f))return Ce(f);var l=[];for(var P in Object(f))bt.call(f,P)&&P!="constructor"&&l.push(P);return l}function tr(f,l,P,ot,Bt,Ht){var Xt=P&m,Zt=f.length,ee=l.length;if(Zt!=ee&&!(Xt&&ee>Zt))return!1;var Jt=Ht.get(f);if(Jt&&Ht.get(l))return Jt==l;var fe=-1,he=!0,pe=P&g?new Qe:void 0;for(Ht.set(f,l),Ht.set(l,f);++fe<Zt;){var ve=f[fe],me=l[fe];if(ot)var Fe=Xt?ot(me,ve,fe,l,f,Ht):ot(ve,me,fe,f,l,Ht);if(Fe!==void 0){if(Fe)continue;he=!1;break}if(pe){if(!S(l,function(Ue,Sr){if(!s(pe,Sr)&&(ve===Ue||Bt(ve,Ue,P,ot,Ht)))return pe.push(Sr)})){he=!1;break}}else if(!(ve===me||Bt(ve,me,P,ot,Ht))){he=!1;break}}return Ht.delete(f),Ht.delete(l),he}function Ze(f,l,P,ot,Bt,Ht,Xt){switch(P){case J:if(f.byteLength!=l.byteLength||f.byteOffset!=l.byteOffset)return!1;f=f.buffer,l=l.buffer;case $:return!(f.byteLength!=l.byteLength||!Ht(new Mt(f),new Mt(l)));case N:case j:case R:return Me(+f,+l);case L:return f.name==l.name&&f.message==l.message;case a:case c:return f==l+"";case E:var Zt=z;case u:var ee=ot&m;if(Zt||(Zt=wt),f.size!=l.size&&!ee)return!1;var Jt=Xt.get(f);if(Jt)return Jt==l;ot|=g,Xt.set(f,l);var fe=tr(Zt(f),Zt(l),ot,Bt,Ht,Xt);return Xt.delete(f),fe;case _:if(ie)return ie.call(f)==ie.call(l)}return!1}function Vr(f,l,P,ot,Bt,Ht){var Xt=P&m,Zt=Ve(f),ee=Zt.length,Jt=Ve(l),fe=Jt.length;if(ee!=fe&&!Xt)return!1;for(var he=ee;he--;){var pe=Zt[he];if(!(Xt?pe in l:bt.call(l,pe)))return!1}var ve=Ht.get(f);if(ve&&Ht.get(l))return ve==l;var me=!0;Ht.set(f,l),Ht.set(l,f);for(var Fe=Xt;++he<ee;){pe=Zt[he];var Ue=f[pe],Sr=l[pe];if(ot)var En=Xt?ot(Sr,Ue,pe,l,f,Ht):ot(Ue,Sr,pe,f,l,Ht);if(!(En===void 0?Ue===Sr||Bt(Ue,Sr,P,ot,Ht):En)){me=!1;break}Fe||(Fe=pe=="constructor")}if(me&&!Fe){var en=f.constructor,rn=l.constructor;en!=rn&&"constructor"in f&&"constructor"in l&&!(typeof en=="function"&&en instanceof en&&typeof rn=="function"&&rn instanceof rn)&&(me=!1)}return Ht.delete(f),Ht.delete(l),me}function Ve(f){return gr(f,Cr,ur)}function Re(f,l){var P=f.__data__;return br(l)?P[typeof l=="string"?"string":"hash"]:P.map}function ke(f,l){var P=b(f,l);return Je(P)?P:void 0}function He(f){var l=bt.call(f,te),P=f[te];try{f[te]=void 0;var ot=!0}catch{}var Bt=Rt.call(f);return ot&&(l?f[te]=P:delete f[te]),Bt}var ur=ae?function(f){return f==null?[]:(f=Object(f),ct(ae(f),function(l){return $t.call(f,l)}))}:Tr,Ie=Ye;(Oe&&Ie(new Oe(new ArrayBuffer(1)))!=J||gt&&Ie(new gt)!=E||St&&Ie(St.resolve())!=O||Ct&&Ie(new Ct)!=u||It&&Ie(new It)!=k)&&(Ie=function(f){var l=Ye(f),P=l==it?f.constructor:void 0,ot=P?Ee(P):"";if(ot)switch(ot){case xt:return J;case kt:return E;case Kt:return O;case Qt:return u;case re:return k}return l});function Gr(f,l){return l=l??D,!!l&&(typeof f=="number"||V.test(f))&&f>-1&&f%1==0&&f<l}function br(f){var l=typeof f;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?f!=="__proto__":f===null}function qr(f){return!!Pt&&Pt in f}function cr(f){var l=f&&f.constructor,P=typeof l=="function"&&l.prototype||Vt;return f===P}function fr(f){return Rt.call(f)}function Ee(f){if(f!=null){try{return Gt.call(f)}catch{}try{return f+""}catch{}}return""}function Me(f,l){return f===l||f!==f&&l!==l}var er=Ar(function(){return arguments}())?Ar:function(f){return Pe(f)&&bt.call(f,"callee")&&!$t.call(f,"callee")},rr=Array.isArray;function Ne(f){return f!=null&&_r(f.length)&&!Ge(f)}var nr=le||Rr;function De(f,l){return xr(f,l)}function Ge(f){if(!Or(f))return!1;var l=Ye(f);return l==H||l==W||l==x||l==T}function _r(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=D}function Or(f){var l=typeof f;return f!=null&&(l=="object"||l=="function")}function Pe(f){return f!=null&&typeof f=="object"}var Er=q?i(q):zr;function Cr(f){return Ne(f)?Kr(f):Zr(f)}function Tr(){return[]}function Rr(){return!1}d.exports=De},732:(d,C,t)=>{d=t.nmd(d);var y=200,v="__lodash_hash_undefined__",m=800,g=16,D=9007199254740991,M="[object Arguments]",I="[object Array]",x="[object AsyncFunction]",N="[object Boolean]",j="[object Date]",L="[object Error]",H="[object Function]",W="[object GeneratorFunction]",E="[object Map]",R="[object Number]",F="[object Null]",it="[object Object]",O="[object Proxy]",T="[object RegExp]",a="[object Set]",u="[object String]",c="[object Undefined]",_="[object WeakMap]",B="[object ArrayBuffer]",k="[object DataView]",$="[object Float32Array]",J="[object Float64Array]",ut="[object Int8Array]",ht="[object Int16Array]",dt="[object Int32Array]",nt="[object Uint8Array]",_t="[object Uint8ClampedArray]",Z="[object Uint16Array]",vt="[object Uint32Array]",tt=/[\\^$.*+?()[\]{}|]/g,lt=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,w={};w[$]=w[J]=w[ut]=w[ht]=w[dt]=w[nt]=w[_t]=w[Z]=w[vt]=!0,w[M]=w[I]=w[B]=w[N]=w[k]=w[j]=w[L]=w[H]=w[E]=w[R]=w[it]=w[T]=w[a]=w[u]=w[_]=!1;var V=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,Q=typeof self=="object"&&self&&self.Object===Object&&self,G=V||Q||Function("return this")(),st=C&&!C.nodeType&&C,mt=st&&!0&&d&&!d.nodeType&&d,Tt=mt&&mt.exports===st,et=Tt&&V.process,Y=function(){try{var l=mt&&mt.require&&mt.require("util").types;return l||et&&et.binding&&et.binding("util")}catch{}}(),K=Y&&Y.isTypedArray;function at(l,P,ot){switch(ot.length){case 0:return l.call(P);case 1:return l.call(P,ot[0]);case 2:return l.call(P,ot[0],ot[1]);case 3:return l.call(P,ot[0],ot[1],ot[2])}return l.apply(P,ot)}function q(l,P){for(var ot=-1,Bt=Array(l);++ot<l;)Bt[ot]=P(ot);return Bt}function ct(l){return function(P){return l(P)}}function pt(l,P){return l==null?void 0:l[P]}function S(l,P){return function(ot){return l(P(ot))}}var o=Array.prototype,i=Function.prototype,s=Object.prototype,b=G["__core-js_shared__"],z=i.toString,yt=s.hasOwnProperty,wt=function(){var l=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),jt=s.toString,Ut=z.call(Object),Vt=RegExp("^"+z.call(yt).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=Tt?G.Buffer:void 0,Gt=G.Symbol,bt=G.Uint8Array;Yt&&Yt.allocUnsafe;var Pt=S(Object.getPrototypeOf,Object),Rt=Object.create,Nt=s.propertyIsEnumerable,Lt=o.splice,Ft=Gt?Gt.toStringTag:void 0,Mt=function(){try{var l=Je(Object,"defineProperty");return l({},"",{}),l}catch{}}(),$t=Yt?Yt.isBuffer:void 0,zt=Math.max,te=Date.now,ae=Je(G,"Map"),le=Je(Object,"create"),Ce=function(){function l(){}return function(P){if(!De(P))return{};if(Rt)return Rt(P);l.prototype=P;var ot=new l;return l.prototype=void 0,ot}}();function Oe(l){var P=-1,ot=l==null?0:l.length;for(this.clear();++P<ot;){var Bt=l[P];this.set(Bt[0],Bt[1])}}function gt(){this.__data__=le?le(null):{},this.size=0}function St(l){var P=this.has(l)&&delete this.__data__[l];return this.size-=P?1:0,P}function Ct(l){var P=this.__data__;if(le){var ot=P[l];return ot===v?void 0:ot}return yt.call(P,l)?P[l]:void 0}function It(l){var P=this.__data__;return le?P[l]!==void 0:yt.call(P,l)}function At(l,P){var ot=this.__data__;return this.size+=this.has(l)?0:1,ot[l]=le&&P===void 0?v:P,this}Oe.prototype.clear=gt,Oe.prototype.delete=St,Oe.prototype.get=Ct,Oe.prototype.has=It,Oe.prototype.set=At;function xt(l){var P=-1,ot=l==null?0:l.length;for(this.clear();++P<ot;){var Bt=l[P];this.set(Bt[0],Bt[1])}}function kt(){this.__data__=[],this.size=0}function Kt(l){var P=this.__data__,ot=ar(P,l);if(ot<0)return!1;var Bt=P.length-1;return ot==Bt?P.pop():Lt.call(P,ot,1),--this.size,!0}function Qt(l){var P=this.__data__,ot=ar(P,l);return ot<0?void 0:P[ot][1]}function re(l){return ar(this.__data__,l)>-1}function ne(l,P){var ot=this.__data__,Bt=ar(ot,l);return Bt<0?(++this.size,ot.push([l,P])):ot[Bt][1]=P,this}xt.prototype.clear=kt,xt.prototype.delete=Kt,xt.prototype.get=Qt,xt.prototype.has=re,xt.prototype.set=ne;function ie(l){var P=-1,ot=l==null?0:l.length;for(this.clear();++P<ot;){var Bt=l[P];this.set(Bt[0],Bt[1])}}function oe(){this.size=0,this.__data__={hash:new Oe,map:new(ae||xt),string:new Oe}}function Se(l){var P=je(this,l).delete(l);return this.size-=P?1:0,P}function Xe(l){return je(this,l).get(l)}function or(l){return je(this,l).has(l)}function dr(l,P){var ot=je(this,l),Bt=ot.size;return ot.set(l,P),this.size+=ot.size==Bt?0:1,this}ie.prototype.clear=oe,ie.prototype.delete=Se,ie.prototype.get=Xe,ie.prototype.has=or,ie.prototype.set=dr;function We(l){var P=this.__data__=new xt(l);this.size=P.size}function Te(){this.__data__=new xt,this.size=0}function jr(l){var P=this.__data__,ot=P.delete(l);return this.size=P.size,ot}function kr(l){return this.__data__.get(l)}function $e(l){return this.__data__.has(l)}function pr(l,P){var ot=this.__data__;if(ot instanceof xt){var Bt=ot.__data__;if(!ae||Bt.length<y-1)return Bt.push([l,P]),this.size=++ot.size,this;ot=this.__data__=new ie(Bt)}return ot.set(l,P),this.size=ot.size,this}We.prototype.clear=Te,We.prototype.delete=jr,We.prototype.get=kr,We.prototype.has=$e,We.prototype.set=pr;function Hr(l,P){var ot=Ee(l),Bt=!ot&&fr(l),Ht=!ot&&!Bt&&rr(l),Xt=!ot&&!Bt&&!Ht&&Or(l),Zt=ot||Bt||Ht||Xt,ee=Zt?q(l.length,String):[],Jt=ee.length;for(var fe in l)Zt&&(fe=="length"||Ht&&(fe=="offset"||fe=="parent")||Xt&&(fe=="buffer"||fe=="byteLength"||fe=="byteOffset")||tr(fe,Jt))||ee.push(fe);return ee}function be(l,P,ot){(ot!==void 0&&!cr(l[P],ot)||ot===void 0&&!(P in l))&&vr(l,P,ot)}function Fr(l,P,ot){var Bt=l[P];(!(yt.call(l,P)&&cr(Bt,ot))||ot===void 0&&!(P in l))&&vr(l,P,ot)}function ar(l,P){for(var ot=l.length;ot--;)if(cr(l[ot][0],P))return ot;return-1}function vr(l,P,ot){P=="__proto__"&&Mt?Mt(l,P,{configurable:!0,enumerable:!0,value:ot,writable:!0}):l[P]=ot}var mr=xr();function lr(l){return l==null?l===void 0?c:F:Ft&&Ft in Object(l)?zr(l):He(l)}function Qe(l){return Ge(l)&&lr(l)==M}function wr(l){if(!De(l)||Ve(l))return!1;var P=Ne(l)?Vt:lt;return P.test(qr(l))}function sr(l){return Ge(l)&&nr(l.length)&&!!w[lr(l)]}function Ae(l){if(!De(l))return ke(l);var P=Re(l),ot=[];for(var Bt in l)Bt=="constructor"&&(P||!yt.call(l,Bt))||ot.push(Bt);return ot}function Ke(l,P,ot,Bt,Ht){l!==P&&mr(P,function(Xt,Zt){if(Ht||(Ht=new We),De(Xt))Ur(l,P,Zt,ot,Ke,Bt,Ht);else{var ee=Bt?Bt(Ie(l,Zt),Xt,Zt+"",l,P,Ht):void 0;ee===void 0&&(ee=Xt),be(l,Zt,ee)}},Er)}function Ur(l,P,ot,Bt,Ht,Xt,Zt){var ee=Ie(l,ot),Jt=Ie(P,ot),fe=Zt.get(Jt);if(fe){be(l,ot,fe);return}var he=Xt?Xt(ee,Jt,ot+"",l,P,Zt):void 0,pe=he===void 0;if(pe){var ve=Ee(Jt),me=!ve&&rr(Jt),Fe=!ve&&!me&&Or(Jt);he=Jt,ve||me||Fe?Ee(ee)?he=ee:er(ee)?he=gr(ee):me?(pe=!1,he=$r(Jt)):Fe?(pe=!1,he=ze(Jt)):he=[]:_r(Jt)||fr(Jt)?(he=ee,fr(ee)?he=Pe(ee):(!De(ee)||Ne(ee))&&(he=Zr(Jt))):pe=!1}pe&&(Zt.set(Jt,he),Ht(he,Jt,Bt,Xt,Zt),Zt.delete(Jt)),be(l,ot,he)}function yr(l,P){return Gr(ur(l,P,Rr),l+"")}var Wr=Mt?function(l,P){return Mt(l,"toString",{configurable:!0,enumerable:!1,value:Tr(P),writable:!0})}:Rr;function $r(l,P){return l.slice()}function Kr(l){var P=new l.constructor(l.byteLength);return new bt(P).set(new bt(l)),P}function ze(l,P){var ot=Kr(l.buffer);return new l.constructor(ot,l.byteOffset,l.length)}function gr(l,P){var ot=-1,Bt=l.length;for(P||(P=Array(Bt));++ot<Bt;)P[ot]=l[ot];return P}function Ye(l,P,ot,Bt){var Ht=!ot;ot||(ot={});for(var Xt=-1,Zt=P.length;++Xt<Zt;){var ee=P[Xt],Jt=void 0;Jt===void 0&&(Jt=l[ee]),Ht?vr(ot,ee,Jt):Fr(ot,ee,Jt)}return ot}function Ar(l){return yr(function(P,ot){var Bt=-1,Ht=ot.length,Xt=Ht>1?ot[Ht-1]:void 0,Zt=Ht>2?ot[2]:void 0;for(Xt=l.length>3&&typeof Xt=="function"?(Ht--,Xt):void 0,Zt&&Ze(ot[0],ot[1],Zt)&&(Xt=Ht<3?void 0:Xt,Ht=1),P=Object(P);++Bt<Ht;){var ee=ot[Bt];ee&&l(P,ee,Bt,Xt)}return P})}function xr(l){return function(P,ot,Bt){for(var Ht=-1,Xt=Object(P),Zt=Bt(P),ee=Zt.length;ee--;){var Jt=Zt[++Ht];if(ot(Xt[Jt],Jt,Xt)===!1)break}return P}}function je(l,P){var ot=l.__data__;return Vr(P)?ot[typeof P=="string"?"string":"hash"]:ot.map}function Je(l,P){var ot=pt(l,P);return wr(ot)?ot:void 0}function zr(l){var P=yt.call(l,Ft),ot=l[Ft];try{l[Ft]=void 0;var Bt=!0}catch{}var Ht=jt.call(l);return Bt&&(P?l[Ft]=ot:delete l[Ft]),Ht}function Zr(l){return typeof l.constructor=="function"&&!Re(l)?Ce(Pt(l)):{}}function tr(l,P){var ot=typeof l;return P=P??D,!!P&&(ot=="number"||ot!="symbol"&&U.test(l))&&l>-1&&l%1==0&&l<P}function Ze(l,P,ot){if(!De(ot))return!1;var Bt=typeof P;return(Bt=="number"?Me(ot)&&tr(P,ot.length):Bt=="string"&&P in ot)?cr(ot[P],l):!1}function Vr(l){var P=typeof l;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?l!=="__proto__":l===null}function Ve(l){return!!wt&&wt in l}function Re(l){var P=l&&l.constructor,ot=typeof P=="function"&&P.prototype||s;return l===ot}function ke(l){var P=[];if(l!=null)for(var ot in Object(l))P.push(ot);return P}function He(l){return jt.call(l)}function ur(l,P,ot){return P=zt(P===void 0?l.length-1:P,0),function(){for(var Bt=arguments,Ht=-1,Xt=zt(Bt.length-P,0),Zt=Array(Xt);++Ht<Xt;)Zt[Ht]=Bt[P+Ht];Ht=-1;for(var ee=Array(P+1);++Ht<P;)ee[Ht]=Bt[Ht];return ee[P]=ot(Zt),at(l,this,ee)}}function Ie(l,P){if(!(P==="constructor"&&typeof l[P]=="function")&&P!="__proto__")return l[P]}var Gr=br(Wr);function br(l){var P=0,ot=0;return function(){var Bt=te(),Ht=g-(Bt-ot);if(ot=Bt,Ht>0){if(++P>=m)return arguments[0]}else P=0;return l.apply(void 0,arguments)}}function qr(l){if(l!=null){try{return z.call(l)}catch{}try{return l+""}catch{}}return""}function cr(l,P){return l===P||l!==l&&P!==P}var fr=Qe(function(){return arguments}())?Qe:function(l){return Ge(l)&&yt.call(l,"callee")&&!Nt.call(l,"callee")},Ee=Array.isArray;function Me(l){return l!=null&&nr(l.length)&&!Ne(l)}function er(l){return Ge(l)&&Me(l)}var rr=$t||f;function Ne(l){if(!De(l))return!1;var P=lr(l);return P==H||P==W||P==x||P==O}function nr(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=D}function De(l){var P=typeof l;return l!=null&&(P=="object"||P=="function")}function Ge(l){return l!=null&&typeof l=="object"}function _r(l){if(!Ge(l)||lr(l)!=it)return!1;var P=Pt(l);if(P===null)return!0;var ot=yt.call(P,"constructor")&&P.constructor;return typeof ot=="function"&&ot instanceof ot&&z.call(ot)==Ut}var Or=K?ct(K):sr;function Pe(l){return Ye(l,Er(l))}function Er(l){return Me(l)?Hr(l):Ae(l)}var Cr=Ar(function(l,P,ot){Ke(l,P,ot)});function Tr(l){return function(){return l}}function Rr(l){return l}function f(){return!1}d.exports=Cr},5143:(d,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const y=t(8805),v=t(2722);var m;(function(g){function D(N={},j={},L=!1){typeof N!="object"&&(N={}),typeof j!="object"&&(j={});let H=y(j);L||(H=Object.keys(H).reduce((W,E)=>(H[E]!=null&&(W[E]=H[E]),W),{}));for(const W in N)N[W]!==void 0&&j[W]===void 0&&(H[W]=N[W]);return Object.keys(H).length>0?H:void 0}g.compose=D;function M(N={},j={}){typeof N!="object"&&(N={}),typeof j!="object"&&(j={});const L=Object.keys(N).concat(Object.keys(j)).reduce((H,W)=>(v(N[W],j[W])||(H[W]=j[W]===void 0?null:j[W]),H),{});return Object.keys(L).length>0?L:void 0}g.diff=M;function I(N={},j={}){N=N||{};const L=Object.keys(j).reduce((H,W)=>(j[W]!==N[W]&&N[W]!==void 0&&(H[W]=j[W]),H),{});return Object.keys(N).reduce((H,W)=>(N[W]!==j[W]&&j[W]===void 0&&(H[W]=null),H),L)}g.invert=I;function x(N,j,L=!1){if(typeof N!="object")return j;if(typeof j!="object")return;if(!L)return j;const H=Object.keys(j).reduce((W,E)=>(N[E]===void 0&&(W[E]=j[E]),W),{});return Object.keys(H).length>0?H:void 0}g.transform=x})(m||(m={})),C.default=m},9098:(d,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const y=t(1456),v=t(8805),m=t(2722),g=t(5143);C.AttributeMap=g.default;const D=t(6237);C.Op=D.default;const M=t(2849);C.OpIterator=M.default;const I="\0",x=(j,L)=>{if(typeof j!="object"||j===null)throw new Error(`cannot retain a ${typeof j}`);if(typeof L!="object"||L===null)throw new Error(`cannot retain a ${typeof L}`);const H=Object.keys(j)[0];if(!H||H!==Object.keys(L)[0])throw new Error(`embed types not matched: ${H} != ${Object.keys(L)[0]}`);return[H,j[H],L[H]]};class N{constructor(L){Array.isArray(L)?this.ops=L:L!=null&&Array.isArray(L.ops)?this.ops=L.ops:this.ops=[]}static registerEmbed(L,H){this.handlers[L]=H}static unregisterEmbed(L){delete this.handlers[L]}static getHandler(L){const H=this.handlers[L];if(!H)throw new Error(`no handlers for embed type "${L}"`);return H}insert(L,H){const W={};return typeof L=="string"&&L.length===0?this:(W.insert=L,H!=null&&typeof H=="object"&&Object.keys(H).length>0&&(W.attributes=H),this.push(W))}delete(L){return L<=0?this:this.push({delete:L})}retain(L,H){if(typeof L=="number"&&L<=0)return this;const W={retain:L};return H!=null&&typeof H=="object"&&Object.keys(H).length>0&&(W.attributes=H),this.push(W)}push(L){let H=this.ops.length,W=this.ops[H-1];if(L=v(L),typeof W=="object"){if(typeof L.delete=="number"&&typeof W.delete=="number")return this.ops[H-1]={delete:W.delete+L.delete},this;if(typeof W.delete=="number"&&L.insert!=null&&(H-=1,W=this.ops[H-1],typeof W!="object"))return this.ops.unshift(L),this;if(m(L.attributes,W.attributes)){if(typeof L.insert=="string"&&typeof W.insert=="string")return this.ops[H-1]={insert:W.insert+L.insert},typeof L.attributes=="object"&&(this.ops[H-1].attributes=L.attributes),this;if(typeof L.retain=="number"&&typeof W.retain=="number")return this.ops[H-1]={retain:W.retain+L.retain},typeof L.attributes=="object"&&(this.ops[H-1].attributes=L.attributes),this}}return H===this.ops.length?this.ops.push(L):this.ops.splice(H,0,L),this}chop(){const L=this.ops[this.ops.length-1];return L&&typeof L.retain=="number"&&!L.attributes&&this.ops.pop(),this}filter(L){return this.ops.filter(L)}forEach(L){this.ops.forEach(L)}map(L){return this.ops.map(L)}partition(L){const H=[],W=[];return this.forEach(E=>{(L(E)?H:W).push(E)}),[H,W]}reduce(L,H){return this.ops.reduce(L,H)}changeLength(){return this.reduce((L,H)=>H.insert?L+D.default.length(H):H.delete?L-H.delete:L,0)}length(){return this.reduce((L,H)=>L+D.default.length(H),0)}slice(L=0,H=1/0){const W=[],E=new M.default(this.ops);let R=0;for(;R<H&&E.hasNext();){let F;R<L?F=E.next(L-R):(F=E.next(H-R),W.push(F)),R+=D.default.length(F)}return new N(W)}compose(L){const H=new M.default(this.ops),W=new M.default(L.ops),E=[],R=W.peek();if(R!=null&&typeof R.retain=="number"&&R.attributes==null){let it=R.retain;for(;H.peekType()==="insert"&&H.peekLength()<=it;)it-=H.peekLength(),E.push(H.next());R.retain-it>0&&W.next(R.retain-it)}const F=new N(E);for(;H.hasNext()||W.hasNext();)if(W.peekType()==="insert")F.push(W.next());else if(H.peekType()==="delete")F.push(H.next());else{const it=Math.min(H.peekLength(),W.peekLength()),O=H.next(it),T=W.next(it);if(T.retain){const a={};if(typeof O.retain=="number")a.retain=typeof T.retain=="number"?it:T.retain;else if(typeof T.retain=="number")O.retain==null?a.insert=O.insert:a.retain=O.retain;else{const c=O.retain==null?"insert":"retain",[_,B,k]=x(O[c],T.retain),$=N.getHandler(_);a[c]={[_]:$.compose(B,k,c==="retain")}}const u=g.default.compose(O.attributes,T.attributes,typeof O.retain=="number");if(u&&(a.attributes=u),F.push(a),!W.hasNext()&&m(F.ops[F.ops.length-1],a)){const c=new N(H.rest());return F.concat(c).chop()}}else typeof T.delete=="number"&&(typeof O.retain=="number"||typeof O.retain=="object"&&O.retain!==null)&&F.push(T)}return F.chop()}concat(L){const H=new N(this.ops.slice());return L.ops.length>0&&(H.push(L.ops[0]),H.ops=H.ops.concat(L.ops.slice(1))),H}diff(L,H){if(this.ops===L.ops)return new N;const W=[this,L].map(O=>O.map(T=>{if(T.insert!=null)return typeof T.insert=="string"?T.insert:I;const a=O===L?"on":"with";throw new Error("diff() called "+a+" non-document")}).join("")),E=new N,R=y(W[0],W[1],H),F=new M.default(this.ops),it=new M.default(L.ops);return R.forEach(O=>{let T=O[1].length;for(;T>0;){let a=0;switch(O[0]){case y.INSERT:a=Math.min(it.peekLength(),T),E.push(it.next(a));break;case y.DELETE:a=Math.min(T,F.peekLength()),F.next(a),E.delete(a);break;case y.EQUAL:a=Math.min(F.peekLength(),it.peekLength(),T);const u=F.next(a),c=it.next(a);m(u.insert,c.insert)?E.retain(a,g.default.diff(u.attributes,c.attributes)):E.push(c).delete(a);break}T-=a}}),E.chop()}eachLine(L,H=`
`){const W=new M.default(this.ops);let E=new N,R=0;for(;W.hasNext();){if(W.peekType()!=="insert")return;const F=W.peek(),it=D.default.length(F)-W.peekLength(),O=typeof F.insert=="string"?F.insert.indexOf(H,it)-it:-1;if(O<0)E.push(W.next());else if(O>0)E.push(W.next(O));else{if(L(E,W.next(1).attributes||{},R)===!1)return;R+=1,E=new N}}E.length()>0&&L(E,{},R)}invert(L){const H=new N;return this.reduce((W,E)=>{if(E.insert)H.delete(D.default.length(E));else{if(typeof E.retain=="number"&&E.attributes==null)return H.retain(E.retain),W+E.retain;if(E.delete||typeof E.retain=="number"){const R=E.delete||E.retain;return L.slice(W,W+R).forEach(it=>{E.delete?H.push(it):E.retain&&E.attributes&&H.retain(D.default.length(it),g.default.invert(E.attributes,it.attributes))}),W+R}else if(typeof E.retain=="object"&&E.retain!==null){const R=L.slice(W,W+1),F=new M.default(R.ops).next(),[it,O,T]=x(E.retain,F.insert),a=N.getHandler(it);return H.retain({[it]:a.invert(O,T)},g.default.invert(E.attributes,F.attributes)),W+1}}return W},0),H.chop()}transform(L,H=!1){if(H=!!H,typeof L=="number")return this.transformPosition(L,H);const W=L,E=new M.default(this.ops),R=new M.default(W.ops),F=new N;for(;E.hasNext()||R.hasNext();)if(E.peekType()==="insert"&&(H||R.peekType()!=="insert"))F.retain(D.default.length(E.next()));else if(R.peekType()==="insert")F.push(R.next());else{const it=Math.min(E.peekLength(),R.peekLength()),O=E.next(it),T=R.next(it);if(O.delete)continue;if(T.delete)F.push(T);else{const a=O.retain,u=T.retain;let c=typeof u=="object"&&u!==null?u:it;if(typeof a=="object"&&a!==null&&typeof u=="object"&&u!==null){const _=Object.keys(a)[0];if(_===Object.keys(u)[0]){const B=N.getHandler(_);B&&(c={[_]:B.transform(a[_],u[_],H)})}}F.retain(c,g.default.transform(O.attributes,T.attributes,H))}}return F.chop()}transformPosition(L,H=!1){H=!!H;const W=new M.default(this.ops);let E=0;for(;W.hasNext()&&E<=L;){const R=W.peekLength(),F=W.peekType();if(W.next(),F==="delete"){L-=Math.min(R,L-E);continue}else F==="insert"&&(E<L||!H)&&(L+=R);E+=R}return L}}N.Op=D.default,N.OpIterator=M.default,N.AttributeMap=g.default,N.handlers={},C.default=N,d.exports=N,d.exports.default=N},6237:(d,C)=>{Object.defineProperty(C,"__esModule",{value:!0});var t;(function(y){function v(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.retain=="object"&&m.retain!==null?1:typeof m.insert=="string"?m.insert.length:1}y.length=v})(t||(t={})),C.default=t},2849:(d,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const y=t(6237);class v{constructor(g){this.ops=g,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(g){g||(g=1/0);const D=this.ops[this.index];if(D){const M=this.offset,I=y.default.length(D);if(g>=I-M?(g=I-M,this.index+=1,this.offset=0):this.offset+=g,typeof D.delete=="number")return{delete:g};{const x={};return D.attributes&&(x.attributes=D.attributes),typeof D.retain=="number"?x.retain=g:typeof D.retain=="object"&&D.retain!==null?x.retain=D.retain:typeof D.insert=="string"?x.insert=D.insert.substr(M,g):x.insert=D.insert,x}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?y.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const g=this.ops[this.index];return g?typeof g.delete=="number"?"delete":typeof g.retain=="number"||typeof g.retain=="object"&&g.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const g=this.offset,D=this.index,M=this.next(),I=this.ops.slice(this.index);return this.offset=g,this.index=D,[M].concat(I)}}else return[]}}C.default=v},1863:(d,C,t)=>{var y=t(9731);d.exports=y},6572:(d,C,t)=>{var y=t(4401);d.exports=y},2318:(d,C,t)=>{var y=t(3661);d.exports=y},576:(d,C,t)=>{var y=t(5606);d.exports=y},2327:(d,C,t)=>{t(5445);var y=t(6731);d.exports=y("Array","fill")},3274:(d,C,t)=>{t(9477),t(6272);var y=t(577);d.exports=y.Array.from},5339:(d,C,t)=>{t(2947);var y=t(577);d.exports=y.Object.values},1189:(d,C,t)=>{t(538);var y=t(6731);d.exports=y("String","endsWith")},5142:(d,C,t)=>{t(297)},1019:(d,C,t)=>{t(4660)},1183:(d,C,t)=>{t(5275)},2570:(d,C,t)=>{t(2839)},297:(d,C,t)=>{var y=t(1863);d.exports=y},4660:(d,C,t)=>{var y=t(6572);d.exports=y},5275:(d,C,t)=>{var y=t(2318);d.exports=y},2839:(d,C,t)=>{var y=t(576);d.exports=y},6324:(d,C,t)=>{var y=t(2539),v=t(7471),m=TypeError;d.exports=function(g){if(y(g))return g;throw new m(v(g)+" is not a function")}},2162:(d,C,t)=>{var y=t(2539),v=String,m=TypeError;d.exports=function(g){if(typeof g=="object"||y(g))return g;throw new m("Can't set "+v(g)+" as a prototype")}},2572:(d,C,t)=>{var y=t(5485),v=t(3830),m=t(8503).f,g=y("unscopables"),D=Array.prototype;D[g]===void 0&&m(D,g,{configurable:!0,value:v(null)}),d.exports=function(M){D[g][M]=!0}},8874:(d,C,t)=>{var y=t(3988),v=String,m=TypeError;d.exports=function(g){if(y(g))return g;throw new m(v(g)+" is not an object")}},9236:(d,C,t)=>{var y=t(6015),v=t(7234),m=t(3235);d.exports=function(D){for(var M=y(this),I=m(M),x=arguments.length,N=v(x>1?arguments[1]:void 0,I),j=x>2?arguments[2]:void 0,L=j===void 0?I:v(j,I);L>N;)M[N++]=D;return M}},8459:(d,C,t)=>{var y=t(9794),v=t(2977),m=t(6015),g=t(9154),D=t(7024),M=t(6467),I=t(3235),x=t(3003),N=t(2387),j=t(7874),L=Array;d.exports=function(W){var E=m(W),R=M(this),F=arguments.length,it=F>1?arguments[1]:void 0,O=it!==void 0;O&&(it=y(it,F>2?arguments[2]:void 0));var T=j(E),a=0,u,c,_,B,k,$;if(T&&!(this===L&&D(T)))for(B=N(E,T),k=B.next,c=R?new this:[];!(_=v(k,B)).done;a++)$=O?g(B,it,[_.value,a],!0):_.value,x(c,a,$);else for(u=I(E),c=R?new this(u):L(u);u>a;a++)$=O?it(E[a],a):E[a],x(c,a,$);return c.length=a,c}},5644:(d,C,t)=>{var y=t(7625),v=t(7234),m=t(3235),g=function(D){return function(M,I,x){var N=y(M),j=m(N),L=v(x,j),H;if(D&&I!==I){for(;j>L;)if(H=N[L++],H!==H)return!0}else for(;j>L;L++)if((D||L in N)&&N[L]===I)return D||L||0;return!D&&-1}};d.exports={includes:g(!0),indexOf:g(!1)}},9154:(d,C,t)=>{var y=t(8874),v=t(8880);d.exports=function(m,g,D,M){try{return M?g(y(D)[0],D[1]):g(D)}catch(I){v(m,"throw",I)}}},3346:(d,C,t)=>{var y=t(5485),v=y("iterator"),m=!1;try{var g=0,D={next:function(){return{done:!!g++}},return:function(){m=!0}};D[v]=function(){return this},Array.from(D,function(){throw 2})}catch{}d.exports=function(M,I){try{if(!I&&!m)return!1}catch{return!1}var x=!1;try{var N={};N[v]=function(){return{next:function(){return{done:x=!0}}}},M(N)}catch{}return x}},4545:(d,C,t)=>{var y=t(4038),v=y({}.toString),m=y("".slice);d.exports=function(g){return m(v(g),8,-1)}},2702:(d,C,t)=>{var y=t(1923),v=t(2539),m=t(4545),g=t(5485),D=g("toStringTag"),M=Object,I=m(function(){return arguments}())==="Arguments",x=function(N,j){try{return N[j]}catch{}};d.exports=y?m:function(N){var j,L,H;return N===void 0?"Undefined":N===null?"Null":typeof(L=x(j=M(N),D))=="string"?L:I?m(j):(H=m(j))==="Object"&&v(j.callee)?"Arguments":H}},1358:(d,C,t)=>{var y=t(2623),v=t(3054),m=t(3037),g=t(8503);d.exports=function(D,M,I){for(var x=v(M),N=g.f,j=m.f,L=0;L<x.length;L++){var H=x[L];!y(D,H)&&!(I&&y(I,H))&&N(D,H,j(M,H))}}},6775:(d,C,t)=>{var y=t(5485),v=y("match");d.exports=function(m){var g=/./;try{"/./"[m](g)}catch{try{return g[v]=!1,"/./"[m](g)}catch{}}return!1}},6141:(d,C,t)=>{var y=t(5202);d.exports=!y(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},3585:d=>{d.exports=function(C,t){return{value:C,done:t}}},8868:(d,C,t)=>{var y=t(5007),v=t(8503),m=t(4238);d.exports=y?function(g,D,M){return v.f(g,D,m(1,M))}:function(g,D,M){return g[D]=M,g}},4238:d=>{d.exports=function(C,t){return{enumerable:!(C&1),configurable:!(C&2),writable:!(C&4),value:t}}},3003:(d,C,t)=>{var y=t(3164),v=t(8503),m=t(4238);d.exports=function(g,D,M){var I=y(D);I in g?v.f(g,I,m(0,M)):g[I]=M}},916:(d,C,t)=>{var y=t(2539),v=t(8503),m=t(6614),g=t(2136);d.exports=function(D,M,I,x){x||(x={});var N=x.enumerable,j=x.name!==void 0?x.name:M;if(y(I)&&m(I,j,x),x.global)N?D[M]=I:g(M,I);else{try{x.unsafe?D[M]&&(N=!0):delete D[M]}catch{}N?D[M]=I:v.f(D,M,{value:I,enumerable:!1,configurable:!x.nonConfigurable,writable:!x.nonWritable})}return D}},2136:(d,C,t)=>{var y=t(730),v=Object.defineProperty;d.exports=function(m,g){try{v(y,m,{value:g,configurable:!0,writable:!0})}catch{y[m]=g}return g}},5007:(d,C,t)=>{var y=t(5202);d.exports=!y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},8629:d=>{var C=typeof document=="object"&&document.all,t=typeof C>"u"&&C!==void 0;d.exports={all:C,IS_HTMLDDA:t}},2215:(d,C,t)=>{var y=t(730),v=t(3988),m=y.document,g=v(m)&&v(m.createElement);d.exports=function(D){return g?m.createElement(D):{}}},932:d=>{d.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7626:(d,C,t)=>{var y=t(730),v=t(932),m=y.process,g=y.Deno,D=m&&m.versions||g&&g.version,M=D&&D.v8,I,x;M&&(I=M.split("."),x=I[0]>0&&I[0]<4?1:+(I[0]+I[1])),!x&&v&&(I=v.match(/Edge\/(\d+)/),(!I||I[1]>=74)&&(I=v.match(/Chrome\/(\d+)/),I&&(x=+I[1]))),d.exports=x},6731:(d,C,t)=>{var y=t(730),v=t(4038);d.exports=function(m,g){return v(y[m].prototype[g])}},8552:d=>{d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2189:(d,C,t)=>{var y=t(730),v=t(3037).f,m=t(8868),g=t(916),D=t(2136),M=t(1358),I=t(3455);d.exports=function(x,N){var j=x.target,L=x.global,H=x.stat,W,E,R,F,it,O;if(L?E=y:H?E=y[j]||D(j,{}):E=(y[j]||{}).prototype,E)for(R in N){if(it=N[R],x.dontCallGetSet?(O=v(E,R),F=O&&O.value):F=E[R],W=I(L?R:j+(H?".":"#")+R,x.forced),!W&&F!==void 0){if(typeof it==typeof F)continue;M(it,F)}(x.sham||F&&F.sham)&&m(it,"sham",!0),g(E,R,it,x)}}},5202:d=>{d.exports=function(C){try{return!!C()}catch{return!0}}},9794:(d,C,t)=>{var y=t(6192),v=t(6324),m=t(2865),g=y(y.bind);d.exports=function(D,M){return v(D),M===void 0?D:m?g(D,M):function(){return D.apply(M,arguments)}}},2865:(d,C,t)=>{var y=t(5202);d.exports=!y(function(){var v=(function(){}).bind();return typeof v!="function"||v.hasOwnProperty("prototype")})},2977:(d,C,t)=>{var y=t(2865),v=Function.prototype.call;d.exports=y?v.bind(v):function(){return v.apply(v,arguments)}},9895:(d,C,t)=>{var y=t(5007),v=t(2623),m=Function.prototype,g=y&&Object.getOwnPropertyDescriptor,D=v(m,"name"),M=D&&(function(){}).name==="something",I=D&&(!y||y&&g(m,"name").configurable);d.exports={EXISTS:D,PROPER:M,CONFIGURABLE:I}},6589:(d,C,t)=>{var y=t(4038),v=t(6324);d.exports=function(m,g,D){try{return y(v(Object.getOwnPropertyDescriptor(m,g)[D]))}catch{}}},6192:(d,C,t)=>{var y=t(4545),v=t(4038);d.exports=function(m){if(y(m)==="Function")return v(m)}},4038:(d,C,t)=>{var y=t(2865),v=Function.prototype,m=v.call,g=y&&v.bind.bind(m,m);d.exports=y?g:function(D){return function(){return m.apply(D,arguments)}}},7300:(d,C,t)=>{var y=t(730),v=t(2539),m=function(g){return v(g)?g:void 0};d.exports=function(g,D){return arguments.length<2?m(y[g]):y[g]&&y[g][D]}},7874:(d,C,t)=>{var y=t(2702),v=t(3923),m=t(2219),g=t(7817),D=t(5485),M=D("iterator");d.exports=function(I){if(!m(I))return v(I,M)||v(I,"@@iterator")||g[y(I)]}},2387:(d,C,t)=>{var y=t(2977),v=t(6324),m=t(8874),g=t(7471),D=t(7874),M=TypeError;d.exports=function(I,x){var N=arguments.length<2?D(I):x;if(v(N))return m(y(N,I));throw new M(g(I)+" is not iterable")}},3923:(d,C,t)=>{var y=t(6324),v=t(2219);d.exports=function(m,g){var D=m[g];return v(D)?void 0:y(D)}},730:function(d,C,t){var y=function(v){return v&&v.Math===Math&&v};d.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof t.g=="object"&&t.g)||y(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},2623:(d,C,t)=>{var y=t(4038),v=t(6015),m=y({}.hasOwnProperty);d.exports=Object.hasOwn||function(D,M){return m(v(D),M)}},7467:d=>{d.exports={}},845:(d,C,t)=>{var y=t(7300);d.exports=y("document","documentElement")},2470:(d,C,t)=>{var y=t(5007),v=t(5202),m=t(2215);d.exports=!y&&!v(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!==7})},6854:(d,C,t)=>{var y=t(4038),v=t(5202),m=t(4545),g=Object,D=y("".split);d.exports=v(function(){return!g("z").propertyIsEnumerable(0)})?function(M){return m(M)==="String"?D(M,""):g(M)}:g},7821:(d,C,t)=>{var y=t(4038),v=t(2539),m=t(6838),g=y(Function.toString);v(m.inspectSource)||(m.inspectSource=function(D){return g(D)}),d.exports=m.inspectSource},5378:(d,C,t)=>{var y=t(2543),v=t(730),m=t(3988),g=t(8868),D=t(2623),M=t(6838),I=t(3511),x=t(7467),N="Object already initialized",j=v.TypeError,L=v.WeakMap,H,W,E,R=function(T){return E(T)?W(T):H(T,{})},F=function(T){return function(a){var u;if(!m(a)||(u=W(a)).type!==T)throw new j("Incompatible receiver, "+T+" required");return u}};if(y||M.state){var it=M.state||(M.state=new L);it.get=it.get,it.has=it.has,it.set=it.set,H=function(T,a){if(it.has(T))throw new j(N);return a.facade=T,it.set(T,a),a},W=function(T){return it.get(T)||{}},E=function(T){return it.has(T)}}else{var O=I("state");x[O]=!0,H=function(T,a){if(D(T,O))throw new j(N);return a.facade=T,g(T,O,a),a},W=function(T){return D(T,O)?T[O]:{}},E=function(T){return D(T,O)}}d.exports={set:H,get:W,has:E,enforce:R,getterFor:F}},7024:(d,C,t)=>{var y=t(5485),v=t(7817),m=y("iterator"),g=Array.prototype;d.exports=function(D){return D!==void 0&&(v.Array===D||g[m]===D)}},2539:(d,C,t)=>{var y=t(8629),v=y.all;d.exports=y.IS_HTMLDDA?function(m){return typeof m=="function"||m===v}:function(m){return typeof m=="function"}},6467:(d,C,t)=>{var y=t(4038),v=t(5202),m=t(2539),g=t(2702),D=t(7300),M=t(7821),I=function(){},x=[],N=D("Reflect","construct"),j=/^\s*(?:class|function)\b/,L=y(j.exec),H=!j.test(I),W=function(F){if(!m(F))return!1;try{return N(I,x,F),!0}catch{return!1}},E=function(F){if(!m(F))return!1;switch(g(F)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return H||!!L(j,M(F))}catch{return!0}};E.sham=!0,d.exports=!N||v(function(){var R;return W(W.call)||!W(Object)||!W(function(){R=!0})||R})?E:W},3455:(d,C,t)=>{var y=t(5202),v=t(2539),m=/#|\.prototype\./,g=function(N,j){var L=M[D(N)];return L===x?!0:L===I?!1:v(j)?y(j):!!j},D=g.normalize=function(N){return String(N).replace(m,".").toLowerCase()},M=g.data={},I=g.NATIVE="N",x=g.POLYFILL="P";d.exports=g},2219:d=>{d.exports=function(C){return C==null}},3988:(d,C,t)=>{var y=t(2539),v=t(8629),m=v.all;d.exports=v.IS_HTMLDDA?function(g){return typeof g=="object"?g!==null:y(g)||g===m}:function(g){return typeof g=="object"?g!==null:y(g)}},4708:d=>{d.exports=!1},184:(d,C,t)=>{var y=t(3988),v=t(4545),m=t(5485),g=m("match");d.exports=function(D){var M;return y(D)&&((M=D[g])!==void 0?!!M:v(D)==="RegExp")}},8820:(d,C,t)=>{var y=t(7300),v=t(2539),m=t(7676),g=t(3713),D=Object;d.exports=g?function(M){return typeof M=="symbol"}:function(M){var I=y("Symbol");return v(I)&&m(I.prototype,D(M))}},8880:(d,C,t)=>{var y=t(2977),v=t(8874),m=t(3923);d.exports=function(g,D,M){var I,x;v(g);try{if(I=m(g,"return"),!I){if(D==="throw")throw M;return M}I=y(I,g)}catch(N){x=!0,I=N}if(D==="throw")throw M;if(x)throw I;return v(I),M}},3450:(d,C,t)=>{var y=t(344).IteratorPrototype,v=t(3830),m=t(4238),g=t(3506),D=t(7817),M=function(){return this};d.exports=function(I,x,N,j){var L=x+" Iterator";return I.prototype=v(y,{next:m(+!j,N)}),g(I,L,!1,!0),D[L]=M,I}},3174:(d,C,t)=>{var y=t(2189),v=t(2977),m=t(4708),g=t(9895),D=t(2539),M=t(3450),I=t(8059),x=t(5502),N=t(3506),j=t(8868),L=t(916),H=t(5485),W=t(7817),E=t(344),R=g.PROPER,F=g.CONFIGURABLE,it=E.IteratorPrototype,O=E.BUGGY_SAFARI_ITERATORS,T=H("iterator"),a="keys",u="values",c="entries",_=function(){return this};d.exports=function(B,k,$,J,ut,ht,dt){M($,k,J);var nt=function(G){if(G===ut&&lt)return lt;if(!O&&G&&G in vt)return vt[G];switch(G){case a:return function(){return new $(this,G)};case u:return function(){return new $(this,G)};case c:return function(){return new $(this,G)}}return function(){return new $(this)}},_t=k+" Iterator",Z=!1,vt=B.prototype,tt=vt[T]||vt["@@iterator"]||ut&&vt[ut],lt=!O&&tt||nt(ut),U=k==="Array"&&vt.entries||tt,w,V,Q;if(U&&(w=I(U.call(new B)),w!==Object.prototype&&w.next&&(!m&&I(w)!==it&&(x?x(w,it):D(w[T])||L(w,T,_)),N(w,_t,!0,!0),m&&(W[_t]=_))),R&&ut===u&&tt&&tt.name!==u&&(!m&&F?j(vt,"name",u):(Z=!0,lt=function(){return v(tt,this)})),ut)if(V={values:nt(u),keys:ht?lt:nt(a),entries:nt(c)},dt)for(Q in V)(O||Z||!(Q in vt))&&L(vt,Q,V[Q]);else y({target:k,proto:!0,forced:O||Z},V);return(!m||dt)&&vt[T]!==lt&&L(vt,T,lt,{name:ut}),W[k]=lt,V}},344:(d,C,t)=>{var y=t(5202),v=t(2539),m=t(3988),g=t(3830),D=t(8059),M=t(916),I=t(5485),x=t(4708),N=I("iterator"),j=!1,L,H,W;[].keys&&(W=[].keys(),"next"in W?(H=D(D(W)),H!==Object.prototype&&(L=H)):j=!0);var E=!m(L)||y(function(){var R={};return L[N].call(R)!==R});E?L={}:x&&(L=g(L)),v(L[N])||M(L,N,function(){return this}),d.exports={IteratorPrototype:L,BUGGY_SAFARI_ITERATORS:j}},7817:d=>{d.exports={}},3235:(d,C,t)=>{var y=t(3627);d.exports=function(v){return y(v.length)}},6614:(d,C,t)=>{var y=t(4038),v=t(5202),m=t(2539),g=t(2623),D=t(5007),M=t(9895).CONFIGURABLE,I=t(7821),x=t(5378),N=x.enforce,j=x.get,L=String,H=Object.defineProperty,W=y("".slice),E=y("".replace),R=y([].join),F=D&&!v(function(){return H(function(){},"length",{value:8}).length!==8}),it=String(String).split("String"),O=d.exports=function(T,a,u){W(L(a),0,7)==="Symbol("&&(a="["+E(L(a),/^Symbol\(([^)]*)\)/,"$1")+"]"),u&&u.getter&&(a="get "+a),u&&u.setter&&(a="set "+a),(!g(T,"name")||M&&T.name!==a)&&(D?H(T,"name",{value:a,configurable:!0}):T.name=a),F&&u&&g(u,"arity")&&T.length!==u.arity&&H(T,"length",{value:u.arity});try{u&&g(u,"constructor")&&u.constructor?D&&H(T,"prototype",{writable:!1}):T.prototype&&(T.prototype=void 0)}catch{}var c=N(T);return g(c,"source")||(c.source=R(it,typeof a=="string"?a:"")),T};Function.prototype.toString=O(function(){return m(this)&&j(this).source||I(this)},"toString")},3041:d=>{var C=Math.ceil,t=Math.floor;d.exports=Math.trunc||function(v){var m=+v;return(m>0?t:C)(m)}},50:(d,C,t)=>{var y=t(184),v=TypeError;d.exports=function(m){if(y(m))throw new v("The method doesn't accept regular expressions");return m}},3830:(d,C,t)=>{var y=t(8874),v=t(3944),m=t(8552),g=t(7467),D=t(845),M=t(2215),I=t(3511),x=">",N="<",j="prototype",L="script",H=I("IE_PROTO"),W=function(){},E=function(T){return N+L+x+T+N+"/"+L+x},R=function(T){T.write(E("")),T.close();var a=T.parentWindow.Object;return T=null,a},F=function(){var T=M("iframe"),a="java"+L+":",u;return T.style.display="none",D.appendChild(T),T.src=String(a),u=T.contentWindow.document,u.open(),u.write(E("document.F=Object")),u.close(),u.F},it,O=function(){try{it=new ActiveXObject("htmlfile")}catch{}O=typeof document<"u"?document.domain&&it?R(it):F():R(it);for(var T=m.length;T--;)delete O[j][m[T]];return O()};g[H]=!0,d.exports=Object.create||function(a,u){var c;return a!==null?(W[j]=y(a),c=new W,W[j]=null,c[H]=a):c=O(),u===void 0?c:v.f(c,u)}},3944:(d,C,t)=>{var y=t(5007),v=t(2268),m=t(8503),g=t(8874),D=t(7625),M=t(4254);C.f=y&&!v?Object.defineProperties:function(x,N){g(x);for(var j=D(N),L=M(N),H=L.length,W=0,E;H>W;)m.f(x,E=L[W++],j[E]);return x}},8503:(d,C,t)=>{var y=t(5007),v=t(2470),m=t(2268),g=t(8874),D=t(3164),M=TypeError,I=Object.defineProperty,x=Object.getOwnPropertyDescriptor,N="enumerable",j="configurable",L="writable";C.f=y?m?function(W,E,R){if(g(W),E=D(E),g(R),typeof W=="function"&&E==="prototype"&&"value"in R&&L in R&&!R[L]){var F=x(W,E);F&&F[L]&&(W[E]=R.value,R={configurable:j in R?R[j]:F[j],enumerable:N in R?R[N]:F[N],writable:!1})}return I(W,E,R)}:I:function(W,E,R){if(g(W),E=D(E),g(R),v)try{return I(W,E,R)}catch{}if("get"in R||"set"in R)throw new M("Accessors not supported");return"value"in R&&(W[E]=R.value),W}},3037:(d,C,t)=>{var y=t(5007),v=t(2977),m=t(6251),g=t(4238),D=t(7625),M=t(3164),I=t(2623),x=t(2470),N=Object.getOwnPropertyDescriptor;C.f=y?N:function(L,H){if(L=D(L),H=M(H),x)try{return N(L,H)}catch{}if(I(L,H))return g(!v(m.f,L,H),L[H])}},5974:(d,C,t)=>{var y=t(7862),v=t(8552),m=v.concat("length","prototype");C.f=Object.getOwnPropertyNames||function(D){return y(D,m)}},1526:(d,C)=>{C.f=Object.getOwnPropertySymbols},8059:(d,C,t)=>{var y=t(2623),v=t(2539),m=t(6015),g=t(3511),D=t(6141),M=g("IE_PROTO"),I=Object,x=I.prototype;d.exports=D?I.getPrototypeOf:function(N){var j=m(N);if(y(j,M))return j[M];var L=j.constructor;return v(L)&&j instanceof L?L.prototype:j instanceof I?x:null}},7676:(d,C,t)=>{var y=t(4038);d.exports=y({}.isPrototypeOf)},7862:(d,C,t)=>{var y=t(4038),v=t(2623),m=t(7625),g=t(5644).indexOf,D=t(7467),M=y([].push);d.exports=function(I,x){var N=m(I),j=0,L=[],H;for(H in N)!v(D,H)&&v(N,H)&&M(L,H);for(;x.length>j;)v(N,H=x[j++])&&(~g(L,H)||M(L,H));return L}},4254:(d,C,t)=>{var y=t(7862),v=t(8552);d.exports=Object.keys||function(g){return y(g,v)}},6251:(d,C)=>{var t={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,v=y&&!t.call({1:2},1);C.f=v?function(g){var D=y(this,g);return!!D&&D.enumerable}:t},5502:(d,C,t)=>{var y=t(6589),v=t(8874),m=t(2162);d.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g=!1,D={},M;try{M=y(Object.prototype,"__proto__","set"),M(D,[]),g=D instanceof Array}catch{}return function(x,N){return v(x),m(N),g?M(x,N):x.__proto__=N,x}}():void 0)},7830:(d,C,t)=>{var y=t(5007),v=t(5202),m=t(4038),g=t(8059),D=t(4254),M=t(7625),I=t(6251).f,x=m(I),N=m([].push),j=y&&v(function(){var H=Object.create(null);return H[2]=2,!x(H,2)}),L=function(H){return function(W){for(var E=M(W),R=D(E),F=j&&g(E)===null,it=R.length,O=0,T=[],a;it>O;)a=R[O++],(!y||(F?a in E:x(E,a)))&&N(T,H?[a,E[a]]:E[a]);return T}};d.exports={entries:L(!0),values:L(!1)}},532:(d,C,t)=>{var y=t(2977),v=t(2539),m=t(3988),g=TypeError;d.exports=function(D,M){var I,x;if(M==="string"&&v(I=D.toString)&&!m(x=y(I,D))||v(I=D.valueOf)&&!m(x=y(I,D))||M!=="string"&&v(I=D.toString)&&!m(x=y(I,D)))return x;throw new g("Can't convert object to primitive value")}},3054:(d,C,t)=>{var y=t(7300),v=t(4038),m=t(5974),g=t(1526),D=t(8874),M=v([].concat);d.exports=y("Reflect","ownKeys")||function(x){var N=m.f(D(x)),j=g.f;return j?M(N,j(x)):N}},577:(d,C,t)=>{var y=t(730);d.exports=y},6373:(d,C,t)=>{var y=t(2219),v=TypeError;d.exports=function(m){if(y(m))throw new v("Can't call method on "+m);return m}},3506:(d,C,t)=>{var y=t(8503).f,v=t(2623),m=t(5485),g=m("toStringTag");d.exports=function(D,M,I){D&&!I&&(D=D.prototype),D&&!v(D,g)&&y(D,g,{configurable:!0,value:M})}},3511:(d,C,t)=>{var y=t(6568),v=t(2858),m=y("keys");d.exports=function(g){return m[g]||(m[g]=v(g))}},6838:(d,C,t)=>{var y=t(730),v=t(2136),m="__core-js_shared__",g=y[m]||v(m,{});d.exports=g},6568:(d,C,t)=>{var y=t(4708),v=t(6838);(d.exports=function(m,g){return v[m]||(v[m]=g!==void 0?g:{})})("versions",[]).push({version:"3.33.3",mode:y?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.3/LICENSE",source:"https://github.com/zloirock/core-js"})},6365:(d,C,t)=>{var y=t(4038),v=t(3550),m=t(2532),g=t(6373),D=y("".charAt),M=y("".charCodeAt),I=y("".slice),x=function(N){return function(j,L){var H=m(g(j)),W=v(L),E=H.length,R,F;return W<0||W>=E?N?"":void 0:(R=M(H,W),R<55296||R>56319||W+1===E||(F=M(H,W+1))<56320||F>57343?N?D(H,W):R:N?I(H,W,W+2):(R-55296<<10)+(F-56320)+65536)}};d.exports={codeAt:x(!1),charAt:x(!0)}},3370:(d,C,t)=>{var y=t(7626),v=t(5202),m=t(730),g=m.String;d.exports=!!Object.getOwnPropertySymbols&&!v(function(){var D=Symbol("symbol detection");return!g(D)||!(Object(D)instanceof Symbol)||!Symbol.sham&&y&&y<41})},7234:(d,C,t)=>{var y=t(3550),v=Math.max,m=Math.min;d.exports=function(g,D){var M=y(g);return M<0?v(M+D,0):m(M,D)}},7625:(d,C,t)=>{var y=t(6854),v=t(6373);d.exports=function(m){return y(v(m))}},3550:(d,C,t)=>{var y=t(3041);d.exports=function(v){var m=+v;return m!==m||m===0?0:y(m)}},3627:(d,C,t)=>{var y=t(3550),v=Math.min;d.exports=function(m){return m>0?v(y(m),9007199254740991):0}},6015:(d,C,t)=>{var y=t(6373),v=Object;d.exports=function(m){return v(y(m))}},634:(d,C,t)=>{var y=t(2977),v=t(3988),m=t(8820),g=t(3923),D=t(532),M=t(5485),I=TypeError,x=M("toPrimitive");d.exports=function(N,j){if(!v(N)||m(N))return N;var L=g(N,x),H;if(L){if(j===void 0&&(j="default"),H=y(L,N,j),!v(H)||m(H))return H;throw new I("Can't convert object to primitive value")}return j===void 0&&(j="number"),D(N,j)}},3164:(d,C,t)=>{var y=t(634),v=t(8820);d.exports=function(m){var g=y(m,"string");return v(g)?g:g+""}},1923:(d,C,t)=>{var y=t(5485),v=y("toStringTag"),m={};m[v]="z",d.exports=String(m)==="[object z]"},2532:(d,C,t)=>{var y=t(2702),v=String;d.exports=function(m){if(y(m)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v(m)}},7471:d=>{var C=String;d.exports=function(t){try{return C(t)}catch{return"Object"}}},2858:(d,C,t)=>{var y=t(4038),v=0,m=Math.random(),g=y(1 .toString);d.exports=function(D){return"Symbol("+(D===void 0?"":D)+")_"+g(++v+m,36)}},3713:(d,C,t)=>{var y=t(3370);d.exports=y&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},2268:(d,C,t)=>{var y=t(5007),v=t(5202);d.exports=y&&v(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2543:(d,C,t)=>{var y=t(730),v=t(2539),m=y.WeakMap;d.exports=v(m)&&/native code/.test(String(m))},5485:(d,C,t)=>{var y=t(730),v=t(6568),m=t(2623),g=t(2858),D=t(3370),M=t(3713),I=y.Symbol,x=v("wks"),N=M?I.for||I:I&&I.withoutSetter||g;d.exports=function(j){return m(x,j)||(x[j]=D&&m(I,j)?I[j]:N("Symbol."+j)),x[j]}},5445:(d,C,t)=>{var y=t(2189),v=t(9236),m=t(2572);y({target:"Array",proto:!0},{fill:v}),m("fill")},6272:(d,C,t)=>{var y=t(2189),v=t(8459),m=t(3346),g=!m(function(D){Array.from(D)});y({target:"Array",stat:!0,forced:g},{from:v})},2947:(d,C,t)=>{var y=t(2189),v=t(7830).values;y({target:"Object",stat:!0},{values:function(g){return v(g)}})},538:(d,C,t)=>{var y=t(2189),v=t(6192),m=t(3037).f,g=t(3627),D=t(2532),M=t(50),I=t(6373),x=t(6775),N=t(4708),j=v("".endsWith),L=v("".slice),H=Math.min,W=x("endsWith"),E=!N&&!W&&!!function(){var R=m(String.prototype,"endsWith");return R&&!R.writable}();y({target:"String",proto:!0,forced:!E&&!W},{endsWith:function(F){var it=D(I(this));M(F);var O=arguments.length>1?arguments[1]:void 0,T=it.length,a=O===void 0?T:H(g(O),T),u=D(F);return j?j(it,u,a):L(it,a-u.length,a)===u}})},9477:(d,C,t)=>{var y=t(6365).charAt,v=t(2532),m=t(5378),g=t(3174),D=t(3585),M="String Iterator",I=m.set,x=m.getterFor(M);g(String,"String",function(N){I(this,{type:M,string:v(N),index:0})},function(){var j=x(this),L=j.string,H=j.index,W;return H>=L.length?D(void 0,!0):(W=y(L,H),j.index+=W.length,D(W,!1))})},9731:(d,C,t)=>{var y=t(2327);d.exports=y},4401:(d,C,t)=>{var y=t(3274);d.exports=y},3661:(d,C,t)=>{var y=t(5339);d.exports=y},5606:(d,C,t)=>{var y=t(1189);d.exports=y}},A={};function X(d){var C=A[d];if(C!==void 0)return C.exports;var t=A[d]={id:d,loaded:!1,exports:{}};return n[d].call(t.exports,t,t.exports,X),t.loaded=!0,t.exports}X.n=d=>{var C=d&&d.__esModule?()=>d.default:()=>d;return X.d(C,{a:C}),C},X.d=(d,C)=>{for(var t in C)X.o(C,t)&&!X.o(d,t)&&Object.defineProperty(d,t,{enumerable:!0,get:C[t]})},X.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),X.o=(d,C)=>Object.prototype.hasOwnProperty.call(d,C),X.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},X.nmd=d=>(d.paths=[],d.children||(d.children=[]),d);var Et={};return(()=>{X.d(Et,{default:()=>da}),X(1019),X(5142),X(1183),X(2570);var d=X(2432),C=X(715),t=X(4048),y=X(1233);function v(p){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},v(p)}function m(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function g(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,M(ft.key),ft)}}function D(p,h,rt){return h&&g(p.prototype,h),Object.defineProperty(p,"prototype",{writable:!1}),p}function M(p){var h=I(p,"string");return v(h)==="symbol"?h:String(h)}function I(p,h){if(v(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(v(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function x(){return typeof Reflect<"u"&&Reflect.get?x=Reflect.get.bind():x=function(h,rt,ft){var Ot=N(h,rt);if(Ot){var Dt=Object.getOwnPropertyDescriptor(Ot,rt);return Dt.get?Dt.get.call(arguments.length<3?h:ft):Dt.value}},x.apply(this,arguments)}function N(p,h){for(;!Object.prototype.hasOwnProperty.call(p,h)&&(p=F(p),p!==null););return p}function j(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&L(p,h)}function L(p,h){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},L(p,h)}function H(p){var h=R();return function(){var ft=F(p),Ot;if(h){var Dt=F(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return W(this,Ot)}}function W(p,h){if(h&&(v(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(p)}function E(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function F(p){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},F(p)}var it=function(p){j(rt,p);var h=H(rt);function rt(){return m(this,rt),h.apply(this,arguments)}return D(rt,[{key:"add",value:function(Ot,Dt){if(Dt==="+1"||Dt==="-1"){var ye=this.value(Ot)||0;Dt=Dt==="+1"?ye+1:ye-1}return Dt===0?(this.remove(Ot),!0):x(F(rt.prototype),"add",this).call(this,Ot,Dt)}},{key:"canAdd",value:function(Ot,Dt){return x(F(rt.prototype),"canAdd",this).call(this,Ot,Dt)||x(F(rt.prototype),"canAdd",this).call(this,Ot,parseInt(Dt,10))}},{key:"value",value:function(Ot){return parseInt(x(F(rt.prototype),"value",this).call(this,Ot),10)||void 0}}]),rt}(y.ClassAttributor),O=new it("indent","ql-indent",{scope:y.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});const T=O;var a=X(6446);function u(p){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},u(p)}function c(p,h,rt){return Object.defineProperty(p,"prototype",{writable:!1}),p}function _(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function B(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&k(p,h)}function k(p,h){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},k(p,h)}function $(p){var h=ht();return function(){var ft=dt(p),Ot;if(h){var Dt=dt(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return J(this,Ot)}}function J(p,h){if(h&&(u(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(p)}function ut(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function ht(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dt(p){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},dt(p)}var nt=function(p){B(rt,p);var h=$(rt);function rt(){return _(this,rt),h.apply(this,arguments)}return c(rt)}(a.ZP);nt.blotName="blockquote",nt.tagName="blockquote";const _t=nt;function Z(p){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Z(p)}function vt(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function tt(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,U(ft.key),ft)}}function lt(p,h,rt){return rt&&tt(p,rt),Object.defineProperty(p,"prototype",{writable:!1}),p}function U(p){var h=w(p,"string");return Z(h)==="symbol"?h:String(h)}function w(p,h){if(Z(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(Z(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function V(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&Q(p,h)}function Q(p,h){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},Q(p,h)}function G(p){var h=Tt();return function(){var ft=et(p),Ot;if(h){var Dt=et(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return st(this,Ot)}}function st(p,h){if(h&&(Z(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mt(p)}function mt(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Tt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(p){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},et(p)}var Y=function(p){V(rt,p);var h=G(rt);function rt(){return vt(this,rt),h.apply(this,arguments)}return lt(rt,null,[{key:"formats",value:function(Ot){return this.tagName.indexOf(Ot.tagName)+1}}]),rt}(a.ZP);Y.blotName="header",Y.tagName=["H1","H2","H3","H4","H5","H6"];const K=Y;var at=X(3553),q=X(281);function ct(p){"@babel/helpers - typeof";return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},ct(p)}function pt(){return typeof Reflect<"u"&&Reflect.get?pt=Reflect.get.bind():pt=function(h,rt,ft){var Ot=S(h,rt);if(Ot){var Dt=Object.getOwnPropertyDescriptor(Ot,rt);return Dt.get?Dt.get.call(arguments.length<3?h:ft):Dt.value}},pt.apply(this,arguments)}function S(p,h){for(;!Object.prototype.hasOwnProperty.call(p,h)&&(p=Gt(p),p!==null););return p}function o(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,s(ft.key),ft)}}function i(p,h,rt){return h&&o(p.prototype,h),rt&&o(p,rt),Object.defineProperty(p,"prototype",{writable:!1}),p}function s(p){var h=b(p,"string");return ct(h)==="symbol"?h:String(h)}function b(p,h){if(ct(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(ct(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function z(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function yt(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&wt(p,h)}function wt(p,h){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},wt(p,h)}function jt(p){var h=Yt();return function(){var ft=Gt(p),Ot;if(h){var Dt=Gt(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return Ut(this,Ot)}}function Ut(p,h){if(h&&(ct(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vt(p)}function Vt(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Yt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gt(p){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},Gt(p)}var bt=function(p){yt(rt,p);var h=jt(rt);function rt(){return z(this,rt),h.apply(this,arguments)}return i(rt)}(at.Z);bt.blotName="list-container",bt.tagName="OL";var Pt=function(p){yt(rt,p);var h=jt(rt);function rt(ft,Ot){var Dt;z(this,rt),Dt=h.call(this,ft,Ot);var ye=Ot.ownerDocument.createElement("span"),Ai=function(xi){if(ft.isEnabled()){var Ri=Dt.statics.formats(Ot,ft);Ri==="checked"?(Dt.format("list","unchecked"),xi.preventDefault()):Ri==="unchecked"&&(Dt.format("list","checked"),xi.preventDefault())}};return ye.addEventListener("mousedown",Ai),ye.addEventListener("touchstart",Ai),Dt.attachUI(ye),Dt}return i(rt,[{key:"format",value:function(Ot,Dt){Ot===this.statics.blotName&&Dt?this.domNode.setAttribute("data-list",Dt):pt(Gt(rt.prototype),"format",this).call(this,Ot,Dt)}}],[{key:"create",value:function(Ot){var Dt=pt(Gt(rt),"create",this).call(this);return Dt.setAttribute("data-list",Ot),Dt}},{key:"formats",value:function(Ot){return Ot.getAttribute("data-list")||void 0}},{key:"register",value:function(){q.ZP.register(bt)}}]),rt}(a.ZP);Pt.blotName="list",Pt.tagName="LI",bt.allowedChildren=[Pt],Pt.requiredContainer=bt;var Rt=X(7898),Nt=X(6039),Lt=X(5832),Ft=X(1629),Mt=X(3991);function $t(p){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},$t(p)}function zt(p,h,rt){return Object.defineProperty(p,"prototype",{writable:!1}),p}function te(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function ae(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&le(p,h)}function le(p,h){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},le(p,h)}function Ce(p){var h=St();return function(){var ft=Ct(p),Ot;if(h){var Dt=Ct(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return Oe(this,Ot)}}function Oe(p,h){if(h&&($t(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(p)}function gt(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function St(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ct(p){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},Ct(p)}var It=function(p){ae(rt,p);var h=Ce(rt);function rt(){return te(this,rt),h.apply(this,arguments)}return zt(rt)}(Mt.Z);It.blotName="italic",It.tagName=["EM","I"];const At=It;var xt=X(7256),kt=X(6603);function Kt(p){"@babel/helpers - typeof";return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Kt(p)}function Qt(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function re(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,ie(ft.key),ft)}}function ne(p,h,rt){return rt&&re(p,rt),Object.defineProperty(p,"prototype",{writable:!1}),p}function ie(p){var h=oe(p,"string");return Kt(h)==="symbol"?h:String(h)}function oe(p,h){if(Kt(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(Kt(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function Se(){return typeof Reflect<"u"&&Reflect.get?Se=Reflect.get.bind():Se=function(h,rt,ft){var Ot=Xe(h,rt);if(Ot){var Dt=Object.getOwnPropertyDescriptor(Ot,rt);return Dt.get?Dt.get.call(arguments.length<3?h:ft):Dt.value}},Se.apply(this,arguments)}function Xe(p,h){for(;!Object.prototype.hasOwnProperty.call(p,h)&&(p=$e(p),p!==null););return p}function or(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&dr(p,h)}function dr(p,h){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},dr(p,h)}function We(p){var h=kr();return function(){var ft=$e(p),Ot;if(h){var Dt=$e(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return Te(this,Ot)}}function Te(p,h){if(h&&(Kt(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jr(p)}function jr(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function kr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $e(p){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},$e(p)}var pr=function(p){or(rt,p);var h=We(rt);function rt(){return Qt(this,rt),h.apply(this,arguments)}return ne(rt,null,[{key:"create",value:function(Ot){return Ot==="super"?document.createElement("sup"):Ot==="sub"?document.createElement("sub"):Se($e(rt),"create",this).call(this,Ot)}},{key:"formats",value:function(Ot){if(Ot.tagName==="SUB")return"sub";if(Ot.tagName==="SUP")return"super"}}]),rt}(kt.Z);pr.blotName="script",pr.tagName=["SUB","SUP"];const Hr=pr;function be(p){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},be(p)}function Fr(p,h,rt){return Object.defineProperty(p,"prototype",{writable:!1}),p}function ar(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function vr(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&mr(p,h)}function mr(p,h){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},mr(p,h)}function lr(p){var h=sr();return function(){var ft=Ae(p),Ot;if(h){var Dt=Ae(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return Qe(this,Ot)}}function Qe(p,h){if(h&&(be(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wr(p)}function wr(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function sr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ae(p){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},Ae(p)}var Ke=function(p){vr(rt,p);var h=lr(rt);function rt(){return ar(this,rt),h.apply(this,arguments)}return Fr(rt)}(Mt.Z);Ke.blotName="strike",Ke.tagName=["S","STRIKE"];const Ur=Ke;function yr(p){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},yr(p)}function Wr(p,h,rt){return Object.defineProperty(p,"prototype",{writable:!1}),p}function $r(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function Kr(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&ze(p,h)}function ze(p,h){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},ze(p,h)}function gr(p){var h=xr();return function(){var ft=je(p),Ot;if(h){var Dt=je(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return Ye(this,Ot)}}function Ye(p,h){if(h&&(yr(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(p)}function Ar(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function xr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function je(p){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},je(p)}var Je=function(p){Kr(rt,p);var h=gr(rt);function rt(){return $r(this,rt),h.apply(this,arguments)}return Wr(rt)}(kt.Z);Je.blotName="underline",Je.tagName="U";const zr=Je;var Zr=X(7452),tr=X(8034);function Ze(p){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Ze(p)}function Vr(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function Ve(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,ke(ft.key),ft)}}function Re(p,h,rt){return h&&Ve(p.prototype,h),rt&&Ve(p,rt),Object.defineProperty(p,"prototype",{writable:!1}),p}function ke(p){var h=He(p,"string");return Ze(h)==="symbol"?h:String(h)}function He(p,h){if(Ze(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(Ze(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function ur(){return typeof Reflect<"u"&&Reflect.get?ur=Reflect.get.bind():ur=function(h,rt,ft){var Ot=Ie(h,rt);if(Ot){var Dt=Object.getOwnPropertyDescriptor(Ot,rt);return Dt.get?Dt.get.call(arguments.length<3?h:ft):Dt.value}},ur.apply(this,arguments)}function Ie(p,h){for(;!Object.prototype.hasOwnProperty.call(p,h)&&(p=Me(p),p!==null););return p}function Gr(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&br(p,h)}function br(p,h){return br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},br(p,h)}function qr(p){var h=Ee();return function(){var ft=Me(p),Ot;if(h){var Dt=Me(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return cr(this,Ot)}}function cr(p,h){if(h&&(Ze(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fr(p)}function fr(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Ee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Me(p){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},Me(p)}var er=function(p){Gr(rt,p);var h=qr(rt);function rt(){return Vr(this,rt),h.apply(this,arguments)}return Re(rt,[{key:"html",value:function(){var Ot=this.value(),Dt=Ot.formula;return"<span>".concat(Dt,"</span>")}}],[{key:"create",value:function(Ot){var Dt=null;if((0,tr.Z)()&&(Dt=window.katex),Dt==null)throw new Error("Formula module requires KaTeX.");var ye=ur(Me(rt),"create",this).call(this,Ot);return typeof Ot=="string"&&(Dt.render(Ot,ye,{throwOnError:!1,errorColor:"#f00"}),ye.setAttribute("data-value",Ot)),ye}},{key:"value",value:function(Ot){return Ot.getAttribute("data-value")}}]),rt}(Zr.Z);er.blotName="formula",er.className="ql-formula",er.tagName="SPAN";const rr=er;function Ne(p){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Ne(p)}function nr(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function De(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,_r(ft.key),ft)}}function Ge(p,h,rt){return h&&De(p.prototype,h),rt&&De(p,rt),Object.defineProperty(p,"prototype",{writable:!1}),p}function _r(p){var h=Or(p,"string");return Ne(h)==="symbol"?h:String(h)}function Or(p,h){if(Ne(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(Ne(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function Pe(){return typeof Reflect<"u"&&Reflect.get?Pe=Reflect.get.bind():Pe=function(h,rt,ft){var Ot=Er(h,rt);if(Ot){var Dt=Object.getOwnPropertyDescriptor(Ot,rt);return Dt.get?Dt.get.call(arguments.length<3?h:ft):Dt.value}},Pe.apply(this,arguments)}function Er(p,h){for(;!Object.prototype.hasOwnProperty.call(p,h)&&(p=ot(p),p!==null););return p}function Cr(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&Tr(p,h)}function Tr(p,h){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},Tr(p,h)}function Rr(p){var h=P();return function(){var ft=ot(p),Ot;if(h){var Dt=ot(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return f(this,Ot)}}function f(p,h){if(h&&(Ne(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(p)}function l(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ot(p){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},ot(p)}var Bt=["alt","height","width"],Ht=function(p){Cr(rt,p);var h=Rr(rt);function rt(){return nr(this,rt),h.apply(this,arguments)}return Ge(rt,[{key:"format",value:function(Ot,Dt){Bt.indexOf(Ot)>-1?Dt?this.domNode.setAttribute(Ot,Dt):this.domNode.removeAttribute(Ot):Pe(ot(rt.prototype),"format",this).call(this,Ot,Dt)}}],[{key:"create",value:function(Ot){var Dt=Pe(ot(rt),"create",this).call(this,Ot);return typeof Ot=="string"&&Dt.setAttribute("src",this.sanitize(Ot)),Dt}},{key:"formats",value:function(Ot){return Bt.reduce(function(Dt,ye){return Ot.hasAttribute(ye)&&(Dt[ye]=Ot.getAttribute(ye)),Dt},{})}},{key:"match",value:function(Ot){return/\.(jpe?g|gif|png)$/.test(Ot)||/^data:image\/.+;base64/.test(Ot)}},{key:"register",value:function(){(0,tr.Z)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(Ot){return(0,xt.N)(Ot,["http","https","data"])?Ot:"//:0"}},{key:"value",value:function(Ot){return Ot.getAttribute("src")}}]),rt}(y.EmbedBlot);Ht.blotName="image",Ht.tagName="IMG";const Xt=Ht;function Zt(p){"@babel/helpers - typeof";return Zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Zt(p)}function ee(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function Jt(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,he(ft.key),ft)}}function fe(p,h,rt){return h&&Jt(p.prototype,h),rt&&Jt(p,rt),Object.defineProperty(p,"prototype",{writable:!1}),p}function he(p){var h=pe(p,"string");return Zt(h)==="symbol"?h:String(h)}function pe(p,h){if(Zt(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(Zt(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function ve(){return typeof Reflect<"u"&&Reflect.get?ve=Reflect.get.bind():ve=function(h,rt,ft){var Ot=me(h,rt);if(Ot){var Dt=Object.getOwnPropertyDescriptor(Ot,rt);return Dt.get?Dt.get.call(arguments.length<3?h:ft):Dt.value}},ve.apply(this,arguments)}function me(p,h){for(;!Object.prototype.hasOwnProperty.call(p,h)&&(p=Xr(p),p!==null););return p}function Fe(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&Ue(p,h)}function Ue(p,h){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},Ue(p,h)}function Sr(p){var h=rn();return function(){var ft=Xr(p),Ot;if(h){var Dt=Xr(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return En(this,Ot)}}function En(p,h){if(h&&(Zt(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(p)}function en(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function rn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xr(p){return Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},Xr(p)}var gi=["height","width"],Cn=function(p){Fe(rt,p);var h=Sr(rt);function rt(){return ee(this,rt),h.apply(this,arguments)}return fe(rt,[{key:"format",value:function(Ot,Dt){gi.indexOf(Ot)>-1?Dt?this.domNode.setAttribute(Ot,Dt):this.domNode.removeAttribute(Ot):ve(Xr(rt.prototype),"format",this).call(this,Ot,Dt)}},{key:"html",value:function(){var Ot=this.value(),Dt=Ot.video;return'<a href="'.concat(Dt,'">').concat(Dt,"</a>")}}],[{key:"create",value:function(Ot){var Dt=ve(Xr(rt),"create",this).call(this,Ot);return Dt.setAttribute("frameborder","0"),Dt.setAttribute("allowfullscreen",!0),Dt.setAttribute("src",this.sanitize(Ot)),Dt}},{key:"formats",value:function(Ot){return gi.reduce(function(Dt,ye){return Ot.hasAttribute(ye)&&(Dt[ye]=Ot.getAttribute(ye)),Dt},{})}},{key:"sanitize",value:function(Ot){return xt.Z.sanitize(Ot)}},{key:"value",value:function(Ot){return Ot.getAttribute("src")}}]),rt}(a.i2);Cn.blotName="video",Cn.className="ql-video",Cn.tagName="IFRAME";const jo=Cn;var bi=X(7309),ko=X(9072),_i=X(867),Ho=X(9098),Oi=X.n(Ho);function nn(p){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},nn(p)}function Fo(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function Ei(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,Wo(ft.key),ft)}}function Uo(p,h,rt){return h&&Ei(p.prototype,h),rt&&Ei(p,rt),Object.defineProperty(p,"prototype",{writable:!1}),p}function Wo(p){var h=$o(p,"string");return nn(h)==="symbol"?h:String(h)}function $o(p,h){if(nn(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h);if(nn(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}function Ko(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&Un(p,h)}function Un(p,h){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},Un(p,h)}function zo(p){var h=Go();return function(){var ft=Tn(p),Ot;if(h){var Dt=Tn(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return Zo(this,Ot)}}function Zo(p,h){if(h&&(nn(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vo(p)}function Vo(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function Go(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tn(p){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},Tn(p)}var Wn=function(p){Ko(rt,p);var h=zo(rt);function rt(){return Fo(this,rt),h.apply(this,arguments)}return Uo(rt,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return`
`}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return`
`}}]),rt}(y.EmbedBlot);Wn.blotName="multilineBreak",Wn.tagName="BR";const qo=Wn;var Xo=X(7094);function on(p){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},on(p)}function Qo(p,h,rt){return h=Ci(h),h in p?Object.defineProperty(p,h,{value:rt,enumerable:!0,configurable:!0,writable:!0}):p[h]=rt,p}function Yo(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function Jo(p,h){for(var rt=0;rt<h.length;rt++){var ft=h[rt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(p,Ci(ft.key),ft)}}function ta(p,h,rt){return h&&Jo(p.prototype,h),Object.defineProperty(p,"prototype",{writable:!1}),p}function Ci(p){var h=ea(p,"string");return on(h)==="symbol"?h:String(h)}function ea(p,h){if(on(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h||"default");if(on(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(p)}function ra(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&$n(p,h)}function $n(p,h){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,Ot){return ft.__proto__=Ot,ft},$n(p,h)}function na(p){var h=oa();return function(){var ft=Sn(p),Ot;if(h){var Dt=Sn(this).constructor;Ot=Reflect.construct(ft,arguments,Dt)}else Ot=ft.apply(this,arguments);return ia(this,Ot)}}function ia(p,h){if(h&&(on(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(p)}function Ti(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function oa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sn(p){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},Sn(p)}function aa(p){return!p.nextSibling&&!p.previousSibling?new(Oi())().insert(`
`):new(Oi())().insert({multilineBreak:""})}var la=function(p){ra(rt,p);var h=na(rt);function rt(ft,Ot){var Dt;Yo(this,rt);var ye="blots/multilineBreak";return Dt=h.call(this,ft,Ot),q.ZP.register(Qo({},ye,qo),!0),ft.keyboard.addBinding({key:"enter",shiftKey:!0},Dt.enterHandler.bind(Ti(Dt))),ft.keyboard.bindings.enter.unshift(ft.keyboard.bindings.enter.pop()),ft.clipboard.addMatcher("BR",aa),Dt}return ta(rt,[{key:"enterHandler",value:function(Ot){var Dt=this.quill.getLeaf(Ot.index)[0],ye=this.quill.getLeaf(Ot.index+1)[0];this.quill.insertEmbed(Ot.index,"multilineBreak",!0,"user"),(ye===null||Dt.parent!==ye.parent)&&this.quill.insertEmbed(Ot.index,"multilineBreak",!0,"user"),this.quill.setSelection(Ot.index+1,q.ZP.sources.SILENT)}}]),rt}(Xo.Z);const sa=la;var ua=X(6054),Si=X(1342),Pi=X(319);function un(p){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},un(p)}function wi(p,h){var rt=Object.keys(p);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(p);h&&(ft=ft.filter(function(Ot){return Object.getOwnPropertyDescriptor(p,Ot).enumerable})),rt.push.apply(rt,ft)}return rt}function Pn(p){for(var h=1;h<arguments.length;h++){var rt=arguments[h]!=null?arguments[h]:{};h%2?wi(Object(rt),!0).forEach(function(ft){ca(p,ft,rt[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(rt)):wi(Object(rt)).forEach(function(ft){Object.defineProperty(p,ft,Object.getOwnPropertyDescriptor(rt,ft))})}return p}function ca(p,h,rt){return h=fa(h),h in p?Object.defineProperty(p,h,{value:rt,enumerable:!0,configurable:!0,writable:!0}):p[h]=rt,p}function fa(p){var h=ha(p,"string");return un(h)==="symbol"?h:String(h)}function ha(p,h){if(un(p)!=="object"||p===null)return p;var rt=p[Symbol.toPrimitive];if(rt!==void 0){var ft=rt.call(p,h||"default");if(un(ft)!=="object")return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(p)}function wn(p,h){return h.reduce(function(rt,ft){var Ot="".concat(p).concat(ft.attrName);return rt[Ot]=ft,rt},{})}d.default.register(Pn(Pn(Pn(Pn({"attributors/attribute/direction":t.IF},wn("attributors/attribute/",Pi.Qu)),wn("attributors/attribute/",Si.yA)),{},{"attributors/class/align":C.dk,"attributors/class/background":Rt.Y,"attributors/class/color":Nt.Hn,"attributors/class/direction":t.hY,"attributors/class/font":Lt._,"attributors/class/size":Ft.m,"attributors/style/align":C.HE,"attributors/style/background":Rt.w,"attributors/style/color":Nt.HQ,"attributors/style/direction":t.H8,"attributors/style/font":Lt.H,"attributors/style/size":Ft.Z},wn("attributors/style/",Pi.VT)),wn("attributors/style/",Si.kk)),!0),d.default.register({"formats/align":C.dk,"formats/direction":t.hY,"formats/indent":T,"formats/background":Rt.w,"formats/color":Nt.HQ,"formats/font":Lt._,"formats/size":Ft.m,"formats/blockquote":_t,"formats/code-block":bi.ZP,"formats/header":K,"formats/list":Pt,"formats/bold":Mt.Z,"formats/code":bi.EK,"formats/italic":At,"formats/link":xt.Z,"formats/script":Hr,"formats/strike":Ur,"formats/underline":zr,"formats/formula":rr,"formats/image":Xt,"formats/video":jo,"tableModules/lite":ua.Z,"tableModules/main":_i.Z,"modules/syntax":ko.ZP,"modules/multiline":sa,"modules/table":_i.Z},!0);const da=d.default})(),Et=Et.default,Et})())}(Bn)),Bn.exports}var Xa=qa();const ce=pa(Xa);function fo(){if(!ce)throw ci.Error("E1041","Quill");return ce}var ni;if(ce){var Qa=ce.import("core/theme");ni=class extends Qa{constructor(r,e){super(r,e),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox")}}}else ni={};const Ya=ni;var ii={};if(ce){var Ja=ce.import("formats/image");ii=class extends Ja{static create(r){var e=r&&r.src||r,n=super.create(e);if(Yr(r)){var A=(X,Et)=>{r[X]&&n.setAttribute(X,Et)};A("alt",r.alt),A("width",r.width),A("height",r.height)}return n}static formats(r){var e=super.formats(r);return e.imageSrc=r.getAttribute("src"),e}formats(){var r=super.formats(),e=this.domNode.style.float;return e&&(r.float=e),r}format(r,e){r==="float"?this.domNode.style[r]=e:super.format(r,e)}static value(r){return{src:r.getAttribute("src"),width:r.getAttribute("width"),height:r.getAttribute("height"),alt:r.getAttribute("alt")}}},ii.blotName="extendedImage"}const tl=ii;var ho={};if(ce){var el=ce.import("formats/link");ho=class po extends el{static create(e){var n,A=(n=e==null?void 0:e.href)!==null&&n!==void 0?n:e,X=super.create(A);return Yr(e)&&(e.text&&(X.innerText=e.text),e.target||X.removeAttribute("target")),X}static formats(e){return{href:e.getAttribute("href"),target:e.getAttribute("target")}}formats(){var e=super.formats(),{href:n,target:A}=po.formats(this.domNode);return e.link=n,e.target=A,e}format(e,n){e==="link"&&Yr(n)?(n.text&&(this.domNode.innerText=n.text),n.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",n.href)):super.format(e,n)}static value(e){return{href:e.getAttribute("href"),text:e.innerText,target:!!e.getAttribute("target")}}}}const rl=ho;var oi={};ce&&(oi=ce.import("attributors/style/font"),oi.whitelist=null);const nl=oi;var ai={};ce&&(ai=ce.import("attributors/style/size"),ai.whitelist=null);const il=ai;var li={};ce&&(li=ce.import("attributors/style/align"),li.whitelist.push("left"));const ol=li;class al{}var vo=al;if(ce){var ll=ce.import("core/module");vo=class extends ll{constructor(r,e){super(r,e),this.editorInstance=e.editorInstance}saveValueChangeEvent(r){this.editorInstance._saveValueChangeEvent(r)}addCleanCallback(r){this.editorInstance.addCleanCallback(r)}handleOptionChangeValue(r){Yr(r)?Object.entries(r).forEach(e=>{var[n,A]=e;return this.option(n,A)}):ge(r)||this===null||this===void 0||this.clean()}}}const Le=vo;var sl="dx-colorview",ul="dx-colorview-container",Rn="dx-colorview-container-row",cl="dx-colorview-container-cell",fl="dx-colorview-palette",hl="dx-colorview-palette-cell",dl="dx-colorview-palette-handle",ki="dx-colorview-palette-gradient",pl="dx-colorview-palette-gradient-white",vl="dx-colorview-palette-gradient-black",ml="dx-colorview-hue-scale",yl="dx-colorview-hue-scale-cell",gl="dx-colorview-hue-scale-handle",bl="dx-colorview-hue-scale-wrapper",_l="dx-colorview-controls-container",Ol="dx-colorview-label-red",El="dx-colorview-label-green",Cl="dx-colorview-label-blue",Tl="dx-colorview-label-hex",Sl="dx-colorview-alpha-channel-scale",Pl="dx-colorview-alpha-channel-row",wl="dx-colorview-alpha-channel-wrapper",Al="dx-colorview-alpha-channel-label",xl="dx-colorview-alpha-channel-handle",Rl="dx-colorview-alpha-channel-cell",Il="dx-colorview-alpha-channel-border",Hi="dx-colorview-color-preview",Nl="dx-colorview-color-preview-container",Ll="dx-colorview-color-preview-container-inner",Ml="dx-colorview-color-preview-color-current",Dl="dx-colorview-color-preview-color-new",zn="#000000",di=io.inherit({_supportedKeys:function(){var r=this.option("rtlEnabled"),e=this,n=function(m){var g=100/e._paletteWidth;return m.shiftKey&&(g*=e.option("keyStep")),g=g>1?g:1,Math.round(g)},A=function(m){var g=e._currentColor.hsv.s+m;g>100?g=100:g<0&&(g=0),e._currentColor.hsv.s=g,d()},X=function(m){var g=100/e._paletteHeight;return m.shiftKey&&(g*=e.option("keyStep")),g=g>1?g:1,Math.round(g)},Et=function(m){var g=e._currentColor.hsv.v+m;g>100?g=100:g<0&&(g=0),e._currentColor.hsv.v=g,d()};function d(){e._placePaletteHandle(),e._updateColorFromHsv(e._currentColor.hsv.h,e._currentColor.hsv.s,e._currentColor.hsv.v)}var C=function(m){var g=360/(e._hueScaleWrapperHeight-e._hueScaleHandleHeight);return m.shiftKey&&(g*=e.option("keyStep")),g=g>1?g:1,g},t=function(m){e._currentColor.hsv.h+=m,e._placeHueScaleHandle();var g=cn(e._$hueScaleHandle);e._updateColorHue(g.top+e._hueScaleHandleHeight/2)},y=function(m){var g=1/e._alphaChannelScaleWorkWidth;return m.shiftKey&&(g*=e.option("keyStep")),g=g>.01?g:.01,g=r?-g:g,g},v=function(m){e._currentColor.a+=m,e._placeAlphaChannelHandle();var g=cn(e._$alphaChannelHandle);e._calculateColorTransparencyByScaleWidth(g.left+e._alphaChannelHandleWidth/2)};return ue(this.callBase(),{upArrow:function(m){m.preventDefault(),m.stopPropagation(),An(m)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(m),t(C(m))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(m),Et(X(m)))},downArrow:function(m){m.preventDefault(),m.stopPropagation(),An(m)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(m),t(-C(m))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(m),Et(-X(m)))},rightArrow:function(m){m.preventDefault(),m.stopPropagation(),An(m)?(r?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(m),v(-y(m))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(m),A(n(m)))},leftArrow:function(m){m.preventDefault(),m.stopPropagation(),An(m)?(r?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(m),v(y(m))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(m),A(-n(m)))},enter:function(m){this._fireEnterKeyPressed(m)}})},_getDefaultOptions:function(){return ue(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return sn.real().deviceType==="desktop"&&!sn.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(r){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:r})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(r){r=r||zn;var e=new ir(r);e.colorIsInvalid?(this._currentColor||(this._currentColor=new ir(zn)),this.option("value",this._currentColor.baseColor)):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(e))&&(this._currentColor=e,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,e))},_setBaseColor:function(r){var e=r||zn,n=new ir(e);if(!n.colorIsInvalid){var A=this._makeRgba(this.option("matchValue")!==this._makeRgba(n));A&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,n)}},_initMarkup:function(){this.callBase(),this.$element().addClass(sl),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(r,e){e instanceof ir||(e=new ir(e)),r.css("backgroundColor",this._makeRgba(e))},_makeRgba:function(r){return r instanceof ir||(r=new ir(r)),"rgba("+[r.r,r.g,r.b,r.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var r=this.$element();this._$colorPickerContainer=Wt("<div>").addClass(ul).appendTo(r),this._renderHtmlRows()},_renderHtmlRows:function(r){var e=this._$colorPickerContainer.find("."+Rn),n=e.length,A=this.option("editAlphaChannel")?2:1,X=n-A;if(X>0&&e.eq(-1).remove(),X<0){X=Math.abs(X);var Et=[],d;for(d=0;d<X;d++)Et.push(Wt("<div>").addClass(Rn));if(n)for(d=0;d<Et.length;d++)e.eq(0).after(Et[d]);else this._$colorPickerContainer.append(Et)}},_renderHtmlCellInsideRow:function(r,e,n){return Wt("<div>").addClass(cl).addClass(n).appendTo(e.find("."+Rn).eq(r))},_renderPalette:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,hl),e=Wt("<div>").addClass([ki,pl].join(" ")),n=Wt("<div>").addClass([ki,vl].join(" "));this._$palette=Wt("<div>").addClass(fl).css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(r),this._paletteHeight=Mr(this._$palette),this._paletteWidth=Dr(this._$palette),this._renderPaletteHandle(),this._$palette.append([e,n])},_renderPaletteHandle:function(){this._$paletteHandle=Wt("<div>").addClass(dl).appendTo(this._$palette),this._createComponent(this._$paletteHandle,Ln,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:(function(){return-this._paletteHandleHeight/2}).bind(this),onDragMove:r=>{var{event:e}=r,n=cn(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(e),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(n),this._calculateColorValue(n))}}),this._paletteHandleWidth=Dr(this._$paletteHandle),this._paletteHandleHeight=Mr(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){vn(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(r){var e=Math.floor(r.top+this._paletteHandleHeight/2);return 100-Math.round(100*e/this._paletteHeight)},_calculateColorSaturation:function(r){var e=Math.floor(r.left+this._paletteHandleWidth/2);return Math.round(100*e/this._paletteWidth)},_updateColorFromHsv:function(r,e,n){var A=this._currentColor.a;this._currentColor=new ir("hsv("+[r,e,n].join(",")+")"),this._currentColor.a=A,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,yl);this._$hueScaleWrapper=Wt("<div>").addClass(bl).appendTo(r),this._$hueScale=Wt("<div>").addClass(ml).appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Mr(this._$hueScale),this._hueScaleWrapperHeight=Pr(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._$hueScaleHandle=Wt("<div>").addClass(gl).appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,Ln,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:r=>{var{event:e}=r;this._updateByDrag=!0,this._saveValueChangeEvent(e),this._updateColorHue(cn(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Mr(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var r=this._hueScaleWrapperHeight,e=this._hueScaleHandleHeight,n=(r-e)*(360-this._currentColor.hsv.h)/360;r<n+e&&(n=r-e),n<0&&(n=0),vn(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue:function(r){var e=360-Math.round(360*(r-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,A=this._currentColor.hsv.v;this._isTopColorHue=!1,e=e<0?0:e,e>=360&&(this._isTopColorHue=!0,e=0),this._updateColorFromHsv(e,n,A),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Wt("<div>").addClass(_l).appendTo(r)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var r=Wt("<div>").addClass(Nl).appendTo(this._$controlsContainer),e=Wt("<div>").addClass(Ll).appendTo(r);this._$currentColor=Wt("<div>").addClass([Hi,Dl].join(" ")),this._$baseColor=Wt("<div>").addClass([Hi,Ml].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),e.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+Rn).eq(1).addClass(Pl),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:fn,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:qt.format("dxColorView-ariaRed"),labelClass:Ol}),this._renderEditorWithLabel({editorType:fn,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:qt.format("dxColorView-ariaGreen"),labelClass:El}),this._renderEditorWithLabel({editorType:fn,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:qt.format("dxColorView-ariaBlue"),labelClass:Cl})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(r){var e=Wt("<div>"),n=Wt("<label>").addClass(r.labelClass).text(r.labelText+":").append(e);de.off(n,Jn),de.on(n,Jn,function(d){d.preventDefault()});var A=r.editorType,X=ue({value:r.value,onValueChanged:r.onValueChanged,onKeyboardHandled:d=>this._keyboardHandler(d)},{stylingMode:this.option("stylingMode")});A===fn&&(X.min=r.min||0,X.max=r.max||255,X.step=r.step||1);var Et=new A(e,X);return Et.registerKeyHandler("enter",(function(d){this._fireEnterKeyPressed(d)}).bind(this)),this.setAria("label",r.labelAriaText,e),n},hexInputOptions:function(){return{editorType:ti,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:Tl,labelText:"#",labelAriaText:qt.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=ti.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"))},_renderAlphaChannelScale:function(){var r=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,Rl),e=Wt("<div>").addClass(Il).appendTo(r),n=Wt("<div>").addClass(wl).appendTo(e);this._$alphaChannelScale=Wt("<div>").addClass(Sl).appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(r)},_makeCSSLinearGradient:function(r){var e=this._currentColor,n="".concat(e.r,",").concat(e.g,",").concat(e.b),A=this.option("rtlEnabled"),X="rgba(".concat(n,", ").concat(A?"1":"0",")"),Et="rgba(".concat(n,", ").concat(A?"0":"1",")"),d="linear-gradient(-90deg, ".concat(X,", ").concat(Et,")");r.css("backgroundImage",d)},_renderAlphaChannelInput:function(){var r=this,e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);r._alphaChannelInput=this._renderEditorWithLabel({editorType:fn,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(n){var A=n.value;A=r._currentColor.isValidAlpha(A)?A:r._currentColor.a,n.event&&r._saveValueChangeEvent(n.event),r._updateColorTransparency(A),r._placeAlphaChannelHandle()},labelClass:Al,labelText:"Alpha",labelAriaText:qt.format("dxColorView-ariaAlpha")}).appendTo(e).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(r){this._currentColor.a=r,this.applyColor()},_renderAlphaChannelHandle:function(r){this._$alphaChannelHandle=Wt("<div>").addClass(xl).appendTo(r),this._createComponent(this._$alphaChannelHandle,Ln,{contentTemplate:null,boundary:r,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:e=>{var{event:n}=e;this._updateByDrag=!0;var A=this._$alphaChannelHandle,X=cn(A).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(n),this._calculateColorTransparencyByScaleWidth(X)}}),this._alphaChannelHandleWidth=Dr(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=Dr(r)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(r){var e=(r-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");e=n?e:1-e,r>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?e=n?1:0:e<1&&(e=e.toFixed(2));var A=this._alphaChannelInput.option("value");e=Math.max(e,0),e=Math.min(e,1),e===A?this._updateByDrag=!1:this._alphaChannelInput.option("value",e)},_placeAlphaChannelHandle:function(){var r=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);r<0&&(r=0),this._alphaChannelScaleWorkWidth<r&&(r=this._alphaChannelScaleWorkWidth),vn(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-r:r})},applyColor:function(){var r=this.option("value"),e=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),e===r?this._updateByDrag=!1:this.option("value",e)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(r,e){var n,A;r?A=this._validateHex("#"+this._hexInput.option("value")):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),A="rgba("+n.join(", ")+")"):A="rgb("+n.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new ir(A),this._saveValueChangeEvent(e.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(r){return this._currentColor.isValidHex(r)?r:this._currentColor.toHex()},_validateRgb:function(){var r=this._rgbInputs[0].option("value"),e=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(r,e,n)||(r=this._currentColor.r,e=this._currentColor.g,n=this._currentColor.b),[r,e,n]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(r){var e=r.value;switch(r.name){case"value":this._setCurrentColor(e),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(r);break;case"matchValue":this._setBaseColor(e);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(r)}}});fi("dxColorView",di);class Bl{constructor(){this._collection=[]}clear(){this._collection=[]}add(e,n){this._collection.push({name:e,instance:n})}remove(e){this._collection=this._collection.filter(n=>n.name!==e)}getByName(e){var n=null;return we(this._collection,(A,X)=>{var{name:Et,instance:d}=X;if(Et===e)return n=d,!1}),n}each(e){this._collection.forEach(n=>{var{name:A,instance:X}=n;return X&&e(A,X)})}}var jl=["table","tableHeaderCell"],kl=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function mo(r){var e=r.getModule("table");return e!=null&&e.tableFormats?e.tableFormats():jl}function Hl(r,e){return!!e&&r.quill.getText(e).length<e.length}function yn(r,e){var{tableBlot:n,quill:A}=e,X=n??A.scroll.find(r.get(0));X.format("tableWidth","initial")}function Fn(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("tr").eq(e).find("th, td")}function gn(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",n=[],A=e==="horizontal",X=A?Fn(r):pi(r);return X.each((Et,d)=>{var C=Wt(d);C.get(0).style[A?"width":"height"]===""&&n.push(C)}),n}function qe(r,e){var{elements:n,property:A,value:X}=e,Et=r.quill.getModule("table").tableBlots,d="cell".concat(Hn(A,!0));we(n,(C,t)=>{var y,v=r.quill.scroll.find(t);if(!Et.includes(v.statics.blotName)){var m=v.descendant(g=>Et.includes(g.statics.blotName));v=m?m[0]:null}(y=v)===null||y===void 0||y.format(d,X+"px")})}function hr(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"horizontal";return n==="horizontal"?pi(r,e):Fn(r,e)}function pi(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("th:nth-child(".concat(1+e,"), td:nth-child(").concat(1+e,")"))}function Ir(r,e){for(var n=arguments.length,A=new Array(n>2?n-2:0),X=2;X<n;X++)A[X-2]=arguments[X];return()=>{var Et=r.getModule("table");if(Et)return r.focus(),Et[e](...A)}}var On="dx-colorbox",yo=On+"-input",Fl=yo+"-container",Ul=On+"-color-result-preview",Fi=On+"-color-is-not-defined",Wl=On+"-overlay",$l="dx-colorview-container-cell",Kl="dx-colorview-button-cell",zl="dx-colorview-buttons-container",Zl="dx-colorview-apply-button",Vl="dx-colorview-cancel-button",In=di.prototype,Nr={makeTransparentBackground:In._makeTransparentBackground.bind(In),makeRgba:In._makeRgba.bind(In)},bn=va.inherit({_supportedKeys:function(){var r=function(e){if(e.stopPropagation(),this.option("opened"))return e.preventDefault(),!0};return ue(this.callBase(),{tab:function(e){if(this.option("opened")){var n=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();n&&(de.trigger(n,"focus"),n.select()),e.preventDefault()}},enter:this._enterKeyHandler,leftArrow:r,rightArrow:r,upArrow:function(e){return this.option("opened")?e.altKey?(this.close(),!1):!0:(e.preventDefault(),!1)},downArrow:function(e){return!this.option("opened")&&!e.altKey?(e.preventDefault(),!1):!this.option("opened")&&e.altKey?(this._validatedOpening(),!1):!0}})},_getDefaultOptions:function(){return ue(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),this.option("applyValueMode")==="useButtons"&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return ue(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var r=this._popup.bottomToolbar();r&&(r.addClass($l).addClass(Kl).find(".dx-toolbar-items-container").addClass(zl),r.find(".dx-popup-done").addClass(Zl),r.find(".dx-popup-cancel").addClass(Vl))},_createColorView:function(){this._popup.$overlayContent().addClass(Wl);var r=Wt("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(r,di,this._colorViewConfig()),this._colorView.registerKeyHandler("escape",this._escapeHandler.bind(this)),de.on(r,"focus",(function(){this.focus()}).bind(this))},_escapeHandler:function(){this.close(),this.focus()},_getFirstPopupElement:function(){return Wt(this._colorView._rgbInputs[0].element()).find("input")},_applyNewColor:function(r){this.option("value",r),r&&Nr.makeTransparentBackground(this._$colorResultPreview,r),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var r=this;return{value:r.option("value"),matchValue:r.option("value"),editAlphaChannel:r.option("editAlphaChannel"),applyValueMode:r.option("applyValueMode"),focusStateEnabled:r.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),onEnterKeyPressed:function(e){var{event:n}=e;r._colorViewEnterKeyPressed=!0,r._colorView.option("value")!==r.option("value")&&(r._saveValueChangeEvent(n),r._applyNewColor(r._colorView.option("value")),r.close())},onValueChanged:function(e){var{event:n,value:A,previousValue:X}=e,Et=r.option("applyValueMode")==="instantly",d=Nr.makeRgba(A)===X,C=Et||r._colorViewEnterKeyPressed,t=r._shouldSaveEmptyValue;d||!C||t||(n&&r._saveValueChangeEvent(n),r._applyNewColor(A))}}},_enterKeyHandler:function(r){var e=this._input().val(),{value:n,editAlphaChannel:A}=this.option(),X=n&&A?Nr.makeRgba(n):n;if(!e)return!1;var Et=new ir(e);if(Et.colorIsInvalid){this._input().val(X);return}if(e!==X&&(this._applyColorFromInput(e),this._saveValueChangeEvent(r),this.option("value",this.option("editAlphaChannel")?Nr.makeRgba(e):e)),this._colorView){var d=this._colorView.option("value");n!==d&&(this._saveValueChangeEvent(r),this.option("value",d))}return this.close(),!1},_applyButtonHandler:function(r){this._saveValueChangeEvent(r.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass(On),this.callBase()},_renderInput:function(){this.callBase(),this._input().addClass(yo),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner(Wt("<div>").addClass(Fl)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Wt("<div>").addClass(Ul).appendTo(this._$textEditorInputContainer),this.option("value")?Nr.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Fi)},_renderValue:function(){var{value:r,editAlphaChannel:e}=this.option(),n=r&&e,A=n?Nr.makeRgba(r):r;return this.option("text",A),this.callBase()},_resetInputValue:function(){var r=this._input(),e=this.option("value");r.val(e),this._updateColorViewValue(e)},_updateColorViewValue:function(r){this._colorView&&this._colorView.option({value:r,matchValue:r})},_valueChangeEventHandler:function(r){var e=this._input().val();e&&(e=this._applyColorFromInput(e),this._updateColorViewValue(e)),this.callBase(r,e)},_applyColorFromInput:function(r){var{editAlphaChannel:e}=this.option(),n=new ir(r);return n.colorIsInvalid?(this._resetInputValue(),this.option("value")):e?Nr.makeRgba(r):r},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(r){var e=r.value,n=r.name;switch(n){case"value":this._$colorBoxInputContainer.toggleClass(Fi,!e),e?Nr.makeTransparentBackground(this._$colorResultPreview,e):this._$colorResultPreview.removeAttr("style"),e===null&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(e),this._shouldSaveEmptyValue=!1,this.callBase(r);break;case"applyButtonText":case"cancelButtonText":this.callBase(r),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(n,e);break;default:this.callBase(r)}}});fi("dxColorBox",bn);var Gl=["imageSrc","src"],ql=sn.current().deviceType==="phone",Xl="dxHtmlEditor-dialogImageCaption",Ql="dxHtmlEditor-dialogUpdateImageCaption",Yl="dxHtmlEditor-dialogImageUrlField",Jl="dxHtmlEditor-dialogImageAltField",ts="dxHtmlEditor-dialogImageWidthField",es="dxHtmlEditor-dialogImageHeightField",rs="dxHtmlEditor-dialogImageAddButton",ns="dxHtmlEditor-dialogImageUpdateButton",is="dxHtmlEditor-dialogImageSpecifyUrl",os="dxHtmlEditor-dialogImageSelectFile",as="dxHtmlEditor-dialogImageKeepAspectRatio",ls="dxHtmlEditor-dialogImageEncodeToBase64",ss="dx-htmleditor-add-image-popup",us="dx-htmleditor-add-image-popup-with-tabs",cs="dx-fix-ratio-container",Ui="dx-formdialog",Wi="user",$i="silent",fs="dx-htmleditor-image";class hs{constructor(e,n){this.module=e,this.config=n??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var e=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(e).done((n,A)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(n,A)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){var e=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(e)}setAddButtonDisabled(e){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":e})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(e){var{imageSrc:n,src:A}=e,X=ma(e,Gl);return oo({src:n??A},X)}createUrlTab(e){return new ds(this.module,{config:this.config,formData:e,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new ps(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.length===0||this.isUpdating?["url"]:e.map(n=>typeof n=="object"?n.name:n)}createTabs(e){return this.tabsModel.map(n=>{var A=n==="url";return A?this.createUrlTab(e):this.createFileTab()})}isImageUpdating(){var e;return Object.prototype.hasOwnProperty.call((e=this.module.quill.getFormat())!==null&&e!==void 0?e:{},"imageSrc")}updatePopupConfig(){var e="".concat(ss," ").concat(Ui);this.useTabbedItems()&&(e+=" ".concat(us));var n=this.isUpdating?Ql:Xl,A=this.isUpdating?ns:rs;this.editorInstance.formDialogOption({title:qt.format(n),"toolbarItems[0].options.text":qt.format(A),wrapperAttr:{class:e}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":qt.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:Ui}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return ql?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){if(this.useTabbedItems()){var e=ya(this.tabs,n=>({title:n.getTabName(),colCount:11,items:n.getItemsConfig()}));return[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:n=>{this.tabPanelIndex=n.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:e}]}return this.tabs[0].getItemsConfig()}}class go{constructor(e,n,A){var{config:X,formData:Et,isUpdating:d}=n;this.module=e,this.config=X,this.formData=Et,this.isUpdating=d,this.onFileSelected=A,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new vs(this.module,this.config,this.formData):new _o(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class ds extends go{getTabName(){return qt.format(is)}}class ps extends go{getTabName(){return qt.format(os)}createStrategy(){return new ms(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class bo{constructor(e,n){this.module=e,this.config=n,this.editorInstance=e.editorInstance,this.quill=e.quill,this.selection=this.getQuillSelection()}getQuillSelection(){var e=this.quill.getSelection();return e??{index:this.quill.getLength(),length:0}}pasteImage(){}isValid(){return!0}upload(){}}class _o extends bo{constructor(e,n,A){super(e,n,A),this.shouldKeepAspectRatio=!0}pasteImage(e,n){this.module.saveValueChangeEvent(n),Eo(this.quill,this.selection.index,e)}keepAspectRatio(e,n){var{dependentEditor:A,e:X}=n,Et=parseInt(X.value),d=parseInt(X.previousValue),C=parseInt(A.option("value"));e.component.updateData(e.dataField,Et),this.shouldKeepAspectRatio&&C&&d&&!this.preventRecalculating&&(this.preventRecalculating=!0,A.option("value",Math.round(Et*C/parseInt(d)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(e,n,A){return this.editorInstance._createComponent(e,ti,ue(!0,n.editorOptions,{value:n.component.option("formData")[n.dataField],onEnterKey:n.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,n),onValueChanged:X=>{this.keepAspectRatio(n,{dependentEditor:this[A+"Editor"],e:X})}}))}upload(){var e=this.editorInstance._formDialog._form.validate();return e.isValid}getItemsConfig(){return[{dataField:"src",colSpan:11,label:{text:qt.format(Yl)},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:qt.format(ts)},template:e=>{var n=Wt("<div>").addClass(cs),A=Wt("<div>").appendTo(n);this.widthEditor=this.createKeepAspectRatioEditor(A,e,"height");var X=Wt("<div>").appendTo(n);return this.editorInstance._createComponent(X,jn,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:qt.format(as),focusStateEnabled:!1,keyExpr:"value",stylingMode:"outlined",selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:Et=>{this.shouldKeepAspectRatio=!!Et.component.option("selectedItems").length}}),n}},{dataField:"height",colSpan:5,label:{text:qt.format(es)},template:e=>{var n=Wt("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(n,e,"width"),n}},{dataField:"alt",colSpan:11,label:{text:qt.format(Jl)}}]}}class vs extends _o{constructor(e,n,A,X){super(e,n,X),this.formData=A,this.modifyFormData()}modifyFormData(){var{imageSrc:e}=this.quill.getFormat(this.selection.index-1,1);(!e||this.selection.index===0)&&(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,$i));var n=this.quill.getLeaf(this.selection.index)[0].domNode;if(n){var A,X;this.formData.width=(A=this.formData.width)!==null&&A!==void 0?A:Dr(Wt(n)),this.formData.height=(X=this.formData.height)!==null&&X!==void 0?X:Mr(Wt(n))}}pasteImage(e,n){this.quill.deleteText(this.embedFormatIndex(),1,$i),this.selection.index-=1,super.pasteImage(e,n)}embedFormatIndex(){var e,n=(e=this.selection)!==null&&e!==void 0?e:this.quill.getSelection();return n?n.length?n.index:n.index-1:this.quill.getLength()}}class ms extends bo{constructor(e,n,A){super(e,n,A),this.useBase64=!ge(this.config.fileUploadMode)||this.config.fileUploadMode==="base64",this.isValidInternal=!1,this.onFileSelected=A,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}onUploaded(e){Co(this.config.uploadDirectory,e.file.name,this.quill,this.selection.index)}base64Upload(e){this.quill.getModule("uploader").upload(this.selection,e.value,!0)}pasteImage(e,n){this.useBase64&&super.pasteImage(e,n)}isBase64Editable(){return this.config.fileUploadMode==="both"}validate(e){var n=e.component;this.isValidInternal=!n._files.some(A=>!A.isValid()),n._files.length===0&&(this.isValidInternal=!1)}getFileUploaderOptions(){var e={uploadUrl:this.config.uploadUrl,onValueChanged:n=>{this.validate(n),this.data=n,this.onFileSelected()},onUploaded:n=>this.onUploaded(n)};return ue({},Oo(),e,this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{var e=Wt("<div>");return this.module.editorInstance._createComponent(e,co,this.getFileUploaderOptions()),e}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:qt.format(ls),onValueChanged:e=>{this.isBase64Editable()&&(this.useBase64=e.value)}}}]}}function ys(r){return r[r.length-1]!=="/"?r+"/":r}function Oo(){return{value:[],name:fs,accept:"image/*",uploadMode:"useButtons"}}function Eo(r,e,n){r.insertEmbed(e,"extendedImage",n,Wi),r.setSelection(e+1,0,Wi)}function Co(r,e,n,A){if(r){var X=ys(r)+e;Eo(n,A,{src:X})}}var gs=400,bs=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],To=bs.map(r=>({id:r,value:qt.format("dxHtmlEditor-borderStyle".concat(Hn(r,!0)))})),Br="user",_s="silent",Os="dxHtmlEditor-dialogColorCaption",Es="dxHtmlEditor-dialogBackgroundCaption",Cs="dxHtmlEditor-dialogLinkCaption",Ts="dxHtmlEditor-dialogInsertTableCaption",Ss="dxHtmlEditor-dialogLinkUrlField",Ps="dxHtmlEditor-dialogLinkTextField",ws="dxHtmlEditor-dialogLinkTargetField",As="dx-formdialog-field-target",xs="dxHtmlEditor-dialogInsertTableRowsField",Rs="dxHtmlEditor-dialogInsertTableColumnsField",So={insertHeaderRow:"header",clear:"clearformat"};function Po(r){return{clear:e=>{var{event:n}=e,A=r.quill.getSelection();if(A){var X;r.saveValueChangeEvent(n),r.quill.removeFormat(A),(X=vi(r))===null||X===void 0||X.updateFormatWidgets()}},link:Ls(r),image:Ms(r,r.editorInstance.option("imageUpload")),color:Vi(r,"color"),background:Vi(r,"background"),orderedList:Lr(r,"list","ordered"),bulletList:Lr(r,"list","bullet"),alignLeft:Lr(r,"align","left"),alignCenter:Lr(r,"align","center"),alignRight:Lr(r,"align","right"),alignJustify:Lr(r,"align","justify"),codeBlock:mi(r,"code-block"),undo:e=>{var{event:n}=e;r.saveValueChangeEvent(n),r.quill.history.undo()},redo:e=>{var{event:n}=e;r.saveValueChangeEvent(n),r.quill.history.redo()},increaseIndent:e=>{var{event:n}=e;tn(r,["indent","+1",Br],n)},decreaseIndent:e=>{var{event:n}=e;tn(r,["indent","-1",Br],n)},superscript:Lr(r,"script","super"),subscript:Lr(r,"script","sub"),insertTable:js(r),insertHeaderRow:Ir(r.quill,"insertHeaderRow"),insertRowAbove:Ir(r.quill,"insertRowAbove"),insertRowBelow:Ir(r.quill,"insertRowBelow"),insertColumnLeft:Ir(r.quill,"insertColumnLeft"),insertColumnRight:Ir(r.quill,"insertColumnRight"),deleteColumn:Ir(r.quill,"deleteColumn"),deleteRow:Ir(r.quill,"deleteRow"),deleteTable:Ir(r.quill,"deleteTable"),cellProperties:zi(r,"cell"),tableProperties:zi(r,"table")}}function Ki(r,e){var{contentTemplate:n,title:A,minHeight:X,minWidth:Et,maxWidth:d}=e;r.formDialogOption({contentTemplate:n,title:A,minHeight:X??0,minWidth:Et??0,maxWidth:d??"none"})}function zi(r,e){return n=>{var A,X;(A=n)!==null&&A!==void 0&&A.length||(n=Wt(Is(r,e)));var[Et,d]=(X=r.quill.getModule("table").getTable())!==null&&X!==void 0?X:[],C=r.quill.getFormat(r.editorInstance.getSelection(!0)),t=Fs(e)(r,{$element:n,formats:C,tableBlot:Et,rowBlot:d}),{contentTemplate:y,title:v,minHeight:m,minWidth:g,maxWidth:D}=r.editorInstance._formDialog._popup.option(),M={contentTemplate:y,title:v,minHeight:m,minWidth:g,maxWidth:D},I;r.editorInstance.formDialogOption({contentTemplate:N=>{var j=Wt("<div>").appendTo(N),L=Wt("<div>").appendTo(j);return r.editorInstance._createComponent(L,ao,t.formOptions),r.editorInstance._createComponent(j,ga,{}),I=L.dxForm("instance"),j},title:qt.format("dxHtmlEditor-".concat(e,"Properties")),minHeight:gs,minWidth:Math.min(800,.9*Dr(Jr())-1),maxWidth:.9*Dr(Jr())});var x=r.editorInstance.showFormDialog();x.done((N,j)=>{r.saveValueChangeEvent(j),t.applyHandler(I),Ki(r.editorInstance,M)}),x.fail(()=>{r.quill.focus(),Ki(r.editorInstance,M)})}}function tn(r,e,n){r.saveValueChangeEvent(n),r.quill.format(...e)}function Is(r,e){var n=r.quill.getModule("table").getTable();return e==="table"?n[0].domNode:n[2].domNode}function Ns(r,e){var n=fo(),A=n.import("formats/link"),X,Et;[X,Et]=r.quill.scroll.descendant(A,e.index),!X&&e.length===0&&([X,Et]=r.quill.scroll.descendant(A,e.index-1),X&&(Et+=1));var d=X?{index:e.index-Et,length:X.length()}:null;return d}function Zi(r){return Array.isArray(r)?r[0]:r}function Ls(r){return()=>{var e;r.quill.focus();var n=r.quill.getSelection(),A=n?r.quill.getFormat():{},X=A.link!==void 0&&((e=n)===null||e===void 0?void 0:e.length)===0,Et=A.link||"";if(X){var d=Ns(r,n);d?n=d:Et=""}var C=Hl(r,n),t={href:Et,text:n&&!C?r.quill.getText(n):"",target:Object.prototype.hasOwnProperty.call(A,"target")?!!A.target:!0};r.editorInstance.formDialogOption("title",qt.format(Cs));var y=r.editorInstance.showFormDialog({formData:t,items:Ds(C)});y.done((v,m)=>{if(n&&!C){var g=v.text||v.href,{index:D,length:M}=n;v.text=void 0,r.saveValueChangeEvent(m),M&&r.quill.deleteText(D,M,_s),r.quill.insertText(D,g,"link",v,Br),r.quill.setSelection(D+g.length,0,Br)}else v.text=!n&&!v.text?v.href:v.text,tn(r,["link",v,Br],m)}),y.fail(()=>{r.quill.focus()})}}function Ms(r,e){var n=new hs(r,e);return()=>{n.render()}}function Ds(r){return[{dataField:"href",label:{text:qt.format(Ss)}},{dataField:"text",label:{text:qt.format(Ps)},visible:!r},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:qt.format(ws)},cssClass:As,label:{visible:!1}}]}function Vi(r,e){return()=>{var n=r.quill.getFormat(),A=e==="color"?Os:Es;r.editorInstance.formDialogOption("title",qt.format(A));var X=r.editorInstance.showFormDialog({formData:n,items:[{dataField:e,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});X.done((Et,d)=>{tn(r,[e,Et[e],Br],d)}),X.fail(()=>{r.quill.focus()})}}function Lr(r,e,n){return A=>{var X,{event:Et}=A,d=r.quill.getFormat(),C=d[e]===n?!1:n;tn(r,[e,C,Br],Et),(X=vi(r))===null||X===void 0||X.updateFormatWidgets(!0)}}function vi(r){return r._updateFormatWidget?r:r.quill.getModule("toolbar")}function mi(r,e){return n=>{var A,{event:X}=n,Et=r.quill.getFormat(),d=Et[e],C=!(ba(d)?d:ge(d));tn(r,[e,C,Br],X),(A=vi(r))===null||A===void 0||A._updateFormatWidget(e,C,Et)}}function Bs(){return[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:qt.format(xs)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:qt.format(Rs)}}]}function js(r){return()=>{var e=r.quill.getFormat(),n=r._tableFormats.some(X=>Object.prototype.hasOwnProperty.call(e,X));if(n){r.quill.focus();return}r.editorInstance.formDialogOption("title",qt.format(Ts));var A=r.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:Bs()});A.done((X,Et)=>{r.quill.focus();var d=r.quill.getModule("table");if(d){r.saveValueChangeEvent(Et);var{columns:C,rows:t}=X;d.insertTable(C,t)}}).always(()=>{r.quill.focus()})}}function ks(r,e){var{$element:n,formats:A,tableBlot:X}=e,Et=Jr(),d,C,t,y=n,v=r.editorInstance,m=parseInt(A.tableWidth)||_e(y),g=Et.getComputedStyle(y.get(0)),D=g.textAlign==="start"?"left":g.textAlign,M={colCount:2,formData:{width:m,height:ge(A.tableHeight)?parseInt(A.tableHeight):Pr(y),backgroundColor:A.tableBackgroundColor||g.backgroundColor,borderStyle:A.tableBorderStyle||g.borderTopStyle,borderColor:A.tableBorderColor||g.borderTopColor,borderWidth:parseInt(ge(A.tableBorderWidth)?A.tableBorderWidth:g.borderTopWidth),alignment:A.tableAlign||D},items:[{itemType:"group",caption:qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:To,valueExpr:"id",displayExpr:"value",placeholder:"Select style"}},{dataField:"borderWidth",label:{text:qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:qt.format("dxHtmlEditor-borderColor")},colSpan:2,template:I=>{var x=Wt("<div>");return v._createComponent(x,bn,{editAlphaChannel:!0,value:I.component.option("formData").borderColor,onInitialized:N=>{C=N.component}}),x}}]},{itemType:"group",caption:qt.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:qt.format("dxHtmlEditor-borderColor")},template:I=>{var x=Wt("<div>");return v._createComponent(x,bn,{editAlphaChannel:!0,value:I.component.option("formData").backgroundColor,onInitialized:N=>{t=N.component}}),x}}]},{itemType:"group",caption:qt.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:qt.format("dxHtmlEditor-horizontal")},template:()=>{var I=Wt("<div>");return v._createComponent(I,jn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[D],onInitialized:x=>{d=x.component}}),I}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:M,applyHandler:I=>{var x=I.option("formData"),N=x.width===m?void 0:x.width,j=x.height;Us(r,{$table:y,newHeight:j,newWidth:N,tableBlot:X}),r.editorInstance.format("tableBorderStyle",x.borderStyle),r.editorInstance.format("tableBorderWidth",x.borderWidth+"px"),r.editorInstance.format("tableBorderColor",C.option("value")),r.editorInstance.format("tableBackgroundColor",t.option("value")),r.editorInstance.format("tableTextAlign",d.option("selectedItemKeys")[0])}}}function Hs(r,e){var{$element:n,formats:A,tableBlot:X,rowBlot:Et}=e,d=Jr(),C,t,y,v,m=n,g=ge(A.cellWidth)?parseInt(A.cellWidth):_e(m),D=r.editorInstance,M=d.getComputedStyle(m.get(0)),I=M.textAlign==="start"?"left":M.textAlign,x={colCount:2,formData:{width:g,height:ge(A.cellHeight)?parseInt(A.cellHeight):Pr(m),backgroundColor:Zi(A.cellBackgroundColor)||M.backgroundColor,borderStyle:A.cellBorderStyle||M.borderTopStyle,borderColor:Zi(A.cellBorderColor)||M.borderTopColor,borderWidth:parseInt(ge(A.cellBorderWidth)?A.cellBorderWidth:M.borderTopWidth),alignment:A.cellTextAlign||I,verticalAlignment:A.cellVerticalAlign||M.verticalAlign,verticalPadding:parseInt(ge(A.cellPaddingTop)?A.cellPaddingTop:M.paddingTop),horizontalPadding:parseInt(ge(A.cellPaddingLeft)?A.cellPaddingLeft:M.paddingLeft)},items:[{itemType:"group",caption:qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:To,valueExpr:"id",displayExpr:"value"}},{dataField:"borderWidth",label:{text:qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:qt.format("dxHtmlEditor-borderColor")},template:N=>{var j=Wt("<div>");return D._createComponent(j,bn,{editAlphaChannel:!0,value:N.component.option("formData").borderColor,onInitialized:L=>{y=L.component}}),j}}]},{itemType:"group",caption:qt.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:qt.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:qt.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:qt.format("dxHtmlEditor-pixels")}},{label:{text:qt.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:qt.format("dxHtmlEditor-borderColor")},template:N=>{var j=Wt("<div>");return D._createComponent(j,bn,{editAlphaChannel:!0,value:N.component.option("formData").backgroundColor,onInitialized:L=>{v=L.component}}),j}}]},{itemType:"group",caption:qt.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:qt.format("dxHtmlEditor-horizontal")},template:()=>{var N=Wt("<div>");return D._createComponent(N,jn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[I],onInitialized:j=>{C=j.component}}),N}},{itemType:"simple",label:{text:qt.format("dxHtmlEditor-vertical")},template:()=>{var N=Wt("<div>");return D._createComponent(N,jn,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[M.verticalAlign],onInitialized:j=>{t=j.component}}),N}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:x,applyHandler:N=>{var j=N.option("formData"),L=j.width===parseInt(g)?void 0:j.width,H=j.height;Ws(r,{$cell:m,newHeight:H,newWidth:L,tableBlot:X,rowBlot:Et}),r.editorInstance.format("cellBorderWidth",j.borderWidth+"px"),r.editorInstance.format("cellBorderColor",y.option("value")),r.editorInstance.format("cellBorderStyle",j.borderStyle),r.editorInstance.format("cellBackgroundColor",v.option("value")),r.editorInstance.format("cellTextAlign",C.option("selectedItemKeys")[0]),r.editorInstance.format("cellVerticalAlign",t.option("selectedItemKeys")[0]),r.editorInstance.format("cellPaddingLeft",j.horizontalPadding+"px"),r.editorInstance.format("cellPaddingRight",j.horizontalPadding+"px"),r.editorInstance.format("cellPaddingTop",j.verticalPadding+"px"),r.editorInstance.format("cellPaddingBottom",j.verticalPadding+"px")}}}function Fs(r){return r==="cell"?Hs:ks}function Us(r,e){var{$table:n,newHeight:A,newWidth:X,tableBlot:Et}=e;if(ge(X)){var d=gn(n);if(d.length>0)r.editorInstance.format("tableWidth",X+"px");else{var C=Fn(n),t=_e(n);yn(n,{tableBlot:Et}),we(C,(g,D)=>{var M=Wt(D),I=X/t*_e(M),x=hr(n,M.index(),"horizontal");qe(r,{elements:x,property:"width",value:I})})}}var y=gn(n,"vertical");if((y==null?void 0:y.length)>0)Et.format("tableHeight",A+"px");else{var v=pi(n),m=Pr(n);we(v,(g,D)=>{var M=Wt(D),I=A/m*Pr(M),x=hr(n,g,"vertical");qe(r,{elements:x,property:"height",value:I})})}}function Ws(r,e){var{$cell:n,newHeight:A,newWidth:X,tableBlot:Et,rowBlot:d}=e,C=Wt(n.closest("table"));if(ge(X)){var t=Wt(n).index(),y=hr(C,t),v=X-_e(n),m=_e(C);X>m&&yn(C,{tableBlot:Et}),qe(r,{elements:y,property:"width",value:X});var g=n.next(),D=gn(C).length===0;if(D)if(yn(C,{tableBlot:Et}),g.length===1){y=hr(C,t+1);var M=_e(y.eq(0))-v;qe(r,{elements:y,property:"width",value:Math.max(M,0)})}else{var I=n.prev();if(I.length===1){y=hr(C,t-1);var x=_e(y.eq(0))-v;qe(r,{elements:y,property:"width",value:Math.max(x,0)})}}}d.children.forEach(j=>{j.format("cellHeight",A+"px")});var N=gn(C,"vertical");N.length===0&&C.css("height","auto")}var wo=Le;if(ce){var Gi="dx-htmleditor-toolbar-wrapper",$s="dx-htmleditor-toolbar",Ks="dx-htmleditor-toolbar-format",zs="dx-htmleditor-toolbar-separator",Zs="dx-htmleditor-toolbar-menu-separator",qi="dx-format-active",Vs="dx-icon",Gs="selection-change",qs="user",Xs="silent",Qs={66:"bold",73:"italic",85:"underline"},Zn={b:66,i:73,u:85},an=r=>qt.format("dxHtmlEditor-".concat(Hn(r))),Ys=(r,e)=>{if(e==="header"){var n=ge(r)&&r!==!1;return n?"".concat(an("heading")," ").concat(r):an("normalText")}return an(r)||r};wo=class extends Le{constructor(r,e){var n;if(super(r,e),n=this,this._toolbarWidgets=new Bl,this._formatHandlers=Po(this),this._tableFormats=mo(r),ge(e.items)){this._addCallbacks(),this._renderToolbar();var A=this.toolbarInstance._layoutStrategy._menu;if(A){var X=A._renderPopup;A._renderPopup=function(){for(var Et=arguments.length,d=new Array(Et),C=0;C<Et;C++)d[C]=arguments[C];X.apply(A,...d),A._popup.on("showing",()=>{n._updateToolbar(!0)})}}this.quill.on("editor-change",(Et,d,C,t)=>{var y=t===Xs&&Mn(this.quill.getFormat());if(!y){var v=Et===Gs;this._updateToolbar(v)}})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(r){this.updateFormatWidgets(r),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(r,e,n){var A=this._toolbarWidgets.getByName(r);A&&(e?this._markActiveFormatWidget(r,A,n):(this._resetFormatWidget(r,A),Object.prototype.hasOwnProperty.call(r)&&delete n[r]),this._toggleClearFormatting(e||!Mn(n)))}_renderToolbar(){var r=this.options.container||this._getContainer();this._$toolbar=Wt("<div>").addClass($s).appendTo(r),this._$toolbarContainer=Wt(r).addClass(Gi),de.on(this._$toolbarContainer,xe("mousedown",this.editorInstance.NAME),e=>{e.target.focus(),e.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,_a,this.toolbarConfig),this.editorInstance.on("optionChanged",e=>{var{name:n}=e;(n==="readOnly"||n==="disabled")&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var r;return(r=this.options.multiline)!==null&&r!==void 0?r:!0}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(Gi)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var r=Wt("<div>");return this.editorInstance.$element().prepend(r),r}_detectRenamedOptions(r){Yr(r)&&we([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(e,n)=>{Object.prototype.hasOwnProperty.call(r,n.oldName)&&ci.log("W1016",n.oldName,n.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:Zn.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Zn.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Zn.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(r,e,n){var{which:A}=n,X=Qs[A];this._updateButtonState(X)}_updateButtonState(r){var e=this._toolbarWidgets.getByName(r),n=this.quill.getFormat(),A=n[r];A?this._markActiveFormatWidget(r,e,n):this._resetFormatWidget(r,e)}_prepareToolbarItems(){var r=[];return we(this.options.items,(e,n)=>{var A;if(this._detectRenamedOptions(n),Yr(n))A=this._handleObjectItem(n);else if(hi(n)){var X=this._prepareButtonItemConfig(n);A=this._getToolbarItem(X)}A&&r.push(A)}),r}_handleObjectItem(r){if(r.name&&r.acceptedValues&&this._isAcceptableItem(r.widget,"dxSelectBox")){var e=this._prepareSelectItemConfig(r);return this._getToolbarItem(e)}else if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var n=this._prepareButtonItemConfig(r.name),A=ue(!0,n,r);return this._getToolbarItem(A)}else return this._getToolbarItem(r)}_isAcceptableItem(r,e){return!r||r===e}_prepareButtonItemConfig(r){var e,n=(e=So[r])!==null&&e!==void 0?e:r,A=Dn(r);return{widget:"dxButton",name:r,options:{hint:an(A),text:an(A),icon:n.toLowerCase(),onClick:this._formatHandlers[r]||mi(this,r),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(r){var{name:e,acceptedValues:n}=r;return ue(!0,{widget:"dxSelectBox",name:e,options:{stylingMode:"filled",dataSource:n,displayExpr:A=>Ys(A,e),placeholder:an(e),onValueChanged:A=>{this._isReset||(this._hideAdaptiveMenu(),tn(this,[e,A.value,qs],A.event),this._setValueSilent(A.component,A.value))}}},r)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(r){var e={options:{onInitialized:n=>{r.name&&(n.component.$element().addClass(Ks),n.component.$element().toggleClass("dx-".concat(r.name.toLowerCase(),"-format"),!!r.name),this._toolbarWidgets.add(r.name,n.component))},onDisposing:()=>{this._toolbarWidgets.remove(r.name)}}};return ue(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(r.name),r,e)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(r,e,n)=>{Wt(n).addClass(zs)},menuItemTemplate:(r,e,n)=>{Wt(n).addClass(Zs)}}}}_getDefaultConfig(r){return this._getDefaultItemsConfig()[r]}updateHistoryWidgets(){var r=this.quill.history;if(r){var{undo:e,redo:n}=r.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!e.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!n.length)}}updateTableWidgets(){var r=this.quill.getModule("table");if(r){var e=this.quill.getSelection(),n=e&&this.quill.getFormat(e)||{},A=this._tableFormats.some(X=>!!n[X]);kl.forEach(X=>{var Et=X==="insertTable",d=this._toolbarWidgets.getByName(X);this._updateManipulationWidget(d,Et?!A:A)})}}_updateManipulationWidget(r,e){r&&r.option("disabled",!e)}updateFormatWidgets(r){var e=this.quill.getSelection();if(e){var n=this.quill.getFormat(e),A=!Mn(n);(!A||r)&&this._resetFormatWidgets();for(var X in n){var Et=this._getFormatWidgetName(X,n),d=this._toolbarWidgets.getByName(Et)||this._toolbarWidgets.getByName(X);d&&this._markActiveFormatWidget(X,d,n)}this._toggleClearFormatting(A||e.length>1)}}_markActiveFormatWidget(r,e,n){this._isColorFormat(r)&&this._updateColorWidget(r,n[r]),"value"in e.option()?this._setValueSilent(e,n[r]):e.$element().addClass(qi)}_toggleClearFormatting(r){var e=this._toolbarWidgets.getByName("clear");e&&e.option("disabled",!r)}_isColorFormat(r){return r==="color"||r==="background"}_updateColorWidget(r,e){var n=this._toolbarWidgets.getByName(r);n&&n.$element().find(".".concat(Vs)).css("borderBottomColor",e||"transparent")}_getFormatWidgetName(r,e){var n;switch(r){case"align":n=r+Dn(e[r]);break;case"list":n=e[r]+Dn(r);break;case"code-block":n="codeBlock";break;case"script":n=e[r]+r;break;case"imageSrc":n="image";break;default:n=r}return n}_setValueSilent(r,e){this._isReset=!0,r.option("value",e),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((r,e)=>{this._resetFormatWidget(r,e)})}_resetFormatWidget(r,e){e.$element().removeClass(qi),this._isColorFormat(r)&&this._updateColorWidget(r),r==="clear"&&e.option("disabled",!0),e.NAME==="dxSelectBox"&&this._setValueSilent(e,null)}addClickHandler(r,e){this._formatHandlers[r]=e;var n=this._toolbarWidgets.getByName(r);n&&n.NAME==="dxButton"&&n.option("onClick",e)}}}const Js=wo;var Ao=Le;ce&&(Ao=class extends Le{constructor(r,e){super(r,e);var n=this.editorInstance.NAME;de.on(this.quill.root,xe("drop",n),this._dropHandler.bind(this)),de.on(this.quill.root,xe("paste",n),this._pasteHandler.bind(this))}_dropHandler(r){var e,n=r.originalEvent.dataTransfer,A=n==null||(e=n.files)===null||e===void 0?void 0:e.length;this.saveValueChangeEvent(r),r.preventDefault(),A&&this._getImage(n.files,this._addImage.bind(this))}_pasteHandler(r){var e,{clipboardData:n}=r.originalEvent;if(this.saveValueChangeEvent(r),!!n){var A=(e=n.items)===null||e===void 0?void 0:e.length,X=n.getData("text/html");!X&&A&&this._getImage(n.items,Et=>{this._isBrowserSupportImagePaste(Oa)||this._addImage(Et)})}}_isBrowserSupportImagePaste(r){var{mozilla:e,chrome:n,version:A}=r;return e||n&&A>82}_isImage(r){return!!r.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(r,e){var n=Jr();we(r,(A,X)=>{if(this._isImage(X)){var Et=new n.FileReader;Et.onload=C=>{var{target:t}=C;e(t.result)};var d=X.getAsFile?X.getAsFile():X;d instanceof n.Blob&&Et.readAsDataURL(d)}})}_addImage(r){var e=this.quill.getSelection(),n=e?e.index:this.quill.getLength();this.quill.insertEmbed(n,"extendedImage",r,"user")}});const tu=Ao;var eu="dxHtmlEditorPopupModule",xo=Le;if(ce){var ru="dx-suggestion-list",nu="dx-suggestion-list-wrapper",iu=100;xo=class extends Le{_getDefaultOptions(){return{dataSource:null}}constructor(r,e){super(r,e),this.options=ue({},this._getDefaultOptions(),e),this._popup=this.renderPopup(),this._popup.$wrapper().addClass(nu),this._renderPreventFocusOut()}renderList(r,e){var n=Wt("<div>").addClass(ru).appendTo(r);this._list=this.options.editorInstance._createComponent(n,Ea,e)}renderPopup(){var r=this.options.editorInstance,e=Wt("<div>").appendTo(r.$element()),n=this._getPopupConfig();return r._createComponent(e,lo,n)}_getPopupConfig(){return{contentTemplate:r=>{var e=this._getListConfig(this.options);this.renderList(Wt(r),e)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(r){return{dataSource:r.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var r=Jr(),e=r&&Mr(r)||0;return Math.max(iu,.5*e)}selectionChangedHandler(r){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(r))}_renderPreventFocusOut(){var r=xe("mousedown",eu);de.on(this._popup.$wrapper(),r,e=>{e.preventDefault()})}insertEmbedContent(r){}showPopup(){this._popup&&this._popup.show()}savePosition(r){this.caretPosition=r}getPosition(){return this.caretPosition}}}const Ro=xo;var pn={};if(ce){var ou=ce.import("blots/embed"),au="dx-variable";pn=class extends ou{static create(r){var e=super.create(),n,A,X=r.value;return Array.isArray(r.escapeChar)?(n=ei(r.escapeChar[0],""),A=ei(r.escapeChar[1],"")):n=A=r.escapeChar,e.innerText=n+X+A,e.dataset.varStartEscChar=n,e.dataset.varEndEscChar=A,e.dataset.varValue=r.value,e}static value(r){return ue({},{value:r.dataset.varValue,escapeChar:[r.dataset.varStartEscChar||"",r.dataset.varEndEscChar||""]})}},pn.blotName="variable",pn.tagName="span",pn.className=au}const lu=pn;var Io=Le;if(ce){var su="dx-variable-format",uu="dx-format-active";ce.register({"formats/variable":lu},!0),Io=class extends Ro{_getDefaultOptions(){var r=super._getDefaultOptions();return ue(r,{escapeChar:""})}constructor(r,e){super(r,e);var n=r.getModule("toolbar");n&&n.addClickHandler("variable",this.showPopup.bind(this)),r.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",A=>{var X=Wt(A.component.option("position").of);X.hasClass(su)&&X.addClass(uu)})}showPopup(r){var e=this.quill.getSelection(!0),n=e?e.index:this.quill.getLength();this.savePosition(n),this._resetPopupPosition(r,n),super.showPopup()}_resetPopupPosition(r,e){if(r&&r.element)this._popup.option("position",{of:r.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var n=this.quill.getBounds(e),A=mn(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:n.left,v:n.bottom-A.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(r){var e=this.getPosition(),n=r.component.option("selectedItem"),A=ue({},{value:n,escapeChar:this.options.escapeChar});setTimeout((function(){this.quill.insertEmbed(e,"variable",A),this.quill.setSelection(e+1)}).bind(this))}}}const cu=Io;var fu="dx-resize-frame",hu="dx-touch-device",_n="dxHtmlResizingModule",Xi=xe("keydown",_n),du=xe("scroll",_n),pu=xe("mousedown",_n),Vn=1;class vu extends Le{constructor(e,n){super(e,n),this.allowedTargets=n.allowedTargets||["image"],this.enabled=!!n.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){de.on(this.quill.root,xe(Jn,_n),this._clickHandler.bind(this)),de.on(this.quill.root,du,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){de.off(this.quill.root,_n),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(e){if(this._isAllowedTarget(e.target)){if(this._$target===e.target)return;this._$target=e.target;var n=Wt(this._$target),A=Math.max(_e(n)-Dr(n),this.resizable.option("minWidth")),X=Math.max(Pr(n)-Mr(n),this.resizable.option("minHeight"));this.resizable.option({minWidth:A,minHeight:X}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(e){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(e){return this._isImage(e)}_isImage(e){return this.allowedTargets.indexOf("image")!==-1&&e.tagName.toUpperCase()==="IMG"}showFrame(){this._$resizeFrame.show(),de.on(this.quill.root,Xi,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(e){var n=Ca(e);(n==="del"||n==="backspace")&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),de.off(this.quill.root,Xi)}updateFramePosition(){var{height:e,width:n,top:A,left:X}=mn(this._$target),{top:Et,left:d}=mn(this.quill.root),C=this._getBorderWidth();this._$resizeFrame.css({height:e,width:n,padding:Vn,top:A-Et-C-Vn,left:X-d-C-Vn}),vn(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:e}=sn.current();this._$resizeFrame=Wt("<div>").addClass(fu).toggleClass(hu,e!=="desktop").appendTo(this.editorInstance._getQuillContainer()).hide(),de.on(this._$resizeFrame,pu,n=>{n.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,Ta,{onResize:n=>{this._$target&&(Wt(this._$target).attr({height:n.height,width:n.width}),this.updateFramePosition())}})}}_deleteImage(){if(this._isAllowedTarget(this._$target)){var e;(e=ce.find(this._$target))===null||e===void 0||e.deleteAt(0)}}option(e,n){if(e==="mediaResizing"){this.handleOptionChangeValue(n);return}e==="enabled"?(this.enabled=n,n?this._attachEvents():this._detachEvents()):e==="allowedTargets"&&Array.isArray(n)&&(this.allowedTargets=n)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var mu="dx-table-resize-frame",Qi="dx-htmleditor-column-resizer",Yi="dx-htmleditor-row-resizer",yu={minColumnWidth:40,minRowHeight:24},gu=2,Gn=3,yi="dxHtmlTableResizingModule",Ji=xe("dxpointerdown",yi),bu=xe("scroll",yi);class _u extends Le{constructor(e,n){super(e,n),this.enabled=!!n.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",n.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",n.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(e){e?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=Ii.add(this._resizeHandler.bind(this))}_minSizeLimit(e,n){return ge(n)?Math.max(n,0):yu[e]}_applyResizingImpl(){var e=this._findTables();e.length&&(this._fixTablesWidths(e),this._createResizeFrames(e),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){de.on(this.editorInstance._getContent(),bu,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){de.off(this.editorInstance._getContent(),yi),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(e,n,A){return(X,Et,d)=>{if(this._isTableChanging()){var C=this._findTables();this._removeResizeFrames(),d==="api"&&this._fixTablesWidths(C),this._updateTablesColumnsWidth(C),this._createResizeFrames(C),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(e){var n;return(n=this._framesForTables)===null||n===void 0?void 0:n.get(e.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var e=this._findTables();we(e,(n,A)=>{var X=Wt(A),Et=this._tableResizeFrames[n],d=_e(X),C=this._tableLastWidth(Et);Math.abs(d-C)>1&&(this._tableLastWidth(Et,d),this._updateColumnsWidth(X,n))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return Wt(this._quillContainer).find("table")}_getWidthStyleValue(e){var n=e[0].style.width;return n!==""?parseInt(n):void 0}_tableLastWidth(e,n){if(ge(n))e.lastWidth=n;else return e==null?void 0:e.lastWidth}_fixTablesWidths(e){we(e,(n,A)=>{var X=Wt(A),Et=this._getTableDeterminantElements(X,"horizontal");this._tableResizeFrames[n]||(this._tableResizeFrames[n]={lastWidth:void 0});var d=this._getFrameForTable(X);if(d||this._tableResizeFrames.push({$table:X}),gn(X).length===0){var C,{columnsSum:t}=this._getColumnElementsSum(Et);yn(X,{quill:this.quill});var y=(C=this._tableLastWidth(d))!==null&&C!==void 0?C:_e(X);d&&this._tableLastWidth(d,Math.max(t,y))}})}_createResizeFrames(e){this._framesForTables=new Map,e.each((n,A)=>{var X,Et=Wt(A),d=(X=this._tableResizeFrames[n])===null||X===void 0?void 0:X.$table,C=this._tableResizeFrames[n].lastWidth;this._tableResizeFrames[n]={$frame:this._createTableResizeFrame(A),$table:Et,index:n,lastWidth:d&&A===d.get(0)?C:void 0,columnsCount:this._getTableDeterminantElements(Et,"horizontal").length,rowsCount:this._getTableDeterminantElements(Et,"vertical").length},this._framesForTables.set(A,this._tableResizeFrames[n])}),this._tableResizeFrames.length=e.length}_isTableChanging(){var e=this._findTables(),n=!1;return e.length!==this._tableResizeFrames.length?n=!0:we(e,(A,X)=>{var Et=Wt(X),d=this._tableResizeFrames[A],C=(d==null?void 0:d.columnsCount)!==this._getTableDeterminantElements(Et,"horizontal").length,t=(d==null?void 0:d.rowsCount)!==this._getTableDeterminantElements(Et,"vertical").length;if(C||t)return n=!0,!1}),n}_removeResizeFrames(e){var n;we(this._tableResizeFrames,(A,X)=>{if(X.$frame){var Et,d=".".concat(Qi,", .").concat(Yi);this._detachSeparatorEvents((Et=X.$frame)===null||Et===void 0?void 0:Et.find(d)),X.$frame.remove()}}),(n=this._framesForTables)===null||n===void 0||n.clear(),e&&(this._tableResizeFrames=[])}_detachSeparatorEvents(e){e.each((n,A)=>{de.off(A,Ji)})}_createTableResizeFrame(){return Wt("<div>").addClass(mu).appendTo(this._quillContainer)}_updateFramesPositions(){we(this._tableResizeFrames,(e,n)=>{this._updateFramePosition(n.$table,n.$frame)})}_updateFramePosition(e,n){var{height:A,width:X,top:Et,left:d}=mn(e.get(0)),{top:C,left:t}=mn(this.quill.root);n.css({height:A,width:X,top:Et-C,left:d-t}),vn(n,{left:0,top:0})}_updateFramesSeparators(e){we(this._tableResizeFrames,(n,A)=>{e?this._updateFrameSeparators(A,e):(this._updateFrameSeparators(A,"vertical"),this._updateFrameSeparators(A,"horizontal"))})}_isDraggable(e){return e.hasClass("dx-draggable")&&e.is(":visible")}_removeDraggable(e,n){if(this._isDraggable(e)){var A=Wt(e).dxDraggable("instance");A.dispose(),Wt(e).addClass(n)}}_getDirectionInfo(e){return e==="vertical"?{lineResizerClass:Yi,sizeFunction:n=>Pr(n),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:Qi,sizeFunction:n=>_e(n),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(e,n){return n.sizeFunction(e)}_updateFrameSeparators(e,n){for(var A=this._getTableDeterminantElements(e.$table,n),X=A.length,Et=X-1,d=this._getDirectionInfo(n),C=e.$frame.find(".".concat(d.lineResizerClass)),t={transform:"none"},y=0,v=0;v<=Et;v++){y+=this._getSize(A.eq(v),d),ge(C[v])||(C[v]=Wt("<div>").addClass(d.lineResizerClass).appendTo(e.$frame).get(0));var m=Wt(C[v]);this._removeDraggable(m,d.lineResizerClass),t[d.positionCoordinate]=y-gu,Wt(m).css(t);var g={lineSeparator:C[v],index:v,$determinantElements:A,frame:e,direction:n};this._attachColumnSeparatorEvents(g)}}_getTableDeterminantElements(e,n){return n==="vertical"?e.find("th:first-child, td:first-child"):Fn(e)}_attachColumnSeparatorEvents(e){de.on(e.lineSeparator,Ji,()=>{this._createDraggableElement(e)})}_dragStartHandler(e){var{$determinantElements:n,index:A,frame:X,direction:Et,lineSeparator:d}=e,C=this._getDirectionInfo(Et);this._isDragging=!0,this._fixColumnsWidth(X.$table),this._startLineSize=parseInt(this._getSize(Wt(n[A]),C)),this._startTableWidth=_e(X.$table),this._startLineSeparatorPosition=parseInt(Wt(d).css(C.positionCoordinate)),this._nextLineSize=0,n[A+1]?this._nextLineSize=parseInt(this._getSize(Wt(n[A+1]),C)):Et==="horizontal"&&yn(X.$table,{quill:this.quill})}_shouldRevertOffset(e){return e==="horizontal"&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(e,n,A){if(this._nextLineSize){if(e>=this._minColumnWidth){var X=this._nextColumnOffsetLimit?A<this._nextColumnOffsetLimit:A<0,Et=Math.abs(this._getWidthStyleValue(n)-_e(n))>Gn;return X||!Et}}else return!0;return!1}_shouldSetNextColumnWidth(e){return this._nextLineSize&&e>0}_horizontalDragHandler(e){var{currentLineNewSize:n,directionInfo:A,eventOffset:X,$determinantElements:Et,index:d,frame:C}=e,t=this._nextLineSize&&this._nextLineSize-X,y=n>=this._minColumnWidth,v=hr(C.$table,d),m=hr(C.$table,d+1),g=_e(v.eq(0))-n;if(y)if(this._isNextColumnWidthEnough(t,Et.eq(d+1),X)){qe(this,{elements:v,property:A.positionStyleProperty,value:n}),this._shouldSetNextColumnWidth(t)&&qe(this,{elements:m,property:A.positionStyleProperty,value:t});var D=Math.abs(this._startTableWidth-_e(C.$table))<Gn,M=Math.abs(g)>Gn||!this._nextLineSize&&D;M&&(qe(this,{elements:v,property:A.positionStyleProperty,value:_e(v.eq(0))}),t+=n-_e(v.eq(0)),this._shouldSetNextColumnWidth(t)&&qe(this,{elements:m,property:A.positionStyleProperty,value:t}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||X;this._$highlightedElement.css(A.positionCoordinate,this._startLineSeparatorPosition+X+g+"px")}_verticalDragHandler(e){var{currentLineNewSize:n,directionInfo:A,eventOffset:X,$determinantElements:Et,index:d,frame:C}=e,t=Math.max(n,this._minRowHeight),y=hr(C.$table,d,"vertical");qe(this,{elements:y,property:A.positionStyleProperty,value:t});var v=Pr(Et.eq(d))-n;this._$highlightedElement.css(A.positionCoordinate,this._startLineSeparatorPosition+X+v+"px")}_dragMoveHandler(e,n){var{$determinantElements:A,index:X,frame:Et,direction:d}=n,C=this._getDirectionInfo(d),t=e.offset[C.positionCoordinateName];this.editorInstance._saveValueChangeEvent(e),this._shouldRevertOffset(d)&&(t=-t);var y=this._startLineSize+t;d==="horizontal"?this._horizontalDragHandler({currentLineNewSize:y,directionInfo:C,eventOffset:t,$determinantElements:A,index:X,frame:Et}):this._verticalDragHandler({currentLineNewSize:y,directionInfo:C,eventOffset:t,$determinantElements:A,index:X,frame:Et}),this._updateFramePosition(Et.$table,Et.$frame)}_dragEndHandler(e){var n;(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(e.frame,_e(e.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(e){var{$determinantElements:n,index:A}=e;return!ge(n[A+1])}_getBoundaryConfig(e){var n={};if(e.direction==="vertical")n.boundary=e.frame.$table,n.boundOffset={bottom:so()?-Mr(Jr()):-Pr(this._quillContainer),top:0,left:0,right:0};else if(!this._isLastColumnResizing(e))n.boundary=e.frame.$table;else{var A=this.editorInstance._getContent();n.boundary=A,n.boundOffset={bottom:0,top:0,left:A.css("paddingLeft"),right:A.css("paddingRight")}}return n}_createDraggableElement(e){var n,A=this._getBoundaryConfig(e),X=e.direction==="vertical"?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._$highlightedElement=Wt("<div>").addClass("".concat(X)).insertAfter(Wt(e.lineSeparator));var Et={contentTemplate:null,allowMoveByClick:!1,dragDirection:e.direction,onDragMove:d=>{var{component:C,event:t}=d;this._dragMoveHandler(t,e)},onDragStart:()=>{this._dragStartHandler(e)},onDragEnd:()=>{this._dragEndHandler(e)}};ue(Et,A),this._currentDraggableElement=this.editorInstance._createComponent(e.lineSeparator,Ln,Et)}_fixColumnsWidth(e){var n=this._getTableDeterminantElements(e);we(n,(A,X)=>{var Et=_e(X),d=hr(e,A);qe(this,{elements:d,property:"width",value:Math.max(Et,this._minColumnWidth)})})}_getColumnElementsSum(e){var n=[],A=0;return we(e,(X,Et)=>{var d=Wt(Et),C=this._getWidthStyleValue(d)||_e(d);n[X]=Math.max(C,this._minColumnWidth),A+=n[X]}),{columnsWidths:n,columnsSum:A}}_setColumnsRatioWidth(e,n,A,X){we(e,Et=>{var d=hr(X,Et),C;n>0?C=this._minColumnWidth+Math.round((A[Et]-this._minColumnWidth)*n):C=this._minColumnWidth,qe(this,{elements:d,property:"width",value:C})})}_updateColumnsWidth(e,n){var A=this._getTableDeterminantElements(e),X=this._tableResizeFrames[n];X||(this._tableResizeFrames[n]={}),X=this._tableResizeFrames[n];var Et=this._tableLastWidth(X)||_e(e),d,{columnsWidths:C,columnsSum:t}=this._getColumnElementsSum(A),y=A.length*this._minColumnWidth;t>y?d=(Et-y)/(t-y):d=-1,this._tableLastWidth(X,d>0?Et:y),this._setColumnsRatioWidth(A,d,C,e)}_updateTablesColumnsWidth(e){we(e,(n,A)=>{this._updateColumnsWidth(Wt(A),n)})}option(e,n){if(e==="tableResizing"){this.handleOptionChangeValue(n);return}e==="enabled"?(this.enabled=n,n?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(e)&&(this["_".concat(e)]=this._minSizeLimit(e,n))}clean(){this._removeResizeFrames(!0),this._detachEvents(),Ii.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}var Ou="dxHtmlEditorTableContextMenu",to=xe("dxcontextmenu",Ou),No=Le,qn=r=>qt.format("dxHtmlEditor-".concat(Hn(r)));ce&&(No=class extends Le{constructor(r,e){super(r,e),this.enabled=!!e.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=Po(this),this._tableFormats=mo(r),this.enabled&&this._enableContextMenu(e.items)}_enableContextMenu(r){var e;(e=this._contextMenu)===null||e===void 0||e.dispose(),this._contextMenu=this._createContextMenu(r),this._attachEvents()}_attachEvents(){de.on(this.editorInstance._getContent(),to,this._prepareContextMenuHandler())}_detachEvents(){de.off(this.editorInstance._getContent(),to)}_createContextMenu(r){var e=Wt("<div>").appendTo(this.editorInstance.$element()),n=this._getMenuConfig(r);return this.editorInstance._createComponent(e,Sa,n)}showPropertiesForm(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cell",e=Wt(this._targetElement).closest(r==="cell"?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(r,"Properties")](e),this._targetElement=null}_isAcceptableItem(r,e){return!r||r===e}_handleObjectItem(r){if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var e=this._prepareMenuItemConfig(r.name),n=ue(!0,e,r);return n}else return r.items&&(r.items=this._prepareMenuItems(r.items)),r}_prepareMenuItemConfig(r){var e,n,A=(e=So[r])!==null&&e!==void 0?e:r,X=Dn(r);return{text:qn(X),icon:A.toLowerCase(),onClick:(n=this._formatHandlers[r])!==null&&n!==void 0?n:mi(this,r)}}_prepareMenuItems(r){var e=[];return we(r,(n,A)=>{var X;Yr(A)?X=this._handleObjectItem(A):hi(A)&&(X=this._prepareMenuItemConfig(A)),X&&e.push(X)}),e}_getMenuConfig(r){var e=[{text:qn("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",ue(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:qn("delete"),items:["deleteColumn","deleteRow","deleteTable"]},ue(this._prepareMenuItemConfig("cellProperties"),{onClick:A=>{this.showPropertiesForm("cell")}}),ue(this._prepareMenuItemConfig("tableProperties"),{onClick:A=>{this.showPropertiesForm("table")}})],n=this._prepareMenuItems(r!=null&&r.length?r:e);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:n}}_prepareContextMenuHandler(){return r=>{this._isTableTarget(r.target)&&(this._targetElement=r.target,this._setContextMenuPosition(r),this._contextMenu.show(),r.preventDefault())}}_setContextMenuPosition(r){var e=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:r.clientX-e.left,y:r.clientY-e.top}}})}_isTableTarget(r){return!!Wt(r).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(r,e){if(r==="tableContextMenu"){this.handleOptionChangeValue(e);return}if(r==="enabled")this.enabled=e,e?this._enableContextMenu():this.clean();else if(r==="items"){var n;(n=this._contextMenu)===null||n===void 0||n.dispose(),this._contextMenu=this._createContextMenu(e)}}prepareCleanCallback(){return()=>{this.clean()}}});const Eu=No;var Xn="dxHtmlEditorImageUpload",Cu="dx-htmleditor-hidden-content",Lo=Le;ce&&(Lo=class extends Le{constructor(r,e){super(r,e),this.options=e,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){var r=ge(this.options.fileUploadMode)&&this.options.fileUploadMode!=="base64";r?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var r;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),(r=this._fileUploader)===null||r===void 0||r.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){var r=Wt("<div>").addClass(Cu).appendTo(this._quillContainer),e=ue({},Oo(),{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(r,co,e),r}_onUploaded(r){var e,{index:n}=(e=this.quill.getSelection())!==null&&e!==void 0?e:{index:this.quill.getLength()};Co(this.options.uploadDirectory,r.file.name,this.quill,n)}_attachEvents(){de.on(this.quill.root,xe("drop",Xn),this._dropHandler.bind(this)),de.on(this.quill.root,xe("paste",Xn),this._pasteHandler.bind(this))}_detachEvents(){de.off(this.quill.root,Xn)}_dropHandler(r){this._handleInsertImages(r,"dataTransfer")}_pasteHandler(r){this._handleInsertImages(r,"clipboardData")}_handleInsertImages(r,e){this.saveValueChangeEvent(r);var n=Array.from(r.originalEvent[e].files||[]),A=n;A.length&&(r.preventDefault(),r.stopPropagation(),this._fileUploader.option("value",A),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(r,e){switch(r){case"imageUpload":this.handleOptionChangeValue(e);break;case"fileUploadMode":this.options.fileUploadMode=e,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(e)}}});const Tu=Lo;var Su="dxHtmlEditorImageCursor",eo=xe("dxclick",Su),Mo=Le;ce&&(Mo=class extends Le{constructor(r,e){super(r,e),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){de.on(this.quill.root,eo,this._clickHandler.bind(this))}_detachEvents(){de.off(this.quill.root,eo)}_clickHandler(r){this._isAllowedTarget(r.target)&&this._adjustSelection(r)}_isAllowedTarget(r){return this._isImage(r)}_isImage(r){return r.tagName.toUpperCase()==="IMG"}_adjustSelection(r){var e=this.quill.scroll.find(r.target);if(e){var n=e.offset(this.quill.scroll);this.quill.setSelection(n+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const Pu=Mo;class wu{constructor(){this._storage={}}set(e,n){var A,X,{editorKey:Et,marker:d}=e;(X=(A=this._storage)[Et])!==null&&X!==void 0||(A[Et]={}),this._storage[Et][d]=n}get(e){var n,A,{editorKey:X,marker:Et}=e,d=!ge(X);return d?(n=Object.values(this._storage).at(-1))===null||n===void 0?void 0:n[Et]:(A=this._storage[X])===null||A===void 0?void 0:A[Et]}delete(e){var{editorKey:n,marker:A}=e;this._storage[n]&&(delete this._storage[n][A],Mn(this._storage[n])&&delete this._storage[n])}}var ln={};if(ce){var Au=ce.import("blots/embed"),xu="dx-mention";ln=class si extends Au{constructor(e,n){super(e,n),this.renderContent(this.contentNode,si.value(n))}static create(e){var n=super.create();return n.setAttribute("spellcheck",!1),n.dataset.marker=e.marker,n.dataset.mentionValue=e.value,n.dataset.id=e.id,n}static value(e){return{marker:e.dataset.marker,id:e.dataset.id,value:e.dataset.mentionValue}}renderContent(e,n){var A=si._templatesStorage.get({editorKey:n.keyInTemplateStorage,marker:n.marker});A?A.render({model:n,container:e}):this.baseContentRender(e,n)}baseContentRender(e,n){var A=Wt("<span>").text(n.marker);Wt(e).append(A).append(n.value)}static addTemplate(e,n){this._templatesStorage.set(e,n)}static removeTemplate(e){this._templatesStorage.delete(e)}},ln.blotName="mention",ln.tagName="span",ln.className=xu,ln._templatesStorage=new wu}const Qn=ln;var Do=Le;if(ce){var Ru="user",Iu="@",Be={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},Nu=[Be.ARROW_LEFT,Be.ARROW_RIGHT,Be.PAGE_UP,Be.PAGE_DOWN,Be.END,Be.HOME],Lu=[" ",`
`],Mu="dx-state-disabled";ce.register({"formats/mention":Qn},!0),Do=class extends Ro{_getDefaultOptions(){var r=super._getDefaultOptions();return ue(r,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}constructor(r,e){super(r,e),this._mentions={},e.mentions.forEach(n=>{var A=n.marker;A||(n.marker=A=Iu);var X=n.template;if(X){var Et=this.editorInstance._getTemplate(X);Et&&Qn.addTemplate({marker:A,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},Et)}this._mentions[A]=ue({},this._getDefaultOptions(),n)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:Be.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:Be.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[Be.ENTER,Be.SPACE]},this._selectItemHandler.bind(this));var r=this.quill.keyboard.bindings[Be.ENTER];r.unshift(r.pop()),this.quill.keyboard.addBinding({key:Be.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[Be.ARROW_LEFT,Be.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:Nu},this._ignoreKeyHandler.bind(this))}_moveToItem(r){var e=this._list.getDataSource();if(this._isMentionActive&&!e.isLoading()){var n=Wt(this._list.option("focusedElement")),A=r==="next"?"first":"last",X=n[r]();X=X.length?X:this._activeListItems[A](),this._list.option("focusedElement",ri(X)),this._list.scrollToItem(X)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(r,e,n){return r>n?e:r<e?n:r}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(r,e){this.compileGetters(this.options),super.renderList(r,e)}compileGetters(r){var{displayExpr:e,valueExpr:n}=r;this._valueGetter=Ni(e),this._idGetter=Ni(n)}_getListConfig(r){var e=super._getListConfig(r);return ue(e,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var r=this._activeMentionConfig.marker.length,e=r+this._searchValue.length,n=this.getPosition(),A=this._list.option("selectedItem"),X={value:this._valueGetter(A),id:this._idGetter(A),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},Et=ce.import("delta"),d=Math.max(0,n-r),C=new Et().retain(d).delete(e).insert({mention:X}).insert(" ");this.quill.updateContents(C),this.quill.setSelection(d+2)}_getLastInsertOperation(r){var e=r[r.length-1],n="insert"in e;if(n)return e;var A="delete"in e;if(A&&r.length>=2){var X=r[r.length-2],Et="insert"in X,d=A&&Et;if(d)return X}return null}onTextChange(r,e,n){if(n===Ru){var A=r.ops[r.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(A)&&this._filterList(this._searchValue);else{var{ops:X}=r,Et=this._getLastInsertOperation(X);Et&&this.checkMentionRequest(Et,X)}}}get _isPopupVisible(){var r;return(r=this._popup)===null||r===void 0?void 0:r.option("visible")}_processSearchValue(r){var e="insert"in r;if(e)this._searchValue+=r.insert;else{if(!this._searchValue.length||r.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(r,e){var{insert:n}=r,A=this.quill.getSelection();if(!(!n||!hi(n)||!A||this._isMarkerPartOfText(e[0].retain))&&(this._activeMentionConfig=this._mentions[n],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var X=A.index&&this._getCharByIndex(A.index-1)===`
`;this.savePosition(A.index+X),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(r){return!(!r||Lu.indexOf(this._getCharByIndex(r-1))!==-1)}_getCharByIndex(r){return this.quill.getContents(r,1).ops[0].insert}_updateList(r){var{dataSource:e,displayExpr:n,valueExpr:A,itemTemplate:X,searchExpr:Et}=r;this.compileGetters({displayExpr:n,valueExpr:A}),this._list.unselectAll(),this._list.option({dataSource:e,displayExpr:n,itemTemplate:X,searchExpr:Et})}_filterList(r){if(!this._isMinSearchLengthExceeded(r)){this._resetFilter();return}var e=this._activeMentionConfig.searchTimeout;e?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(r)},e)):this._search(r)}_isMinSearchLengthExceeded(r){return r.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(r){this._hasSearch=!0,this._list.option("searchValue",r)}_focusFirstElement(){if(this._list){var r=this._activeListItems.first();this._list.option("focusedElement",ri(r)),this._list.scrollToItem(r)}}get _popupPosition(){var r=this.getPosition(),{left:e,top:n,height:A}=this.quill.getBounds(r&&r-1),{left:X,top:Et}=Wt(this.quill.root).offset(),d=de.Event("positionEvent",{pageX:X+e,pageY:Et+n});return{of:d,offset:{v:A},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return ue(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat(Mu,")"))}clean(){Object.keys(this._mentions).forEach(r=>{this._mentions[r].template&&Qn.removeTemplate({marker:r,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const Du=Do;class kn{constructor(){if(!kn.initialized){var e=this.getQuill(),n=e.import("attributors/style/direction");e.register({"formats/align":ol,"formats/direction":n,"formats/font":nl,"formats/size":il,"formats/extendedImage":tl,"formats/link":rl,"modules/toolbar":Js,"modules/dropImage":tu,"modules/variables":cu,"modules/resizing":vu,"modules/tableResizing":_u,"modules/tableContextMenu":Eu,"modules/imageUpload":Tu,"modules/imageCursor":Pu,"modules/mentions":Du,"themes/basic":Ya},!0),this._customModules=[],kn._initialized=!0}}createEditor(e,n){var A=this.getQuill();return new A(e,n)}registerModules(e){var n=RegExp("modules/*"),A=this.getQuill(),X=d=>!!A.imports[d];for(var Et in e)n.test(Et)&&!X(Et)&&this._customModules.push(Et.slice(8));A.register(e,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return fo()}}class Bu{constructor(){this._converters={}}addConverter(e,n){this._converters[e]=n}getConverter(e){return this._converters[e]}}var ui=new Bu;class ju{setQuillInstance(e){this.quillInstance=e}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var e=this.quillInstance.getContents();return e.length()===1&&this._isDeltaEmpty(e)}_isDeltaEmpty(e){return e.reduce((n,A)=>{var{insert:X}=A;return X.indexOf(`
`)!==-1})}}ui.addConverter("delta",ju);function ku(r){var e=r[1];return e.match(/\S+\./)?"ordered":"bullet"}function Hu(r){var e=r.getAttribute("style");if(e){var n=e.replace(/\n+/g,"").match(/level(\d+)/);return n?n[1]-1:0}else return!1}function Fu(r){var e=r[r.length-1];e.insert=e.insert.trim()}var Uu=r=>{var e=r.import("delta");return(n,A)=>{var X=A.ops.slice(),Et=X[0];Et.insert=Et.insert.replace(/^\s+/,"");var d=Et.insert.match(/^(\S+)\s+/),C=d&&Hu(n);return!d||C===!1?A:(Et.insert=Et.insert.substring(d[0].length,Et.insert.length),Fu(X),X.push({insert:`
`,attributes:{list:ku(d),indent:C}}),new e(X))}},ro="dx-formdialog",Wu="dx-formdialog-form";class $u{constructor(e,n){this._editorInstance=e,this._popupUserConfig=n,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var e=this._editorInstance,n=Wt("<div>").addClass(ro).appendTo(e.$element()),A=this._getPopupConfig();return e._createComponent(n,lo,A)}_attachOptionChangedHandler(){var e;(e=this._popup)===null||e===void 0||e.on("optionChanged",n=>{var{name:A,value:X}=n;A==="title"&&this._updateFormLabel(X)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(e){e.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var e=so()?Pa():null;return sn.real().deviceType==="phone"||e==="xs"}_getPopupConfig(){return ue({onInitialized:e=>{this._popup=e.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:e=>{var n=Wt("<div>").appendTo(e);this._renderForm(n,{onEditorEnterKey:A=>this.callAddButtonAction(A.event),customizeItem:A=>{A.itemType==="simple"&&(A.editorOptions=ue(!0,{},A.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:qt.format("OK"),onClick:e=>this.callAddButtonAction(e.event)}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:qt.format("Cancel"),onClick:()=>{this._popup.hide()}}}],_wrapperClassExternal:ro},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(e){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),e)}_renderForm(e,n){e.addClass(Wu),this._form=this._editorInstance._createComponent(e,ao,n),this._updateFormLabel()}_updateFormLabel(e){var n,A=e??this.popupOption("title");(n=this._form)===null||n===void 0||n.$element().attr("aria-label",A)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:wa()?"top":"left"}}formOption(e,n){return this._form.option.apply(this._form,arguments)}show(e){if(!this._popup.option("visible")){this.deferred=new uo;var n=ue(this._getDefaultFormOptions(),e);return this._form.option(n),this._popup.show(),this.deferred.promise()}}hide(e,n){this.deferred.resolve(e,n),this._popup.hide()}popupOption(e,n){return this._popup.option.apply(this._popup,arguments)}}var Ku="dx-htmleditor",zu="dx-quill-container",Zu="ql-clipboard",Vu="dx-htmleditor-submit-element",Gu="dx-htmleditor-content",Nn="markdown",Yn="htmlContent",qu=sn.current().platform==="ios",Xu=0,Bo=io.inherit({_getDefaultOptions:function(){return ue(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:Aa().editorStylingMode||"outlined"})},_init:function(){this._mentionKeyInTemplateStorage=Xu++,this.callBase(),this._cleanCallback=Li(),this._contentInitializedCallback=Li()},_getAnonymousTemplateName:function(){return Yn},_initTemplates:function(){this._templateManager.addDefaultTemplates({[Yn]:new xa}),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat(Gu))},_focusInHandler:function(r){var{relatedTarget:e}=r;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(r){var{relatedTarget:e}=r;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(r){return Wt(r).hasClass(Zu)},_initMarkup:function(){this._$htmlContainer=Wt("<div>").addClass(zu),this.$element().attr("role","application").addClass(Ku).wrapInner(this._$htmlContainer),this._renderStylingMode();var r=this._getTemplate(Yn);this._$templateResult=r&&r.render({container:ri(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderSubmitElement:function(){this._$submitElement=Wt("<textarea>").addClass(Vu).attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(r){this._getSubmitElement().val(r)},_getSubmitElement:function(){return this._$submitElement},_createNoScriptFrame:function(){return Wt("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})},_removeXSSVulnerableHtml:function(r){var e=this._createNoScriptFrame().appendTo("body"),n=e.get(0),A=n.contentWindow,X=A.document,Et=X.body;Et.innerHTML=r;var d=t=>{if(t.attributes)for(var y=0;y<t.attributes.length;y++){var v=t.attributes[y].name;v.startsWith("on")&&t.removeAttribute(v)}if(t.childNodes)for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m])};d(Et),Et.querySelectorAll("script").forEach(t=>{t.remove()});var C=Et.innerHTML;return e.remove(),C},_updateContainerMarkup:function(){var r=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),r=this._markdownConverter.toHtml(r)),r){var e=this._removeXSSVulnerableHtml(r);this._$htmlContainer.html(e)}},_prepareMarkdownConverter:function(){var r=ui.getConverter("markdown");if(r)this._markdownConverter=new r;else throw ci.Error("E1051","markdown")},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new kn)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var r=ui.getConverter("delta");r&&(this._deltaConverter=new r)}this.option("valueType")===Nn&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new uo;var r=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),r},_pointerMoveHandler:function(r){qu&&r.stopPropagation()},_attachFocusEvents:function(){Ra(this.callBase.bind(this))},_addKeyPressHandler:function(){var r=xe("keydown","".concat(this.NAME,"TextChange"));de.on(this._$htmlContainer,r,this._keyDownHandler.bind(this))},_keyDownHandler:function(r){this._saveValueChangeEvent(r)},_renderHtmlEditor:function(){var r=this.option("customizeModules"),e=this._getModulesConfig();Ia(r)&&r(e),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:e,theme:"basic"}),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=Na(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var r=this._getContent(),e=La(r);de.on(r,xe(Ma.init,this.NAME),e,Da),de.on(r,xe(Ba.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var r=this.option("value");if(!ge(r)){var e=this._deltaConverter.toHtml(),n=this._quillInstance.clipboard.convert({html:e});if(n.ops.length){this._quillInstance.setContents(n);return}}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var r=this._getRegistrator().getQuill(),e=Uu(r),n=ue({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:A=>this._saveValueChangeEvent(xn(A)),imageBlot:"extendedImage"},keyboard:{onKeydown:A=>this._saveValueChangeEvent(xn(A))},clipboard:{onPaste:A=>this._saveValueChangeEvent(xn(A)),onCut:A=>this._saveValueChangeEvent(xn(A)),matchers:[["p.MsoListParagraphCxSpFirst",e],["p.MsoListParagraphCxSpMiddle",e],["p.MsoListParagraphCxSpLast",e]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules());return n},_getModuleConfigByOption:function(r){var e=this.option(r),n={};if(ge(e))return Array.isArray(e)?n[r]=e:n=e,ue(this._getBaseModuleConfig(),n)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var r={},e=this._getRegistrator().getRegisteredModuleNames();return e.forEach(n=>{r[n]=this._getBaseModuleConfig()}),r},_textChangeHandler:function(r,e,n){var A=this._deltaConverter.toHtml(),X=this._isMarkdownValue()?this._updateValueByType(Nn,A):A,Et=this.option("value");Et!==X&&!this._isNullValueConverted(Et,X)&&(this._isEditorUpdating=!0,this.option("value",X)),this._finalizeContentRendering()},_isNullValueConverted:function(r,e){return r===null&&e===""},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(r,e){var n=this._markdownConverter;if(ge(n)){var A=ei(e,this.option("value"));return r===Nn?n.toMarkdown(A):n.toHtml(A)}},_isMarkdownValue:function(){return this.option("valueType")===Nn},_resetEnabledState:function(){if(this._quillInstance){var r=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(r)}},_renderFormDialog:function(){var r=ue(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new $u(this,r)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_prepareModuleOptions(r){var e,n=(e=r.fullName)===null||e===void 0?void 0:e.split("."),A=r.value,X=n.length>=2?n[1]:r.name;return n.length===3&&(A={[n[2]]:A}),[X,A]},_moduleOptionChanged:function(r,e){var n=this.getModule(r),A=!!n;A?n.option(...this._prepareModuleOptions(e)):this._invalidate()},_optionChanged:function(r){switch(r.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var e=this._isMarkdownValue()?this._updateValueByType("HTML",r.value):r.value;this._suppressValueChangeAction(),this._updateHtmlContent(e),this._resumeValueChangeAction()}else this._$htmlContainer.html(r.value);var n=this.option("value");n!==r.previousValue&&(this._setSubmitValue(n),this.callBase(oo({},r,{value:n})));break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",r);break;case"valueType":this._prepareConverters();var A=this._updateValueByType(r.value);r.value==="html"&&this._quillInstance?this._updateHtmlContent(A):this.option("value",A);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(r),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",r);break;case"mediaResizing":!r.previousValue||!r.value?this._invalidate():this.getModule("resizing").option(r.name,r.value);break;case"width":this.callBase(r),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",r);break;default:this.callBase(r)}},_repaintToolbar:function(){this._applyToolbarMethod("repaint")},_updateHtmlContent:function(r){var e=this._quillInstance.clipboard.convert({html:r});this._quillInstance.setContents(e)},_clean:function(){this._quillInstance&&(de.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(r,e){if(this._quillInstance)return this._quillInstance[r].apply(this._quillInstance,e)},_applyQuillHistoryMethod(r){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[r]()},_applyToolbarMethod(r){var e;(e=this.getModule("toolbar"))===null||e===void 0||e[r]()},addCleanCallback(r){this._cleanCallback.add(r)},addContentInitializedCallback(r){this._contentInitializedCallback.add(r)},register:function(r){this._getRegistrator().registerModules(r),this._quillInstance&&this.repaint()},get:function(r){return this._getRegistrator().getQuill().import(r)},getModule:function(r){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(r){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(r,e){this._applyQuillMethod("setSelection",arguments)},getText:function(r,e){return this._applyQuillMethod("getText",arguments)},format:function(r,e){this._applyQuillMethod("format",arguments)},formatText:function(r,e,n,A){this._applyQuillMethod("formatText",arguments)},formatLine:function(r,e,n,A){this._applyQuillMethod("formatLine",arguments)},getFormat:function(r,e){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(r,e){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(r,e){return this._applyQuillMethod("getBounds",arguments)},delete:function(r,e){this._applyQuillMethod("deleteText",arguments)},insertText:function(r,e,n){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(r,e,n){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(r){return this._formDialog.show(r)},formDialogOption:function(r,e){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")},getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}});fi("dxHtmlEditor",Bo);const Qu=Object.freeze(Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"})),Yu=ja(Qu);/*!
 * devextreme-vue
 * Version: 22.2.12
 * Build date: Mon Apr 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var no;function Ju(){if(no)return se;no=1;var r=se&&se.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(se,"__esModule",{value:!0}),se.DxVariables=se.DxToolbarItem=se.DxToolbar=se.DxTableResizing=se.DxTableContextMenuItem=se.DxTableContextMenu=se.DxTab=se.DxMention=se.DxMediaResizing=se.DxItem=se.DxImageUpload=se.DxFileUploaderOptions=se.DxHtmlEditor=void 0;var e=r(Yu),n=Mi(),A=Mi(),X=n.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowSoftLineBreak:Boolean,customizeModules:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,imageUpload:Object,isValid:Boolean,mediaResizing:Object,mentions:Array,name:String,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,tableContextMenu:Object,tableResizing:Object,toolbar:Object,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:{},valueType:String,variables:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSoftLineBreak":null,"update:customizeModules":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:imageUpload":null,"update:isValid":null,"update:mediaResizing":null,"update:mentions":null,"update:name":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:tableContextMenu":null,"update:tableResizing":null,"update:toolbar":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:valueType":null,"update:variables":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=e.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={imageUpload:{isCollectionItem:!1,optionName:"imageUpload"},mediaResizing:{isCollectionItem:!1,optionName:"mediaResizing"},mention:{isCollectionItem:!0,optionName:"mentions"},tableContextMenu:{isCollectionItem:!1,optionName:"tableContextMenu"},tableResizing:{isCollectionItem:!1,optionName:"tableResizing"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},variables:{isCollectionItem:!1,optionName:"variables"}}}});se.DxHtmlEditor=X;var Et=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:abortUpload":null,"update:accept":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowCanceling":null,"update:allowedFileExtensions":null,"update:bindingOptions":null,"update:chunkSize":null,"update:dialogTrigger":null,"update:disabled":null,"update:dropZone":null,"update:elementAttr":null,"update:extendSelection":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:invalidFileExtensionMessage":null,"update:invalidMaxFileSizeMessage":null,"update:invalidMinFileSizeMessage":null,"update:isValid":null,"update:labelText":null,"update:maxFileSize":null,"update:minFileSize":null,"update:multiple":null,"update:name":null,"update:onBeforeSend":null,"update:onContentReady":null,"update:onDisposing":null,"update:onDropZoneEnter":null,"update:onDropZoneLeave":null,"update:onFilesUploaded":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onProgress":null,"update:onUploadAborted":null,"update:onUploaded":null,"update:onUploadError":null,"update:onUploadStarted":null,"update:onValueChanged":null,"update:progress":null,"update:readOnly":null,"update:readyToUploadMessage":null,"update:rtlEnabled":null,"update:selectButtonText":null,"update:showFileList":null,"update:stylingMode":null,"update:tabIndex":null,"update:uploadAbortedMessage":null,"update:uploadButtonText":null,"update:uploadChunk":null,"update:uploadCustomData":null,"update:uploadedMessage":null,"update:uploadFailedMessage":null,"update:uploadFile":null,"update:uploadHeaders":null,"update:uploadMethod":null,"update:uploadMode":null,"update:uploadUrl":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:visible":null,"update:width":null},props:{abortUpload:Function,accept:String,accessKey:String,activeStateEnabled:Boolean,allowCanceling:Boolean,allowedFileExtensions:Array,bindingOptions:Object,chunkSize:Number,dialogTrigger:{},disabled:Boolean,dropZone:{},elementAttr:Object,extendSelection:Boolean,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},invalidFileExtensionMessage:String,invalidMaxFileSizeMessage:String,invalidMinFileSizeMessage:String,isValid:Boolean,labelText:String,maxFileSize:Number,minFileSize:Number,multiple:Boolean,name:String,onBeforeSend:Function,onContentReady:Function,onDisposing:Function,onDropZoneEnter:Function,onDropZoneLeave:Function,onFilesUploaded:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onProgress:Function,onUploadAborted:Function,onUploaded:Function,onUploadError:Function,onUploadStarted:Function,onValueChanged:Function,progress:Number,readOnly:Boolean,readyToUploadMessage:String,rtlEnabled:Boolean,selectButtonText:String,showFileList:Boolean,stylingMode:String,tabIndex:Number,uploadAbortedMessage:String,uploadButtonText:String,uploadChunk:Function,uploadCustomData:{},uploadedMessage:String,uploadFailedMessage:String,uploadFile:Function,uploadHeaders:{},uploadMethod:String,uploadMode:String,uploadUrl:String,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:Array,visible:Boolean,width:[Function,Number,String]}});se.DxFileUploaderOptions=Et,Et.$_optionName="fileUploaderOptions";var d=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fileUploaderOptions":null,"update:fileUploadMode":null,"update:tabs":null,"update:uploadDirectory":null,"update:uploadUrl":null},props:{fileUploaderOptions:Object,fileUploadMode:String,tabs:Array,uploadDirectory:String,uploadUrl:String}});se.DxImageUpload=d,d.$_optionName="imageUpload",d.$_expectedChildren={fileUploaderOptions:{isCollectionItem:!1,optionName:"fileUploaderOptions"},tab:{isCollectionItem:!0,optionName:"tabs"}};var C=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});se.DxItem=C,C.$_optionName="items",C.$_isCollectionItem=!0;var t=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedTargets":null,"update:enabled":null},props:{allowedTargets:Array,enabled:Boolean}});se.DxMediaResizing=t,t.$_optionName="mediaResizing";var y=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:displayExpr":null,"update:itemTemplate":null,"update:marker":null,"update:minSearchLength":null,"update:searchExpr":null,"update:searchTimeout":null,"update:template":null,"update:valueExpr":null},props:{dataSource:{},displayExpr:[Function,String],itemTemplate:{},marker:String,minSearchLength:Number,searchExpr:[Array,Function,String],searchTimeout:Number,template:{},valueExpr:[Function,String]}});se.DxMention=y,y.$_optionName="mentions",y.$_isCollectionItem=!0;var v=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:name":null},props:{name:String}});se.DxTab=v,v.$_optionName="tabs",v.$_isCollectionItem=!0;var m=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});se.DxTableContextMenu=m,m.$_optionName="tableContextMenu",m.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},tableContextMenuItem:{isCollectionItem:!0,optionName:"items"}};var g=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,html:String,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});se.DxTableContextMenuItem=g,g.$_optionName="items",g.$_isCollectionItem=!0;var D=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:minColumnWidth":null,"update:minRowHeight":null},props:{enabled:Boolean,minColumnWidth:Number,minRowHeight:Number}});se.DxTableResizing=D,D.$_optionName="tableResizing";var M=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:container":null,"update:items":null,"update:multiline":null},props:{container:{},items:Array,multiline:Boolean}});se.DxToolbar=M,M.$_optionName="toolbar",M.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var I=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});se.DxToolbarItem=I,I.$_optionName="items",I.$_isCollectionItem=!0;var x=A.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:escapeChar":null},props:{dataSource:{},escapeChar:[Array,String]}});return se.DxVariables=x,x.$_optionName="variables",se.default=X,se}Ju();const tc={class:"content-block dx-card responsive-paddings"},oc={__name:"Faqs",setup(r){const e=Ka(),{t:n}=ka(),A=Kn("mt"),X=Kn("mf"),Et=Kn("routeHistoryState"),d=Di(null),C=Di(null),t=Ha({gridData:null,validationRules:{topic:[{type:"required",message:n("settings.faqs.topic")+A.validations.required}],question:[{type:"required",message:n("settings.faqs.question")+A.validations.required}],answer:[{type:"required",message:n("settings.faqs.answer")+A.validations.required}]}});e.dispatch("settingFaq/getFaqs"),Fa(()=>e.state.settingFaq.faqs,I=>{t.gridData=X.cloneDeep(I)}),Ua(()=>e.dispatch("settingFaq/resetState"));function y(I){I.changes.length&&e.dispatch("settingFaq/save",I)}function v(I){d.value.instance.option("editing.form.items[2].editorOptions.value",I.value),d.value.instance.option("editing.form.items[3].visible",!I.value),d.value.instance.option("editing.form.items[4].visible",I.value)}function m(I){d.value.instance.option("editing.popup.title",n("settings.faqs.popup.create"))}function g(I){const x=/<\/?[a-z][\s\S]*>/i.test(I.data.answer);v({value:x}),d.value.instance.option("editing.popup.title",n("settings.faqs.popup.edit"))}function D(I){X.checkPinDataGrid(I,d.value.instance);let x=I.component.option("toolbarItems");x.push({toolbar:"bottom",location:"before",widget:"dxButton",options:{icon:"image",text:n("titles.chooseImage"),onClick:()=>C.value.show({clientPath:"faqs"})}}),I.component.option("toolbarItems",x),X.pushPopupToHistoryState(Et,()=>d.value.instance.cancelEditData())}function M(){X.popRouteHistoryState(Et)}return(I,x)=>{const N=za("DxToolbar");return Za(),Wa("div",tc,[$a("div",null,[Qr(hn(dn.DxDataGrid),{ref_key:"dataGridRef",ref:d,"data-source":t.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"popup",popup:{showTitle:!0,onShown:D,onHidden:M},form:{labelLocation:I.$screen.getScreenSizeInfo.isXSmall?"top":"left",items:[{dataField:"topic",colSpan:2},{dataField:"question",colSpan:2},{editorType:"dxCheckBox",colSpan:2,editorOptions:{value:!1,onValueChanged:v},label:{text:I.$t("settings.faqs.useHtml")}},{visible:!0,colSpan:2,dataField:"answer",editorType:"dxTextArea",editorOptions:{stylingMode:"filled",height:150}},{visible:!1,dataField:"answer",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{mediaResizing:{enabled:!0},toolbar:{items:["undo","redo","separator","bold","italic","strike","underline","separator","alignLeft","alignCenter","alignRight","alignJustify","separator","orderedList","bulletList","separator","color","background","separator","link","image","separator","clear","insertTable"]}}}]},startEditAction:"dblClick"},onContentReady:x[0]||(x[0]=j=>I.$mf.dataGridPreload(t.gridData,d.value.instance)),onInitNewRow:m,onEditingStart:g,onSaved:y},{commandCellTemplate:Bi(({data:j})=>[Qr(N,{items:[{visible:j.data.status!=4,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"edit",hint:I.$t("buttons.edit"),text:I.$t("buttons.edit"),onClick:()=>{d.value.instance.editRow(j.rowIndex)}}},{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"trash",hint:I.$t("buttons.delete"),text:I.$t("buttons.delete"),onClick:()=>I.$bus.emit("checkPin",()=>d.value.instance.deleteRow(j.rowIndex))}}]},null,8,["items"])]),default:Bi(()=>[Qr(hn(dn.DxColumn),{fixed:!0,width:I.$screen.getScreenSizeInfo.isXSmall?35:65,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:I.$t(`titles.commandHeaderTitle${I.$screen.getScreenSizeInfo.isXSmall?"Short":""}`)},null,8,["width","caption"]),Qr(hn(dn.DxColumn),{"data-field":"topic","header-filter":{allowSearch:!0},caption:I.$t("settings.faqs.topic"),"validation-rules":t.validationRules.topic},null,8,["caption","validation-rules"]),Qr(hn(dn.DxColumn),{"data-field":"question","header-filter":{allowSearch:!0},caption:I.$t("settings.faqs.question"),"validation-rules":t.validationRules.question},null,8,["caption","validation-rules"]),Qr(hn(dn.DxColumn),{visible:!1,"data-field":"answer","header-filter":{allowSearch:!0},caption:I.$t("settings.faqs.answer"),"validation-rules":t.validationRules.answer},null,8,["caption","validation-rules"])]),_:1},8,["data-source","editing"]),Qr(Va,{ref_key:"pickImagePopupRef",ref:C},null,512)])])}}};export{oc as default};
