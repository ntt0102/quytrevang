import{a as n,n as i}from"./app-089c7b72.js";import{D as r,a as o}from"./data-grid-9e4dd793.js";import{a as l}from"./dialog-e8748e84.js";import{a as d}from"./index-1ef70744.js";import"./ui.data_grid.row_dragging-13991560.js";const c={components:{DxDataGrid:r,DxColumn:o},data(){return{gridData:null}},beforeCreate(){this.$store.registerModule("Settings",d)},created(){this.fetchLog().then(a=>this.gridData=a)},destroyed(){this.$store.unregisterModule("Settings")},computed:{dataGrid:function(){return this.$refs.dataGrid.instance}},methods:{...n("Settings",["fetchLog"]),showProperties(a){this.$bus.emit("checkPin",()=>{let t=JSON.stringify(a.attributes,void 0,4);l(`<pre>${this.syntaxHighlight(t)}</pre>`,this.$t("settings.log.propertiesTitle"))})},syntaxHighlight(a){return a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(t){var e="number";return/^"/.test(t)?/:$/.test(t)?e="key":e="string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"})}}};var u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-page"},[e("h2",{staticClass:"content-block"},[t._v(" "+t._s(t.$t("settings.log.title"))+" ")]),e("div",{staticClass:"content-block dx-card responsive-paddings"},[e("div",[e("DxDataGrid",{ref:"dataGrid",attrs:{"data-source":t.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"}},on:{contentReady:function(s){return t.$mf.dataGridPreload(t.gridData,t.dataGrid)}},scopedSlots:t._u([{key:"commandCellTemplate",fn:function({data:s}){return[e("DxToolbar",{attrs:{items:[{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"info",hint:t.$t("settings.log.propertiesBtn"),text:t.$t("settings.log.propertiesBtn"),onClick:()=>t.showProperties(s.data.properties)}}]}})]}}])},[e("DxColumn",{attrs:{fixed:!0,width:35,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:t.$t("titles.commandHeaderTitleShort")}}),e("DxColumn",{attrs:{"data-field":"created_at","data-type":"date",caption:t.$t("settings.log.createdAt")}}),e("DxColumn",{attrs:{"data-field":"causer",caption:t.$t("settings.log.causer")}}),e("DxColumn",{attrs:{"data-field":"subject",caption:t.$t("settings.log.subject")}}),e("DxColumn",{attrs:{"data-field":"description",caption:t.$t("settings.log.description")}})],1)],1)])])},g=[],p=i(c,u,g,!1,null,"6e66d02e",null,null);const D=p.exports;export{D as default};
