var Ll=Object.defineProperty;var es=t=>{throw TypeError(t)};var Ul=(t,o,e)=>o in t?Ll(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var de=(t,o,e)=>Ul(t,typeof o!="symbol"?o+"":o,e),qo=(t,o,e)=>o.has(t)||es("Cannot "+e);var G=(t,o,e)=>(qo(t,o,"read from private field"),e?e.call(t):o.get(t)),re=(t,o,e)=>o.has(t)?es("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(t):o.set(t,e),Jt=(t,o,e,p)=>(qo(t,o,"write to private field"),p?p.call(t,e):o.set(t,e),e),Vt=(t,o,e)=>(qo(t,o,"access private method"),e);var ho=(t,o,e,p)=>({set _(d){Jt(t,o,d,e)},get _(){return G(t,o,p)}});import{C as zl,E as Hs,G as $l,H as gr,h as zr,c as Ue,r as fe,y as jo,I as Vl,J as Gl,m as di,o as Ne,p as qs,f as So,e as Ie,d as pe,K as je,b as Ke,F as Ao,A as hi,t as Jr,u as jn,k as jr,L as Dn,M as Ln,N as Ks,w as uo,g as Ko,n as Yo,x as Fe,O as Hl,Q as Jo,R as ql,l as fo,a as Kl,S as mo,T as Yl,j as Jl,U as Ql}from"./app-BwhKv1xx.js";import{_ as Ys,g as _e,c as Zl,a as Xl,b as tp,d as ep,e as rp}from"./lightweight-charts.esm.development-DtB5SX6X.js";function op(t,o){for(var e=0;e<o.length;e++){const p=o[e];if(typeof p!="string"&&!Array.isArray(p)){for(const d in p)if(d!=="default"&&!(d in t)){const s=Object.getOwnPropertyDescriptor(p,d);s&&Object.defineProperty(t,d,s.get?s:{enumerable:!0,get:()=>p[d]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Js(t,o,e){return zl(t,+Hs(t)+o)}function Fr(t,o,e){return Js(t,o*$l)}function ip(t,o,e){return Js(t,o*1e3)}function fi(t,o){const e=Hs(t,o==null?void 0:o.in);if(isNaN(+e))throw new RangeError("Invalid time value");let p="",d="";const s="-",n=":";{const u=gr(e.getDate(),2),l=gr(e.getMonth()+1,2);p=`${gr(e.getFullYear(),4)}${s}${l}${s}${u}`}{const u=e.getTimezoneOffset();if(u!==0){const w=Math.abs(u),E=gr(Math.trunc(w/60),2),k=gr(w%60,2);d=`${u<0?"+":"-"}${E}:${k}`}else d="Z";const l=gr(e.getHours(),2),c=gr(e.getMinutes(),2),f=gr(e.getSeconds(),2),v=p===""?"":"T",b=[l,c,f].join(n);p=`${p}${v}${b}${d}`}return p}function yo(t,o,e){return ip(t,-o)}const np={__name:"ProgressContext",props:["progress","chartHeightEnough"],emits:["refreshPattern"],setup(t,{emit:o}){const e=zr(),p=o,d=Ue(()=>e.state.tradingDerivative.config.patternType),s=fe([]);jo(()=>{n()});function n(){Vl(Object.assign({"../../../../../lang/vi/derivative.js":()=>Gl(()=>import("./derivative-9yqJ2euY.js"),[])}),`../../../../../lang/${window.lang}/derivative.js`,8).then(l=>{s.value=l.default||[]})}function u(){p("refreshPattern")}return(l,c)=>{const f=di("DxButton");return Ne(),qs(Ys,{class:"pattern-context"},{default:So(()=>[Ie(f,{type:"success",stylingMode:"outlined",icon:"refresh",text:l.$t("buttons.refresh"),onClick:u},null,8,["text"]),pe("div",{class:je(["steps",{portrait:t.chartHeightEnough}])},[(Ne(!0),Ke(Ao,null,hi(s.value[d.value-1],(v,b)=>(Ne(),Ke("div",{key:b,class:je(["step",[t.progress.step&&t.progress.step===b+1?t.progress.result?"success":"fail":""]])},[pe("div",{class:je(["name",[t.progress.steps?t.progress.steps[b].every(Boolean)?"success":"fail":""]])},Jr(b+1)+". "+Jr(v.name),3),pe("div",null,[(Ne(!0),Ke(Ao,null,hi(v.conds,(w,E)=>(Ne(),Ke("div",{key:E,class:je(["condition",[t.progress.steps?t.progress.steps[b][E]?"success":"fail":""]])},Jr(E+1)+". "+Jr(w),3))),128))])],2))),128))],2)]),_:1})}}},sp=["title"],ap={__name:"ProgressTool",props:["chartHeightEnough"],emits:["refreshPattern","hideContext"],setup(t,{expose:o,emit:e}){const p=zr(),{t:d}=jn(),s=jr("mf"),n=e,u=fe({}),l=fe(!1),c=Ue(()=>p.state.tradingDerivative.config.autoRefresh);o({hide:v,set:b}),jo(()=>{window.addEventListener("keydown",z)}),Dn(()=>{window.removeEventListener("keydown",z)});function f(){const A=l.value;n("hideContext"),l.value=!A}function v(A=!1){l.value=A}function b(A){k(A,u.value),u.value=A}function w(){n("refreshPattern")}function E(){p.dispatch("tradingDerivative/setAutoRefresh",!c.value)}function k(A,R){if(s.isSet(A)&&(A.step!==R.step||A.step===R.step&&A.result!==R.result)){let V="";A.result?V=d("trading.derivative.toasts.progressSuccess",A):V=d("trading.derivative.toasts.progressFail",A),N(V)}}function N(A){const R=new SpeechSynthesisUtterance(A);R.lang="vi-VN",speechSynthesis.speak(R)}function z(A){A.key==="F3"&&(f(),A.preventDefault())}return(A,R)=>(Ne(),Ke("div",{class:je(["context command",{green:u.value.result===!0,red:u.value.result===!1}]),title:A.$t("trading.derivative.tools.progress"),onClick:f,onContextmenu:E},[pe("i",{class:je(["far",{"fa-badge-check":!u.value.step,[`fa-circle-${u.value.step}`]:u.value.step,blink:c.value}])},null,2),Ln(Ie(np,{class:"contextmenu",progress:u.value,chartHeightEnough:t.chartHeightEnough,onRefreshPattern:w},null,8,["progress","chartHeightEnough"]),[[Ks,l.value]])],42,sp))}},lp=["title"],pp=["title"],up=pe("i",{class:"far fa-heart-rate"},null,-1),cp=[up],dp="VN30F1M",hp=2,fp=1,mp={__name:"PatternTool",props:["bars","pickTimeToolRef","timeToIndex","indexToTime"],emits:["setProgress","setPatternOrder","hideContext"],setup(t,{expose:o,emit:e}){const p=zr(),d=jr("mf"),s=t,n=e,u=fe(null),l=Ue(()=>p.state.tradingDerivative.tools.pattern),c=Ue(()=>p.state.tradingDerivative.config.patternType);let f={},v={},b={};const w={yellow:"rgba(255, 255, 0, 0.7)",orange:"rgba(255, 127, 0, 0.7)",red:"rgba(255, 0, 0, 0.7)",pink:"rgba(255, 20, 147, 0.7)",purple:"rgba(128, 0, 255, 0.7)",cyan:"rgba(0, 255, 255, 0.7)",green:"rgba(0, 255, 0, 0.7)"};o({isSelected:E,createSeries:k,draw:A,refresh:j,remove:Ot}),uo(l,et=>{setTimeout(()=>{V(et,{isCheck:!0})},0)});function E(){return u.value.classList.contains("selected")}function k(et){if(!et)return!1;b.pattern=et.addLineSeries({color:"#F5F5F5",lastValueVisible:!1,priceLineVisible:!1}),b.timeMark=et.addHistogramSeries({priceScaleId:"timeMark",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function N(et){n("hideContext");const _=et.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(Q=>Q.classList.remove("selected")),_||et.target.classList.add("selected")}function z(et){et.target.classList.remove("selected"),n("hideContext"),Ot()}function A({time:et,price:_}){let Q={};if(d.isSet(v.X)){Q=d.cloneDeep(f);const nt=fi(new Date(et*1e3));Q.A={time:{t:et,d:nt},price:_},console.log("points",Q)}else{const nt=et?s.bars.filter(yt=>!d.cmp(yt.time,!0,et)):s.bars;Q=R(nt)}V(Q,{isSave:!0}),u.value.classList.remove("selected")}function R(et){let _,Q,[nt,yt,it,C]=Array(4).fill({});for(let O=et.length-1;O>=0;O--){const st=et[O].high,mt=et[O].low,ht=et[O].time,ut=et[O].date,gt=s.timeToIndex(ht);if(O===et.length-1&&(_={time:{t:ht,d:ut,i:gt},high:st,low:mt}),Q===void 0){if(st<=_.high&&mt>=_.low||st>_.high&&mt<_.low)continue;st>_.high&&mt>=_.low&&(Q=!0),mt<_.low&&st<=_.high&&(Q=!1),it={price:Q?_.low:_.high,time:_.time},[yt,nt,C]=Array(3).fill(null).map(()=>d.cloneDeep(it))}const _t=Q?st:mt,F=Q?mt:st;if(d.cmp(_t,Q,yt.price)&&(d.cmp(nt.price,!Q,it.price)?([it,yt]=[yt,nt].map(K=>d.cloneDeep(K)),nt={time:{t:ht,d:ut,i:gt},price:_t},C=d.cloneDeep(nt),Q=!Q):yt={time:{t:ht,d:ut,i:gt},price:_t}),d.cmp(F,!Q,nt.price,!0)&&(nt={time:{t:ht,d:ut,i:gt},price:F},C=d.cloneDeep(nt)),d.cmp(_t,Q,C.price)&&(C={time:{t:ht,d:ut,i:gt},price:_t}),it.time.i>nt.time.i&&d.cmp(it.price,Q,nt.price)){const K=d.fmtNum(yt.price-it.price,1,!0);if(K>=fp&&(nt.time.i-C.time.i>=it.time.i-yt.time.i||d.fmtNum(nt.price-C.price,1,!0)>K))break}}return delete nt.time.i,delete yt.time.i,delete it.time.i,{A:nt,B:yt,C:it}}function V(et,{isSave:_=!1,isCheck:Q=!1}={}){if(!d.isSet(et))return!1;f=d.cloneDeep(et),_&&lt(),(Q?x(f.A.time.t):!0)&&(kt(),X())}function X(){let _={lineType:"pattern",lineWidth:1,lineStyle:1,draggable:!1};const{target:[[Q,nt],[yt,it],[C,O],[st,mt]]}=T();_.point="X",_.price=d.fmtNum(Q),_.title=`X ${d.fmtNum(nt)}`,_.color="#FF1493",_.draggable=!1,v[_.point]=b.pattern.createPriceLine(_),_.point="Y",_.price=d.fmtNum(yt),_.title=`Y ${d.fmtNum(it)}`,_.color="#8000FF",_.draggable=!1,v[_.point]=b.pattern.createPriceLine(_),_.point="Z",_.price=d.fmtNum(C),_.title=`Z ${d.fmtNum(O)}`,_.color="#00FFFF",_.draggable=!1,v[_.point]=b.pattern.createPriceLine(_),_.point="T",_.price=d.fmtNum(st),_.title=`T ${d.fmtNum(mt)}`,_.color="#FF7F00",_.draggable=!1,v[_.point]=b.pattern.createPriceLine(_)}function j(et=!1){d.isSet(v.X)&&(et&&Tt(),kt(),X())}function T(){let et={};switch(c.value){case 1:et=H();break;case 2:et=rt();break}return n("setProgress",et.progress),n("setPatternOrder",et.order),Y(et.timeMark),b.pattern.setData(et.points),et}function H(){const{A:et,B:_,C:Q}=f,nt=_.price-Q.price;let yt=nt>0;const it=s.pickTimeToolRef.get(),C=D({side:yt,start:et,end:{time:Math.min(it??_.time.t,_.time.t)}}),O=D({side:!yt,start:_,end:{time:Math.min(it??Q.time.t,Q.time.t)}}),st=s.indexToTime(6*O.R.time.i-5*C.S.time.i),mt=D({side:yt,start:Q,end:{time:it??st}}),ht=ct(mt.ext,mt,!0),ut=ht?mt.R1:mt.ext.R,gt=ht?mt.S1:mt.ext.S,_t=D({side:!yt,start:ut,end:{time:Math.min(it??gt.time.t,gt.time.t)}}),F=D({side:yt,start:gt,end:{time:it??st}}),K=ct(F.ext,F,!0),Z=K?F.R1:F.ext.R,bt=K?F.S1:F.ext.S,wt=D({side:!yt,start:Z,end:{time:Math.min(it??bt.time.t,bt.time.t)}}),J=D({side:yt,start:bt,end:{time:it??st}}),L=ct(J.ext,J,!0)?J.R1:J.ext.R;console.log("calcContinuePattern",[C,O,mt,_t,F,wt,J]);const tt=d.fmtNum(_.price-et.price,1,!0),ot=d.fmtNum(nt,1,!0),It=d.fmtNum(ut.price-Q.price,1,!0),m=d.fmtNum(O.R.price1-Q.price,1,!0),h=d.fmtNum(gt.price-ut.price,1,!0),g=d.fmtNum(Z.price-gt.price,1,!0),B=d.fmtNum(_t.R.price1-gt.price,1,!0),U=d.fmtNum(bt.price-Z.price,1,!0);d.fmtNum(bt.price-gt.price,1,!0);const M=ht?mt.pre.tr:mt.tr,St=K?F.pre.tr:F.tr,Ut=C.R.time.i+C.tr,W=O.R.time.i+O.tr,Gt=ut.time.i+M,Lt=gt.time.i+_t.tr,jt=Z.time.i+St,te=[bt.time.i+wt.tr,jt,Lt,Gt,W,Ut],Ct=ot/tt,Xt=It/ot,ee=m/ot,Et=h/It,Wt=g/h,Ft=B/h,Dt=U/g,qt=d.cmp(ut.price,yt,_.price),Zt=d.cmp(Z.price,yt,ut.price);let Qt={};Qt.steps=[[O.R.time1.i>Ut,ot>=C.pr,Ct>=.3,ee<.5],[ut.time1.i>W,Xt>=.5,It<=tt,ut.price!==Z.price],[gt.time1.i>Gt,Et>=.5,Et>=1.25-Xt,Ft<.5,qt?h<=ot?Zt:!Zt&&g>=_t.pr:g>=_t.pr,(qt!==Zt?Dt>=.5:!0)&&Dt>=1.25-Wt],[Z.time1.i>Lt,g>=_t.pr,Wt>=.5,g<=It,h<=ot],[bt.time1.i>jt,Dt>=.5,Dt>=1.25-Wt,U<=h]];let me=[];for(let $e=0;$e<Qt.steps.length;$e++){const be=Qt.steps[$e].every(Boolean);if(me.push(be),!be){Qt.step=$e+1,Qt.result=!1;break}}me[4]?(Qt.step=5,Qt.result=!0):me[2]&&(Qt.step=3,Qt.result=!0);const Ee=[{time:et.time.t,value:et.price,color:w.yellow},{time:C.R.time1.t,value:C.R.price,color:w.orange},{time:O.R.time1.t,value:O.R.price,color:w.red},{time:ut.time1.t,value:ut.price,color:w.pink},{time:gt.time1.t,value:gt.price,color:w.purple},{time:Z.time1.t,value:Z.price,color:w.cyan},{time:bt.time1.t,value:bt.price,color:w.green},{time:L.time1.t,value:L.price}],ce=yt?1:-1,Re=Zt?Z.price:ut.price,Ye=d.fmtNum(Re+ce*.1,1),[er]=q(ut.price,It,yt),Sr=d.fmtNum(er-Ye,1),[Je]=q(ut.price,2*It,yt),ze=d.fmtNum(Je-Ye,1),De=_.price+(yt?1:-1)*ot,yr=d.fmtNum(De-Ye,1),qr=(qt&&!Zt?ut.price+gt.price:Z.price+bt.price)/2,Pe=d.fmtNum(qr-Ye,1),Nt=d.cmp(yr,!yt,Sr)?er:d.cmp(yr,yt,ze)?Je:De,$t=Zt?bt.price:gt.price;let Tr={};return Qt.result&&(Tr={side:ce,price:Ye,tpPrice:Nt,slPrice:$t},console.log("order",Tr)),{timeMark:te,progress:Qt,order:Tr,points:pt(Ee),target:[[er,Sr],[Je,ze],[De,yr],[qr,Pe]]}}function rt(){const{A:et,B:_}=f,Q=et.price-_.price;let nt=Q>0;const yt=s.pickTimeToolRef.get(),it=D({side:!nt,start:et,end:{time:Math.min(yt??_.time.t,_.time.t)}}),C=s.indexToTime(6*it.R.time.i-5*it.S.time.i),O=D({side:nt,start:_,end:{time:yt??C}}),st=ct(O.ext,O,!0),mt=st?O.R1:O.ext.R,ht=st?O.S1:O.ext.S,ut=D({side:!nt,start:mt,end:{time:Math.min(yt??ht.time.t,ht.time.t)}}),gt=D({side:nt,start:ht,end:{time:yt??C}}),_t=ct(gt.ext,gt,!0),F=_t?gt.R1:gt.ext.R,K=_t?gt.S1:gt.ext.S,Z=D({side:!nt,start:F,end:{time:Math.min(yt??K.time.t,K.time.t)}}),bt=D({side:nt,start:K,end:{time:yt??C}}),J=ct(bt.ext,bt,!0)?bt.R1:bt.ext.R;console.log("calcReversalPattern",[it,O,ut,gt,Z,bt]);const at=d.fmtNum(Q,1,!0),L=d.fmtNum(mt.price-_.price,1,!0),tt=d.fmtNum(ht.price-mt.price,1,!0),ot=d.fmtNum(F.price-ht.price,1,!0),It=d.fmtNum(ut.R.price1-ht.price,1,!0),m=d.fmtNum(K.price-F.price,1,!0);d.fmtNum(K.price-ht.price,1,!0);const h=st?O.pre.tr:O.tr,g=_t?gt.pre.tr:gt.tr,B=it.R.time.i+it.tr,U=mt.time.i+h,M=ht.time.i+ut.tr,St=F.time.i+g,W=[K.time.i+Z.tr,St,M,U,B],Gt=L/at,Lt=tt/L,jt=ot/tt,zt=It/tt,te=m/ot,Ct=d.cmp(F.price,nt,mt.price);let Xt={};Xt.steps=[[mt.time1.i>B,L>=it.pr,Gt>=.3,mt.price!==F.price],[ht.time1.i>U,Lt>=.7,tt<=at,zt<.5,ot>=ut.pr,(Ct?te>=.5:!0)&&te>=1.25-jt],[F.time1.i>M,ot>=ut.pr,jt>=.5,ot<=L],[K.time1.i>St,te>=.5,te>=1.25-jt,m<=tt]];let ee=[];for(let ze=0;ze<Xt.steps.length;ze++){const De=Xt.steps[ze].every(Boolean);if(ee.push(De),!De){Xt.step=ze+1,Xt.result=!1;break}}ee[3]?(Xt.step=4,Xt.result=!0):ee[1]&&(Xt.step=2,Xt.result=!0);const Et=[{time:et.time.t,value:et.price,color:w.orange},{time:it.R.time1.t,value:_.price,color:w.red},{time:mt.time1.t,value:mt.price,color:w.pink},{time:ht.time1.t,value:ht.price,color:w.purple},{time:F.time1.t,value:F.price,color:w.cyan},{time:K.time1.t,value:K.price,color:w.green},{time:J.time1.t,value:J.price}],Wt=nt?1:-1,Ft=Ct?F.price:mt.price,Dt=d.fmtNum(Ft+Wt*.1,1),[qt]=q(mt.price,L,nt),Zt=d.fmtNum(qt-Dt,1),[Qt]=q(mt.price,2*L,nt),me=d.fmtNum(Qt-Dt,1),Ee=et.price,ce=d.fmtNum(Ee-Dt,1),Re=(F.price+K.price)/2,Ye=d.fmtNum(Re-Dt,1),er=d.cmp(ce,!nt,Zt)?qt:d.cmp(ce,nt,me)?Qt:Ee,Sr=Ct?K.price:ht.price;let Je={};return Xt.result&&(Je={side:Wt,price:Dt,tpPrice:er,slPrice:Sr},console.log("order",Je)),{timeMark:W,progress:Xt,order:Je,points:pt(Et),target:[[qt,Zt],[Qt,me],[Ee,ce],[Re,Ye]]}}function D({side:et,start:_,end:Q}){let nt=d.cloneDeep(_),yt={},it={},C={},O={},st={};nt.time.i=s.timeToIndex(nt.time.t);const mt=s.bars.filter(ht=>{let ut=ht.time>=_.time.t;return Q.time&&(ut=ut&&ht.time<=Q.time),ut});return mt.length>0?(mt.every((ht,ut)=>{const gt=et?ht.high:ht.low,_t=et?ht.low:ht.high,F=ht.time,K=ht.date,Z=s.timeToIndex(F);if((ut===0||_.price&&_t===_.price)&&(it={R:{price:gt,price1:gt,time:{t:F,d:K,i:Z},time1:{t:F,d:K,i:Z}},S:{price:gt,price1:gt,time:{t:F,d:K,i:Z},time1:{t:F,d:K,i:Z}},pr:0,tr:0},C=d.cloneDeep(it)),_.price&&d.cmp(_t,!et,_.price)||Q.price&&d.cmp(gt,et,Q.price))return!1;if(d.cmp(gt,et,it.R.price,!0)){it.pr>0&&ct(it,C)&&(O=d.cloneDeep(C),C=d.cloneDeep(it),C.tr<O.tr&&(C.tr=O.tr),C.pr<O.pr&&(C.pr=O.pr));const bt=gt===it.R.price,wt=et?Math.min(it.R.price1,it.S.price):Math.max(it.R.price1,it.S.price);it={R:{price:gt,price1:bt?wt:gt,time:{t:F,d:K,i:Z},time1:bt?it.R.time1:{t:F,d:K,i:Z}},S:{price:gt,price1:gt,time:{t:F,d:K,i:Z},time1:{t:F,d:K,i:Z}},pr:0,tr:0}}else d.cmp(_t,!et,it.S.price,!0)?(it.S.time={t:F,d:K,i:Z},_t!==it.S.price&&(it.S.price=_t,it.S.price1=_t,it.S.time1={t:F,d:K,i:Z},it.pr=d.fmtNum(it.S.price-it.R.price,1,!0),it.tr=it.S.time1.i-it.R.time.i)):d.cmp(gt,et,it.S.price1)&&(it.S.price1=gt);return!0}),st=d.cloneDeep(it),yt=d.cloneDeep(it.R)):(yt=d.cloneDeep(nt),C={R:yt,S:{},pr:0,tr:0},O=d.cloneDeep(C),st=d.cloneDeep(C)),{S:nt,R:yt,S1:C.S,R1:C.R,tr:C.tr,pr:C.pr,pre:O,ext:st}}function ct(et,_,Q=!1){const nt=et.pr>=_.pr&&et.tr>=.8*_.tr||et.tr>=_.tr&&et.pr>=.8*_.pr||et.pr>=2*_.pr;return Q?!nt:nt}function x(et){var nt,yt;if(!s.bars.length)return!1;const _=(nt=s.bars[0])==null?void 0:nt.time,Q=(yt=s.bars.at(-1))==null?void 0:yt.time;return console.log("isTimeInChart",{time:et,first:_,last:Q}),typeof _!="number"||typeof Q!="number"?!1:et>=_&&et<=Q}function q(et,_,Q){const nt=et+(Q?1:-1)*_;let yt=d.fmtNum(nt%1),it=nt;return Q?yt>=.1&&yt<=.2?it=Math.floor(nt):yt>=.6&&yt<=.7&&(it=Math.floor(nt)+.5):yt>=.8&&yt<=.9?it=Math.ceil(nt):yt>=.3&&yt<=.4&&(it=Math.floor(nt)+.5),it!==nt&&(it=d.fmtNum(it,1)),[it,nt]}function Tt(){if(s.pickTimeToolRef.get())return!1;const _=f.B.price>f.A.price,Q=s.bars.findIndex(yt=>yt.time===f.C.time.t);let nt=d.cloneDeep(f.C);for(let yt=Q;yt<s.bars.length;yt++){const it=s.bars[yt].time,C=s.bars[yt].date,O=_?s.bars[yt].low:s.bars[yt].high;d.cmp(O,!_,nt.price,!0)&&(nt.time={t:it,d:C},nt.price=O)}nt.time.t!==f.C.time.t&&(f.C=nt,lt())}function lt(et=!1){let _={isRemove:et,symbol:dp,name:"pattern",points:[],data:[]};et?f={}:Object.entries(f).forEach(([Q,nt])=>{_.points.push(Q),_.data.push(nt)}),p.dispatch("tradingDerivative/drawTools",_)}function Ot(){lt(!0),s.pickTimeToolRef.remove(),kt(),Y([]),n("setProgress",{}),n("setPatternOrder",{}),b.pattern.setData([])}function kt(){d.isSet(v.X)&&(b.pattern.removePriceLine(v.X),b.pattern.removePriceLine(v.Y),b.pattern.removePriceLine(v.Z),b.pattern.removePriceLine(v.T)),v={}}function Y(et){const _=[w.green,w.cyan,w.purple,w.pink,w.red,w.orange];let Q=[];et.forEach((nt,yt)=>{let it=s.indexToTime(nt);it&&Q.push({time:it,value:1,color:_[yt]})}),Q.length&&(Q=pt(Q),Q.sort((nt,yt)=>nt.time-yt.time)),b.timeMark.setData(Q)}function pt(et){const _=new Set;return et.map(Q=>{let nt={...Q};for(;_.has(nt.time);)nt.time++;return _.add(nt.time),nt})}function ft(){const et=c.value>=hp?1:c.value+1;p.dispatch("tradingDerivative/setPatternType",et),j()}return(et,_)=>(Ne(),Ke(Ao,null,[pe("div",{ref:"selectPatternRef",class:"context command",title:et.$t("trading.derivative.tools.selectPattern"),onClick:ft},[pe("i",{class:je(["far",{"fa-square-question":!c.value,[`fa-square-${c.value}`]:c.value}])},null,2)],8,lp),pe("div",{ref_key:"patternToolRef",ref:u,class:"context command",title:et.$t("trading.derivative.tools.pattern"),onClick:N,onContextmenu:z},cp,40,pp)],64))}},yp=["title"],gp=pe("i",{class:"far fa-pipe"},null,-1),vp=[gp],rs="VN30F1M",bp={__name:"PickTimeTool",emits:["refreshPattern","hideContext"],setup(t,{expose:o,emit:e}){const p=zr(),d=e,s=fe(null),n=Ue(()=>p.state.tradingDerivative.tools.pickTime);let u=null,l={};o({isSelected:c,createSeries:f,draw:E,remove:N,get:v}),uo(n,z=>{z&&k(z[0])});function c(){return s.value.classList.contains("selected")}function f(z){if(!z)return!1;l.pickTime=z.addHistogramSeries({priceScaleId:"pickTime",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function v(){return u}function b(z){d("hideContext");const A=z.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(R=>R.classList.remove("selected")),A||z.target.classList.add("selected")}function w(z){z.target.classList.remove("selected"),N(),d("refreshPattern")}function E({time:z}){p.dispatch("tradingDerivative/drawTools",{isRemove:!1,symbol:rs,name:"pickTime",points:[0],data:[z]}),k(z),d("refreshPattern"),s.value.classList.remove("selected")}function k(z){u=z,l.pickTime.setData([{time:z,value:1,color:"#007FFF"}])}function N(z=!0){z&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:rs,name:"pickTime"}),l.pickTime.setData([]),u=null}return(z,A)=>(Ne(),Ke("div",{ref_key:"pickTimeToolRef",ref:s,class:"command",title:z.$t("trading.derivative.tools.pickTime"),onClick:b,onContextmenu:w},vp,40,yp))}},wp=["title"],Ep=pe("i",{class:"far fa-grip-lines-vertical"},null,-1),_p=[Ep],os="VN30F1M",Sp={__name:"TimeRangeTool",props:["timeToIndex","indexToTime"],emits:["hideContext"],setup(t,{expose:o,emit:e}){const p=zr(),d=jr("mf"),s=t,n=e,u=fe(null),l=Ue(()=>p.state.tradingDerivative.tools.timeRange);let c=[],f={};o({isSelected:v,createSeries:b,draw:k}),uo(l,R=>{R&&N(R)});function v(){return u.value.classList.contains("selected")}function b(R){if(!R)return!1;f.timeRange=R.addHistogramSeries({priceScaleId:"timeRange",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function w(R){n("hideContext");const V=R.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(X=>X.classList.remove("selected")),V||R.target.classList.add("selected")}function E(R){A(),R.target.classList.remove("selected")}function k({time:R}){let V={isRemove:!1,symbol:os,name:"timeRange",points:[],data:[]},X={time:R,value:1};switch(c.length){case 0:X.color="OrangeRed",c[0]=X,V.points.push(0),V.data.push(R);break;case 1:X.color="lime",c[1]=X,V.points.push(1),V.data.push(R),u.value.classList.remove("selected");break;default:const j=s.timeToIndex(c[0].time),T=s.timeToIndex(c[1].time),rt=s.timeToIndex(R)+(T-j),D=s.indexToTime(rt);X.color="OrangeRed",c[0]=d.cloneDeep(X),V.points.push(0),V.data.push(R),X.time=D,X.color="lime",c[1]=X,V.points.push(1),V.data.push(D),u.value.classList.remove("selected");break}f.timeRange.setData(c),p.dispatch("tradingDerivative/drawTools",V)}function N(R){A(!1),z(R)}function z(R){let V,X;if(R.length===2)V=R[0],X=R[1];else if(R.length===3){const T=s.timeToIndex(R[0]),H=s.timeToIndex(R[1]),D=s.timeToIndex(R[2])+(H-T);V=R[2],X=s.indexToTime(D)}else return!1;let j=[{time:V,value:1,color:"OrangeRed"},{time:X,value:1,color:"lime"}];c=j,f.timeRange.setData(j)}function A(R=!0){R&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:os,name:"timeRange"}),f.timeRange.setData([]),c=[]}return(R,V)=>(Ne(),Ke("div",{ref_key:"timeRangeToolRef",ref:u,class:"command",title:R.$t("trading.derivative.tools.timeRange"),onClick:w,onContextmenu:E},_p,40,wp))}},Tp={__name:"OrderContext",props:["orders"],emits:["closeOrder","closeAllOrders","putOrder"],setup(t,{emit:o}){const e=t,p=o,d=Ue(()=>Object.values(e.orders).map(c=>({id:c.id,side:c.side>0?"L":"S",price:c.entry_price}))),s=[{field:"id",minWidth:50},{field:"side",minWidth:90},{field:"price",minWidth:100}];function n(){p("closeAllOrders")}function u(c){const f=e.orders[c];p("closeOrder",f)}function l(){p("putOrder")}return(c,f)=>{const v=di("DxButton"),b=di("DxToolbar");return Ne(),qs(Ys,{class:"order-context"},{default:So(()=>[Ie(Ko(Yo.DxDataGrid),{"data-source":d.value,"key-expr":"id","show-borders":!0},{commandCellTemplate:So(({data:w})=>[Ie(v,{type:"danger",stylingMode:"text",icon:"trash",onClick:()=>u(w.data.id)},null,8,["onClick"])]),default:So(()=>[Ie(Ko(Yo.DxColumn),{width:50,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate"}),(Ne(),Ke(Ao,null,hi(s,w=>Ie(Ko(Yo.DxColumn),{"data-field":w.field,minWidth:w.minWidth,caption:c.$t(`trading.derivative.orderContext.${w.field}`)},null,8,["data-field","minWidth","caption"])),64))]),_:1},8,["data-source"]),Ie(b,{items:[{location:"before",widget:"dxButton",options:{type:"danger",stylingMode:"outlined",icon:"far fa-gavel",text:c.$t("trading.derivative.orderContext.putOrder"),onClick:l}},{location:"after",widget:"dxButton",options:{type:"danger",stylingMode:"outlined",icon:"trash",text:c.$t("trading.derivative.orderContext.closeAll"),onClick:n}}]},null,8,["items"])]),_:1})}}},Ip=["title"],kp={__name:"OrderTool",props:["position","drawPriceLine","inSession","TIME"],emits:["hideContext"],setup(t,{expose:o,emit:e}){const p=zr(),{t:d}=jn(),s=jr("mf"),n=t,u=e,l=fe(null),c=fe(!1),f=fe(!1),v=fe({}),b=Ue(()=>p.state.tradingDerivative.config.orders),w=Ue(()=>p.state.tradingDerivative.status.position||p.state.tradingDerivative.status.pendingOrders.length>0||Object.keys(v.value).length>0);let E={},k={},N=!1;o({hide:A,scan:T,drag:ct,closeAllOrders:V,cancelWithoutClose:j,setPatternOrder:z}),jo(()=>{window.addEventListener("keydown",kt)}),Dn(()=>{window.removeEventListener("keydown",kt)}),uo(b,Y=>{s.isSet(Y)&&H(Y)});function z(Y){E=Y}function A(Y=!1){f.value=Y}function R(){let Y=!1,pt=()=>{};if(n.inSession()){const ft=_e(Fr(new Date,7));if(ft<n.TIME.ATO)Y=!0,pt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATO"}).then(et=>{et.isOk?Fe.success(d("trading.derivative.toasts.atoOrderSuccess")):lt(et)})};else if(ft>n.TIME.ATC)Y=!0,pt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATC"}).then(et=>{et.isOk?Fe.success(d("trading.derivative.toasts.atcOrderSuccess")):lt(et)})};else if(!n.position)s.isSet(E)&&(Y=!0,pt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"entry",data:{cmd:"new",...E}}).then(et=>{et.isOk?(v.value[et.order.id]=et.order,k[et.order.id]={},rt(["entry"],et.order),Fe.success(d("trading.derivative.toasts.newEntrySuccess"))):lt(et)})});else{const et=Tt(0);if(et.length===1){const _=et[0];Y=!0,pt=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:_.id}).then(Q=>{Q.isOk?(v.value[_.id]=Q.order,k[_.id].entry.applyOptions({draggable:!1}),rt(["tp","sl"],Q.order),Fe.success(d("trading.derivative.toasts.newTpSlSuccess"))):lt(Q)})}}}}Y?Hl(d("trading.derivative.toasts.orderConfirm"),d("titles.confirm")).then(et=>{et&&pt()}):Fe.warning(d("trading.derivative.toasts.noPutOrder"))}function V(){const Y=Object.values(v.value);Y.length?Y.forEach(pt=>X(pt)):p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"MTL"}).then(pt=>{pt.isOk?Fe.success(d("trading.derivative.toasts.cancelSuccess")):lt(pt)})}function X(Y){p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:Y.id,exit:Y.status===1?"MTL":""}).then(pt=>{pt.isOk?(D(["entry","tp","sl"],Y.id),delete v.value[Y.id],Fe.success(d("trading.derivative.toasts.cancelSuccess"))):lt(pt)})}function j(){if(n.inSession()&&n.position){const Y=_e(Fr(new Date,7));Y>n.TIME.ATC-5*60&&(c.value=!0,Y>n.TIME.ATC-15&&Tt(1).forEach(ft=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:ft.id}).then(et=>{et.isOk?(D(["entry","tp","sl"],ft.id),delete v.value[ft.id],Fe.success(d("trading.derivative.toasts.cancelNotExitSuccess"))):lt(et)})}))}}function T(Y){Object.values(v.value).forEach(pt=>{const ft=pt.side>0;switch(pt.status){case 0:s.cmp(Y,ft,pt.entry_price,!0)&&(N||(N=!0,setTimeout(()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:pt.id}).then(_=>{_.isOk?(v.value[pt.id]=_.order,k[pt.id].entry.applyOptions({draggable:!1}),rt(["tp","sl"],_.order),Object.keys(v.value).forEach(Q=>{Number(Q)!==pt.id&&v.value[Q].status===0&&(D(["entry"],Q),delete v.value[Q])}),Fe.success(d("trading.derivative.toasts.newTpSlSuccess"))):lt(_),N=!1})},1e3)));break;case 1:let et="";s.cmp(Y,ft,pt.tp_price,!0)&&(et="sl"),s.cmp(Y,!ft,pt.sl_price,!0)&&(et="tp"),et&&(N||(N=!0,p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:pt.id,kind:et}).then(_=>{_.isOk?(D(["entry","tp","sl"],pt.id),delete v.value[pt.id],Fe.success(d("trading.derivative.toasts.cancelSuccess"))):lt(_),N=!1})));break}})}function H(Y){v.value=s.cloneDeep(Y),Object.values(v.value).forEach(pt=>{let ft=["entry"];pt.status===1&&ft.push("tp","sl"),D(["entry","tp","sl"],pt.id),rt(ft,pt)})}function rt(Y,pt){let ft,et;Y.forEach(_=>{switch(_){case"entry":ft="yellow",et=`${pt.side>0?"LONG":"SHORT"}[${pt.id}]`;break;case"tp":ft="lime",et=`TP[${pt.id}] ${s.fmtNum(pt.tp_price-pt.entry_price,1)}`;break;case"sl":ft="red",et=`SL[${pt.id}] ${s.fmtNum(pt.sl_price-pt.entry_price,1)}`;break}if(s.isSet(k[pt.id])||(k[pt.id]={}),s.isSet(k[pt.id][_]))k[pt.id][_].applyOptions({title:et});else{const Q={lineType:"order",kind:_,price:pt[`${_}_price`],color:ft,lineWidth:1,lineStyle:0,title:et,draggable:!(_==="entry"&&pt.status===1)};k[pt.id][_]=n.drawPriceLine(Q)}})}function D(Y,pt){s.isSet(k[pt])&&(Y.forEach(ft=>{s.isSet(k[pt][ft])&&n.drawPriceLine(k[pt][ft],!0)}),delete k[pt])}function ct({line:Y,lineOptions:pt,oldPrice:ft,newPrice:et}){if(et!==ft){const _=pt.kind;if(_!=="entry"||!n.position){const nt=`change${s.capitalize(_)}Success`,yt=q(_,ft);if(!s.isSet(yt))return!1;p.dispatch("tradingDerivative/executeOrder",{action:_,orderId:yt.id,data:{cmd:"change",orderNo:String(yt[`${_}_no`]),price:et}}).then(it=>{it.isOk?(v.value[yt.id]=it.order,rt([_],it.order),Fe.success(d(`trading.derivative.toasts.${nt}`))):(Y.applyOptions({price:ft}),lt(it))})}else Y.applyOptions({price:ft}),Fe.show(d("trading.derivative.toasts.noChangeOrderLine"))}}function x(){p.dispatch("tradingDerivative/cleanOldOrders")}function q(Y,pt){return Object.values(v.value).find(ft=>ft[`${Y}_price`]===pt)}function Tt(Y,pt=!1){const ft=Object.values(v.value).filter(et=>et.status===Y);return pt?ft.length>0:ft}function lt(Y){let pt=Y.error??Y.message??"unknown";Fe.error(d(`trading.derivative.toasts.${pt}`))}function Ot(){const Y=f.value;u("hideContext"),f.value=!Y}function kt(Y){Y.key==="F4"&&(Ot(),Y.preventDefault())}return(Y,pt)=>(Ne(),Ke("div",{ref_key:"orderToolRef",ref:l,class:je(["cancel-order context command",{red:w.value}]),title:Y.$t("trading.derivative.tools.order"),onClick:Ot,onContextmenu:x},[pe("i",{class:je(["far fa-gavel",{blink:c.value}])},null,2),Ln(Ie(Tp,{class:"contextmenu",orders:v.value,onCloseOrder:X,onCloseAllOrders:V,onPutOrder:R},null,8,["orders"]),[[Ks,f.value]])],42,Ip))}};var Un=Object.defineProperty,Op=Object.getOwnPropertyDescriptor,Mp=Object.getOwnPropertyNames,Bp=Object.prototype.hasOwnProperty,ke=(t,o)=>()=>(t&&(o=t(t=0)),o),xt=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports),$r=(t,o)=>{for(var e in o)Un(t,e,{get:o[e],enumerable:!0})},Rp=(t,o,e,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of Mp(o))!Bp.call(t,d)&&d!==e&&Un(t,d,{get:()=>o[d],enumerable:!(p=Op(o,d))||p.enumerable});return t},se=t=>Rp(Un({},"__esModule",{value:!0}),t),Mt=ke(()=>{}),oe={};$r(oe,{_debugEnd:()=>qi,_debugProcess:()=>Hi,_events:()=>pn,_eventsCount:()=>un,_exiting:()=>Ai,_fatalExceptions:()=>$i,_getActiveHandles:()=>oa,_getActiveRequests:()=>ra,_kill:()=>xi,_linkedBinding:()=>ta,_maxListeners:()=>ln,_preload_modules:()=>sn,_rawDebug:()=>Bi,_startProfilerIdleNotifier:()=>Ki,_stopProfilerIdleNotifier:()=>Yi,_tickCallback:()=>Gi,abort:()=>Xi,addListener:()=>cn,allowedNodeEnvironmentFlags:()=>Ui,arch:()=>yi,argv:()=>bi,argv0:()=>nn,assert:()=>ia,binding:()=>Ti,chdir:()=>Oi,config:()=>Pi,cpuUsage:()=>no,cwd:()=>ki,debugPort:()=>on,default:()=>$n,dlopen:()=>ea,domain:()=>Ci,emit:()=>yn,emitWarning:()=>Si,env:()=>vi,execArgv:()=>wi,execPath:()=>rn,exit:()=>Di,features:()=>zi,hasUncaughtExceptionCaptureCallback:()=>na,hrtime:()=>To,kill:()=>ji,listeners:()=>aa,memoryUsage:()=>Ni,moduleLoadList:()=>Ri,nextTick:()=>Zs,off:()=>hn,on:()=>or,once:()=>dn,openStdin:()=>Li,pid:()=>tn,platform:()=>gi,ppid:()=>en,prependListener:()=>gn,prependOnceListener:()=>vn,reallyExit:()=>Fi,release:()=>Mi,removeAllListeners:()=>mn,removeListener:()=>fn,resourceUsage:()=>Wi,setSourceMapsEnabled:()=>an,setUncaughtExceptionCaptureCallback:()=>Vi,stderr:()=>Qi,stdin:()=>Zi,stdout:()=>Ji,title:()=>mi,umask:()=>Ii,uptime:()=>sa,version:()=>Ei,versions:()=>_i});function zn(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function Cp(){!Dr||!Wr||(Dr=!1,Wr.length?Xe=Wr.concat(Xe):lo=-1,Xe.length&&Qs())}function Qs(){if(!Dr){var t=setTimeout(Cp,0);Dr=!0;for(var o=Xe.length;o;){for(Wr=Xe,Xe=[];++lo<o;)Wr&&Wr[lo].run();lo=-1,o=Xe.length}Wr=null,Dr=!1,clearTimeout(t)}}function Zs(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];Xe.push(new Xs(t,o)),Xe.length===1&&!Dr&&setTimeout(Qs,0)}function Xs(t,o){this.fun=t,this.array=o}function Be(){}function ta(t){zn("_linkedBinding")}function ea(t){zn("dlopen")}function ra(){return[]}function oa(){return[]}function ia(t,o){if(!t)throw new Error(o||"assertion error")}function na(){return!1}function sa(){return ar.now()/1e3}function To(t){var o=Math.floor((Date.now()-ar.now())*.001),e=ar.now()*.001,p=Math.floor(e)+o,d=Math.floor(e%1*1e9);return t&&(p=p-t[0],d=d-t[1],d<0&&(p--,d+=Io)),[p,d]}function or(){return $n}function aa(t){return[]}var Xe,Dr,Wr,lo,mi,yi,gi,vi,bi,wi,Ei,_i,Si,Ti,Ii,ki,Oi,Mi,Bi,Ri,Ci,Ai,Pi,Fi,xi,no,Wi,Ni,ji,Di,Li,Ui,zi,$i,Vi,Gi,Hi,qi,Ki,Yi,Ji,Qi,Zi,Xi,tn,en,rn,on,nn,sn,an,ar,Qo,Io,ln,pn,un,cn,dn,hn,fn,mn,yn,gn,vn,$n,Ap=ke(()=>{Mt(),Rt(),Bt(),Xe=[],Dr=!1,lo=-1,Xs.prototype.run=function(){this.fun.apply(null,this.array)},mi="browser",yi="x64",gi="browser",vi={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},bi=["/usr/bin/node"],wi=[],Ei="v16.8.0",_i={},Si=function(t,o){console.warn((o?o+": ":"")+t)},Ti=function(t){zn("binding")},Ii=function(t){return 0},ki=function(){return"/"},Oi=function(t){},Mi={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Bi=Be,Ri=[],Ci={},Ai=!1,Pi={},Fi=Be,xi=Be,no=function(){return{}},Wi=no,Ni=no,ji=Be,Di=Be,Li=Be,Ui={},zi={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},$i=Be,Vi=Be,Gi=Be,Hi=Be,qi=Be,Ki=Be,Yi=Be,Ji=void 0,Qi=void 0,Zi=void 0,Xi=Be,tn=2,en=1,rn="/bin/usr/node",on=9229,nn="node",sn=[],an=Be,ar={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ar.now===void 0&&(Qo=Date.now(),ar.timing&&ar.timing.navigationStart&&(Qo=ar.timing.navigationStart),ar.now=()=>Date.now()-Qo),Io=1e9,To.bigint=function(t){var o=To(t);return typeof BigInt>"u"?o[0]*Io+o[1]:BigInt(o[0]*Io)+BigInt(o[1])},ln=10,pn={},un=0,cn=or,dn=or,hn=or,fn=or,mn=or,yn=Be,gn=or,vn=or,$n={version:Ei,versions:_i,arch:yi,platform:gi,release:Mi,_rawDebug:Bi,moduleLoadList:Ri,binding:Ti,_linkedBinding:ta,_events:pn,_eventsCount:un,_maxListeners:ln,on:or,addListener:cn,once:dn,off:hn,removeListener:fn,removeAllListeners:mn,emit:yn,prependListener:gn,prependOnceListener:vn,listeners:aa,domain:Ci,_exiting:Ai,config:Pi,dlopen:ea,uptime:sa,_getActiveRequests:ra,_getActiveHandles:oa,reallyExit:Fi,_kill:xi,cpuUsage:no,resourceUsage:Wi,memoryUsage:Ni,kill:ji,exit:Di,openStdin:Li,allowedNodeEnvironmentFlags:Ui,assert:ia,features:zi,_fatalExceptions:$i,setUncaughtExceptionCaptureCallback:Vi,hasUncaughtExceptionCaptureCallback:na,emitWarning:Si,nextTick:Zs,_tickCallback:Gi,_debugProcess:Hi,_debugEnd:qi,_startProfilerIdleNotifier:Ki,_stopProfilerIdleNotifier:Yi,stdout:Ji,stdin:Zi,stderr:Qi,abort:Xi,umask:Ii,chdir:Oi,cwd:ki,env:vi,title:mi,argv:bi,execArgv:wi,pid:tn,ppid:en,execPath:rn,debugPort:on,hrtime:To,argv0:nn,_preload_modules:sn,setSourceMapsEnabled:an}}),Bt=ke(()=>{Ap()}),Oe={};$r(Oe,{Buffer:()=>Po,INSPECT_MAX_BYTES:()=>la,default:()=>ir,kMaxLength:()=>pa});function Pp(){if(bn)return Yr;bn=!0,Yr.byteLength=u,Yr.toByteArray=c,Yr.fromByteArray=b;for(var t=[],o=[],e=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,s=p.length;d<s;++d)t[d]=p[d],o[p.charCodeAt(d)]=d;o[45]=62,o[95]=63;function n(w){var E=w.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=w.indexOf("=");k===-1&&(k=E);var N=k===E?0:4-k%4;return[k,N]}function u(w){var E=n(w),k=E[0],N=E[1];return(k+N)*3/4-N}function l(w,E,k){return(E+k)*3/4-k}function c(w){var E,k=n(w),N=k[0],z=k[1],A=new e(l(w,N,z)),R=0,V=z>0?N-4:N,X;for(X=0;X<V;X+=4)E=o[w.charCodeAt(X)]<<18|o[w.charCodeAt(X+1)]<<12|o[w.charCodeAt(X+2)]<<6|o[w.charCodeAt(X+3)],A[R++]=E>>16&255,A[R++]=E>>8&255,A[R++]=E&255;return z===2&&(E=o[w.charCodeAt(X)]<<2|o[w.charCodeAt(X+1)]>>4,A[R++]=E&255),z===1&&(E=o[w.charCodeAt(X)]<<10|o[w.charCodeAt(X+1)]<<4|o[w.charCodeAt(X+2)]>>2,A[R++]=E>>8&255,A[R++]=E&255),A}function f(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function v(w,E,k){for(var N,z=[],A=E;A<k;A+=3)N=(w[A]<<16&16711680)+(w[A+1]<<8&65280)+(w[A+2]&255),z.push(f(N));return z.join("")}function b(w){for(var E,k=w.length,N=k%3,z=[],A=16383,R=0,V=k-N;R<V;R+=A)z.push(v(w,R,R+A>V?V:R+A));return N===1?(E=w[k-1],z.push(t[E>>2]+t[E<<4&63]+"==")):N===2&&(E=(w[k-2]<<8)+w[k-1],z.push(t[E>>10]+t[E>>4&63]+t[E<<2&63]+"=")),z.join("")}return Yr}function Fp(){return wn?so:(wn=!0,so.read=function(t,o,e,p,d){var s,n,u=d*8-p-1,l=(1<<u)-1,c=l>>1,f=-7,v=e?d-1:0,b=e?-1:1,w=t[o+v];for(v+=b,s=w&(1<<-f)-1,w>>=-f,f+=u;f>0;s=s*256+t[o+v],v+=b,f-=8);for(n=s&(1<<-f)-1,s>>=-f,f+=p;f>0;n=n*256+t[o+v],v+=b,f-=8);if(s===0)s=1-c;else{if(s===l)return n?NaN:(w?-1:1)*(1/0);n=n+Math.pow(2,p),s=s-c}return(w?-1:1)*n*Math.pow(2,s-p)},so.write=function(t,o,e,p,d,s){var n,u,l,c=s*8-d-1,f=(1<<c)-1,v=f>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:s-1,E=p?1:-1,k=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,n=f):(n=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-n))<1&&(n--,l*=2),n+v>=1?o+=b/l:o+=b*Math.pow(2,1-v),o*l>=2&&(n++,l/=2),n+v>=f?(u=0,n=f):n+v>=1?(u=(o*l-1)*Math.pow(2,d),n=n+v):(u=o*Math.pow(2,v-1)*Math.pow(2,d),n=0));d>=8;t[e+w]=u&255,w+=E,u/=256,d-=8);for(n=n<<d|u,c+=d;c>0;t[e+w]=n&255,w+=E,n/=256,c-=8);t[e+w-E]|=k*128},so)}function xp(){if(En)return vr;En=!0;let t=Pp(),o=Fp(),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vr.Buffer=n,vr.SlowBuffer=z,vr.INSPECT_MAX_BYTES=50;let p=2147483647;vr.kMaxLength=p,n.TYPED_ARRAY_SUPPORT=d(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{let m=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(m,h),m.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function s(m){if(m>p)throw new RangeError('The value "'+m+'" is invalid for option "size"');let h=new Uint8Array(m);return Object.setPrototypeOf(h,n.prototype),h}function n(m,h,g){if(typeof m=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(m)}return u(m,h,g)}n.poolSize=8192;function u(m,h,g){if(typeof m=="string")return v(m,h);if(ArrayBuffer.isView(m))return w(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(at(m,ArrayBuffer)||m&&at(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(at(m,SharedArrayBuffer)||m&&at(m.buffer,SharedArrayBuffer)))return E(m,h,g);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let B=m.valueOf&&m.valueOf();if(B!=null&&B!==m)return n.from(B,h,g);let U=k(m);if(U)return U;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return n.from(m[Symbol.toPrimitive]("string"),h,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}n.from=function(m,h,g){return u(m,h,g)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function l(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function c(m,h,g){return l(m),m<=0?s(m):h!==void 0?typeof g=="string"?s(m).fill(h,g):s(m).fill(h):s(m)}n.alloc=function(m,h,g){return c(m,h,g)};function f(m){return l(m),s(m<0?0:N(m)|0)}n.allocUnsafe=function(m){return f(m)},n.allocUnsafeSlow=function(m){return f(m)};function v(m,h){if((typeof h!="string"||h==="")&&(h="utf8"),!n.isEncoding(h))throw new TypeError("Unknown encoding: "+h);let g=A(m,h)|0,B=s(g),U=B.write(m,h);return U!==g&&(B=B.slice(0,U)),B}function b(m){let h=m.length<0?0:N(m.length)|0,g=s(h);for(let B=0;B<h;B+=1)g[B]=m[B]&255;return g}function w(m){if(at(m,Uint8Array)){let h=new Uint8Array(m);return E(h.buffer,h.byteOffset,h.byteLength)}return b(m)}function E(m,h,g){if(h<0||m.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<h+(g||0))throw new RangeError('"length" is outside of buffer bounds');let B;return h===void 0&&g===void 0?B=new Uint8Array(m):g===void 0?B=new Uint8Array(m,h):B=new Uint8Array(m,h,g),Object.setPrototypeOf(B,n.prototype),B}function k(m){if(n.isBuffer(m)){let h=N(m.length)|0,g=s(h);return g.length===0||m.copy(g,0,0,h),g}if(m.length!==void 0)return typeof m.length!="number"||L(m.length)?s(0):b(m);if(m.type==="Buffer"&&Array.isArray(m.data))return b(m.data)}function N(m){if(m>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return m|0}function z(m){return+m!=m&&(m=0),n.alloc(+m)}n.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==n.prototype},n.compare=function(m,h){if(at(m,Uint8Array)&&(m=n.from(m,m.offset,m.byteLength)),at(h,Uint8Array)&&(h=n.from(h,h.offset,h.byteLength)),!n.isBuffer(m)||!n.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===h)return 0;let g=m.length,B=h.length;for(let U=0,M=Math.min(g,B);U<M;++U)if(m[U]!==h[U]){g=m[U],B=h[U];break}return g<B?-1:B<g?1:0},n.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(m,h){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return n.alloc(0);let g;if(h===void 0)for(h=0,g=0;g<m.length;++g)h+=m[g].length;let B=n.allocUnsafe(h),U=0;for(g=0;g<m.length;++g){let M=m[g];if(at(M,Uint8Array))U+M.length>B.length?(n.isBuffer(M)||(M=n.from(M)),M.copy(B,U)):Uint8Array.prototype.set.call(B,M,U);else if(n.isBuffer(M))M.copy(B,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=M.length}return B};function A(m,h){if(n.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||at(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);let g=m.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&g===0)return 0;let U=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return K(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return wt(m).length;default:if(U)return B?-1:K(m).length;h=(""+h).toLowerCase(),U=!0}}n.byteLength=A;function R(m,h,g){let B=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,h>>>=0,g<=h))return"";for(m||(m="utf8");;)switch(m){case"hex":return Y(this,h,g);case"utf8":case"utf-8":return q(this,h,g);case"ascii":return Ot(this,h,g);case"latin1":case"binary":return kt(this,h,g);case"base64":return x(this,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,h,g);default:if(B)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),B=!0}}n.prototype._isBuffer=!0;function V(m,h,g){let B=m[h];m[h]=m[g],m[g]=B}n.prototype.swap16=function(){let m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<m;h+=2)V(this,h,h+1);return this},n.prototype.swap32=function(){let m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<m;h+=4)V(this,h,h+3),V(this,h+1,h+2);return this},n.prototype.swap64=function(){let m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<m;h+=8)V(this,h,h+7),V(this,h+1,h+6),V(this,h+2,h+5),V(this,h+3,h+4);return this},n.prototype.toString=function(){let m=this.length;return m===0?"":arguments.length===0?q(this,0,m):R.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(m){if(!n.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:n.compare(this,m)===0},n.prototype.inspect=function(){let m="",h=vr.INSPECT_MAX_BYTES;return m=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(m+=" ... "),"<Buffer "+m+">"},e&&(n.prototype[e]=n.prototype.inspect),n.prototype.compare=function(m,h,g,B,U){if(at(m,Uint8Array)&&(m=n.from(m,m.offset,m.byteLength)),!n.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(h===void 0&&(h=0),g===void 0&&(g=m?m.length:0),B===void 0&&(B=0),U===void 0&&(U=this.length),h<0||g>m.length||B<0||U>this.length)throw new RangeError("out of range index");if(B>=U&&h>=g)return 0;if(B>=U)return-1;if(h>=g)return 1;if(h>>>=0,g>>>=0,B>>>=0,U>>>=0,this===m)return 0;let M=U-B,St=g-h,Ut=Math.min(M,St),W=this.slice(B,U),Gt=m.slice(h,g);for(let Lt=0;Lt<Ut;++Lt)if(W[Lt]!==Gt[Lt]){M=W[Lt],St=Gt[Lt];break}return M<St?-1:St<M?1:0};function X(m,h,g,B,U){if(m.length===0)return-1;if(typeof g=="string"?(B=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,L(g)&&(g=U?0:m.length-1),g<0&&(g=m.length+g),g>=m.length){if(U)return-1;g=m.length-1}else if(g<0)if(U)g=0;else return-1;if(typeof h=="string"&&(h=n.from(h,B)),n.isBuffer(h))return h.length===0?-1:j(m,h,g,B,U);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(m,h,g):Uint8Array.prototype.lastIndexOf.call(m,h,g):j(m,[h],g,B,U);throw new TypeError("val must be string, number or Buffer")}function j(m,h,g,B,U){let M=1,St=m.length,Ut=h.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(m.length<2||h.length<2)return-1;M=2,St/=2,Ut/=2,g/=2}function W(Lt,jt){return M===1?Lt[jt]:Lt.readUInt16BE(jt*M)}let Gt;if(U){let Lt=-1;for(Gt=g;Gt<St;Gt++)if(W(m,Gt)===W(h,Lt===-1?0:Gt-Lt)){if(Lt===-1&&(Lt=Gt),Gt-Lt+1===Ut)return Lt*M}else Lt!==-1&&(Gt-=Gt-Lt),Lt=-1}else for(g+Ut>St&&(g=St-Ut),Gt=g;Gt>=0;Gt--){let Lt=!0;for(let jt=0;jt<Ut;jt++)if(W(m,Gt+jt)!==W(h,jt)){Lt=!1;break}if(Lt)return Gt}return-1}n.prototype.includes=function(m,h,g){return this.indexOf(m,h,g)!==-1},n.prototype.indexOf=function(m,h,g){return X(this,m,h,g,!0)},n.prototype.lastIndexOf=function(m,h,g){return X(this,m,h,g,!1)};function T(m,h,g,B){g=Number(g)||0;let U=m.length-g;B?(B=Number(B),B>U&&(B=U)):B=U;let M=h.length;B>M/2&&(B=M/2);let St;for(St=0;St<B;++St){let Ut=parseInt(h.substr(St*2,2),16);if(L(Ut))return St;m[g+St]=Ut}return St}function H(m,h,g,B){return J(K(h,m.length-g),m,g,B)}function rt(m,h,g,B){return J(Z(h),m,g,B)}function D(m,h,g,B){return J(wt(h),m,g,B)}function ct(m,h,g,B){return J(bt(h,m.length-g),m,g,B)}n.prototype.write=function(m,h,g,B){if(h===void 0)B="utf8",g=this.length,h=0;else if(g===void 0&&typeof h=="string")B=h,g=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(g)?(g=g>>>0,B===void 0&&(B="utf8")):(B=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let U=this.length-h;if((g===void 0||g>U)&&(g=U),m.length>0&&(g<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let M=!1;for(;;)switch(B){case"hex":return T(this,m,h,g);case"utf8":case"utf-8":return H(this,m,h,g);case"ascii":case"latin1":case"binary":return rt(this,m,h,g);case"base64":return D(this,m,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ct(this,m,h,g);default:if(M)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),M=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(m,h,g){return h===0&&g===m.length?t.fromByteArray(m):t.fromByteArray(m.slice(h,g))}function q(m,h,g){g=Math.min(m.length,g);let B=[],U=h;for(;U<g;){let M=m[U],St=null,Ut=M>239?4:M>223?3:M>191?2:1;if(U+Ut<=g){let W,Gt,Lt,jt;switch(Ut){case 1:M<128&&(St=M);break;case 2:W=m[U+1],(W&192)===128&&(jt=(M&31)<<6|W&63,jt>127&&(St=jt));break;case 3:W=m[U+1],Gt=m[U+2],(W&192)===128&&(Gt&192)===128&&(jt=(M&15)<<12|(W&63)<<6|Gt&63,jt>2047&&(jt<55296||jt>57343)&&(St=jt));break;case 4:W=m[U+1],Gt=m[U+2],Lt=m[U+3],(W&192)===128&&(Gt&192)===128&&(Lt&192)===128&&(jt=(M&15)<<18|(W&63)<<12|(Gt&63)<<6|Lt&63,jt>65535&&jt<1114112&&(St=jt))}}St===null?(St=65533,Ut=1):St>65535&&(St-=65536,B.push(St>>>10&1023|55296),St=56320|St&1023),B.push(St),U+=Ut}return lt(B)}let Tt=4096;function lt(m){let h=m.length;if(h<=Tt)return String.fromCharCode.apply(String,m);let g="",B=0;for(;B<h;)g+=String.fromCharCode.apply(String,m.slice(B,B+=Tt));return g}function Ot(m,h,g){let B="";g=Math.min(m.length,g);for(let U=h;U<g;++U)B+=String.fromCharCode(m[U]&127);return B}function kt(m,h,g){let B="";g=Math.min(m.length,g);for(let U=h;U<g;++U)B+=String.fromCharCode(m[U]);return B}function Y(m,h,g){let B=m.length;(!h||h<0)&&(h=0),(!g||g<0||g>B)&&(g=B);let U="";for(let M=h;M<g;++M)U+=tt[m[M]];return U}function pt(m,h,g){let B=m.slice(h,g),U="";for(let M=0;M<B.length-1;M+=2)U+=String.fromCharCode(B[M]+B[M+1]*256);return U}n.prototype.slice=function(m,h){let g=this.length;m=~~m,h=h===void 0?g:~~h,m<0?(m+=g,m<0&&(m=0)):m>g&&(m=g),h<0?(h+=g,h<0&&(h=0)):h>g&&(h=g),h<m&&(h=m);let B=this.subarray(m,h);return Object.setPrototypeOf(B,n.prototype),B};function ft(m,h,g){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+h>g)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(m,h,g){m=m>>>0,h=h>>>0,g||ft(m,h,this.length);let B=this[m],U=1,M=0;for(;++M<h&&(U*=256);)B+=this[m+M]*U;return B},n.prototype.readUintBE=n.prototype.readUIntBE=function(m,h,g){m=m>>>0,h=h>>>0,g||ft(m,h,this.length);let B=this[m+--h],U=1;for(;h>0&&(U*=256);)B+=this[m+--h]*U;return B},n.prototype.readUint8=n.prototype.readUInt8=function(m,h){return m=m>>>0,h||ft(m,1,this.length),this[m]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(m,h){return m=m>>>0,h||ft(m,2,this.length),this[m]|this[m+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(m,h){return m=m>>>0,h||ft(m,2,this.length),this[m]<<8|this[m+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(m,h){return m=m>>>0,h||ft(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(m,h){return m=m>>>0,h||ft(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},n.prototype.readBigUInt64LE=ot(function(m){m=m>>>0,ut(m,"offset");let h=this[m],g=this[m+7];(h===void 0||g===void 0)&&gt(m,this.length-8);let B=h+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,U=this[++m]+this[++m]*2**8+this[++m]*2**16+g*2**24;return BigInt(B)+(BigInt(U)<<BigInt(32))}),n.prototype.readBigUInt64BE=ot(function(m){m=m>>>0,ut(m,"offset");let h=this[m],g=this[m+7];(h===void 0||g===void 0)&&gt(m,this.length-8);let B=h*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],U=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+g;return(BigInt(B)<<BigInt(32))+BigInt(U)}),n.prototype.readIntLE=function(m,h,g){m=m>>>0,h=h>>>0,g||ft(m,h,this.length);let B=this[m],U=1,M=0;for(;++M<h&&(U*=256);)B+=this[m+M]*U;return U*=128,B>=U&&(B-=Math.pow(2,8*h)),B},n.prototype.readIntBE=function(m,h,g){m=m>>>0,h=h>>>0,g||ft(m,h,this.length);let B=h,U=1,M=this[m+--B];for(;B>0&&(U*=256);)M+=this[m+--B]*U;return U*=128,M>=U&&(M-=Math.pow(2,8*h)),M},n.prototype.readInt8=function(m,h){return m=m>>>0,h||ft(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},n.prototype.readInt16LE=function(m,h){m=m>>>0,h||ft(m,2,this.length);let g=this[m]|this[m+1]<<8;return g&32768?g|4294901760:g},n.prototype.readInt16BE=function(m,h){m=m>>>0,h||ft(m,2,this.length);let g=this[m+1]|this[m]<<8;return g&32768?g|4294901760:g},n.prototype.readInt32LE=function(m,h){return m=m>>>0,h||ft(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},n.prototype.readInt32BE=function(m,h){return m=m>>>0,h||ft(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},n.prototype.readBigInt64LE=ot(function(m){m=m>>>0,ut(m,"offset");let h=this[m],g=this[m+7];(h===void 0||g===void 0)&&gt(m,this.length-8);let B=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(g<<24);return(BigInt(B)<<BigInt(32))+BigInt(h+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),n.prototype.readBigInt64BE=ot(function(m){m=m>>>0,ut(m,"offset");let h=this[m],g=this[m+7];(h===void 0||g===void 0)&&gt(m,this.length-8);let B=(h<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(B)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+g)}),n.prototype.readFloatLE=function(m,h){return m=m>>>0,h||ft(m,4,this.length),o.read(this,m,!0,23,4)},n.prototype.readFloatBE=function(m,h){return m=m>>>0,h||ft(m,4,this.length),o.read(this,m,!1,23,4)},n.prototype.readDoubleLE=function(m,h){return m=m>>>0,h||ft(m,8,this.length),o.read(this,m,!0,52,8)},n.prototype.readDoubleBE=function(m,h){return m=m>>>0,h||ft(m,8,this.length),o.read(this,m,!1,52,8)};function et(m,h,g,B,U,M){if(!n.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>U||h<M)throw new RangeError('"value" argument is out of bounds');if(g+B>m.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(m,h,g,B){if(m=+m,h=h>>>0,g=g>>>0,!B){let St=Math.pow(2,8*g)-1;et(this,m,h,g,St,0)}let U=1,M=0;for(this[h]=m&255;++M<g&&(U*=256);)this[h+M]=m/U&255;return h+g},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(m,h,g,B){if(m=+m,h=h>>>0,g=g>>>0,!B){let St=Math.pow(2,8*g)-1;et(this,m,h,g,St,0)}let U=g-1,M=1;for(this[h+U]=m&255;--U>=0&&(M*=256);)this[h+U]=m/M&255;return h+g},n.prototype.writeUint8=n.prototype.writeUInt8=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,1,255,0),this[h]=m&255,h+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,2,65535,0),this[h]=m&255,this[h+1]=m>>>8,h+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,2,65535,0),this[h]=m>>>8,this[h+1]=m&255,h+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,4,4294967295,0),this[h+3]=m>>>24,this[h+2]=m>>>16,this[h+1]=m>>>8,this[h]=m&255,h+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,4,4294967295,0),this[h]=m>>>24,this[h+1]=m>>>16,this[h+2]=m>>>8,this[h+3]=m&255,h+4};function _(m,h,g,B,U){ht(h,B,U,m,g,7);let M=Number(h&BigInt(4294967295));m[g++]=M,M=M>>8,m[g++]=M,M=M>>8,m[g++]=M,M=M>>8,m[g++]=M;let St=Number(h>>BigInt(32)&BigInt(4294967295));return m[g++]=St,St=St>>8,m[g++]=St,St=St>>8,m[g++]=St,St=St>>8,m[g++]=St,g}function Q(m,h,g,B,U){ht(h,B,U,m,g,7);let M=Number(h&BigInt(4294967295));m[g+7]=M,M=M>>8,m[g+6]=M,M=M>>8,m[g+5]=M,M=M>>8,m[g+4]=M;let St=Number(h>>BigInt(32)&BigInt(4294967295));return m[g+3]=St,St=St>>8,m[g+2]=St,St=St>>8,m[g+1]=St,St=St>>8,m[g]=St,g+8}n.prototype.writeBigUInt64LE=ot(function(m,h=0){return _(this,m,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=ot(function(m,h=0){return Q(this,m,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(m,h,g,B){if(m=+m,h=h>>>0,!B){let Ut=Math.pow(2,8*g-1);et(this,m,h,g,Ut-1,-Ut)}let U=0,M=1,St=0;for(this[h]=m&255;++U<g&&(M*=256);)m<0&&St===0&&this[h+U-1]!==0&&(St=1),this[h+U]=(m/M>>0)-St&255;return h+g},n.prototype.writeIntBE=function(m,h,g,B){if(m=+m,h=h>>>0,!B){let Ut=Math.pow(2,8*g-1);et(this,m,h,g,Ut-1,-Ut)}let U=g-1,M=1,St=0;for(this[h+U]=m&255;--U>=0&&(M*=256);)m<0&&St===0&&this[h+U+1]!==0&&(St=1),this[h+U]=(m/M>>0)-St&255;return h+g},n.prototype.writeInt8=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,1,127,-128),m<0&&(m=255+m+1),this[h]=m&255,h+1},n.prototype.writeInt16LE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,2,32767,-32768),this[h]=m&255,this[h+1]=m>>>8,h+2},n.prototype.writeInt16BE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,2,32767,-32768),this[h]=m>>>8,this[h+1]=m&255,h+2},n.prototype.writeInt32LE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,4,2147483647,-2147483648),this[h]=m&255,this[h+1]=m>>>8,this[h+2]=m>>>16,this[h+3]=m>>>24,h+4},n.prototype.writeInt32BE=function(m,h,g){return m=+m,h=h>>>0,g||et(this,m,h,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[h]=m>>>24,this[h+1]=m>>>16,this[h+2]=m>>>8,this[h+3]=m&255,h+4},n.prototype.writeBigInt64LE=ot(function(m,h=0){return _(this,m,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=ot(function(m,h=0){return Q(this,m,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function nt(m,h,g,B,U,M){if(g+B>m.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function yt(m,h,g,B,U){return h=+h,g=g>>>0,U||nt(m,h,g,4),o.write(m,h,g,B,23,4),g+4}n.prototype.writeFloatLE=function(m,h,g){return yt(this,m,h,!0,g)},n.prototype.writeFloatBE=function(m,h,g){return yt(this,m,h,!1,g)};function it(m,h,g,B,U){return h=+h,g=g>>>0,U||nt(m,h,g,8),o.write(m,h,g,B,52,8),g+8}n.prototype.writeDoubleLE=function(m,h,g){return it(this,m,h,!0,g)},n.prototype.writeDoubleBE=function(m,h,g){return it(this,m,h,!1,g)},n.prototype.copy=function(m,h,g,B){if(!n.isBuffer(m))throw new TypeError("argument should be a Buffer");if(g||(g=0),!B&&B!==0&&(B=this.length),h>=m.length&&(h=m.length),h||(h=0),B>0&&B<g&&(B=g),B===g||m.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),m.length-h<B-g&&(B=m.length-h+g);let U=B-g;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,g,B):Uint8Array.prototype.set.call(m,this.subarray(g,B),h),U},n.prototype.fill=function(m,h,g,B){if(typeof m=="string"){if(typeof h=="string"?(B=h,h=0,g=this.length):typeof g=="string"&&(B=g,g=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!n.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(m.length===1){let M=m.charCodeAt(0);(B==="utf8"&&M<128||B==="latin1")&&(m=M)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(h<0||this.length<h||this.length<g)throw new RangeError("Out of range index");if(g<=h)return this;h=h>>>0,g=g===void 0?this.length:g>>>0,m||(m=0);let U;if(typeof m=="number")for(U=h;U<g;++U)this[U]=m;else{let M=n.isBuffer(m)?m:n.from(m,B),St=M.length;if(St===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(U=0;U<g-h;++U)this[U+h]=M[U%St]}return this};let C={};function O(m,h,g){C[m]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}O("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),O("ERR_INVALID_ARG_TYPE",function(m,h){return`The "${m}" argument must be of type number. Received type ${typeof h}`},TypeError),O("ERR_OUT_OF_RANGE",function(m,h,g){let B=`The value of "${m}" is out of range.`,U=g;return Number.isInteger(g)&&Math.abs(g)>2**32?U=st(String(g)):typeof g=="bigint"&&(U=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(U=st(U)),U+="n"),B+=` It must be ${h}. Received ${U}`,B},RangeError);function st(m){let h="",g=m.length,B=m[0]==="-"?1:0;for(;g>=B+4;g-=3)h=`_${m.slice(g-3,g)}${h}`;return`${m.slice(0,g)}${h}`}function mt(m,h,g){ut(h,"offset"),(m[h]===void 0||m[h+g]===void 0)&&gt(h,m.length-(g+1))}function ht(m,h,g,B,U,M){if(m>g||m<h){let St=typeof h=="bigint"?"n":"",Ut;throw h===0||h===BigInt(0)?Ut=`>= 0${St} and < 2${St} ** ${(M+1)*8}${St}`:Ut=`>= -(2${St} ** ${(M+1)*8-1}${St}) and < 2 ** ${(M+1)*8-1}${St}`,new C.ERR_OUT_OF_RANGE("value",Ut,m)}mt(B,U,M)}function ut(m,h){if(typeof m!="number")throw new C.ERR_INVALID_ARG_TYPE(h,"number",m)}function gt(m,h,g){throw Math.floor(m)!==m?(ut(m,g),new C.ERR_OUT_OF_RANGE("offset","an integer",m)):h<0?new C.ERR_BUFFER_OUT_OF_BOUNDS:new C.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,m)}let _t=/[^+/0-9A-Za-z-_]/g;function F(m){if(m=m.split("=")[0],m=m.trim().replace(_t,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function K(m,h){h=h||1/0;let g,B=m.length,U=null,M=[];for(let St=0;St<B;++St){if(g=m.charCodeAt(St),g>55295&&g<57344){if(!U){if(g>56319){(h-=3)>-1&&M.push(239,191,189);continue}else if(St+1===B){(h-=3)>-1&&M.push(239,191,189);continue}U=g;continue}if(g<56320){(h-=3)>-1&&M.push(239,191,189),U=g;continue}g=(U-55296<<10|g-56320)+65536}else U&&(h-=3)>-1&&M.push(239,191,189);if(U=null,g<128){if((h-=1)<0)break;M.push(g)}else if(g<2048){if((h-=2)<0)break;M.push(g>>6|192,g&63|128)}else if(g<65536){if((h-=3)<0)break;M.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((h-=4)<0)break;M.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return M}function Z(m){let h=[];for(let g=0;g<m.length;++g)h.push(m.charCodeAt(g)&255);return h}function bt(m,h){let g,B,U,M=[];for(let St=0;St<m.length&&!((h-=2)<0);++St)g=m.charCodeAt(St),B=g>>8,U=g%256,M.push(U),M.push(B);return M}function wt(m){return t.toByteArray(F(m))}function J(m,h,g,B){let U;for(U=0;U<B&&!(U+g>=h.length||U>=m.length);++U)h[U+g]=m[U];return U}function at(m,h){return m instanceof h||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===h.name}function L(m){return m!==m}let tt=function(){let m="0123456789abcdef",h=new Array(256);for(let g=0;g<16;++g){let B=g*16;for(let U=0;U<16;++U)h[B+U]=m[g]+m[U]}return h}();function ot(m){return typeof BigInt>"u"?It:m}function It(){throw new Error("BigInt not supported")}return vr}var Yr,bn,so,wn,vr,En,ir,Po,la,pa,Me=ke(()=>{Mt(),Rt(),Bt(),Yr={},bn=!1,so={},wn=!1,vr={},En=!1,ir=xp(),ir.Buffer,ir.SlowBuffer,ir.INSPECT_MAX_BYTES,ir.kMaxLength,Po=ir.Buffer,la=ir.INSPECT_MAX_BYTES,pa=ir.kMaxLength}),Rt=ke(()=>{Me()}),Wp=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(e){this.aliasToTopic={},this.max=e}put(e,p){return p===0||p>this.max?!1:(this.aliasToTopic[p]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};t.default=o}),Se=xt((t,o)=>{Mt(),Rt(),Bt(),o.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,p){return e.includes(p)},ArrayPrototypeIndexOf(e,p){return e.indexOf(p)},ArrayPrototypeJoin(e,p){return e.join(p)},ArrayPrototypeMap(e,p){return e.map(p)},ArrayPrototypePop(e,p){return e.pop(p)},ArrayPrototypePush(e,p){return e.push(p)},ArrayPrototypeSlice(e,p,d){return e.slice(p,d)},Error,FunctionPrototypeCall(e,p,...d){return e.call(p,...d)},FunctionPrototypeSymbolHasInstance(e,p){return Function.prototype[Symbol.hasInstance].call(e,p)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,p){return Object.defineProperties(e,p)},ObjectDefineProperty(e,p,d){return Object.defineProperty(e,p,d)},ObjectGetOwnPropertyDescriptor(e,p){return Object.getOwnPropertyDescriptor(e,p)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,p){return Object.setPrototypeOf(e,p)},Promise,PromisePrototypeCatch(e,p){return e.catch(p)},PromisePrototypeThen(e,p,d){return e.then(p,d)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,p){return e.test(p)},SafeSet:Set,String,StringPrototypeSlice(e,p,d){return e.slice(p,d)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,p,d){return e.set(p,d)},Uint8Array}}),ur=xt((t,o)=>{Mt(),Rt(),Bt();var e=(Me(),se(Oe)),p=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||e.Blob,s=typeof d<"u"?function(u){return u instanceof d}:function(u){return!1},n=class extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let l="";for(let c=0;c<u.length;c++)l+=`    ${u[c].stack}
`;super(l),this.name="AggregateError",this.errors=u}};o.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(u){let l=!1;return function(...c){l||(l=!0,u.apply(this,c))}},createDeferredPromise:function(){let u,l;return{promise:new Promise((c,f)=>{u=c,l=f}),resolve:u,reject:l}},promisify(u){return new Promise((l,c)=>{u((f,...v)=>f?c(f):l(...v))})},debuglog(){return function(){}},format(u,...l){return u.replace(/%([sdifj])/g,function(...[c,f]){let v=l.shift();return f==="f"?v.toFixed(6):f==="j"?JSON.stringify(v):f==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(u){switch(typeof u){case"string":if(u.includes("'"))if(u.includes('"')){if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}else return`"${u}"`;return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}},types:{isAsyncFunction(u){return u instanceof p},isArrayBufferView(u){return ArrayBuffer.isView(u)}},isBlob:s},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Vn=xt((t,o)=>{Mt(),Rt(),Bt();var{AbortController:e,AbortSignal:p}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=e,o.exports.AbortSignal=p,o.exports.default=e}),Ae=xt((t,o)=>{Mt(),Rt(),Bt();var{format:e,inspect:p,AggregateError:d}=ur(),s=globalThis.AggregateError||d,n=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",f={};function v(A,R){if(!A)throw new f.ERR_INTERNAL_ASSERTION(R)}function b(A){let R="",V=A.length,X=A[0]==="-"?1:0;for(;V>=X+4;V-=3)R=`_${A.slice(V-3,V)}${R}`;return`${A.slice(0,V)}${R}`}function w(A,R,V){if(typeof R=="function")return v(R.length<=V.length,`Code: ${A}; The provided arguments length (${V.length}) does not match the required ones (${R.length}).`),R(...V);let X=(R.match(/%[dfijoOs]/g)||[]).length;return v(X===V.length,`Code: ${A}; The provided arguments length (${V.length}) does not match the required ones (${X}).`),V.length===0?R:e(R,...V)}function E(A,R,V){V||(V=Error);class X extends V{constructor(...T){super(w(A,R,T))}toString(){return`${this.name} [${A}]: ${this.message}`}}Object.defineProperties(X.prototype,{name:{value:V.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${A}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),X.prototype.code=A,X.prototype[n]=!0,f[A]=X}function k(A){let R=c+A.name;return Object.defineProperty(A,"name",{value:R}),A}function N(A,R){if(A&&R&&A!==R){if(Array.isArray(R.errors))return R.errors.push(A),R;let V=new s([R,A],R.message);return V.code=R.code,V}return A||R}var z=class extends Error{constructor(A="The operation was aborted",R=void 0){if(R!==void 0&&typeof R!="object")throw new f.ERR_INVALID_ARG_TYPE("options","Object",R);super(A,R),this.code="ABORT_ERR",this.name="AbortError"}};E("ERR_ASSERTION","%s",Error),E("ERR_INVALID_ARG_TYPE",(A,R,V)=>{v(typeof A=="string","'name' must be a string"),Array.isArray(R)||(R=[R]);let X="The ";A.endsWith(" argument")?X+=`${A} `:X+=`"${A}" ${A.includes(".")?"property":"argument"} `,X+="must be ";let j=[],T=[],H=[];for(let D of R)v(typeof D=="string","All expected entries have to be of type string"),u.includes(D)?j.push(D.toLowerCase()):l.test(D)?T.push(D):(v(D!=="object",'The value "object" should be written as "Object"'),H.push(D));if(T.length>0){let D=j.indexOf("object");D!==-1&&(j.splice(j,D,1),T.push("Object"))}if(j.length>0){switch(j.length){case 1:X+=`of type ${j[0]}`;break;case 2:X+=`one of type ${j[0]} or ${j[1]}`;break;default:{let D=j.pop();X+=`one of type ${j.join(", ")}, or ${D}`}}(T.length>0||H.length>0)&&(X+=" or ")}if(T.length>0){switch(T.length){case 1:X+=`an instance of ${T[0]}`;break;case 2:X+=`an instance of ${T[0]} or ${T[1]}`;break;default:{let D=T.pop();X+=`an instance of ${T.join(", ")}, or ${D}`}}H.length>0&&(X+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(X+="an "),X+=`${H[0]}`;break;case 2:X+=`one of ${H[0]} or ${H[1]}`;break;default:{let D=H.pop();X+=`one of ${H.join(", ")}, or ${D}`}}if(V==null)X+=`. Received ${V}`;else if(typeof V=="function"&&V.name)X+=`. Received function ${V.name}`;else if(typeof V=="object"){var rt;if((rt=V.constructor)!==null&&rt!==void 0&&rt.name)X+=`. Received an instance of ${V.constructor.name}`;else{let D=p(V,{depth:-1});X+=`. Received ${D}`}}else{let D=p(V,{colors:!1});D.length>25&&(D=`${D.slice(0,25)}...`),X+=`. Received type ${typeof V} (${D})`}return X},TypeError),E("ERR_INVALID_ARG_VALUE",(A,R,V="is invalid")=>{let X=p(R);return X.length>128&&(X=X.slice(0,128)+"..."),`The ${A.includes(".")?"property":"argument"} '${A}' ${V}. Received ${X}`},TypeError),E("ERR_INVALID_RETURN_VALUE",(A,R,V)=>{var X;let j=V!=null&&(X=V.constructor)!==null&&X!==void 0&&X.name?`instance of ${V.constructor.name}`:`type ${typeof V}`;return`Expected ${A} to be returned from the "${R}" function but got ${j}.`},TypeError),E("ERR_MISSING_ARGS",(...A)=>{v(A.length>0,"At least one arg needs to be specified");let R,V=A.length;switch(A=(Array.isArray(A)?A:[A]).map(X=>`"${X}"`).join(" or "),V){case 1:R+=`The ${A[0]} argument`;break;case 2:R+=`The ${A[0]} and ${A[1]} arguments`;break;default:{let X=A.pop();R+=`The ${A.join(", ")}, and ${X} arguments`}break}return`${R} must be specified`},TypeError),E("ERR_OUT_OF_RANGE",(A,R,V)=>{v(R,'Missing "range" argument');let X;return Number.isInteger(V)&&Math.abs(V)>2**32?X=b(String(V)):typeof V=="bigint"?(X=String(V),(V>2n**32n||V<-(2n**32n))&&(X=b(X)),X+="n"):X=p(V),`The value of "${A}" is out of range. It must be ${R}. Received ${X}`},RangeError),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:z,aggregateTwoErrors:k(N),hideStackFrames:k,codes:f}}),Do=xt((t,o)=>{Mt(),Rt(),Bt();var{ArrayIsArray:e,ArrayPrototypeIncludes:p,ArrayPrototypeJoin:d,ArrayPrototypeMap:s,NumberIsInteger:n,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:f,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:b,String:w,StringPrototypeToUpperCase:E,StringPrototypeTrim:k}=Se(),{hideStackFrames:N,codes:{ERR_SOCKET_BAD_PORT:z,ERR_INVALID_ARG_TYPE:A,ERR_INVALID_ARG_VALUE:R,ERR_OUT_OF_RANGE:V,ERR_UNKNOWN_SIGNAL:X}}=Ae(),{normalizeEncoding:j}=ur(),{isAsyncFunction:T,isArrayBufferView:H}=ur().types,rt={};function D(J){return J===(J|0)}function ct(J){return J===J>>>0}var x=/^[0-7]+$/,q="must be a 32-bit unsigned integer or an octal string";function Tt(J,at,L){if(typeof J>"u"&&(J=L),typeof J=="string"){if(b(x,J)===null)throw new R(at,J,q);J=f(J,8)}return kt(J,at),J}var lt=N((J,at,L=c,tt=l)=>{if(typeof J!="number")throw new A(at,"number",J);if(!n(J))throw new V(at,"an integer",J);if(J<L||J>tt)throw new V(at,`>= ${L} && <= ${tt}`,J)}),Ot=N((J,at,L=-2147483648,tt=2147483647)=>{if(typeof J!="number")throw new A(at,"number",J);if(!n(J))throw new V(at,"an integer",J);if(J<L||J>tt)throw new V(at,`>= ${L} && <= ${tt}`,J)}),kt=N((J,at,L=!1)=>{if(typeof J!="number")throw new A(at,"number",J);if(!n(J))throw new V(at,"an integer",J);let tt=L?1:0,ot=4294967295;if(J<tt||J>ot)throw new V(at,`>= ${tt} && <= ${ot}`,J)});function Y(J,at){if(typeof J!="string")throw new A(at,"string",J)}function pt(J,at,L=void 0,tt){if(typeof J!="number")throw new A(at,"number",J);if(L!=null&&J<L||tt!=null&&J>tt||(L!=null||tt!=null)&&u(J))throw new V(at,`${L!=null?`>= ${L}`:""}${L!=null&&tt!=null?" && ":""}${tt!=null?`<= ${tt}`:""}`,J)}var ft=N((J,at,L)=>{if(!p(L,J)){let tt="must be one of: "+d(s(L,ot=>typeof ot=="string"?`'${ot}'`:w(ot)),", ");throw new R(at,J,tt)}});function et(J,at){if(typeof J!="boolean")throw new A(at,"boolean",J)}function _(J,at,L){return J==null||!v(J,at)?L:J[at]}var Q=N((J,at,L=null)=>{let tt=_(L,"allowArray",!1),ot=_(L,"allowFunction",!1);if(!_(L,"nullable",!1)&&J===null||!tt&&e(J)||typeof J!="object"&&(!ot||typeof J!="function"))throw new A(at,"Object",J)}),nt=N((J,at)=>{if(J!=null&&typeof J!="object"&&typeof J!="function")throw new A(at,"a dictionary",J)}),yt=N((J,at,L=0)=>{if(!e(J))throw new A(at,"Array",J);if(J.length<L){let tt=`must be longer than ${L}`;throw new R(at,J,tt)}});function it(J,at){yt(J,at);for(let L=0;L<J.length;L++)Y(J[L],`${at}[${L}]`)}function C(J,at){yt(J,at);for(let L=0;L<J.length;L++)et(J[L],`${at}[${L}]`)}function O(J,at="signal"){if(Y(J,at),rt[J]===void 0)throw rt[E(J)]!==void 0?new X(J+" (signals must use all capital letters)"):new X(J)}var st=N((J,at="buffer")=>{if(!H(J))throw new A(at,["Buffer","TypedArray","DataView"],J)});function mt(J,at){let L=j(at),tt=J.length;if(L==="hex"&&tt%2!==0)throw new R("encoding",at,`is invalid for data of length ${tt}`)}function ht(J,at="Port",L=!0){if(typeof J!="number"&&typeof J!="string"||typeof J=="string"&&k(J).length===0||+J!==+J>>>0||J>65535||J===0&&!L)throw new z(at,J,L);return J|0}var ut=N((J,at)=>{if(J!==void 0&&(J===null||typeof J!="object"||!("aborted"in J)))throw new A(at,"AbortSignal",J)}),gt=N((J,at)=>{if(typeof J!="function")throw new A(at,"Function",J)}),_t=N((J,at)=>{if(typeof J!="function"||T(J))throw new A(at,"Function",J)}),F=N((J,at)=>{if(J!==void 0)throw new A(at,"undefined",J)});function K(J,at,L){if(!p(L,J))throw new A(at,`('${d(L,"|")}')`,J)}var Z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function bt(J,at){if(typeof J>"u"||!b(Z,J))throw new R(at,J,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function wt(J){if(typeof J=="string")return bt(J,"hints"),J;if(e(J)){let at=J.length,L="";if(at===0)return L;for(let tt=0;tt<at;tt++){let ot=J[tt];bt(ot,"hints"),L+=ot,tt!==at-1&&(L+=", ")}return L}throw new R("hints",J,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:D,isUint32:ct,parseFileMode:Tt,validateArray:yt,validateStringArray:it,validateBooleanArray:C,validateBoolean:et,validateBuffer:st,validateDictionary:nt,validateEncoding:mt,validateFunction:gt,validateInt32:Ot,validateInteger:lt,validateNumber:pt,validateObject:Q,validateOneOf:ft,validatePlainFunction:_t,validatePort:ht,validateSignalName:O,validateString:Y,validateUint32:kt,validateUndefined:F,validateUnion:K,validateAbortSignal:ut,validateLinkHeaderValue:wt}}),Vr=xt((t,o)=>{Mt(),Rt(),Bt();var e=o.exports={},p,d;function s(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=s}catch{p=s}try{typeof clearTimeout=="function"?d=clearTimeout:d=n}catch{d=n}})();function u(z){if(p===setTimeout)return setTimeout(z,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(z,0);try{return p(z,0)}catch{try{return p.call(null,z,0)}catch{return p.call(this,z,0)}}}function l(z){if(d===clearTimeout)return clearTimeout(z);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(z);try{return d(z)}catch{try{return d.call(null,z)}catch{return d.call(this,z)}}}var c=[],f=!1,v,b=-1;function w(){!f||!v||(f=!1,v.length?c=v.concat(c):b=-1,c.length&&E())}function E(){if(!f){var z=u(w);f=!0;for(var A=c.length;A;){for(v=c,c=[];++b<A;)v&&v[b].run();b=-1,A=c.length}v=null,f=!1,l(z)}}e.nextTick=function(z){var A=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)A[R-1]=arguments[R];c.push(new k(z,A)),c.length===1&&!f&&u(E)};function k(z,A){this.fun=z,this.array=A}k.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function N(){}e.on=N,e.addListener=N,e.once=N,e.off=N,e.removeListener=N,e.removeAllListeners=N,e.emit=N,e.prependListener=N,e.prependOnceListener=N,e.listeners=function(z){return[]},e.binding=function(z){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(z){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}),hr=xt((t,o)=>{Mt(),Rt(),Bt();var{Symbol:e,SymbolAsyncIterator:p,SymbolIterator:d,SymbolFor:s}=Se(),n=e("kDestroyed"),u=e("kIsErrored"),l=e("kIsReadable"),c=e("kIsDisturbed"),f=s("nodejs.webstream.isClosedPromise"),v=s("nodejs.webstream.controllerErrorFunction");function b(_,Q=!1){var nt;return!!(_&&typeof _.pipe=="function"&&typeof _.on=="function"&&(!Q||typeof _.pause=="function"&&typeof _.resume=="function")&&(!_._writableState||((nt=_._readableState)===null||nt===void 0?void 0:nt.readable)!==!1)&&(!_._writableState||_._readableState))}function w(_){var Q;return!!(_&&typeof _.write=="function"&&typeof _.on=="function"&&(!_._readableState||((Q=_._writableState)===null||Q===void 0?void 0:Q.writable)!==!1))}function E(_){return!!(_&&typeof _.pipe=="function"&&_._readableState&&typeof _.on=="function"&&typeof _.write=="function")}function k(_){return _&&(_._readableState||_._writableState||typeof _.write=="function"&&typeof _.on=="function"||typeof _.pipe=="function"&&typeof _.on=="function")}function N(_){return!!(_&&!k(_)&&typeof _.pipeThrough=="function"&&typeof _.getReader=="function"&&typeof _.cancel=="function")}function z(_){return!!(_&&!k(_)&&typeof _.getWriter=="function"&&typeof _.abort=="function")}function A(_){return!!(_&&!k(_)&&typeof _.readable=="object"&&typeof _.writable=="object")}function R(_){return N(_)||z(_)||A(_)}function V(_,Q){return _==null?!1:Q===!0?typeof _[p]=="function":Q===!1?typeof _[d]=="function":typeof _[p]=="function"||typeof _[d]=="function"}function X(_){if(!k(_))return null;let Q=_._writableState,nt=_._readableState,yt=Q||nt;return!!(_.destroyed||_[n]||yt!=null&&yt.destroyed)}function j(_){if(!w(_))return null;if(_.writableEnded===!0)return!0;let Q=_._writableState;return Q!=null&&Q.errored?!1:typeof(Q==null?void 0:Q.ended)!="boolean"?null:Q.ended}function T(_,Q){if(!w(_))return null;if(_.writableFinished===!0)return!0;let nt=_._writableState;return nt!=null&&nt.errored?!1:typeof(nt==null?void 0:nt.finished)!="boolean"?null:!!(nt.finished||Q===!1&&nt.ended===!0&&nt.length===0)}function H(_){if(!b(_))return null;if(_.readableEnded===!0)return!0;let Q=_._readableState;return!Q||Q.errored?!1:typeof(Q==null?void 0:Q.ended)!="boolean"?null:Q.ended}function rt(_,Q){if(!b(_))return null;let nt=_._readableState;return nt!=null&&nt.errored?!1:typeof(nt==null?void 0:nt.endEmitted)!="boolean"?null:!!(nt.endEmitted||Q===!1&&nt.ended===!0&&nt.length===0)}function D(_){return _&&_[l]!=null?_[l]:typeof(_==null?void 0:_.readable)!="boolean"?null:X(_)?!1:b(_)&&_.readable&&!rt(_)}function ct(_){return typeof(_==null?void 0:_.writable)!="boolean"?null:X(_)?!1:w(_)&&_.writable&&!j(_)}function x(_,Q){return k(_)?X(_)?!0:!((Q==null?void 0:Q.readable)!==!1&&D(_)||(Q==null?void 0:Q.writable)!==!1&&ct(_)):null}function q(_){var Q,nt;return k(_)?_.writableErrored?_.writableErrored:(Q=(nt=_._writableState)===null||nt===void 0?void 0:nt.errored)!==null&&Q!==void 0?Q:null:null}function Tt(_){var Q,nt;return k(_)?_.readableErrored?_.readableErrored:(Q=(nt=_._readableState)===null||nt===void 0?void 0:nt.errored)!==null&&Q!==void 0?Q:null:null}function lt(_){if(!k(_))return null;if(typeof _.closed=="boolean")return _.closed;let Q=_._writableState,nt=_._readableState;return typeof(Q==null?void 0:Q.closed)=="boolean"||typeof(nt==null?void 0:nt.closed)=="boolean"?(Q==null?void 0:Q.closed)||(nt==null?void 0:nt.closed):typeof _._closed=="boolean"&&Ot(_)?_._closed:null}function Ot(_){return typeof _._closed=="boolean"&&typeof _._defaultKeepAlive=="boolean"&&typeof _._removedConnection=="boolean"&&typeof _._removedContLen=="boolean"}function kt(_){return typeof _._sent100=="boolean"&&Ot(_)}function Y(_){var Q;return typeof _._consuming=="boolean"&&typeof _._dumped=="boolean"&&((Q=_.req)===null||Q===void 0?void 0:Q.upgradeOrConnect)===void 0}function pt(_){if(!k(_))return null;let Q=_._writableState,nt=_._readableState,yt=Q||nt;return!yt&&kt(_)||!!(yt&&yt.autoDestroy&&yt.emitClose&&yt.closed===!1)}function ft(_){var Q;return!!(_&&((Q=_[c])!==null&&Q!==void 0?Q:_.readableDidRead||_.readableAborted))}function et(_){var Q,nt,yt,it,C,O,st,mt,ht,ut;return!!(_&&((Q=(nt=(yt=(it=(C=(O=_[u])!==null&&O!==void 0?O:_.readableErrored)!==null&&C!==void 0?C:_.writableErrored)!==null&&it!==void 0?it:(st=_._readableState)===null||st===void 0?void 0:st.errorEmitted)!==null&&yt!==void 0?yt:(mt=_._writableState)===null||mt===void 0?void 0:mt.errorEmitted)!==null&&nt!==void 0?nt:(ht=_._readableState)===null||ht===void 0?void 0:ht.errored)!==null&&Q!==void 0?Q:!((ut=_._writableState)===null||ut===void 0)&&ut.errored))}o.exports={kDestroyed:n,isDisturbed:ft,kIsDisturbed:c,isErrored:et,kIsErrored:u,isReadable:D,kIsReadable:l,kIsClosedPromise:f,kControllerErrorFunction:v,isClosed:lt,isDestroyed:X,isDuplexNodeStream:E,isFinished:x,isIterable:V,isReadableNodeStream:b,isReadableStream:N,isReadableEnded:H,isReadableFinished:rt,isReadableErrored:Tt,isNodeStream:k,isWebStream:R,isWritable:ct,isWritableNodeStream:w,isWritableStream:z,isWritableEnded:j,isWritableFinished:T,isWritableErrored:q,isServerRequest:Y,isServerResponse:kt,willEmitClose:pt,isTransformStream:A}}),_r=xt((t,o)=>{Mt(),Rt(),Bt();var e=Vr(),{AbortError:p,codes:d}=Ae(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:n}=d,{kEmptyObject:u,once:l}=ur(),{validateAbortSignal:c,validateFunction:f,validateObject:v,validateBoolean:b}=Do(),{Promise:w,PromisePrototypeThen:E}=Se(),{isClosed:k,isReadable:N,isReadableNodeStream:z,isReadableStream:A,isReadableFinished:R,isReadableErrored:V,isWritable:X,isWritableNodeStream:j,isWritableStream:T,isWritableFinished:H,isWritableErrored:rt,isNodeStream:D,willEmitClose:ct,kIsClosedPromise:x}=hr();function q(Y){return Y.setHeader&&typeof Y.abort=="function"}var Tt=()=>{};function lt(Y,pt,ft){var et,_;if(arguments.length===2?(ft=pt,pt=u):pt==null?pt=u:v(pt,"options"),f(ft,"callback"),c(pt.signal,"options.signal"),ft=l(ft),A(Y)||T(Y))return Ot(Y,pt,ft);if(!D(Y))throw new s("stream",["ReadableStream","WritableStream","Stream"],Y);let Q=(et=pt.readable)!==null&&et!==void 0?et:z(Y),nt=(_=pt.writable)!==null&&_!==void 0?_:j(Y),yt=Y._writableState,it=Y._readableState,C=()=>{Y.writable||mt()},O=ct(Y)&&z(Y)===Q&&j(Y)===nt,st=H(Y,!1),mt=()=>{st=!0,Y.destroyed&&(O=!1),!(O&&(!Y.readable||Q))&&(!Q||ht)&&ft.call(Y)},ht=R(Y,!1),ut=()=>{ht=!0,Y.destroyed&&(O=!1),!(O&&(!Y.writable||nt))&&(!nt||st)&&ft.call(Y)},gt=wt=>{ft.call(Y,wt)},_t=k(Y),F=()=>{_t=!0;let wt=rt(Y)||V(Y);if(wt&&typeof wt!="boolean")return ft.call(Y,wt);if(Q&&!ht&&z(Y,!0)&&!R(Y,!1))return ft.call(Y,new n);if(nt&&!st&&!H(Y,!1))return ft.call(Y,new n);ft.call(Y)},K=()=>{_t=!0;let wt=rt(Y)||V(Y);if(wt&&typeof wt!="boolean")return ft.call(Y,wt);ft.call(Y)},Z=()=>{Y.req.on("finish",mt)};q(Y)?(Y.on("complete",mt),O||Y.on("abort",F),Y.req?Z():Y.on("request",Z)):nt&&!yt&&(Y.on("end",C),Y.on("close",C)),!O&&typeof Y.aborted=="boolean"&&Y.on("aborted",F),Y.on("end",ut),Y.on("finish",mt),pt.error!==!1&&Y.on("error",gt),Y.on("close",F),_t?e.nextTick(F):yt!=null&&yt.errorEmitted||it!=null&&it.errorEmitted?O||e.nextTick(K):(!Q&&(!O||N(Y))&&(st||X(Y)===!1)||!nt&&(!O||X(Y))&&(ht||N(Y)===!1)||it&&Y.req&&Y.aborted)&&e.nextTick(K);let bt=()=>{ft=Tt,Y.removeListener("aborted",F),Y.removeListener("complete",mt),Y.removeListener("abort",F),Y.removeListener("request",Z),Y.req&&Y.req.removeListener("finish",mt),Y.removeListener("end",C),Y.removeListener("close",C),Y.removeListener("finish",mt),Y.removeListener("end",ut),Y.removeListener("error",gt),Y.removeListener("close",F)};if(pt.signal&&!_t){let wt=()=>{let J=ft;bt(),J.call(Y,new p(void 0,{cause:pt.signal.reason}))};if(pt.signal.aborted)e.nextTick(wt);else{let J=ft;ft=l((...at)=>{pt.signal.removeEventListener("abort",wt),J.apply(Y,at)}),pt.signal.addEventListener("abort",wt)}}return bt}function Ot(Y,pt,ft){let et=!1,_=Tt;if(pt.signal)if(_=()=>{et=!0,ft.call(Y,new p(void 0,{cause:pt.signal.reason}))},pt.signal.aborted)e.nextTick(_);else{let nt=ft;ft=l((...yt)=>{pt.signal.removeEventListener("abort",_),nt.apply(Y,yt)}),pt.signal.addEventListener("abort",_)}let Q=(...nt)=>{et||e.nextTick(()=>ft.apply(Y,nt))};return E(Y[x].promise,Q,Q),Tt}function kt(Y,pt){var ft;let et=!1;return pt===null&&(pt=u),(ft=pt)!==null&&ft!==void 0&&ft.cleanup&&(b(pt.cleanup,"cleanup"),et=pt.cleanup),new w((_,Q)=>{let nt=lt(Y,pt,yt=>{et&&nt(),yt?Q(yt):_()})})}o.exports=lt,o.exports.finished=kt}),Zr=xt((t,o)=>{Mt(),Rt(),Bt();var e=Vr(),{aggregateTwoErrors:p,codes:{ERR_MULTIPLE_CALLBACK:d},AbortError:s}=Ae(),{Symbol:n}=Se(),{kDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:f}=hr(),v=n("kDestroy"),b=n("kConstruct");function w(x,q,Tt){x&&(x.stack,q&&!q.errored&&(q.errored=x),Tt&&!Tt.errored&&(Tt.errored=x))}function E(x,q){let Tt=this._readableState,lt=this._writableState,Ot=lt||Tt;return lt!=null&&lt.destroyed||Tt!=null&&Tt.destroyed?(typeof q=="function"&&q(),this):(w(x,lt,Tt),lt&&(lt.destroyed=!0),Tt&&(Tt.destroyed=!0),Ot.constructed?k(this,x,q):this.once(v,function(kt){k(this,p(kt,x),q)}),this)}function k(x,q,Tt){let lt=!1;function Ot(kt){if(lt)return;lt=!0;let Y=x._readableState,pt=x._writableState;w(kt,pt,Y),pt&&(pt.closed=!0),Y&&(Y.closed=!0),typeof Tt=="function"&&Tt(kt),kt?e.nextTick(N,x,kt):e.nextTick(z,x)}try{x._destroy(q||null,Ot)}catch(kt){Ot(kt)}}function N(x,q){A(x,q),z(x)}function z(x){let q=x._readableState,Tt=x._writableState;Tt&&(Tt.closeEmitted=!0),q&&(q.closeEmitted=!0),(Tt!=null&&Tt.emitClose||q!=null&&q.emitClose)&&x.emit("close")}function A(x,q){let Tt=x._readableState,lt=x._writableState;lt!=null&&lt.errorEmitted||Tt!=null&&Tt.errorEmitted||(lt&&(lt.errorEmitted=!0),Tt&&(Tt.errorEmitted=!0),x.emit("error",q))}function R(){let x=this._readableState,q=this._writableState;x&&(x.constructed=!0,x.closed=!1,x.closeEmitted=!1,x.destroyed=!1,x.errored=null,x.errorEmitted=!1,x.reading=!1,x.ended=x.readable===!1,x.endEmitted=x.readable===!1),q&&(q.constructed=!0,q.destroyed=!1,q.closed=!1,q.closeEmitted=!1,q.errored=null,q.errorEmitted=!1,q.finalCalled=!1,q.prefinished=!1,q.ended=q.writable===!1,q.ending=q.writable===!1,q.finished=q.writable===!1)}function V(x,q,Tt){let lt=x._readableState,Ot=x._writableState;if(Ot!=null&&Ot.destroyed||lt!=null&&lt.destroyed)return this;lt!=null&&lt.autoDestroy||Ot!=null&&Ot.autoDestroy?x.destroy(q):q&&(q.stack,Ot&&!Ot.errored&&(Ot.errored=q),lt&&!lt.errored&&(lt.errored=q),Tt?e.nextTick(A,x,q):A(x,q))}function X(x,q){if(typeof x._construct!="function")return;let Tt=x._readableState,lt=x._writableState;Tt&&(Tt.constructed=!1),lt&&(lt.constructed=!1),x.once(b,q),!(x.listenerCount(b)>1)&&e.nextTick(j,x)}function j(x){let q=!1;function Tt(lt){if(q){V(x,lt??new d);return}q=!0;let Ot=x._readableState,kt=x._writableState,Y=kt||Ot;Ot&&(Ot.constructed=!0),kt&&(kt.constructed=!0),Y.destroyed?x.emit(v,lt):lt?V(x,lt,!0):e.nextTick(T,x)}try{x._construct(lt=>{e.nextTick(Tt,lt)})}catch(lt){e.nextTick(Tt,lt)}}function T(x){x.emit(b)}function H(x){return(x==null?void 0:x.setHeader)&&typeof x.abort=="function"}function rt(x){x.emit("close")}function D(x,q){x.emit("error",q),e.nextTick(rt,x)}function ct(x,q){!x||l(x)||(!q&&!c(x)&&(q=new s),f(x)?(x.socket=null,x.destroy(q)):H(x)?x.abort():H(x.req)?x.req.abort():typeof x.destroy=="function"?x.destroy(q):typeof x.close=="function"?x.close():q?e.nextTick(D,x,q):e.nextTick(rt,x),x.destroyed||(x[u]=!0))}o.exports={construct:X,destroyer:ct,destroy:E,undestroy:R,errorOrDestroy:V}});function ne(){ne.init.call(this)}function ko(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function ua(t){return t._maxListeners===void 0?ne.defaultMaxListeners:t._maxListeners}function is(t,o,e,p){var d,s,n,u;if(ko(e),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",o,e.listener?e.listener:e),s=t._events),n=s[o]),n===void 0)n=s[o]=e,++t._eventsCount;else if(typeof n=="function"?n=s[o]=p?[e,n]:[n,e]:p?n.unshift(e):n.push(e),(d=ua(t))>0&&n.length>d&&!n.warned){n.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=o,l.count=n.length,u=l,console&&console.warn&&console.warn(u)}return t}function Np(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ns(t,o,e){var p={fired:!1,wrapFn:void 0,target:t,type:o,listener:e},d=Np.bind(p);return d.listener=e,p.wrapFn=d,d}function ss(t,o,e){var p=t._events;if(p===void 0)return[];var d=p[o];return d===void 0?[]:typeof d=="function"?e?[d.listener||d]:[d]:e?function(s){for(var n=new Array(s.length),u=0;u<n.length;++u)n[u]=s[u].listener||s[u];return n}(d):ca(d,d.length)}function as(t){var o=this._events;if(o!==void 0){var e=o[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}function ca(t,o){for(var e=new Array(o),p=0;p<o;++p)e[p]=t[p];return e}var ls,ps,kr,Zo,Xo,ti,We,us=ke(()=>{Mt(),Rt(),Bt(),kr=typeof Reflect=="object"?Reflect:null,Zo=kr&&typeof kr.apply=="function"?kr.apply:function(t,o,e){return Function.prototype.apply.call(t,o,e)},ps=kr&&typeof kr.ownKeys=="function"?kr.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},Xo=Number.isNaN||function(t){return t!=t},ls=ne,ne.EventEmitter=ne,ne.prototype._events=void 0,ne.prototype._eventsCount=0,ne.prototype._maxListeners=void 0,ti=10,Object.defineProperty(ne,"defaultMaxListeners",{enumerable:!0,get:function(){return ti},set:function(t){if(typeof t!="number"||t<0||Xo(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ti=t}}),ne.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ne.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Xo(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},ne.prototype.getMaxListeners=function(){return ua(this)},ne.prototype.emit=function(t){for(var o=[],e=1;e<arguments.length;e++)o.push(arguments[e]);var p=t==="error",d=this._events;if(d!==void 0)p=p&&d.error===void 0;else if(!p)return!1;if(p){var s;if(o.length>0&&(s=o[0]),s instanceof Error)throw s;var n=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw n.context=s,n}var u=d[t];if(u===void 0)return!1;if(typeof u=="function")Zo(u,this,o);else{var l=u.length,c=ca(u,l);for(e=0;e<l;++e)Zo(c[e],this,o)}return!0},ne.prototype.addListener=function(t,o){return is(this,t,o,!1)},ne.prototype.on=ne.prototype.addListener,ne.prototype.prependListener=function(t,o){return is(this,t,o,!0)},ne.prototype.once=function(t,o){return ko(o),this.on(t,ns(this,t,o)),this},ne.prototype.prependOnceListener=function(t,o){return ko(o),this.prependListener(t,ns(this,t,o)),this},ne.prototype.removeListener=function(t,o){var e,p,d,s,n;if(ko(o),(p=this._events)===void 0)return this;if((e=p[t])===void 0)return this;if(e===o||e.listener===o)--this._eventsCount==0?this._events=Object.create(null):(delete p[t],p.removeListener&&this.emit("removeListener",t,e.listener||o));else if(typeof e!="function"){for(d=-1,s=e.length-1;s>=0;s--)if(e[s]===o||e[s].listener===o){n=e[s].listener,d=s;break}if(d<0)return this;d===0?e.shift():function(u,l){for(;l+1<u.length;l++)u[l]=u[l+1];u.pop()}(e,d),e.length===1&&(p[t]=e[0]),p.removeListener!==void 0&&this.emit("removeListener",t,n||o)}return this},ne.prototype.off=ne.prototype.removeListener,ne.prototype.removeAllListeners=function(t){var o,e,p;if((e=this._events)===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var d,s=Object.keys(e);for(p=0;p<s.length;++p)(d=s[p])!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(o=e[t])=="function")this.removeListener(t,o);else if(o!==void 0)for(p=o.length-1;p>=0;p--)this.removeListener(t,o[p]);return this},ne.prototype.listeners=function(t){return ss(this,t,!0)},ne.prototype.rawListeners=function(t){return ss(this,t,!1)},ne.listenerCount=function(t,o){return typeof t.listenerCount=="function"?t.listenerCount(o):as.call(t,o)},ne.prototype.listenerCount=as,ne.prototype.eventNames=function(){return this._eventsCount>0?ps(this._events):[]},We=ls,We.EventEmitter,We.defaultMaxListeners,We.init,We.listenerCount,We.EventEmitter,We.defaultMaxListeners,We.init,We.listenerCount}),Gr={};$r(Gr,{EventEmitter:()=>da,default:()=>We,defaultMaxListeners:()=>ha,init:()=>fa,listenerCount:()=>ma,on:()=>ya,once:()=>ga});var da,ha,fa,ma,ya,ga,Xr=ke(()=>{Mt(),Rt(),Bt(),us(),us(),We.once=function(t,o){return new Promise((e,p)=>{function d(...n){s!==void 0&&t.removeListener("error",s),e(n)}let s;o!=="error"&&(s=n=>{t.removeListener(name,d),p(n)},t.once("error",s)),t.once(o,d)})},We.on=function(t,o){let e=[],p=[],d=null,s=!1,n={async next(){let c=e.shift();if(c)return createIterResult(c,!1);if(d){let f=Promise.reject(d);return d=null,f}return s?createIterResult(void 0,!0):new Promise((f,v)=>p.push({resolve:f,reject:v}))},async return(){t.removeListener(o,u),t.removeListener("error",l),s=!0;for(let c of p)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){d=c,t.removeListener(o,u),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(o,u),t.on("error",l),n;function u(...c){let f=p.shift();f?f.resolve(createIterResult(c,!1)):e.push(c)}function l(c){s=!0;let f=p.shift();f?f.reject(c):d=c,n.return()}},{EventEmitter:da,defaultMaxListeners:ha,init:fa,listenerCount:ma,on:ya,once:ga}=We}),Gn=xt((t,o)=>{Mt(),Rt(),Bt();var{ArrayIsArray:e,ObjectSetPrototypeOf:p}=Se(),{EventEmitter:d}=(Xr(),se(Gr));function s(u){d.call(this,u)}p(s.prototype,d.prototype),p(s,d),s.prototype.pipe=function(u,l){let c=this;function f(z){u.writable&&u.write(z)===!1&&c.pause&&c.pause()}c.on("data",f);function v(){c.readable&&c.resume&&c.resume()}u.on("drain",v),!u._isStdio&&(!l||l.end!==!1)&&(c.on("end",w),c.on("close",E));let b=!1;function w(){b||(b=!0,u.end())}function E(){b||(b=!0,typeof u.destroy=="function"&&u.destroy())}function k(z){N(),d.listenerCount(this,"error")===0&&this.emit("error",z)}n(c,"error",k),n(u,"error",k);function N(){c.removeListener("data",f),u.removeListener("drain",v),c.removeListener("end",w),c.removeListener("close",E),c.removeListener("error",k),u.removeListener("error",k),c.removeListener("end",N),c.removeListener("close",N),u.removeListener("close",N)}return c.on("end",N),c.on("close",N),u.on("close",N),u.emit("pipe",c),u};function n(u,l,c){if(typeof u.prependListener=="function")return u.prependListener(l,c);!u._events||!u._events[l]?u.on(l,c):e(u._events[l])?u._events[l].unshift(c):u._events[l]=[c,u._events[l]]}o.exports={Stream:s,prependListener:n}}),Lo=xt((t,o)=>{Mt(),Rt(),Bt();var{AbortError:e,codes:p}=Ae(),{isNodeStream:d,isWebStream:s,kControllerErrorFunction:n}=hr(),u=_r(),{ERR_INVALID_ARG_TYPE:l}=p,c=(f,v)=>{if(typeof f!="object"||!("aborted"in f))throw new l(v,"AbortSignal",f)};o.exports.addAbortSignal=function(f,v){if(c(f,"signal"),!d(v)&&!s(v))throw new l("stream",["ReadableStream","WritableStream","Stream"],v);return o.exports.addAbortSignalNoValidate(f,v)},o.exports.addAbortSignalNoValidate=function(f,v){if(typeof f!="object"||!("aborted"in f))return v;let b=d(v)?()=>{v.destroy(new e(void 0,{cause:f.reason}))}:()=>{v[n](new e(void 0,{cause:f.reason}))};return f.aborted?b():(f.addEventListener("abort",b),u(v,()=>f.removeEventListener("abort",b))),v}}),jp=xt((t,o)=>{Mt(),Rt(),Bt();var{StringPrototypeSlice:e,SymbolIterator:p,TypedArrayPrototypeSet:d,Uint8Array:s}=Se(),{Buffer:n}=(Me(),se(Oe)),{inspect:u}=ur();o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,f=""+c.data;for(;(c=c.next)!==null;)f+=l+c.data;return f}concat(l){if(this.length===0)return n.alloc(0);let c=n.allocUnsafe(l>>>0),f=this.head,v=0;for(;f;)d(c,f.data,v),v+=f.data.length,f=f.next;return c}consume(l,c){let f=this.head.data;if(l<f.length){let v=f.slice(0,l);return this.head.data=f.slice(l),v}return l===f.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[p](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",f=this.head,v=0;do{let b=f.data;if(l>b.length)c+=b,l-=b.length;else{l===b.length?(c+=b,++v,f.next?this.head=f.next:this.head=this.tail=null):(c+=e(b,0,l),this.head=f,f.data=e(b,l));break}++v}while((f=f.next)!==null);return this.length-=v,c}_getBuffer(l){let c=n.allocUnsafe(l),f=l,v=this.head,b=0;do{let w=v.data;if(l>w.length)d(c,w,f-l),l-=w.length;else{l===w.length?(d(c,w,f-l),++b,v.next?this.head=v.next:this.head=this.tail=null):(d(c,new s(w.buffer,w.byteOffset,l),f-l),this.head=v,v.data=w.slice(l));break}++b}while((v=v.next)!==null);return this.length-=b,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return u(this,{...c,depth:0,customInspect:!1})}}}),Hn=xt((t,o)=>{Mt(),Rt(),Bt();var{MathFloor:e,NumberIsInteger:p}=Se(),{ERR_INVALID_ARG_VALUE:d}=Ae().codes;function s(l,c,f){return l.highWaterMark!=null?l.highWaterMark:c?l[f]:null}function n(l){return l?16:16*1024}function u(l,c,f,v){let b=s(c,v,f);if(b!=null){if(!p(b)||b<0){let w=v?`options.${f}`:"options.highWaterMark";throw new d(w,b)}return e(b)}return n(l.objectMode)}o.exports={getHighWaterMark:u,getDefaultHighWaterMark:n}});function cs(t){var o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return e===-1&&(e=o),[e,e===o?0:4-e%4]}function Dp(t,o,e){for(var p,d,s=[],n=o;n<e;n+=3)p=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(255&t[n+2]),s.push(qe[(d=p)>>18&63]+qe[d>>12&63]+qe[d>>6&63]+qe[63&d]);return s.join("")}function lr(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var o=new Uint8Array(t);return Object.setPrototypeOf(o,At.prototype),o}function At(t,o,e){if(typeof t=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _n(t)}return va(t,o,e)}function va(t,o,e){if(typeof t=="string")return function(s,n){if(typeof n=="string"&&n!==""||(n="utf8"),!At.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var u=0|wa(s,n),l=lr(u),c=l.write(s,n);return c!==u&&(l=l.slice(0,c)),l}(t,o);if(ArrayBuffer.isView(t))return ei(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(pr(t,ArrayBuffer)||t&&pr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pr(t,SharedArrayBuffer)||t&&pr(t.buffer,SharedArrayBuffer)))return Lp(t,o,e);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=t.valueOf&&t.valueOf();if(p!=null&&p!==t)return At.from(p,o,e);var d=function(s){if(At.isBuffer(s)){var n=0|qn(s.length),u=lr(n);return u.length===0||s.copy(u,0,0,n),u}if(s.length!==void 0)return typeof s.length!="number"||Kn(s.length)?lr(0):ei(s);if(s.type==="Buffer"&&Array.isArray(s.data))return ei(s.data)}(t);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return At.from(t[Symbol.toPrimitive]("string"),o,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function ba(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function _n(t){return ba(t),lr(t<0?0:0|qn(t))}function ei(t){for(var o=t.length<0?0:0|qn(t.length),e=lr(o),p=0;p<o;p+=1)e[p]=255&t[p];return e}function Lp(t,o,e){if(o<0||t.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<o+(e||0))throw new RangeError('"length" is outside of buffer bounds');var p;return p=o===void 0&&e===void 0?new Uint8Array(t):e===void 0?new Uint8Array(t,o):new Uint8Array(t,o,e),Object.setPrototypeOf(p,At.prototype),p}function qn(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function wa(t,o){if(At.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||pr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&e===0)return 0;for(var d=!1;;)switch(o){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Sn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return Ta(t).length;default:if(d)return p?-1:Sn(t).length;o=(""+o).toLowerCase(),d=!0}}function Up(t,o,e){var p=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0)<=(o>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Jp(this,o,e);case"utf8":case"utf-8":return _a(this,o,e);case"ascii":return Kp(this,o,e);case"latin1":case"binary":return Yp(this,o,e);case"base64":return qp(this,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qp(this,o,e);default:if(p)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),p=!0}}function Or(t,o,e){var p=t[o];t[o]=t[e],t[e]=p}function ds(t,o,e,p,d){if(t.length===0)return-1;if(typeof e=="string"?(p=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),Kn(e=+e)&&(e=d?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(d)return-1;e=t.length-1}else if(e<0){if(!d)return-1;e=0}if(typeof o=="string"&&(o=At.from(o,p)),At.isBuffer(o))return o.length===0?-1:hs(t,o,e,p,d);if(typeof o=="number")return o&=255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(t,o,e):Uint8Array.prototype.lastIndexOf.call(t,o,e):hs(t,[o],e,p,d);throw new TypeError("val must be string, number or Buffer")}function hs(t,o,e,p,d){var s,n=1,u=t.length,l=o.length;if(p!==void 0&&((p=String(p).toLowerCase())==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(t.length<2||o.length<2)return-1;n=2,u/=2,l/=2,e/=2}function c(w,E){return n===1?w[E]:w.readUInt16BE(E*n)}if(d){var f=-1;for(s=e;s<u;s++)if(c(t,s)===c(o,f===-1?0:s-f)){if(f===-1&&(f=s),s-f+1===l)return f*n}else f!==-1&&(s-=s-f),f=-1}else for(e+l>u&&(e=u-l),s=e;s>=0;s--){for(var v=!0,b=0;b<l;b++)if(c(t,s+b)!==c(o,b)){v=!1;break}if(v)return s}return-1}function zp(t,o,e,p){e=Number(e)||0;var d=t.length-e;p?(p=Number(p))>d&&(p=d):p=d;var s=o.length;p>s/2&&(p=s/2);for(var n=0;n<p;++n){var u=parseInt(o.substr(2*n,2),16);if(Kn(u))return n;t[e+n]=u}return n}function $p(t,o,e,p){return Uo(Sn(o,t.length-e),t,e,p)}function Ea(t,o,e,p){return Uo(function(d){for(var s=[],n=0;n<d.length;++n)s.push(255&d.charCodeAt(n));return s}(o),t,e,p)}function Vp(t,o,e,p){return Ea(t,o,e,p)}function Gp(t,o,e,p){return Uo(Ta(o),t,e,p)}function Hp(t,o,e,p){return Uo(function(d,s){for(var n,u,l,c=[],f=0;f<d.length&&!((s-=2)<0);++f)n=d.charCodeAt(f),u=n>>8,l=n%256,c.push(l),c.push(u);return c}(o,t.length-e),t,e,p)}function qp(t,o,e){return o===0&&e===t.length?Fo.fromByteArray(t):Fo.fromByteArray(t.slice(o,e))}function _a(t,o,e){e=Math.min(t.length,e);for(var p=[],d=o;d<e;){var s,n,u,l,c=t[d],f=null,v=c>239?4:c>223?3:c>191?2:1;if(d+v<=e)switch(v){case 1:c<128&&(f=c);break;case 2:(192&(s=t[d+1]))==128&&(l=(31&c)<<6|63&s)>127&&(f=l);break;case 3:s=t[d+1],n=t[d+2],(192&s)==128&&(192&n)==128&&(l=(15&c)<<12|(63&s)<<6|63&n)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:s=t[d+1],n=t[d+2],u=t[d+3],(192&s)==128&&(192&n)==128&&(192&u)==128&&(l=(15&c)<<18|(63&s)<<12|(63&n)<<6|63&u)>65535&&l<1114112&&(f=l)}f===null?(f=65533,v=1):f>65535&&(f-=65536,p.push(f>>>10&1023|55296),f=56320|1023&f),p.push(f),d+=v}return function(b){var w=b.length;if(w<=4096)return String.fromCharCode.apply(String,b);for(var E="",k=0;k<w;)E+=String.fromCharCode.apply(String,b.slice(k,k+=4096));return E}(p)}function Kp(t,o,e){var p="";e=Math.min(t.length,e);for(var d=o;d<e;++d)p+=String.fromCharCode(127&t[d]);return p}function Yp(t,o,e){var p="";e=Math.min(t.length,e);for(var d=o;d<e;++d)p+=String.fromCharCode(t[d]);return p}function Jp(t,o,e){var p=t.length;(!o||o<0)&&(o=0),(!e||e<0||e>p)&&(e=p);for(var d="",s=o;s<e;++s)d+=ka[t[s]];return d}function Qp(t,o,e){for(var p=t.slice(o,e),d="",s=0;s<p.length;s+=2)d+=String.fromCharCode(p[s]+256*p[s+1]);return d}function Te(t,o,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+o>e)throw new RangeError("Trying to access beyond buffer length")}function Ce(t,o,e,p,d,s){if(!At.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>d||o<s)throw new RangeError('"value" argument is out of bounds');if(e+p>t.length)throw new RangeError("Index out of range")}function Sa(t,o,e,p,d,s){if(e+p>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function fs(t,o,e,p,d){return o=+o,e>>>=0,d||Sa(t,0,e,4),xr.write(t,o,e,p,23,4),e+4}function ms(t,o,e,p,d){return o=+o,e>>>=0,d||Sa(t,0,e,8),xr.write(t,o,e,p,52,8),e+8}function Sn(t,o){var e;o=o||1/0;for(var p=t.length,d=null,s=[],n=0;n<p;++n){if((e=t.charCodeAt(n))>55295&&e<57344){if(!d){if(e>56319){(o-=3)>-1&&s.push(239,191,189);continue}if(n+1===p){(o-=3)>-1&&s.push(239,191,189);continue}d=e;continue}if(e<56320){(o-=3)>-1&&s.push(239,191,189),d=e;continue}e=65536+(d-55296<<10|e-56320)}else d&&(o-=3)>-1&&s.push(239,191,189);if(d=null,e<128){if((o-=1)<0)break;s.push(e)}else if(e<2048){if((o-=2)<0)break;s.push(e>>6|192,63&e|128)}else if(e<65536){if((o-=3)<0)break;s.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return s}function Ta(t){return Fo.toByteArray(function(o){if((o=(o=o.split("=")[0]).trim().replace(Ia,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(t))}function Uo(t,o,e,p){for(var d=0;d<p&&!(d+e>=o.length||d>=t.length);++d)o[d+e]=t[d];return d}function pr(t,o){return t instanceof o||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===o.name}function Kn(t){return t!=t}function ys(t,o){for(var e in t)o[e]=t[e]}function Mr(t,o,e){return Ge(t,o,e)}function eo(t){var o;switch(this.encoding=function(e){var p=function(d){if(!d)return"utf8";for(var s;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(s)return;d=(""+d).toLowerCase(),s=!0}}(e);if(typeof p!="string"&&(xo.isEncoding===Tn||!Tn(e)))throw new Error("Unknown encoding: "+e);return p||e}(t),this.encoding){case"utf16le":this.text=Xp,this.end=tu,o=4;break;case"utf8":this.fillLast=Zp,o=4;break;case"base64":this.text=eu,this.end=ru,o=3;break;default:return this.write=ou,this.end=iu,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=xo.allocUnsafe(o)}function ri(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function Zp(t){var o=this.lastTotal-this.lastNeed,e=function(p,d,s){if((192&d[0])!=128)return p.lastNeed=0,"�";if(p.lastNeed>1&&d.length>1){if((192&d[1])!=128)return p.lastNeed=1,"�";if(p.lastNeed>2&&d.length>2&&(192&d[2])!=128)return p.lastNeed=2,"�"}}(this,t);return e!==void 0?e:this.lastNeed<=t.length?(t.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,o,0,t.length),this.lastNeed-=t.length,void 0)}function Xp(t,o){if((t.length-o)%2==0){var e=t.toString("utf16le",o);if(e){var p=e.charCodeAt(e.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",o,t.length-1)}function tu(t){var o=t&&t.length?this.write(t):"";if(this.lastNeed){var e=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,e)}return o}function eu(t,o){var e=(t.length-o)%3;return e===0?t.toString("base64",o):(this.lastNeed=3-e,this.lastTotal=3,e===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",o,t.length-e))}function ru(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function ou(t){return t.toString(this.encoding)}function iu(t){return t&&t.length?this.write(t):""}var gs,qe,xe,vs,go,Br,bs,ws,Qe,Fo,xr,oi,Ia,ka,ro,oo,Ge,Es,Qr,xo,Tn,_s=ke(()=>{for(Mt(),Rt(),Bt(),gs={byteLength:function(t){var o=cs(t),e=o[0],p=o[1];return 3*(e+p)/4-p},toByteArray:function(t){var o,e,p=cs(t),d=p[0],s=p[1],n=new vs(function(c,f,v){return 3*(f+v)/4-v}(0,d,s)),u=0,l=s>0?d-4:d;for(e=0;e<l;e+=4)o=xe[t.charCodeAt(e)]<<18|xe[t.charCodeAt(e+1)]<<12|xe[t.charCodeAt(e+2)]<<6|xe[t.charCodeAt(e+3)],n[u++]=o>>16&255,n[u++]=o>>8&255,n[u++]=255&o;return s===2&&(o=xe[t.charCodeAt(e)]<<2|xe[t.charCodeAt(e+1)]>>4,n[u++]=255&o),s===1&&(o=xe[t.charCodeAt(e)]<<10|xe[t.charCodeAt(e+1)]<<4|xe[t.charCodeAt(e+2)]>>2,n[u++]=o>>8&255,n[u++]=255&o),n},fromByteArray:function(t){for(var o,e=t.length,p=e%3,d=[],s=0,n=e-p;s<n;s+=16383)d.push(Dp(t,s,s+16383>n?n:s+16383));return p===1?(o=t[e-1],d.push(qe[o>>2]+qe[o<<4&63]+"==")):p===2&&(o=(t[e-2]<<8)+t[e-1],d.push(qe[o>>10]+qe[o>>4&63]+qe[o<<2&63]+"=")),d.join("")}},qe=[],xe=[],vs=typeof Uint8Array<"u"?Uint8Array:Array,go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Br=0,bs=go.length;Br<bs;++Br)qe[Br]=go[Br],xe[go.charCodeAt(Br)]=Br;xe[45]=62,xe[95]=63,ws={read:function(t,o,e,p,d){var s,n,u=8*d-p-1,l=(1<<u)-1,c=l>>1,f=-7,v=e?d-1:0,b=e?-1:1,w=t[o+v];for(v+=b,s=w&(1<<-f)-1,w>>=-f,f+=u;f>0;s=256*s+t[o+v],v+=b,f-=8);for(n=s&(1<<-f)-1,s>>=-f,f+=p;f>0;n=256*n+t[o+v],v+=b,f-=8);if(s===0)s=1-c;else{if(s===l)return n?NaN:1/0*(w?-1:1);n+=Math.pow(2,p),s-=c}return(w?-1:1)*n*Math.pow(2,s-p)},write:function(t,o,e,p,d,s){var n,u,l,c=8*s-d-1,f=(1<<c)-1,v=f>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:s-1,E=p?1:-1,k=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,n=f):(n=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-n))<1&&(n--,l*=2),(o+=n+v>=1?b/l:b*Math.pow(2,1-v))*l>=2&&(n++,l/=2),n+v>=f?(u=0,n=f):n+v>=1?(u=(o*l-1)*Math.pow(2,d),n+=v):(u=o*Math.pow(2,v-1)*Math.pow(2,d),n=0));d>=8;t[e+w]=255&u,w+=E,u/=256,d-=8);for(n=n<<d|u,c+=d;c>0;t[e+w]=255&n,w+=E,n/=256,c-=8);t[e+w-E]|=128*k}},Qe={},Fo=gs,xr=ws,oi=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,Qe.Buffer=At,Qe.SlowBuffer=function(t){return+t!=t&&(t=0),At.alloc(+t)},Qe.INSPECT_MAX_BYTES=50,Qe.kMaxLength=2147483647,At.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(t,o),t.foo()===42}catch{return!1}}(),At.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(At.prototype,"parent",{enumerable:!0,get:function(){if(At.isBuffer(this))return this.buffer}}),Object.defineProperty(At.prototype,"offset",{enumerable:!0,get:function(){if(At.isBuffer(this))return this.byteOffset}}),At.poolSize=8192,At.from=function(t,o,e){return va(t,o,e)},Object.setPrototypeOf(At.prototype,Uint8Array.prototype),Object.setPrototypeOf(At,Uint8Array),At.alloc=function(t,o,e){return function(p,d,s){return ba(p),p<=0?lr(p):d!==void 0?typeof s=="string"?lr(p).fill(d,s):lr(p).fill(d):lr(p)}(t,o,e)},At.allocUnsafe=function(t){return _n(t)},At.allocUnsafeSlow=function(t){return _n(t)},At.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==At.prototype},At.compare=function(t,o){if(pr(t,Uint8Array)&&(t=At.from(t,t.offset,t.byteLength)),pr(o,Uint8Array)&&(o=At.from(o,o.offset,o.byteLength)),!At.isBuffer(t)||!At.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===o)return 0;for(var e=t.length,p=o.length,d=0,s=Math.min(e,p);d<s;++d)if(t[d]!==o[d]){e=t[d],p=o[d];break}return e<p?-1:p<e?1:0},At.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},At.concat=function(t,o){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return At.alloc(0);var e;if(o===void 0)for(o=0,e=0;e<t.length;++e)o+=t[e].length;var p=At.allocUnsafe(o),d=0;for(e=0;e<t.length;++e){var s=t[e];if(pr(s,Uint8Array)&&(s=At.from(s)),!At.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(p,d),d+=s.length}return p},At.byteLength=wa,At.prototype._isBuffer=!0,At.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<t;o+=2)Or(this,o,o+1);return this},At.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<t;o+=4)Or(this,o,o+3),Or(this,o+1,o+2);return this},At.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<t;o+=8)Or(this,o,o+7),Or(this,o+1,o+6),Or(this,o+2,o+5),Or(this,o+3,o+4);return this},At.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?_a(this,0,t):Up.apply(this,arguments)},At.prototype.toLocaleString=At.prototype.toString,At.prototype.equals=function(t){if(!At.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||At.compare(this,t)===0},At.prototype.inspect=function(){var t="",o=Qe.INSPECT_MAX_BYTES;return t=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(t+=" ... "),"<Buffer "+t+">"},oi&&(At.prototype[oi]=At.prototype.inspect),At.prototype.compare=function(t,o,e,p,d){if(pr(t,Uint8Array)&&(t=At.from(t,t.offset,t.byteLength)),!At.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(o===void 0&&(o=0),e===void 0&&(e=t?t.length:0),p===void 0&&(p=0),d===void 0&&(d=this.length),o<0||e>t.length||p<0||d>this.length)throw new RangeError("out of range index");if(p>=d&&o>=e)return 0;if(p>=d)return-1;if(o>=e)return 1;if(this===t)return 0;for(var s=(d>>>=0)-(p>>>=0),n=(e>>>=0)-(o>>>=0),u=Math.min(s,n),l=this.slice(p,d),c=t.slice(o,e),f=0;f<u;++f)if(l[f]!==c[f]){s=l[f],n=c[f];break}return s<n?-1:n<s?1:0},At.prototype.includes=function(t,o,e){return this.indexOf(t,o,e)!==-1},At.prototype.indexOf=function(t,o,e){return ds(this,t,o,e,!0)},At.prototype.lastIndexOf=function(t,o,e){return ds(this,t,o,e,!1)},At.prototype.write=function(t,o,e,p){if(o===void 0)p="utf8",e=this.length,o=0;else if(e===void 0&&typeof o=="string")p=o,e=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(e)?(e>>>=0,p===void 0&&(p="utf8")):(p=e,e=void 0)}var d=this.length-o;if((e===void 0||e>d)&&(e=d),t.length>0&&(e<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var s=!1;;)switch(p){case"hex":return zp(this,t,o,e);case"utf8":case"utf-8":return $p(this,t,o,e);case"ascii":return Ea(this,t,o,e);case"latin1":case"binary":return Vp(this,t,o,e);case"base64":return Gp(this,t,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hp(this,t,o,e);default:if(s)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),s=!0}},At.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},At.prototype.slice=function(t,o){var e=this.length;(t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(o=o===void 0?e:~~o)<0?(o+=e)<0&&(o=0):o>e&&(o=e),o<t&&(o=t);var p=this.subarray(t,o);return Object.setPrototypeOf(p,At.prototype),p},At.prototype.readUIntLE=function(t,o,e){t>>>=0,o>>>=0,e||Te(t,o,this.length);for(var p=this[t],d=1,s=0;++s<o&&(d*=256);)p+=this[t+s]*d;return p},At.prototype.readUIntBE=function(t,o,e){t>>>=0,o>>>=0,e||Te(t,o,this.length);for(var p=this[t+--o],d=1;o>0&&(d*=256);)p+=this[t+--o]*d;return p},At.prototype.readUInt8=function(t,o){return t>>>=0,o||Te(t,1,this.length),this[t]},At.prototype.readUInt16LE=function(t,o){return t>>>=0,o||Te(t,2,this.length),this[t]|this[t+1]<<8},At.prototype.readUInt16BE=function(t,o){return t>>>=0,o||Te(t,2,this.length),this[t]<<8|this[t+1]},At.prototype.readUInt32LE=function(t,o){return t>>>=0,o||Te(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},At.prototype.readUInt32BE=function(t,o){return t>>>=0,o||Te(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},At.prototype.readIntLE=function(t,o,e){t>>>=0,o>>>=0,e||Te(t,o,this.length);for(var p=this[t],d=1,s=0;++s<o&&(d*=256);)p+=this[t+s]*d;return p>=(d*=128)&&(p-=Math.pow(2,8*o)),p},At.prototype.readIntBE=function(t,o,e){t>>>=0,o>>>=0,e||Te(t,o,this.length);for(var p=o,d=1,s=this[t+--p];p>0&&(d*=256);)s+=this[t+--p]*d;return s>=(d*=128)&&(s-=Math.pow(2,8*o)),s},At.prototype.readInt8=function(t,o){return t>>>=0,o||Te(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},At.prototype.readInt16LE=function(t,o){t>>>=0,o||Te(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},At.prototype.readInt16BE=function(t,o){t>>>=0,o||Te(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},At.prototype.readInt32LE=function(t,o){return t>>>=0,o||Te(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},At.prototype.readInt32BE=function(t,o){return t>>>=0,o||Te(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},At.prototype.readFloatLE=function(t,o){return t>>>=0,o||Te(t,4,this.length),xr.read(this,t,!0,23,4)},At.prototype.readFloatBE=function(t,o){return t>>>=0,o||Te(t,4,this.length),xr.read(this,t,!1,23,4)},At.prototype.readDoubleLE=function(t,o){return t>>>=0,o||Te(t,8,this.length),xr.read(this,t,!0,52,8)},At.prototype.readDoubleBE=function(t,o){return t>>>=0,o||Te(t,8,this.length),xr.read(this,t,!1,52,8)},At.prototype.writeUIntLE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||Ce(this,t,o,e,Math.pow(2,8*e)-1,0);var d=1,s=0;for(this[o]=255&t;++s<e&&(d*=256);)this[o+s]=t/d&255;return o+e},At.prototype.writeUIntBE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||Ce(this,t,o,e,Math.pow(2,8*e)-1,0);var d=e-1,s=1;for(this[o+d]=255&t;--d>=0&&(s*=256);)this[o+d]=t/s&255;return o+e},At.prototype.writeUInt8=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,1,255,0),this[o]=255&t,o+1},At.prototype.writeUInt16LE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,2,65535,0),this[o]=255&t,this[o+1]=t>>>8,o+2},At.prototype.writeUInt16BE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,2,65535,0),this[o]=t>>>8,this[o+1]=255&t,o+2},At.prototype.writeUInt32LE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,4,4294967295,0),this[o+3]=t>>>24,this[o+2]=t>>>16,this[o+1]=t>>>8,this[o]=255&t,o+4},At.prototype.writeUInt32BE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,4,4294967295,0),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},At.prototype.writeIntLE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var d=Math.pow(2,8*e-1);Ce(this,t,o,e,d-1,-d)}var s=0,n=1,u=0;for(this[o]=255&t;++s<e&&(n*=256);)t<0&&u===0&&this[o+s-1]!==0&&(u=1),this[o+s]=(t/n>>0)-u&255;return o+e},At.prototype.writeIntBE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var d=Math.pow(2,8*e-1);Ce(this,t,o,e,d-1,-d)}var s=e-1,n=1,u=0;for(this[o+s]=255&t;--s>=0&&(n*=256);)t<0&&u===0&&this[o+s+1]!==0&&(u=1),this[o+s]=(t/n>>0)-u&255;return o+e},At.prototype.writeInt8=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,1,127,-128),t<0&&(t=255+t+1),this[o]=255&t,o+1},At.prototype.writeInt16LE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,2,32767,-32768),this[o]=255&t,this[o+1]=t>>>8,o+2},At.prototype.writeInt16BE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,2,32767,-32768),this[o]=t>>>8,this[o+1]=255&t,o+2},At.prototype.writeInt32LE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,4,2147483647,-2147483648),this[o]=255&t,this[o+1]=t>>>8,this[o+2]=t>>>16,this[o+3]=t>>>24,o+4},At.prototype.writeInt32BE=function(t,o,e){return t=+t,o>>>=0,e||Ce(this,t,o,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},At.prototype.writeFloatLE=function(t,o,e){return fs(this,t,o,!0,e)},At.prototype.writeFloatBE=function(t,o,e){return fs(this,t,o,!1,e)},At.prototype.writeDoubleLE=function(t,o,e){return ms(this,t,o,!0,e)},At.prototype.writeDoubleBE=function(t,o,e){return ms(this,t,o,!1,e)},At.prototype.copy=function(t,o,e,p){if(!At.isBuffer(t))throw new TypeError("argument should be a Buffer");if(e||(e=0),p||p===0||(p=this.length),o>=t.length&&(o=t.length),o||(o=0),p>0&&p<e&&(p=e),p===e||t.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),t.length-o<p-e&&(p=t.length-o+e);var d=p-e;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(o,e,p);else if(this===t&&e<o&&o<p)for(var s=d-1;s>=0;--s)t[s+o]=this[s+e];else Uint8Array.prototype.set.call(t,this.subarray(e,p),o);return d},At.prototype.fill=function(t,o,e,p){if(typeof t=="string"){if(typeof o=="string"?(p=o,o=0,e=this.length):typeof e=="string"&&(p=e,e=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!At.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(t.length===1){var d=t.charCodeAt(0);(p==="utf8"&&d<128||p==="latin1")&&(t=d)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(o<0||this.length<o||this.length<e)throw new RangeError("Out of range index");if(e<=o)return this;var s;if(o>>>=0,e=e===void 0?this.length:e>>>0,t||(t=0),typeof t=="number")for(s=o;s<e;++s)this[s]=t;else{var n=At.isBuffer(t)?t:At.from(t,p),u=n.length;if(u===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<e-o;++s)this[s+o]=n[s%u]}return this},Ia=/[^+/0-9A-Za-z-_]/g,ka=function(){for(var t=new Array(256),o=0;o<16;++o)for(var e=16*o,p=0;p<16;++p)t[e+p]="0123456789abcdef"[o]+"0123456789abcdef"[p];return t}(),Qe.Buffer,Qe.INSPECT_MAX_BYTES,Qe.kMaxLength,ro={},oo=Qe,Ge=oo.Buffer,Ge.from&&Ge.alloc&&Ge.allocUnsafe&&Ge.allocUnsafeSlow?ro=oo:(ys(oo,ro),ro.Buffer=Mr),Mr.prototype=Object.create(Ge.prototype),ys(Ge,Mr),Mr.from=function(t,o,e){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ge(t,o,e)},Mr.alloc=function(t,o,e){if(typeof t!="number")throw new TypeError("Argument must be a number");var p=Ge(t);return o!==void 0?typeof e=="string"?p.fill(o,e):p.fill(o):p.fill(0),p},Mr.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ge(t)},Mr.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return oo.SlowBuffer(t)},Es=ro,Qr={},xo=Es.Buffer,Tn=xo.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Qr.StringDecoder=eo,eo.prototype.write=function(t){if(t.length===0)return"";var o,e;if(this.lastNeed){if((o=this.fillLast(t))===void 0)return"";e=this.lastNeed,this.lastNeed=0}else e=0;return e<t.length?o?o+this.text(t,e):this.text(t,e):o||""},eo.prototype.end=function(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+"�":o},eo.prototype.text=function(t,o){var e=function(d,s,n){var u=s.length-1;if(u<n)return 0;var l=ri(s[u]);return l>=0?(l>0&&(d.lastNeed=l-1),l):--u<n||l===-2?0:(l=ri(s[u]))>=0?(l>0&&(d.lastNeed=l-2),l):--u<n||l===-2?0:(l=ri(s[u]))>=0?(l>0&&(l===2?l=0:d.lastNeed=l-3),l):0}(this,t,o);if(!this.lastNeed)return t.toString("utf8",o);this.lastTotal=e;var p=t.length-(e-this.lastNeed);return t.copy(this.lastChar,0,p),t.toString("utf8",o,p)},eo.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},Qr.StringDecoder,Qr.StringDecoder}),Oa={};$r(Oa,{StringDecoder:()=>Ma,default:()=>Qr});var Ma,nu=ke(()=>{Mt(),Rt(),Bt(),_s(),_s(),Ma=Qr.StringDecoder}),Ba=xt((t,o)=>{Mt(),Rt(),Bt();var e=Vr(),{PromisePrototypeThen:p,SymbolAsyncIterator:d,SymbolIterator:s}=Se(),{Buffer:n}=(Me(),se(Oe)),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=Ae().codes;function c(f,v,b){let w;if(typeof v=="string"||v instanceof n)return new f({objectMode:!0,...b,read(){this.push(v),this.push(null)}});let E;if(v&&v[d])E=!0,w=v[d]();else if(v&&v[s])E=!1,w=v[s]();else throw new u("iterable",["Iterable"],v);let k=new f({objectMode:!0,highWaterMark:1,...b}),N=!1;k._read=function(){N||(N=!0,A())},k._destroy=function(R,V){p(z(R),()=>e.nextTick(V,R),X=>e.nextTick(V,X||R))};async function z(R){let V=R!=null,X=typeof w.throw=="function";if(V&&X){let{value:j,done:T}=await w.throw(R);if(await j,T)return}if(typeof w.return=="function"){let{value:j}=await w.return();await j}}async function A(){for(;;){try{let{value:R,done:V}=E?await w.next():w.next();if(V)k.push(null);else{let X=R&&typeof R.then=="function"?await R:R;if(X===null)throw N=!1,new l;if(k.push(X))continue;N=!1}}catch(R){k.destroy(R)}break}}return k}o.exports=c}),zo=xt((t,o)=>{Mt(),Rt(),Bt();var e=Vr(),{ArrayPrototypeIndexOf:p,NumberIsInteger:d,NumberIsNaN:s,NumberParseInt:n,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:f,SafeSet:v,SymbolAsyncIterator:b,Symbol:w}=Se();o.exports=_,_.ReadableState=et;var{EventEmitter:E}=(Xr(),se(Gr)),{Stream:k,prependListener:N}=Gn(),{Buffer:z}=(Me(),se(Oe)),{addAbortSignal:A}=Lo(),R=_r(),V=ur().debuglog("stream",h=>{V=h}),X=jp(),j=Zr(),{getHighWaterMark:T,getDefaultHighWaterMark:H}=Hn(),{aggregateTwoErrors:rt,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:ct,ERR_OUT_OF_RANGE:x,ERR_STREAM_PUSH_AFTER_EOF:q,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Tt}}=Ae(),{validateObject:lt}=Do(),Ot=w("kPaused"),{StringDecoder:kt}=(nu(),se(Oa)),Y=Ba();c(_.prototype,k.prototype),c(_,k);var pt=()=>{},{errorOrDestroy:ft}=j;function et(h,g,B){typeof B!="boolean"&&(B=g instanceof cr()),this.objectMode=!!(h&&h.objectMode),B&&(this.objectMode=this.objectMode||!!(h&&h.readableObjectMode)),this.highWaterMark=h?T(this,h,"readableHighWaterMark",B):H(!1),this.buffer=new X,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Ot]=null,this.errorEmitted=!1,this.emitClose=!h||h.emitClose!==!1,this.autoDestroy=!h||h.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=h&&h.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,h&&h.encoding&&(this.decoder=new kt(h.encoding),this.encoding=h.encoding)}function _(h){if(!(this instanceof _))return new _(h);let g=this instanceof cr();this._readableState=new et(h,this,g),h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy),typeof h.construct=="function"&&(this._construct=h.construct),h.signal&&!g&&A(h.signal,this)),k.call(this,h),j.construct(this,()=>{this._readableState.needReadable&&ht(this,this._readableState)})}_.prototype.destroy=j.destroy,_.prototype._undestroy=j.undestroy,_.prototype._destroy=function(h,g){g(h)},_.prototype[E.captureRejectionSymbol]=function(h){this.destroy(h)},_.prototype.push=function(h,g){return Q(this,h,g,!1)},_.prototype.unshift=function(h,g){return Q(this,h,g,!0)};function Q(h,g,B,U){V("readableAddChunk",g);let M=h._readableState,St;if(M.objectMode||(typeof g=="string"?(B=B||M.defaultEncoding,M.encoding!==B&&(U&&M.encoding?g=z.from(g,B).toString(M.encoding):(g=z.from(g,B),B=""))):g instanceof z?B="":k._isUint8Array(g)?(g=k._uint8ArrayToBuffer(g),B=""):g!=null&&(St=new D("chunk",["string","Buffer","Uint8Array"],g))),St)ft(h,St);else if(g===null)M.reading=!1,O(h,M);else if(M.objectMode||g&&g.length>0)if(U)if(M.endEmitted)ft(h,new Tt);else{if(M.destroyed||M.errored)return!1;nt(h,M,g,!0)}else if(M.ended)ft(h,new q);else{if(M.destroyed||M.errored)return!1;M.reading=!1,M.decoder&&!B?(g=M.decoder.write(g),M.objectMode||g.length!==0?nt(h,M,g,!1):ht(h,M)):nt(h,M,g,!1)}else U||(M.reading=!1,ht(h,M));return!M.ended&&(M.length<M.highWaterMark||M.length===0)}function nt(h,g,B,U){g.flowing&&g.length===0&&!g.sync&&h.listenerCount("data")>0?(g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null,g.dataEmitted=!0,h.emit("data",B)):(g.length+=g.objectMode?1:B.length,U?g.buffer.unshift(B):g.buffer.push(B),g.needReadable&&st(h)),ht(h,g)}_.prototype.isPaused=function(){let h=this._readableState;return h[Ot]===!0||h.flowing===!1},_.prototype.setEncoding=function(h){let g=new kt(h);this._readableState.decoder=g,this._readableState.encoding=this._readableState.decoder.encoding;let B=this._readableState.buffer,U="";for(let M of B)U+=g.write(M);return B.clear(),U!==""&&B.push(U),this._readableState.length=U.length,this};var yt=1073741824;function it(h){if(h>yt)throw new x("size","<= 1GiB",h);return h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++,h}function C(h,g){return h<=0||g.length===0&&g.ended?0:g.objectMode?1:s(h)?g.flowing&&g.length?g.buffer.first().length:g.length:h<=g.length?h:g.ended?g.length:0}_.prototype.read=function(h){V("read",h),h===void 0?h=NaN:d(h)||(h=n(h,10));let g=this._readableState,B=h;if(h>g.highWaterMark&&(g.highWaterMark=it(h)),h!==0&&(g.emittedReadable=!1),h===0&&g.needReadable&&((g.highWaterMark!==0?g.length>=g.highWaterMark:g.length>0)||g.ended))return V("read: emitReadable",g.length,g.ended),g.length===0&&g.ended?L(this):st(this),null;if(h=C(h,g),h===0&&g.ended)return g.length===0&&L(this),null;let U=g.needReadable;if(V("need readable",U),(g.length===0||g.length-h<g.highWaterMark)&&(U=!0,V("length less than watermark",U)),g.ended||g.reading||g.destroyed||g.errored||!g.constructed)U=!1,V("reading, ended or constructing",U);else if(U){V("do read"),g.reading=!0,g.sync=!0,g.length===0&&(g.needReadable=!0);try{this._read(g.highWaterMark)}catch(St){ft(this,St)}g.sync=!1,g.reading||(h=C(B,g))}let M;return h>0?M=at(h,g):M=null,M===null?(g.needReadable=g.length<=g.highWaterMark,h=0):(g.length-=h,g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null),g.length===0&&(g.ended||(g.needReadable=!0),B!==h&&g.ended&&L(this)),M!==null&&!g.errorEmitted&&!g.closeEmitted&&(g.dataEmitted=!0,this.emit("data",M)),M};function O(h,g){if(V("onEofChunk"),!g.ended){if(g.decoder){let B=g.decoder.end();B&&B.length&&(g.buffer.push(B),g.length+=g.objectMode?1:B.length)}g.ended=!0,g.sync?st(h):(g.needReadable=!1,g.emittedReadable=!0,mt(h))}}function st(h){let g=h._readableState;V("emitReadable",g.needReadable,g.emittedReadable),g.needReadable=!1,g.emittedReadable||(V("emitReadable",g.flowing),g.emittedReadable=!0,e.nextTick(mt,h))}function mt(h){let g=h._readableState;V("emitReadable_",g.destroyed,g.length,g.ended),!g.destroyed&&!g.errored&&(g.length||g.ended)&&(h.emit("readable"),g.emittedReadable=!1),g.needReadable=!g.flowing&&!g.ended&&g.length<=g.highWaterMark,bt(h)}function ht(h,g){!g.readingMore&&g.constructed&&(g.readingMore=!0,e.nextTick(ut,h,g))}function ut(h,g){for(;!g.reading&&!g.ended&&(g.length<g.highWaterMark||g.flowing&&g.length===0);){let B=g.length;if(V("maybeReadMore read 0"),h.read(0),B===g.length)break}g.readingMore=!1}_.prototype._read=function(h){throw new ct("_read()")},_.prototype.pipe=function(h,g){let B=this,U=this._readableState;U.pipes.length===1&&(U.multiAwaitDrain||(U.multiAwaitDrain=!0,U.awaitDrainWriters=new v(U.awaitDrainWriters?[U.awaitDrainWriters]:[]))),U.pipes.push(h),V("pipe count=%d opts=%j",U.pipes.length,g);let M=(!g||g.end!==!1)&&h!==e.stdout&&h!==e.stderr?Ut:ee;U.endEmitted?e.nextTick(M):B.once("end",M),h.on("unpipe",St);function St(Et,Wt){V("onunpipe"),Et===B&&Wt&&Wt.hasUnpiped===!1&&(Wt.hasUnpiped=!0,Lt())}function Ut(){V("onend"),h.end()}let W,Gt=!1;function Lt(){V("cleanup"),h.removeListener("close",Ct),h.removeListener("finish",Xt),W&&h.removeListener("drain",W),h.removeListener("error",te),h.removeListener("unpipe",St),B.removeListener("end",Ut),B.removeListener("end",ee),B.removeListener("data",zt),Gt=!0,W&&U.awaitDrainWriters&&(!h._writableState||h._writableState.needDrain)&&W()}function jt(){Gt||(U.pipes.length===1&&U.pipes[0]===h?(V("false write response, pause",0),U.awaitDrainWriters=h,U.multiAwaitDrain=!1):U.pipes.length>1&&U.pipes.includes(h)&&(V("false write response, pause",U.awaitDrainWriters.size),U.awaitDrainWriters.add(h)),B.pause()),W||(W=gt(B,h),h.on("drain",W))}B.on("data",zt);function zt(Et){V("ondata");let Wt=h.write(Et);V("dest.write",Wt),Wt===!1&&jt()}function te(Et){if(V("onerror",Et),ee(),h.removeListener("error",te),h.listenerCount("error")===0){let Wt=h._writableState||h._readableState;Wt&&!Wt.errorEmitted?ft(h,Et):h.emit("error",Et)}}N(h,"error",te);function Ct(){h.removeListener("finish",Xt),ee()}h.once("close",Ct);function Xt(){V("onfinish"),h.removeListener("close",Ct),ee()}h.once("finish",Xt);function ee(){V("unpipe"),B.unpipe(h)}return h.emit("pipe",B),h.writableNeedDrain===!0?U.flowing&&jt():U.flowing||(V("pipe resume"),B.resume()),h};function gt(h,g){return function(){let B=h._readableState;B.awaitDrainWriters===g?(V("pipeOnDrain",1),B.awaitDrainWriters=null):B.multiAwaitDrain&&(V("pipeOnDrain",B.awaitDrainWriters.size),B.awaitDrainWriters.delete(g)),(!B.awaitDrainWriters||B.awaitDrainWriters.size===0)&&h.listenerCount("data")&&h.resume()}}_.prototype.unpipe=function(h){let g=this._readableState,B={hasUnpiped:!1};if(g.pipes.length===0)return this;if(!h){let M=g.pipes;g.pipes=[],this.pause();for(let St=0;St<M.length;St++)M[St].emit("unpipe",this,{hasUnpiped:!1});return this}let U=p(g.pipes,h);return U===-1?this:(g.pipes.splice(U,1),g.pipes.length===0&&this.pause(),h.emit("unpipe",this,B),this)},_.prototype.on=function(h,g){let B=k.prototype.on.call(this,h,g),U=this._readableState;return h==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):h==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,V("on readable",U.length,U.reading),U.length?st(this):U.reading||e.nextTick(F,this)),B},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(h,g){let B=k.prototype.removeListener.call(this,h,g);return h==="readable"&&e.nextTick(_t,this),B},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(h){let g=k.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&e.nextTick(_t,this),g};function _t(h){let g=h._readableState;g.readableListening=h.listenerCount("readable")>0,g.resumeScheduled&&g[Ot]===!1?g.flowing=!0:h.listenerCount("data")>0?h.resume():g.readableListening||(g.flowing=null)}function F(h){V("readable nexttick read 0"),h.read(0)}_.prototype.resume=function(){let h=this._readableState;return h.flowing||(V("resume"),h.flowing=!h.readableListening,K(this,h)),h[Ot]=!1,this};function K(h,g){g.resumeScheduled||(g.resumeScheduled=!0,e.nextTick(Z,h,g))}function Z(h,g){V("resume",g.reading),g.reading||h.read(0),g.resumeScheduled=!1,h.emit("resume"),bt(h),g.flowing&&!g.reading&&h.read(0)}_.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ot]=!0,this};function bt(h){let g=h._readableState;for(V("flow",g.flowing);g.flowing&&h.read()!==null;);}_.prototype.wrap=function(h){let g=!1;h.on("data",U=>{!this.push(U)&&h.pause&&(g=!0,h.pause())}),h.on("end",()=>{this.push(null)}),h.on("error",U=>{ft(this,U)}),h.on("close",()=>{this.destroy()}),h.on("destroy",()=>{this.destroy()}),this._read=()=>{g&&h.resume&&(g=!1,h.resume())};let B=l(h);for(let U=1;U<B.length;U++){let M=B[U];this[M]===void 0&&typeof h[M]=="function"&&(this[M]=h[M].bind(h))}return this},_.prototype[b]=function(){return wt(this)},_.prototype.iterator=function(h){return h!==void 0&&lt(h,"options"),wt(this,h)};function wt(h,g){typeof h.read!="function"&&(h=_.wrap(h,{objectMode:!0}));let B=J(h,g);return B.stream=h,B}async function*J(h,g){let B=pt;function U(Ut){this===h?(B(),B=pt):B=Ut}h.on("readable",U);let M,St=R(h,{writable:!1},Ut=>{M=Ut?rt(M,Ut):null,B(),B=pt});try{for(;;){let Ut=h.destroyed?null:h.read();if(Ut!==null)yield Ut;else{if(M)throw M;if(M===null)return;await new f(U)}}}catch(Ut){throw M=rt(M,Ut),M}finally{(M||(g==null?void 0:g.destroyOnReturn)!==!1)&&(M===void 0||h._readableState.autoDestroy)?j.destroyer(h,null):(h.off("readable",U),St())}}u(_.prototype,{readable:{__proto__:null,get(){let h=this._readableState;return!!h&&h.readable!==!1&&!h.destroyed&&!h.errorEmitted&&!h.endEmitted},set(h){this._readableState&&(this._readableState.readable=!!h)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(h){this._readableState&&(this._readableState.destroyed=h)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(et.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Ot]!==!1},set(h){this[Ot]=!!h}}}),_._fromList=at;function at(h,g){if(g.length===0)return null;let B;return g.objectMode?B=g.buffer.shift():!h||h>=g.length?(g.decoder?B=g.buffer.join(""):g.buffer.length===1?B=g.buffer.first():B=g.buffer.concat(g.length),g.buffer.clear()):B=g.buffer.consume(h,g.decoder),B}function L(h){let g=h._readableState;V("endReadable",g.endEmitted),g.endEmitted||(g.ended=!0,e.nextTick(tt,g,h))}function tt(h,g){if(V("endReadableNT",h.endEmitted,h.length),!h.errored&&!h.closeEmitted&&!h.endEmitted&&h.length===0){if(h.endEmitted=!0,g.emit("end"),g.writable&&g.allowHalfOpen===!1)e.nextTick(ot,g);else if(h.autoDestroy){let B=g._writableState;(!B||B.autoDestroy&&(B.finished||B.writable===!1))&&g.destroy()}}}function ot(h){h.writable&&!h.writableEnded&&!h.destroyed&&h.end()}_.from=function(h,g){return Y(_,h,g)};var It;function m(){return It===void 0&&(It={}),It}_.fromWeb=function(h,g){return m().newStreamReadableFromReadableStream(h,g)},_.toWeb=function(h,g){return m().newReadableStreamFromStreamReadable(h,g)},_.wrap=function(h,g){var B,U;return new _({objectMode:(B=(U=h.readableObjectMode)!==null&&U!==void 0?U:h.objectMode)!==null&&B!==void 0?B:!0,...g,destroy(M,St){j.destroyer(h,M),St(M)}}).wrap(h)}}),Ra=xt((t,o)=>{Mt(),Rt(),Bt();var e=Vr(),{ArrayPrototypeSlice:p,Error:d,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:n,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:f,SymbolHasInstance:v}=Se();o.exports=kt,kt.WritableState=lt;var{EventEmitter:b}=(Xr(),se(Gr)),w=Gn().Stream,{Buffer:E}=(Me(),se(Oe)),k=Zr(),{addAbortSignal:N}=Lo(),{getHighWaterMark:z,getDefaultHighWaterMark:A}=Hn(),{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:V,ERR_MULTIPLE_CALLBACK:X,ERR_STREAM_CANNOT_PIPE:j,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:H,ERR_STREAM_NULL_VALUES:rt,ERR_STREAM_WRITE_AFTER_END:D,ERR_UNKNOWN_ENCODING:ct}=Ae().codes,{errorOrDestroy:x}=k;l(kt.prototype,w.prototype),l(kt,w);function q(){}var Tt=f("kOnFinished");function lt(F,K,Z){typeof Z!="boolean"&&(Z=K instanceof cr()),this.objectMode=!!(F&&F.objectMode),Z&&(this.objectMode=this.objectMode||!!(F&&F.writableObjectMode)),this.highWaterMark=F?z(this,F,"writableHighWaterMark",Z):A(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let bt=!!(F&&F.decodeStrings===!1);this.decodeStrings=!bt,this.defaultEncoding=F&&F.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=_.bind(void 0,K),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Ot(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!F||F.emitClose!==!1,this.autoDestroy=!F||F.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Tt]=[]}function Ot(F){F.buffered=[],F.bufferedIndex=0,F.allBuffers=!0,F.allNoop=!0}lt.prototype.getBuffer=function(){return p(this.buffered,this.bufferedIndex)},n(lt.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function kt(F){let K=this instanceof cr();if(!K&&!s(kt,this))return new kt(F);this._writableState=new lt(F,this,K),F&&(typeof F.write=="function"&&(this._write=F.write),typeof F.writev=="function"&&(this._writev=F.writev),typeof F.destroy=="function"&&(this._destroy=F.destroy),typeof F.final=="function"&&(this._final=F.final),typeof F.construct=="function"&&(this._construct=F.construct),F.signal&&N(F.signal,this)),w.call(this,F),k.construct(this,()=>{let Z=this._writableState;Z.writing||it(this,Z),mt(this,Z)})}n(kt,v,{__proto__:null,value:function(F){return s(this,F)?!0:this!==kt?!1:F&&F._writableState instanceof lt}}),kt.prototype.pipe=function(){x(this,new j)};function Y(F,K,Z,bt){let wt=F._writableState;if(typeof Z=="function")bt=Z,Z=wt.defaultEncoding;else{if(!Z)Z=wt.defaultEncoding;else if(Z!=="buffer"&&!E.isEncoding(Z))throw new ct(Z);typeof bt!="function"&&(bt=q)}if(K===null)throw new rt;if(!wt.objectMode)if(typeof K=="string")wt.decodeStrings!==!1&&(K=E.from(K,Z),Z="buffer");else if(K instanceof E)Z="buffer";else if(w._isUint8Array(K))K=w._uint8ArrayToBuffer(K),Z="buffer";else throw new R("chunk",["string","Buffer","Uint8Array"],K);let J;return wt.ending?J=new D:wt.destroyed&&(J=new T("write")),J?(e.nextTick(bt,J),x(F,J,!0),J):(wt.pendingcb++,pt(F,wt,K,Z,bt))}kt.prototype.write=function(F,K,Z){return Y(this,F,K,Z)===!0},kt.prototype.cork=function(){this._writableState.corked++},kt.prototype.uncork=function(){let F=this._writableState;F.corked&&(F.corked--,F.writing||it(this,F))},kt.prototype.setDefaultEncoding=function(F){if(typeof F=="string"&&(F=c(F)),!E.isEncoding(F))throw new ct(F);return this._writableState.defaultEncoding=F,this};function pt(F,K,Z,bt,wt){let J=K.objectMode?1:Z.length;K.length+=J;let at=K.length<K.highWaterMark;return at||(K.needDrain=!0),K.writing||K.corked||K.errored||!K.constructed?(K.buffered.push({chunk:Z,encoding:bt,callback:wt}),K.allBuffers&&bt!=="buffer"&&(K.allBuffers=!1),K.allNoop&&wt!==q&&(K.allNoop=!1)):(K.writelen=J,K.writecb=wt,K.writing=!0,K.sync=!0,F._write(Z,bt,K.onwrite),K.sync=!1),at&&!K.errored&&!K.destroyed}function ft(F,K,Z,bt,wt,J,at){K.writelen=bt,K.writecb=at,K.writing=!0,K.sync=!0,K.destroyed?K.onwrite(new T("write")):Z?F._writev(wt,K.onwrite):F._write(wt,J,K.onwrite),K.sync=!1}function et(F,K,Z,bt){--K.pendingcb,bt(Z),yt(K),x(F,Z)}function _(F,K){let Z=F._writableState,bt=Z.sync,wt=Z.writecb;if(typeof wt!="function"){x(F,new X);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,K?(K.stack,Z.errored||(Z.errored=K),F._readableState&&!F._readableState.errored&&(F._readableState.errored=K),bt?e.nextTick(et,F,Z,K,wt):et(F,Z,K,wt)):(Z.buffered.length>Z.bufferedIndex&&it(F,Z),bt?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===wt?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:wt,stream:F,state:Z},e.nextTick(Q,Z.afterWriteTickInfo)):nt(F,Z,1,wt))}function Q({stream:F,state:K,count:Z,cb:bt}){return K.afterWriteTickInfo=null,nt(F,K,Z,bt)}function nt(F,K,Z,bt){for(!K.ending&&!F.destroyed&&K.length===0&&K.needDrain&&(K.needDrain=!1,F.emit("drain"));Z-- >0;)K.pendingcb--,bt();K.destroyed&&yt(K),mt(F,K)}function yt(F){if(F.writing)return;for(let wt=F.bufferedIndex;wt<F.buffered.length;++wt){var K;let{chunk:J,callback:at}=F.buffered[wt],L=F.objectMode?1:J.length;F.length-=L,at((K=F.errored)!==null&&K!==void 0?K:new T("write"))}let Z=F[Tt].splice(0);for(let wt=0;wt<Z.length;wt++){var bt;Z[wt]((bt=F.errored)!==null&&bt!==void 0?bt:new T("end"))}Ot(F)}function it(F,K){if(K.corked||K.bufferProcessing||K.destroyed||!K.constructed)return;let{buffered:Z,bufferedIndex:bt,objectMode:wt}=K,J=Z.length-bt;if(!J)return;let at=bt;if(K.bufferProcessing=!0,J>1&&F._writev){K.pendingcb-=J-1;let L=K.allNoop?q:ot=>{for(let It=at;It<Z.length;++It)Z[It].callback(ot)},tt=K.allNoop&&at===0?Z:p(Z,at);tt.allBuffers=K.allBuffers,ft(F,K,!0,K.length,tt,"",L),Ot(K)}else{do{let{chunk:L,encoding:tt,callback:ot}=Z[at];Z[at++]=null;let It=wt?1:L.length;ft(F,K,!1,It,L,tt,ot)}while(at<Z.length&&!K.writing);at===Z.length?Ot(K):at>256?(Z.splice(0,at),K.bufferedIndex=0):K.bufferedIndex=at}K.bufferProcessing=!1}kt.prototype._write=function(F,K,Z){if(this._writev)this._writev([{chunk:F,encoding:K}],Z);else throw new V("_write()")},kt.prototype._writev=null,kt.prototype.end=function(F,K,Z){let bt=this._writableState;typeof F=="function"?(Z=F,F=null,K=null):typeof K=="function"&&(Z=K,K=null);let wt;if(F!=null){let J=Y(this,F,K);J instanceof d&&(wt=J)}return bt.corked&&(bt.corked=1,this.uncork()),wt||(!bt.errored&&!bt.ending?(bt.ending=!0,mt(this,bt,!0),bt.ended=!0):bt.finished?wt=new H("end"):bt.destroyed&&(wt=new T("end"))),typeof Z=="function"&&(wt||bt.finished?e.nextTick(Z,wt):bt[Tt].push(Z)),this};function C(F){return F.ending&&!F.destroyed&&F.constructed&&F.length===0&&!F.errored&&F.buffered.length===0&&!F.finished&&!F.writing&&!F.errorEmitted&&!F.closeEmitted}function O(F,K){let Z=!1;function bt(wt){if(Z){x(F,wt??X());return}if(Z=!0,K.pendingcb--,wt){let J=K[Tt].splice(0);for(let at=0;at<J.length;at++)J[at](wt);x(F,wt,K.sync)}else C(K)&&(K.prefinished=!0,F.emit("prefinish"),K.pendingcb++,e.nextTick(ht,F,K))}K.sync=!0,K.pendingcb++;try{F._final(bt)}catch(wt){bt(wt)}K.sync=!1}function st(F,K){!K.prefinished&&!K.finalCalled&&(typeof F._final=="function"&&!K.destroyed?(K.finalCalled=!0,O(F,K)):(K.prefinished=!0,F.emit("prefinish")))}function mt(F,K,Z){C(K)&&(st(F,K),K.pendingcb===0&&(Z?(K.pendingcb++,e.nextTick((bt,wt)=>{C(wt)?ht(bt,wt):wt.pendingcb--},F,K)):C(K)&&(K.pendingcb++,ht(F,K))))}function ht(F,K){K.pendingcb--,K.finished=!0;let Z=K[Tt].splice(0);for(let bt=0;bt<Z.length;bt++)Z[bt]();if(F.emit("finish"),K.autoDestroy){let bt=F._readableState;(!bt||bt.autoDestroy&&(bt.endEmitted||bt.readable===!1))&&F.destroy()}}u(kt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(F){this._writableState&&(this._writableState.destroyed=F)}},writable:{__proto__:null,get(){let F=this._writableState;return!!F&&F.writable!==!1&&!F.destroyed&&!F.errored&&!F.ending&&!F.ended},set(F){this._writableState&&(this._writableState.writable=!!F)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let F=this._writableState;return F?!F.destroyed&&!F.ending&&F.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ut=k.destroy;kt.prototype.destroy=function(F,K){let Z=this._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[Tt].length)&&e.nextTick(yt,Z),ut.call(this,F,K),this},kt.prototype._undestroy=k.undestroy,kt.prototype._destroy=function(F,K){K(F)},kt.prototype[b.captureRejectionSymbol]=function(F){this.destroy(F)};var gt;function _t(){return gt===void 0&&(gt={}),gt}kt.fromWeb=function(F,K){return _t().newStreamWritableFromWritableStream(F,K)},kt.toWeb=function(F){return _t().newWritableStreamFromStreamWritable(F)}}),su=xt((t,o)=>{Mt(),Rt(),Bt();var e=Vr(),p=(Me(),se(Oe)),{isReadable:d,isWritable:s,isIterable:n,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:f}=hr(),v=_r(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:w,ERR_INVALID_RETURN_VALUE:E}}=Ae(),{destroyer:k}=Zr(),N=cr(),z=zo(),{createDeferredPromise:A}=ur(),R=Ba(),V=globalThis.Blob||p.Blob,X=typeof V<"u"?function(ct){return ct instanceof V}:function(ct){return!1},j=globalThis.AbortController||Vn().AbortController,{FunctionPrototypeCall:T}=Se(),H=class extends N{constructor(ct){super(ct),(ct==null?void 0:ct.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ct==null?void 0:ct.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};o.exports=function ct(x,q){if(f(x))return x;if(l(x))return D({readable:x});if(c(x))return D({writable:x});if(u(x))return D({writable:!1,readable:!1});if(typeof x=="function"){let{value:lt,write:Ot,final:kt,destroy:Y}=rt(x);if(n(lt))return R(H,lt,{objectMode:!0,write:Ot,final:kt,destroy:Y});let pt=lt==null?void 0:lt.then;if(typeof pt=="function"){let ft,et=T(pt,lt,_=>{if(_!=null)throw new E("nully","body",_)},_=>{k(ft,_)});return ft=new H({objectMode:!0,readable:!1,write:Ot,final(_){kt(async()=>{try{await et,e.nextTick(_,null)}catch(Q){e.nextTick(_,Q)}})},destroy:Y})}throw new E("Iterable, AsyncIterable or AsyncFunction",q,lt)}if(X(x))return ct(x.arrayBuffer());if(n(x))return R(H,x,{objectMode:!0,writable:!1});if(typeof(x==null?void 0:x.writable)=="object"||typeof(x==null?void 0:x.readable)=="object"){let lt=x!=null&&x.readable?l(x==null?void 0:x.readable)?x==null?void 0:x.readable:ct(x.readable):void 0,Ot=x!=null&&x.writable?c(x==null?void 0:x.writable)?x==null?void 0:x.writable:ct(x.writable):void 0;return D({readable:lt,writable:Ot})}let Tt=x==null?void 0:x.then;if(typeof Tt=="function"){let lt;return T(Tt,x,Ot=>{Ot!=null&&lt.push(Ot),lt.push(null)},Ot=>{k(lt,Ot)}),lt=new H({objectMode:!0,writable:!1,read(){}})}throw new w(q,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],x)};function rt(ct){let{promise:x,resolve:q}=A(),Tt=new j,lt=Tt.signal;return{value:ct(async function*(){for(;;){let Ot=x;x=null;let{chunk:kt,done:Y,cb:pt}=await Ot;if(e.nextTick(pt),Y)return;if(lt.aborted)throw new b(void 0,{cause:lt.reason});({promise:x,resolve:q}=A()),yield kt}}(),{signal:lt}),write(Ot,kt,Y){let pt=q;q=null,pt({chunk:Ot,done:!1,cb:Y})},final(Ot){let kt=q;q=null,kt({done:!0,cb:Ot})},destroy(Ot,kt){Tt.abort(),kt(Ot)}}}function D(ct){let x=ct.readable&&typeof ct.readable.read!="function"?z.wrap(ct.readable):ct.readable,q=ct.writable,Tt=!!d(x),lt=!!s(q),Ot,kt,Y,pt,ft;function et(_){let Q=pt;pt=null,Q?Q(_):_&&ft.destroy(_)}return ft=new H({readableObjectMode:!!(x!=null&&x.readableObjectMode),writableObjectMode:!!(q!=null&&q.writableObjectMode),readable:Tt,writable:lt}),lt&&(v(q,_=>{lt=!1,_&&k(x,_),et(_)}),ft._write=function(_,Q,nt){q.write(_,Q)?nt():Ot=nt},ft._final=function(_){q.end(),kt=_},q.on("drain",function(){if(Ot){let _=Ot;Ot=null,_()}}),q.on("finish",function(){if(kt){let _=kt;kt=null,_()}})),Tt&&(v(x,_=>{Tt=!1,_&&k(x,_),et(_)}),x.on("readable",function(){if(Y){let _=Y;Y=null,_()}}),x.on("end",function(){ft.push(null)}),ft._read=function(){for(;;){let _=x.read();if(_===null){Y=ft._read;return}if(!ft.push(_))return}}),ft._destroy=function(_,Q){!_&&pt!==null&&(_=new b),Y=null,Ot=null,kt=null,pt===null?Q(_):(pt=Q,k(q,_),k(x,_))},ft}}),cr=xt((t,o)=>{Mt(),Rt(),Bt();var{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:p,ObjectKeys:d,ObjectSetPrototypeOf:s}=Se();o.exports=l;var n=zo(),u=Ra();s(l.prototype,n.prototype),s(l,n);{let b=d(u.prototype);for(let w=0;w<b.length;w++){let E=b[w];l.prototype[E]||(l.prototype[E]=u.prototype[E])}}function l(b){if(!(this instanceof l))return new l(b);n.call(this,b),u.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(l.prototype,{writable:{__proto__:null,...p(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...p(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...p(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...p(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...p(u.prototype,"writableLength")},writableFinished:{__proto__:null,...p(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...p(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...p(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...p(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});var c;function f(){return c===void 0&&(c={}),c}l.fromWeb=function(b,w){return f().newStreamDuplexFromReadableWritablePair(b,w)},l.toWeb=function(b){return f().newReadableWritablePairFromDuplex(b)};var v;l.from=function(b){return v||(v=su()),v(b,"body")}}),Ca=xt((t,o)=>{Mt(),Rt(),Bt();var{ObjectSetPrototypeOf:e,Symbol:p}=Se();o.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:d}=Ae().codes,s=cr(),{getHighWaterMark:n}=Hn();e(l.prototype,s.prototype),e(l,s);var u=p("kCallback");function l(v){if(!(this instanceof l))return new l(v);let b=v?n(this,v,"readableHighWaterMark",!0):null;b===0&&(v={...v,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:v.writableHighWaterMark||0}),s.call(this,v),this._readableState.sync=!1,this[u]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",f)}function c(v){typeof this._flush=="function"&&!this.destroyed?this._flush((b,w)=>{if(b){v?v(b):this.destroy(b);return}w!=null&&this.push(w),this.push(null),v&&v()}):(this.push(null),v&&v())}function f(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(v,b,w){throw new d("_transform()")},l.prototype._write=function(v,b,w){let E=this._readableState,k=this._writableState,N=E.length;this._transform(v,b,(z,A)=>{if(z){w(z);return}A!=null&&this.push(A),k.ended||N===E.length||E.length<E.highWaterMark?w():this[u]=w})},l.prototype._read=function(){if(this[u]){let v=this[u];this[u]=null,v()}}}),Aa=xt((t,o)=>{Mt(),Rt(),Bt();var{ObjectSetPrototypeOf:e}=Se();o.exports=d;var p=Ca();e(d.prototype,p.prototype),e(d,p);function d(s){if(!(this instanceof d))return new d(s);p.call(this,s)}d.prototype._transform=function(s,n,u){u(null,s)}}),Yn=xt((t,o)=>{Mt(),Rt(),Bt();var e=Vr(),{ArrayIsArray:p,Promise:d,SymbolAsyncIterator:s}=Se(),n=_r(),{once:u}=ur(),l=Zr(),c=cr(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:k},AbortError:N}=Ae(),{validateFunction:z,validateAbortSignal:A}=Do(),{isIterable:R,isReadable:V,isReadableNodeStream:X,isNodeStream:j,isTransformStream:T,isWebStream:H,isReadableStream:rt,isReadableEnded:D}=hr(),ct=globalThis.AbortController||Vn().AbortController,x,q;function Tt(Q,nt,yt){let it=!1;Q.on("close",()=>{it=!0});let C=n(Q,{readable:nt,writable:yt},O=>{it=!O});return{destroy:O=>{it||(it=!0,l.destroyer(Q,O||new E("pipe")))},cleanup:C}}function lt(Q){return z(Q[Q.length-1],"streams[stream.length - 1]"),Q.pop()}function Ot(Q){if(R(Q))return Q;if(X(Q))return kt(Q);throw new v("val",["Readable","Iterable","AsyncIterable"],Q)}async function*kt(Q){q||(q=zo()),yield*q.prototype[s].call(Q)}async function Y(Q,nt,yt,{end:it}){let C,O=null,st=ut=>{if(ut&&(C=ut),O){let gt=O;O=null,gt()}},mt=()=>new d((ut,gt)=>{C?gt(C):O=()=>{C?gt(C):ut()}});nt.on("drain",st);let ht=n(nt,{readable:!1},st);try{nt.writableNeedDrain&&await mt();for await(let ut of Q)nt.write(ut)||await mt();it&&nt.end(),await mt(),yt()}catch(ut){yt(C!==ut?f(C,ut):ut)}finally{ht(),nt.off("drain",st)}}async function pt(Q,nt,yt,{end:it}){T(nt)&&(nt=nt.writable);let C=nt.getWriter();try{for await(let O of Q)await C.ready,C.write(O).catch(()=>{});await C.ready,it&&await C.close(),yt()}catch(O){try{await C.abort(O),yt(O)}catch(st){yt(st)}}}function ft(...Q){return et(Q,u(lt(Q)))}function et(Q,nt,yt){if(Q.length===1&&p(Q[0])&&(Q=Q[0]),Q.length<2)throw new w("streams");let it=new ct,C=it.signal,O=yt==null?void 0:yt.signal,st=[];A(O,"options.signal");function mt(){K(new N)}O==null||O.addEventListener("abort",mt);let ht,ut,gt=[],_t=0;function F(J){K(J,--_t===0)}function K(J,at){if(J&&(!ht||ht.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ht=J),!(!ht&&!at)){for(;gt.length;)gt.shift()(ht);O==null||O.removeEventListener("abort",mt),it.abort(),at&&(ht||st.forEach(L=>L()),e.nextTick(nt,ht,ut))}}let Z;for(let J=0;J<Q.length;J++){let at=Q[J],L=J<Q.length-1,tt=J>0,ot=L||(yt==null?void 0:yt.end)!==!1,It=J===Q.length-1;if(j(at)){let m=function(h){h&&h.name!=="AbortError"&&h.code!=="ERR_STREAM_PREMATURE_CLOSE"&&F(h)};if(ot){let{destroy:h,cleanup:g}=Tt(at,L,tt);gt.push(h),V(at)&&It&&st.push(g)}at.on("error",m),V(at)&&It&&st.push(()=>{at.removeListener("error",m)})}if(J===0)if(typeof at=="function"){if(Z=at({signal:C}),!R(Z))throw new b("Iterable, AsyncIterable or Stream","source",Z)}else R(at)||X(at)||T(at)?Z=at:Z=c.from(at);else if(typeof at=="function"){if(T(Z)){var bt;Z=Ot((bt=Z)===null||bt===void 0?void 0:bt.readable)}else Z=Ot(Z);if(Z=at(Z,{signal:C}),L){if(!R(Z,!0))throw new b("AsyncIterable",`transform[${J-1}]`,Z)}else{var wt;x||(x=Aa());let m=new x({objectMode:!0}),h=(wt=Z)===null||wt===void 0?void 0:wt.then;if(typeof h=="function")_t++,h.call(Z,U=>{ut=U,U!=null&&m.write(U),ot&&m.end(),e.nextTick(F)},U=>{m.destroy(U),e.nextTick(F,U)});else if(R(Z,!0))_t++,Y(Z,m,F,{end:ot});else if(rt(Z)||T(Z)){let U=Z.readable||Z;_t++,Y(U,m,F,{end:ot})}else throw new b("AsyncIterable or Promise","destination",Z);Z=m;let{destroy:g,cleanup:B}=Tt(Z,!1,!0);gt.push(g),It&&st.push(B)}}else if(j(at)){if(X(Z)){_t+=2;let m=_(Z,at,F,{end:ot});V(at)&&It&&st.push(m)}else if(T(Z)||rt(Z)){let m=Z.readable||Z;_t++,Y(m,at,F,{end:ot})}else if(R(Z))_t++,Y(Z,at,F,{end:ot});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Z);Z=at}else if(H(at)){if(X(Z))_t++,pt(Ot(Z),at,F,{end:ot});else if(rt(Z)||R(Z))_t++,pt(Z,at,F,{end:ot});else if(T(Z))_t++,pt(Z.readable,at,F,{end:ot});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Z);Z=at}else Z=c.from(at)}return(C!=null&&C.aborted||O!=null&&O.aborted)&&e.nextTick(mt),Z}function _(Q,nt,yt,{end:it}){let C=!1;if(nt.on("close",()=>{C||yt(new k)}),Q.pipe(nt,{end:!1}),it){let O=function(){C=!0,nt.end()};D(Q)?e.nextTick(O):Q.once("end",O)}else yt();return n(Q,{readable:!0,writable:!1},O=>{let st=Q._readableState;O&&O.code==="ERR_STREAM_PREMATURE_CLOSE"&&st&&st.ended&&!st.errored&&!st.errorEmitted?Q.once("end",yt).once("error",yt):yt(O)}),n(nt,{readable:!1,writable:!0},yt)}o.exports={pipelineImpl:et,pipeline:ft}}),Pa=xt((t,o)=>{Mt(),Rt(),Bt();var{pipeline:e}=Yn(),p=cr(),{destroyer:d}=Zr(),{isNodeStream:s,isReadable:n,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:f,isReadableStream:v}=hr(),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:w,ERR_MISSING_ARGS:E}}=Ae(),k=_r();o.exports=function(...N){if(N.length===0)throw new E("streams");if(N.length===1)return p.from(N[0]);let z=[...N];if(typeof N[0]=="function"&&(N[0]=p.from(N[0])),typeof N[N.length-1]=="function"){let x=N.length-1;N[x]=p.from(N[x])}for(let x=0;x<N.length;++x)if(!(!s(N[x])&&!l(N[x]))){if(x<N.length-1&&!(n(N[x])||v(N[x])||c(N[x])))throw new w(`streams[${x}]`,z[x],"must be readable");if(x>0&&!(u(N[x])||f(N[x])||c(N[x])))throw new w(`streams[${x}]`,z[x],"must be writable")}let A,R,V,X,j;function T(x){let q=X;X=null,q?q(x):x?j.destroy(x):!ct&&!D&&j.destroy()}let H=N[0],rt=e(N,T),D=!!(u(H)||f(H)||c(H)),ct=!!(n(rt)||v(rt)||c(rt));if(j=new p({writableObjectMode:!!(H!=null&&H.writableObjectMode),readableObjectMode:!!(rt!=null&&rt.writableObjectMode),writable:D,readable:ct}),D){if(s(H))j._write=function(q,Tt,lt){H.write(q,Tt)?lt():A=lt},j._final=function(q){H.end(),R=q},H.on("drain",function(){if(A){let q=A;A=null,q()}});else if(l(H)){let q=(c(H)?H.writable:H).getWriter();j._write=async function(Tt,lt,Ot){try{await q.ready,q.write(Tt).catch(()=>{}),Ot()}catch(kt){Ot(kt)}},j._final=async function(Tt){try{await q.ready,q.close().catch(()=>{}),R=Tt}catch(lt){Tt(lt)}}}let x=c(rt)?rt.readable:rt;k(x,()=>{if(R){let q=R;R=null,q()}})}if(ct){if(s(rt))rt.on("readable",function(){if(V){let x=V;V=null,x()}}),rt.on("end",function(){j.push(null)}),j._read=function(){for(;;){let x=rt.read();if(x===null){V=j._read;return}if(!j.push(x))return}};else if(l(rt)){let x=(c(rt)?rt.readable:rt).getReader();j._read=async function(){for(;;)try{let{value:q,done:Tt}=await x.read();if(!j.push(q))return;if(Tt){j.push(null);return}}catch{return}}}}return j._destroy=function(x,q){!x&&X!==null&&(x=new b),V=null,A=null,R=null,X===null?q(x):(X=q,s(rt)&&d(rt,x))},j}}),au=xt((t,o)=>{Mt(),Rt(),Bt();var e=globalThis.AbortController||Vn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:p,ERR_INVALID_ARG_TYPE:d,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:n},AbortError:u}=Ae(),{validateAbortSignal:l,validateInteger:c,validateObject:f}=Do(),v=Se().Symbol("kWeak"),{finished:b}=_r(),w=Pa(),{addAbortSignalNoValidate:E}=Lo(),{isWritable:k,isNodeStream:N}=hr(),{ArrayPrototypePush:z,MathFloor:A,Number:R,NumberIsNaN:V,Promise:X,PromiseReject:j,PromisePrototypeThen:T,Symbol:H}=Se(),rt=H("kEmpty"),D=H("kEof");function ct(it,C){if(C!=null&&f(C,"options"),(C==null?void 0:C.signal)!=null&&l(C.signal,"options.signal"),N(it)&&!k(it))throw new p("stream",it,"must be writable");let O=w(this,it);return C!=null&&C.signal&&E(C.signal,O),O}function x(it,C){if(typeof it!="function")throw new d("fn",["Function","AsyncFunction"],it);C!=null&&f(C,"options"),(C==null?void 0:C.signal)!=null&&l(C.signal,"options.signal");let O=1;return(C==null?void 0:C.concurrency)!=null&&(O=A(C.concurrency)),c(O,"concurrency",1),(async function*(){var st,mt;let ht=new e,ut=this,gt=[],_t=ht.signal,F={signal:_t},K=()=>ht.abort();C!=null&&(st=C.signal)!==null&&st!==void 0&&st.aborted&&K(),C==null||(mt=C.signal)===null||mt===void 0||mt.addEventListener("abort",K);let Z,bt,wt=!1;function J(){wt=!0}async function at(){try{for await(let ot of ut){var L;if(wt)return;if(_t.aborted)throw new u;try{ot=it(ot,F)}catch(It){ot=j(It)}ot!==rt&&(typeof((L=ot)===null||L===void 0?void 0:L.catch)=="function"&&ot.catch(J),gt.push(ot),Z&&(Z(),Z=null),!wt&&gt.length&&gt.length>=O&&await new X(It=>{bt=It}))}gt.push(D)}catch(ot){let It=j(ot);T(It,void 0,J),gt.push(It)}finally{var tt;wt=!0,Z&&(Z(),Z=null),C==null||(tt=C.signal)===null||tt===void 0||tt.removeEventListener("abort",K)}}at();try{for(;;){for(;gt.length>0;){let L=await gt[0];if(L===D)return;if(_t.aborted)throw new u;L!==rt&&(yield L),gt.shift(),bt&&(bt(),bt=null)}await new X(L=>{Z=L})}}finally{ht.abort(),wt=!0,bt&&(bt(),bt=null)}}).call(this)}function q(it=void 0){return it!=null&&f(it,"options"),(it==null?void 0:it.signal)!=null&&l(it.signal,"options.signal"),(async function*(){let C=0;for await(let st of this){var O;if(it!=null&&(O=it.signal)!==null&&O!==void 0&&O.aborted)throw new u({cause:it.signal.reason});yield[C++,st]}}).call(this)}async function Tt(it,C=void 0){for await(let O of Y.call(this,it,C))return!0;return!1}async function lt(it,C=void 0){if(typeof it!="function")throw new d("fn",["Function","AsyncFunction"],it);return!await Tt.call(this,async(...O)=>!await it(...O),C)}async function Ot(it,C){for await(let O of Y.call(this,it,C))return O}async function kt(it,C){if(typeof it!="function")throw new d("fn",["Function","AsyncFunction"],it);async function O(st,mt){return await it(st,mt),rt}for await(let st of x.call(this,O,C));}function Y(it,C){if(typeof it!="function")throw new d("fn",["Function","AsyncFunction"],it);async function O(st,mt){return await it(st,mt)?st:rt}return x.call(this,O,C)}var pt=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ft(it,C,O){var st;if(typeof it!="function")throw new d("reducer",["Function","AsyncFunction"],it);O!=null&&f(O,"options"),(O==null?void 0:O.signal)!=null&&l(O.signal,"options.signal");let mt=arguments.length>1;if(O!=null&&(st=O.signal)!==null&&st!==void 0&&st.aborted){let F=new u(void 0,{cause:O.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(F)),F}let ht=new e,ut=ht.signal;if(O!=null&&O.signal){let F={once:!0,[v]:this};O.signal.addEventListener("abort",()=>ht.abort(),F)}let gt=!1;try{for await(let F of this){var _t;if(gt=!0,O!=null&&(_t=O.signal)!==null&&_t!==void 0&&_t.aborted)throw new u;mt?C=await it(C,F,{signal:ut}):(C=F,mt=!0)}if(!gt&&!mt)throw new pt}finally{ht.abort()}return C}async function et(it){it!=null&&f(it,"options"),(it==null?void 0:it.signal)!=null&&l(it.signal,"options.signal");let C=[];for await(let st of this){var O;if(it!=null&&(O=it.signal)!==null&&O!==void 0&&O.aborted)throw new u(void 0,{cause:it.signal.reason});z(C,st)}return C}function _(it,C){let O=x.call(this,it,C);return(async function*(){for await(let st of O)yield*st}).call(this)}function Q(it){if(it=R(it),V(it))return 0;if(it<0)throw new n("number",">= 0",it);return it}function nt(it,C=void 0){return C!=null&&f(C,"options"),(C==null?void 0:C.signal)!=null&&l(C.signal,"options.signal"),it=Q(it),(async function*(){var O;if(C!=null&&(O=C.signal)!==null&&O!==void 0&&O.aborted)throw new u;for await(let mt of this){var st;if(C!=null&&(st=C.signal)!==null&&st!==void 0&&st.aborted)throw new u;it--<=0&&(yield mt)}}).call(this)}function yt(it,C=void 0){return C!=null&&f(C,"options"),(C==null?void 0:C.signal)!=null&&l(C.signal,"options.signal"),it=Q(it),(async function*(){var O;if(C!=null&&(O=C.signal)!==null&&O!==void 0&&O.aborted)throw new u;for await(let mt of this){var st;if(C!=null&&(st=C.signal)!==null&&st!==void 0&&st.aborted)throw new u;if(it-- >0)yield mt;else return}}).call(this)}o.exports.streamReturningOperators={asIndexedPairs:q,drop:nt,filter:Y,flatMap:_,map:x,take:yt,compose:ct},o.exports.promiseReturningOperators={every:lt,forEach:kt,reduce:ft,toArray:et,some:Tt,find:Ot}}),Fa=xt((t,o)=>{Mt(),Rt(),Bt();var{ArrayPrototypePop:e,Promise:p}=Se(),{isIterable:d,isNodeStream:s,isWebStream:n}=hr(),{pipelineImpl:u}=Yn(),{finished:l}=_r();xa();function c(...f){return new p((v,b)=>{let w,E,k=f[f.length-1];if(k&&typeof k=="object"&&!s(k)&&!d(k)&&!n(k)){let N=e(f);w=N.signal,E=N.end}u(f,(N,z)=>{N?b(N):v(z)},{signal:w,end:E})})}o.exports={finished:l,pipeline:c}}),xa=xt((t,o)=>{Mt(),Rt(),Bt();var{Buffer:e}=(Me(),se(Oe)),{ObjectDefineProperty:p,ObjectKeys:d,ReflectApply:s}=Se(),{promisify:{custom:n}}=ur(),{streamReturningOperators:u,promiseReturningOperators:l}=au(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=Ae(),f=Pa(),{pipeline:v}=Yn(),{destroyer:b}=Zr(),w=_r(),E=Fa(),k=hr(),N=o.exports=Gn().Stream;N.isDisturbed=k.isDisturbed,N.isErrored=k.isErrored,N.isReadable=k.isReadable,N.Readable=zo();for(let A of d(u)){let R=function(...X){if(new.target)throw c();return N.Readable.from(s(V,this,X))},V=u[A];p(R,"name",{__proto__:null,value:V.name}),p(R,"length",{__proto__:null,value:V.length}),p(N.Readable.prototype,A,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}for(let A of d(l)){let R=function(...X){if(new.target)throw c();return s(V,this,X)},V=l[A];p(R,"name",{__proto__:null,value:V.name}),p(R,"length",{__proto__:null,value:V.length}),p(N.Readable.prototype,A,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}N.Writable=Ra(),N.Duplex=cr(),N.Transform=Ca(),N.PassThrough=Aa(),N.pipeline=v;var{addAbortSignal:z}=Lo();N.addAbortSignal=z,N.finished=w,N.destroy=b,N.compose=f,p(N,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),p(v,n,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),p(w,n,{__proto__:null,enumerable:!0,get(){return E.finished}}),N.Stream=N,N._isUint8Array=function(A){return A instanceof Uint8Array},N._uint8ArrayToBuffer=function(A){return e.from(A.buffer,A.byteOffset,A.byteLength)}}),Hr=xt((t,o)=>{Mt(),Rt(),Bt();var e=xa(),p=Fa(),d=e.Readable.destroy;o.exports=e.Readable,o.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,o.exports._isUint8Array=e._isUint8Array,o.exports.isDisturbed=e.isDisturbed,o.exports.isErrored=e.isErrored,o.exports.isReadable=e.isReadable,o.exports.Readable=e.Readable,o.exports.Writable=e.Writable,o.exports.Duplex=e.Duplex,o.exports.Transform=e.Transform,o.exports.PassThrough=e.PassThrough,o.exports.addAbortSignal=e.addAbortSignal,o.exports.finished=e.finished,o.exports.destroy=e.destroy,o.exports.destroy=d,o.exports.pipeline=e.pipeline,o.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return p}}),o.exports.Stream=e.Stream,o.exports.default=o.exports}),lu=xt((t,o)=>{Mt(),Rt(),Bt(),typeof Object.create=="function"?o.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(e,p){if(p){e.super_=p;var d=function(){};d.prototype=p.prototype,e.prototype=new d,e.prototype.constructor=e}}}),pu=xt((t,o)=>{Mt(),Rt(),Bt();var{Buffer:e}=(Me(),se(Oe)),p=Symbol.for("BufferList");function d(s){if(!(this instanceof d))return new d(s);d._init.call(this,s)}d._init=function(s){Object.defineProperty(this,p,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},d.prototype._new=function(s){return new d(s)},d.prototype._offset=function(s){if(s===0)return[0,0];let n=0;for(let u=0;u<this._bufs.length;u++){let l=n+this._bufs[u].length;if(s<l||u===this._bufs.length-1)return[u,s-n];n=l}},d.prototype._reverseOffset=function(s){let n=s[0],u=s[1];for(let l=0;l<n;l++)u+=this._bufs[l].length;return u},d.prototype.get=function(s){if(s>this.length||s<0)return;let n=this._offset(s);return this._bufs[n[0]][n[1]]},d.prototype.slice=function(s,n){return typeof s=="number"&&s<0&&(s+=this.length),typeof n=="number"&&n<0&&(n+=this.length),this.copy(null,0,s,n)},d.prototype.copy=function(s,n,u,l){if((typeof u!="number"||u<0)&&(u=0),(typeof l!="number"||l>this.length)&&(l=this.length),u>=this.length||l<=0)return s||e.alloc(0);let c=!!s,f=this._offset(u),v=l-u,b=v,w=c&&n||0,E=f[1];if(u===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:e.concat(this._bufs,this.length);for(let k=0;k<this._bufs.length;k++)this._bufs[k].copy(s,w),w+=this._bufs[k].length;return s}if(b<=this._bufs[f[0]].length-E)return c?this._bufs[f[0]].copy(s,n,E,E+b):this._bufs[f[0]].slice(E,E+b);c||(s=e.allocUnsafe(v));for(let k=f[0];k<this._bufs.length;k++){let N=this._bufs[k].length-E;if(b>N)this._bufs[k].copy(s,w,E),w+=N;else{this._bufs[k].copy(s,w,E,E+b),w+=N;break}b-=N,E&&(E=0)}return s.length>w?s.slice(0,w):s},d.prototype.shallowSlice=function(s,n){if(s=s||0,n=typeof n!="number"?this.length:n,s<0&&(s+=this.length),n<0&&(n+=this.length),s===n)return this._new();let u=this._offset(s),l=this._offset(n),c=this._bufs.slice(u[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),u[1]!==0&&(c[0]=c[0].slice(u[1])),this._new(c)},d.prototype.toString=function(s,n,u){return this.slice(n,u).toString(s)},d.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},d.prototype.duplicate=function(){let s=this._new();for(let n=0;n<this._bufs.length;n++)s.append(this._bufs[n]);return s},d.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(e.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let n=0;n<s.length;n++)this.append(s[n]);else if(this._isBufferList(s))for(let n=0;n<s._bufs.length;n++)this.append(s._bufs[n]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(e.from(s));return this},d.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},d.prototype.indexOf=function(s,n,u){if(u===void 0&&typeof n=="string"&&(u=n,n=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=e.from([s]):typeof s=="string"?s=e.from(s,u):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=e.from(s.buffer,s.byteOffset,s.byteLength):e.isBuffer(s)||(s=e.from(s)),n=Number(n||0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),s.length===0)return n>this.length?this.length:n;let l=this._offset(n),c=l[0],f=l[1];for(;c<this._bufs.length;c++){let v=this._bufs[c];for(;f<v.length;)if(v.length-f>=s.length){let b=v.indexOf(s,f);if(b!==-1)return this._reverseOffset([c,b]);f=v.length-s.length+1}else{let b=this._reverseOffset([c,f]);if(this._match(b,s))return b;f++}f=0}return-1},d.prototype._match=function(s,n){if(this.length-s<n.length)return!1;for(let u=0;u<n.length;u++)if(this.get(s+u)!==n[u])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let n in s)(function(u){s[u]===null?d.prototype[u]=function(l,c){return this.slice(l,l+c)[u](0,c)}:d.prototype[u]=function(l=0){return this.slice(l,l+s[u])[u](0)}})(n)}(),d.prototype._isBufferList=function(s){return s instanceof d||d.isBufferList(s)},d.isBufferList=function(s){return s!=null&&s[p]},o.exports=d}),uu=xt((t,o)=>{Mt(),Rt(),Bt();var e=Hr().Duplex,p=lu(),d=pu();function s(n){if(!(this instanceof s))return new s(n);if(typeof n=="function"){this._callback=n;let u=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",u)}),this.on("unpipe",function(l){l.removeListener("error",u)}),n=null}d._init.call(this,n),e.call(this)}p(s,e),Object.assign(s.prototype,d.prototype),s.prototype._new=function(n){return new s(n)},s.prototype._write=function(n,u,l){this._appendBuffer(n),typeof l=="function"&&l()},s.prototype._read=function(n){if(!this.length)return this.push(null);n=Math.min(n,this.length),this.push(this.slice(0,n)),this.consume(n)},s.prototype.end=function(n){e.prototype.end.call(this,n),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(n,u){this._bufs.length=0,this.length=0,u(n)},s.prototype._isBufferList=function(n){return n instanceof s||n instanceof d||s.isBufferList(n)},s.isBufferList=d.isBufferList,o.exports=s,o.exports.BufferListStream=s,o.exports.BufferList=d}),cu=xt((t,o)=>{Mt(),Rt(),Bt();var e=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};o.exports=e}),Wa=xt((t,o)=>{Mt(),Rt(),Bt();var e=o.exports,{Buffer:p}=(Me(),se(Oe));e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(let s in e.requiredHeaderFlags){let n=e.requiredHeaderFlags[s];e.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+n.toString(16)+" for "+e.types[s]+" packet"}e.codes={};for(let s in e.types){let n=e.types[s];e.codes[n]=s}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=p.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=p.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=p.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(let s in e.properties){let n=e.properties[s];e.propertiesCodes[n]=s}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function d(s){return[0,1,2].map(n=>[0,1].map(u=>[0,1].map(l=>{let c=p.alloc(1);return c.writeUInt8(e.codes[s]<<e.CMD_SHIFT|(u?e.DUP_MASK:0)|n<<e.QOS_SHIFT|l,0,!0),c})))}e.PUBLISH_HEADER=d("publish"),e.SUBSCRIBE_HEADER=d("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=d("unsubscribe"),e.ACKS={unsuback:d("unsuback"),puback:d("puback"),pubcomp:d("pubcomp"),pubrel:d("pubrel"),pubrec:d("pubrec")},e.SUBACK_HEADER=p.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=p.from([3]),e.VERSION4=p.from([4]),e.VERSION5=p.from([5]),e.VERSION131=p.from([131]),e.VERSION132=p.from([132]),e.QOS=[0,1,2].map(s=>p.from([s])),e.EMPTY={pingreq:p.from([e.codes.pingreq<<4,0]),pingresp:p.from([e.codes.pingresp<<4,0]),disconnect:p.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),du=xt((t,o)=>{Mt(),Rt(),Bt();var e=1e3,p=e*60,d=p*60,s=d*24,n=s*7,u=s*365.25;o.exports=function(b,w){w=w||{};var E=typeof b;if(E==="string"&&b.length>0)return l(b);if(E==="number"&&isFinite(b))return w.long?f(b):c(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function l(b){if(b=String(b),!(b.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(w){var E=parseFloat(w[1]),k=(w[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return E*u;case"weeks":case"week":case"w":return E*n;case"days":case"day":case"d":return E*s;case"hours":case"hour":case"hrs":case"hr":case"h":return E*d;case"minutes":case"minute":case"mins":case"min":case"m":return E*p;case"seconds":case"second":case"secs":case"sec":case"s":return E*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function c(b){var w=Math.abs(b);return w>=s?Math.round(b/s)+"d":w>=d?Math.round(b/d)+"h":w>=p?Math.round(b/p)+"m":w>=e?Math.round(b/e)+"s":b+"ms"}function f(b){var w=Math.abs(b);return w>=s?v(b,w,s,"day"):w>=d?v(b,w,d,"hour"):w>=p?v(b,w,p,"minute"):w>=e?v(b,w,e,"second"):b+" ms"}function v(b,w,E,k){var N=w>=E*1.5;return Math.round(b/E)+" "+k+(N?"s":"")}}),hu=xt((t,o)=>{Mt(),Rt(),Bt();function e(p){s.debug=s,s.default=s,s.coerce=v,s.disable=l,s.enable=u,s.enabled=c,s.humanize=du(),s.destroy=b,Object.keys(p).forEach(w=>{s[w]=p[w]}),s.names=[],s.skips=[],s.formatters={};function d(w){let E=0;for(let k=0;k<w.length;k++)E=(E<<5)-E+w.charCodeAt(k),E|=0;return s.colors[Math.abs(E)%s.colors.length]}s.selectColor=d;function s(w){let E,k=null,N,z;function A(...R){if(!A.enabled)return;let V=A,X=Number(new Date),j=X-(E||X);V.diff=j,V.prev=E,V.curr=X,E=X,R[0]=s.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let T=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(H,rt)=>{if(H==="%%")return"%";T++;let D=s.formatters[rt];if(typeof D=="function"){let ct=R[T];H=D.call(V,ct),R.splice(T,1),T--}return H}),s.formatArgs.call(V,R),(V.log||s.log).apply(V,R)}return A.namespace=w,A.useColors=s.useColors(),A.color=s.selectColor(w),A.extend=n,A.destroy=s.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>k!==null?k:(N!==s.namespaces&&(N=s.namespaces,z=s.enabled(w)),z),set:R=>{k=R}}),typeof s.init=="function"&&s.init(A),A}function n(w,E){let k=s(this.namespace+(typeof E>"u"?":":E)+w);return k.log=this.log,k}function u(w){s.save(w),s.namespaces=w,s.names=[],s.skips=[];let E,k=(typeof w=="string"?w:"").split(/[\s,]+/),N=k.length;for(E=0;E<N;E++)k[E]&&(w=k[E].replace(/\*/g,".*?"),w[0]==="-"?s.skips.push(new RegExp("^"+w.slice(1)+"$")):s.names.push(new RegExp("^"+w+"$")))}function l(){let w=[...s.names.map(f),...s.skips.map(f).map(E=>"-"+E)].join(",");return s.enable(""),w}function c(w){if(w[w.length-1]==="*")return!0;let E,k;for(E=0,k=s.skips.length;E<k;E++)if(s.skips[E].test(w))return!1;for(E=0,k=s.names.length;E<k;E++)if(s.names[E].test(w))return!0;return!1}function f(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}function v(w){return w instanceof Error?w.stack||w.message:w}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}o.exports=e}),dr=xt((t,o)=>{Mt(),Rt(),Bt(),t.formatArgs=p,t.save=d,t.load=s,t.useColors=e,t.storage=n(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let f=0,v=0;l[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(f++,b==="%c"&&(v=f))}),l.splice(v,0,c)}t.log=console.debug||console.log||(()=>{});function d(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof oe<"u"&&"env"in oe&&(l=oe.env.DEBUG),l}function n(){try{return localStorage}catch{}}o.exports=hu()(t);var{formatters:u}=o.exports;u.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),fu=xt((t,o)=>{Mt(),Rt(),Bt();var e=uu(),{EventEmitter:p}=(Xr(),se(Gr)),d=cu(),s=Wa(),n=dr()("mqtt-packet:parser"),u=class In extends p{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof In?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new In().parser(c)}_resetState(){n("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new d,this.error=null,this._list=e(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),n("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,n("parse: state complete. _stateCounter is now: %d",this._stateCounter),n("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return n("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),f=c>>s.CMD_SHIFT;this.packet.cmd=s.types[f];let v=c&15,b=s.requiredHeaderFlags[f];return b!=null&&v!==b?this._emitError(new Error(s.requiredHeaderFlagsErrors[f])):(this.packet.retain=(c&s.RETAIN_MASK)!==0,this.packet.qos=c>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&s.DUP_MASK)!==0,n("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),n("_parseLength %d",c.value),!!c}_parsePayload(){n("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return n("_parsePayload complete result: %s",c),c}_parseConnect(){n("_parseConnect");let c,f,v,b,w={},E=this.packet,k=this._parseString();if(k===null)return this._emitError(new Error("Cannot parse protocolId"));if(k!=="MQTT"&&k!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(E.protocolId=k,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(E.protocolVersion=this._list.readUInt8(this._pos),E.protocolVersion>=128&&(E.bridgeMode=!0,E.protocolVersion=E.protocolVersion-128),E.protocolVersion!==3&&E.protocolVersion!==4&&E.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));w.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,w.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,w.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let N=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),z=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(w.will)E.will={},E.will.retain=N,E.will.qos=z;else{if(N)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(z)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(E.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,E.keepalive=this._parseNum(),E.keepalive===-1)return this._emitError(new Error("Packet too short"));if(E.protocolVersion===5){let R=this._parseProperties();Object.getOwnPropertyNames(R).length&&(E.properties=R)}let A=this._parseString();if(A===null)return this._emitError(new Error("Packet too short"));if(E.clientId=A,n("_parseConnect: packet.clientId: %s",E.clientId),w.will){if(E.protocolVersion===5){let R=this._parseProperties();Object.getOwnPropertyNames(R).length&&(E.will.properties=R)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(E.will.topic=c,n("_parseConnect: packet.will.topic: %s",E.will.topic),f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse will payload"));E.will.payload=f,n("_parseConnect: packet.will.paylaod: %s",E.will.payload)}if(w.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));E.username=b,n("_parseConnect: packet.username: %s",E.username)}if(w.password){if(v=this._parseBuffer(),v===null)return this._emitError(new Error("Cannot parse password"));E.password=v}return this.settings=E,n("_parseConnect: complete"),E}_parseConnack(){n("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let f=this._list.readUInt8(this._pos++);if(f>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(f&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(c.properties=v)}n("_parseConnack: complete")}_parsePublish(){n("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(c.properties=f)}c.payload=this._list.slice(this._pos,c.length),n("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){n("_parseSubscribe");let c=this.packet,f,v,b,w,E,k,N;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let z=this._parseProperties();Object.getOwnPropertyNames(z).length&&(c.properties=z)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(v=this._parseByte(),this.settings.protocolVersion===5){if(v&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(v&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=v&s.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(k=(v>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,E=(v>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,w=v>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,w>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));N={topic:f,qos:b},this.settings.protocolVersion===5?(N.nl=k,N.rap=E,N.rh=w):this.settings.bridgeMode&&(N.rh=0,N.rap=!0,N.nl=!0),n("_parseSubscribe: push subscription `%s` to subscription",N),c.subscriptions.push(N)}}}_parseSuback(){n("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(c.properties=f)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[f])return this._emitError(new Error("Invalid suback code"))}else if(f>2&&f!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(f)}}}_parseUnsubscribe(){n("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(c.properties=f)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let f=this._parseString();if(f===null)return this._emitError(new Error("Cannot parse topic"));n("_parseUnsubscribe: push topic `%s` to unsubscriptions",f),c.unsubscriptions.push(f)}}}_parseUnsuback(){n("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let f=this._parseProperties();for(Object.getOwnPropertyNames(f).length&&(c.properties=f),c.granted=[];this._pos<this.packet.length;){let v=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[v])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(v)}}}_parseConfirmation(){n("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}n("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(c.properties=f)}}return!0}_parseDisconnect(){let c=this.packet;if(n("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(c.properties=f)}return n("_parseDisconnect result: true"),!0}_parseAuth(){n("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let f=this._parseProperties();return Object.getOwnPropertyNames(f).length&&(c.properties=f),n("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(n("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let f=this._parseNum(),v=f+this._pos;if(f===-1||v>this._list.length||v>this.packet.length)return null;let b=this._list.toString("utf8",this._pos,v);return this._pos+=f,n("_parseString: result: %s",b),b}_parseStringPair(){return n("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),f=c+this._pos;if(c===-1||f>this._list.length||f>this.packet.length)return null;let v=this._list.slice(this._pos,f);return this._pos+=c,n("_parseBuffer: result: %o",v),v}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,n("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,n("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){n("_parseVarByteNum");let f=4,v=0,b=1,w=0,E=!1,k,N=this._pos?this._pos:0;for(;v<f&&N+v<this._list.length;){if(k=this._list.readUInt8(N+v++),w+=b*(k&s.VARBYTEINT_MASK),b*=128,!(k&s.VARBYTEINT_FIN_MASK)){E=!0;break}if(this._list.length<=v)break}return!E&&v===f&&this._list.length>=v&&this._emitError(new Error("Invalid variable byte integer")),N&&(this._pos+=v),E?c?E={bytes:v,value:w}:E=w:E=!1,n("_parseVarByteNum: result: %o",E),E}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),n("_parseByte: result: %o",c),c}_parseByType(c){switch(n("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){n("_parseProperties");let c=this._parseVarByteNum(),f=this._pos+c,v={};for(;this._pos<f;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let w=s.propertiesCodes[b];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){v[w]||(v[w]=Object.create(null));let E=this._parseByType(s.propertiesTypes[w]);if(v[w][E.name])if(Array.isArray(v[w][E.name]))v[w][E.name].push(E.value);else{let k=v[w][E.name];v[w][E.name]=[k],v[w][E.name].push(E.value)}else v[w][E.name]=E.value;continue}v[w]?Array.isArray(v[w])?v[w].push(this._parseByType(s.propertiesTypes[w])):(v[w]=[v[w]],v[w].push(this._parseByType(s.propertiesTypes[w]))):v[w]=this._parseByType(s.propertiesTypes[w])}return v}_newPacket(){return n("_newPacket"),this.packet&&(this._list.consume(this.packet.length),n("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),n("_newPacket: new packet"),this.packet=new d,this._pos=0,!0}_emitError(c){n("_emitError",c),this.error=c,this.emit("error",c)}};o.exports=u}),mu=xt((t,o)=>{Mt(),Rt(),Bt();var{Buffer:e}=(Me(),se(Oe)),p=65536,d={},s=e.isBuffer(e.from([1,2]).subarray(0,1));function n(f){let v=e.allocUnsafe(2);return v.writeUInt8(f>>8,0),v.writeUInt8(f&255,1),v}function u(){for(let f=0;f<p;f++)d[f]=n(f)}function l(f){let v=0,b=0,w=e.allocUnsafe(4);do v=f%128|0,f=f/128|0,f>0&&(v=v|128),w.writeUInt8(v,b++);while(f>0&&b<4);return f>0&&(b=0),s?w.subarray(0,b):w.slice(0,b)}function c(f){let v=e.allocUnsafe(4);return v.writeUInt32BE(f,0),v}o.exports={cache:d,generateCache:u,generateNumber:n,genBufVariableByteInt:l,generate4ByteBuffer:c}}),yu=xt((t,o)=>{Mt(),Rt(),Bt(),typeof oe>"u"||!oe.version||oe.version.indexOf("v0.")===0||oe.version.indexOf("v1.")===0&&oe.version.indexOf("v1.8.")!==0?o.exports={nextTick:e}:o.exports=oe;function e(p,d,s,n){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,l,c;switch(u){case 0:case 1:return oe.nextTick(p);case 2:return oe.nextTick(function(){p.call(null,d)});case 3:return oe.nextTick(function(){p.call(null,d,s)});case 4:return oe.nextTick(function(){p.call(null,d,s,n)});default:for(l=new Array(u-1),c=0;c<l.length;)l[c++]=arguments[c];return oe.nextTick(function(){p.apply(null,l)})}}}),Na=xt((t,o)=>{Mt(),Rt(),Bt();var e=Wa(),{Buffer:p}=(Me(),se(Oe)),d=p.allocUnsafe(0),s=p.from([0]),n=mu(),u=yu().nextTick,l=dr()("mqtt-packet:writeToStream"),c=n.cache,f=n.generateNumber,v=n.generateCache,b=n.genBufVariableByteInt,w=n.generate4ByteBuffer,E=kt,k=!0;function N(C,O,st){switch(l("generate called"),O.cork&&(O.cork(),u(z,O)),k&&(k=!1,v()),l("generate: packet.cmd: %s",C.cmd),C.cmd){case"connect":return A(C,O);case"connack":return R(C,O,st);case"publish":return V(C,O,st);case"puback":case"pubrec":case"pubrel":case"pubcomp":return X(C,O,st);case"subscribe":return j(C,O,st);case"suback":return T(C,O,st);case"unsubscribe":return H(C,O,st);case"unsuback":return rt(C,O,st);case"pingreq":case"pingresp":return D(C,O);case"disconnect":return ct(C,O,st);case"auth":return x(C,O,st);default:return O.destroy(new Error("Unknown command")),!1}}Object.defineProperty(N,"cacheNumbers",{get(){return E===kt},set(C){C?((!c||Object.keys(c).length===0)&&(k=!0),E=kt):(k=!1,E=Y)}});function z(C){C.uncork()}function A(C,O,st){let mt=C||{},ht=mt.protocolId||"MQTT",ut=mt.protocolVersion||4,gt=mt.will,_t=mt.clean,F=mt.keepalive||0,K=mt.clientId||"",Z=mt.username,bt=mt.password,wt=mt.properties;_t===void 0&&(_t=!0);let J=0;if(!ht||typeof ht!="string"&&!p.isBuffer(ht))return O.destroy(new Error("Invalid protocolId")),!1;if(J+=ht.length+2,ut!==3&&ut!==4&&ut!==5)return O.destroy(new Error("Invalid protocol version")),!1;if(J+=1,(typeof K=="string"||p.isBuffer(K))&&(K||ut>=4)&&(K||_t))J+=p.byteLength(K)+2;else{if(ut<4)return O.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(_t*1===0)return O.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof F!="number"||F<0||F>65535||F%1!==0)return O.destroy(new Error("Invalid keepalive")),!1;J+=2,J+=1;let at,L;if(ut===5){if(at=et(O,wt),!at)return!1;J+=at.length}if(gt){if(typeof gt!="object")return O.destroy(new Error("Invalid will")),!1;if(!gt.topic||typeof gt.topic!="string")return O.destroy(new Error("Invalid will topic")),!1;if(J+=p.byteLength(gt.topic)+2,J+=2,gt.payload)if(gt.payload.length>=0)typeof gt.payload=="string"?J+=p.byteLength(gt.payload):J+=gt.payload.length;else return O.destroy(new Error("Invalid will payload")),!1;if(L={},ut===5){if(L=et(O,gt.properties),!L)return!1;J+=L.length}}let tt=!1;if(Z!=null)if(it(Z))tt=!0,J+=p.byteLength(Z)+2;else return O.destroy(new Error("Invalid username")),!1;if(bt!=null){if(!tt)return O.destroy(new Error("Username is required to use password")),!1;if(it(bt))J+=yt(bt)+2;else return O.destroy(new Error("Invalid password")),!1}O.write(e.CONNECT_HEADER),Tt(O,J),ft(O,ht),mt.bridgeMode&&(ut+=128),O.write(ut===131?e.VERSION131:ut===132?e.VERSION132:ut===4?e.VERSION4:ut===5?e.VERSION5:e.VERSION3);let ot=0;return ot|=Z!=null?e.USERNAME_MASK:0,ot|=bt!=null?e.PASSWORD_MASK:0,ot|=gt&&gt.retain?e.WILL_RETAIN_MASK:0,ot|=gt&&gt.qos?gt.qos<<e.WILL_QOS_SHIFT:0,ot|=gt?e.WILL_FLAG_MASK:0,ot|=_t?e.CLEAN_SESSION_MASK:0,O.write(p.from([ot])),E(O,F),ut===5&&at.write(),ft(O,K),gt&&(ut===5&&L.write(),lt(O,gt.topic),ft(O,gt.payload)),Z!=null&&ft(O,Z),bt!=null&&ft(O,bt),!0}function R(C,O,st){let mt=st?st.protocolVersion:4,ht=C||{},ut=mt===5?ht.reasonCode:ht.returnCode,gt=ht.properties,_t=2;if(typeof ut!="number")return O.destroy(new Error("Invalid return code")),!1;let F=null;if(mt===5){if(F=et(O,gt),!F)return!1;_t+=F.length}return O.write(e.CONNACK_HEADER),Tt(O,_t),O.write(ht.sessionPresent?e.SESSIONPRESENT_HEADER:s),O.write(p.from([ut])),F==null||F.write(),!0}function V(C,O,st){l("publish: packet: %o",C);let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.qos||0,gt=ht.retain?e.RETAIN_MASK:0,_t=ht.topic,F=ht.payload||d,K=ht.messageId,Z=ht.properties,bt=0;if(typeof _t=="string")bt+=p.byteLength(_t)+2;else if(p.isBuffer(_t))bt+=_t.length+2;else return O.destroy(new Error("Invalid topic")),!1;if(p.isBuffer(F)?bt+=F.length:bt+=p.byteLength(F),ut&&typeof K!="number")return O.destroy(new Error("Invalid messageId")),!1;ut&&(bt+=2);let wt=null;if(mt===5){if(wt=et(O,Z),!wt)return!1;bt+=wt.length}return O.write(e.PUBLISH_HEADER[ut][ht.dup?1:0][gt?1:0]),Tt(O,bt),E(O,yt(_t)),O.write(_t),ut>0&&E(O,K),wt==null||wt.write(),l("publish: payload: %o",F),O.write(F)}function X(C,O,st){let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.cmd||"puback",gt=ht.messageId,_t=ht.dup&&ut==="pubrel"?e.DUP_MASK:0,F=0,K=ht.reasonCode,Z=ht.properties,bt=mt===5?3:2;if(ut==="pubrel"&&(F=1),typeof gt!="number")return O.destroy(new Error("Invalid messageId")),!1;let wt=null;if(mt===5&&typeof Z=="object"){if(wt=_(O,Z,st,bt),!wt)return!1;bt+=wt.length}return O.write(e.ACKS[ut][F][_t][0]),bt===3&&(bt+=K!==0?1:-1),Tt(O,bt),E(O,gt),mt===5&&bt!==2&&O.write(p.from([K])),wt!==null?wt.write():bt===4&&O.write(p.from([0])),!0}function j(C,O,st){l("subscribe: packet: ");let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.dup?e.DUP_MASK:0,gt=ht.messageId,_t=ht.subscriptions,F=ht.properties,K=0;if(typeof gt!="number")return O.destroy(new Error("Invalid messageId")),!1;K+=2;let Z=null;if(mt===5){if(Z=et(O,F),!Z)return!1;K+=Z.length}if(typeof _t=="object"&&_t.length)for(let wt=0;wt<_t.length;wt+=1){let J=_t[wt].topic,at=_t[wt].qos;if(typeof J!="string")return O.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof at!="number")return O.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(mt===5){if(typeof(_t[wt].nl||!1)!="boolean")return O.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(_t[wt].rap||!1)!="boolean")return O.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let L=_t[wt].rh||0;if(typeof L!="number"||L>2)return O.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}K+=p.byteLength(J)+2+1}else return O.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",e.SUBSCRIBE_HEADER),O.write(e.SUBSCRIBE_HEADER[1][ut?1:0][0]),Tt(O,K),E(O,gt),Z!==null&&Z.write();let bt=!0;for(let wt of _t){let J=wt.topic,at=wt.qos,L=+wt.nl,tt=+wt.rap,ot=wt.rh,It;lt(O,J),It=e.SUBSCRIBE_OPTIONS_QOS[at],mt===5&&(It|=L?e.SUBSCRIBE_OPTIONS_NL:0,It|=tt?e.SUBSCRIBE_OPTIONS_RAP:0,It|=ot?e.SUBSCRIBE_OPTIONS_RH[ot]:0),bt=O.write(p.from([It]))}return bt}function T(C,O,st){let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.messageId,gt=ht.granted,_t=ht.properties,F=0;if(typeof ut!="number")return O.destroy(new Error("Invalid messageId")),!1;if(F+=2,typeof gt=="object"&&gt.length)for(let Z=0;Z<gt.length;Z+=1){if(typeof gt[Z]!="number")return O.destroy(new Error("Invalid qos vector")),!1;F+=1}else return O.destroy(new Error("Invalid qos vector")),!1;let K=null;if(mt===5){if(K=_(O,_t,st,F),!K)return!1;F+=K.length}return O.write(e.SUBACK_HEADER),Tt(O,F),E(O,ut),K!==null&&K.write(),O.write(p.from(gt))}function H(C,O,st){let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.messageId,gt=ht.dup?e.DUP_MASK:0,_t=ht.unsubscriptions,F=ht.properties,K=0;if(typeof ut!="number")return O.destroy(new Error("Invalid messageId")),!1;if(K+=2,typeof _t=="object"&&_t.length)for(let wt=0;wt<_t.length;wt+=1){if(typeof _t[wt]!="string")return O.destroy(new Error("Invalid unsubscriptions")),!1;K+=p.byteLength(_t[wt])+2}else return O.destroy(new Error("Invalid unsubscriptions")),!1;let Z=null;if(mt===5){if(Z=et(O,F),!Z)return!1;K+=Z.length}O.write(e.UNSUBSCRIBE_HEADER[1][gt?1:0][0]),Tt(O,K),E(O,ut),Z!==null&&Z.write();let bt=!0;for(let wt=0;wt<_t.length;wt++)bt=lt(O,_t[wt]);return bt}function rt(C,O,st){let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.messageId,gt=ht.dup?e.DUP_MASK:0,_t=ht.granted,F=ht.properties,K=ht.cmd,Z=0,bt=2;if(typeof ut!="number")return O.destroy(new Error("Invalid messageId")),!1;if(mt===5)if(typeof _t=="object"&&_t.length)for(let J=0;J<_t.length;J+=1){if(typeof _t[J]!="number")return O.destroy(new Error("Invalid qos vector")),!1;bt+=1}else return O.destroy(new Error("Invalid qos vector")),!1;let wt=null;if(mt===5){if(wt=_(O,F,st,bt),!wt)return!1;bt+=wt.length}return O.write(e.ACKS[K][Z][gt][0]),Tt(O,bt),E(O,ut),wt!==null&&wt.write(),mt===5&&O.write(p.from(_t)),!0}function D(C,O,st){return O.write(e.EMPTY[C.cmd])}function ct(C,O,st){let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.reasonCode,gt=ht.properties,_t=mt===5?1:0,F=null;if(mt===5){if(F=_(O,gt,st,_t),!F)return!1;_t+=F.length}return O.write(p.from([e.codes.disconnect<<4])),Tt(O,_t),mt===5&&O.write(p.from([ut])),F!==null&&F.write(),!0}function x(C,O,st){let mt=st?st.protocolVersion:4,ht=C||{},ut=ht.reasonCode,gt=ht.properties,_t=mt===5?1:0;mt!==5&&O.destroy(new Error("Invalid mqtt version for auth packet"));let F=_(O,gt,st,_t);return F?(_t+=F.length,O.write(p.from([e.codes.auth<<4])),Tt(O,_t),O.write(p.from([ut])),F!==null&&F.write(),!0):!1}var q={};function Tt(C,O){if(O>e.VARBYTEINT_MAX)return C.destroy(new Error(`Invalid variable byte integer: ${O}`)),!1;let st=q[O];return st||(st=b(O),O<16384&&(q[O]=st)),l("writeVarByteInt: writing to stream: %o",st),C.write(st)}function lt(C,O){let st=p.byteLength(O);return E(C,st),l("writeString: %s",O),C.write(O,"utf8")}function Ot(C,O,st){lt(C,O),lt(C,st)}function kt(C,O){return l("writeNumberCached: number: %d",O),l("writeNumberCached: %o",c[O]),C.write(c[O])}function Y(C,O){let st=f(O);return l("writeNumberGenerated: %o",st),C.write(st)}function pt(C,O){let st=w(O);return l("write4ByteNumber: %o",st),C.write(st)}function ft(C,O){typeof O=="string"?lt(C,O):O?(E(C,O.length),C.write(O)):E(C,0)}function et(C,O){if(typeof O!="object"||O.length!=null)return{length:1,write(){nt(C,{},0)}};let st=0;function mt(ht,ut){let gt=e.propertiesTypes[ht],_t=0;switch(gt){case"byte":{if(typeof ut!="boolean")return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=2;break}case"int8":{if(typeof ut!="number"||ut<0||ut>255)return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=2;break}case"binary":{if(ut&&ut===null)return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=1+p.byteLength(ut)+2;break}case"int16":{if(typeof ut!="number"||ut<0||ut>65535)return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=3;break}case"int32":{if(typeof ut!="number"||ut<0||ut>4294967295)return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=5;break}case"var":{if(typeof ut!="number"||ut<0||ut>268435455)return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=1+p.byteLength(b(ut));break}case"string":{if(typeof ut!="string")return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=3+p.byteLength(ut.toString());break}case"pair":{if(typeof ut!="object")return C.destroy(new Error(`Invalid ${ht}: ${ut}`)),!1;_t+=Object.getOwnPropertyNames(ut).reduce((F,K)=>{let Z=ut[K];return Array.isArray(Z)?F+=Z.reduce((bt,wt)=>(bt+=3+p.byteLength(K.toString())+2+p.byteLength(wt.toString()),bt),0):F+=3+p.byteLength(K.toString())+2+p.byteLength(ut[K].toString()),F},0);break}default:return C.destroy(new Error(`Invalid property ${ht}: ${ut}`)),!1}return _t}if(O)for(let ht in O){let ut=0,gt=0,_t=O[ht];if(Array.isArray(_t))for(let F=0;F<_t.length;F++){if(gt=mt(ht,_t[F]),!gt)return!1;ut+=gt}else{if(gt=mt(ht,_t),!gt)return!1;ut=gt}if(!ut)return!1;st+=ut}return{length:p.byteLength(b(st))+st,write(){nt(C,O,st)}}}function _(C,O,st,mt){let ht=["reasonString","userProperties"],ut=st&&st.properties&&st.properties.maximumPacketSize?st.properties.maximumPacketSize:0,gt=et(C,O);if(ut)for(;mt+gt.length>ut;){let _t=ht.shift();if(_t&&O[_t])delete O[_t],gt=et(C,O);else return!1}return gt}function Q(C,O,st){switch(e.propertiesTypes[O]){case"byte":{C.write(p.from([e.properties[O]])),C.write(p.from([+st]));break}case"int8":{C.write(p.from([e.properties[O]])),C.write(p.from([st]));break}case"binary":{C.write(p.from([e.properties[O]])),ft(C,st);break}case"int16":{C.write(p.from([e.properties[O]])),E(C,st);break}case"int32":{C.write(p.from([e.properties[O]])),pt(C,st);break}case"var":{C.write(p.from([e.properties[O]])),Tt(C,st);break}case"string":{C.write(p.from([e.properties[O]])),lt(C,st);break}case"pair":{Object.getOwnPropertyNames(st).forEach(mt=>{let ht=st[mt];Array.isArray(ht)?ht.forEach(ut=>{C.write(p.from([e.properties[O]])),Ot(C,mt.toString(),ut.toString())}):(C.write(p.from([e.properties[O]])),Ot(C,mt.toString(),ht.toString()))});break}default:return C.destroy(new Error(`Invalid property ${O} value: ${st}`)),!1}}function nt(C,O,st){Tt(C,st);for(let mt in O)if(Object.prototype.hasOwnProperty.call(O,mt)&&O[mt]!==null){let ht=O[mt];if(Array.isArray(ht))for(let ut=0;ut<ht.length;ut++)Q(C,mt,ht[ut]);else Q(C,mt,ht)}}function yt(C){return C?C instanceof p?C.length:p.byteLength(C):0}function it(C){return typeof C=="string"||C instanceof p}o.exports=N}),gu=xt((t,o)=>{Mt(),Rt(),Bt();var e=Na(),{EventEmitter:p}=(Xr(),se(Gr)),{Buffer:d}=(Me(),se(Oe));function s(u,l){let c=new n;return e(u,c,l),c.concat()}var n=class extends p{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0,l=new Array(this._array.length),c=this._array,f=0,v;for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?l[v]=c[v].length:l[v]=d.byteLength(c[v]),u+=l[v];let b=d.allocUnsafe(u);for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?(c[v].copy(b,f),f+=l[v]):(b.write(c[v],f),f+=l[v]);return b}destroy(u){u&&this.emit("error",u)}};o.exports=s}),vu=xt(t=>{Mt(),Rt(),Bt(),t.parser=fu().parser,t.generate=gu(),t.writeToStream=Na()}),ja=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};t.default=o}),bu=xt((t,o)=>{Mt(),Rt(),Bt(),o.exports=p;function e(s){return s instanceof Po?Po.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function p(s){if(s=s||{},s.circles)return d(s);return s.proto?l:u;function n(c,f){for(var v=Object.keys(c),b=new Array(v.length),w=0;w<v.length;w++){var E=v[w],k=c[E];typeof k!="object"||k===null?b[E]=k:k instanceof Date?b[E]=new Date(k):ArrayBuffer.isView(k)?b[E]=e(k):b[E]=f(k)}return b}function u(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return n(c,u);if(c instanceof Map)return new Map(n(Array.from(c),u));if(c instanceof Set)return new Set(n(Array.from(c),u));var f={};for(var v in c)if(Object.hasOwnProperty.call(c,v)!==!1){var b=c[v];typeof b!="object"||b===null?f[v]=b:b instanceof Date?f[v]=new Date(b):b instanceof Map?f[v]=new Map(n(Array.from(b),u)):b instanceof Set?f[v]=new Set(n(Array.from(b),u)):ArrayBuffer.isView(b)?f[v]=e(b):f[v]=u(b)}return f}function l(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return n(c,l);if(c instanceof Map)return new Map(n(Array.from(c),l));if(c instanceof Set)return new Set(n(Array.from(c),l));var f={};for(var v in c){var b=c[v];typeof b!="object"||b===null?f[v]=b:b instanceof Date?f[v]=new Date(b):b instanceof Map?f[v]=new Map(n(Array.from(b),l)):b instanceof Set?f[v]=new Set(n(Array.from(b),l)):ArrayBuffer.isView(b)?f[v]=e(b):f[v]=l(b)}return f}}function d(s){var n=[],u=[];return s.proto?f:c;function l(v,b){for(var w=Object.keys(v),E=new Array(w.length),k=0;k<w.length;k++){var N=w[k],z=v[N];if(typeof z!="object"||z===null)E[N]=z;else if(z instanceof Date)E[N]=new Date(z);else if(ArrayBuffer.isView(z))E[N]=e(z);else{var A=n.indexOf(z);A!==-1?E[N]=u[A]:E[N]=b(z)}}return E}function c(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,c);if(v instanceof Map)return new Map(l(Array.from(v),c));if(v instanceof Set)return new Set(l(Array.from(v),c));var b={};n.push(v),u.push(b);for(var w in v)if(Object.hasOwnProperty.call(v,w)!==!1){var E=v[w];if(typeof E!="object"||E===null)b[w]=E;else if(E instanceof Date)b[w]=new Date(E);else if(E instanceof Map)b[w]=new Map(l(Array.from(E),c));else if(E instanceof Set)b[w]=new Set(l(Array.from(E),c));else if(ArrayBuffer.isView(E))b[w]=e(E);else{var k=n.indexOf(E);k!==-1?b[w]=u[k]:b[w]=c(E)}}return n.pop(),u.pop(),b}function f(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,f);if(v instanceof Map)return new Map(l(Array.from(v),f));if(v instanceof Set)return new Set(l(Array.from(v),f));var b={};n.push(v),u.push(b);for(var w in v){var E=v[w];if(typeof E!="object"||E===null)b[w]=E;else if(E instanceof Date)b[w]=new Date(E);else if(E instanceof Map)b[w]=new Map(l(Array.from(E),f));else if(E instanceof Set)b[w]=new Set(l(Array.from(E),f));else if(ArrayBuffer.isView(E))b[w]=e(E);else{var k=n.indexOf(E);k!==-1?b[w]=u[k]:b[w]=f(E)}}return n.pop(),u.pop(),b}}}),wu=xt((t,o)=>{Mt(),Rt(),Bt(),o.exports=bu()()}),Eu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopics=t.validateTopic=void 0;function o(p){let d=p.split("/");for(let s=0;s<d.length;s++)if(d[s]!=="+"){if(d[s]==="#")return s===d.length-1;if(d[s].indexOf("+")!==-1||d[s].indexOf("#")!==-1)return!1}return!0}t.validateTopic=o;function e(p){if(p.length===0)return"empty_topic_list";for(let d=0;d<p.length;d++)if(!o(p[d]))return p[d];return null}t.validateTopics=e}),Da=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=Hr(),e={objectMode:!0},p={clean:!0},d=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},p),s),this._inflights=new Map}put(s,n){return this._inflights.set(s.messageId,s),n&&n(),this}createStream(){let s=new o.Readable(e),n=[],u=!1,l=0;return this._inflights.forEach((c,f)=>{n.push(c)}),s._read=()=>{!u&&l<n.length?s.push(n[l++]):s.push(null)},s.destroy=c=>{if(!u)return u=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,n){let u=this._inflights.get(s.messageId);return u?(this._inflights.delete(s.messageId),n(null,u)):n&&n(new Error("missing packet")),this}get(s,n){let u=this._inflights.get(s.messageId);return u?n(null,u):n&&n(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};t.default=d}),_u=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=[0,16,128,131,135,144,145,151,153],e=(p,d,s)=>{p.log("handlePublish: packet %o",d),s=typeof s<"u"?s:p.noop;let n=d.topic.toString(),u=d.payload,{qos:l}=d,{messageId:c}=d,{options:f}=p;if(p.options.protocolVersion===5){let v;if(d.properties&&(v=d.properties.topicAlias),typeof v<"u")if(n.length===0)if(v>0&&v<=65535){let b=p.topicAliasRecv.getTopicByAlias(v);if(b)n=b,p.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",n,v);else{p.log("handlePublish :: unregistered topic alias. alias: %d",v),p.emit("error",new Error("Received unregistered Topic Alias"));return}}else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}else if(p.topicAliasRecv.put(n,v))p.log("handlePublish :: registered topic: %s - alias: %d",n,v);else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(p.log("handlePublish: qos %d",l),l){case 2:{f.customHandleAcks(n,u,d,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for pubrec"));b?p._sendPacket({cmd:"pubrec",messageId:c,reasonCode:b},s):p.incomingStore.put(d,()=>{p._sendPacket({cmd:"pubrec",messageId:c},s)})});break}case 1:{f.customHandleAcks(n,u,d,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for puback"));b||p.emit("message",n,u,d),p.handleMessage(d,w=>{if(w)return s&&s(w);p._sendPacket({cmd:"puback",messageId:c,reasonCode:b},s)})});break}case 0:p.emit("message",n,u,d),p.handleMessage(d,s);break;default:p.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=e}),Su=xt((t,o)=>{o.exports={version:"5.10.3"}}),to=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.applyMixin=t.ErrorWithReasonCode=void 0;var o=class La extends Error{constructor(d,s){super(d),this.code=s,Object.setPrototypeOf(this,La.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=o;function e(p,d,s=!1){var n;let u=[d];for(;;){let l=u[0],c=Object.getPrototypeOf(l);if(c!=null&&c.prototype)u.unshift(c);else break}for(let l of u)for(let c of Object.getOwnPropertyNames(l.prototype))(s||c!=="constructor")&&Object.defineProperty(p.prototype,c,(n=Object.getOwnPropertyDescriptor(l.prototype,c))!==null&&n!==void 0?n:Object.create(null))}t.applyMixin=e,t.nextTick=typeof(oe==null?void 0:oe.nextTick)=="function"?oe.nextTick:p=>{setTimeout(p,0)},t.MQTTJS_VERSION=Su().version}),$o=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var o=to();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(p,d)=>{let{messageId:s}=d,n=d.cmd,u=null,l=p.outgoing[s]?p.outgoing[s].cb:null,c=null;if(!l){p.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(p.log("_handleAck :: packet type",n),n){case"pubcomp":case"puback":{let f=d.reasonCode;f&&f>0&&f!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[f]}`,f),p._removeOutgoingAndStoreMessage(s,()=>{l(c,d)})):p._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{u={cmd:"pubrel",qos:2,messageId:s};let f=d.reasonCode;f&&f>0&&f!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[f]}`,f),p._removeOutgoingAndStoreMessage(s,()=>{l(c,d)})):p._sendPacket(u);break}case"suback":{delete p.outgoing[s],p.messageIdProvider.deallocate(s);let f=d.granted;for(let v=0;v<f.length;v++){let b=f[v];if(b&128){c=new Error(`Subscribe error: ${t.ReasonCodes[b]}`),c.code=b;let w=p.messageIdToTopic[s];w&&w.forEach(E=>{delete p._resubscribeTopics[E]})}}delete p.messageIdToTopic[s],p._invokeStoreProcessingQueue(),l(c,d);break}case"unsuback":{delete p.outgoing[s],p.messageIdProvider.deallocate(s),p._invokeStoreProcessingQueue(),l(null,d);break}default:p.emit("error",new Error("unrecognized packet type"))}p.disconnecting&&Object.keys(p.outgoing).length===0&&p.emit("outgoingEmpty")};t.default=e}),Tu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=to(),e=$o(),p=(d,s)=>{let{options:n}=d,u=n.protocolVersion,l=u===5?s.reasonCode:s.returnCode;if(u!==5){let c=new o.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${u}`,l);d.emit("error",c);return}d.handleAuth(s,(c,f)=>{if(c){d.emit("error",c);return}if(l===24)d.reconnecting=!1,d._sendPacket(f);else{let v=new o.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[l]}`,l);d.emit("error",v)}})};t.default=p}),Iu=xt(t=>{var w,E,k,N,z,A,R,V,X,j,T,H,rt,D,ct,x,q,Tt,lt,Ot,kt,Y,pt,ft,et,_,kn,nt,yt,it,C,Ua,st,mt,ht,br,wr,On,Oo,Mo,ae,Mn,ao,J;Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var o=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,p=typeof oe=="object"&&oe?oe:{},d=(at,L,tt,ot)=>{typeof p.emitWarning=="function"?p.emitWarning(at,L,tt,ot):console.error(`[${tt}] ${L}: ${at}`)},s=globalThis.AbortController,n=globalThis.AbortSignal;if(typeof s>"u"){n=class{constructor(){de(this,"onabort");de(this,"_onabort",[]);de(this,"reason");de(this,"aborted",!1)}addEventListener(tt,ot){this._onabort.push(ot)}},s=class{constructor(){de(this,"signal",new n);L()}abort(tt){var ot,It;if(!this.signal.aborted){this.signal.reason=tt,this.signal.aborted=!0;for(let m of this.signal._onabort)m(tt);(It=(ot=this.signal).onabort)==null||It.call(ot,tt)}}};let at=((w=p.env)==null?void 0:w.LRU_CACHE_IGNORE_AC_WARNING)!=="1",L=()=>{at&&(at=!1,d("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",L))}}var u=at=>!e.has(at),l=at=>at&&at===Math.floor(at)&&at>0&&isFinite(at),c=at=>l(at)?at<=Math.pow(2,8)?Uint8Array:at<=Math.pow(2,16)?Uint16Array:at<=Math.pow(2,32)?Uint32Array:at<=Number.MAX_SAFE_INTEGER?f:null:null,f=class extends Array{constructor(at){super(at),this.fill(0)}},v=(E=class{constructor(L,tt){de(this,"heap");de(this,"length");if(!G(E,k))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new tt(L),this.length=0}static create(L){let tt=c(L);if(!tt)return[];Jt(E,k,!0);let ot=new E(L,tt);return Jt(E,k,!1),ot}push(L){this.heap[this.length++]=L}pop(){return this.heap[--this.length]}},k=new WeakMap,re(E,k,!1),E),b=(J=class{constructor(L){re(this,_);re(this,N);re(this,z);re(this,A);re(this,R);re(this,V);de(this,"ttl");de(this,"ttlResolution");de(this,"ttlAutopurge");de(this,"updateAgeOnGet");de(this,"updateAgeOnHas");de(this,"allowStale");de(this,"noDisposeOnSet");de(this,"noUpdateTTL");de(this,"maxEntrySize");de(this,"sizeCalculation");de(this,"noDeleteOnFetchRejection");de(this,"noDeleteOnStaleGet");de(this,"allowStaleOnFetchAbort");de(this,"allowStaleOnFetchRejection");de(this,"ignoreFetchAbort");re(this,X);re(this,j);re(this,T);re(this,H);re(this,rt);re(this,D);re(this,ct);re(this,x);re(this,q);re(this,Tt);re(this,lt);re(this,Ot);re(this,kt);re(this,Y);re(this,pt);re(this,ft);re(this,et);re(this,nt,()=>{});re(this,yt,()=>{});re(this,it,()=>{});re(this,C,()=>!1);re(this,st,L=>{});re(this,mt,(L,tt,ot)=>{});re(this,ht,(L,tt,ot,It)=>{if(ot||It)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:tt=0,ttl:ot,ttlResolution:It=1,ttlAutopurge:m,updateAgeOnGet:h,updateAgeOnHas:g,allowStale:B,dispose:U,disposeAfter:M,noDisposeOnSet:St,noUpdateTTL:Ut,maxSize:W=0,maxEntrySize:Gt=0,sizeCalculation:Lt,fetchMethod:jt,noDeleteOnFetchRejection:zt,noDeleteOnStaleGet:te,allowStaleOnFetchRejection:Ct,allowStaleOnFetchAbort:Xt,ignoreFetchAbort:ee}=L;if(tt!==0&&!l(tt))throw new TypeError("max option must be a nonnegative integer");let Et=tt?c(tt):Array;if(!Et)throw new Error("invalid max value: "+tt);if(Jt(this,N,tt),Jt(this,z,W),this.maxEntrySize=Gt||G(this,z),this.sizeCalculation=Lt,this.sizeCalculation){if(!G(this,z)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(jt!==void 0&&typeof jt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Jt(this,V,jt),Jt(this,ft,!!jt),Jt(this,T,new Map),Jt(this,H,new Array(tt).fill(void 0)),Jt(this,rt,new Array(tt).fill(void 0)),Jt(this,D,new Et(tt)),Jt(this,ct,new Et(tt)),Jt(this,x,0),Jt(this,q,0),Jt(this,Tt,v.create(tt)),Jt(this,X,0),Jt(this,j,0),typeof U=="function"&&Jt(this,A,U),typeof M=="function"?(Jt(this,R,M),Jt(this,lt,[])):(Jt(this,R,void 0),Jt(this,lt,void 0)),Jt(this,pt,!!G(this,A)),Jt(this,et,!!G(this,R)),this.noDisposeOnSet=!!St,this.noUpdateTTL=!!Ut,this.noDeleteOnFetchRejection=!!zt,this.allowStaleOnFetchRejection=!!Ct,this.allowStaleOnFetchAbort=!!Xt,this.ignoreFetchAbort=!!ee,this.maxEntrySize!==0){if(G(this,z)!==0&&!l(G(this,z)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Vt(this,_,Ua).call(this)}if(this.allowStale=!!B,this.noDeleteOnStaleGet=!!te,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!g,this.ttlResolution=l(It)||It===0?It:1,this.ttlAutopurge=!!m,this.ttl=ot||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Vt(this,_,kn).call(this)}if(G(this,N)===0&&this.ttl===0&&G(this,z)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!G(this,N)&&!G(this,z)){let Wt="LRU_CACHE_UNBOUNDED";u(Wt)&&(e.add(Wt),d("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Wt,J))}}static unsafeExposeInternals(L){return{starts:G(L,kt),ttls:G(L,Y),sizes:G(L,Ot),keyMap:G(L,T),keyList:G(L,H),valList:G(L,rt),next:G(L,D),prev:G(L,ct),get head(){return G(L,x)},get tail(){return G(L,q)},free:G(L,Tt),isBackgroundFetch:tt=>{var ot;return Vt(ot=L,_,ae).call(ot,tt)},backgroundFetch:(tt,ot,It,m)=>{var h;return Vt(h=L,_,Mo).call(h,tt,ot,It,m)},moveToTail:tt=>{var ot;return Vt(ot=L,_,ao).call(ot,tt)},indexes:tt=>{var ot;return Vt(ot=L,_,br).call(ot,tt)},rindexes:tt=>{var ot;return Vt(ot=L,_,wr).call(ot,tt)},isStale:tt=>{var ot;return G(ot=L,C).call(ot,tt)}}}get max(){return G(this,N)}get maxSize(){return G(this,z)}get calculatedSize(){return G(this,j)}get size(){return G(this,X)}get fetchMethod(){return G(this,V)}get dispose(){return G(this,A)}get disposeAfter(){return G(this,R)}getRemainingTTL(L){return G(this,T).has(L)?1/0:0}*entries(){for(let L of Vt(this,_,br).call(this))G(this,rt)[L]!==void 0&&G(this,H)[L]!==void 0&&!Vt(this,_,ae).call(this,G(this,rt)[L])&&(yield[G(this,H)[L],G(this,rt)[L]])}*rentries(){for(let L of Vt(this,_,wr).call(this))G(this,rt)[L]!==void 0&&G(this,H)[L]!==void 0&&!Vt(this,_,ae).call(this,G(this,rt)[L])&&(yield[G(this,H)[L],G(this,rt)[L]])}*keys(){for(let L of Vt(this,_,br).call(this)){let tt=G(this,H)[L];tt!==void 0&&!Vt(this,_,ae).call(this,G(this,rt)[L])&&(yield tt)}}*rkeys(){for(let L of Vt(this,_,wr).call(this)){let tt=G(this,H)[L];tt!==void 0&&!Vt(this,_,ae).call(this,G(this,rt)[L])&&(yield tt)}}*values(){for(let L of Vt(this,_,br).call(this))G(this,rt)[L]!==void 0&&!Vt(this,_,ae).call(this,G(this,rt)[L])&&(yield G(this,rt)[L])}*rvalues(){for(let L of Vt(this,_,wr).call(this))G(this,rt)[L]!==void 0&&!Vt(this,_,ae).call(this,G(this,rt)[L])&&(yield G(this,rt)[L])}[Symbol.iterator](){return this.entries()}find(L,tt={}){for(let ot of Vt(this,_,br).call(this)){let It=G(this,rt)[ot],m=Vt(this,_,ae).call(this,It)?It.__staleWhileFetching:It;if(m!==void 0&&L(m,G(this,H)[ot],this))return this.get(G(this,H)[ot],tt)}}forEach(L,tt=this){for(let ot of Vt(this,_,br).call(this)){let It=G(this,rt)[ot],m=Vt(this,_,ae).call(this,It)?It.__staleWhileFetching:It;m!==void 0&&L.call(tt,m,G(this,H)[ot],this)}}rforEach(L,tt=this){for(let ot of Vt(this,_,wr).call(this)){let It=G(this,rt)[ot],m=Vt(this,_,ae).call(this,It)?It.__staleWhileFetching:It;m!==void 0&&L.call(tt,m,G(this,H)[ot],this)}}purgeStale(){let L=!1;for(let tt of Vt(this,_,wr).call(this,{allowStale:!0}))G(this,C).call(this,tt)&&(this.delete(G(this,H)[tt]),L=!0);return L}dump(){let L=[];for(let tt of Vt(this,_,br).call(this,{allowStale:!0})){let ot=G(this,H)[tt],It=G(this,rt)[tt],m=Vt(this,_,ae).call(this,It)?It.__staleWhileFetching:It;if(m===void 0||ot===void 0)continue;let h={value:m};if(G(this,Y)&&G(this,kt)){h.ttl=G(this,Y)[tt];let g=o.now()-G(this,kt)[tt];h.start=Math.floor(Date.now()-g)}G(this,Ot)&&(h.size=G(this,Ot)[tt]),L.unshift([ot,h])}return L}load(L){this.clear();for(let[tt,ot]of L){if(ot.start){let It=Date.now()-ot.start;ot.start=o.now()-It}this.set(tt,ot.value,ot)}}set(L,tt,ot={}){var Ut,W,Gt,Lt,jt;if(tt===void 0)return this.delete(L),this;let{ttl:It=this.ttl,start:m,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:g=this.sizeCalculation,status:B}=ot,{noUpdateTTL:U=this.noUpdateTTL}=ot,M=G(this,ht).call(this,L,tt,ot.size||0,g);if(this.maxEntrySize&&M>this.maxEntrySize)return B&&(B.set="miss",B.maxEntrySizeExceeded=!0),this.delete(L),this;let St=G(this,X)===0?void 0:G(this,T).get(L);if(St===void 0)St=G(this,X)===0?G(this,q):G(this,Tt).length!==0?G(this,Tt).pop():G(this,X)===G(this,N)?Vt(this,_,Oo).call(this,!1):G(this,X),G(this,H)[St]=L,G(this,rt)[St]=tt,G(this,T).set(L,St),G(this,D)[G(this,q)]=St,G(this,ct)[St]=G(this,q),Jt(this,q,St),ho(this,X)._++,G(this,mt).call(this,St,M,B),B&&(B.set="add"),U=!1;else{Vt(this,_,ao).call(this,St);let zt=G(this,rt)[St];if(tt!==zt){if(G(this,ft)&&Vt(this,_,ae).call(this,zt)){zt.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:te}=zt;te!==void 0&&!h&&(G(this,pt)&&((Ut=G(this,A))==null||Ut.call(this,te,L,"set")),G(this,et)&&((W=G(this,lt))==null||W.push([te,L,"set"])))}else h||(G(this,pt)&&((Gt=G(this,A))==null||Gt.call(this,zt,L,"set")),G(this,et)&&((Lt=G(this,lt))==null||Lt.push([zt,L,"set"])));if(G(this,st).call(this,St),G(this,mt).call(this,St,M,B),G(this,rt)[St]=tt,B){B.set="replace";let te=zt&&Vt(this,_,ae).call(this,zt)?zt.__staleWhileFetching:zt;te!==void 0&&(B.oldValue=te)}}else B&&(B.set="update")}if(It!==0&&!G(this,Y)&&Vt(this,_,kn).call(this),G(this,Y)&&(U||G(this,it).call(this,St,It,m),B&&G(this,yt).call(this,B,St)),!h&&G(this,et)&&G(this,lt)){let zt=G(this,lt),te;for(;te=zt==null?void 0:zt.shift();)(jt=G(this,R))==null||jt.call(this,...te)}return this}pop(){var L;try{for(;G(this,X);){let tt=G(this,rt)[G(this,x)];if(Vt(this,_,Oo).call(this,!0),Vt(this,_,ae).call(this,tt)){if(tt.__staleWhileFetching)return tt.__staleWhileFetching}else if(tt!==void 0)return tt}}finally{if(G(this,et)&&G(this,lt)){let tt=G(this,lt),ot;for(;ot=tt==null?void 0:tt.shift();)(L=G(this,R))==null||L.call(this,...ot)}}}has(L,tt={}){let{updateAgeOnHas:ot=this.updateAgeOnHas,status:It}=tt,m=G(this,T).get(L);if(m!==void 0){let h=G(this,rt)[m];if(Vt(this,_,ae).call(this,h)&&h.__staleWhileFetching===void 0)return!1;if(G(this,C).call(this,m))It&&(It.has="stale",G(this,yt).call(this,It,m));else return ot&&G(this,nt).call(this,m),It&&(It.has="hit",G(this,yt).call(this,It,m)),!0}else It&&(It.has="miss");return!1}peek(L,tt={}){let{allowStale:ot=this.allowStale}=tt,It=G(this,T).get(L);if(It!==void 0&&(ot||!G(this,C).call(this,It))){let m=G(this,rt)[It];return Vt(this,_,ae).call(this,m)?m.__staleWhileFetching:m}}async fetch(L,tt={}){let{allowStale:ot=this.allowStale,updateAgeOnGet:It=this.updateAgeOnGet,noDeleteOnStaleGet:m=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:g=this.noDisposeOnSet,size:B=0,sizeCalculation:U=this.sizeCalculation,noUpdateTTL:M=this.noUpdateTTL,noDeleteOnFetchRejection:St=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ut=this.allowStaleOnFetchRejection,ignoreFetchAbort:W=this.ignoreFetchAbort,allowStaleOnFetchAbort:Gt=this.allowStaleOnFetchAbort,context:Lt,forceRefresh:jt=!1,status:zt,signal:te}=tt;if(!G(this,ft))return zt&&(zt.fetch="get"),this.get(L,{allowStale:ot,updateAgeOnGet:It,noDeleteOnStaleGet:m,status:zt});let Ct={allowStale:ot,updateAgeOnGet:It,noDeleteOnStaleGet:m,ttl:h,noDisposeOnSet:g,size:B,sizeCalculation:U,noUpdateTTL:M,noDeleteOnFetchRejection:St,allowStaleOnFetchRejection:Ut,allowStaleOnFetchAbort:Gt,ignoreFetchAbort:W,status:zt,signal:te},Xt=G(this,T).get(L);if(Xt===void 0){zt&&(zt.fetch="miss");let ee=Vt(this,_,Mo).call(this,L,Xt,Ct,Lt);return ee.__returned=ee}else{let ee=G(this,rt)[Xt];if(Vt(this,_,ae).call(this,ee)){let Dt=ot&&ee.__staleWhileFetching!==void 0;return zt&&(zt.fetch="inflight",Dt&&(zt.returnedStale=!0)),Dt?ee.__staleWhileFetching:ee.__returned=ee}let Et=G(this,C).call(this,Xt);if(!jt&&!Et)return zt&&(zt.fetch="hit"),Vt(this,_,ao).call(this,Xt),It&&G(this,nt).call(this,Xt),zt&&G(this,yt).call(this,zt,Xt),ee;let Wt=Vt(this,_,Mo).call(this,L,Xt,Ct,Lt),Ft=Wt.__staleWhileFetching!==void 0&&ot;return zt&&(zt.fetch=Et?"stale":"refresh",Ft&&Et&&(zt.returnedStale=!0)),Ft?Wt.__staleWhileFetching:Wt.__returned=Wt}}get(L,tt={}){let{allowStale:ot=this.allowStale,updateAgeOnGet:It=this.updateAgeOnGet,noDeleteOnStaleGet:m=this.noDeleteOnStaleGet,status:h}=tt,g=G(this,T).get(L);if(g!==void 0){let B=G(this,rt)[g],U=Vt(this,_,ae).call(this,B);return h&&G(this,yt).call(this,h,g),G(this,C).call(this,g)?(h&&(h.get="stale"),U?(h&&ot&&B.__staleWhileFetching!==void 0&&(h.returnedStale=!0),ot?B.__staleWhileFetching:void 0):(m||this.delete(L),h&&ot&&(h.returnedStale=!0),ot?B:void 0)):(h&&(h.get="hit"),U?B.__staleWhileFetching:(Vt(this,_,ao).call(this,g),It&&G(this,nt).call(this,g),B))}else h&&(h.get="miss")}delete(L){var ot,It,m,h;let tt=!1;if(G(this,X)!==0){let g=G(this,T).get(L);if(g!==void 0)if(tt=!0,G(this,X)===1)this.clear();else{G(this,st).call(this,g);let B=G(this,rt)[g];Vt(this,_,ae).call(this,B)?B.__abortController.abort(new Error("deleted")):(G(this,pt)||G(this,et))&&(G(this,pt)&&((ot=G(this,A))==null||ot.call(this,B,L,"delete")),G(this,et)&&((It=G(this,lt))==null||It.push([B,L,"delete"]))),G(this,T).delete(L),G(this,H)[g]=void 0,G(this,rt)[g]=void 0,g===G(this,q)?Jt(this,q,G(this,ct)[g]):g===G(this,x)?Jt(this,x,G(this,D)[g]):(G(this,D)[G(this,ct)[g]]=G(this,D)[g],G(this,ct)[G(this,D)[g]]=G(this,ct)[g]),ho(this,X)._--,G(this,Tt).push(g)}}if(G(this,et)&&((m=G(this,lt))!=null&&m.length)){let g=G(this,lt),B;for(;B=g==null?void 0:g.shift();)(h=G(this,R))==null||h.call(this,...B)}return tt}clear(){var L,tt,ot;for(let It of Vt(this,_,wr).call(this,{allowStale:!0})){let m=G(this,rt)[It];if(Vt(this,_,ae).call(this,m))m.__abortController.abort(new Error("deleted"));else{let h=G(this,H)[It];G(this,pt)&&((L=G(this,A))==null||L.call(this,m,h,"delete")),G(this,et)&&((tt=G(this,lt))==null||tt.push([m,h,"delete"]))}}if(G(this,T).clear(),G(this,rt).fill(void 0),G(this,H).fill(void 0),G(this,Y)&&G(this,kt)&&(G(this,Y).fill(0),G(this,kt).fill(0)),G(this,Ot)&&G(this,Ot).fill(0),Jt(this,x,0),Jt(this,q,0),G(this,Tt).length=0,Jt(this,j,0),Jt(this,X,0),G(this,et)&&G(this,lt)){let It=G(this,lt),m;for(;m=It==null?void 0:It.shift();)(ot=G(this,R))==null||ot.call(this,...m)}}},N=new WeakMap,z=new WeakMap,A=new WeakMap,R=new WeakMap,V=new WeakMap,X=new WeakMap,j=new WeakMap,T=new WeakMap,H=new WeakMap,rt=new WeakMap,D=new WeakMap,ct=new WeakMap,x=new WeakMap,q=new WeakMap,Tt=new WeakMap,lt=new WeakMap,Ot=new WeakMap,kt=new WeakMap,Y=new WeakMap,pt=new WeakMap,ft=new WeakMap,et=new WeakMap,_=new WeakSet,kn=function(){let L=new f(G(this,N)),tt=new f(G(this,N));Jt(this,Y,L),Jt(this,kt,tt),Jt(this,it,(m,h,g=o.now())=>{if(tt[m]=h!==0?g:0,L[m]=h,h!==0&&this.ttlAutopurge){let B=setTimeout(()=>{G(this,C).call(this,m)&&this.delete(G(this,H)[m])},h+1);B.unref&&B.unref()}}),Jt(this,nt,m=>{tt[m]=L[m]!==0?o.now():0}),Jt(this,yt,(m,h)=>{if(L[h]){let g=L[h],B=tt[h];m.ttl=g,m.start=B,m.now=ot||It();let U=m.now-B;m.remainingTTL=g-U}});let ot=0,It=()=>{let m=o.now();if(this.ttlResolution>0){ot=m;let h=setTimeout(()=>ot=0,this.ttlResolution);h.unref&&h.unref()}return m};this.getRemainingTTL=m=>{let h=G(this,T).get(m);if(h===void 0)return 0;let g=L[h],B=tt[h];if(g===0||B===0)return 1/0;let U=(ot||It())-B;return g-U},Jt(this,C,m=>L[m]!==0&&tt[m]!==0&&(ot||It())-tt[m]>L[m])},nt=new WeakMap,yt=new WeakMap,it=new WeakMap,C=new WeakMap,Ua=function(){let L=new f(G(this,N));Jt(this,j,0),Jt(this,Ot,L),Jt(this,st,tt=>{Jt(this,j,G(this,j)-L[tt]),L[tt]=0}),Jt(this,ht,(tt,ot,It,m)=>{if(Vt(this,_,ae).call(this,ot))return 0;if(!l(It))if(m){if(typeof m!="function")throw new TypeError("sizeCalculation must be a function");if(It=m(ot,tt),!l(It))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return It}),Jt(this,mt,(tt,ot,It)=>{if(L[tt]=ot,G(this,z)){let m=G(this,z)-L[tt];for(;G(this,j)>m;)Vt(this,_,Oo).call(this,!0)}Jt(this,j,G(this,j)+L[tt]),It&&(It.entrySize=ot,It.totalCalculatedSize=G(this,j))})},st=new WeakMap,mt=new WeakMap,ht=new WeakMap,br=function*({allowStale:L=this.allowStale}={}){if(G(this,X))for(let tt=G(this,q);!(!Vt(this,_,On).call(this,tt)||((L||!G(this,C).call(this,tt))&&(yield tt),tt===G(this,x)));)tt=G(this,ct)[tt]},wr=function*({allowStale:L=this.allowStale}={}){if(G(this,X))for(let tt=G(this,x);!(!Vt(this,_,On).call(this,tt)||((L||!G(this,C).call(this,tt))&&(yield tt),tt===G(this,q)));)tt=G(this,D)[tt]},On=function(L){return L!==void 0&&G(this,T).get(G(this,H)[L])===L},Oo=function(L){var m,h;let tt=G(this,x),ot=G(this,H)[tt],It=G(this,rt)[tt];return G(this,ft)&&Vt(this,_,ae).call(this,It)?It.__abortController.abort(new Error("evicted")):(G(this,pt)||G(this,et))&&(G(this,pt)&&((m=G(this,A))==null||m.call(this,It,ot,"evict")),G(this,et)&&((h=G(this,lt))==null||h.push([It,ot,"evict"]))),G(this,st).call(this,tt),L&&(G(this,H)[tt]=void 0,G(this,rt)[tt]=void 0,G(this,Tt).push(tt)),G(this,X)===1?(Jt(this,x,Jt(this,q,0)),G(this,Tt).length=0):Jt(this,x,G(this,D)[tt]),G(this,T).delete(ot),ho(this,X)._--,tt},Mo=function(L,tt,ot,It){let m=tt===void 0?void 0:G(this,rt)[tt];if(Vt(this,_,ae).call(this,m))return m;let h=new s,{signal:g}=ot;g==null||g.addEventListener("abort",()=>h.abort(g.reason),{signal:h.signal});let B={signal:h.signal,options:ot,context:It},U=(Lt,jt=!1)=>{let{aborted:zt}=h.signal,te=ot.ignoreFetchAbort&&Lt!==void 0;if(ot.status&&(zt&&!jt?(ot.status.fetchAborted=!0,ot.status.fetchError=h.signal.reason,te&&(ot.status.fetchAbortIgnored=!0)):ot.status.fetchResolved=!0),zt&&!te&&!jt)return St(h.signal.reason);let Ct=W;return G(this,rt)[tt]===W&&(Lt===void 0?Ct.__staleWhileFetching?G(this,rt)[tt]=Ct.__staleWhileFetching:this.delete(L):(ot.status&&(ot.status.fetchUpdated=!0),this.set(L,Lt,B.options))),Lt},M=Lt=>(ot.status&&(ot.status.fetchRejected=!0,ot.status.fetchError=Lt),St(Lt)),St=Lt=>{let{aborted:jt}=h.signal,zt=jt&&ot.allowStaleOnFetchAbort,te=zt||ot.allowStaleOnFetchRejection,Ct=te||ot.noDeleteOnFetchRejection,Xt=W;if(G(this,rt)[tt]===W&&(!Ct||Xt.__staleWhileFetching===void 0?this.delete(L):zt||(G(this,rt)[tt]=Xt.__staleWhileFetching)),te)return ot.status&&Xt.__staleWhileFetching!==void 0&&(ot.status.returnedStale=!0),Xt.__staleWhileFetching;if(Xt.__returned===Xt)throw Lt},Ut=(Lt,jt)=>{var te;let zt=(te=G(this,V))==null?void 0:te.call(this,L,m,B);zt&&zt instanceof Promise&&zt.then(Ct=>Lt(Ct===void 0?void 0:Ct),jt),h.signal.addEventListener("abort",()=>{(!ot.ignoreFetchAbort||ot.allowStaleOnFetchAbort)&&(Lt(void 0),ot.allowStaleOnFetchAbort&&(Lt=Ct=>U(Ct,!0)))})};ot.status&&(ot.status.fetchDispatched=!0);let W=new Promise(Ut).then(U,M),Gt=Object.assign(W,{__abortController:h,__staleWhileFetching:m,__returned:void 0});return tt===void 0?(this.set(L,Gt,{...B.options,status:void 0}),tt=G(this,T).get(L)):G(this,rt)[tt]=Gt,Gt},ae=function(L){if(!G(this,ft))return!1;let tt=L;return!!tt&&tt instanceof Promise&&tt.hasOwnProperty("__staleWhileFetching")&&tt.__abortController instanceof s},Mn=function(L,tt){G(this,ct)[tt]=L,G(this,D)[L]=tt},ao=function(L){L!==G(this,q)&&(L===G(this,x)?Jt(this,x,G(this,D)[L]):Vt(this,_,Mn).call(this,G(this,ct)[L],G(this,D)[L]),Vt(this,_,Mn).call(this,G(this,q),L),Jt(this,q,L))},J);t.LRUCache=b}),fr=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var o=class{constructor(d=0){this.iteratorType=d}equals(d){return this.o===d.o}};t.ContainerIterator=o;var e=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=e;var p=class extends e{};t.Container=p}),ku=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=fr(),e=class extends o.Base{constructor(d=[]){super(),this.S=[];let s=this;d.forEach(function(n){s.push(n)})}clear(){this.i=0,this.S=[]}push(d){return this.S.push(d),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},p=e;t.default=p}),Ou=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=fr(),e=class extends o.Base{constructor(d=[]){super(),this.j=0,this.q=[];let s=this;d.forEach(function(n){s.push(n)})}clear(){this.q=[],this.i=this.j=0}push(d){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let n=this.i;for(let u=0;u<n;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=d}else this.q[this.j+this.i]=d;return++this.i}pop(){if(this.i===0)return;let d=this.q[this.j++];return this.i-=1,d}front(){if(this.i!==0)return this.q[this.j]}},p=e;t.default=p}),Mu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=fr(),e=class extends o.Base{constructor(d=[],s=function(u,l){return u>l?-1:u<l?1:0},n=!0){if(super(),this.v=s,Array.isArray(d))this.C=n?[...d]:d;else{this.C=[];let l=this;d.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let u=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,u)}m(d){let s=this.C[d];for(;d>0;){let n=d-1>>1,u=this.C[n];if(this.v(u,s)<=0)break;this.C[d]=u,d=n}this.C[d]=s}k(d,s){let n=this.C[d];for(;d<s;){let u=d<<1|1,l=u+1,c=this.C[u];if(l<this.i&&this.v(c,this.C[l])>0&&(u=l,c=this.C[l]),this.v(c,n)>=0)break;this.C[d]=c,d=u}this.C[d]=n}clear(){this.i=0,this.C.length=0}push(d){this.C.push(d),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let d=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),d}top(){return this.C[0]}find(d){return this.C.indexOf(d)>=0}remove(d){let s=this.C.indexOf(d);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(d){let s=this.C.indexOf(d);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},p=e;t.default=p}),Jn=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=fr(),e=class extends o.Container{},p=e;t.default=p}),mr=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=o;function o(){throw new RangeError("Iterator access denied!")}}),za=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var o=fr(),e=mr(),p=class extends o.ContainerIterator{constructor(d,s){super(s),this.o=d,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,e.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,e.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,e.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,e.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(d){this.container.setElementByPos(this.o,d)}};t.RandomIterator=p}),Bu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(Jn()),e=za();function p(u){return u&&u.t?u:{default:u}}var d=class $a extends e.RandomIterator{constructor(l,c,f){super(l,f),this.container=c}copy(){return new $a(this.o,this.container,this.iteratorType)}},s=class extends o.default{constructor(u=[],l=!0){if(super(),Array.isArray(u))this.J=l?[...u]:u,this.i=u.length;else{this.J=[];let c=this;u.forEach(function(f){c.pushBack(f)})}}clear(){this.i=0,this.J.length=0}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==u&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(u){let l=u.o;return u=u.next(),this.eraseElementByPos(l),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(c).fill(l)),this.i+=c,this.i}find(u){for(let l=0;l<this.i;++l)if(this.J[l]===u)return new d(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[u++]=this.J[l]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let l=0;l<this.i;++l)u(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},n=s;t.default=n}),Ru=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(Jn()),e=fr(),p=mr();function d(l){return l&&l.t?l:{default:l}}var s=class Va extends e.ContainerIterator{constructor(c,f,v,b){super(b),this.o=c,this.h=f,this.container=v,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l=c}copy(){return new Va(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(f){c.pushBack(f)})}V(l){let{L:c,B:f}=l;c.B=f,f.L=c,l===this.p&&(this.p=f),l===this._&&(this._=c),this.i-=1}G(l,c){let f=c.B,v={l,L:c,B:f};c.B=v,f.L=v,c===this.h&&(this.p=v),f===this.h&&(this._=v),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,p.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let f=this.p;for(;l--;)f=f.B;f.l=c}insert(l,c,f=1){if(l<0||l>this.i)throw new RangeError;if(f<=0)return this.i;if(l===0)for(;f--;)this.pushFront(c);else if(l===this.i)for(;f--;)this.pushBack(c);else{let v=this.p;for(let w=1;w<l;++w)v=v.B;let b=v.B;for(this.i+=f;f--;)v.B={l:c,L:v},v.B.L=v,v=v.B;v.B=b,b.L=v}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new s(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,f=0;for(;f<<1<this.i;){let v=l.l;l.l=c.l,c.l=v,l=l.B,c=c.L,f+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(v){c.push(v)}),c.sort(l);let f=this.p;c.forEach(function(v){f.l=v,f=f.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(f){c.pushBack(f)});else{let f=this.p;l.forEach(function(v){for(;f!==c.h&&f.l<=v;)f=f.B;c.G(v,f.L)})}return this.i}forEach(l){let c=this.p,f=0;for(;c!==this.h;)l(c.l,f++,this),c=c.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},u=n;t.default=u}),Cu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(Jn()),e=za();function p(u){return u&&u.t?u:{default:u}}var d=class Ga extends e.RandomIterator{constructor(l,c,f){super(l,f),this.container=c}copy(){return new Ga(this.o,this.container,this.iteratorType)}},s=class extends o.default{constructor(u=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let b=0;b<this.P;++b)this.A.push(new Array(this.F));let f=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(f>>1),this.D=this.N=this.F-c%this.F>>1;let v=this;u.forEach(function(b){v.pushBack(b)})}T(){let u=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)u[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)u[u.length]=this.A[c];for(let c=0;c<this.R;++c)u[u.length]=this.A[c];u[u.length]=[...this.A[this.R]],this.j=l,this.R=u.length-1;for(let c=0;c<l;++c)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let l=this.D+u+1,c=l%this.F,f=c-1,v=this.j+(l-c)/this.F;return c===0&&(v-=1),v%=this.P,f<0&&(f+=this.F),{curNodeBucketIndex:v,curNodePointerIndex:f}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.A[l][c]}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:f}=this.O(u);this.A[c][f]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;c--;)this.pushFront(l);else if(u===this.i)for(;c--;)this.pushBack(l);else{let f=[];for(let v=u;v<this.i;++v)f.push(this.getElementByPos(v));this.cut(u-1);for(let v=0;v<c;++v)this.pushBack(l);for(let v=0;v<f.length;++v)this.pushBack(f[v])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.R=l,this.N=c,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let l=[];for(let f=u+1;f<this.i;++f)l.push(this.getElementByPos(f));this.cut(u),this.popBack();let c=this;l.forEach(function(f){c.pushBack(f)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let l=[];for(let f=0;f<this.i;++f){let v=this.getElementByPos(f);v!==u&&l.push(v)}let c=l.length;for(let f=0;f<c;++f)this.setElementByPos(f,l[f]);return this.cut(c-1)}eraseElementByIterator(u){let l=u.o;return this.eraseElementByPos(l),u=u.next(),u}find(u){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===u)return new d(l,this);return this.end()}reverse(){let u=0,l=this.i-1;for(;u<l;){let c=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(l)),this.setElementByPos(l,c),u+=1,l-=1}}unique(){if(this.i<=1)return this.i;let u=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let f=this.getElementByPos(c);f!==l&&(l=f,this.setElementByPos(u++,f))}for(;this.i>u;)this.popBack();return this.i}sort(u){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(u);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(l){u.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<u.length;++l)this.pushBack(u[l])}forEach(u){for(let l=0;l<this.i;++l)u(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}},n=s;t.default=n}),Au=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var o=class{constructor(p,d){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=p,this.l=d}L(){let p=this;if(p.ee===1&&p.tt.tt===p)p=p.W;else if(p.U)for(p=p.U;p.W;)p=p.W;else{let d=p.tt;for(;d.U===p;)p=d,d=p.tt;p=d}return p}B(){let p=this;if(p.W){for(p=p.W;p.U;)p=p.U;return p}else{let d=p.tt;for(;d.W===p;)p=d,d=p.tt;return p.W!==d?d:p}}te(){let p=this.tt,d=this.W,s=d.U;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.U=this,this.tt=d,this.W=s,s&&(s.tt=this),d}se(){let p=this.tt,d=this.U,s=d.W;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.W=this,this.tt=d,this.U=s,s&&(s.tt=this),d}};t.TreeNode=o;var e=class extends o{constructor(){super(...arguments),this.rt=1}te(){let p=super.te();return this.ie(),p.ie(),p}se(){let p=super.se();return this.ie(),p.ie(),p}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=e}),Ha=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Au(),e=fr(),p=mr(),d=class extends e.Container{constructor(n=function(l,c){return l<c?-1:l>c?1:0},u=!1){super(),this.Y=void 0,this.v=n,u?(this.re=o.TreeNodeEnableIndex,this.M=function(l,c,f){let v=this.ne(l,c,f);if(v){let b=v.tt;for(;b!==this.h;)b.rt+=1,b=b.tt;let w=this.he(v);if(w){let{parentNode:E,grandParent:k,curNode:N}=w;E.ie(),k.ie(),N.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=o.TreeNode,this.M=function(l,c,f){let v=this.ne(l,c,f);return v&&this.he(v),this.i},this.V=this.fe),this.h=new this.re}X(n,u){let l=this.h;for(;n;){let c=this.v(n.u,u);if(c<0)n=n.W;else if(c>0)l=n,n=n.U;else return n}return l}Z(n,u){let l=this.h;for(;n;)this.v(n.u,u)<=0?n=n.W:(l=n,n=n.U);return l}$(n,u){let l=this.h;for(;n;){let c=this.v(n.u,u);if(c<0)l=n,n=n.W;else if(c>0)n=n.U;else return n}return l}rr(n,u){let l=this.h;for(;n;)this.v(n.u,u)<0?(l=n,n=n.W):n=n.U;return l}ue(n){for(;;){let u=n.tt;if(u===this.h)return;if(n.ee===1){n.ee=0;return}if(n===u.U){let l=u.W;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(l.W&&l.W.ee===1){l.ee=u.ee,u.ee=0,l.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,n=u)}else{let l=u.U;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(l.U&&l.U.ee===1){l.ee=u.ee,u.ee=0,l.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,n=u)}}}fe(n){if(this.i===1)return this.clear(),this.h;let u=n;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[n.u,u.u]=[u.u,n.u],[n.l,u.l]=[u.l,n.l],n=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let l=u.tt;return u===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(n,u){return n===void 0?!1:this.oe(n.U,u)||u(n)?!0:this.oe(n.W,u)}he(n){for(;;){let u=n.tt;if(u.ee===0)return;let l=u.tt;if(u===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,n=l;continue}else if(n===u.W){if(n.ee=0,n.U&&(n.U.tt=u),n.W&&(n.W.tt=l),u.W=n.U,l.U=n.W,n.U=u,n.W=l,l===this.Y)this.Y=n,this.h.tt=n;else{let f=l.tt;f.U===l?f.U=n:f.W=n}return n.tt=l.tt,u.tt=n,l.tt=n,l.ee=1,{parentNode:u,grandParent:l,curNode:n}}else u.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,n=l;continue}else if(n===u.U){if(n.ee=0,n.U&&(n.U.tt=l),n.W&&(n.W.tt=u),l.W=n.U,u.U=n.W,n.U=l,n.W=u,l===this.Y)this.Y=n,this.h.tt=n;else{let f=l.tt;f.U===l?f.U=n:f.W=n}return n.tt=l.tt,u.tt=n,l.tt=n,l.ee=1,{parentNode:u,grandParent:l,curNode:n}}else u.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(n,u,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(n,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,f=this.h.U,v=this.v(f.u,n);if(v===0){f.l=u;return}else if(v>0)f.U=new this.re(n,u),f.U.tt=f,c=f.U,this.h.U=c;else{let b=this.h.W,w=this.v(b.u,n);if(w===0){b.l=u;return}else if(w<0)b.W=new this.re(n,u),b.W.tt=b,c=b.W,this.h.W=c;else{if(l!==void 0){let E=l.o;if(E!==this.h){let k=this.v(E.u,n);if(k===0){E.l=u;return}else if(k>0){let N=E.L(),z=this.v(N.u,n);if(z===0){N.l=u;return}else z<0&&(c=new this.re(n,u),N.W===void 0?(N.W=c,c.tt=N):(E.U=c,c.tt=E))}}}if(c===void 0)for(c=this.Y;;){let E=this.v(c.u,n);if(E>0){if(c.U===void 0){c.U=new this.re(n,u),c.U.tt=c,c=c.U;break}c=c.U}else if(E<0){if(c.W===void 0){c.W=new this.re(n,u),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=u;return}}}}return this.i+=1,c}I(n,u){for(;n;){let l=this.v(n.u,u);if(l<0)n=n.W;else if(l>0)n=n.U;else return n}return n||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(n,u){let l=n.o;if(l===this.h&&(0,p.throwIteratorAccessError)(),this.i===1)return l.u=u,!0;if(l===this.h.U)return this.v(l.B().u,u)>0?(l.u=u,!0):!1;if(l===this.h.W)return this.v(l.L().u,u)<0?(l.u=u,!0):!1;let c=l.L().u;if(this.v(c,u)>=0)return!1;let f=l.B().u;return this.v(f,u)<=0?!1:(l.u=u,!0)}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u=0,l=this;return this.oe(this.Y,function(c){return n===u?(l.V(c),!0):(u+=1,!1)}),this.i}eraseElementByKey(n){if(this.i===0)return!1;let u=this.I(this.Y,n);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(n){let u=n.o;u===this.h&&(0,p.throwIteratorAccessError)();let l=u.W===void 0;return n.iteratorType===0?l&&n.next():(!l||u.U===void 0)&&n.next(),this.V(u),n}forEach(n){let u=0;for(let l of this)n(l,u++,this)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u,l=0;for(let c of this){if(l===n){u=c;break}l+=1}return u}getHeight(){if(this.i===0)return 0;let n=function(u){return u?Math.max(n(u.U),n(u.W))+1:0};return n(this.Y)}},s=d;t.default=s}),qa=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=fr(),e=mr(),p=class extends o.ContainerIterator{constructor(s,n,u){super(u),this.o=s,this.h=n,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,n=this.h.tt;if(s===this.h)return n?n.rt-1:0;let u=0;for(s.U&&(u+=s.U.rt);s!==n;){let l=s.tt;s===l.W&&(u+=1,l.U&&(u+=l.U.rt)),s=l}return u}},d=p;t.default=d}),Pu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(Ha()),e=d(qa()),p=mr();function d(l){return l&&l.t?l:{default:l}}var s=class Ka extends e.default{constructor(c,f,v,b){super(c,f,b),this.container=v}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.u}copy(){return new Ka(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[],c,f){super(c,f);let v=this;l.forEach(function(b){v.insert(b)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}union(l){let c=this;return l.forEach(function(f){c.insert(f)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=n;t.default=u}),Fu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(Ha()),e=d(qa()),p=mr();function d(l){return l&&l.t?l:{default:l}}var s=class Ya extends e.default{constructor(c,f,v,b){super(c,f,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(f,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(f,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new Ya(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[],c,f){super(c,f);let v=this;l.forEach(function(b){v.setElement(b[0],b[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}setElement(l,c,f){return this.M(l,c,f)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(f){c.setElement(f[0],f[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=n;t.default=u}),Ja=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=o;function o(e){let p=typeof e;return p==="object"&&e!==null||p==="function"}}),Qa=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var o=fr(),e=d(Ja()),p=mr();function d(u){return u&&u.t?u:{default:u}}var s=class extends o.ContainerIterator{constructor(u,l,c){super(c),this.o=u,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=s;var n=class extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:l,B:c}=u;l.B=c,c.L=l,u===this.p&&(this.p=c),u===this._&&(this._=l),this.i-=1}M(u,l,c){c===void 0&&(c=(0,e.default)(u));let f;if(c){let v=u[this.HASH_TAG];if(v!==void 0)return this.H[v].l=l,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),f={u,l,L:this._,B:this.h},this.H.push(f)}else{let v=this.g[u];if(v)return v.l=l,this.i;f={u,l,L:this._,B:this.h},this.g[u]=f}return this.i===0?(this.p=f,this.h.B=f):this._.B=f,this._=f,this.h.L=f,++this.i}I(u,l){if(l===void 0&&(l=(0,e.default)(u)),l){let c=u[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(l){delete l.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,l){let c;if(l===void 0&&(l=(0,e.default)(u)),l){let f=u[this.HASH_TAG];if(f===void 0)return!1;delete u[this.HASH_TAG],c=this.H[f],delete this.H[f]}else{if(c=this.g[u],c===void 0)return!1;delete this.g[u]}return this.V(c),!0}eraseElementByIterator(u){let l=u.o;return l===this.h&&(0,p.throwIteratorAccessError)(),this.V(l),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let l=this.p;for(;u--;)l=l.B;return this.V(l),this.i}};t.HashContainer=n}),xu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Qa(),e=mr(),p=class Za extends o.HashContainerIterator{constructor(u,l,c,f){super(u,l,f),this.container=c}get pointer(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o.u}copy(){return new Za(this.o,this.h,this.container,this.iteratorType)}},d=class extends o.HashContainer{constructor(n=[]){super();let u=this;n.forEach(function(l){u.insert(l)})}begin(){return new p(this.p,this.h,this)}end(){return new p(this.h,this.h,this)}rBegin(){return new p(this._,this.h,this,1)}rEnd(){return new p(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(n,u){return this.M(n,void 0,u)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u=this.p;for(;n--;)u=u.B;return u.u}find(n,u){let l=this.I(n,u);return new p(l,this.h,this)}forEach(n){let u=0,l=this.p;for(;l!==this.h;)n(l.u,u++,this),l=l.B}[Symbol.iterator](){return(function*(){let n=this.p;for(;n!==this.h;)yield n.u,n=n.B}).bind(this)()}},s=d;t.default=s}),Wu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Qa(),e=d(Ja()),p=mr();function d(l){return l&&l.t?l:{default:l}}var s=class Xa extends o.HashContainerIterator{constructor(c,f,v,b){super(c,f,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(f,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(f,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new Xa(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(f){c.setElement(f[0],f[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,f){return this.M(l,c,f)}getElementByKey(l,c){if(c===void 0&&(c=(0,e.default)(l)),c){let v=l[this.HASH_TAG];return v!==void 0?this.H[v].l:void 0}let f=this.g[l];return f?f.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let f=this.I(l,c);return new s(f,this.h,this)}forEach(l){let c=0,f=this.p;for(;f!==this.h;)l([f.u,f.l],c++,this),f=f.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},u=n;t.default=u}),Nu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return d.default}});var o=v(ku()),e=v(Ou()),p=v(Mu()),d=v(Bu()),s=v(Ru()),n=v(Cu()),u=v(Pu()),l=v(Fu()),c=v(xu()),f=v(Wu());function v(b){return b&&b.t?b:{default:b}}}),ju=xt((t,o)=>{Mt(),Rt(),Bt();var e=Nu().OrderedSet,p=dr()("number-allocator:trace"),d=dr()("number-allocator:error");function s(u,l){this.low=u,this.high=l}s.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},s.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0};function n(u,l){if(!(this instanceof n))return new n(u,l);this.min=u,this.max=l,this.ss=new e([],(c,f)=>c.compare(f)),p("Create"),this.clear()}n.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},n.prototype.alloc=function(){if(this.ss.size()===0)return p("alloc():empty"),null;let u=this.ss.begin(),l=u.pointer.low,c=u.pointer.high,f=l;return f+1<=c?this.ss.updateKeyByIterator(u,new s(l+1,c)):this.ss.eraseElementByPos(0),p("alloc():"+f),f},n.prototype.use=function(u){let l=new s(u,u),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let f=c.pointer.low,v=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),p("use():"+u),!0):f>u?!1:f===u?(this.ss.updateKeyByIterator(c,new s(f+1,v)),p("use():"+u),!0):v===u?(this.ss.updateKeyByIterator(c,new s(f,v-1)),p("use():"+u),!0):(this.ss.updateKeyByIterator(c,new s(u+1,v)),this.ss.insert(new s(f,u-1)),p("use():"+u),!0)}return p("use():failed"),!1},n.prototype.free=function(u){if(u<this.min||u>this.max){d("free():"+u+" is out of range");return}let l=new s(u,u),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let f=c.pointer.high;c.pointer.high+1===u?this.ss.updateKeyByIterator(c,new s(f,u)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(u+1===c.pointer.low){let f=c.pointer.high;this.ss.updateKeyByIterator(c,new s(u,f))}else this.ss.insert(l);else{let f=c.pointer.low,v=c.pointer.high;c.pre();let b=c.pointer.low;c.pointer.high+1===u?u+1===f?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new s(b,v))):this.ss.updateKeyByIterator(c,new s(b,u)):u+1===f?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new s(u,v))):this.ss.insert(l)}p("free():"+u)},n.prototype.clear=function(){p("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},n.prototype.intervalCount=function(){return this.ss.size()},n.prototype.dump=function(){console.log("length:"+this.ss.size());for(let u of this.ss)console.log(u)},o.exports=n}),tl=xt((t,o)=>{Mt(),Rt(),Bt();var e=ju();o.exports.NumberAllocator=e}),Du=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=Iu(),e=tl(),p=class{constructor(d){d>0&&(this.aliasToTopic=new o.LRUCache({max:d}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,d),this.max=d,this.length=0)}put(d,s){if(s===0||s>this.max)return!1;let n=this.aliasToTopic.get(s);return n&&delete this.topicToAlias[n],this.aliasToTopic.set(s,d),this.topicToAlias[d]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(d){return this.aliasToTopic.get(d)}getAliasByTopic(d){let s=this.topicToAlias[d];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=p}),Lu=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});var e=$o(),p=o(Du()),d=to(),s=(n,u)=>{n.log("_handleConnack");let{options:l}=n,c=l.protocolVersion===5?u.reasonCode:u.returnCode;if(clearTimeout(n.connackTimer),delete n.topicAliasSend,u.properties){if(u.properties.topicAliasMaximum){if(u.properties.topicAliasMaximum>65535){n.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}u.properties.topicAliasMaximum>0&&(n.topicAliasSend=new p.default(u.properties.topicAliasMaximum))}u.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=u.properties.serverKeepAlive),u.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=u.properties.maximumPacketSize)}if(c===0)n.reconnecting=!1,n._onConnect(u);else if(c>0){let f=new d.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[c]}`,c);n.emit("error",f),n.options.reconnectOnConnackError&&n._cleanUp(!0)}};t.default=s}),Uu=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(e,p,d)=>{e.log("handling pubrel packet");let s=typeof d<"u"?d:e.noop,{messageId:n}=p,u={cmd:"pubcomp",messageId:n};e.incomingStore.get(p,(l,c)=>{l?e._sendPacket(u,s):(e.emit("message",c.topic,c.payload,c),e.handleMessage(c,f=>{if(f)return s(f);e.incomingStore.del(c,e.noop),e._sendPacket(u,s)}))})};t.default=o}),zu=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(_u()),p=o(Tu()),d=o(Lu()),s=o($o()),n=o(Uu()),u=(l,c,f)=>{let{options:v}=l;if(v.protocolVersion===5&&v.properties&&v.properties.maximumPacketSize&&v.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,e.default)(l,c,f);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,c),f();break;case"pubrel":l.reschedulePing(),(0,n.default)(l,c,f);break;case"connack":(0,d.default)(l,c),f();break;case"auth":l.reschedulePing(),(0,p.default)(l,c),f();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),f();break;case"disconnect":l.emit("disconnect",c),f();break;default:l.log("_handlePacket :: unknown command"),f();break}};t.default=u}),$u=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var e=o((Xr(),se(Gr))),p=to(),d=class{};t.TypedEventEmitter=d,(0,p.applyMixin)(d,e.default)}),Vo=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var o=()=>{var s;return typeof window<"u"?typeof navigator<"u"&&((s=navigator.userAgent)===null||s===void 0?void 0:s.toLowerCase().indexOf(" electron/"))>-1&&oe!=null&&oe.versions?!Object.prototype.hasOwnProperty.call(oe.versions,"electron"):typeof window.document<"u":!1},e=()=>{var s,n;return!!(typeof self=="object"&&!((n=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||n===void 0)&&n.includes("WorkerGlobalScope"))},p=()=>typeof navigator<"u"&&navigator.product==="ReactNative",d=o()||e()||p();t.isWebWorker=e(),t.isReactNativeBrowser=p(),t.default=d}),Vu=xt((t,o)=>{Mt(),Rt(),Bt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t):typeof define=="function"&&define.amd?define(["exports"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.fastUniqueNumbers={}))}(t,function(e){var p=function(w){return function(E){var k=w(E);return E.add(k),k}},d=function(w){return function(E,k){return w.set(E,k),k}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,u=n*2,l=function(w,E){return function(k){var N=E.get(k),z=N===void 0?k.size:N<u?N+1:0;if(!k.has(z))return w(k,z);if(k.size<n){for(;k.has(z);)z=Math.floor(Math.random()*u);return w(k,z)}if(k.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;k.has(z);)z=Math.floor(Math.random()*s);return w(k,z)}},c=new WeakMap,f=d(c),v=l(f,c),b=p(v);e.addUniqueNumber=b,e.generateUniqueNumber=v})}),Gu=xt((t,o)=>{Mt(),Rt(),Bt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,Vu()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimersBroker={},e.fastUniqueNumbers))}(t,function(e,p){var d=function(u){return u.method!==void 0&&u.method==="call"},s=function(u){return u.error===null&&typeof u.id=="number"},n=function(u){var l=new Map([[0,function(){}]]),c=new Map([[0,function(){}]]),f=new Map,v=new Worker(u);v.addEventListener("message",function(N){var z=N.data;if(d(z)){var A=z.params,R=A.timerId,V=A.timerType;if(V==="interval"){var X=l.get(R);if(typeof X=="number"){var j=f.get(X);if(j===void 0||j.timerId!==R||j.timerType!==V)throw new Error("The timer is in an undefined state.")}else if(typeof X<"u")X();else throw new Error("The timer is in an undefined state.")}else if(V==="timeout"){var T=c.get(R);if(typeof T=="number"){var H=f.get(T);if(H===void 0||H.timerId!==R||H.timerType!==V)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T(),c.delete(R);else throw new Error("The timer is in an undefined state.")}}else if(s(z)){var rt=z.id,D=f.get(rt);if(D===void 0)throw new Error("The timer is in an undefined state.");var ct=D.timerId,x=D.timerType;f.delete(rt),x==="interval"?l.delete(ct):c.delete(ct)}else{var q=z.error.message;throw new Error(q)}});var b=function(N){var z=p.generateUniqueNumber(f);f.set(z,{timerId:N,timerType:"interval"}),l.set(N,z),v.postMessage({id:z,method:"clear",params:{timerId:N,timerType:"interval"}})},w=function(N){var z=p.generateUniqueNumber(f);f.set(z,{timerId:N,timerType:"timeout"}),c.set(N,z),v.postMessage({id:z,method:"clear",params:{timerId:N,timerType:"timeout"}})},E=function(N){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=p.generateUniqueNumber(l);return l.set(A,function(){N(),typeof l.get(A)=="function"&&v.postMessage({id:null,method:"set",params:{delay:z,now:performance.now(),timerId:A,timerType:"interval"}})}),v.postMessage({id:null,method:"set",params:{delay:z,now:performance.now(),timerId:A,timerType:"interval"}}),A},k=function(N){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=p.generateUniqueNumber(c);return c.set(A,N),v.postMessage({id:null,method:"set",params:{delay:z,now:performance.now(),timerId:A,timerType:"timeout"}}),A};return{clearInterval:b,clearTimeout:w,setInterval:E,setTimeout:k}};e.load=n})}),Hu=xt((t,o)=>{Mt(),Rt(),Bt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,Gu()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimers={},e.workerTimersBroker))}(t,function(e,p){var d=function(v,b){var w=null;return function(){if(w!==null)return w;var E=new Blob([b],{type:"application/javascript; charset=utf-8"}),k=URL.createObjectURL(E);return w=v(k),setTimeout(function(){return URL.revokeObjectURL(k)}),w}},s=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,n=d(p.load,s),u=function(v){return n().clearInterval(v)},l=function(v){return n().clearTimeout(v)},c=function(){var v;return(v=n()).setInterval.apply(v,arguments)},f=function(){var v;return(v=n()).setTimeout.apply(v,arguments)};e.clearInterval=u,e.clearTimeout=l,e.setInterval=c,e.setTimeout=f})}),qu=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__createBinding||(Object.create?function(c,f,v,b){b===void 0&&(b=v);var w=Object.getOwnPropertyDescriptor(f,v);(!w||("get"in w?!f.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return f[v]}}),Object.defineProperty(c,b,w)}:function(c,f,v,b){b===void 0&&(b=v),c[b]=f[v]}),e=t&&t.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),p=t&&t.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var v in c)v!=="default"&&Object.prototype.hasOwnProperty.call(c,v)&&o(f,c,v);return e(f,c),f};Object.defineProperty(t,"__esModule",{value:!0});var d=p(Vo()),s=Hu(),n={set:s.setInterval,clear:s.clearInterval},u={set:(c,f)=>setInterval(c,f),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return u;case"worker":return n;case"auto":default:return d.default&&!d.isWebWorker&&!d.isReactNativeBrowser?n:u}};t.default=l}),el=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(qu()),p=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(d,s){this.destroyed=!1,this.client=d,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,e.default)(s),this.setKeepalive(d.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(d){if(d*=1e3,isNaN(d)||d<=0||d>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${d}`);this._keepalive=d,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${d}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let d=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+d,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=p}),Bn=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__createBinding||(Object.create?function(X,j,T,H){H===void 0&&(H=T);var rt=Object.getOwnPropertyDescriptor(j,T);(!rt||("get"in rt?!j.__esModule:rt.writable||rt.configurable))&&(rt={enumerable:!0,get:function(){return j[T]}}),Object.defineProperty(X,H,rt)}:function(X,j,T,H){H===void 0&&(H=T),X[H]=j[T]}),e=t&&t.__setModuleDefault||(Object.create?function(X,j){Object.defineProperty(X,"default",{enumerable:!0,value:j})}:function(X,j){X.default=j}),p=t&&t.__importStar||function(X){if(X&&X.__esModule)return X;var j={};if(X!=null)for(var T in X)T!=="default"&&Object.prototype.hasOwnProperty.call(X,T)&&o(j,X,T);return e(j,X),j},d=t&&t.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(t,"__esModule",{value:!0});var s=d(Wp()),n=d(vu()),u=d(ja()),l=Hr(),c=d(wu()),f=p(Eu()),v=d(dr()),b=d(Da()),w=d(zu()),E=to(),k=$u(),N=d(el()),z=p(Vo()),A=globalThis.setImmediate||((...X)=>{let j=X.shift();(0,E.nextTick)(()=>{j(...X)})}),R={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},V=class Rn extends k.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(j,T){super(),this.options=T||{};for(let H in R)typeof this.options[H]>"u"?this.options[H]=R[H]:this.options[H]=T[H];this.log=this.options.log||(0,v.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Rn.VERSION),z.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",z.default?"browser":"node"),this.log("MqttClient :: options.protocol",T.protocol),this.log("MqttClient :: options.protocolVersion",T.protocolVersion),this.log("MqttClient :: options.username",T.username),this.log("MqttClient :: options.keepalive",T.keepalive),this.log("MqttClient :: options.reconnectPeriod",T.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",T.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",T.properties?T.properties.topicAliasMaximum:void 0),this.options.clientId=typeof T.clientId=="string"?T.clientId:Rn.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=T.protocolVersion===5&&T.customHandleAcks?T.customHandleAcks:(...H)=>{H[3](null,0)},this.options.writeCache||(n.default.writeToStream.cacheNumbers=!1),this.streamBuilder=j,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new u.default:this.options.messageIdProvider,this.outgoingStore=T.outgoingStore||new b.default,this.incomingStore=T.incomingStore||new b.default,this.queueQoSZero=T.queueQoSZero===void 0?!0:T.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,T.properties&&T.properties.topicAliasMaximum>0&&(T.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(T.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:H}=this,rt=()=>{let D=H.shift();this.log("deliver :: entry %o",D);let ct=null;if(!D){this._resubscribe();return}ct=D.packet,this.log("deliver :: call _sendPacket for %o",ct);let x=!0;ct.messageId&&ct.messageId!==0&&(this.messageIdProvider.register(ct.messageId)||(x=!1)),x?this._sendPacket(ct,q=>{D.cb&&D.cb(q),rt()}):(this.log("messageId: %d has already used. The message is skipped and removed.",ct.messageId),rt())};this.log("connect :: sending queued packets"),rt()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(j,T){T()}handleMessage(j,T){T()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var j;let T=new l.Writable,H=n.default.parser(this.options),rt=null,D=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),H.on("packet",lt=>{this.log("parser :: on packet push to packets array."),D.push(lt)});let ct=()=>{this.log("work :: getting next packet in queue");let lt=D.shift();if(lt)this.log("work :: packet pulled from queue"),(0,w.default)(this,lt,x);else{this.log("work :: no packets in queue");let Ot=rt;rt=null,this.log("work :: done flag is %s",!!Ot),Ot&&Ot()}},x=()=>{if(D.length)(0,E.nextTick)(ct);else{let lt=rt;rt=null,lt()}};T._write=(lt,Ot,kt)=>{rt=kt,this.log("writable stream :: parsing buffer"),H.parse(lt),ct()};let q=lt=>{this.log("streamErrorHandler :: error",lt.message),lt.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",lt)):this.noop(lt)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(T),this.stream.on("error",q),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let Tt={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(Tt.will=Object.assign(Object.assign({},this.options.will),{payload:(j=this.options.will)===null||j===void 0?void 0:j.payload})),this.topicAliasRecv&&(Tt.properties||(Tt.properties={}),this.topicAliasRecv&&(Tt.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(Tt),H.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let lt=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(lt)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(j,T,H,rt){this.log("publish :: message `%s` to topic `%s`",T,j);let{options:D}=this;typeof H=="function"&&(rt=H,H=null),H=H||{},H=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),H);let{qos:ct,retain:x,dup:q,properties:Tt,cbStorePut:lt}=H;if(this._checkDisconnecting(rt))return this;let Ot=()=>{let kt=0;if((ct===1||ct===2)&&(kt=this._nextId(),kt===null))return this.log("No messageId left"),!1;let Y={cmd:"publish",topic:j,payload:T,qos:ct,retain:x,messageId:kt,dup:q};switch(D.protocolVersion===5&&(Y.properties=Tt),this.log("publish :: qos",ct),ct){case 1:case 2:this.outgoing[Y.messageId]={volatile:!1,cb:rt||this.noop},this.log("MqttClient:publish: packet cmd: %s",Y.cmd),this._sendPacket(Y,void 0,lt);break;default:this.log("MqttClient:publish: packet cmd: %s",Y.cmd),this._sendPacket(Y,rt,lt);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Ot())&&this._storeProcessingQueue.push({invoke:Ot,cbStorePut:H.cbStorePut,callback:rt}),this}publishAsync(j,T,H){return new Promise((rt,D)=>{this.publish(j,T,H,(ct,x)=>{ct?D(ct):rt(x)})})}subscribe(j,T,H){let rt=this.options.protocolVersion;typeof T=="function"&&(H=T),H=H||this.noop;let D=!1,ct=[];typeof j=="string"?(j=[j],ct=j):Array.isArray(j)?ct=j:typeof j=="object"&&(D=j.resubscribe,delete j.resubscribe,ct=Object.keys(j));let x=f.validateTopics(ct);if(x!==null)return A(H,new Error(`Invalid topic ${x}`)),this;if(this._checkDisconnecting(H))return this.log("subscribe: discconecting true"),this;let q={qos:0};rt===5&&(q.nl=!1,q.rap=!1,q.rh=0),T=Object.assign(Object.assign({},q),T);let Tt=T.properties,lt=[],Ot=(Y,pt)=>{if(pt=pt||T,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Y)||this._resubscribeTopics[Y].qos<pt.qos||D){let ft={topic:Y,qos:pt.qos};rt===5&&(ft.nl=pt.nl,ft.rap=pt.rap,ft.rh=pt.rh,ft.properties=Tt),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ft.topic,ft.qos),lt.push(ft)}};if(Array.isArray(j)?j.forEach(Y=>{this.log("subscribe: array topic %s",Y),Ot(Y)}):Object.keys(j).forEach(Y=>{this.log("subscribe: object topic %s, %o",Y,j[Y]),Ot(Y,j[Y])}),!lt.length)return H(null,[]),this;let kt=()=>{let Y=this._nextId();if(Y===null)return this.log("No messageId left"),!1;let pt={cmd:"subscribe",subscriptions:lt,messageId:Y};if(Tt&&(pt.properties=Tt),this.options.resubscribe){this.log("subscribe :: resubscribe true");let ft=[];lt.forEach(et=>{if(this.options.reconnectPeriod>0){let _={qos:et.qos};rt===5&&(_.nl=et.nl||!1,_.rap=et.rap||!1,_.rh=et.rh||0,_.properties=et.properties),this._resubscribeTopics[et.topic]=_,ft.push(et.topic)}}),this.messageIdToTopic[pt.messageId]=ft}return this.outgoing[pt.messageId]={volatile:!0,cb(ft,et){if(!ft){let{granted:_}=et;for(let Q=0;Q<_.length;Q+=1)lt[Q].qos=_[Q]}H(ft,lt,et)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(pt),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!kt())&&this._storeProcessingQueue.push({invoke:kt,callback:H}),this}subscribeAsync(j,T){return new Promise((H,rt)=>{this.subscribe(j,T,(D,ct)=>{D?rt(D):H(ct)})})}unsubscribe(j,T,H){typeof j=="string"&&(j=[j]),typeof T=="function"&&(H=T),H=H||this.noop;let rt=f.validateTopics(j);if(rt!==null)return A(H,new Error(`Invalid topic ${rt}`)),this;if(this._checkDisconnecting(H))return this;let D=()=>{let ct=this._nextId();if(ct===null)return this.log("No messageId left"),!1;let x={cmd:"unsubscribe",messageId:ct,unsubscriptions:[]};return typeof j=="string"?x.unsubscriptions=[j]:Array.isArray(j)&&(x.unsubscriptions=j),this.options.resubscribe&&x.unsubscriptions.forEach(q=>{delete this._resubscribeTopics[q]}),typeof T=="object"&&T.properties&&(x.properties=T.properties),this.outgoing[x.messageId]={volatile:!0,cb:H},this.log("unsubscribe: call _sendPacket"),this._sendPacket(x),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!D())&&this._storeProcessingQueue.push({invoke:D,callback:H}),this}unsubscribeAsync(j,T){return new Promise((H,rt)=>{this.unsubscribe(j,T,(D,ct)=>{D?rt(D):H(ct)})})}end(j,T,H){this.log("end :: (%s)",this.options.clientId),(j==null||typeof j!="boolean")&&(H=H||T,T=j,j=!1),typeof T!="object"&&(H=H||T,T=null),this.log("end :: cb? %s",!!H),(!H||typeof H!="function")&&(H=this.noop);let rt=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(ct=>{this.outgoingStore.close(x=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),H){let q=ct||x;this.log("end :: closeStores: invoking callback with args"),H(q)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},D=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,j),this._cleanUp(j,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,E.nextTick)(rt)},T)};return this.disconnecting?(H(),this):(this._clearReconnect(),this.disconnecting=!0,!j&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,D,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),D()),this)}endAsync(j,T){return new Promise((H,rt)=>{this.end(j,T,D=>{D?rt(D):H()})})}removeOutgoingMessage(j){if(this.outgoing[j]){let{cb:T}=this.outgoing[j];this._removeOutgoingAndStoreMessage(j,()=>{T(new Error("Message removed"))})}return this}reconnect(j){this.log("client reconnect");let T=()=>{j?(this.options.incomingStore=j.incomingStore,this.options.outgoingStore=j.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=T:T(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(j=>{this.outgoing[j].volatile&&typeof this.outgoing[j].cb=="function"&&(this.outgoing[j].cb(new Error("Connection closed")),delete this.outgoing[j])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(j=>{typeof this.outgoing[j].cb=="function"&&(this.outgoing[j].cb(new Error("Connection closed")),delete this.outgoing[j])}))}_removeTopicAliasAndRecoverTopicName(j){let T;j.properties&&(T=j.properties.topicAlias);let H=j.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",T,H),H.length===0){if(typeof T>"u")return new Error("Unregistered Topic Alias");if(H=this.topicAliasSend.getTopicByAlias(T),typeof H>"u")return new Error("Unregistered Topic Alias");j.topic=H}T&&delete j.properties.topicAlias}_checkDisconnecting(j){return this.disconnecting&&(j&&j!==this.noop?j(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(j,T,H={}){if(T&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",T)),this.log("_cleanUp :: forced? %s",j),j)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let rt=Object.assign({cmd:"disconnect"},H);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(rt,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),A(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),T&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",T),T())}_storeAndSend(j,T,H){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",j.cmd);let rt=j,D;if(rt.cmd==="publish"&&(rt=(0,c.default)(j),D=this._removeTopicAliasAndRecoverTopicName(rt),D))return T&&T(D);this.outgoingStore.put(rt,ct=>{if(ct)return T&&T(ct);H(),this._writePacket(j,T)})}_applyTopicAlias(j){if(this.options.protocolVersion===5&&j.cmd==="publish"){let T;j.properties&&(T=j.properties.topicAlias);let H=j.topic.toString();if(this.topicAliasSend)if(T){if(H.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",H,T),!this.topicAliasSend.put(H,T)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",H,T),new Error("Sending Topic Alias out of range")}else H.length!==0&&(this.options.autoAssignTopicAlias?(T=this.topicAliasSend.getAliasByTopic(H),T?(j.topic="",j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",H,T)):(T=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(H,T),j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",H,T))):this.options.autoUseTopicAlias&&(T=this.topicAliasSend.getAliasByTopic(H),T&&(j.topic="",j.properties=Object.assign(Object.assign({},j.properties),{topicAlias:T}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",H,T))));else if(T)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",H,T),new Error("Sending Topic Alias out of range")}}_noop(j){this.log("noop ::",j)}_writePacket(j,T){this.log("_writePacket :: packet: %O",j),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",j),this.log("_writePacket :: writing to stream");let H=n.default.writeToStream(j,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",H),!H&&T&&T!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",T)):T&&(this.log("_writePacket :: invoking cb"),T())}_sendPacket(j,T,H,rt){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),H=H||this.noop,T=T||this.noop;let D=this._applyTopicAlias(j);if(D){T(D);return}if(!this.connected){if(j.cmd==="auth"){this._writePacket(j,T);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(j,T,H);return}if(rt){this._writePacket(j,T);return}switch(j.cmd){case"publish":break;case"pubrel":this._storeAndSend(j,T,H);return;default:this._writePacket(j,T);return}switch(j.qos){case 2:case 1:this._storeAndSend(j,T,H);break;case 0:default:this._writePacket(j,T);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(j,T,H){this.log("_storePacket :: packet: %o",j),this.log("_storePacket :: cb? %s",!!T),H=H||this.noop;let rt=j;if(rt.cmd==="publish"){rt=(0,c.default)(j);let ct=this._removeTopicAliasAndRecoverTopicName(rt);if(ct)return T&&T(ct)}let D=rt.qos||0;D===0&&this.queueQoSZero||rt.cmd!=="publish"?this.queue.push({packet:rt,cb:T}):D>0?(T=this.outgoing[rt.messageId]?this.outgoing[rt.messageId].cb:null,this.outgoingStore.put(rt,ct=>{if(ct)return T&&T(ct);H()})):T&&T(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new N.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(j=!1){this.keepaliveManager&&this.options.keepalive&&(j||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let j=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&j.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let T=0;T<j.length;T++){let H={};H[j[T]]=this._resubscribeTopics[j[T]],H.resubscribe=!0,this.subscribe(H,{properties:H[j[T]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(j){if(this.disconnected){this.emit("connect",j);return}this.connackPacket=j,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let T=()=>{let H=this.outgoingStore.createStream(),rt=()=>{H.destroy(),H=null,this._flushStoreProcessingQueue(),D()},D=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",rt),H.on("error",x=>{D(),this._flushStoreProcessingQueue(),this.removeListener("close",rt),this.emit("error",x)});let ct=()=>{if(!H)return;let x=H.read(1),q;if(!x){H.once("readable",ct);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[x.messageId]){ct();return}!this.disconnecting&&!this.reconnectTimer?(q=this.outgoing[x.messageId]?this.outgoing[x.messageId].cb:null,this.outgoing[x.messageId]={volatile:!1,cb(Tt,lt){q&&q(Tt,lt),ct()}},this._packetIdsDuringStoreProcessing[x.messageId]=!0,this.messageIdProvider.register(x.messageId)?this._sendPacket(x,void 0,void 0,!0):this.log("messageId: %d has already used.",x.messageId)):H.destroy&&H.destroy()};H.on("end",()=>{let x=!0;for(let q in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[q]){x=!1;break}this.removeListener("close",rt),x?(D(),this._invokeAllStoreProcessingQueue(),this.emit("connect",j)):T()}),ct()};T()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let j=this._storeProcessingQueue[0];if(j&&j.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let j of this._storeProcessingQueue)j.cbStorePut&&j.cbStorePut(new Error("Connection closed")),j.callback&&j.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(j,T){delete this.outgoing[j],this.outgoingStore.del({messageId:j},(H,rt)=>{T(H,rt),this.messageIdProvider.deallocate(j),this._invokeStoreProcessingQueue()})}};V.VERSION=E.MQTTJS_VERSION,t.default=V}),Ku=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=tl(),e=class{constructor(){this.numberAllocator=new o.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(p){return this.numberAllocator.use(p)}deallocate(p){this.numberAllocator.free(p)}clear(){this.numberAllocator.clear()}};t.default=e});function Rr(t){throw new RangeError(ol[t])}function Ss(t,o){let e=t.split("@"),p="";e.length>1&&(p=e[0]+"@",t=e[1]);let d=function(s,n){let u=[],l=s.length;for(;l--;)u[l]=n(s[l]);return u}((t=t.replace(rl,".")).split("."),o).join(".");return p+d}function Ts(t){let o=[],e=0,p=t.length;for(;e<p;){let d=t.charCodeAt(e++);if(d>=55296&&d<=56319&&e<p){let s=t.charCodeAt(e++);(64512&s)==56320?o.push(((1023&d)<<10)+(1023&s)+65536):(o.push(d),e--)}else o.push(d)}return o}var Is,ks,rl,ol,Ve,vo,ii,ni,si,ai,Er,Yu=ke(()=>{Mt(),Rt(),Bt(),Is=/^xn--/,ks=/[^\0-\x7E]/,rl=/[\x2E\u3002\uFF0E\uFF61]/g,ol={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ve=Math.floor,vo=String.fromCharCode,ii=function(t,o){return t+22+75*(t<26)-((o!=0)<<5)},ni=function(t,o,e){let p=0;for(t=e?Ve(t/700):t>>1,t+=Ve(t/o);t>455;p+=36)t=Ve(t/35);return Ve(p+36*t/(t+38))},si=function(t){let o=[],e=t.length,p=0,d=128,s=72,n=t.lastIndexOf("-");n<0&&(n=0);for(let l=0;l<n;++l)t.charCodeAt(l)>=128&&Rr("not-basic"),o.push(t.charCodeAt(l));for(let l=n>0?n+1:0;l<e;){let c=p;for(let v=1,b=36;;b+=36){l>=e&&Rr("invalid-input");let w=(u=t.charCodeAt(l++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(w>=36||w>Ve((2147483647-p)/v))&&Rr("overflow"),p+=w*v;let E=b<=s?1:b>=s+26?26:b-s;if(w<E)break;let k=36-E;v>Ve(2147483647/k)&&Rr("overflow"),v*=k}let f=o.length+1;s=ni(p-c,f,c==0),Ve(p/f)>2147483647-d&&Rr("overflow"),d+=Ve(p/f),p%=f,o.splice(p++,0,d)}var u;return String.fromCodePoint(...o)},ai=function(t){let o=[],e=(t=Ts(t)).length,p=128,d=0,s=72;for(let l of t)l<128&&o.push(vo(l));let n=o.length,u=n;for(n&&o.push("-");u<e;){let l=2147483647;for(let f of t)f>=p&&f<l&&(l=f);let c=u+1;l-p>Ve((2147483647-d)/c)&&Rr("overflow"),d+=(l-p)*c,p=l;for(let f of t)if(f<p&&++d>2147483647&&Rr("overflow"),f==p){let v=d;for(let b=36;;b+=36){let w=b<=s?1:b>=s+26?26:b-s;if(v<w)break;let E=v-w,k=36-w;o.push(vo(ii(w+E%k,0))),v=Ve(E/k)}o.push(vo(ii(v,0))),s=ni(d,c,u==n),d=0,++u}++d,++p}return o.join("")},Er={version:"2.1.0",ucs2:{decode:Ts,encode:t=>String.fromCodePoint(...t)},decode:si,encode:ai,toASCII:function(t){return Ss(t,function(o){return ks.test(o)?"xn--"+ai(o):o})},toUnicode:function(t){return Ss(t,function(o){return Is.test(o)?si(o.slice(4).toLowerCase()):o})}},Er.decode,Er.encode,Er.toASCII,Er.toUnicode,Er.ucs2,Er.version});function Ju(t,o){return Object.prototype.hasOwnProperty.call(t,o)}var Os,Kr,Ms,Ze,Qu=ke(()=>{Mt(),Rt(),Bt(),Os=function(t,o,e,p){o=o||"&",e=e||"=";var d={};if(typeof t!="string"||t.length===0)return d;var s=/\+/g;t=t.split(o);var n=1e3;p&&typeof p.maxKeys=="number"&&(n=p.maxKeys);var u=t.length;n>0&&u>n&&(u=n);for(var l=0;l<u;++l){var c,f,v,b,w=t[l].replace(s,"%20"),E=w.indexOf(e);E>=0?(c=w.substr(0,E),f=w.substr(E+1)):(c=w,f=""),v=decodeURIComponent(c),b=decodeURIComponent(f),Ju(d,v)?Array.isArray(d[v])?d[v].push(b):d[v]=[d[v],b]:d[v]=b}return d},Kr=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Ms=function(t,o,e,p){return o=o||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(d){var s=encodeURIComponent(Kr(d))+e;return Array.isArray(t[d])?t[d].map(function(n){return s+encodeURIComponent(Kr(n))}).join(o):s+encodeURIComponent(Kr(t[d]))}).join(o):p?encodeURIComponent(Kr(p))+e+encodeURIComponent(Kr(t)):""},Ze={},Ze.decode=Ze.parse=Os,Ze.encode=Ze.stringify=Ms,Ze.decode,Ze.encode,Ze.parse,Ze.stringify});function Cn(){throw new Error("setTimeout has not been defined")}function An(){throw new Error("clearTimeout has not been defined")}function il(t){if(nr===setTimeout)return setTimeout(t,0);if((nr===Cn||!nr)&&setTimeout)return nr=setTimeout,setTimeout(t,0);try{return nr(t,0)}catch{try{return nr.call(null,t,0)}catch{return nr.call(this||Lr,t,0)}}}function Zu(){Ur&&Nr&&(Ur=!1,Nr.length?tr=Nr.concat(tr):po=-1,tr.length&&nl())}function nl(){if(!Ur){var t=il(Zu);Ur=!0;for(var o=tr.length;o;){for(Nr=tr,tr=[];++po<o;)Nr&&Nr[po].run();po=-1,o=tr.length}Nr=null,Ur=!1,function(e){if(sr===clearTimeout)return clearTimeout(e);if((sr===An||!sr)&&clearTimeout)return sr=clearTimeout,clearTimeout(e);try{sr(e)}catch{try{return sr.call(null,e)}catch{return sr.call(this||Lr,e)}}}(t)}}function Bs(t,o){(this||Lr).fun=t,(this||Lr).array=o}function rr(){}var Rs,nr,sr,Lr,ve,Nr,tr,Ur,po,he,Xu=ke(()=>{Mt(),Rt(),Bt(),Lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ve=Rs={},function(){try{nr=typeof setTimeout=="function"?setTimeout:Cn}catch{nr=Cn}try{sr=typeof clearTimeout=="function"?clearTimeout:An}catch{sr=An}}(),tr=[],Ur=!1,po=-1,ve.nextTick=function(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];tr.push(new Bs(t,o)),tr.length!==1||Ur||il(nl)},Bs.prototype.run=function(){(this||Lr).fun.apply(null,(this||Lr).array)},ve.title="browser",ve.browser=!0,ve.env={},ve.argv=[],ve.version="",ve.versions={},ve.on=rr,ve.addListener=rr,ve.once=rr,ve.off=rr,ve.removeListener=rr,ve.removeAllListeners=rr,ve.emit=rr,ve.prependListener=rr,ve.prependOnceListener=rr,ve.listeners=function(t){return[]},ve.binding=function(t){throw new Error("process.binding is not supported")},ve.cwd=function(){return"/"},ve.chdir=function(t){throw new Error("process.chdir is not supported")},ve.umask=function(){return 0},he=Rs,he.addListener,he.argv,he.binding,he.browser,he.chdir,he.cwd,he.emit,he.env,he.listeners,he.nextTick,he.off,he.on,he.once,he.prependListener,he.prependOnceListener,he.removeAllListeners,he.removeListener,he.title,he.umask,he.version,he.versions});function tc(){if(Pn)return Bo;Pn=!0;var t=Bo={},o,e;function p(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=p}catch{o=p}try{typeof clearTimeout=="function"?e=clearTimeout:e=d}catch{e=d}})();function s(k){if(o===setTimeout)return setTimeout(k,0);if((o===p||!o)&&setTimeout)return o=setTimeout,setTimeout(k,0);try{return o(k,0)}catch{try{return o.call(null,k,0)}catch{return o.call(this||Pr,k,0)}}}function n(k){if(e===clearTimeout)return clearTimeout(k);if((e===d||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(k);try{return e(k)}catch{try{return e.call(null,k)}catch{return e.call(this||Pr,k)}}}var u=[],l=!1,c,f=-1;function v(){!l||!c||(l=!1,c.length?u=c.concat(u):f=-1,u.length&&b())}function b(){if(!l){var k=s(v);l=!0;for(var N=u.length;N;){for(c=u,u=[];++f<N;)c&&c[f].run();f=-1,N=u.length}c=null,l=!1,n(k)}}t.nextTick=function(k){var N=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)N[z-1]=arguments[z];u.push(new w(k,N)),u.length===1&&!l&&s(b)};function w(k,N){(this||Pr).fun=k,(this||Pr).array=N}w.prototype.run=function(){(this||Pr).fun.apply(null,(this||Pr).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function E(){}return t.on=E,t.addListener=E,t.once=E,t.off=E,t.removeListener=E,t.removeAllListeners=E,t.emit=E,t.prependListener=E,t.prependOnceListener=E,t.listeners=function(k){return[]},t.binding=function(k){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(k){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Bo}var Bo,Pn,Pr,le,sl=ke(()=>{Mt(),Rt(),Bt(),Bo={},Pn=!1,Pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,le=tc(),le.platform="browser",le.addListener,le.argv,le.binding,le.browser,le.chdir,le.cwd,le.emit,le.env,le.listeners,le.nextTick,le.off,le.on,le.once,le.prependListener,le.prependOnceListener,le.removeAllListeners,le.removeListener,le.title,le.umask,le.version,le.versions});function ec(){if(Fn)return Ro;Fn=!0;var t=le;function o(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function e(s,n){for(var u="",l=0,c=-1,f=0,v,b=0;b<=s.length;++b){if(b<s.length)v=s.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||f===1))if(c!==b-1&&f===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,f=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,f=0;continue}}n&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+s.slice(c+1,b):u=s.slice(c+1,b),l=b-c-1;c=b,f=0}else v===46&&f!==-1?++f:f=-1}return u}function p(s,n){var u=n.dir||n.root,l=n.base||(n.name||"")+(n.ext||"");return u?u===n.root?u+l:u+s+l:l}var d={resolve:function(){for(var s="",n=!1,u,l=arguments.length-1;l>=-1&&!n;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(s=c+"/"+s,n=c.charCodeAt(0)===47)}return s=e(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(o(s),s.length===0)return".";var n=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=e(s,!n),s.length===0&&!n&&(s="."),s.length>0&&u&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return o(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var u=arguments[n];o(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":d.normalize(s)},relative:function(s,n){if(o(s),o(n),s===n||(s=d.resolve(s),n=d.resolve(n),s===n))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var l=s.length,c=l-u,f=1;f<n.length&&n.charCodeAt(f)===47;++f);for(var v=n.length,b=v-f,w=c<b?c:b,E=-1,k=0;k<=w;++k){if(k===w){if(b>w){if(n.charCodeAt(f+k)===47)return n.slice(f+k+1);if(k===0)return n.slice(f+k)}else c>w&&(s.charCodeAt(u+k)===47?E=k:k===0&&(E=0));break}var N=s.charCodeAt(u+k),z=n.charCodeAt(f+k);if(N!==z)break;N===47&&(E=k)}var A="";for(k=u+E+1;k<=l;++k)(k===l||s.charCodeAt(k)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+n.slice(f+E):(f+=E,n.charCodeAt(f)===47&&++f,n.slice(f))},_makeLong:function(s){return s},dirname:function(s){if(o(s),s.length===0)return".";for(var n=s.charCodeAt(0),u=n===47,l=-1,c=!0,f=s.length-1;f>=1;--f)if(n=s.charCodeAt(f),n===47){if(!c){l=f;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":s.slice(0,l)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');o(s);var u=0,l=-1,c=!0,f;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var v=n.length-1,b=-1;for(f=s.length-1;f>=0;--f){var w=s.charCodeAt(f);if(w===47){if(!c){u=f+1;break}}else b===-1&&(c=!1,b=f+1),v>=0&&(w===n.charCodeAt(v)?--v===-1&&(l=f):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=s.length),s.slice(u,l)}else{for(f=s.length-1;f>=0;--f)if(s.charCodeAt(f)===47){if(!c){u=f+1;break}}else l===-1&&(c=!1,l=f+1);return l===-1?"":s.slice(u,l)}},extname:function(s){o(s);for(var n=-1,u=0,l=-1,c=!0,f=0,v=s.length-1;v>=0;--v){var b=s.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?n===-1?n=v:f!==1&&(f=1):n!==-1&&(f=-1)}return n===-1||l===-1||f===0||f===1&&n===l-1&&n===u+1?"":s.slice(n,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return p("/",s)},parse:function(s){o(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var u=s.charCodeAt(0),l=u===47,c;l?(n.root="/",c=1):c=0;for(var f=-1,v=0,b=-1,w=!0,E=s.length-1,k=0;E>=c;--E){if(u=s.charCodeAt(E),u===47){if(!w){v=E+1;break}continue}b===-1&&(w=!1,b=E+1),u===46?f===-1?f=E:k!==1&&(k=1):f!==-1&&(k=-1)}return f===-1||b===-1||k===0||k===1&&f===b-1&&f===v+1?b!==-1&&(v===0&&l?n.base=n.name=s.slice(1,b):n.base=n.name=s.slice(v,b)):(v===0&&l?(n.name=s.slice(1,f),n.base=s.slice(1,b)):(n.name=s.slice(v,f),n.base=s.slice(v,b)),n.ext=s.slice(f,b)),v>0?n.dir=s.slice(0,v-1):l&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,Ro=d,Ro}var Ro,Fn,xn,rc=ke(()=>{Mt(),Rt(),Bt(),sl(),Ro={},Fn=!1,xn=ec()}),al={};$r(al,{URL:()=>Il,Url:()=>wl,default:()=>ie,fileURLToPath:()=>ll,format:()=>El,parse:()=>Tl,pathToFileURL:()=>pl,resolve:()=>_l,resolveObject:()=>Sl});function Le(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function io(t,o,e){if(t&&He.isObject(t)&&t instanceof Le)return t;var p=new Le;return p.parse(t,o,e),p}function oc(){if(Wn)return Co;Wn=!0;var t=he;function o(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function e(s,n){for(var u="",l=0,c=-1,f=0,v,b=0;b<=s.length;++b){if(b<s.length)v=s.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||f===1))if(c!==b-1&&f===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,f=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,f=0;continue}}n&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+s.slice(c+1,b):u=s.slice(c+1,b),l=b-c-1;c=b,f=0}else v===46&&f!==-1?++f:f=-1}return u}function p(s,n){var u=n.dir||n.root,l=n.base||(n.name||"")+(n.ext||"");return u?u===n.root?u+l:u+s+l:l}var d={resolve:function(){for(var s="",n=!1,u,l=arguments.length-1;l>=-1&&!n;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(s=c+"/"+s,n=c.charCodeAt(0)===47)}return s=e(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(o(s),s.length===0)return".";var n=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=e(s,!n),s.length===0&&!n&&(s="."),s.length>0&&u&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return o(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var u=arguments[n];o(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":d.normalize(s)},relative:function(s,n){if(o(s),o(n),s===n||(s=d.resolve(s),n=d.resolve(n),s===n))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var l=s.length,c=l-u,f=1;f<n.length&&n.charCodeAt(f)===47;++f);for(var v=n.length,b=v-f,w=c<b?c:b,E=-1,k=0;k<=w;++k){if(k===w){if(b>w){if(n.charCodeAt(f+k)===47)return n.slice(f+k+1);if(k===0)return n.slice(f+k)}else c>w&&(s.charCodeAt(u+k)===47?E=k:k===0&&(E=0));break}var N=s.charCodeAt(u+k),z=n.charCodeAt(f+k);if(N!==z)break;N===47&&(E=k)}var A="";for(k=u+E+1;k<=l;++k)(k===l||s.charCodeAt(k)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+n.slice(f+E):(f+=E,n.charCodeAt(f)===47&&++f,n.slice(f))},_makeLong:function(s){return s},dirname:function(s){if(o(s),s.length===0)return".";for(var n=s.charCodeAt(0),u=n===47,l=-1,c=!0,f=s.length-1;f>=1;--f)if(n=s.charCodeAt(f),n===47){if(!c){l=f;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":s.slice(0,l)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');o(s);var u=0,l=-1,c=!0,f;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var v=n.length-1,b=-1;for(f=s.length-1;f>=0;--f){var w=s.charCodeAt(f);if(w===47){if(!c){u=f+1;break}}else b===-1&&(c=!1,b=f+1),v>=0&&(w===n.charCodeAt(v)?--v===-1&&(l=f):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=s.length),s.slice(u,l)}else{for(f=s.length-1;f>=0;--f)if(s.charCodeAt(f)===47){if(!c){u=f+1;break}}else l===-1&&(c=!1,l=f+1);return l===-1?"":s.slice(u,l)}},extname:function(s){o(s);for(var n=-1,u=0,l=-1,c=!0,f=0,v=s.length-1;v>=0;--v){var b=s.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?n===-1?n=v:f!==1&&(f=1):n!==-1&&(f=-1)}return n===-1||l===-1||f===0||f===1&&n===l-1&&n===u+1?"":s.slice(n,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return p("/",s)},parse:function(s){o(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var u=s.charCodeAt(0),l=u===47,c;l?(n.root="/",c=1):c=0;for(var f=-1,v=0,b=-1,w=!0,E=s.length-1,k=0;E>=c;--E){if(u=s.charCodeAt(E),u===47){if(!w){v=E+1;break}continue}b===-1&&(w=!1,b=E+1),u===46?f===-1?f=E:k!==1&&(k=1):f!==-1&&(k=-1)}return f===-1||b===-1||k===0||k===1&&f===b-1&&f===v+1?b!==-1&&(v===0&&l?n.base=n.name=s.slice(1,b):n.base=n.name=s.slice(v,b)):(v===0&&l?(n.name=s.slice(1,f),n.base=s.slice(1,b)):(n.name=s.slice(v,f),n.base=s.slice(v,b)),n.ext=s.slice(f,b)),v>0?n.dir=s.slice(0,v-1):l&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,Co=d,Co}function ic(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Wo?nc(t):sc(t)}function nc(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let d=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&d===102||e[p+1]==="5"&&d===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(fl,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,d=e[2];if(p<dl||p>hl||d!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function sc(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function ac(t){let o=Nn.resolve(t),e=t.charCodeAt(t.length-1);(e===cl||Wo&&e===ul)&&o[o.length-1]!==Nn.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(ml,"%25")),!Wo&&o.includes("\\")&&(o=o.replace(yl,"%5C")),o.includes(`
`)&&(o=o.replace(gl,"%0A")),o.includes("\r")&&(o=o.replace(vl,"%0D")),o.includes("	")&&(o=o.replace(bl,"%09")),p.pathname=o,p}function ll(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return No?lc(t):pc(t)}function lc(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let d=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&d===102||e[p+1]==="5"&&d===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(Rl,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,d=e[2];if(p<Ml||p>Bl||d!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function pc(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function pl(t){let o=xn.resolve(t),e=t.charCodeAt(t.length-1);(e===Ol||No&&e===kl)&&o[o.length-1]!==xn.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(Cl,"%25")),!No&&o.includes("\\")&&(o=o.replace(Al,"%5C")),o.includes(`
`)&&(o=o.replace(Pl,"%0A")),o.includes("\r")&&(o=o.replace(Fl,"%0D")),o.includes("	")&&(o=o.replace(xl,"%09")),p.pathname=o,p}var ie,Cs,He,As,Ps,Fs,xs,bo,li,pi,ui,Ws,Ns,wo,Cr,Eo,Co,Wn,Nn,js,ul,cl,dl,hl,Wo,fl,ml,yl,gl,vl,bl,Ds,wl,El,_l,Sl,Tl,Il,kl,Ol,Ml,Bl,No,Rl,Cl,Al,Pl,Fl,xl,uc=ke(()=>{Mt(),Rt(),Bt(),Yu(),Qu(),Xu(),rc(),sl(),ie={},Cs=Er,He={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},ie.parse=io,ie.resolve=function(t,o){return io(t,!1,!0).resolve(o)},ie.resolveObject=function(t,o){return t?io(t,!1,!0).resolveObject(o):o},ie.format=function(t){return He.isString(t)&&(t=io(t)),t instanceof Le?t.format():Le.prototype.format.call(t)},ie.Url=Le,As=/^([a-z0-9.+-]+:)/i,Ps=/:[0-9]*$/,Fs=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xs=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),bo=["'"].concat(xs),li=["%","/","?",";","#"].concat(bo),pi=["/","?","#"],ui=/^[+a-z0-9A-Z_-]{0,63}$/,Ws=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ns={javascript:!0,"javascript:":!0},wo={javascript:!0,"javascript:":!0},Cr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Eo=Ze,Le.prototype.parse=function(t,o,e){if(!He.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var p=t.indexOf("?"),d=p!==-1&&p<t.indexOf("#")?"?":"#",s=t.split(d);s[0]=s[0].replace(/\\/g,"/");var n=t=s.join(d);if(n=n.trim(),!e&&t.split("#").length===1){var u=Fs.exec(n);if(u)return this.path=n,this.href=n,this.pathname=u[1],u[2]?(this.search=u[2],this.query=o?Eo.parse(this.search.substr(1)):this.search.substr(1)):o&&(this.search="",this.query={}),this}var l=As.exec(n);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=n.substr(0,2)==="//";!f||l&&wo[l]||(n=n.substr(2),this.slashes=!0)}if(!wo[l]&&(f||l&&!Cr[l])){for(var v,b,w=-1,E=0;E<pi.length;E++)(k=n.indexOf(pi[E]))!==-1&&(w===-1||k<w)&&(w=k);for((b=w===-1?n.lastIndexOf("@"):n.lastIndexOf("@",w))!==-1&&(v=n.slice(0,b),n=n.slice(b+1),this.auth=decodeURIComponent(v)),w=-1,E=0;E<li.length;E++){var k;(k=n.indexOf(li[E]))!==-1&&(w===-1||k<w)&&(w=k)}w===-1&&(w=n.length),this.host=n.slice(0,w),n=n.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var z=this.hostname.split(/\./),A=(E=0,z.length);E<A;E++){var R=z[E];if(R&&!R.match(ui)){for(var V="",X=0,j=R.length;X<j;X++)R.charCodeAt(X)>127?V+="x":V+=R[X];if(!V.match(ui)){var T=z.slice(0,E),H=z.slice(E+1),rt=R.match(Ws);rt&&(T.push(rt[1]),H.unshift(rt[2])),H.length&&(n="/"+H.join(".")+n),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=Cs.toASCII(this.hostname));var D=this.port?":"+this.port:"",ct=this.hostname||"";this.host=ct+D,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),n[0]!=="/"&&(n="/"+n))}if(!Ns[c])for(E=0,A=bo.length;E<A;E++){var x=bo[E];if(n.indexOf(x)!==-1){var q=encodeURIComponent(x);q===x&&(q=escape(x)),n=n.split(x).join(q)}}var Tt=n.indexOf("#");Tt!==-1&&(this.hash=n.substr(Tt),n=n.slice(0,Tt));var lt=n.indexOf("?");if(lt!==-1?(this.search=n.substr(lt),this.query=n.substr(lt+1),o&&(this.query=Eo.parse(this.query)),n=n.slice(0,lt)):o&&(this.search="",this.query={}),n&&(this.pathname=n),Cr[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var Ot=this.search||"";this.path=D+Ot}return this.href=this.format(),this},Le.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var o=this.protocol||"",e=this.pathname||"",p=this.hash||"",d=!1,s="";this.host?d=t+this.host:this.hostname&&(d=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(d+=":"+this.port)),this.query&&He.isObject(this.query)&&Object.keys(this.query).length&&(s=Eo.stringify(this.query));var n=this.search||s&&"?"+s||"";return o&&o.substr(-1)!==":"&&(o+=":"),this.slashes||(!o||Cr[o])&&d!==!1?(d="//"+(d||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):d||(d=""),p&&p.charAt(0)!=="#"&&(p="#"+p),n&&n.charAt(0)!=="?"&&(n="?"+n),o+d+(e=e.replace(/[?#]/g,function(u){return encodeURIComponent(u)}))+(n=n.replace("#","%23"))+p},Le.prototype.resolve=function(t){return this.resolveObject(io(t,!1,!0)).format()},Le.prototype.resolveObject=function(t){if(He.isString(t)){var o=new Le;o.parse(t,!1,!0),t=o}for(var e=new Le,p=Object.keys(this),d=0;d<p.length;d++){var s=p[d];e[s]=this[s]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var n=Object.keys(t),u=0;u<n.length;u++){var l=n[u];l!=="protocol"&&(e[l]=t[l])}return Cr[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Cr[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var v=c[f];e[v]=t[v]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||wo[t.protocol])e.pathname=t.pathname;else{for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),e.pathname=b.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var w=e.pathname||"",E=e.search||"";e.path=w+E}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var k=e.pathname&&e.pathname.charAt(0)==="/",N=t.host||t.pathname&&t.pathname.charAt(0)==="/",z=N||k||e.host&&t.pathname,A=z,R=e.pathname&&e.pathname.split("/")||[],V=(b=t.pathname&&t.pathname.split("/")||[],e.protocol&&!Cr[e.protocol]);if(V&&(e.hostname="",e.port=null,e.host&&(R[0]===""?R[0]=e.host:R.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),z=z&&(b[0]===""||R[0]==="")),N)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,R=b;else if(b.length)R||(R=[]),R.pop(),R=R.concat(b),e.search=t.search,e.query=t.query;else if(!He.isNullOrUndefined(t.search))return V&&(e.hostname=e.host=R.shift(),(rt=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=rt.shift(),e.host=e.hostname=rt.shift())),e.search=t.search,e.query=t.query,He.isNull(e.pathname)&&He.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!R.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var X=R.slice(-1)[0],j=(e.host||t.host||R.length>1)&&(X==="."||X==="..")||X==="",T=0,H=R.length;H>=0;H--)(X=R[H])==="."?R.splice(H,1):X===".."?(R.splice(H,1),T++):T&&(R.splice(H,1),T--);if(!z&&!A)for(;T--;T)R.unshift("..");!z||R[0]===""||R[0]&&R[0].charAt(0)==="/"||R.unshift(""),j&&R.join("/").substr(-1)!=="/"&&R.push("");var rt,D=R[0]===""||R[0]&&R[0].charAt(0)==="/";return V&&(e.hostname=e.host=D?"":R.length?R.shift():"",(rt=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=rt.shift(),e.host=e.hostname=rt.shift())),(z=z||e.host&&R.length)&&!D&&R.unshift(""),R.length?e.pathname=R.join("/"):(e.pathname=null,e.path=null),He.isNull(e.pathname)&&He.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Le.prototype.parseHost=function(){var t=this.host,o=Ps.exec(t);o&&((o=o[0])!==":"&&(this.port=o.substr(1)),t=t.substr(0,t.length-o.length)),t&&(this.hostname=t)},ie.Url,ie.format,ie.resolve,ie.resolveObject,Co={},Wn=!1,Nn=oc(),js=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ie.URL=typeof URL<"u"?URL:null,ie.pathToFileURL=ac,ie.fileURLToPath=ic,ie.Url,ie.format,ie.resolve,ie.resolveObject,ie.URL,ul=92,cl=47,dl=97,hl=122,Wo=js==="win32",fl=/\//g,ml=/%/g,yl=/\\/g,gl=/\n/g,vl=/\r/g,bl=/\t/g,Ds=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ie.URL=typeof URL<"u"?URL:null,ie.pathToFileURL=pl,ie.fileURLToPath=ll,wl=ie.Url,El=ie.format,_l=ie.resolve,Sl=ie.resolveObject,Tl=ie.parse,Il=ie.URL,kl=92,Ol=47,Ml=97,Bl=122,No=Ds==="win32",Rl=/\//g,Cl=/%/g,Al=/\\/g,Pl=/\n/g,Fl=/\r/g,xl=/\t/g}),cc=xt((t,o)=>{Mt(),Rt(),Bt(),o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Qn=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=t.writev=void 0;var o=Hr(),e=(Me(),se(Oe));function p(s,n){let u=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?u[l]=e.Buffer.from(s[l].chunk,"utf8"):u[l]=s[l].chunk;this._write(e.Buffer.concat(u),"binary",n)}t.writev=p;var d=class extends o.Duplex{constructor(s,n,u){super({objectMode:!0}),this.proxy=n,this.socket=u,this.writeQueue=[],s.objectMode||(this._writev=p.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{this.destroyed||this.push(l)})}_read(s){this.proxy.read(s)}_write(s,n,u){this.isSocketOpen?this.writeToProxy(s,n,u):this.writeQueue.push({chunk:s,encoding:n,cb:u})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,n){this.writeQueue=[],this.proxy.destroy(),n(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,n,u){this.proxy.write(s,n)===!1?this.proxy.once("drain",u):u()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:n,cb:u}=this.writeQueue.shift();this.writeToProxy(s,n,u)}}};t.BufferedDuplex=d}),_o=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var e=(Me(),se(Oe)),p=o(cc()),d=o(dr()),s=Hr(),n=o(Vo()),u=Qn(),l=(0,d.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function f(z,A){let R=`${z.protocol}://${z.hostname}:${z.port}${z.path}`;return typeof z.transformWsUrl=="function"&&(R=z.transformWsUrl(R,z,A)),R}function v(z){let A=z;return z.port||(z.protocol==="wss"?A.port=443:A.port=80),z.path||(A.path="/"),z.wsOptions||(A.wsOptions={}),!n.default&&!z.forceNativeWebSocket&&z.protocol==="wss"&&c.forEach(R=>{Object.prototype.hasOwnProperty.call(z,R)&&!Object.prototype.hasOwnProperty.call(z.wsOptions,R)&&(A.wsOptions[R]=z[R])}),A}function b(z){let A=v(z);if(A.hostname||(A.hostname=A.host),!A.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let R=new URL(document.URL);A.hostname=R.hostname,A.port||(A.port=Number(R.port))}return A.objectMode===void 0&&(A.objectMode=!(A.binary===!0||A.binary===void 0)),A}function w(z,A,R){l("createWebSocket"),l(`protocol: ${R.protocolId} ${R.protocolVersion}`);let V=R.protocolId==="MQIsdp"&&R.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${A} and protocol: ${V}`);let X;return R.createWebsocket?X=R.createWebsocket(A,[V],R):X=new p.default(A,[V],R.wsOptions),X}function E(z,A){let R=A.protocolId==="MQIsdp"&&A.protocolVersion===3?"mqttv3.1":"mqtt",V=f(A,z),X;return A.createWebsocket?X=A.createWebsocket(V,[R],A):X=new WebSocket(V,[R]),X.binaryType="arraybuffer",X}var k=(z,A)=>{l("streamBuilder");let R=v(A);R.hostname=R.hostname||R.host||"localhost";let V=f(R,z),X=w(z,V,R),j=p.default.createWebSocketStream(X,R.wsOptions);return j.url=V,X.on("close",()=>{j.destroy()}),j};t.streamBuilder=k;var N=(z,A)=>{l("browserStreamBuilder");let R,V=b(A).browserBufferSize||1024*512,X=A.browserBufferTimeout||1e3,j=!A.objectMode,T=E(z,A),H=D(A,lt,Ot);A.objectMode||(H._writev=u.writev.bind(H)),H.on("close",()=>{T.close()});let rt=typeof T.addEventListener<"u";T.readyState===T.OPEN?(R=H,R.socket=T):(R=new u.BufferedDuplex(A,H,T),rt?T.addEventListener("open",ct):T.onopen=ct),rt?(T.addEventListener("close",x),T.addEventListener("error",q),T.addEventListener("message",Tt)):(T.onclose=x,T.onerror=q,T.onmessage=Tt);function D(kt,Y,pt){let ft=new s.Transform({objectMode:kt.objectMode});return ft._write=Y,ft._flush=pt,ft}function ct(){l("WebSocket onOpen"),R instanceof u.BufferedDuplex&&R.socketReady()}function x(kt){l("WebSocket onClose",kt),R.end(),R.destroy()}function q(kt){l("WebSocket onError",kt);let Y=new Error("WebSocket error");Y.event=kt,R.destroy(Y)}async function Tt(kt){let{data:Y}=kt;Y instanceof ArrayBuffer?Y=e.Buffer.from(Y):Y instanceof Blob?Y=e.Buffer.from(await new Response(Y).arrayBuffer()):Y=e.Buffer.from(Y,"utf8"),H&&!H.destroyed&&H.push(Y)}function lt(kt,Y,pt){if(T.bufferedAmount>V){setTimeout(lt,X,kt,Y,pt);return}j&&typeof kt=="string"&&(kt=e.Buffer.from(kt,"utf8"));try{T.send(kt)}catch(ft){return pt(ft)}pt()}function Ot(kt){T.close(),kt()}return R};t.browserStreamBuilder=N}),Zn={};$r(Zn,{Server:()=>ue,Socket:()=>ue,Stream:()=>ue,_createServerHandle:()=>ue,_normalizeArgs:()=>ue,_setSimultaneousAccepts:()=>ue,connect:()=>ue,createConnection:()=>ue,createServer:()=>ue,default:()=>Wl,isIP:()=>ue,isIPv4:()=>ue,isIPv6:()=>ue});function ue(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Wl,Nl=ke(()=>{Mt(),Rt(),Bt(),Wl={_createServerHandle:ue,_normalizeArgs:ue,_setSimultaneousAccepts:ue,connect:ue,createConnection:ue,createServer:ue,isIP:ue,isIPv4:ue,isIPv6:ue,Server:ue,Socket:ue,Stream:ue}}),Ls=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((Nl(),se(Zn))),p=o(dr()),d=(0,p.default)("mqttjs:tcp"),s=(n,u)=>{u.port=u.port||1883,u.hostname=u.hostname||u.host||"localhost";let{port:l,path:c}=u,f=u.hostname;return d("port %d and host %s",l,f),e.default.createConnection({port:l,host:f,path:c})};t.default=s}),jl={};$r(jl,{default:()=>Dl});var Dl,dc=ke(()=>{Mt(),Rt(),Bt(),Dl={}}),Us=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((dc(),se(jl))),p=o((Nl(),se(Zn))),d=o(dr()),s=(0,d.default)("mqttjs:tls"),n=(u,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",p.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,s("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let c=e.default.connect(l);c.on("secureConnect",()=>{l.rejectUnauthorized&&!c.authorized?c.emit("error",new Error("TLS not authorized")):c.removeListener("error",f)});function f(v){l.rejectUnauthorized&&u.emit("error",v),c.end()}return c.on("error",f),c};t.default=n}),zs=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(Me(),se(Oe)),e=Hr(),p=Qn(),d,s,n;function u(){let b=new e.Transform;return b._write=(w,E,k)=>{d.send({data:w.buffer,success(){k()},fail(N){k(new Error(N))}})},b._flush=w=>{d.close({success(){w()}})},b}function l(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,w){let E=b.protocol==="wxs"?"wss":"ws",k=`${E}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(k=`${E}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(k=b.transformWsUrl(k,b,w)),k}function f(){d.onOpen(()=>{n.socketReady()}),d.onMessage(b=>{let{data:w}=b;w instanceof ArrayBuffer?w=o.Buffer.from(w):w=o.Buffer.from(w,"utf8"),s.push(w)}),d.onClose(()=>{n.emit("close"),n.end(),n.destroy()}),d.onError(b=>{let w=new Error(b.errMsg);n.destroy(w)})}var v=(b,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let E=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";l(w);let k=c(w,b);d=wx.connectSocket({url:k,protocols:[E]}),s=u(),n=new p.BufferedDuplex(w,s,d),n._destroy=(z,A)=>{d.close({success(){A&&A(z)}})};let N=n.destroy;return n.destroy=(z,A)=>(n.destroy=N,setTimeout(()=>{d.close({fail(){n._destroy(z,A)}})},0),n),f(),n};t.default=v}),$s=xt(t=>{Mt(),Rt(),Bt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(Me(),se(Oe)),e=Hr(),p=Qn(),d,s,n,u=!1;function l(){let w=new e.Transform;return w._write=(E,k,N)=>{d.sendSocketMessage({data:E.buffer,success(){N()},fail(){N(new Error)}})},w._flush=E=>{d.closeSocket({success(){E()}})},w}function c(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function f(w,E){let k=w.protocol==="alis"?"wss":"ws",N=`${k}://${w.hostname}${w.path}`;return w.port&&w.port!==80&&w.port!==443&&(N=`${k}://${w.hostname}:${w.port}${w.path}`),typeof w.transformWsUrl=="function"&&(N=w.transformWsUrl(N,w,E)),N}function v(){u||(u=!0,d.onSocketOpen(()=>{n.socketReady()}),d.onSocketMessage(w=>{if(typeof w.data=="string"){let E=o.Buffer.from(w.data,"base64");s.push(E)}else{let E=new FileReader;E.addEventListener("load",()=>{let k=E.result;k instanceof ArrayBuffer?k=o.Buffer.from(k):k=o.Buffer.from(k,"utf8"),s.push(k)}),E.readAsArrayBuffer(w.data)}}),d.onSocketClose(()=>{n.end(),n.destroy()}),d.onSocketError(w=>{n.destroy(w)}))}var b=(w,E)=>{if(E.hostname=E.hostname||E.host,!E.hostname)throw new Error("Could not determine host. Specify host manually.");let k=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt";c(E);let N=f(E,w);return d=E.my,d.connectSocket({url:N,protocols:k}),s=l(),n=new p.BufferedDuplex(E,s,d),v(),n};t.default=b}),hc=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=void 0;var e=o(dr()),p=o((uc(),se(al))),d=o(Bn()),s=o(Vo());typeof(oe==null?void 0:oe.nextTick)!="function"&&(oe.nextTick=setImmediate);var n=(0,e.default)("mqttjs"),u=null;function l(v){let b;v.auth&&(b=v.auth.match(/^(.+):(.+)$/),b?(v.username=b[1],v.password=b[2]):v.username=v.auth)}function c(v,b){var w,E,k,N;if(n("connecting to an MQTT broker..."),typeof v=="object"&&!b&&(b=v,v=""),b=b||{},v&&typeof v=="string"){let R=p.default.parse(v,!0),V={};if(R.port!=null&&(V.port=Number(R.port)),V.host=R.hostname,V.query=R.query,V.auth=R.auth,V.protocol=R.protocol,V.path=R.path,V.protocol=(w=V.protocol)===null||w===void 0?void 0:w.replace(/:$/,""),b=Object.assign(Object.assign({},V),b),!b.protocol)throw new Error("Missing protocol")}if(b.unixSocket=b.unixSocket||((E=b.protocol)===null||E===void 0?void 0:E.includes("+unix")),b.unixSocket?b.protocol=b.protocol.replace("+unix",""):!(!((k=b.protocol)===null||k===void 0)&&k.startsWith("ws"))&&!(!((N=b.protocol)===null||N===void 0)&&N.startsWith("wx"))&&delete b.path,l(b),b.query&&typeof b.query.clientId=="string"&&(b.clientId=b.query.clientId),b.cert&&b.key)if(b.protocol){if(["mqtts","wss","wxs","alis"].indexOf(b.protocol)===-1)switch(b.protocol){case"mqtt":b.protocol="mqtts";break;case"ws":b.protocol="wss";break;case"wx":b.protocol="wxs";break;case"ali":b.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${b.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(u||(u={},!s.default&&!b.forceNativeWebSocket?(u.ws=_o().streamBuilder,u.wss=_o().streamBuilder,u.mqtt=Ls().default,u.tcp=Ls().default,u.ssl=Us().default,u.tls=u.ssl,u.mqtts=Us().default):(u.ws=_o().browserStreamBuilder,u.wss=_o().browserStreamBuilder,u.wx=zs().default,u.wxs=zs().default,u.ali=$s().default,u.alis=$s().default)),!u[b.protocol]){let R=["mqtts","wss"].indexOf(b.protocol)!==-1;b.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((V,X)=>R&&X%2===0?!1:typeof u[V]=="function")[0]}if(b.clean===!1&&!b.clientId)throw new Error("Missing clientId for unclean clients");b.protocol&&(b.defaultProtocol=b.protocol);function z(R){return b.servers&&((!R._reconnectCount||R._reconnectCount===b.servers.length)&&(R._reconnectCount=0),b.host=b.servers[R._reconnectCount].host,b.port=b.servers[R._reconnectCount].port,b.protocol=b.servers[R._reconnectCount].protocol?b.servers[R._reconnectCount].protocol:b.defaultProtocol,b.hostname=b.host,R._reconnectCount++),n("calling streambuilder for",b.protocol),u[b.protocol](R,b)}let A=new d.default(z,b);return A.on("error",()=>{}),A}function f(v,b,w=!0){return new Promise((E,k)=>{let N=c(v,b),z={connect:R=>{A(),E(N)},end:()=>{A(),E(N)},error:R=>{A(),N.end(),k(R)}};w===!1&&(z.close=()=>{z.error(new Error("Couldn't connect to server"))});function A(){Object.keys(z).forEach(R=>{N.off(R,z[R])})}Object.keys(z).forEach(R=>{N.on(R,z[R])})})}t.connectAsync=f,t.default=c}),Vs=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__createBinding||(Object.create?function(w,E,k,N){N===void 0&&(N=k);var z=Object.getOwnPropertyDescriptor(E,k);(!z||("get"in z?!E.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return E[k]}}),Object.defineProperty(w,N,z)}:function(w,E,k,N){N===void 0&&(N=k),w[N]=E[k]}),e=t&&t.__setModuleDefault||(Object.create?function(w,E){Object.defineProperty(w,"default",{enumerable:!0,value:E})}:function(w,E){w.default=E}),p=t&&t.__importStar||function(w){if(w&&w.__esModule)return w;var E={};if(w!=null)for(var k in w)k!=="default"&&Object.prototype.hasOwnProperty.call(w,k)&&o(E,w,k);return e(E,w),E},d=t&&t.__exportStar||function(w,E){for(var k in w)k!=="default"&&!Object.prototype.hasOwnProperty.call(E,k)&&o(E,w,k)},s=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var n=s(Bn());t.MqttClient=n.default;var u=s(ja());t.DefaultMessageIdProvider=u.default;var l=s(Ku());t.UniqueMessageIdProvider=l.default;var c=s(Da());t.Store=c.default;var f=p(hc());t.connect=f.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return f.connectAsync}});var v=s(el());t.KeepaliveManager=v.default,t.Client=n.default,d(Bn(),t),d(to(),t);var b=$o();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})}),fc=xt(t=>{Mt(),Rt(),Bt();var o=t&&t.__createBinding||(Object.create?function(n,u,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(u,l);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(n,c,f)}:function(n,u,l,c){c===void 0&&(c=l),n[c]=u[l]}),e=t&&t.__setModuleDefault||(Object.create?function(n,u){Object.defineProperty(n,"default",{enumerable:!0,value:u})}:function(n,u){n.default=u}),p=t&&t.__importStar||function(n){if(n&&n.__esModule)return n;var u={};if(n!=null)for(var l in n)l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)&&o(u,n,l);return e(u,n),u},d=t&&t.__exportStar||function(n,u){for(var l in n)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&o(u,n,l)};Object.defineProperty(t,"__esModule",{value:!0});var s=p(Vs());t.default=s,d(Vs(),t)});const mc=fc();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/var Ar={},Gs;function yc(){return Gs||(Gs=1,function(t){var o=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,y){i!=Array.prototype&&i!=Object.prototype&&(i[a]=y.value)},e=typeof window<"u"&&window===Ar?Ar:typeof Jo<"u"&&Jo!=null?Jo:Ar;function p(i,a){if(a){var y=e;i=i.split(".");for(var I=0;I<i.length-1;I++){var $=i[I];$ in y||(y[$]={}),y=y[$]}i=i[i.length-1],I=y[i],a=a(I),a!=I&&a!=null&&o(y,i,{configurable:!0,writable:!0,value:a})}}function d(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function s(){s=function(){},e.Symbol||(e.Symbol=u)}function n(i,a){this.a=i,o(this,"description",{configurable:!0,writable:!0,value:a})}n.prototype.toString=function(){return this.a};var u=function(){function i(y){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(y||"")+"_"+a++,y)}var a=0;return i}();function l(){s();var i=e.Symbol.iterator;i||(i=e.Symbol.iterator=e.Symbol("Symbol.iterator")),typeof Array.prototype[i]!="function"&&o(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return c(d(this))}}),l=function(){}}function c(i){return l(),i={next:i},i[e.Symbol.iterator]=function(){return this},i}function f(i,a){l(),i instanceof String&&(i+="");var y=0,I={next:function(){if(y<i.length){var $=y++;return{value:a($,i[$]),done:!1}}return I.next=function(){return{done:!0,value:void 0}},I.next()}};return I[Symbol.iterator]=function(){return I},I}p("Array.prototype.entries",function(i){return i||function(){return f(this,function(a,y){return[a,y]})}});var v=Ar||self;function b(i,a,y){i=i.split("."),y=y||v,i[0]in y||typeof y.execScript>"u"||y.execScript("var "+i[0]);for(var I;i.length&&(I=i.shift());)i.length||a===void 0?y[I]&&y[I]!==Object.prototype[I]?y=y[I]:y=y[I]={}:y[I]=a}function w(i){var a=typeof i;if(a=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return a;var y=Object.prototype.toString.call(i);if(y=="[object Window]")return"object";if(y=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(y=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof i.call>"u")return"object";return a}function E(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function k(i,a,y){b(i,a,y)}function N(i,a){function y(){}y.prototype=a.prototype,i.prototype=new y,i.prototype.constructor=i}var z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(i,a){for(var y,I,$=1;$<arguments.length;$++){I=arguments[$];for(y in I)i[y]=I[y];for(var dt=0;dt<z.length;dt++)y=z[dt],Object.prototype.hasOwnProperty.call(I,y)&&(i[y]=I[y])}}var R=Array.prototype.forEach?function(i,a){Array.prototype.forEach.call(i,a,void 0)}:function(i,a){for(var y=i.length,I=typeof i=="string"?i.split(""):i,$=0;$<y;$++)$ in I&&a.call(void 0,I[$],$,i)},V=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var y=i.length,I=Array(y),$=typeof i=="string"?i.split(""):i,dt=0;dt<y;dt++)dt in $&&(I[dt]=a.call(void 0,$[dt],dt,i));return I};function X(i,a,y){return 2>=arguments.length?Array.prototype.slice.call(i,a):Array.prototype.slice.call(i,a,y)}function j(i,a,y,I){var $="Assertion failed";if(y){$+=": "+y;var dt=I}else i&&($+=": "+i,dt=a);throw Error($,dt||[])}function T(i,a,y){for(var I=[],$=2;$<arguments.length;++$)I[$-2]=arguments[$];return i||j("",null,a,I),i}function H(i,a,y){for(var I=[],$=2;$<arguments.length;++$)I[$-2]=arguments[$];typeof i!="string"&&j("Expected string but got %s: %s.",[w(i),i],a,I)}function rt(i,a,y){for(var I=[],$=2;$<arguments.length;++$)I[$-2]=arguments[$];Array.isArray(i)||j("Expected array but got %s: %s.",[w(i),i],a,I)}function D(i,a){for(var y=[],I=1;I<arguments.length;++I)y[I-1]=arguments[I];throw Error("Failure"+(i?": "+i:""),y)}function ct(i,a,y,I){for(var $=[],dt=3;dt<arguments.length;++dt)$[dt-3]=arguments[dt];i instanceof a||j("Expected instanceof %s but got %s.",[x(a),x(i)],y,$)}function x(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i}function q(i,a){if(this.c=i,this.b=a,this.a={},this.arrClean=!0,0<this.c.length){for(i=0;i<this.c.length;i++){a=this.c[i];var y=a[0];this.a[y.toString()]=new kt(y,a[1])}this.arrClean=!0}}b("jspb.Map",q,void 0),q.prototype.g=function(){if(this.arrClean){if(this.b){var i=this.a,a;for(a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var y=i[a].a;y&&y.g()}}}else{for(this.c.length=0,i=Ot(this),i.sort(),a=0;a<i.length;a++){var I=this.a[i[a]];(y=I.a)&&y.g(),this.c.push([I.key,I.value])}this.arrClean=!0}return this.c},q.prototype.toArray=q.prototype.g,q.prototype.Mc=function(i,a){for(var y=this.g(),I=[],$=0;$<y.length;$++){var dt=this.a[y[$][0].toString()];lt(this,dt);var Pt=dt.a;Pt?(T(a),I.push([dt.key,a(i,Pt)])):I.push([dt.key,dt.value])}return I},q.prototype.toObject=q.prototype.Mc,q.fromObject=function(i,a,y){a=new q([],a);for(var I=0;I<i.length;I++){var $=i[I][0],dt=y(i[I][1]);a.set($,dt)}return a};function Tt(i){this.a=0,this.b=i}Tt.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(Tt.prototype[Symbol.iterator]=function(){return this}),q.prototype.Jb=function(){return Ot(this).length},q.prototype.getLength=q.prototype.Jb,q.prototype.clear=function(){this.a={},this.arrClean=!1},q.prototype.clear=q.prototype.clear,q.prototype.Cb=function(i){i=i.toString();var a=this.a.hasOwnProperty(i);return delete this.a[i],this.arrClean=!1,a},q.prototype.del=q.prototype.Cb,q.prototype.Eb=function(){var i=[],a=Ot(this);a.sort();for(var y=0;y<a.length;y++){var I=this.a[a[y]];i.push([I.key,I.value])}return i},q.prototype.getEntryList=q.prototype.Eb,q.prototype.entries=function(){var i=[],a=Ot(this);a.sort();for(var y=0;y<a.length;y++){var I=this.a[a[y]];i.push([I.key,lt(this,I)])}return new Tt(i)},q.prototype.entries=q.prototype.entries,q.prototype.keys=function(){var i=[],a=Ot(this);a.sort();for(var y=0;y<a.length;y++)i.push(this.a[a[y]].key);return new Tt(i)},q.prototype.keys=q.prototype.keys,q.prototype.values=function(){var i=[],a=Ot(this);a.sort();for(var y=0;y<a.length;y++)i.push(lt(this,this.a[a[y]]));return new Tt(i)},q.prototype.values=q.prototype.values,q.prototype.forEach=function(i,a){var y=Ot(this);y.sort();for(var I=0;I<y.length;I++){var $=this.a[y[I]];i.call(a,lt(this,$),$.key,this)}},q.prototype.forEach=q.prototype.forEach,q.prototype.set=function(i,a){var y=new kt(i);return this.b?(y.a=a,y.value=a.g()):y.value=a,this.a[i.toString()]=y,this.arrClean=!1,this},q.prototype.set=q.prototype.set;function lt(i,a){return i.b?(a.a||(a.a=new i.b(a.value)),a.a):a.value}q.prototype.get=function(i){if(i=this.a[i.toString()])return lt(this,i)},q.prototype.get=q.prototype.get,q.prototype.has=function(i){return i.toString()in this.a},q.prototype.has=q.prototype.has,q.prototype.Jc=function(i,a,y,I,$){var dt=Ot(this);dt.sort();for(var Pt=0;Pt<dt.length;Pt++){var Ht=this.a[dt[Pt]];a.Va(i),y.call(a,1,Ht.key),this.b?I.call(a,2,lt(this,Ht),$):I.call(a,2,Ht.value),a.Ya()}},q.prototype.serializeBinary=q.prototype.Jc,q.deserializeBinary=function(i,a,y,I,$,dt,Pt){for(;a.oa()&&!a.bb();){var Ht=a.c;Ht==1?dt=y.call(a):Ht==2&&(i.b?(T($),Pt||(Pt=new i.b),I.call(a,Pt,$)):Pt=I.call(a))}T(dt!=null),T(Pt!=null),i.set(dt,Pt)};function Ot(i){i=i.a;var a=[],y;for(y in i)Object.prototype.hasOwnProperty.call(i,y)&&a.push(y);return a}function kt(i,a){this.key=i,this.value=a,this.a=void 0}function Y(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var a="",y=0;y<i.length;y+=8192)a+=String.fromCharCode.apply(null,X(i,y,y+8192));return a}var pt={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},ft={"'":"\\'"},et={},_=null;function Q(i,a){a===void 0&&(a=0),it(),a=et[a];for(var y=[],I=0;I<i.length;I+=3){var $=i[I],dt=I+1<i.length,Pt=dt?i[I+1]:0,Ht=I+2<i.length,we=Ht?i[I+2]:0,Ir=$>>2;$=($&3)<<4|Pt>>4,Pt=(Pt&15)<<2|we>>6,we&=63,Ht||(we=64,dt||(Pt=64)),y.push(a[Ir],a[$],a[Pt]||"",a[we]||"")}return y.join("")}function nt(i){var a=i.length,y=3*a/4;y%3?y=Math.floor(y):"=.".indexOf(i[a-1])!=-1&&(y="=.".indexOf(i[a-2])!=-1?y-2:y-1);var I=new Uint8Array(y),$=0;return yt(i,function(dt){I[$++]=dt}),I.subarray(0,$)}function yt(i,a){function y(we){for(;I<i.length;){var Ir=i.charAt(I++),ts=_[Ir];if(ts!=null)return ts;if(!/^[\s\xa0]*$/.test(Ir))throw Error("Unknown base64 encoding at char: "+Ir)}return we}it();for(var I=0;;){var $=y(-1),dt=y(0),Pt=y(64),Ht=y(64);if(Ht===64&&$===-1)break;a($<<2|dt>>4),Pt!=64&&(a(dt<<4&240|Pt>>2),Ht!=64&&a(Pt<<6&192|Ht))}}function it(){if(!_){_={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],y=0;5>y;y++){var I=i.concat(a[y].split(""));et[y]=I;for(var $=0;$<I.length;$++){var dt=I[$];_[dt]===void 0&&(_[dt]=$)}}}}b("jspb.ConstBinaryMessage",function(){},void 0),b("jspb.BinaryMessage",function(){},void 0),b("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),b("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),b("jspb.BinaryConstants.FieldTypeToWireType",function(i){switch(i){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),b("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),b("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),b("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),b("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),b("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),b("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),b("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),b("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),b("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),b("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),b("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),b("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),b("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var C=0,O=0;b("jspb.utils.getSplit64Low",function(){return C},void 0),b("jspb.utils.getSplit64High",function(){return O},void 0);function st(i){var a=i>>>0;i=Math.floor((i-a)/4294967296)>>>0,C=a,O=i}b("jspb.utils.splitUint64",st,void 0);function mt(i){var a=0>i;i=Math.abs(i);var y=i>>>0;i=Math.floor((i-y)/4294967296),i>>>=0,a&&(i=~i>>>0,y=(~y>>>0)+1,4294967295<y&&(y=0,i++,4294967295<i&&(i=0))),C=y,O=i}b("jspb.utils.splitInt64",mt,void 0);function ht(i){var a=0>i;i=2*Math.abs(i),st(i),i=C;var y=O;a&&(i==0?y==0?y=i=4294967295:(y--,i=4294967295):i--),C=i,O=y}b("jspb.utils.splitZigzag64",ht,void 0);function ut(i){var a=0>i?1:0;if(i=a?-i:i,i===0)0<1/i?C=O=0:(O=0,C=2147483648);else if(isNaN(i))O=0,C=2147483647;else if(34028234663852886e22<i)O=0,C=(a<<31|2139095040)>>>0;else if(11754943508222875e-54>i)i=Math.round(i/Math.pow(2,-149)),O=0,C=(a<<31|i)>>>0;else{var y=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-y),i=Math.round(8388608*i),16777216<=i&&++y,O=0,C=(a<<31|y+127<<23|i&8388607)>>>0}}b("jspb.utils.splitFloat32",ut,void 0);function gt(i){var a=0>i?1:0;if(i=a?-i:i,i===0)O=0<1/i?0:2147483648,C=0;else if(isNaN(i))O=2147483647,C=4294967295;else if(17976931348623157e292<i)O=(a<<31|2146435072)>>>0,C=0;else if(22250738585072014e-324>i)i/=Math.pow(2,-1074),O=(a<<31|i/4294967296)>>>0,C=i>>>0;else{var y=i,I=0;if(2<=y)for(;2<=y&&1023>I;)I++,y/=2;else for(;1>y&&-1022<I;)y*=2,I--;i*=Math.pow(2,-I),O=(a<<31|I+1023<<20|1048576*i&1048575)>>>0,C=4503599627370496*i>>>0}}b("jspb.utils.splitFloat64",gt,void 0);function _t(i){var a=i.charCodeAt(4),y=i.charCodeAt(5),I=i.charCodeAt(6),$=i.charCodeAt(7);C=i.charCodeAt(0)+(i.charCodeAt(1)<<8)+(i.charCodeAt(2)<<16)+(i.charCodeAt(3)<<24)>>>0,O=a+(y<<8)+(I<<16)+($<<24)>>>0}b("jspb.utils.splitHash64",_t,void 0);function F(i,a){return 4294967296*a+(i>>>0)}b("jspb.utils.joinUint64",F,void 0);function K(i,a){var y=a&2147483648;return y&&(i=~i+1>>>0,a=~a>>>0,i==0&&(a=a+1>>>0)),i=F(i,a),y?-i:i}b("jspb.utils.joinInt64",K,void 0);function Z(i,a,y){var I=a>>31;return y(i<<1^I,(a<<1|i>>>31)^I)}b("jspb.utils.toZigzag64",Z,void 0);function bt(i,a){return wt(i,a,K)}b("jspb.utils.joinZigzag64",bt,void 0);function wt(i,a,y){var I=-(i&1);return y((i>>>1|a<<31)^I,a>>>1^I)}b("jspb.utils.fromZigzag64",wt,void 0);function J(i){var a=2*(i>>31)+1,y=i>>>23&255;return i&=8388607,y==255?i?NaN:1/0*a:y==0?a*Math.pow(2,-149)*i:a*Math.pow(2,y-150)*(i+Math.pow(2,23))}b("jspb.utils.joinFloat32",J,void 0);function at(i,a){var y=2*(a>>31)+1,I=a>>>20&2047;return i=4294967296*(a&1048575)+i,I==2047?i?NaN:1/0*y:I==0?y*Math.pow(2,-1074)*i:y*Math.pow(2,I-1075)*(i+4503599627370496)}b("jspb.utils.joinFloat64",at,void 0);function L(i,a){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255)}b("jspb.utils.joinHash64",L,void 0),b("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function tt(i,a){function y($,dt){return $=$?String($):"",dt?"0000000".slice($.length)+$:$}if(2097151>=a)return""+F(i,a);var I=(i>>>24|a<<8)>>>0&16777215;return a=a>>16&65535,i=(i&16777215)+6777216*I+6710656*a,I+=8147497*a,a*=2,1e7<=i&&(I+=Math.floor(i/1e7),i%=1e7),1e7<=I&&(a+=Math.floor(I/1e7),I%=1e7),y(a,0)+y(I,a)+y(i,1)}b("jspb.utils.joinUnsignedDecimalString",tt,void 0);function ot(i,a){var y=a&2147483648;return y&&(i=~i+1>>>0,a=~a+(i==0?1:0)>>>0),i=tt(i,a),y?"-"+i:i}b("jspb.utils.joinSignedDecimalString",ot,void 0);function It(i,a){_t(i),i=C;var y=O;return a?ot(i,y):tt(i,y)}b("jspb.utils.hash64ToDecimalString",It,void 0),b("jspb.utils.hash64ArrayToDecimalStrings",function(i,a){for(var y=Array(i.length),I=0;I<i.length;I++)y[I]=It(i[I],a);return y},void 0);function m(i){function a(Pt,Ht){for(var we=0;8>we&&(Pt!==1||0<Ht);we++)Ht=Pt*$[we]+Ht,$[we]=Ht&255,Ht>>>=8}function y(){for(var Pt=0;8>Pt;Pt++)$[Pt]=~$[Pt]&255}T(0<i.length);var I=!1;i[0]==="-"&&(I=!0,i=i.slice(1));for(var $=[0,0,0,0,0,0,0,0],dt=0;dt<i.length;dt++)a(10,i.charCodeAt(dt)-48);return I&&(y(),a(1,1)),Y($)}b("jspb.utils.decimalStringToHash64",m,void 0),b("jspb.utils.splitDecimalString",function(i){_t(m(i))},void 0);function h(i){return String.fromCharCode(10>i?48+i:87+i)}function g(i){return 97<=i?i-97+10:i-48}b("jspb.utils.hash64ToHexString",function(i){var a=Array(18);a[0]="0",a[1]="x";for(var y=0;8>y;y++){var I=i.charCodeAt(7-y);a[2*y+2]=h(I>>4),a[2*y+3]=h(I&15)}return a.join("")},void 0),b("jspb.utils.hexStringToHash64",function(i){i=i.toLowerCase(),T(i.length==18),T(i[0]=="0"),T(i[1]=="x");for(var a="",y=0;8>y;y++)a=String.fromCharCode(16*g(i.charCodeAt(2*y+2))+g(i.charCodeAt(2*y+3)))+a;return a},void 0),b("jspb.utils.hash64ToNumber",function(i,a){_t(i),i=C;var y=O;return a?K(i,y):F(i,y)},void 0),b("jspb.utils.numberToHash64",function(i){return mt(i),L(C,O)},void 0),b("jspb.utils.countVarints",function(i,a,y){for(var I=0,$=a;$<y;$++)I+=i[$]>>7;return y-a-I},void 0),b("jspb.utils.countVarintFields",function(i,a,y,I){var $=0;if(I*=8,128>I)for(;a<y&&i[a++]==I;)for($++;;){var dt=i[a++];if(!(dt&128))break}else for(;a<y;){for(dt=I;128<dt;){if(i[a]!=(dt&127|128))return $;a++,dt>>=7}if(i[a++]!=dt)break;for($++;dt=i[a++],(dt&128)!=0;);}return $},void 0);function B(i,a,y,I,$){var dt=0;if(128>I)for(;a<y&&i[a++]==I;)dt++,a+=$;else for(;a<y;){for(var Pt=I;128<Pt;){if(i[a++]!=(Pt&127|128))return dt;Pt>>=7}if(i[a++]!=Pt)break;dt++,a+=$}return dt}b("jspb.utils.countFixed32Fields",function(i,a,y,I){return B(i,a,y,8*I+5,4)},void 0),b("jspb.utils.countFixed64Fields",function(i,a,y,I){return B(i,a,y,8*I+1,8)},void 0),b("jspb.utils.countDelimitedFields",function(i,a,y,I){var $=0;for(I=8*I+2;a<y;){for(var dt=I;128<dt;){if(i[a++]!=(dt&127|128))return $;dt>>=7}if(i[a++]!=dt)break;$++;for(var Pt=0,Ht=1;dt=i[a++],Pt+=(dt&127)*Ht,Ht*=128,(dt&128)!=0;);a+=Pt}return $},void 0),b("jspb.utils.debugBytesToTextFormat",function(i){var a='"';if(i){i=U(i);for(var y=0;y<i.length;y++)a+="\\x",16>i[y]&&(a+="0"),a+=i[y].toString(16)}return a+'"'},void 0),b("jspb.utils.debugScalarToTextFormat",function(i){if(typeof i=="string"){i=String(i);for(var a=['"'],y=0;y<i.length;y++){var I=i.charAt(y),$=I.charCodeAt(0),dt=y+1,Pt;(Pt=pt[I])||(31<$&&127>$||($=I,$ in ft?I=ft[$]:$ in pt?I=ft[$]=pt[$]:(Pt=$.charCodeAt(0),31<Pt&&127>Pt?I=$:(256>Pt?(I="\\x",(16>Pt||256<Pt)&&(I+="0")):(I="\\u",4096>Pt&&(I+="0")),I+=Pt.toString(16).toUpperCase()),I=ft[$]=I)),Pt=I),a[dt]=Pt}a.push('"'),i=a.join("")}else i=i.toString();return i},void 0),b("jspb.utils.stringToByteArray",function(i){for(var a=new Uint8Array(i.length),y=0;y<i.length;y++){var I=i.charCodeAt(y);if(255<I)throw Error("Conversion error: string contains codepoint outside of byte range");a[y]=I}return a},void 0);function U(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer?new Uint8Array(i):i.constructor===Array?new Uint8Array(i):i.constructor===String?nt(i):i instanceof Uint8Array?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):(D("Type not convertible to Uint8Array."),new Uint8Array(0))}b("jspb.utils.byteSourceToUint8Array",U,void 0);function M(i,a,y){this.b=null,this.a=this.c=this.h=0,this.v=!1,i&&this.H(i,a,y)}b("jspb.BinaryDecoder",M,void 0);var St=[];M.getInstanceCacheLength=function(){return St.length};function Ut(i,a,y){if(St.length){var I=St.pop();return i&&I.H(i,a,y),I}return new M(i,a,y)}M.alloc=Ut,M.prototype.Ca=function(){this.clear(),100>St.length&&St.push(this)},M.prototype.free=M.prototype.Ca,M.prototype.clone=function(){return Ut(this.b,this.h,this.c-this.h)},M.prototype.clone=M.prototype.clone,M.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},M.prototype.clear=M.prototype.clear,M.prototype.Y=function(){return this.b},M.prototype.getBuffer=M.prototype.Y,M.prototype.H=function(i,a,y){this.b=U(i),this.h=a!==void 0?a:0,this.c=y!==void 0?this.h+y:this.b.length,this.a=this.h},M.prototype.setBlock=M.prototype.H,M.prototype.Db=function(){return this.c},M.prototype.getEnd=M.prototype.Db,M.prototype.setEnd=function(i){this.c=i},M.prototype.setEnd=M.prototype.setEnd,M.prototype.reset=function(){this.a=this.h},M.prototype.reset=M.prototype.reset,M.prototype.B=function(){return this.a},M.prototype.getCursor=M.prototype.B,M.prototype.Ma=function(i){this.a=i},M.prototype.setCursor=M.prototype.Ma,M.prototype.advance=function(i){this.a+=i,T(this.a<=this.c)},M.prototype.advance=M.prototype.advance,M.prototype.ya=function(){return this.a==this.c},M.prototype.atEnd=M.prototype.ya,M.prototype.Qb=function(){return this.a>this.c},M.prototype.pastEnd=M.prototype.Qb,M.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},M.prototype.getError=M.prototype.getError,M.prototype.w=function(i){for(var a=128,y=0,I=0,$=0;4>$&&128<=a;$++)a=this.b[this.a++],y|=(a&127)<<7*$;if(128<=a&&(a=this.b[this.a++],y|=(a&127)<<28,I|=(a&127)>>4),128<=a)for($=0;5>$&&128<=a;$++)a=this.b[this.a++],I|=(a&127)<<7*$+3;if(128>a)return i(y>>>0,I>>>0);D("Failed to read varint, encoding is invalid."),this.v=!0},M.prototype.readSplitVarint64=M.prototype.w,M.prototype.ea=function(i){return this.w(function(a,y){return wt(a,y,i)})},M.prototype.readSplitZigzagVarint64=M.prototype.ea,M.prototype.ta=function(i){var a=this.b,y=this.a;this.a+=8;for(var I=0,$=0,dt=y+7;dt>=y;dt--)I=I<<8|a[dt],$=$<<8|a[dt+4];return i(I,$)},M.prototype.readSplitFixed64=M.prototype.ta,M.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},M.prototype.skipVarint=M.prototype.kb,M.prototype.mb=function(i){for(;128<i;)this.a--,i>>>=7;this.a--},M.prototype.unskipVarint=M.prototype.mb,M.prototype.o=function(){var i=this.b,a=i[this.a],y=a&127;return 128>a?(this.a+=1,T(this.a<=this.c),y):(a=i[this.a+1],y|=(a&127)<<7,128>a?(this.a+=2,T(this.a<=this.c),y):(a=i[this.a+2],y|=(a&127)<<14,128>a?(this.a+=3,T(this.a<=this.c),y):(a=i[this.a+3],y|=(a&127)<<21,128>a?(this.a+=4,T(this.a<=this.c),y):(a=i[this.a+4],y|=(a&15)<<28,128>a?(this.a+=5,T(this.a<=this.c),y>>>0):(this.a+=5,128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&T(!1),T(this.a<=this.c),y)))))},M.prototype.readUnsignedVarint32=M.prototype.o,M.prototype.da=function(){return~~this.o()},M.prototype.readSignedVarint32=M.prototype.da,M.prototype.O=function(){return this.o().toString()},M.prototype.Ea=function(){return this.da().toString()},M.prototype.readSignedVarint32String=M.prototype.Ea,M.prototype.Ia=function(){var i=this.o();return i>>>1^-(i&1)},M.prototype.readZigzagVarint32=M.prototype.Ia,M.prototype.Ga=function(){return this.w(F)},M.prototype.readUnsignedVarint64=M.prototype.Ga,M.prototype.Ha=function(){return this.w(tt)},M.prototype.readUnsignedVarint64String=M.prototype.Ha,M.prototype.sa=function(){return this.w(K)},M.prototype.readSignedVarint64=M.prototype.sa,M.prototype.Fa=function(){return this.w(ot)},M.prototype.readSignedVarint64String=M.prototype.Fa,M.prototype.Ja=function(){return this.w(bt)},M.prototype.readZigzagVarint64=M.prototype.Ja,M.prototype.fb=function(){return this.ea(L)},M.prototype.readZigzagVarintHash64=M.prototype.fb,M.prototype.Ka=function(){return this.ea(ot)},M.prototype.readZigzagVarint64String=M.prototype.Ka,M.prototype.Gc=function(){var i=this.b[this.a];return this.a+=1,T(this.a<=this.c),i},M.prototype.readUint8=M.prototype.Gc,M.prototype.Ec=function(){var i=this.b[this.a],a=this.b[this.a+1];return this.a+=2,T(this.a<=this.c),i<<0|a<<8},M.prototype.readUint16=M.prototype.Ec,M.prototype.m=function(){var i=this.b[this.a],a=this.b[this.a+1],y=this.b[this.a+2],I=this.b[this.a+3];return this.a+=4,T(this.a<=this.c),(i<<0|a<<8|y<<16|I<<24)>>>0},M.prototype.readUint32=M.prototype.m,M.prototype.ga=function(){var i=this.m(),a=this.m();return F(i,a)},M.prototype.readUint64=M.prototype.ga,M.prototype.ha=function(){var i=this.m(),a=this.m();return tt(i,a)},M.prototype.readUint64String=M.prototype.ha,M.prototype.Xb=function(){var i=this.b[this.a];return this.a+=1,T(this.a<=this.c),i<<24>>24},M.prototype.readInt8=M.prototype.Xb,M.prototype.Vb=function(){var i=this.b[this.a],a=this.b[this.a+1];return this.a+=2,T(this.a<=this.c),(i<<0|a<<8)<<16>>16},M.prototype.readInt16=M.prototype.Vb,M.prototype.P=function(){var i=this.b[this.a],a=this.b[this.a+1],y=this.b[this.a+2],I=this.b[this.a+3];return this.a+=4,T(this.a<=this.c),i<<0|a<<8|y<<16|I<<24},M.prototype.readInt32=M.prototype.P,M.prototype.ba=function(){var i=this.m(),a=this.m();return K(i,a)},M.prototype.readInt64=M.prototype.ba,M.prototype.ca=function(){var i=this.m(),a=this.m();return ot(i,a)},M.prototype.readInt64String=M.prototype.ca,M.prototype.aa=function(){var i=this.m();return J(i)},M.prototype.readFloat=M.prototype.aa,M.prototype.Z=function(){var i=this.m(),a=this.m();return at(i,a)},M.prototype.readDouble=M.prototype.Z,M.prototype.pa=function(){return!!this.b[this.a++]},M.prototype.readBool=M.prototype.pa,M.prototype.ra=function(){return this.da()},M.prototype.readEnum=M.prototype.ra,M.prototype.fa=function(i){var a=this.b,y=this.a;i=y+i;for(var I=[],$="";y<i;){var dt=a[y++];if(128>dt)I.push(dt);else{if(192>dt)continue;if(224>dt){var Pt=a[y++];I.push((dt&31)<<6|Pt&63)}else if(240>dt){Pt=a[y++];var Ht=a[y++];I.push((dt&15)<<12|(Pt&63)<<6|Ht&63)}else if(248>dt){Pt=a[y++],Ht=a[y++];var we=a[y++];dt=(dt&7)<<18|(Pt&63)<<12|(Ht&63)<<6|we&63,dt-=65536,I.push((dt>>10&1023)+55296,(dt&1023)+56320)}}8192<=I.length&&($+=String.fromCharCode.apply(null,I),I.length=0)}return $+=Y(I),this.a=y,$},M.prototype.readString=M.prototype.fa,M.prototype.Dc=function(){var i=this.o();return this.fa(i)},M.prototype.readStringWithLength=M.prototype.Dc,M.prototype.qa=function(i){if(0>i||this.a+i>this.b.length)return this.v=!0,D("Invalid byte length!"),new Uint8Array(0);var a=this.b.subarray(this.a,this.a+i);return this.a+=i,T(this.a<=this.c),a},M.prototype.readBytes=M.prototype.qa,M.prototype.ia=function(){return this.w(L)},M.prototype.readVarintHash64=M.prototype.ia,M.prototype.$=function(){var i=this.b,a=this.a,y=i[a],I=i[a+1],$=i[a+2],dt=i[a+3],Pt=i[a+4],Ht=i[a+5],we=i[a+6];return i=i[a+7],this.a+=8,String.fromCharCode(y,I,$,dt,Pt,Ht,we,i)},M.prototype.readFixedHash64=M.prototype.$;function W(i,a,y){this.a=Ut(i,a,y),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}b("jspb.BinaryReader",W,void 0);var Gt=[];W.clearInstanceCache=function(){Gt=[]},W.getInstanceCacheLength=function(){return Gt.length};function Lt(i,a,y){if(Gt.length){var I=Gt.pop();return i&&I.a.H(i,a,y),I}return new W(i,a,y)}W.alloc=Lt,W.prototype.zb=Lt,W.prototype.alloc=W.prototype.zb,W.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>Gt.length&&Gt.push(this)},W.prototype.free=W.prototype.Ca,W.prototype.Fb=function(){return this.O},W.prototype.getFieldCursor=W.prototype.Fb,W.prototype.B=function(){return this.a.B()},W.prototype.getCursor=W.prototype.B,W.prototype.Y=function(){return this.a.Y()},W.prototype.getBuffer=W.prototype.Y,W.prototype.Hb=function(){return this.c},W.prototype.getFieldNumber=W.prototype.Hb,W.prototype.Lb=function(){return this.b},W.prototype.getWireType=W.prototype.Lb,W.prototype.Mb=function(){return this.b==2},W.prototype.isDelimited=W.prototype.Mb,W.prototype.bb=function(){return this.b==4},W.prototype.isEndGroup=W.prototype.bb,W.prototype.getError=function(){return this.h||this.a.getError()},W.prototype.getError=W.prototype.getError,W.prototype.H=function(i,a,y){this.a.H(i,a,y),this.b=this.c=-1},W.prototype.setBlock=W.prototype.H,W.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},W.prototype.reset=W.prototype.reset,W.prototype.advance=function(i){this.a.advance(i)},W.prototype.advance=W.prototype.advance,W.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return D("Decoder hit an error"),!1;this.O=this.a.B();var i=this.a.o(),a=i>>>3;return i&=7,i!=0&&i!=5&&i!=1&&i!=2&&i!=3&&i!=4?(D("Invalid wire type: %s (at position %s)",i,this.O),this.h=!0,!1):(this.c=a,this.b=i,!0)},W.prototype.nextField=W.prototype.oa,W.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},W.prototype.unskipHeader=W.prototype.Oa,W.prototype.Lc=function(){var i=this.c;for(this.Oa();this.oa()&&this.c==i;)this.C();this.a.ya()||this.Oa()},W.prototype.skipMatchingFields=W.prototype.Lc,W.prototype.lb=function(){this.b!=0?(D("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},W.prototype.skipVarintField=W.prototype.lb,W.prototype.gb=function(){if(this.b!=2)D("Invalid wire type for skipDelimitedField"),this.C();else{var i=this.a.o();this.a.advance(i)}},W.prototype.skipDelimitedField=W.prototype.gb,W.prototype.hb=function(){this.b!=5?(D("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},W.prototype.skipFixed32Field=W.prototype.hb,W.prototype.ib=function(){this.b!=1?(D("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},W.prototype.skipFixed64Field=W.prototype.ib,W.prototype.jb=function(){var i=this.c;do{if(!this.oa()){D("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=i&&(D("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},W.prototype.skipGroup=W.prototype.jb,W.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:D("Invalid wire encoding for field.")}},W.prototype.skipField=W.prototype.C,W.prototype.Hc=function(i,a){this.v===null&&(this.v={}),T(!this.v[i]),this.v[i]=a},W.prototype.registerReadCallback=W.prototype.Hc,W.prototype.Ic=function(i){return T(this.v!==null),i=this.v[i],T(i),i(this)},W.prototype.runReadCallback=W.prototype.Ic,W.prototype.Yb=function(i,a){T(this.b==2);var y=this.a.c,I=this.a.o();I=this.a.B()+I,this.a.setEnd(I),a(i,this),this.a.Ma(I),this.a.setEnd(y)},W.prototype.readMessage=W.prototype.Yb,W.prototype.Ub=function(i,a,y){T(this.b==3),T(this.c==i),y(a,this),this.h||this.b==4||(D("Group submessage did not end with an END_GROUP tag"),this.h=!0)},W.prototype.readGroup=W.prototype.Ub,W.prototype.Gb=function(){T(this.b==2);var i=this.a.o(),a=this.a.B(),y=a+i;return i=Ut(this.a.Y(),a,i),this.a.Ma(y),i},W.prototype.getFieldDecoder=W.prototype.Gb,W.prototype.P=function(){return T(this.b==0),this.a.da()},W.prototype.readInt32=W.prototype.P,W.prototype.Wb=function(){return T(this.b==0),this.a.Ea()},W.prototype.readInt32String=W.prototype.Wb,W.prototype.ba=function(){return T(this.b==0),this.a.sa()},W.prototype.readInt64=W.prototype.ba,W.prototype.ca=function(){return T(this.b==0),this.a.Fa()},W.prototype.readInt64String=W.prototype.ca,W.prototype.m=function(){return T(this.b==0),this.a.o()},W.prototype.readUint32=W.prototype.m,W.prototype.Fc=function(){return T(this.b==0),this.a.O()},W.prototype.readUint32String=W.prototype.Fc,W.prototype.ga=function(){return T(this.b==0),this.a.Ga()},W.prototype.readUint64=W.prototype.ga,W.prototype.ha=function(){return T(this.b==0),this.a.Ha()},W.prototype.readUint64String=W.prototype.ha,W.prototype.zc=function(){return T(this.b==0),this.a.Ia()},W.prototype.readSint32=W.prototype.zc,W.prototype.Ac=function(){return T(this.b==0),this.a.Ja()},W.prototype.readSint64=W.prototype.Ac,W.prototype.Bc=function(){return T(this.b==0),this.a.Ka()},W.prototype.readSint64String=W.prototype.Bc,W.prototype.Rb=function(){return T(this.b==5),this.a.m()},W.prototype.readFixed32=W.prototype.Rb,W.prototype.Sb=function(){return T(this.b==1),this.a.ga()},W.prototype.readFixed64=W.prototype.Sb,W.prototype.Tb=function(){return T(this.b==1),this.a.ha()},W.prototype.readFixed64String=W.prototype.Tb,W.prototype.vc=function(){return T(this.b==5),this.a.P()},W.prototype.readSfixed32=W.prototype.vc,W.prototype.wc=function(){return T(this.b==5),this.a.P().toString()},W.prototype.readSfixed32String=W.prototype.wc,W.prototype.xc=function(){return T(this.b==1),this.a.ba()},W.prototype.readSfixed64=W.prototype.xc,W.prototype.yc=function(){return T(this.b==1),this.a.ca()},W.prototype.readSfixed64String=W.prototype.yc,W.prototype.aa=function(){return T(this.b==5),this.a.aa()},W.prototype.readFloat=W.prototype.aa,W.prototype.Z=function(){return T(this.b==1),this.a.Z()},W.prototype.readDouble=W.prototype.Z,W.prototype.pa=function(){return T(this.b==0),!!this.a.o()},W.prototype.readBool=W.prototype.pa,W.prototype.ra=function(){return T(this.b==0),this.a.sa()},W.prototype.readEnum=W.prototype.ra,W.prototype.fa=function(){T(this.b==2);var i=this.a.o();return this.a.fa(i)},W.prototype.readString=W.prototype.fa,W.prototype.qa=function(){T(this.b==2);var i=this.a.o();return this.a.qa(i)},W.prototype.readBytes=W.prototype.qa,W.prototype.ia=function(){return T(this.b==0),this.a.ia()},W.prototype.readVarintHash64=W.prototype.ia,W.prototype.Cc=function(){return T(this.b==0),this.a.fb()},W.prototype.readSintHash64=W.prototype.Cc,W.prototype.w=function(i){return T(this.b==0),this.a.w(i)},W.prototype.readSplitVarint64=W.prototype.w,W.prototype.ea=function(i){return T(this.b==0),this.a.w(function(a,y){return wt(a,y,i)})},W.prototype.readSplitZigzagVarint64=W.prototype.ea,W.prototype.$=function(){return T(this.b==1),this.a.$()},W.prototype.readFixedHash64=W.prototype.$,W.prototype.ta=function(i){return T(this.b==1),this.a.ta(i)},W.prototype.readSplitFixed64=W.prototype.ta;function jt(i,a){T(i.b==2);var y=i.a.o();y=i.a.B()+y;for(var I=[];i.a.B()<y;)I.push(a.call(i.a));return I}W.prototype.gc=function(){return jt(this,this.a.da)},W.prototype.readPackedInt32=W.prototype.gc,W.prototype.hc=function(){return jt(this,this.a.Ea)},W.prototype.readPackedInt32String=W.prototype.hc,W.prototype.ic=function(){return jt(this,this.a.sa)},W.prototype.readPackedInt64=W.prototype.ic,W.prototype.jc=function(){return jt(this,this.a.Fa)},W.prototype.readPackedInt64String=W.prototype.jc,W.prototype.qc=function(){return jt(this,this.a.o)},W.prototype.readPackedUint32=W.prototype.qc,W.prototype.rc=function(){return jt(this,this.a.O)},W.prototype.readPackedUint32String=W.prototype.rc,W.prototype.sc=function(){return jt(this,this.a.Ga)},W.prototype.readPackedUint64=W.prototype.sc,W.prototype.tc=function(){return jt(this,this.a.Ha)},W.prototype.readPackedUint64String=W.prototype.tc,W.prototype.nc=function(){return jt(this,this.a.Ia)},W.prototype.readPackedSint32=W.prototype.nc,W.prototype.oc=function(){return jt(this,this.a.Ja)},W.prototype.readPackedSint64=W.prototype.oc,W.prototype.pc=function(){return jt(this,this.a.Ka)},W.prototype.readPackedSint64String=W.prototype.pc,W.prototype.bc=function(){return jt(this,this.a.m)},W.prototype.readPackedFixed32=W.prototype.bc,W.prototype.cc=function(){return jt(this,this.a.ga)},W.prototype.readPackedFixed64=W.prototype.cc,W.prototype.dc=function(){return jt(this,this.a.ha)},W.prototype.readPackedFixed64String=W.prototype.dc,W.prototype.kc=function(){return jt(this,this.a.P)},W.prototype.readPackedSfixed32=W.prototype.kc,W.prototype.lc=function(){return jt(this,this.a.ba)},W.prototype.readPackedSfixed64=W.prototype.lc,W.prototype.mc=function(){return jt(this,this.a.ca)},W.prototype.readPackedSfixed64String=W.prototype.mc,W.prototype.fc=function(){return jt(this,this.a.aa)},W.prototype.readPackedFloat=W.prototype.fc,W.prototype.$b=function(){return jt(this,this.a.Z)},W.prototype.readPackedDouble=W.prototype.$b,W.prototype.Zb=function(){return jt(this,this.a.pa)},W.prototype.readPackedBool=W.prototype.Zb,W.prototype.ac=function(){return jt(this,this.a.ra)},W.prototype.readPackedEnum=W.prototype.ac,W.prototype.uc=function(){return jt(this,this.a.ia)},W.prototype.readPackedVarintHash64=W.prototype.uc,W.prototype.ec=function(){return jt(this,this.a.$)},W.prototype.readPackedFixedHash64=W.prototype.ec;function zt(i,a,y,I,$){this.ma=i,this.Ba=a,this.la=y,this.Na=I,this.na=$}b("jspb.ExtensionFieldInfo",zt,void 0);function te(i,a,y,I,$,dt){this.Za=i,this.za=a,this.Aa=y,this.Wa=I,this.Ab=$,this.Nb=dt}b("jspb.ExtensionFieldBinaryInfo",te,void 0),zt.prototype.F=function(){return!!this.la},zt.prototype.isMessageType=zt.prototype.F;function Ct(){}b("jspb.Message",Ct,void 0),Ct.GENERATE_TO_OBJECT=!0,Ct.GENERATE_FROM_OBJECT=!0;var Xt=typeof Uint8Array=="function";Ct.prototype.Ib=function(){return this.b},Ct.prototype.getJsPbMessageId=Ct.prototype.Ib,Ct.initialize=function(i,a,y,I,$,dt){i.f=null,a||(a=y?[y]:[]),i.b=y?String(y):void 0,i.D=y===0?-1:0,i.u=a;t:{if(y=i.u.length,a=-1,y&&(a=y-1,y=i.u[a],!(y===null||typeof y!="object"||Array.isArray(y)||Xt&&y instanceof Uint8Array))){i.G=a-i.D,i.i=y;break t}-1<I?(i.G=Math.max(I,a+1-i.D),i.i=null):i.G=Number.MAX_VALUE}if(i.a={},$)for(I=0;I<$.length;I++)a=$[I],a<i.G?(a+=i.D,i.u[a]=i.u[a]||ee):(Et(i),i.i[a]=i.i[a]||ee);if(dt&&dt.length)for(I=0;I<dt.length;I++)er(i,dt[I])};var ee=Object.freeze?Object.freeze([]):[];function Et(i){var a=i.G+i.D;i.u[a]||(i.i=i.u[a]={})}function Wt(i,a,y){for(var I=[],$=0;$<i.length;$++)I[$]=a.call(i[$],y,i[$]);return I}Ct.toObjectList=Wt,Ct.toObjectExtension=function(i,a,y,I,$){for(var dt in y){var Pt=y[dt],Ht=I.call(i,Pt);if(Ht!=null){for(var we in Pt.Ba)if(Pt.Ba.hasOwnProperty(we))break;a[we]=Pt.Na?Pt.na?Wt(Ht,Pt.Na,$):Pt.Na($,Ht):Ht}}},Ct.serializeBinaryExtensions=function(i,a,y,I){for(var $ in y){var dt=y[$],Pt=dt.Za;if(!dt.Aa)throw Error("Message extension present that was generated without binary serialization support");var Ht=I.call(i,Pt);if(Ht!=null)if(Pt.F())if(dt.Wa)dt.Aa.call(a,Pt.ma,Ht,dt.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else dt.Aa.call(a,Pt.ma,Ht)}},Ct.readBinaryExtension=function(i,a,y,I,$){var dt=y[a.c];if(dt){if(y=dt.Za,!dt.za)throw Error("Deserializing extension whose generated code does not support binary format");if(y.F()){var Pt=new y.la;dt.za.call(a,Pt,dt.Ab)}else Pt=dt.za.call(a);y.na&&!dt.Nb?(a=I.call(i,y))?a.push(Pt):$.call(i,y,[Pt]):$.call(i,y,Pt)}else a.C()};function Ft(i,a){if(a<i.G){a+=i.D;var y=i.u[a];return y===ee?i.u[a]=[]:y}if(i.i)return y=i.i[a],y===ee?i.i[a]=[]:y}Ct.getField=Ft,Ct.getRepeatedField=function(i,a){return Ft(i,a)};function Dt(i,a){return i=Ft(i,a),i==null?i:+i}Ct.getOptionalFloatingPointField=Dt;function qt(i,a){return i=Ft(i,a),i==null?i:!!i}Ct.getBooleanField=qt,Ct.getRepeatedFloatingPointField=function(i,a){var y=Ft(i,a);if(i.a||(i.a={}),!i.a[a]){for(var I=0;I<y.length;I++)y[I]=+y[I];i.a[a]=!0}return y},Ct.getRepeatedBooleanField=function(i,a){var y=Ft(i,a);if(i.a||(i.a={}),!i.a[a]){for(var I=0;I<y.length;I++)y[I]=!!y[I];i.a[a]=!0}return y};function Zt(i){return i==null||typeof i=="string"?i:Xt&&i instanceof Uint8Array?Q(i):(D("Cannot coerce to b64 string: "+w(i)),null)}Ct.bytesAsB64=Zt;function Qt(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?nt(i):(D("Cannot coerce to Uint8Array: "+w(i)),null)}Ct.bytesAsU8=Qt,Ct.bytesListAsB64=function(i){return me(i),i.length&&typeof i[0]!="string"?V(i,Zt):i},Ct.bytesListAsU8=function(i){return me(i),!i.length||i[0]instanceof Uint8Array?i:V(i,Qt)};function me(i){if(i&&1<i.length){var a=w(i[0]);R(i,function(y){w(y)!=a&&D("Inconsistent type in JSPB repeated field array. Got "+w(y)+" expected "+a)})}}function Ee(i,a,y){return i=Ft(i,a),i??y}Ct.getFieldWithDefault=Ee,Ct.getBooleanFieldWithDefault=function(i,a,y){return i=qt(i,a),i??y},Ct.getFloatingPointFieldWithDefault=function(i,a,y){return i=Dt(i,a),i??y},Ct.getFieldProto3=Ee,Ct.getMapField=function(i,a,y,I){if(i.f||(i.f={}),a in i.f)return i.f[a];var $=Ft(i,a);if(!$){if(y)return;$=[],ce(i,a,$)}return i.f[a]=new q($,I)};function ce(i,a,y){return ct(i,Ct),a<i.G?i.u[a+i.D]=y:(Et(i),i.i[a]=y),i}Ct.setField=ce,Ct.setProto3IntField=function(i,a,y){return Re(i,a,y,0)},Ct.setProto3FloatField=function(i,a,y){return Re(i,a,y,0)},Ct.setProto3BooleanField=function(i,a,y){return Re(i,a,y,!1)},Ct.setProto3StringField=function(i,a,y){return Re(i,a,y,"")},Ct.setProto3BytesField=function(i,a,y){return Re(i,a,y,"")},Ct.setProto3EnumField=function(i,a,y){return Re(i,a,y,0)},Ct.setProto3StringIntField=function(i,a,y){return Re(i,a,y,"0")};function Re(i,a,y,I){return ct(i,Ct),y!==I?ce(i,a,y):a<i.G?i.u[a+i.D]=null:(Et(i),delete i.i[a]),i}Ct.addToRepeatedField=function(i,a,y,I){return ct(i,Ct),a=Ft(i,a),I!=null?a.splice(I,0,y):a.push(y),i};function Ye(i,a,y,I){return ct(i,Ct),(y=er(i,y))&&y!==a&&I!==void 0&&(i.f&&y in i.f&&(i.f[y]=void 0),ce(i,y,void 0)),ce(i,a,I)}Ct.setOneofField=Ye;function er(i,a){for(var y,I,$=0;$<a.length;$++){var dt=a[$],Pt=Ft(i,dt);Pt!=null&&(y=dt,I=Pt,ce(i,dt,void 0))}return y?(ce(i,y,I),y):0}Ct.computeOneofCase=er,Ct.getWrapperField=function(i,a,y,I){if(i.f||(i.f={}),!i.f[y]){var $=Ft(i,y);(I||$)&&(i.f[y]=new a($))}return i.f[y]},Ct.getRepeatedWrapperField=function(i,a,y){return Sr(i,a,y),a=i.f[y],a==ee&&(a=i.f[y]=[]),a};function Sr(i,a,y){if(i.f||(i.f={}),!i.f[y]){for(var I=Ft(i,y),$=[],dt=0;dt<I.length;dt++)$[dt]=new a(I[dt]);i.f[y]=$}}Ct.setWrapperField=function(i,a,y){ct(i,Ct),i.f||(i.f={});var I=y&&y.g();return i.f[a]=y,ce(i,a,I)},Ct.setOneofWrapperField=function(i,a,y,I){ct(i,Ct),i.f||(i.f={});var $=I&&I.g();return i.f[a]=I,Ye(i,a,y,$)},Ct.setRepeatedWrapperField=function(i,a,y){ct(i,Ct),i.f||(i.f={}),y=y||[];for(var I=[],$=0;$<y.length;$++)I[$]=y[$].g();return i.f[a]=y,ce(i,a,I)},Ct.addToRepeatedWrapperField=function(i,a,y,I,$){Sr(i,I,a);var dt=i.f[a];return dt||(dt=i.f[a]=[]),y=y||new I,i=Ft(i,a),$!=null?(dt.splice($,0,y),i.splice($,0,y.g())):(dt.push(y),i.push(y.g())),y},Ct.toMap=function(i,a,y,I){for(var $={},dt=0;dt<i.length;dt++)$[a.call(i[dt])]=y?y.call(i[dt],I,i[dt]):i[dt];return $};function Je(i){if(i.f)for(var a in i.f){var y=i.f[a];if(Array.isArray(y))for(var I=0;I<y.length;I++)y[I]&&y[I].g();else y&&y.g()}}Ct.prototype.g=function(){return Je(this),this.u},Ct.prototype.toArray=Ct.prototype.g,Ct.prototype.toString=function(){return Je(this),this.u.toString()},Ct.prototype.getExtension=function(i){if(this.i){this.f||(this.f={});var a=i.ma;if(i.na){if(i.F())return this.f[a]||(this.f[a]=V(this.i[a]||[],function(y){return new i.la(y)})),this.f[a]}else if(i.F())return!this.f[a]&&this.i[a]&&(this.f[a]=new i.la(this.i[a])),this.f[a];return this.i[a]}},Ct.prototype.getExtension=Ct.prototype.getExtension,Ct.prototype.Kc=function(i,a){this.f||(this.f={}),Et(this);var y=i.ma;return i.na?(a=a||[],i.F()?(this.f[y]=a,this.i[y]=V(a,function(I){return I.g()})):this.i[y]=a):i.F()?(this.f[y]=a,this.i[y]=a&&a.g()):this.i[y]=a,this},Ct.prototype.setExtension=Ct.prototype.Kc,Ct.difference=function(i,a){if(!(i instanceof a.constructor))throw Error("Messages have different types.");var y=i.g();a=a.g();var I=[],$=0,dt=y.length>a.length?y.length:a.length;for(i.b&&(I[0]=i.b,$=1);$<dt;$++)De(y[$],a[$])||(I[$]=a[$]);return new i.constructor(I)},Ct.equals=function(i,a){return i==a||!(!i||!a)&&i instanceof a.constructor&&De(i.g(),a.g())};function ze(i,a){i=i||{},a=a||{};var y={},I;for(I in i)y[I]=0;for(I in a)y[I]=0;for(I in y)if(!De(i[I],a[I]))return!1;return!0}Ct.compareExtensions=ze;function De(i,a){if(i==a)return!0;if(!E(i)||!E(a))return typeof i=="number"&&isNaN(i)||typeof a=="number"&&isNaN(a)?String(i)==String(a):!1;if(i.constructor!=a.constructor)return!1;if(Xt&&i.constructor===Uint8Array){if(i.length!=a.length)return!1;for(var y=0;y<i.length;y++)if(i[y]!=a[y])return!1;return!0}if(i.constructor===Array){var I=void 0,$=void 0,dt=Math.max(i.length,a.length);for(y=0;y<dt;y++){var Pt=i[y],Ht=a[y];if(Pt&&Pt.constructor==Object&&(T(I===void 0),T(y===i.length-1),I=Pt,Pt=void 0),Ht&&Ht.constructor==Object&&(T($===void 0),T(y===a.length-1),$=Ht,Ht=void 0),!De(Pt,Ht))return!1}return I||$?(I=I||{},$=$||{},ze(I,$)):!0}if(i.constructor===Object)return ze(i,a);throw Error("Invalid type in JSPB array")}Ct.compareFields=De,Ct.prototype.Bb=function(){return yr(this)},Ct.prototype.cloneMessage=Ct.prototype.Bb,Ct.prototype.clone=function(){return yr(this)},Ct.prototype.clone=Ct.prototype.clone,Ct.clone=function(i){return yr(i)};function yr(i){return new i.constructor(qr(i.g()))}Ct.copyInto=function(i,a){ct(i,Ct),ct(a,Ct),T(i.constructor==a.constructor,"Copy source and target message should have the same type."),i=yr(i);for(var y=a.g(),I=i.g(),$=y.length=0;$<I.length;$++)y[$]=I[$];a.f=i.f,a.i=i.i};function qr(i){if(Array.isArray(i)){for(var a=Array(i.length),y=0;y<i.length;y++){var I=i[y];I!=null&&(a[y]=typeof I=="object"?qr(T(I)):I)}return a}if(Xt&&i instanceof Uint8Array)return new Uint8Array(i);a={};for(y in i)I=i[y],I!=null&&(a[y]=typeof I=="object"?qr(T(I)):I);return a}Ct.registerMessageType=function(i,a){a.we=i};var Pe={dump:function(i){return ct(i,Ct,"jspb.Message instance expected"),T(i.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),Pe.X(i)}};b("jspb.debug.dump",Pe.dump,void 0),Pe.X=function(i){var a=w(i);if(a=="number"||a=="string"||a=="boolean"||a=="null"||a=="undefined"||typeof Uint8Array<"u"&&i instanceof Uint8Array)return i;if(a=="array")return rt(i),V(i,Pe.X);if(i instanceof q){var y={};i=i.entries();for(var I=i.next();!I.done;I=i.next())y[I.value[0]]=Pe.X(I.value[1]);return y}ct(i,Ct,"Only messages expected: "+i),a=i.constructor;var $={$name:a.name||a.displayName};for(Ht in a.prototype){var dt=/^get([A-Z]\w*)/.exec(Ht);if(dt&&Ht!="getExtension"&&Ht!="getJsPbMessageId"){var Pt="has"+dt[1];(!i[Pt]||i[Pt]())&&(Pt=i[Ht](),$[Pe.$a(dt[1])]=Pe.X(Pt))}}if(i.extensionObject_)return $.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",$;for(I in a.extensions)if(/^\d+$/.test(I)){Pt=a.extensions[I];var Ht=i.getExtension(Pt);dt=void 0,Pt=Pt.Ba;var we=[],Ir=0;for(dt in Pt)we[Ir++]=dt;dt=we[0],Ht!=null&&(y||(y=$.$extensions={}),y[Pe.$a(dt)]=Pe.X(Ht))}return $},Pe.$a=function(i){return i.replace(/^[A-Z]/,function(a){return a.toLowerCase()})};function Nt(){this.a=[]}b("jspb.BinaryEncoder",Nt,void 0),Nt.prototype.length=function(){return this.a.length},Nt.prototype.length=Nt.prototype.length,Nt.prototype.end=function(){var i=this.a;return this.a=[],i},Nt.prototype.end=Nt.prototype.end,Nt.prototype.l=function(i,a){for(T(i==Math.floor(i)),T(a==Math.floor(a)),T(0<=i&&4294967296>i),T(0<=a&&4294967296>a);0<a||127<i;)this.a.push(i&127|128),i=(i>>>7|a<<25)>>>0,a>>>=7;this.a.push(i)},Nt.prototype.writeSplitVarint64=Nt.prototype.l,Nt.prototype.A=function(i,a){T(i==Math.floor(i)),T(a==Math.floor(a)),T(0<=i&&4294967296>i),T(0<=a&&4294967296>a),this.s(i),this.s(a)},Nt.prototype.writeSplitFixed64=Nt.prototype.A,Nt.prototype.j=function(i){for(T(i==Math.floor(i)),T(0<=i&&4294967296>i);127<i;)this.a.push(i&127|128),i>>>=7;this.a.push(i)},Nt.prototype.writeUnsignedVarint32=Nt.prototype.j,Nt.prototype.M=function(i){if(T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),0<=i)this.j(i);else{for(var a=0;9>a;a++)this.a.push(i&127|128),i>>=7;this.a.push(1)}},Nt.prototype.writeSignedVarint32=Nt.prototype.M,Nt.prototype.va=function(i){T(i==Math.floor(i)),T(0<=i&&18446744073709552e3>i),mt(i),this.l(C,O)},Nt.prototype.writeUnsignedVarint64=Nt.prototype.va,Nt.prototype.ua=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),mt(i),this.l(C,O)},Nt.prototype.writeSignedVarint64=Nt.prototype.ua,Nt.prototype.wa=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.j((i<<1^i>>31)>>>0)},Nt.prototype.writeZigzagVarint32=Nt.prototype.wa,Nt.prototype.xa=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),ht(i),this.l(C,O)},Nt.prototype.writeZigzagVarint64=Nt.prototype.xa,Nt.prototype.Ta=function(i){this.W(m(i))},Nt.prototype.writeZigzagVarint64String=Nt.prototype.Ta,Nt.prototype.W=function(i){var a=this;_t(i),Z(C,O,function(y,I){a.l(y>>>0,I>>>0)})},Nt.prototype.writeZigzagVarintHash64=Nt.prototype.W,Nt.prototype.be=function(i){T(i==Math.floor(i)),T(0<=i&&256>i),this.a.push(i>>>0&255)},Nt.prototype.writeUint8=Nt.prototype.be,Nt.prototype.ae=function(i){T(i==Math.floor(i)),T(0<=i&&65536>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Nt.prototype.writeUint16=Nt.prototype.ae,Nt.prototype.s=function(i){T(i==Math.floor(i)),T(0<=i&&4294967296>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Nt.prototype.writeUint32=Nt.prototype.s,Nt.prototype.V=function(i){T(i==Math.floor(i)),T(0<=i&&18446744073709552e3>i),st(i),this.s(C),this.s(O)},Nt.prototype.writeUint64=Nt.prototype.V,Nt.prototype.Qc=function(i){T(i==Math.floor(i)),T(-128<=i&&128>i),this.a.push(i>>>0&255)},Nt.prototype.writeInt8=Nt.prototype.Qc,Nt.prototype.Pc=function(i){T(i==Math.floor(i)),T(-32768<=i&&32768>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Nt.prototype.writeInt16=Nt.prototype.Pc,Nt.prototype.S=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Nt.prototype.writeInt32=Nt.prototype.S,Nt.prototype.T=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=i&&9223372036854776e3>i),mt(i),this.A(C,O)},Nt.prototype.writeInt64=Nt.prototype.T,Nt.prototype.ka=function(i){T(i==Math.floor(i)),T(-9223372036854776e3<=+i&&9223372036854776e3>+i),_t(m(i)),this.A(C,O)},Nt.prototype.writeInt64String=Nt.prototype.ka,Nt.prototype.L=function(i){T(i===1/0||i===-1/0||isNaN(i)||-34028234663852886e22<=i&&34028234663852886e22>=i),ut(i),this.s(C)},Nt.prototype.writeFloat=Nt.prototype.L,Nt.prototype.J=function(i){T(i===1/0||i===-1/0||isNaN(i)||-17976931348623157e292<=i&&17976931348623157e292>=i),gt(i),this.s(C),this.s(O)},Nt.prototype.writeDouble=Nt.prototype.J,Nt.prototype.I=function(i){T(typeof i=="boolean"||typeof i=="number"),this.a.push(i?1:0)},Nt.prototype.writeBool=Nt.prototype.I,Nt.prototype.R=function(i){T(i==Math.floor(i)),T(-2147483648<=i&&2147483648>i),this.M(i)},Nt.prototype.writeEnum=Nt.prototype.R,Nt.prototype.ja=function(i){this.a.push.apply(this.a,i)},Nt.prototype.writeBytes=Nt.prototype.ja,Nt.prototype.N=function(i){_t(i),this.l(C,O)},Nt.prototype.writeVarintHash64=Nt.prototype.N,Nt.prototype.K=function(i){_t(i),this.s(C),this.s(O)},Nt.prototype.writeFixedHash64=Nt.prototype.K,Nt.prototype.U=function(i){var a=this.a.length;H(i);for(var y=0;y<i.length;y++){var I=i.charCodeAt(y);if(128>I)this.a.push(I);else if(2048>I)this.a.push(I>>6|192),this.a.push(I&63|128);else if(65536>I)if(55296<=I&&56319>=I&&y+1<i.length){var $=i.charCodeAt(y+1);56320<=$&&57343>=$&&(I=1024*(I-55296)+$-56320+65536,this.a.push(I>>18|240),this.a.push(I>>12&63|128),this.a.push(I>>6&63|128),this.a.push(I&63|128),y++)}else this.a.push(I>>12|224),this.a.push(I>>6&63|128),this.a.push(I&63|128)}return this.a.length-a},Nt.prototype.writeString=Nt.prototype.U;function $t(i,a){this.lo=i,this.hi=a}b("jspb.arith.UInt64",$t,void 0),$t.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},$t.prototype.cmp=$t.prototype.cmp,$t.prototype.La=function(){return new $t((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},$t.prototype.rightShift=$t.prototype.La,$t.prototype.Da=function(){return new $t(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},$t.prototype.leftShift=$t.prototype.Da,$t.prototype.cb=function(){return!!(this.hi&2147483648)},$t.prototype.msb=$t.prototype.cb,$t.prototype.Ob=function(){return!!(this.lo&1)},$t.prototype.lsb=$t.prototype.Ob,$t.prototype.Ua=function(){return this.lo==0&&this.hi==0},$t.prototype.zero=$t.prototype.Ua,$t.prototype.add=function(i){return new $t((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},$t.prototype.add=$t.prototype.add,$t.prototype.sub=function(i){return new $t((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},$t.prototype.sub=$t.prototype.sub;function Tr(i,a){var y=i&65535;i>>>=16;var I=a&65535,$=a>>>16;for(a=y*I+65536*(y*$&65535)+65536*(i*I&65535),y=i*$+(y*$>>>16)+(i*I>>>16);4294967296<=a;)a-=4294967296,y+=1;return new $t(a>>>0,y>>>0)}$t.mul32x32=Tr,$t.prototype.eb=function(i){var a=Tr(this.lo,i);return i=Tr(this.hi,i),i.hi=i.lo,i.lo=0,a.add(i)},$t.prototype.mul=$t.prototype.eb,$t.prototype.Xa=function(i){if(i==0)return[];var a=new $t(0,0),y=new $t(this.lo,this.hi);i=new $t(i,0);for(var I=new $t(1,0);!i.cb();)i=i.Da(),I=I.Da();for(;!I.Ua();)0>=i.cmp(y)&&(a=a.add(I),y=y.sub(i)),i=i.La(),I=I.La();return[a,y]},$t.prototype.div=$t.prototype.Xa,$t.prototype.toString=function(){for(var i="",a=this;!a.Ua();){a=a.Xa(10);var y=a[0];i=a[1].lo+i,a=y}return i==""&&(i="0"),i},$t.prototype.toString=$t.prototype.toString;function $e(i){for(var a=new $t(0,0),y=new $t(0,0),I=0;I<i.length;I++){if("0">i[I]||"9"<i[I])return null;y.lo=parseInt(i[I],10),a=a.eb(10).add(y)}return a}$t.fromString=$e,$t.prototype.clone=function(){return new $t(this.lo,this.hi)},$t.prototype.clone=$t.prototype.clone;function be(i,a){this.lo=i,this.hi=a}b("jspb.arith.Int64",be,void 0),be.prototype.add=function(i){return new be((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},be.prototype.add=be.prototype.add,be.prototype.sub=function(i){return new be((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},be.prototype.sub=be.prototype.sub,be.prototype.clone=function(){return new be(this.lo,this.hi)},be.prototype.clone=be.prototype.clone,be.prototype.toString=function(){var i=(this.hi&2147483648)!=0,a=new $t(this.lo,this.hi);return i&&(a=new $t(0,0).sub(a)),(i?"-":"")+a.toString()},be.prototype.toString=be.prototype.toString;function co(i){var a=0<i.length&&i[0]=="-";return a&&(i=i.substring(1)),i=$e(i),i===null?null:(a&&(i=new $t(0,0).sub(i)),new be(i.lo,i.hi))}be.fromString=co;function P(){this.c=[],this.b=0,this.a=new Nt,this.h=[]}b("jspb.BinaryWriter",P,void 0);function Xn(i,a){var y=i.a.end();i.c.push(y),i.c.push(a),i.b+=y.length+a.length}function ye(i,a){return Yt(i,a,2),a=i.a.end(),i.c.push(a),i.b+=a.length,a.push(i.b),a}function ge(i,a){var y=a.pop();for(y=i.b+i.a.length()-y,T(0<=y);127<y;)a.push(y&127|128),y>>>=7,i.b++;a.push(y),i.b++}P.prototype.pb=function(i,a,y){Xn(this,i.subarray(a,y))},P.prototype.writeSerializedMessage=P.prototype.pb,P.prototype.Pb=function(i,a,y){i!=null&&a!=null&&y!=null&&this.pb(i,a,y)},P.prototype.maybeWriteSerializedMessage=P.prototype.Pb,P.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},P.prototype.reset=P.prototype.reset,P.prototype.ab=function(){T(this.h.length==0);for(var i=new Uint8Array(this.b+this.a.length()),a=this.c,y=a.length,I=0,$=0;$<y;$++){var dt=a[$];i.set(dt,I),I+=dt.length}return a=this.a.end(),i.set(a,I),I+=a.length,T(I==i.length),this.c=[i],i},P.prototype.getResultBuffer=P.prototype.ab,P.prototype.Kb=function(i){return Q(this.ab(),i)},P.prototype.getResultBase64String=P.prototype.Kb,P.prototype.Va=function(i){this.h.push(ye(this,i))},P.prototype.beginSubMessage=P.prototype.Va,P.prototype.Ya=function(){T(0<=this.h.length),ge(this,this.h.pop())},P.prototype.endSubMessage=P.prototype.Ya;function Yt(i,a,y){T(1<=a&&a==Math.floor(a)),i.a.j(8*a+y)}P.prototype.Nc=function(i,a,y){switch(i){case 1:this.J(a,y);break;case 2:this.L(a,y);break;case 3:this.T(a,y);break;case 4:this.V(a,y);break;case 5:this.S(a,y);break;case 6:this.Qa(a,y);break;case 7:this.Pa(a,y);break;case 8:this.I(a,y);break;case 9:this.U(a,y);break;case 10:D("Group field type not supported in writeAny()");break;case 11:D("Message field type not supported in writeAny()");break;case 12:this.ja(a,y);break;case 13:this.s(a,y);break;case 14:this.R(a,y);break;case 15:this.Ra(a,y);break;case 16:this.Sa(a,y);break;case 17:this.rb(a,y);break;case 18:this.sb(a,y);break;case 30:this.K(a,y);break;case 31:this.N(a,y);break;default:D("Invalid field type in writeAny()")}},P.prototype.writeAny=P.prototype.Nc;function Go(i,a,y){y!=null&&(Yt(i,a,0),i.a.j(y))}function Ho(i,a,y){y!=null&&(Yt(i,a,0),i.a.M(y))}P.prototype.S=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),Ho(this,i,a))},P.prototype.writeInt32=P.prototype.S,P.prototype.ob=function(i,a){a!=null&&(a=parseInt(a,10),T(-2147483648<=a&&2147483648>a),Ho(this,i,a))},P.prototype.writeInt32String=P.prototype.ob,P.prototype.T=function(i,a){a!=null&&(T(-9223372036854776e3<=a&&9223372036854776e3>a),a!=null&&(Yt(this,i,0),this.a.ua(a)))},P.prototype.writeInt64=P.prototype.T,P.prototype.ka=function(i,a){a!=null&&(a=co(a),Yt(this,i,0),this.a.l(a.lo,a.hi))},P.prototype.writeInt64String=P.prototype.ka,P.prototype.s=function(i,a){a!=null&&(T(0<=a&&4294967296>a),Go(this,i,a))},P.prototype.writeUint32=P.prototype.s,P.prototype.ub=function(i,a){a!=null&&(a=parseInt(a,10),T(0<=a&&4294967296>a),Go(this,i,a))},P.prototype.writeUint32String=P.prototype.ub,P.prototype.V=function(i,a){a!=null&&(T(0<=a&&18446744073709552e3>a),a!=null&&(Yt(this,i,0),this.a.va(a)))},P.prototype.writeUint64=P.prototype.V,P.prototype.vb=function(i,a){a!=null&&(a=$e(a),Yt(this,i,0),this.a.l(a.lo,a.hi))},P.prototype.writeUint64String=P.prototype.vb,P.prototype.rb=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),a!=null&&(Yt(this,i,0),this.a.wa(a)))},P.prototype.writeSint32=P.prototype.rb,P.prototype.sb=function(i,a){a!=null&&(T(-9223372036854776e3<=a&&9223372036854776e3>a),a!=null&&(Yt(this,i,0),this.a.xa(a)))},P.prototype.writeSint64=P.prototype.sb,P.prototype.$d=function(i,a){a!=null&&a!=null&&(Yt(this,i,0),this.a.W(a))},P.prototype.writeSintHash64=P.prototype.$d,P.prototype.Zd=function(i,a){a!=null&&a!=null&&(Yt(this,i,0),this.a.Ta(a))},P.prototype.writeSint64String=P.prototype.Zd,P.prototype.Pa=function(i,a){a!=null&&(T(0<=a&&4294967296>a),Yt(this,i,5),this.a.s(a))},P.prototype.writeFixed32=P.prototype.Pa,P.prototype.Qa=function(i,a){a!=null&&(T(0<=a&&18446744073709552e3>a),Yt(this,i,1),this.a.V(a))},P.prototype.writeFixed64=P.prototype.Qa,P.prototype.nb=function(i,a){a!=null&&(a=$e(a),Yt(this,i,1),this.a.A(a.lo,a.hi))},P.prototype.writeFixed64String=P.prototype.nb,P.prototype.Ra=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),Yt(this,i,5),this.a.S(a))},P.prototype.writeSfixed32=P.prototype.Ra,P.prototype.Sa=function(i,a){a!=null&&(T(-9223372036854776e3<=a&&9223372036854776e3>a),Yt(this,i,1),this.a.T(a))},P.prototype.writeSfixed64=P.prototype.Sa,P.prototype.qb=function(i,a){a!=null&&(a=co(a),Yt(this,i,1),this.a.A(a.lo,a.hi))},P.prototype.writeSfixed64String=P.prototype.qb,P.prototype.L=function(i,a){a!=null&&(Yt(this,i,5),this.a.L(a))},P.prototype.writeFloat=P.prototype.L,P.prototype.J=function(i,a){a!=null&&(Yt(this,i,1),this.a.J(a))},P.prototype.writeDouble=P.prototype.J,P.prototype.I=function(i,a){a!=null&&(T(typeof a=="boolean"||typeof a=="number"),Yt(this,i,0),this.a.I(a))},P.prototype.writeBool=P.prototype.I,P.prototype.R=function(i,a){a!=null&&(T(-2147483648<=a&&2147483648>a),Yt(this,i,0),this.a.M(a))},P.prototype.writeEnum=P.prototype.R,P.prototype.U=function(i,a){a!=null&&(i=ye(this,i),this.a.U(a),ge(this,i))},P.prototype.writeString=P.prototype.U,P.prototype.ja=function(i,a){a!=null&&(a=U(a),Yt(this,i,2),this.a.j(a.length),Xn(this,a))},P.prototype.writeBytes=P.prototype.ja,P.prototype.Rc=function(i,a,y){a!=null&&(i=ye(this,i),y(a,this),ge(this,i))},P.prototype.writeMessage=P.prototype.Rc,P.prototype.Sc=function(i,a,y){a!=null&&(Yt(this,1,3),Yt(this,2,0),this.a.M(i),i=ye(this,3),y(a,this),ge(this,i),Yt(this,1,4))},P.prototype.writeMessageSet=P.prototype.Sc,P.prototype.Oc=function(i,a,y){a!=null&&(Yt(this,i,3),y(a,this),Yt(this,i,4))},P.prototype.writeGroup=P.prototype.Oc,P.prototype.K=function(i,a){a!=null&&(T(a.length==8),Yt(this,i,1),this.a.K(a))},P.prototype.writeFixedHash64=P.prototype.K,P.prototype.N=function(i,a){a!=null&&(T(a.length==8),Yt(this,i,0),this.a.N(a))},P.prototype.writeVarintHash64=P.prototype.N,P.prototype.A=function(i,a,y){Yt(this,i,1),this.a.A(a,y)},P.prototype.writeSplitFixed64=P.prototype.A,P.prototype.l=function(i,a,y){Yt(this,i,0),this.a.l(a,y)},P.prototype.writeSplitVarint64=P.prototype.l,P.prototype.tb=function(i,a,y){Yt(this,i,0);var I=this.a;Z(a,y,function($,dt){I.l($>>>0,dt>>>0)})},P.prototype.writeSplitZigzagVarint64=P.prototype.tb,P.prototype.Ed=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)Ho(this,i,a[y])},P.prototype.writeRepeatedInt32=P.prototype.Ed,P.prototype.Fd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ob(i,a[y])},P.prototype.writeRepeatedInt32String=P.prototype.Fd,P.prototype.Gd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var I=a[y];I!=null&&(Yt(this,i,0),this.a.ua(I))}},P.prototype.writeRepeatedInt64=P.prototype.Gd,P.prototype.Qd=function(i,a,y,I){if(a!=null)for(var $=0;$<a.length;$++)this.A(i,y(a[$]),I(a[$]))},P.prototype.writeRepeatedSplitFixed64=P.prototype.Qd,P.prototype.Rd=function(i,a,y,I){if(a!=null)for(var $=0;$<a.length;$++)this.l(i,y(a[$]),I(a[$]))},P.prototype.writeRepeatedSplitVarint64=P.prototype.Rd,P.prototype.Sd=function(i,a,y,I){if(a!=null)for(var $=0;$<a.length;$++)this.tb(i,y(a[$]),I(a[$]))},P.prototype.writeRepeatedSplitZigzagVarint64=P.prototype.Sd,P.prototype.Hd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ka(i,a[y])},P.prototype.writeRepeatedInt64String=P.prototype.Hd,P.prototype.Ud=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)Go(this,i,a[y])},P.prototype.writeRepeatedUint32=P.prototype.Ud,P.prototype.Vd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ub(i,a[y])},P.prototype.writeRepeatedUint32String=P.prototype.Vd,P.prototype.Wd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var I=a[y];I!=null&&(Yt(this,i,0),this.a.va(I))}},P.prototype.writeRepeatedUint64=P.prototype.Wd,P.prototype.Xd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.vb(i,a[y])},P.prototype.writeRepeatedUint64String=P.prototype.Xd,P.prototype.Md=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var I=a[y];I!=null&&(Yt(this,i,0),this.a.wa(I))}},P.prototype.writeRepeatedSint32=P.prototype.Md,P.prototype.Nd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var I=a[y];I!=null&&(Yt(this,i,0),this.a.xa(I))}},P.prototype.writeRepeatedSint64=P.prototype.Nd,P.prototype.Od=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var I=a[y];I!=null&&(Yt(this,i,0),this.a.Ta(I))}},P.prototype.writeRepeatedSint64String=P.prototype.Od,P.prototype.Pd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var I=a[y];I!=null&&(Yt(this,i,0),this.a.W(I))}},P.prototype.writeRepeatedSintHash64=P.prototype.Pd,P.prototype.yd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Pa(i,a[y])},P.prototype.writeRepeatedFixed32=P.prototype.yd,P.prototype.zd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Qa(i,a[y])},P.prototype.writeRepeatedFixed64=P.prototype.zd,P.prototype.Ad=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.nb(i,a[y])},P.prototype.writeRepeatedFixed64String=P.prototype.Ad,P.prototype.Jd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Ra(i,a[y])},P.prototype.writeRepeatedSfixed32=P.prototype.Jd,P.prototype.Kd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Sa(i,a[y])},P.prototype.writeRepeatedSfixed64=P.prototype.Kd,P.prototype.Ld=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.qb(i,a[y])},P.prototype.writeRepeatedSfixed64String=P.prototype.Ld,P.prototype.Cd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.L(i,a[y])},P.prototype.writeRepeatedFloat=P.prototype.Cd,P.prototype.wd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.J(i,a[y])},P.prototype.writeRepeatedDouble=P.prototype.wd,P.prototype.ud=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.I(i,a[y])},P.prototype.writeRepeatedBool=P.prototype.ud,P.prototype.xd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.R(i,a[y])},P.prototype.writeRepeatedEnum=P.prototype.xd,P.prototype.Td=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.U(i,a[y])},P.prototype.writeRepeatedString=P.prototype.Td,P.prototype.vd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ja(i,a[y])},P.prototype.writeRepeatedBytes=P.prototype.vd,P.prototype.Id=function(i,a,y){if(a!=null)for(var I=0;I<a.length;I++){var $=ye(this,i);y(a[I],this),ge(this,$)}},P.prototype.writeRepeatedMessage=P.prototype.Id,P.prototype.Dd=function(i,a,y){if(a!=null)for(var I=0;I<a.length;I++)Yt(this,i,3),y(a[I],this),Yt(this,i,4)},P.prototype.writeRepeatedGroup=P.prototype.Dd,P.prototype.Bd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.K(i,a[y])},P.prototype.writeRepeatedFixedHash64=P.prototype.Bd,P.prototype.Yd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.N(i,a[y])},P.prototype.writeRepeatedVarintHash64=P.prototype.Yd,P.prototype.ad=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.M(a[y]);ge(this,i)}},P.prototype.writePackedInt32=P.prototype.ad,P.prototype.bd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.M(parseInt(a[y],10));ge(this,i)}},P.prototype.writePackedInt32String=P.prototype.bd,P.prototype.cd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.ua(a[y]);ge(this,i)}},P.prototype.writePackedInt64=P.prototype.cd,P.prototype.md=function(i,a,y,I){if(a!=null){i=ye(this,i);for(var $=0;$<a.length;$++)this.a.A(y(a[$]),I(a[$]));ge(this,i)}},P.prototype.writePackedSplitFixed64=P.prototype.md,P.prototype.nd=function(i,a,y,I){if(a!=null){i=ye(this,i);for(var $=0;$<a.length;$++)this.a.l(y(a[$]),I(a[$]));ge(this,i)}},P.prototype.writePackedSplitVarint64=P.prototype.nd,P.prototype.od=function(i,a,y,I){if(a!=null){i=ye(this,i);for(var $=this.a,dt=0;dt<a.length;dt++)Z(y(a[dt]),I(a[dt]),function(Pt,Ht){$.l(Pt>>>0,Ht>>>0)});ge(this,i)}},P.prototype.writePackedSplitZigzagVarint64=P.prototype.od,P.prototype.dd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++){var I=co(a[y]);this.a.l(I.lo,I.hi)}ge(this,i)}},P.prototype.writePackedInt64String=P.prototype.dd,P.prototype.pd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.j(a[y]);ge(this,i)}},P.prototype.writePackedUint32=P.prototype.pd,P.prototype.qd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.j(parseInt(a[y],10));ge(this,i)}},P.prototype.writePackedUint32String=P.prototype.qd,P.prototype.rd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.va(a[y]);ge(this,i)}},P.prototype.writePackedUint64=P.prototype.rd,P.prototype.sd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++){var I=$e(a[y]);this.a.l(I.lo,I.hi)}ge(this,i)}},P.prototype.writePackedUint64String=P.prototype.sd,P.prototype.hd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.wa(a[y]);ge(this,i)}},P.prototype.writePackedSint32=P.prototype.hd,P.prototype.jd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.xa(a[y]);ge(this,i)}},P.prototype.writePackedSint64=P.prototype.jd,P.prototype.kd=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.W(m(a[y]));ge(this,i)}},P.prototype.writePackedSint64String=P.prototype.kd,P.prototype.ld=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.W(a[y]);ge(this,i)}},P.prototype.writePackedSintHash64=P.prototype.ld,P.prototype.Wc=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.s(a[i])},P.prototype.writePackedFixed32=P.prototype.Wc,P.prototype.Xc=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.V(a[i])},P.prototype.writePackedFixed64=P.prototype.Xc,P.prototype.Yc=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++){var y=$e(a[i]);this.a.A(y.lo,y.hi)}},P.prototype.writePackedFixed64String=P.prototype.Yc,P.prototype.ed=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.S(a[i])},P.prototype.writePackedSfixed32=P.prototype.ed,P.prototype.fd=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.T(a[i])},P.prototype.writePackedSfixed64=P.prototype.fd,P.prototype.gd=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.ka(a[i])},P.prototype.writePackedSfixed64String=P.prototype.gd,P.prototype.$c=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.L(a[i])},P.prototype.writePackedFloat=P.prototype.$c,P.prototype.Uc=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.J(a[i])},P.prototype.writePackedDouble=P.prototype.Uc,P.prototype.Tc=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(a.length),i=0;i<a.length;i++)this.a.I(a[i])},P.prototype.writePackedBool=P.prototype.Tc,P.prototype.Vc=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.R(a[y]);ge(this,i)}},P.prototype.writePackedEnum=P.prototype.Vc,P.prototype.Zc=function(i,a){if(a!=null&&a.length)for(Yt(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.K(a[i])},P.prototype.writePackedFixedHash64=P.prototype.Zc,P.prototype.td=function(i,a){if(a!=null&&a.length){i=ye(this,i);for(var y=0;y<a.length;y++)this.a.N(a[y]);ge(this,i)}},P.prototype.writePackedVarintHash64=P.prototype.td,t.debug=Pe,t.Map=q,t.Message=Ct,t.BinaryReader=W,t.BinaryWriter=P,t.ExtensionFieldInfo=zt,t.ExtensionFieldBinaryInfo=te,t.exportSymbol=k,t.inherits=N,t.object={extend:A},t.typeOf=w}(Ar)),Ar}var S=yc();const gc=ql(S),vc=op({__proto__:null,default:gc},[S]);var vt=vc,Kt=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof Kt<"u"&&Kt||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();vt.exportSymbol("proto.proto.mdds.v1.BoardEvent",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.ChangeOfContract",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.CouponPaymentDate",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.DeemTradePrice",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.DelistedInstrument",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Disclosure",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.ELWUnderlyingAssets",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.ETFIndexComposition",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.ETFTrackingError",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.ETFiIndex",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.ETFiNav",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.ForeignerOrderLimit",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Holiday",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Index",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.IndexConstituentsInformation",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.InstrumentDerivatives",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.InstrumentSBR",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.InvestorPerIndustry",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.InvestorPerSymbol",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.MarketIndex",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.MarketMakerInformation",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.MarketMakingContract",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.MemberTrader",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.OpenInterest",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Price",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.PriceLimitExpansion",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.PriceRecovery",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.RandomEnd",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.SecurityDefinition",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.SecurityInformationNotification",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.SecurityStatus",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.StockInfo",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.SymbolBoardEvent",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.SymbolClosingInformation",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.SymbolEvent",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Tick",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Tick.Side",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Timestamp",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TopNMembersPerSymbol",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TopPrice",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TradingResultOfForeignInvestor",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.TradingSchedule",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.VolatilityInterruption",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Wrapper",null,Kt);vt.exportSymbol("proto.proto.mdds.v1.Wrapper.KindCase",null,Kt);proto.proto.mdds.v1.Wrapper=function(t){S.Message.initialize(this,t,0,-1,null,proto.proto.mdds.v1.Wrapper.oneofGroups_)};vt.inherits(proto.proto.mdds.v1.Wrapper,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Wrapper.displayName="proto.proto.mdds.v1.Wrapper");proto.proto.mdds.v1.SecurityDefinition=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SecurityDefinition,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityDefinition.displayName="proto.proto.mdds.v1.SecurityDefinition");proto.proto.mdds.v1.SecurityStatus=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SecurityStatus,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityStatus.displayName="proto.proto.mdds.v1.SecurityStatus");proto.proto.mdds.v1.SecurityInformationNotification=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SecurityInformationNotification,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityInformationNotification.displayName="proto.proto.mdds.v1.SecurityInformationNotification");proto.proto.mdds.v1.SymbolClosingInformation=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SymbolClosingInformation,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolClosingInformation.displayName="proto.proto.mdds.v1.SymbolClosingInformation");proto.proto.mdds.v1.VolatilityInterruption=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.VolatilityInterruption,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.VolatilityInterruption.displayName="proto.proto.mdds.v1.VolatilityInterruption");proto.proto.mdds.v1.MarketMakerInformation=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MarketMakerInformation,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakerInformation.displayName="proto.proto.mdds.v1.MarketMakerInformation");proto.proto.mdds.v1.SymbolEvent=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SymbolEvent,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolEvent.displayName="proto.proto.mdds.v1.SymbolEvent");proto.proto.mdds.v1.IndexConstituentsInformation=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.IndexConstituentsInformation,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.IndexConstituentsInformation.displayName="proto.proto.mdds.v1.IndexConstituentsInformation");proto.proto.mdds.v1.RandomEnd=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.RandomEnd,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.RandomEnd.displayName="proto.proto.mdds.v1.RandomEnd");proto.proto.mdds.v1.Price=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Price,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Price.displayName="proto.proto.mdds.v1.Price");proto.proto.mdds.v1.PriceRecovery=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.PriceRecovery,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceRecovery.displayName="proto.proto.mdds.v1.PriceRecovery");proto.proto.mdds.v1.Index=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Index,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Index.displayName="proto.proto.mdds.v1.Index");proto.proto.mdds.v1.InvestorPerIndustry=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InvestorPerIndustry,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerIndustry.displayName="proto.proto.mdds.v1.InvestorPerIndustry");proto.proto.mdds.v1.InvestorPerSymbol=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InvestorPerSymbol,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerSymbol.displayName="proto.proto.mdds.v1.InvestorPerSymbol");proto.proto.mdds.v1.TopNMembersPerSymbol=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNMembersPerSymbol,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNMembersPerSymbol.displayName="proto.proto.mdds.v1.TopNMembersPerSymbol");proto.proto.mdds.v1.OpenInterest=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.OpenInterest,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.OpenInterest.displayName="proto.proto.mdds.v1.OpenInterest");proto.proto.mdds.v1.DeemTradePrice=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.DeemTradePrice,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DeemTradePrice.displayName="proto.proto.mdds.v1.DeemTradePrice");proto.proto.mdds.v1.ForeignerOrderLimit=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ForeignerOrderLimit,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ForeignerOrderLimit.displayName="proto.proto.mdds.v1.ForeignerOrderLimit");proto.proto.mdds.v1.PriceLimitExpansion=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.PriceLimitExpansion,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceLimitExpansion.displayName="proto.proto.mdds.v1.PriceLimitExpansion");proto.proto.mdds.v1.ETFiNav=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFiNav,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiNav.displayName="proto.proto.mdds.v1.ETFiNav");proto.proto.mdds.v1.ETFiIndex=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFiIndex,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiIndex.displayName="proto.proto.mdds.v1.ETFiIndex");proto.proto.mdds.v1.ETFTrackingError=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFTrackingError,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFTrackingError.displayName="proto.proto.mdds.v1.ETFTrackingError");proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.displayName="proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity");proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice");proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice");proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice");proto.proto.mdds.v1.TradingResultOfForeignInvestor=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TradingResultOfForeignInvestor,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.displayName="proto.proto.mdds.v1.TradingResultOfForeignInvestor");proto.proto.mdds.v1.Disclosure=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Disclosure,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Disclosure.displayName="proto.proto.mdds.v1.Disclosure");proto.proto.mdds.v1.DelistedInstrument=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.DelistedInstrument,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DelistedInstrument.displayName="proto.proto.mdds.v1.DelistedInstrument");proto.proto.mdds.v1.CouponPaymentDate=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.CouponPaymentDate,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.CouponPaymentDate.displayName="proto.proto.mdds.v1.CouponPaymentDate");proto.proto.mdds.v1.ChangeOfContract=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ChangeOfContract,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ChangeOfContract.displayName="proto.proto.mdds.v1.ChangeOfContract");proto.proto.mdds.v1.InstrumentDerivatives=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InstrumentDerivatives,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentDerivatives.displayName="proto.proto.mdds.v1.InstrumentDerivatives");proto.proto.mdds.v1.InstrumentSBR=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.InstrumentSBR,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentSBR.displayName="proto.proto.mdds.v1.InstrumentSBR");proto.proto.mdds.v1.TradingSchedule=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TradingSchedule,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingSchedule.displayName="proto.proto.mdds.v1.TradingSchedule");proto.proto.mdds.v1.Holiday=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Holiday,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Holiday.displayName="proto.proto.mdds.v1.Holiday");proto.proto.mdds.v1.MemberTrader=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MemberTrader,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MemberTrader.displayName="proto.proto.mdds.v1.MemberTrader");proto.proto.mdds.v1.MarketMakingContract=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MarketMakingContract,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakingContract.displayName="proto.proto.mdds.v1.MarketMakingContract");proto.proto.mdds.v1.ETFIndexComposition=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ETFIndexComposition,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFIndexComposition.displayName="proto.proto.mdds.v1.ETFIndexComposition");proto.proto.mdds.v1.ELWUnderlyingAssets=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.ELWUnderlyingAssets,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ELWUnderlyingAssets.displayName="proto.proto.mdds.v1.ELWUnderlyingAssets");proto.proto.mdds.v1.StockInfo=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.StockInfo,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.StockInfo.displayName="proto.proto.mdds.v1.StockInfo");proto.proto.mdds.v1.MarketIndex=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.MarketIndex,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketIndex.displayName="proto.proto.mdds.v1.MarketIndex");proto.proto.mdds.v1.BoardEvent=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.BoardEvent,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.BoardEvent.displayName="proto.proto.mdds.v1.BoardEvent");proto.proto.mdds.v1.SymbolBoardEvent=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.SymbolBoardEvent,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolBoardEvent.displayName="proto.proto.mdds.v1.SymbolBoardEvent");proto.proto.mdds.v1.Tick=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Tick,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Tick.displayName="proto.proto.mdds.v1.Tick");proto.proto.mdds.v1.TopPrice=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.TopPrice,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopPrice.displayName="proto.proto.mdds.v1.TopPrice");proto.proto.mdds.v1.Timestamp=function(t){S.Message.initialize(this,t,0,-1,null,null)};vt.inherits(proto.proto.mdds.v1.Timestamp,S.Message);vt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Timestamp.displayName="proto.proto.mdds.v1.Timestamp");proto.proto.mdds.v1.Wrapper.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]];proto.proto.mdds.v1.Wrapper.KindCase={KIND_NOT_SET:0,SECURITYDEFINITION:1,SECURITYSTATUS:2,SECURITYINFORMATIONNOTIFICATION:3,SYMBOLCLOSINGINFORMATION:4,VOLATILITYINTERRUPTION:5,MARKETMAKERINFORMATION:6,SYMBOLEVENT:7,INDEXCONSTITUENTSINFORMATION:8,RANDOMEND:9,PRICE:10,PRICERECOVERY:11,INDEX:12,INVESTORPERINDUSTRY:13,INVESTORPERSYMBOL:14,TOPNMEMBERSPERSYMBOL:15,OPENINTEREST:16,DEEMTRADEPRICE:17,FOREIGNERORDERLIMIT:18,PRICELIMITEXPANSION:19,ETFINAV:20,ETFIINDEX:21,ETFTRACKINGERROR:22,TOPNSYMBOLSWITHTRADINGQUANTITY:23,TOPNSYMBOLSWITHCURRENTPRICE:24,TOPNSYMBOLSWITHHIGHRATIOOFPRICE:25,TOPNSYMBOLSWITHLOWRATIOOFPRICE:26,TRADINGRESULTOFFOREIGNINVESTOR:27,DISCLOSURE:28,TIMESTAMP:29,DELISTEDINSTRUMENT:30,COUPONPAYMENTDATE:31,CHANGEOFCONTRACT:32,INSTRUMENTDERIVATIVES:33,INSTRUMENTSBR:34,TRADINGSCHEDULE:35,HOLIDAY:36,MEMBERTRADER:37,MARKETMAKINGCONTRACT:38,ETFINDEXCOMPOSITION:39,ELWUNDERLYINGASSETS:40,STOCKINFO:41,MARKETINDEX:42,BOARDEVENT:43,SYMBOLBOARDEVENT:44,TICK:45,TOPPRICE:46};proto.proto.mdds.v1.Wrapper.prototype.getKindCase=function(){return S.Message.computeOneofCase(this,proto.proto.mdds.v1.Wrapper.oneofGroups_[0])};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Wrapper.prototype.toObject=function(t){return proto.proto.mdds.v1.Wrapper.toObject(t,this)},proto.proto.mdds.v1.Wrapper.toObject=function(t,o){var e,p={securitydefinition:(e=o.getSecuritydefinition())&&proto.proto.mdds.v1.SecurityDefinition.toObject(t,e),securitystatus:(e=o.getSecuritystatus())&&proto.proto.mdds.v1.SecurityStatus.toObject(t,e),securityinformationnotification:(e=o.getSecurityinformationnotification())&&proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,e),symbolclosinginformation:(e=o.getSymbolclosinginformation())&&proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,e),volatilityinterruption:(e=o.getVolatilityinterruption())&&proto.proto.mdds.v1.VolatilityInterruption.toObject(t,e),marketmakerinformation:(e=o.getMarketmakerinformation())&&proto.proto.mdds.v1.MarketMakerInformation.toObject(t,e),symbolevent:(e=o.getSymbolevent())&&proto.proto.mdds.v1.SymbolEvent.toObject(t,e),indexconstituentsinformation:(e=o.getIndexconstituentsinformation())&&proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,e),randomend:(e=o.getRandomend())&&proto.proto.mdds.v1.RandomEnd.toObject(t,e),price:(e=o.getPrice())&&proto.proto.mdds.v1.Price.toObject(t,e),pricerecovery:(e=o.getPricerecovery())&&proto.proto.mdds.v1.PriceRecovery.toObject(t,e),index:(e=o.getIndex())&&proto.proto.mdds.v1.Index.toObject(t,e),investorperindustry:(e=o.getInvestorperindustry())&&proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,e),investorpersymbol:(e=o.getInvestorpersymbol())&&proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,e),topnmemberspersymbol:(e=o.getTopnmemberspersymbol())&&proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,e),openinterest:(e=o.getOpeninterest())&&proto.proto.mdds.v1.OpenInterest.toObject(t,e),deemtradeprice:(e=o.getDeemtradeprice())&&proto.proto.mdds.v1.DeemTradePrice.toObject(t,e),foreignerorderlimit:(e=o.getForeignerorderlimit())&&proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,e),pricelimitexpansion:(e=o.getPricelimitexpansion())&&proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,e),etfinav:(e=o.getEtfinav())&&proto.proto.mdds.v1.ETFiNav.toObject(t,e),etfiindex:(e=o.getEtfiindex())&&proto.proto.mdds.v1.ETFiIndex.toObject(t,e),etftrackingerror:(e=o.getEtftrackingerror())&&proto.proto.mdds.v1.ETFTrackingError.toObject(t,e),topnsymbolswithtradingquantity:(e=o.getTopnsymbolswithtradingquantity())&&proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,e),topnsymbolswithcurrentprice:(e=o.getTopnsymbolswithcurrentprice())&&proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,e),topnsymbolswithhighratioofprice:(e=o.getTopnsymbolswithhighratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,e),topnsymbolswithlowratioofprice:(e=o.getTopnsymbolswithlowratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,e),tradingresultofforeigninvestor:(e=o.getTradingresultofforeigninvestor())&&proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,e),disclosure:(e=o.getDisclosure())&&proto.proto.mdds.v1.Disclosure.toObject(t,e),timestamp:(e=o.getTimestamp())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),delistedinstrument:(e=o.getDelistedinstrument())&&proto.proto.mdds.v1.DelistedInstrument.toObject(t,e),couponpaymentdate:(e=o.getCouponpaymentdate())&&proto.proto.mdds.v1.CouponPaymentDate.toObject(t,e),changeofcontract:(e=o.getChangeofcontract())&&proto.proto.mdds.v1.ChangeOfContract.toObject(t,e),instrumentderivatives:(e=o.getInstrumentderivatives())&&proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,e),instrumentsbr:(e=o.getInstrumentsbr())&&proto.proto.mdds.v1.InstrumentSBR.toObject(t,e),tradingschedule:(e=o.getTradingschedule())&&proto.proto.mdds.v1.TradingSchedule.toObject(t,e),holiday:(e=o.getHoliday())&&proto.proto.mdds.v1.Holiday.toObject(t,e),membertrader:(e=o.getMembertrader())&&proto.proto.mdds.v1.MemberTrader.toObject(t,e),marketmakingcontract:(e=o.getMarketmakingcontract())&&proto.proto.mdds.v1.MarketMakingContract.toObject(t,e),etfindexcomposition:(e=o.getEtfindexcomposition())&&proto.proto.mdds.v1.ETFIndexComposition.toObject(t,e),elwunderlyingassets:(e=o.getElwunderlyingassets())&&proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,e),stockinfo:(e=o.getStockinfo())&&proto.proto.mdds.v1.StockInfo.toObject(t,e),marketindex:(e=o.getMarketindex())&&proto.proto.mdds.v1.MarketIndex.toObject(t,e),boardevent:(e=o.getBoardevent())&&proto.proto.mdds.v1.BoardEvent.toObject(t,e),symbolboardevent:(e=o.getSymbolboardevent())&&proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,e),tick:(e=o.getTick())&&proto.proto.mdds.v1.Tick.toObject(t,e),topprice:(e=o.getTopprice())&&proto.proto.mdds.v1.TopPrice.toObject(t,e)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Wrapper.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.Wrapper;return proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=new proto.proto.mdds.v1.SecurityDefinition;o.readMessage(p,proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader),t.setSecuritydefinition(p);break;case 2:var p=new proto.proto.mdds.v1.SecurityStatus;o.readMessage(p,proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader),t.setSecuritystatus(p);break;case 3:var p=new proto.proto.mdds.v1.SecurityInformationNotification;o.readMessage(p,proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader),t.setSecurityinformationnotification(p);break;case 4:var p=new proto.proto.mdds.v1.SymbolClosingInformation;o.readMessage(p,proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader),t.setSymbolclosinginformation(p);break;case 5:var p=new proto.proto.mdds.v1.VolatilityInterruption;o.readMessage(p,proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader),t.setVolatilityinterruption(p);break;case 6:var p=new proto.proto.mdds.v1.MarketMakerInformation;o.readMessage(p,proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader),t.setMarketmakerinformation(p);break;case 7:var p=new proto.proto.mdds.v1.SymbolEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader),t.setSymbolevent(p);break;case 8:var p=new proto.proto.mdds.v1.IndexConstituentsInformation;o.readMessage(p,proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader),t.setIndexconstituentsinformation(p);break;case 9:var p=new proto.proto.mdds.v1.RandomEnd;o.readMessage(p,proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader),t.setRandomend(p);break;case 10:var p=new proto.proto.mdds.v1.Price;o.readMessage(p,proto.proto.mdds.v1.Price.deserializeBinaryFromReader),t.setPrice(p);break;case 11:var p=new proto.proto.mdds.v1.PriceRecovery;o.readMessage(p,proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader),t.setPricerecovery(p);break;case 12:var p=new proto.proto.mdds.v1.Index;o.readMessage(p,proto.proto.mdds.v1.Index.deserializeBinaryFromReader),t.setIndex(p);break;case 13:var p=new proto.proto.mdds.v1.InvestorPerIndustry;o.readMessage(p,proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader),t.setInvestorperindustry(p);break;case 14:var p=new proto.proto.mdds.v1.InvestorPerSymbol;o.readMessage(p,proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader),t.setInvestorpersymbol(p);break;case 15:var p=new proto.proto.mdds.v1.TopNMembersPerSymbol;o.readMessage(p,proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader),t.setTopnmemberspersymbol(p);break;case 16:var p=new proto.proto.mdds.v1.OpenInterest;o.readMessage(p,proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader),t.setOpeninterest(p);break;case 17:var p=new proto.proto.mdds.v1.DeemTradePrice;o.readMessage(p,proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader),t.setDeemtradeprice(p);break;case 18:var p=new proto.proto.mdds.v1.ForeignerOrderLimit;o.readMessage(p,proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader),t.setForeignerorderlimit(p);break;case 19:var p=new proto.proto.mdds.v1.PriceLimitExpansion;o.readMessage(p,proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader),t.setPricelimitexpansion(p);break;case 20:var p=new proto.proto.mdds.v1.ETFiNav;o.readMessage(p,proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader),t.setEtfinav(p);break;case 21:var p=new proto.proto.mdds.v1.ETFiIndex;o.readMessage(p,proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader),t.setEtfiindex(p);break;case 22:var p=new proto.proto.mdds.v1.ETFTrackingError;o.readMessage(p,proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader),t.setEtftrackingerror(p);break;case 23:var p=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader),t.setTopnsymbolswithtradingquantity(p);break;case 24:var p=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader),t.setTopnsymbolswithcurrentprice(p);break;case 25:var p=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithhighratioofprice(p);break;case 26:var p=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithlowratioofprice(p);break;case 27:var p=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;o.readMessage(p,proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader),t.setTradingresultofforeigninvestor(p);break;case 28:var p=new proto.proto.mdds.v1.Disclosure;o.readMessage(p,proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader),t.setDisclosure(p);break;case 29:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setTimestamp(p);break;case 30:var p=new proto.proto.mdds.v1.DelistedInstrument;o.readMessage(p,proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader),t.setDelistedinstrument(p);break;case 31:var p=new proto.proto.mdds.v1.CouponPaymentDate;o.readMessage(p,proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader),t.setCouponpaymentdate(p);break;case 32:var p=new proto.proto.mdds.v1.ChangeOfContract;o.readMessage(p,proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader),t.setChangeofcontract(p);break;case 33:var p=new proto.proto.mdds.v1.InstrumentDerivatives;o.readMessage(p,proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader),t.setInstrumentderivatives(p);break;case 34:var p=new proto.proto.mdds.v1.InstrumentSBR;o.readMessage(p,proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader),t.setInstrumentsbr(p);break;case 35:var p=new proto.proto.mdds.v1.TradingSchedule;o.readMessage(p,proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader),t.setTradingschedule(p);break;case 36:var p=new proto.proto.mdds.v1.Holiday;o.readMessage(p,proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader),t.setHoliday(p);break;case 37:var p=new proto.proto.mdds.v1.MemberTrader;o.readMessage(p,proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader),t.setMembertrader(p);break;case 38:var p=new proto.proto.mdds.v1.MarketMakingContract;o.readMessage(p,proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader),t.setMarketmakingcontract(p);break;case 39:var p=new proto.proto.mdds.v1.ETFIndexComposition;o.readMessage(p,proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader),t.setEtfindexcomposition(p);break;case 40:var p=new proto.proto.mdds.v1.ELWUnderlyingAssets;o.readMessage(p,proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader),t.setElwunderlyingassets(p);break;case 41:var p=new proto.proto.mdds.v1.StockInfo;o.readMessage(p,proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader),t.setStockinfo(p);break;case 42:var p=new proto.proto.mdds.v1.MarketIndex;o.readMessage(p,proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader),t.setMarketindex(p);break;case 43:var p=new proto.proto.mdds.v1.BoardEvent;o.readMessage(p,proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader),t.setBoardevent(p);break;case 44:var p=new proto.proto.mdds.v1.SymbolBoardEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader),t.setSymbolboardevent(p);break;case 45:var p=new proto.proto.mdds.v1.Tick;o.readMessage(p,proto.proto.mdds.v1.Tick.deserializeBinaryFromReader),t.setTick(p);break;case 46:var p=new proto.proto.mdds.v1.TopPrice;o.readMessage(p,proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader),t.setTopprice(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Wrapper.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSecuritydefinition(),e!=null&&o.writeMessage(1,e,proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter),e=t.getSecuritystatus(),e!=null&&o.writeMessage(2,e,proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter),e=t.getSecurityinformationnotification(),e!=null&&o.writeMessage(3,e,proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter),e=t.getSymbolclosinginformation(),e!=null&&o.writeMessage(4,e,proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter),e=t.getVolatilityinterruption(),e!=null&&o.writeMessage(5,e,proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter),e=t.getMarketmakerinformation(),e!=null&&o.writeMessage(6,e,proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter),e=t.getSymbolevent(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter),e=t.getIndexconstituentsinformation(),e!=null&&o.writeMessage(8,e,proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter),e=t.getRandomend(),e!=null&&o.writeMessage(9,e,proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter),e=t.getPrice(),e!=null&&o.writeMessage(10,e,proto.proto.mdds.v1.Price.serializeBinaryToWriter),e=t.getPricerecovery(),e!=null&&o.writeMessage(11,e,proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter),e=t.getIndex(),e!=null&&o.writeMessage(12,e,proto.proto.mdds.v1.Index.serializeBinaryToWriter),e=t.getInvestorperindustry(),e!=null&&o.writeMessage(13,e,proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter),e=t.getInvestorpersymbol(),e!=null&&o.writeMessage(14,e,proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter),e=t.getTopnmemberspersymbol(),e!=null&&o.writeMessage(15,e,proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter),e=t.getOpeninterest(),e!=null&&o.writeMessage(16,e,proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter),e=t.getDeemtradeprice(),e!=null&&o.writeMessage(17,e,proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter),e=t.getForeignerorderlimit(),e!=null&&o.writeMessage(18,e,proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter),e=t.getPricelimitexpansion(),e!=null&&o.writeMessage(19,e,proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter),e=t.getEtfinav(),e!=null&&o.writeMessage(20,e,proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter),e=t.getEtfiindex(),e!=null&&o.writeMessage(21,e,proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter),e=t.getEtftrackingerror(),e!=null&&o.writeMessage(22,e,proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter),e=t.getTopnsymbolswithtradingquantity(),e!=null&&o.writeMessage(23,e,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter),e=t.getTopnsymbolswithcurrentprice(),e!=null&&o.writeMessage(24,e,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithhighratioofprice(),e!=null&&o.writeMessage(25,e,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithlowratioofprice(),e!=null&&o.writeMessage(26,e,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter),e=t.getTradingresultofforeigninvestor(),e!=null&&o.writeMessage(27,e,proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter),e=t.getDisclosure(),e!=null&&o.writeMessage(28,e,proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter),e=t.getTimestamp(),e!=null&&o.writeMessage(29,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getDelistedinstrument(),e!=null&&o.writeMessage(30,e,proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter),e=t.getCouponpaymentdate(),e!=null&&o.writeMessage(31,e,proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter),e=t.getChangeofcontract(),e!=null&&o.writeMessage(32,e,proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter),e=t.getInstrumentderivatives(),e!=null&&o.writeMessage(33,e,proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter),e=t.getInstrumentsbr(),e!=null&&o.writeMessage(34,e,proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter),e=t.getTradingschedule(),e!=null&&o.writeMessage(35,e,proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter),e=t.getHoliday(),e!=null&&o.writeMessage(36,e,proto.proto.mdds.v1.Holiday.serializeBinaryToWriter),e=t.getMembertrader(),e!=null&&o.writeMessage(37,e,proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter),e=t.getMarketmakingcontract(),e!=null&&o.writeMessage(38,e,proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter),e=t.getEtfindexcomposition(),e!=null&&o.writeMessage(39,e,proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter),e=t.getElwunderlyingassets(),e!=null&&o.writeMessage(40,e,proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter),e=t.getStockinfo(),e!=null&&o.writeMessage(41,e,proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter),e=t.getMarketindex(),e!=null&&o.writeMessage(42,e,proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter),e=t.getBoardevent(),e!=null&&o.writeMessage(43,e,proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter),e=t.getSymbolboardevent(),e!=null&&o.writeMessage(44,e,proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter),e=t.getTick(),e!=null&&o.writeMessage(45,e,proto.proto.mdds.v1.Tick.serializeBinaryToWriter),e=t.getTopprice(),e!=null&&o.writeMessage(46,e,proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter)};proto.proto.mdds.v1.Wrapper.prototype.getSecuritydefinition=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityDefinition,1)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritydefinition=function(t){return S.Message.setOneofWrapperField(this,1,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritydefinition=function(){return this.setSecuritydefinition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritydefinition=function(){return S.Message.getField(this,1)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecuritystatus=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityStatus,2)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritystatus=function(t){return S.Message.setOneofWrapperField(this,2,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritystatus=function(){return this.setSecuritystatus(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritystatus=function(){return S.Message.getField(this,2)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecurityinformationnotification=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityInformationNotification,3)};proto.proto.mdds.v1.Wrapper.prototype.setSecurityinformationnotification=function(t){return S.Message.setOneofWrapperField(this,3,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecurityinformationnotification=function(){return this.setSecurityinformationnotification(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecurityinformationnotification=function(){return S.Message.getField(this,3)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolclosinginformation=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolClosingInformation,4)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolclosinginformation=function(t){return S.Message.setOneofWrapperField(this,4,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolclosinginformation=function(){return this.setSymbolclosinginformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolclosinginformation=function(){return S.Message.getField(this,4)!=null};proto.proto.mdds.v1.Wrapper.prototype.getVolatilityinterruption=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.VolatilityInterruption,5)};proto.proto.mdds.v1.Wrapper.prototype.setVolatilityinterruption=function(t){return S.Message.setOneofWrapperField(this,5,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearVolatilityinterruption=function(){return this.setVolatilityinterruption(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasVolatilityinterruption=function(){return S.Message.getField(this,5)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakerinformation=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakerInformation,6)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakerinformation=function(t){return S.Message.setOneofWrapperField(this,6,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakerinformation=function(){return this.setMarketmakerinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakerinformation=function(){return S.Message.getField(this,6)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolevent=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolEvent,7)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolevent=function(t){return S.Message.setOneofWrapperField(this,7,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolevent=function(){return this.setSymbolevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolevent=function(){return S.Message.getField(this,7)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndexconstituentsinformation=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.IndexConstituentsInformation,8)};proto.proto.mdds.v1.Wrapper.prototype.setIndexconstituentsinformation=function(t){return S.Message.setOneofWrapperField(this,8,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndexconstituentsinformation=function(){return this.setIndexconstituentsinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndexconstituentsinformation=function(){return S.Message.getField(this,8)!=null};proto.proto.mdds.v1.Wrapper.prototype.getRandomend=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.RandomEnd,9)};proto.proto.mdds.v1.Wrapper.prototype.setRandomend=function(t){return S.Message.setOneofWrapperField(this,9,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearRandomend=function(){return this.setRandomend(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasRandomend=function(){return S.Message.getField(this,9)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPrice=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.Price,10)};proto.proto.mdds.v1.Wrapper.prototype.setPrice=function(t){return S.Message.setOneofWrapperField(this,10,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPrice=function(){return this.setPrice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPrice=function(){return S.Message.getField(this,10)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricerecovery=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.PriceRecovery,11)};proto.proto.mdds.v1.Wrapper.prototype.setPricerecovery=function(t){return S.Message.setOneofWrapperField(this,11,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricerecovery=function(){return this.setPricerecovery(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricerecovery=function(){return S.Message.getField(this,11)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndex=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.Index,12)};proto.proto.mdds.v1.Wrapper.prototype.setIndex=function(t){return S.Message.setOneofWrapperField(this,12,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndex=function(){return this.setIndex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndex=function(){return S.Message.getField(this,12)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorperindustry=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerIndustry,13)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorperindustry=function(t){return S.Message.setOneofWrapperField(this,13,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorperindustry=function(){return this.setInvestorperindustry(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorperindustry=function(){return S.Message.getField(this,13)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorpersymbol=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerSymbol,14)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorpersymbol=function(t){return S.Message.setOneofWrapperField(this,14,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorpersymbol=function(){return this.setInvestorpersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorpersymbol=function(){return S.Message.getField(this,14)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnmemberspersymbol=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TopNMembersPerSymbol,15)};proto.proto.mdds.v1.Wrapper.prototype.setTopnmemberspersymbol=function(t){return S.Message.setOneofWrapperField(this,15,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnmemberspersymbol=function(){return this.setTopnmemberspersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnmemberspersymbol=function(){return S.Message.getField(this,15)!=null};proto.proto.mdds.v1.Wrapper.prototype.getOpeninterest=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.OpenInterest,16)};proto.proto.mdds.v1.Wrapper.prototype.setOpeninterest=function(t){return S.Message.setOneofWrapperField(this,16,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearOpeninterest=function(){return this.setOpeninterest(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasOpeninterest=function(){return S.Message.getField(this,16)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDeemtradeprice=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.DeemTradePrice,17)};proto.proto.mdds.v1.Wrapper.prototype.setDeemtradeprice=function(t){return S.Message.setOneofWrapperField(this,17,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDeemtradeprice=function(){return this.setDeemtradeprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDeemtradeprice=function(){return S.Message.getField(this,17)!=null};proto.proto.mdds.v1.Wrapper.prototype.getForeignerorderlimit=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.ForeignerOrderLimit,18)};proto.proto.mdds.v1.Wrapper.prototype.setForeignerorderlimit=function(t){return S.Message.setOneofWrapperField(this,18,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearForeignerorderlimit=function(){return this.setForeignerorderlimit(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasForeignerorderlimit=function(){return S.Message.getField(this,18)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricelimitexpansion=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.PriceLimitExpansion,19)};proto.proto.mdds.v1.Wrapper.prototype.setPricelimitexpansion=function(t){return S.Message.setOneofWrapperField(this,19,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricelimitexpansion=function(){return this.setPricelimitexpansion(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricelimitexpansion=function(){return S.Message.getField(this,19)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfinav=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiNav,20)};proto.proto.mdds.v1.Wrapper.prototype.setEtfinav=function(t){return S.Message.setOneofWrapperField(this,20,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfinav=function(){return this.setEtfinav(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfinav=function(){return S.Message.getField(this,20)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfiindex=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiIndex,21)};proto.proto.mdds.v1.Wrapper.prototype.setEtfiindex=function(t){return S.Message.setOneofWrapperField(this,21,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfiindex=function(){return this.setEtfiindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfiindex=function(){return S.Message.getField(this,21)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtftrackingerror=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.ETFTrackingError,22)};proto.proto.mdds.v1.Wrapper.prototype.setEtftrackingerror=function(t){return S.Message.setOneofWrapperField(this,22,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtftrackingerror=function(){return this.setEtftrackingerror(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtftrackingerror=function(){return S.Message.getField(this,22)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithtradingquantity=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,23)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithtradingquantity=function(t){return S.Message.setOneofWrapperField(this,23,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithtradingquantity=function(){return this.setTopnsymbolswithtradingquantity(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithtradingquantity=function(){return S.Message.getField(this,23)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithcurrentprice=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,24)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithcurrentprice=function(t){return S.Message.setOneofWrapperField(this,24,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithcurrentprice=function(){return this.setTopnsymbolswithcurrentprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithcurrentprice=function(){return S.Message.getField(this,24)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithhighratioofprice=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,25)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithhighratioofprice=function(t){return S.Message.setOneofWrapperField(this,25,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithhighratioofprice=function(){return this.setTopnsymbolswithhighratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithhighratioofprice=function(){return S.Message.getField(this,25)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithlowratioofprice=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,26)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithlowratioofprice=function(t){return S.Message.setOneofWrapperField(this,26,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithlowratioofprice=function(){return this.setTopnsymbolswithlowratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithlowratioofprice=function(){return S.Message.getField(this,26)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingresultofforeigninvestor=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TradingResultOfForeignInvestor,27)};proto.proto.mdds.v1.Wrapper.prototype.setTradingresultofforeigninvestor=function(t){return S.Message.setOneofWrapperField(this,27,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingresultofforeigninvestor=function(){return this.setTradingresultofforeigninvestor(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingresultofforeigninvestor=function(){return S.Message.getField(this,27)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDisclosure=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.Disclosure,28)};proto.proto.mdds.v1.Wrapper.prototype.setDisclosure=function(t){return S.Message.setOneofWrapperField(this,28,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDisclosure=function(){return this.setDisclosure(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDisclosure=function(){return S.Message.getField(this,28)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTimestamp=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,29)};proto.proto.mdds.v1.Wrapper.prototype.setTimestamp=function(t){return S.Message.setOneofWrapperField(this,29,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTimestamp=function(){return this.setTimestamp(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTimestamp=function(){return S.Message.getField(this,29)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDelistedinstrument=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.DelistedInstrument,30)};proto.proto.mdds.v1.Wrapper.prototype.setDelistedinstrument=function(t){return S.Message.setOneofWrapperField(this,30,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDelistedinstrument=function(){return this.setDelistedinstrument(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDelistedinstrument=function(){return S.Message.getField(this,30)!=null};proto.proto.mdds.v1.Wrapper.prototype.getCouponpaymentdate=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.CouponPaymentDate,31)};proto.proto.mdds.v1.Wrapper.prototype.setCouponpaymentdate=function(t){return S.Message.setOneofWrapperField(this,31,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearCouponpaymentdate=function(){return this.setCouponpaymentdate(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasCouponpaymentdate=function(){return S.Message.getField(this,31)!=null};proto.proto.mdds.v1.Wrapper.prototype.getChangeofcontract=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.ChangeOfContract,32)};proto.proto.mdds.v1.Wrapper.prototype.setChangeofcontract=function(t){return S.Message.setOneofWrapperField(this,32,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearChangeofcontract=function(){return this.setChangeofcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasChangeofcontract=function(){return S.Message.getField(this,32)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentderivatives=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentDerivatives,33)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentderivatives=function(t){return S.Message.setOneofWrapperField(this,33,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentderivatives=function(){return this.setInstrumentderivatives(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentderivatives=function(){return S.Message.getField(this,33)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentsbr=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentSBR,34)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentsbr=function(t){return S.Message.setOneofWrapperField(this,34,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentsbr=function(){return this.setInstrumentsbr(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentsbr=function(){return S.Message.getField(this,34)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingschedule=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TradingSchedule,35)};proto.proto.mdds.v1.Wrapper.prototype.setTradingschedule=function(t){return S.Message.setOneofWrapperField(this,35,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingschedule=function(){return this.setTradingschedule(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingschedule=function(){return S.Message.getField(this,35)!=null};proto.proto.mdds.v1.Wrapper.prototype.getHoliday=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.Holiday,36)};proto.proto.mdds.v1.Wrapper.prototype.setHoliday=function(t){return S.Message.setOneofWrapperField(this,36,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearHoliday=function(){return this.setHoliday(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasHoliday=function(){return S.Message.getField(this,36)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMembertrader=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.MemberTrader,37)};proto.proto.mdds.v1.Wrapper.prototype.setMembertrader=function(t){return S.Message.setOneofWrapperField(this,37,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMembertrader=function(){return this.setMembertrader(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMembertrader=function(){return S.Message.getField(this,37)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakingcontract=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakingContract,38)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakingcontract=function(t){return S.Message.setOneofWrapperField(this,38,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakingcontract=function(){return this.setMarketmakingcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakingcontract=function(){return S.Message.getField(this,38)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfindexcomposition=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.ETFIndexComposition,39)};proto.proto.mdds.v1.Wrapper.prototype.setEtfindexcomposition=function(t){return S.Message.setOneofWrapperField(this,39,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfindexcomposition=function(){return this.setEtfindexcomposition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfindexcomposition=function(){return S.Message.getField(this,39)!=null};proto.proto.mdds.v1.Wrapper.prototype.getElwunderlyingassets=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.ELWUnderlyingAssets,40)};proto.proto.mdds.v1.Wrapper.prototype.setElwunderlyingassets=function(t){return S.Message.setOneofWrapperField(this,40,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearElwunderlyingassets=function(){return this.setElwunderlyingassets(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasElwunderlyingassets=function(){return S.Message.getField(this,40)!=null};proto.proto.mdds.v1.Wrapper.prototype.getStockinfo=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.StockInfo,41)};proto.proto.mdds.v1.Wrapper.prototype.setStockinfo=function(t){return S.Message.setOneofWrapperField(this,41,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearStockinfo=function(){return this.setStockinfo(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasStockinfo=function(){return S.Message.getField(this,41)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketindex=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.MarketIndex,42)};proto.proto.mdds.v1.Wrapper.prototype.setMarketindex=function(t){return S.Message.setOneofWrapperField(this,42,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketindex=function(){return this.setMarketindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketindex=function(){return S.Message.getField(this,42)!=null};proto.proto.mdds.v1.Wrapper.prototype.getBoardevent=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.BoardEvent,43)};proto.proto.mdds.v1.Wrapper.prototype.setBoardevent=function(t){return S.Message.setOneofWrapperField(this,43,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearBoardevent=function(){return this.setBoardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasBoardevent=function(){return S.Message.getField(this,43)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolboardevent=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolBoardEvent,44)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolboardevent=function(t){return S.Message.setOneofWrapperField(this,44,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolboardevent=function(){return this.setSymbolboardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolboardevent=function(){return S.Message.getField(this,44)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTick=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.Tick,45)};proto.proto.mdds.v1.Wrapper.prototype.setTick=function(t){return S.Message.setOneofWrapperField(this,45,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTick=function(){return this.setTick(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTick=function(){return S.Message.getField(this,45)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopprice=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.TopPrice,46)};proto.proto.mdds.v1.Wrapper.prototype.setTopprice=function(t){return S.Message.setOneofWrapperField(this,46,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopprice=function(){return this.setTopprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopprice=function(){return S.Message.getField(this,46)!=null};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityDefinition.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityDefinition.toObject(t,this)},proto.proto.mdds.v1.SecurityDefinition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityDefinition.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityDefinition;return proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityDefinition.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityStatus.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityStatus.toObject(t,this)},proto.proto.mdds.v1.SecurityStatus.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityStatus.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityStatus;return proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityStatus.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityInformationNotification.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,this)},proto.proto.mdds.v1.SecurityInformationNotification.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityInformationNotification;return proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityInformationNotification.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolClosingInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,this)},proto.proto.mdds.v1.SymbolClosingInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolClosingInformation;return proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolClosingInformation.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.VolatilityInterruption.prototype.toObject=function(t){return proto.proto.mdds.v1.VolatilityInterruption.toObject(t,this)},proto.proto.mdds.v1.VolatilityInterruption.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.VolatilityInterruption.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.VolatilityInterruption;return proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.VolatilityInterruption.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakerInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakerInformation.toObject(t,this)},proto.proto.mdds.v1.MarketMakerInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakerInformation.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakerInformation;return proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakerInformation.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolEvent.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolEvent;return proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolEvent.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.IndexConstituentsInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,this)},proto.proto.mdds.v1.IndexConstituentsInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.IndexConstituentsInformation;return proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.IndexConstituentsInformation.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.RandomEnd.prototype.toObject=function(t){return proto.proto.mdds.v1.RandomEnd.toObject(t,this)},proto.proto.mdds.v1.RandomEnd.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.RandomEnd.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.RandomEnd;return proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.RandomEnd.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Price.prototype.toObject=function(t){return proto.proto.mdds.v1.Price.toObject(t,this)},proto.proto.mdds.v1.Price.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Price.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.Price;return proto.proto.mdds.v1.Price.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Price.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Price.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.Price.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Price.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceRecovery.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceRecovery.toObject(t,this)},proto.proto.mdds.v1.PriceRecovery.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceRecovery.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.PriceRecovery;return proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceRecovery.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Index.prototype.toObject=function(t){return proto.proto.mdds.v1.Index.toObject(t,this)},proto.proto.mdds.v1.Index.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Index.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.Index;return proto.proto.mdds.v1.Index.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Index.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Index.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.Index.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Index.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerIndustry.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,this)},proto.proto.mdds.v1.InvestorPerIndustry.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerIndustry;return proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerIndustry.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,this)},proto.proto.mdds.v1.InvestorPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerSymbol;return proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerSymbol.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,this)},proto.proto.mdds.v1.TopNMembersPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TopNMembersPerSymbol;return proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.OpenInterest.prototype.toObject=function(t){return proto.proto.mdds.v1.OpenInterest.toObject(t,this)},proto.proto.mdds.v1.OpenInterest.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.OpenInterest.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.OpenInterest;return proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.OpenInterest.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DeemTradePrice.prototype.toObject=function(t){return proto.proto.mdds.v1.DeemTradePrice.toObject(t,this)},proto.proto.mdds.v1.DeemTradePrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DeemTradePrice.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.DeemTradePrice;return proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DeemTradePrice.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ForeignerOrderLimit.prototype.toObject=function(t){return proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,this)},proto.proto.mdds.v1.ForeignerOrderLimit.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.ForeignerOrderLimit;return proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ForeignerOrderLimit.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceLimitExpansion.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,this)},proto.proto.mdds.v1.PriceLimitExpansion.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.PriceLimitExpansion;return proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceLimitExpansion.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiNav.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiNav.toObject(t,this)},proto.proto.mdds.v1.ETFiNav.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiNav.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiNav;return proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiNav.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiIndex.toObject(t,this)},proto.proto.mdds.v1.ETFiIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiIndex.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiIndex;return proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiIndex.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFTrackingError.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFTrackingError.toObject(t,this)},proto.proto.mdds.v1.ETFTrackingError.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFTrackingError.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.ETFTrackingError;return proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFTrackingError.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,this)},proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Disclosure.prototype.toObject=function(t){return proto.proto.mdds.v1.Disclosure.toObject(t,this)},proto.proto.mdds.v1.Disclosure.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Disclosure.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.Disclosure;return proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Disclosure.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DelistedInstrument.prototype.toObject=function(t){return proto.proto.mdds.v1.DelistedInstrument.toObject(t,this)},proto.proto.mdds.v1.DelistedInstrument.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DelistedInstrument.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.DelistedInstrument;return proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DelistedInstrument.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.CouponPaymentDate.prototype.toObject=function(t){return proto.proto.mdds.v1.CouponPaymentDate.toObject(t,this)},proto.proto.mdds.v1.CouponPaymentDate.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.CouponPaymentDate.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.CouponPaymentDate;return proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.CouponPaymentDate.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ChangeOfContract.prototype.toObject=function(t){return proto.proto.mdds.v1.ChangeOfContract.toObject(t,this)},proto.proto.mdds.v1.ChangeOfContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ChangeOfContract.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.ChangeOfContract;return proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ChangeOfContract.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentDerivatives.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,this)},proto.proto.mdds.v1.InstrumentDerivatives.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentDerivatives;return proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentDerivatives.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentSBR.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentSBR.toObject(t,this)},proto.proto.mdds.v1.InstrumentSBR.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentSBR.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentSBR;return proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentSBR.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingSchedule.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingSchedule.toObject(t,this)},proto.proto.mdds.v1.TradingSchedule.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingSchedule.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TradingSchedule;return proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingSchedule.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Holiday.prototype.toObject=function(t){return proto.proto.mdds.v1.Holiday.toObject(t,this)},proto.proto.mdds.v1.Holiday.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Holiday.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.Holiday;return proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Holiday.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.Holiday.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Holiday.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MemberTrader.prototype.toObject=function(t){return proto.proto.mdds.v1.MemberTrader.toObject(t,this)},proto.proto.mdds.v1.MemberTrader.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MemberTrader.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.MemberTrader;return proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MemberTrader.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakingContract.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakingContract.toObject(t,this)},proto.proto.mdds.v1.MarketMakingContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakingContract.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakingContract;return proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakingContract.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFIndexComposition.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFIndexComposition.toObject(t,this)},proto.proto.mdds.v1.ETFIndexComposition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFIndexComposition.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.ETFIndexComposition;return proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFIndexComposition.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.toObject=function(t){return proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,this)},proto.proto.mdds.v1.ELWUnderlyingAssets.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.ELWUnderlyingAssets;return proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.StockInfo.prototype.toObject=function(t){return proto.proto.mdds.v1.StockInfo.toObject(t,this)},proto.proto.mdds.v1.StockInfo.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.StockInfo.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.StockInfo;return proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.StockInfo.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketIndex.toObject(t,this)},proto.proto.mdds.v1.MarketIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketIndex.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.MarketIndex;return proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketIndex.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.BoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.BoardEvent.toObject(t,this)},proto.proto.mdds.v1.BoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.BoardEvent.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.BoardEvent;return proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.BoardEvent.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolBoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolBoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolBoardEvent;return proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolBoardEvent.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Tick.prototype.toObject=function(t){return proto.proto.mdds.v1.Tick.toObject(t,this)},proto.proto.mdds.v1.Tick.toObject=function(t,o){var e,p={marketid:S.Message.getFieldWithDefault(o,1,0),boardid:S.Message.getFieldWithDefault(o,2,0),isin:S.Message.getFieldWithDefault(o,3,""),symbol:S.Message.getFieldWithDefault(o,4,""),matchprice:S.Message.getFloatingPointFieldWithDefault(o,5,0),matchqtty:S.Message.getFloatingPointFieldWithDefault(o,6,0),sendingtime:(e=o.getSendingtime())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),boardidoriginal:S.Message.getFieldWithDefault(o,8,0),tradingsessionid:S.Message.getFieldWithDefault(o,9,0),totalvolumetraded:S.Message.getFieldWithDefault(o,10,0),grosstradeamount:S.Message.getFloatingPointFieldWithDefault(o,11,0),side:S.Message.getFieldWithDefault(o,12,0)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Tick.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.Tick;return proto.proto.mdds.v1.Tick.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Tick.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt32();t.setMarketid(p);break;case 2:var p=o.readInt32();t.setBoardid(p);break;case 3:var p=o.readString();t.setIsin(p);break;case 4:var p=o.readString();t.setSymbol(p);break;case 5:var p=o.readDouble();t.setMatchprice(p);break;case 6:var p=o.readDouble();t.setMatchqtty(p);break;case 7:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setSendingtime(p);break;case 8:var p=o.readInt32();t.setBoardidoriginal(p);break;case 9:var p=o.readInt32();t.setTradingsessionid(p);break;case 10:var p=o.readUint64();t.setTotalvolumetraded(p);break;case 11:var p=o.readDouble();t.setGrosstradeamount(p);break;case 12:var p=o.readEnum();t.setSide(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Tick.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.Tick.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Tick.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getMarketid(),e!==0&&o.writeInt32(1,e),e=t.getBoardid(),e!==0&&o.writeInt32(2,e),e=t.getIsin(),e.length>0&&o.writeString(3,e),e=t.getSymbol(),e.length>0&&o.writeString(4,e),e=t.getMatchprice(),e!==0&&o.writeDouble(5,e),e=t.getMatchqtty(),e!==0&&o.writeDouble(6,e),e=t.getSendingtime(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getBoardidoriginal(),e!==0&&o.writeInt32(8,e),e=t.getTradingsessionid(),e!==0&&o.writeInt32(9,e),e=t.getTotalvolumetraded(),e!==0&&o.writeUint64(10,e),e=t.getGrosstradeamount(),e!==0&&o.writeDouble(11,e),e=t.getSide(),e!==0&&o.writeEnum(12,e)};proto.proto.mdds.v1.Tick.Side={SIDE_UNSPECIFIED:0,SIDE_BUY:1,SIDE_SELL:2};proto.proto.mdds.v1.Tick.prototype.getMarketid=function(){return S.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Tick.prototype.setMarketid=function(t){return S.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Tick.prototype.getBoardid=function(){return S.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Tick.prototype.setBoardid=function(t){return S.Message.setProto3IntField(this,2,t)};proto.proto.mdds.v1.Tick.prototype.getIsin=function(){return S.Message.getFieldWithDefault(this,3,"")};proto.proto.mdds.v1.Tick.prototype.setIsin=function(t){return S.Message.setProto3StringField(this,3,t)};proto.proto.mdds.v1.Tick.prototype.getSymbol=function(){return S.Message.getFieldWithDefault(this,4,"")};proto.proto.mdds.v1.Tick.prototype.setSymbol=function(t){return S.Message.setProto3StringField(this,4,t)};proto.proto.mdds.v1.Tick.prototype.getMatchprice=function(){return S.Message.getFloatingPointFieldWithDefault(this,5,0)};proto.proto.mdds.v1.Tick.prototype.setMatchprice=function(t){return S.Message.setProto3FloatField(this,5,t)};proto.proto.mdds.v1.Tick.prototype.getMatchqtty=function(){return S.Message.getFloatingPointFieldWithDefault(this,6,0)};proto.proto.mdds.v1.Tick.prototype.setMatchqtty=function(t){return S.Message.setProto3FloatField(this,6,t)};proto.proto.mdds.v1.Tick.prototype.getSendingtime=function(){return S.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,7)};proto.proto.mdds.v1.Tick.prototype.setSendingtime=function(t){return S.Message.setWrapperField(this,7,t)};proto.proto.mdds.v1.Tick.prototype.clearSendingtime=function(){return this.setSendingtime(void 0)};proto.proto.mdds.v1.Tick.prototype.hasSendingtime=function(){return S.Message.getField(this,7)!=null};proto.proto.mdds.v1.Tick.prototype.getBoardidoriginal=function(){return S.Message.getFieldWithDefault(this,8,0)};proto.proto.mdds.v1.Tick.prototype.setBoardidoriginal=function(t){return S.Message.setProto3IntField(this,8,t)};proto.proto.mdds.v1.Tick.prototype.getTradingsessionid=function(){return S.Message.getFieldWithDefault(this,9,0)};proto.proto.mdds.v1.Tick.prototype.setTradingsessionid=function(t){return S.Message.setProto3IntField(this,9,t)};proto.proto.mdds.v1.Tick.prototype.getTotalvolumetraded=function(){return S.Message.getFieldWithDefault(this,10,0)};proto.proto.mdds.v1.Tick.prototype.setTotalvolumetraded=function(t){return S.Message.setProto3IntField(this,10,t)};proto.proto.mdds.v1.Tick.prototype.getGrosstradeamount=function(){return S.Message.getFloatingPointFieldWithDefault(this,11,0)};proto.proto.mdds.v1.Tick.prototype.setGrosstradeamount=function(t){return S.Message.setProto3FloatField(this,11,t)};proto.proto.mdds.v1.Tick.prototype.getSide=function(){return S.Message.getFieldWithDefault(this,12,0)};proto.proto.mdds.v1.Tick.prototype.setSide=function(t){return S.Message.setProto3EnumField(this,12,t)};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopPrice.toObject(t,this)},proto.proto.mdds.v1.TopPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopPrice.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.TopPrice;return proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopPrice.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter=function(t,o){};S.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Timestamp.prototype.toObject=function(t){return proto.proto.mdds.v1.Timestamp.toObject(t,this)},proto.proto.mdds.v1.Timestamp.toObject=function(t,o){var e={seconds:S.Message.getFieldWithDefault(o,1,0),nanos:S.Message.getFieldWithDefault(o,2,0)};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Timestamp.deserializeBinary=function(t){var o=new S.BinaryReader(t),e=new proto.proto.mdds.v1.Timestamp;return proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt64();t.setSeconds(p);break;case 2:var p=o.readInt32();t.setNanos(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Timestamp.prototype.serializeBinary=function(){var t=new S.BinaryWriter;return proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSeconds(),e!==0&&o.writeInt64(1,e),e=t.getNanos(),e!==0&&o.writeInt32(2,e)};proto.proto.mdds.v1.Timestamp.prototype.getSeconds=function(){return S.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Timestamp.prototype.setSeconds=function(t){return S.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Timestamp.prototype.getNanos=function(){return S.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Timestamp.prototype.setNanos=function(t){return S.Message.setProto3IntField(this,2,t)};const ci=proto.proto.mdds.v1,bc=["title"],wc=["title"],Ec=["title"],_c=["title"],Sc=pe("i",{class:"far fa-angle-double-right"},null,-1),Tc=[Sc],Mc={__name:"Chart",emits:["showPendingOrders","showMatchedOrders","showVpsOtpPopup"],setup(t,{expose:o,emit:e}){const p=zr(),d=Jl(),{t:s}=jn(),n=jr("mf"),u=jr("devices"),l=jr("filters"),c=e,f=fe(null),v=fe(null),b=fe(null),w=fe(null),E=fe(null),k=fe(null),N=fe(null),z=fe(null),A=fe(null),R=fe(null),V=fe(null),X=fe(null),j=fe(null),T=fo(new Date,"yyyy-MM-dd"),H={START:_e(new Date(`${T}T08:45:00Z`)),ATO:_e(new Date(`${T}T09:00:00Z`)),ATC:_e(new Date(`${T}T14:30:00Z`)),END:_e(new Date(`${T}T14:45:00Z`))},rt={FIREANT:"wss://tradestation.fireant.vn/quote-lite?access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxODg5NjIyNTMwLCJuYmYiOjE1ODk2MjI1MzAsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsiYWNhZGVteS1yZWFkIiwiYWNhZGVteS13cml0ZSIsImFjY291bnRzLXJlYWQiLCJhY2NvdW50cy13cml0ZSIsImJsb2ctcmVhZCIsImNvbXBhbmllcy1yZWFkIiwiZmluYW5jZS1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImludmVzdG9wZWRpYS1yZWFkIiwib3JkZXJzLXJlYWQiLCJvcmRlcnMtd3JpdGUiLCJwb3N0cy1yZWFkIiwicG9zdHMtd3JpdGUiLCJzZWFyY2giLCJzeW1ib2xzLXJlYWQiLCJ1c2VyLWRhdGEtcmVhZCIsInVzZXItZGF0YS13cml0ZSIsInVzZXJzLXJlYWQiXSwianRpIjoiMjYxYTZhYWQ2MTQ5Njk1ZmJiYzcwODM5MjM0Njc1NWQifQ.dA5-HVzWv-BRfEiAd24uNBiBxASO-PAyWeWESovZm_hj4aXMAZA1-bWNZeXt88dqogo18AwpDQ-h6gefLPdZSFrG5umC1dVWaeYvUnGm62g4XS29fj6p01dhKNNqrsu5KrhnhdnKYVv9VdmbmqDfWR8wDgglk5cJFqalzq6dJWJInFQEPmUs9BW_Zs8tQDn-i5r4tYq2U8vCdqptXoM7YgPllXaPVDeccC9QNu2Xlp9WUvoROzoQXg25lFub1IYkTrM66gJ6t9fJRZToewCt495WNEOQFa_rwLCZ1QwzvL0iYkONHS_jZ0BOhBCdW9dWSawD6iF1SIQaFROvMDH1rg",VPS:"wss://datafeed.vps.com.vn/socket.io/?EIO=3&transport=websocket",DNSE:"wss://datafeed-krx.dnse.com.vn/wss"};let D={ohlcMap:new Map,chart:{},series:{},whitespaces:[],crosshair:{},interval:null,refreshAt:yo(new Date,11),statusAt:yo(new Date,21),websocket:null,socketStop:!1,socketUpdatedAt:yo(new Date,61),hasProgress:!1};const ct=Kl({prices:[],chartDate:d.query.date??T,clock:fo(new Date,"HH:mm:ss"),chartHeightEnough:!1,isSocketWarning:!1,TIME:H}),x=Ue(()=>p.state.tradingDerivative.status),q=Ue(()=>p.state.tradingDerivative.config),Tt=Ue(()=>p.state.tradingDerivative.isLoading);D.interval=setInterval(()=>{ct.clock=fo(new Date,"HH:mm:ss"),m()&&(j.value&&j.value.cancelWithoutClose(),mo(new Date,new Date(D.refreshAt))>10&&(q.value.autoRefresh&&z.value.refresh(),D.refreshAt=new Date),mo(new Date,new Date(D.statusAt))>20&&(Gt(),D.statusAt=new Date))},1e3),M(),jo(()=>{_(),lt(),z.value.createSeries(D.chart),V.value.createSeries(D.chart),A.value.createSeries(D.chart),new ResizeObserver(et).observe(f.value),document.addEventListener("keydown",yt)}),Dn(()=>{Ot(),document.removeEventListener("keydown",yt),clearInterval(D.interval),gt(),D.socketStop=!0}),uo(()=>p.state.tradingDerivative.chartData,it),o({connectSocket:ut,closeAllOrders:zt});function lt(){const Et={localization:{dateFormat:"dd/MM/yyyy",locale:"vi-VN"},rightPriceScale:{visible:!0,scaleMargins:{top:.25,bottom:.25}},leftPriceScale:{visible:!1},layout:{backgroundColor:"#000000",textColor:"#CCCCCC"},grid:{vertLines:{color:"#1B1E27",style:2},horzLines:{color:"#1B1E27",style:2}},crosshair:{mode:0},timeScale:{timeVisible:!0,rightOffset:1e3,minBarSpacing:.01,barSpacing:.05}};D.chart=Zl(v.value,Et),D.chart.subscribeCrosshairMove(Q),D.chart.subscribeCustomPriceLineDragged(nt),D.series.whitespace=D.chart.addHistogramSeries({priceScaleId:"whitespace",scaleMargins:{top:0,bottom:0},color:"#808080",lastValueVisible:!1,priceLineVisible:!1}),D.series.price=D.chart.addCandlestickSeries({upColor:"#F5F5F5",downColor:"#F5F5F5",borderVisible:!1,wickUpColor:"#F5F5F5",wickDownColor:"#F5F5F5",priceFormat:{minMove:.1}})}function Ot(){D.chart&&(D.chart.remove(),D.chart=null)}function kt(Et){L(D.hasProgress),z.value.isSelected()?z.value.draw(D.crosshair):A.value.isSelected()?A.value.draw(D.crosshair):R.value.isSelected()?R.value.draw(D.crosshair):V.value.isSelected()?V.value.draw(D.crosshair):X.value.isSelected()&&X.value.draw(D.crosshair)}function Y(Et){Et.preventDefault()}function pt(Et){Et.stopPropagation()}function ft(Et){Et.preventDefault(),Et.stopPropagation()}function et(){f.value&&(_(),D.chart.resize(f.value.offsetWidth,f.value.offsetHeight),E.value.checkFullscreen())}function _(){ct.chartHeightEnough=f.value.offsetHeight>700}function Q(Et){if(Et.time){let Wt=te(Et.point.y);D.crosshair.time=Et.time,D.crosshair.price=Wt}else u.phone||(D.crosshair.time=null,D.crosshair.price=null);Et.point!==void 0&&(D.crosshair.x=Et.point.x,D.crosshair.y=Et.point.y)}function nt(Et){let Wt=Et.customPriceLine,Ft=Wt.options();Ft.price=n.fmtNum(Ft.price);const Dt=+Et.fromPriceString,qt=Ft.price;switch(Ft.lineType){case"order":j.value.drag({line:Wt,lineOptions:Ft,oldPrice:Dt,newPrice:qt});break;case"line":R.value.drag({lineOptions:Ft,oldPrice:Dt,newPrice:qt});break;case"target":X.value.drag({lineOptions:Ft,newPrice:qt});break;case"pattern":z.value.drag({lineOptions:Ft});break}}function yt(Et){const Wt=D.chart.timeScale(),Ft=D.chart.options().timeScale.barSpacing;switch(Et.key){case"[":Et.ctrlKey?Wt.applyOptions({barSpacing:Ft-.01}):Et.altKey&&Wt.scrollToPosition(Wt.scrollPosition()-50);break;case"]":Et.ctrlKey?Wt.applyOptions({barSpacing:Ft+.01}):Et.altKey&&Wt.scrollToPosition(Wt.scrollPosition()+50);break}}function it(Et){ct.chartDate===T&&m()||(Et.ticks.length>0&&(D.whitespaces=ht(D.whitespaces,mt(ct.chartDate))),D.series.whitespace.setData(D.whitespaces),O(Et.ticks,"FIREANT"),Lt())}function C(Et,Wt){Wt?(D.whitespaces=ht(D.whitespaces,mt(T)),D.series.whitespace.setData(D.whitespaces),O(Et),Lt()):st(Et)}function O(Et,Wt=null){Wt||(Wt=q.value.source),Et.forEach(Dt=>{let qt,Zt,Qt;switch(Wt){case"FIREANT":qt=Fr(new Date(Dt.date),7),Qt=Dt.price;break;case"VPS":qt=new Date(`${T}T${Dt.time}Z`),Qt=Dt.lastPrice;break;case"DNSE":qt=Fr(new Date(Dt.sendingTime),7),Qt=Dt.matchPrice;break}if(Zt=_e(qt),qt=fi(qt),D.ohlcMap.has(Zt)){const me=D.ohlcMap.get(Zt);me.high=Math.max(me.high,Qt),me.low=Math.min(me.low,Qt),me.open=Qt,me.close=Qt}else{const me={date:qt,time:Zt,open:Qt,high:Qt,low:Qt,close:Qt};D.ohlcMap.set(Zt,me)}});const Ft=Array.from(D.ohlcMap.values()).sort((Dt,qt)=>new Date(Dt.time)-new Date(qt.time));D.series.price.setData(Ft),ct.bars=Ft}function st(Et){if(D.ohlcMap.size===0)return!1;q.value.source==="FIREANT"&&Et.sort((Ft,Dt)=>Ft.date===Dt.date?Ft.id-Dt.id:new Date(Ft.date)-new Date(Dt.date)),Et.forEach(Ft=>{let Dt,qt,Zt;switch(q.value.source){case"FIREANT":Dt=Fr(new Date(Ft.date),7),Zt=Ft.price;break;case"VPS":Dt=new Date(`${T}T${Ft.time}Z`),Zt=Ft.lastPrice;break;case"DNSE":Dt=Fr(new Date(Ft.sendingtime),7),Zt=Ft.matchprice;break}if(qt=_e(Dt),Dt=fi(Dt),D.ohlcMap.has(qt))try{const Qt=D.ohlcMap.get(qt);Qt.high=Math.max(Qt.high,Zt),Qt.low=Math.min(Qt.low,Zt),Qt.open=Zt,Qt.close=Zt,D.series.price.update(Qt)}catch{return}else{const Qt={date:Dt,time:qt,open:Zt,high:Zt,low:Zt,close:Zt};D.series.price.update(Qt),D.ohlcMap.set(qt,Qt)}});const Wt=Array.from(D.ohlcMap.values());ct.bars=Wt}function mt(Et){const Wt=_e(new Date(`${Et}T09:00:00Z`)),Ft=_e(new Date(`${Et}T11:30:00Z`)),Dt=_e(new Date(`${Et}T13:00:00Z`)),qt=_e(new Date(`${Et}T14:30:00Z`)),Zt=_e(new Date(`${Et}T13:00:00Z`)),Qt=_e(new Date(`${Et}T14:00:00Z`));let me=[];for(let Ee=Wt;Ee<=qt;Ee++){if(Ee>Ft&&Ee<Dt)continue;let ce={time:Ee};(Ee===Zt||Ee===Qt||Ee===qt)&&(ce.value=1),me.push(ce)}if(ct.chartDate===T){const Ee=_e(new Date(`${Et}T17:00:00Z`));for(let ce=qt+1;ce<=Ee;ce++){let Re={time:ce};me.push(Re)}}return me}function ht(Et,Wt){return Array.from(new Map([...Et,...Wt].sort((Ft,Dt)=>Ft.time-Dt.time).map(Ft=>[Ft.time,Ft])).values())}async function ut(){if(m()){await gt();const Et=q.value.source,Wt=rt[Et],Ft=()=>{D.socketStop||(ct.isSocketWarning=!0,ut())};Et==="DNSE"?(D.websocket=mc.connect(Wt,{username:"entrade",password:"entrade"}),D.websocket.on("close",Ft),bt(),J()):(D.websocket=new WebSocket(Wt),D.websocket.onclose=Ft,Et==="FIREANT"?_t():(K(),Z()))}}async function gt(){const Et=q.value.source;D.websocket&&(Et==="DNSE"?D.websocket.connected:D.websocket.readyState===WebSocket.OPEN)?(Et==="DNSE"?D.websocket.end():D.websocket.close(),await new Promise(Ft=>{const Dt=setInterval(()=>{(!D.websocket||(Et==="DNSE"?D.websocket.disconnected:D.websocket.readyState===WebSocket.CLOSED))&&(D.websocket=null,clearInterval(Dt),Ft())},100)})):D.websocket=null}function _t(){p.dispatch("tradingDerivative/setLoading",!0),D.websocket.onopen=Et=>{if(D.websocket.readyState===WebSocket.OPEN){let Wt='{"protocol":"json","version":1}';D.websocket.send(Wt),Wt='{"arguments":["VN30F1M"],"invocationId":"0","target":"SubscribeTrades","type":1}',D.websocket.send(Wt)}},D.websocket.onmessage=Et=>{ct.isSocketWarning=!1,F(Et.data).forEach(Ft=>{if(!Ft)return!1;if(Ft.type===3)Ft.result[0].date.slice(0,10)===T&&(console.log("FIREANT-first",Ft.result),C(Ft.result,!0)),p.dispatch("tradingDerivative/setLoading",!1);else if(Ft.type===1&&Ft.target==="UpdateTrades"&&Ft.arguments[0]==="VN30F1M"){console.log("FIREANT",Ft.arguments[1]),j.value.scan(Ft.arguments[1].at(-1).price);let Dt=Ft.arguments[1];Dt.sort((qt,Zt)=>qt.date===Zt.date?qt.id-Zt.id:new Date(qt.date)-new Date(Zt.date)),C(Dt)}})}}function F(Et){let Wt=[];return Et.split("").forEach(Ft=>{const Dt=Ft.indexOf("{"),qt=Ft.lastIndexOf("}");let Zt=null;if(Dt!==-1&&qt!==-1&&qt>Dt){const Qt=Ft.substring(Dt,qt+1);Qt!=="{}"&&(Zt=JSON.parse(Qt))}Wt.push(Zt)}),Wt}function K(){D.websocket.onopen=Et=>{if(D.websocket.readyState===WebSocket.OPEN){const Wt={action:"join",list:q.value.vn30f1m},Ft=`42${JSON.stringify(["regs",JSON.stringify(Wt)])}`;D.websocket.send(Ft)}},D.websocket.onmessage=Et=>{if(ct.isSocketWarning=!1,Et.data.substr(0,1)==="4"&&Et.data.substr(1,1)==="2"){const Wt=JSON.parse(Et.data.substr(2));if(Wt[0]==="stockps"){const Ft=Wt[1].data;Ft.id===3220&&(console.log("VPS",Ft),j.value.scan(Ft.lastPrice),C([Ft]))}}}}function Z(){mo(new Date,new Date(D.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getVpsData").then(Et=>{C(Et,!0),console.log("VPS-first: ",Et)}),D.socketUpdatedAt=new Date)}function bt(){D.websocket.on("connect",()=>{if(D.websocket.connected){const Et=[`quotes/krx/mdds/tick/v1/roundlot/symbol/${q.value.vn30f1m}`];D.websocket.subscribe(Et),console.log("DNSE connected")}}),D.websocket.on("message",(Et,Wt)=>{ct.isSocketWarning=!1;const Ft=wt(Wt);if(Ft.type===ci.Wrapper.KindCase.TICK){let Dt=Ft.payload;j.value.scan(Dt.matchprice);const qt=new Date(Dt.sendingtime.seconds*1e3);Dt.sendingtime=qt.toISOString(),console.log("DNSE: ",Dt),C([Dt])}})}function wt(Et){var Wt;try{const Ft=new Uint8Array(Et),Dt=ci.Wrapper.deserializeBinary(Ft);if(!Dt)return;const qt=Dt.getKindCase(),Zt={[ci.Wrapper.KindCase.TICK]:(Wt=Dt.getTick())==null?void 0:Wt.toObject()};return qt in Zt?{type:qt,payload:Zt[qt]}:void 0}catch(Ft){console.error("An error occurred while parsing the message:",r,Ft);return}}function J(){mo(new Date,new Date(D.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getDnseData").then(Et=>{C(Et,!0),console.log("DNSE-first: ",Et)}),D.socketUpdatedAt=new Date)}function at(Et=!1){z.value.refresh(Et)}function L(Et=!1){Et||N.value.hide(),R.value.hide(),j.value.hide()}function tt(Et){u.phone||N.value.hide(n.isSet(Et)),N.value.set(Et),D.hasProgress=!!Et.step}function ot(Et){j.value.setPatternOrder(Et)}function It(){D.chart.timeScale().scrollToRealTime()}function m(){const Et=_e(Fr(new Date,7));return q.value.openingMarket&&Et>=H.START&&Et<=H.END}function h(){if(!ct.chartDate)return!1;St()}function g(){D.whitespaces=[],ct.bars=[],D.socketUpdatedAt=yo(new Date,61),ut(),St()}function B(){c("showPendingOrders")}function U(){c("showMatchedOrders")}function M(){p.dispatch("tradingDerivative/initChart").then(()=>{ut(),!d.query.date&&q.value.lastOpeningDate&&(ct.chartDate=q.value.lastOpeningDate),St()})}function St(){p.dispatch("tradingDerivative/getChartData",ct.chartDate)}function Ut(){x.value.connection?Gt():W()}function W(){c("showVpsOtpPopup")}function Gt(){p.dispatch("tradingDerivative/getStatus")}function Lt(){p.dispatch("tradingDerivative/getTools")}function jt(){p.dispatch("tradingDerivative/getAccountInfo").then(Et=>{let Wt="";Wt+='<div style="width: 200px;">',Wt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.nav")}</div><div>: ${l.currency(Et.nav)}</div></div>`,Wt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.maxVol")}</div><div>: ${l.numberVnFormat(Et.maxVol)}</div></div>`,Wt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.vm")}</div><div>: ${l.currency(Et.vm)}</div></div>`,Wt+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.fee")}</div><div>: ${l.currency(Et.fee)}</div></div>`,Wt+="</div>",Ql(Wt,s("trading.derivative.accountInfoPopup.title"))})}function zt(){j.value.closeAllOrders()}function te(Et){return n.fmtNum(D.series.price.coordinateToPrice(Et))}function Ct(Et){let Wt=D.whitespaces.findIndex(Ft=>Ft.time===Et);if(Wt===-1)try{const Ft=fo(new Date(Et*1e3),"yyyy-MM-dd"),Dt=_e(new Date(`${Ft}T11:30:00Z`)),qt=_e(new Date(`${Ft}T13:00:00Z`)),Zt=_e(new Date(`${Ft}T14:30:00Z`));Et>Dt&&Et<qt?Et=Dt:Et>Zt&&(Et=Zt),Wt=D.whitespaces.findIndex(Qt=>Qt.time===Et)}catch(Ft){console.log("error",Ft)}return Wt}function Xt(Et){return Et<D.whitespaces.length?D.whitespaces[Et].time:D.whitespaces.at(-1).time}function ee(Et,Wt=!1){if(Wt)D.series.price.removePriceLine(Et);else return D.series.price.createPriceLine(Et)}return(Et,Wt)=>(Ne(),Ke("div",{ref_key:"chartContainerRef",ref:f,class:"derivative-chart",onClick:kt,onContextmenu:Y},[pe("div",{ref_key:"chartRef",ref:v},null,512),pe("div",{class:"area data-area",onClick:pt,onContextmenu:ft},[pe("div",{ref_key:"connectionRef",ref:b,class:je(["command",{yellow:x.value.pendingOrders.length>0,red:q.value.volInvalid}]),title:Et.$t("trading.derivative.connection"),onClick:Ut,onContextmenu:B},[pe("i",{class:je(["far",{"fa-link-simple":x.value.connection,"fa-link-simple-slash":!x.value.connection,blink:ct.isSocketWarning}])},null,2)],42,bc),pe("div",{class:je(["command status",{green:x.value.position>0,red:x.value.position<0}]),title:Et.$t("trading.derivative.position"),onClick:jt,onContextmenu:U},Jr(x.value.position),43,wc),pe("div",{class:"command clock",onClick:ut},Jr(ct.clock),1),Ln(pe("input",{type:"date",class:"chart-date command",title:Et.$t("trading.derivative.date"),"onUpdate:modelValue":Wt[0]||(Wt[0]=Ft=>ct.chartDate=Ft),onChange:h},null,40,Ec),[[Yl,ct.chartDate]]),pe("div",{ref_key:"reloadToolRef",ref:w,class:"command",title:Et.$t("trading.derivative.reload"),onClick:g,onContextmenu:Lt},[pe("i",{class:je(["far fa-sync-alt",{"fa-spin":Tt.value}])},null,2)],40,_c)],32),pe("div",{class:"area tool-area",onClick:pt,onContextmenu:ft},[Ie(Xl,{ref_key:"fullscreenToolRef",ref:E,chartContainerRef:f.value},null,8,["chartContainerRef"]),Ie(tp,{ref_key:"tradingviewToolRef",ref:k,vpsUser:q.value.vpsUser,vpsSession:q.value.vpsSession,chartContainerRef:f.value,symbol:"VN30F1M",timeframe:"15"},null,8,["vpsUser","vpsSession","chartContainerRef"]),Ie(ap,{ref_key:"progressToolRef",ref:N,chartHeightEnough:ct.chartHeightEnough,onRefreshPattern:Wt[1]||(Wt[1]=()=>at(!0)),onHideContext:L},null,8,["chartHeightEnough"]),Ie(mp,{ref_key:"patternToolRef",ref:z,bars:ct.bars,pickTimeToolRef:A.value,timeToIndex:Ct,indexToTime:Xt,onSetProgress:tt,onSetPatternOrder:ot,onHideContext:L},null,8,["bars","pickTimeToolRef"]),Ie(bp,{ref_key:"pickTimeToolRef",ref:A,onRefreshPattern:Wt[2]||(Wt[2]=()=>at()),onHideContext:L},null,512),Ie(Sp,{ref_key:"timeRangeToolRef",ref:V,timeToIndex:Ct,indexToTime:Xt,onHideContext:L},null,512),Ie(ep,{ref_key:"lineToolRef",ref:R,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:ee,onHideContext:L},null,512),Ie(rp,{ref_key:"targetToolRef",ref:X,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:ee,levels:[.5,1,2,4],isPercent:!1,showPercent:!0,onHideContext:L},null,512),Ie(kp,{ref_key:"orderToolRef",ref:j,position:x.value.position,drawPriceLine:ee,inSession:m,TIME:ct.TIME,onHideContext:L},null,8,["position","TIME"])],32),pe("div",null,[pe("div",{class:"chart-top",onClick:It},Tc)])],544))}};export{Mc as default};
