import{bU as Ba,bV as Da,bA as di,aF as Jr,ap as be,V as uo,M as ce,bw as An,a1 as sn,$ as Wt,aO as Lr,T as Mr,bC as Di,bW as Mn,bX as fn,bY as vn,bs as Er,ag as dn,W as Qt,O as he,aX as ei,bZ as ri,U as hi,a8 as Pe,a2 as Fn,b_ as ja,aU as ka,N as jn,b2 as Ha,a0 as pi,b$ as kn,c0 as co,c1 as Fa,aQ as tn,b5 as Ua,bv as _e,aY as Bn,S as Re,c2 as Wa,aG as vi,c3 as Dn,c4 as $a,c5 as Ka,c6 as fo,bD as ni,c7 as mn,by as Za,c8 as za,bg as ji,aN as ho,c9 as Va,bq as ii,ca as ki,cb as Ga,bn as qa,aH as po,X as Xa,cc as Hi,cd as Qa,bp as Ya,Q as Ja,ce as tl,cf as el,cg as rl,ak as nl,aW as il,ch as Rn,aa as ol,ab as Ge,u as al,c as ll,i as zn,r as Fi,d as sl,w as ul,y as cl,f as fl,o as dl,g as hl,h as pl,j as Yr,k as Ui,l as hn,D as xn,m as vl}from"./app-yhzx4Rdz.js";import{C as nr}from"./color-O4QqY7rP.js";import{F as vo}from"./FileManager-GKbnT0CB.js";import{_ as ml}from"./PickImagePopup-hz3Wisy0.js";import"./file_saver-UqqVy57Q.js";var mo={exports:{}};/*!
 * DevExtreme-Quill Editor v.1.6.4
 * https://js.devexpress.com/
 * Copyright (c) 2020, Developer Express Inc.
 * Copyright (c) 2017, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,r){(function(x,X){e.exports=X()})(Ba,()=>(()=>{var n={1674:(p,C,t)=>{t.d(C,{Z:()=>E});var y=t(1233),h=t(3866),v=t(3398);function _(a){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_(a)}function B(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function M(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,P(O.key),O)}}function N(a,s,c){return s&&M(a.prototype,s),c&&M(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function P(a){var s=S(a,"string");return _(s)==="symbol"?s:String(s)}function S(a,s){if(_(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(_(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get.bind():I=function(s,c,O){var L=R(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},I.apply(this,arguments)}function R(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=m(a),a!==null););return a}function D(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&W(a,s)}function W(a,s){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},W(a,s)}function A(a){var s=k();return function(){var O=m(a),L;if(s){var j=m(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return U(this,L)}}function U(a,s){if(s&&(_(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(a)}function $(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(a){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},m(a)}var E=function(a){D(c,a);var s=A(c);function c(O,L){var j,Z,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return B(this,c),Z=s.call(this,O,L,et),Z.allowedTags=(j=et.allowedTags)!==null&&j!==void 0?j:[],Z}return N(c,[{key:"add",value:function(L,j){return h.Mx.call(this,I(m(c.prototype),"add",this),L,j)}},{key:"remove",value:function(L){return h.Mx.call(this,I(m(c.prototype),"remove",this),L)}},{key:"value",value:function(L){return h.Mx.call(this,I(m(c.prototype),"value",this),L)}},{key:"canAdd",value:function(L,j){return h.ud.call(this,I(m(c.prototype),"canAdd",this),L,j)}}],[{key:"keys",value:function(L){return(0,h.dj)(I(m(c),"keys",this),L,v.WT.attribute)}}]),c}(y.Attributor)},3866:(p,C,t)=>{t.d(C,{Mx:()=>h,dj:()=>_,ud:()=>v});var y=t(3398);function h(B){var M=this.keyName;this.keyName=(0,y.mQ)(this.keyName);for(var N=arguments.length,P=new Array(N>1?N-1:0),S=1;S<N;S++)P[S-1]=arguments[S];var I=B.call.apply(B,[this].concat(P));return this.keyName=M,I}function v(B,M,N){var P=this.allowedTags.indexOf(M.tagName)>-1;return P&&B.call(this,M,N)}function _(B,M,N){return B(M).map(function(P){return(0,y.jf)(M.tagName,P,N)})}},4569:(p,C,t)=>{t.d(C,{Z:()=>E});var y=t(1233),h=t(3866),v=t(3398);function _(a){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_(a)}function B(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function M(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,P(O.key),O)}}function N(a,s,c){return s&&M(a.prototype,s),c&&M(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function P(a){var s=S(a,"string");return _(s)==="symbol"?s:String(s)}function S(a,s){if(_(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(_(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get.bind():I=function(s,c,O){var L=R(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},I.apply(this,arguments)}function R(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=m(a),a!==null););return a}function D(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&W(a,s)}function W(a,s){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},W(a,s)}function A(a){var s=k();return function(){var O=m(a),L;if(s){var j=m(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return U(this,L)}}function U(a,s){if(s&&(_(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(a)}function $(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(a){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},m(a)}var E=function(a){D(c,a);var s=A(c);function c(O,L){var j,Z,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return B(this,c),Z=s.call(this,O,L,et),Z.allowedTags=(j=et.allowedTags)!==null&&j!==void 0?j:[],Z}return N(c,[{key:"add",value:function(L,j){return h.Mx.call(this,I(m(c.prototype),"add",this),L,j)}},{key:"remove",value:function(L){return h.Mx.call(this,I(m(c.prototype),"remove",this),L)}},{key:"value",value:function(L){return h.Mx.call(this,I(m(c.prototype),"value",this),L)}},{key:"canAdd",value:function(L,j){return h.ud.call(this,I(m(c.prototype),"canAdd",this),L,j)}}],[{key:"keys",value:function(L){return(0,h.dj)(I(m(c),"keys",this),L,v.WT.style)}}]),c}(y.StyleAttributor)},3398:(p,C,t)=>{t.d(C,{WT:()=>S,jf:()=>R,mQ:()=>D});var y=t(19),h=t(8252);function v(W){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},v(W)}function _(W,A){var U=Object.keys(W);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(W);A&&($=$.filter(function(k){return Object.getOwnPropertyDescriptor(W,k).enumerable})),U.push.apply(U,$)}return U}function B(W){for(var A=1;A<arguments.length;A++){var U=arguments[A]!=null?arguments[A]:{};A%2?_(Object(U),!0).forEach(function($){M(W,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(U)):_(Object(U)).forEach(function($){Object.defineProperty(W,$,Object.getOwnPropertyDescriptor(U,$))})}return W}function M(W,A,U){return A=N(A),A in W?Object.defineProperty(W,A,{value:U,enumerable:!0,configurable:!0,writable:!0}):W[A]=U,W}function N(W){var A=P(W,"string");return v(A)==="symbol"?A:String(A)}function P(W,A){if(v(W)!=="object"||W===null)return W;var U=W[Symbol.toPrimitive];if(U!==void 0){var $=U.call(W,A||"default");if(v($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(W)}var S={attribute:"attr",style:"style"},I=B(B({},y.Sp.allowedTags.reduce(function(W,A){return W[A]={name:y.Sp.name,keyNamesSet:y.bc},W},{})),h.Pw.allowedTags.reduce(function(W,A){return W[A]={name:h.Pw.name,keyNamesSet:h.fU},W},{}));function R(W,A,U){var $=I[W];return $&&$.keyNamesSet.has(A)?"".concat(U).concat($.name,"_").concat(A):A}function D(W){return W.replace(/([^]*_)/,"")}},6446:(p,C,t)=>{t.d(C,{i2:()=>pt,qz:()=>lt,E2:()=>_t,ZP:()=>dt});var y=t(9098),h=t.n(y),v=t(1233),_=t(4122),B=t(6603),M=t(8222),N=t(3398);function P(G,vt,rt,st){return rt.map(H=>{const w=st?(0,N.jf)(G,H,st):H;return vt.scroll.query(w,v.Scope.ATTRIBUTE)}).filter(H=>H instanceof v.Attributor).reduce((H,w)=>(H[w.attrName]=w,H),{})}function S(){v.AttributorStore.prototype.build=function(){const{tagName:G}=this.domNode,vt=v.Registry.find(this.domNode);if(vt==null)return;const rt=v.Attributor.keys(this.domNode),st=v.ClassAttributor.keys(this.domNode),H=v.StyleAttributor.keys(this.domNode);this.attributes={...P(G,vt,rt,N.WT.attribute),...P(G,vt,st),...P(G,vt,H,N.WT.style)}}}function I(G){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},I(G)}function R(G,vt){var rt=Object.keys(G);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(G);vt&&(st=st.filter(function(H){return Object.getOwnPropertyDescriptor(G,H).enumerable})),rt.push.apply(rt,st)}return rt}function D(G){for(var vt=1;vt<arguments.length;vt++){var rt=arguments[vt]!=null?arguments[vt]:{};vt%2?R(Object(rt),!0).forEach(function(st){W(G,st,rt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(rt)):R(Object(rt)).forEach(function(st){Object.defineProperty(G,st,Object.getOwnPropertyDescriptor(rt,st))})}return G}function W(G,vt,rt){return vt=k(vt),vt in G?Object.defineProperty(G,vt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):G[vt]=rt,G}function A(G,vt){if(!(G instanceof vt))throw new TypeError("Cannot call a class as a function")}function U(G,vt){for(var rt=0;rt<vt.length;rt++){var st=vt[rt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(G,k(st.key),st)}}function $(G,vt,rt){return vt&&U(G.prototype,vt),rt&&U(G,rt),Object.defineProperty(G,"prototype",{writable:!1}),G}function k(G){var vt=m(G,"string");return I(vt)==="symbol"?vt:String(vt)}function m(G,vt){if(I(G)!=="object"||G===null)return G;var rt=G[Symbol.toPrimitive];if(rt!==void 0){var st=rt.call(G,vt||"default");if(I(st)!=="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vt==="string"?String:Number)(G)}function E(){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get.bind():E=function(vt,rt,st){var H=a(vt,rt);if(H){var w=Object.getOwnPropertyDescriptor(H,rt);return w.get?w.get.call(arguments.length<3?vt:st):w.value}},E.apply(this,arguments)}function a(G,vt){for(;!Object.prototype.hasOwnProperty.call(G,vt)&&(G=et(G),G!==null););return G}function s(G,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(vt&&vt.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),vt&&c(G,vt)}function c(G,vt){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(st,H){return st.__proto__=H,st},c(G,vt)}function O(G){var vt=Z();return function(){var st=et(G),H;if(vt){var w=et(this).constructor;H=Reflect.construct(st,arguments,w)}else H=st.apply(this,arguments);return L(this,H)}}function L(G,vt){if(vt&&(I(vt)==="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(G)}function j(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(G){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},et(G)}S();var ut=1,dt=function(G){s(rt,G);var vt=O(rt);function rt(st,H){var w;return A(this,rt),w=vt.call(this,st,H),w.cache={},w}return $(rt,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=lt(this)),this.cache.delta}},{key:"deleteAt",value:function(H,w){E(et(rt.prototype),"deleteAt",this).call(this,H,w),this.cache={}}},{key:"formatAt",value:function(H,w,q,J){w<=0||(this.scroll.query(q,v.Scope.BLOCK)?H+w===this.length()&&this.format(q,J):E(et(rt.prototype),"formatAt",this).call(this,H,Math.min(w,this.length()-H-1),q,J),this.cache={})}},{key:"insertAt",value:function(H,w,q){if(q!=null){E(et(rt.prototype),"insertAt",this).call(this,H,w,q),this.cache={};return}if(w.length!==0){var J=w.split(`
`),Q=J.shift();Q.length>0&&(H<this.length()-1||this.children.tail==null?E(et(rt.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var ct=this;J.reduce(function(mt,wt){return ct=ct.split(mt,!0),ct.insertAt(0,wt),wt.length},H+Q.length)}}},{key:"insertBefore",value:function(H,w){var q=this.children.head;E(et(rt.prototype),"insertBefore",this).call(this,H,w),q instanceof _.Z&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=E(et(rt.prototype),"length",this).call(this)+ut),this.cache.length}},{key:"moveChildren",value:function(H,w){E(et(rt.prototype),"moveChildren",this).call(this,H,w),this.cache={}}},{key:"optimize",value:function(H){E(et(rt.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return E(et(rt.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){E(et(rt.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w&&(H===0||H>=this.length()-ut)){var q=this.clone();return H===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}var J=E(et(rt.prototype),"split",this).call(this,H,w);return this.cache={},J}}]),rt}(v.BlockBlot);dt.blotName="block",dt.tagName="P",dt.defaultChild=_.Z,dt.allowedChildren=[_.Z,B.Z,v.EmbedBlot,M.Z];var pt=function(G){s(rt,G);var vt=O(rt);function rt(){return A(this,rt),vt.apply(this,arguments)}return $(rt,[{key:"attach",value:function(){E(et(rt.prototype),"attach",this).call(this),this.attributes=new v.AttributorStore(this.domNode)}},{key:"delta",value:function(){return new(h())().insert(this.value(),D(D({},this.formats()),this.attributes.values()))}},{key:"format",value:function(H,w){var q=this.scroll.query(H,v.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,w)}},{key:"formatAt",value:function(H,w,q,J){this.format(q,J)}},{key:"insertAt",value:function(H,w,q){if(typeof w=="string"&&w.endsWith(`
`)){var J=this.scroll.create(dt.blotName);this.parent.insertBefore(J,H===0?this:this.next),J.insertAt(0,w.slice(0,-1))}else E(et(rt.prototype),"insertAt",this).call(this,H,w,q)}}]),rt}(v.EmbedBlot);pt.scope=v.Scope.BLOCK_BLOT;function lt(G){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return G.descendants(v.LeafBlot).reduce(function(rt,st){return st.length()===0?rt:rt.insert(st.value(),_t(st,{},vt))},new(h())).insert(`
`,_t(G))}function _t(G){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return G==null||(typeof G.formats=="function"&&(vt=D(D({},vt),G.formats()),rt&&delete vt["code-token"]),G.parent==null||G.parent.statics.blotName==="scroll"||G.parent.statics.scope!==G.statics.scope)?vt:_t(G.parent,vt,rt)}},4122:(p,C,t)=>{t.d(C,{Z:()=>$});var y=t(1233);function h(k){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h(k)}function v(k,m){if(!(k instanceof m))throw new TypeError("Cannot call a class as a function")}function _(k,m){for(var E=0;E<m.length;E++){var a=m[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(k,M(a.key),a)}}function B(k,m,E){return m&&_(k.prototype,m),E&&_(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function M(k){var m=N(k,"string");return h(m)==="symbol"?m:String(m)}function N(k,m){if(h(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var a=E.call(k,m||"default");if(h(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(k)}function P(k,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(m&&m.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),m&&S(k,m)}function S(k,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S(k,m)}function I(k){var m=W();return function(){var a=A(k),s;if(m){var c=A(this).constructor;s=Reflect.construct(a,arguments,c)}else s=a.apply(this,arguments);return R(this,s)}}function R(k,m){if(m&&(h(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},A(k)}var U=function(k){P(E,k);var m=I(E);function E(){return v(this,E),m.apply(this,arguments)}return B(E,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E}(y.EmbedBlot);U.blotName="break",U.tagName="BR";const $=U},3553:(p,C,t)=>{t.d(C,{Z:()=>$});var y=t(1233);function h(k){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h(k)}function v(k,m){for(var E=0;E<m.length;E++){var a=m[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(k,B(a.key),a)}}function _(k,m,E){return m&&v(k.prototype,m),E&&v(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function B(k){var m=M(k,"string");return h(m)==="symbol"?m:String(m)}function M(k,m){if(h(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var a=E.call(k,m||"default");if(h(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(k)}function N(k,m){if(!(k instanceof m))throw new TypeError("Cannot call a class as a function")}function P(k,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(m&&m.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),m&&S(k,m)}function S(k,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S(k,m)}function I(k){var m=W();return function(){var a=A(k),s;if(m){var c=A(this).constructor;s=Reflect.construct(a,arguments,c)}else s=a.apply(this,arguments);return R(this,s)}}function R(k,m){if(m&&(h(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},A(k)}var U=function(k){P(E,k);var m=I(E);function E(){return N(this,E),m.apply(this,arguments)}return _(E)}(y.ContainerBlot);const $=U},3657:(p,C,t)=>{t.d(C,{Z:()=>E});var y=t(1233),h=t(8222);function v(a){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},v(a)}function _(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function B(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,N(O.key),O)}}function M(a,s,c){return s&&B(a.prototype,s),c&&B(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function N(a){var s=P(a,"string");return v(s)==="symbol"?s:String(s)}function P(a,s){if(v(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(v(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function S(){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get.bind():S=function(s,c,O){var L=I(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},S.apply(this,arguments)}function I(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=k(a),a!==null););return a}function R(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&D(a,s)}function D(a,s){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},D(a,s)}function W(a){var s=$();return function(){var O=k(a),L;if(s){var j=k(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return A(this,L)}}function A(a,s){if(s&&(v(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(a)}function U(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(a){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},k(a)}var m=function(a){R(c,a);var s=W(c);function c(O,L,j){var Z;return _(this,c),Z=s.call(this,O,L),Z.selection=j,Z.textNode=document.createTextNode(c.CONTENTS),Z.domNode.appendChild(Z.textNode),Z.savedLength=0,Z}return M(c,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(L,j){if(this.savedLength!==0){S(k(c.prototype),"format",this).call(this,L,j);return}for(var Z=this,et=0;Z!=null&&Z.statics.scope!==y.Scope.BLOCK_BLOT;)et+=Z.offset(Z.parent),Z=Z.parent;Z!=null&&(this.savedLength=c.CONTENTS.length,Z.optimize(),Z.formatAt(et,c.CONTENTS.length,L,j),this.savedLength=0)}},{key:"index",value:function(L,j){return L===this.textNode?0:S(k(c.prototype),"index",this).call(this,L,j)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){S(k(c.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||this.parent==null)return null;for(var L=this.selection.getNativeRange();this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var j=this.prev instanceof h.Z?this.prev:null,Z=j?j.length():0,et=this.next instanceof h.Z?this.next:null,ut=et?et.text:"",dt=this.textNode,pt=dt.data.split(c.CONTENTS).join("");dt.data=c.CONTENTS;var lt;if(j)lt=j,(pt||et)&&(j.insertAt(j.length(),pt+ut),et&&et.remove());else if(et)lt=et,et.insertAt(0,pt);else{var _t=document.createTextNode(pt);lt=this.scroll.create(_t),this.parent.insertBefore(lt,this)}if(this.remove(),L){var G=function(H,w){return j&&H===j.domNode?w:H===dt?Z+w-1:et&&H===et.domNode?Z+pt.length+w:null},vt=G(L.start.node,L.start.offset),rt=G(L.end.node,L.end.offset);if(vt!==null&&rt!==null)return{startNode:lt.domNode,startOffset:vt,endNode:lt.domNode,endOffset:rt}}return null}},{key:"update",value:function(L,j){var Z=this;if(L.some(function(ut){return ut.type==="characterData"&&ut.target===Z.textNode})){var et=this.restore();et&&(j.range=et)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),c}(y.EmbedBlot);m.blotName="cursor",m.className="ql-cursor",m.tagName="span",m.CONTENTS="\uFEFF";const E=m},7452:(p,C,t)=>{t.d(C,{Z:()=>a});var y=t(1233),h=t(8222);function v(s){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},v(s)}function _(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function B(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,N(L.key),L)}}function M(s,c,O){return c&&B(s.prototype,c),O&&B(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function N(s){var c=P(s,"string");return v(c)==="symbol"?c:String(c)}function P(s,c){if(v(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(v(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function S(){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get.bind():S=function(c,O,L){var j=I(c,O);if(j){var Z=Object.getOwnPropertyDescriptor(j,O);return Z.get?Z.get.call(arguments.length<3?c:L):Z.value}},S.apply(this,arguments)}function I(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=k(s),s!==null););return s}function R(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&D(s,c)}function D(s,c){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},D(s,c)}function W(s){var c=$();return function(){var L=k(s),j;if(c){var Z=k(this).constructor;j=Reflect.construct(L,arguments,Z)}else j=L.apply(this,arguments);return A(this,j)}}function A(s,c){if(c&&(v(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(s)}function U(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(s){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},k(s)}var m="\uFEFF",E=function(s){R(O,s);var c=W(O);function O(L,j){var Z;return _(this,O),Z=c.call(this,L,j),Z.contentNode=document.createElement("span"),Z.contentNode.setAttribute("contenteditable",!1),Array.from(Z.domNode.childNodes).forEach(function(et){Z.contentNode.appendChild(et)}),Z.leftGuard=document.createTextNode(m),Z.rightGuard=document.createTextNode(m),Z.domNode.appendChild(Z.leftGuard),Z.domNode.appendChild(Z.contentNode),Z.domNode.appendChild(Z.rightGuard),Z}return M(O,[{key:"index",value:function(j,Z){return j===this.leftGuard?0:j===this.rightGuard?1:S(k(O.prototype),"index",this).call(this,j,Z)}},{key:"restore",value:function(j){var Z,et,ut=j.data.split(m).join("");if(j===this.leftGuard)if(this.prev instanceof h.Z){var dt=this.prev.length();this.prev.insertAt(dt,ut),Z={startNode:this.prev.domNode,startOffset:dt+ut.length}}else et=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(et),this),Z={startNode:et,startOffset:ut.length};else j===this.rightGuard&&(this.next instanceof h.Z?(this.next.insertAt(0,ut),Z={startNode:this.next.domNode,startOffset:ut.length}):(et=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(et),this.next),Z={startNode:et,startOffset:ut.length}));return j.data=m,Z}},{key:"update",value:function(j,Z){var et=this;j.forEach(function(ut){if(ut.type==="characterData"&&(ut.target===et.leftGuard||ut.target===et.rightGuard)){var dt=et.restore(ut.target);dt&&(Z.range=dt)}})}}]),O}(y.EmbedBlot);const a=E},6603:(p,C,t)=>{t.d(C,{Z:()=>a});var y=t(1233),h=t(4122),v=t(8222);function _(s){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_(s)}function B(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function M(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,P(L.key),L)}}function N(s,c,O){return c&&M(s.prototype,c),O&&M(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function P(s){var c=S(s,"string");return _(c)==="symbol"?c:String(c)}function S(s,c){if(_(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(_(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function I(){return typeof Reflect<"u"&&Reflect.get?I=Reflect.get.bind():I=function(c,O,L){var j=R(c,O);if(j){var Z=Object.getOwnPropertyDescriptor(j,O);return Z.get?Z.get.call(arguments.length<3?c:L):Z.value}},I.apply(this,arguments)}function R(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=m(s),s!==null););return s}function D(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&W(s,c)}function W(s,c){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},W(s,c)}function A(s){var c=k();return function(){var L=m(s),j;if(c){var Z=m(this).constructor;j=Reflect.construct(L,arguments,Z)}else j=L.apply(this,arguments);return U(this,j)}}function U(s,c){if(c&&(_(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(s)}function $(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(s){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},m(s)}var E=function(s){D(O,s);var c=A(O);function O(){return B(this,O),c.apply(this,arguments)}return N(O,[{key:"formatAt",value:function(j,Z,et,ut){if(O.compare(this.statics.blotName,et)<0&&this.scroll.query(et,y.Scope.BLOT)){var dt=this.isolate(j,Z);ut&&dt.wrap(et,ut)}else I(m(O.prototype),"formatAt",this).call(this,j,Z,et,ut)}},{key:"optimize",value:function(j){if(I(m(O.prototype),"optimize",this).call(this,j),this.parent instanceof O&&O.compare(this.statics.blotName,this.parent.statics.blotName)>0){var Z=this.parent.isolate(this.offset(),this.length());this.moveChildren(Z),Z.wrap(this)}}}],[{key:"compare",value:function(j,Z){var et=O.order.indexOf(j),ut=O.order.indexOf(Z);return et>=0||ut>=0?et-ut:j===Z?0:j<Z?-1:1}}]),O}(y.InlineBlot);E.allowedChildren=[E,h.Z,y.EmbedBlot,v.Z],E.order=["cursor","inline","link","underline","strike","italic","bold","script","code"];const a=E},3272:(p,C,t)=>{t.d(C,{Z:()=>pt});var y=t(1233),h=t(2069),v=t(6446),_=t(4122),B=t(3553),M=t(1969);function N(lt){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t},N(lt)}function P(lt,_t){return W(lt)||D(lt,_t)||I(lt,_t)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(lt,_t){if(lt){if(typeof lt=="string")return R(lt,_t);var G=Object.prototype.toString.call(lt).slice(8,-1);if(G==="Object"&&lt.constructor&&(G=lt.constructor.name),G==="Map"||G==="Set")return Array.from(lt);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return R(lt,_t)}}function R(lt,_t){(_t==null||_t>lt.length)&&(_t=lt.length);for(var G=0,vt=new Array(_t);G<_t;G++)vt[G]=lt[G];return vt}function D(lt,_t){var G=lt==null?null:typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(G!=null){var vt,rt,st,H,w=[],q=!0,J=!1;try{if(st=(G=G.call(lt)).next,_t===0){if(Object(G)!==G)return;q=!1}else for(;!(q=(vt=st.call(G)).done)&&(w.push(vt.value),w.length!==_t);q=!0);}catch(Q){J=!0,rt=Q}finally{try{if(!q&&G.return!=null&&(H=G.return(),Object(H)!==H))return}finally{if(J)throw rt}}return w}}function W(lt){if(Array.isArray(lt))return lt}function A(lt,_t){if(!(lt instanceof _t))throw new TypeError("Cannot call a class as a function")}function U(lt,_t){for(var G=0;G<_t.length;G++){var vt=_t[G];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(lt,k(vt.key),vt)}}function $(lt,_t,G){return _t&&U(lt.prototype,_t),G&&U(lt,G),Object.defineProperty(lt,"prototype",{writable:!1}),lt}function k(lt){var _t=m(lt,"string");return N(_t)==="symbol"?_t:String(_t)}function m(lt,_t){if(N(lt)!=="object"||lt===null)return lt;var G=lt[Symbol.toPrimitive];if(G!==void 0){var vt=G.call(lt,_t||"default");if(N(vt)!=="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_t==="string"?String:Number)(lt)}function E(){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get.bind():E=function(_t,G,vt){var rt=a(_t,G);if(rt){var st=Object.getOwnPropertyDescriptor(rt,G);return st.get?st.get.call(arguments.length<3?_t:vt):st.value}},E.apply(this,arguments)}function a(lt,_t){for(;!Object.prototype.hasOwnProperty.call(lt,_t)&&(lt=et(lt),lt!==null););return lt}function s(lt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),_t&&c(lt,_t)}function c(lt,_t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,rt){return vt.__proto__=rt,vt},c(lt,_t)}function O(lt){var _t=Z();return function(){var vt=et(lt),rt;if(_t){var st=et(this).constructor;rt=Reflect.construct(vt,arguments,st)}else rt=vt.apply(this,arguments);return L(this,rt)}}function L(lt,_t){if(_t&&(N(_t)==="object"||typeof _t=="function"))return _t;if(_t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(lt)}function j(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(lt){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},et(lt)}function ut(lt){return lt instanceof v.ZP||lt instanceof v.i2}var dt=function(lt){s(G,lt);var _t=O(G);function G(vt,rt,st){var H,w=st.emitter,q=st.toggleBlankClass;return A(this,G),H=_t.call(this,vt,rt),H.emitter=w,H.toggleBlankClass=q,H.batch=!1,H.optimize(),H.enable(),H.domNode.addEventListener("dragstart",function(J){return H.handleDragStart(J)}),H}return $(G,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var rt=this.batch;this.batch=!1,this.update(rt)}},{key:"emitMount",value:function(rt){this.emitter.emit(h.Z.events.SCROLL_BLOT_MOUNT,rt)}},{key:"emitUnmount",value:function(rt){this.emitter.emit(h.Z.events.SCROLL_BLOT_UNMOUNT,rt)}},{key:"deleteAt",value:function(rt,st){var H=this.line(rt),w=P(H,2),q=w[0],J=w[1],Q=this.line(rt+st),ct=P(Q,1),mt=ct[0];if(E(et(G.prototype),"deleteAt",this).call(this,rt,st),mt!=null&&q!==mt&&J>0){var wt=(q instanceof M.zW||mt instanceof M.zW)&&q.parent!==mt.parent,ot=q instanceof v.i2||mt instanceof v.i2;if(!ot&&!wt){var tt=mt.children.head instanceof _.Z?null:mt.children.head;q.moveChildren(mt,tt),q.remove()}}this.optimize()}},{key:"enable",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",rt)}},{key:"formatAt",value:function(rt,st,H,w){E(et(G.prototype),"formatAt",this).call(this,rt,st,H,w),this.optimize()}},{key:"handleDragStart",value:function(rt){rt.preventDefault()}},{key:"insertAt",value:function(rt,st,H){if(rt>=this.length())if(H==null||this.scroll.query(st,y.Scope.BLOCK)==null){var w=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(w),H==null&&st.endsWith(`
`)?w.insertAt(0,st.slice(0,-1),H):w.insertAt(0,st,H)}else{var q=this.scroll.create(st,H);this.appendChild(q)}else E(et(G.prototype),"insertAt",this).call(this,rt,st,H);this.optimize()}},{key:"insertBefore",value:function(rt,st){if(rt.statics.scope===y.Scope.INLINE_BLOT){var H=this.scroll.create(this.statics.defaultChild.blotName);H.appendChild(rt),E(et(G.prototype),"insertBefore",this).call(this,H,st)}else E(et(G.prototype),"insertBefore",this).call(this,rt,st)}},{key:"isEnabled",value:function(){return this.domNode.getAttribute("contenteditable")==="true"}},{key:"leaf",value:function(rt){return this.path(rt).pop()||[null,-1]}},{key:"line",value:function(rt){return rt===this.length()?this.line(rt-1):this.descendant(ut,rt)}},{key:"lines",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function w(q,J,Q){var ct=[],mt=Q;return q.children.forEachAt(J,Q,function(wt,ot,tt){ut(wt)?ct.push(wt):wt instanceof y.ContainerBlot&&(ct=ct.concat(w(wt,ot,mt))),mt-=tt}),ct};return H(this,rt,st)}},{key:"optimize",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(E(et(G.prototype),"optimize",this).call(this,rt,st),rt.length>0&&this.emitter.emit(h.Z.events.SCROLL_OPTIMIZE,rt,st))}},{key:"path",value:function(rt){return E(et(G.prototype),"path",this).call(this,rt).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(rt){var st=this;if(this.batch){Array.isArray(rt)&&(this.batch=this.batch.concat(rt),this.toggleBlankClass());return}var H=h.Z.sources.USER;typeof rt=="string"&&(H=rt),Array.isArray(rt)||(rt=this.observer.takeRecords()),rt=rt.filter(function(w){var q=w.target,J=st.find(q,!0);return J&&J.scroll===st}),rt.length>0&&this.emitter.emit(h.Z.events.SCROLL_BEFORE_UPDATE,H,rt),E(et(G.prototype),"update",this).call(this,rt.concat([])),rt.length>0&&this.emitter.emit(h.Z.events.SCROLL_UPDATE,H,rt)}}]),G}(y.ScrollBlot);dt.blotName="scroll",dt.className="ql-editor",dt.tagName="DIV",dt.defaultChild=v.ZP,dt.allowedChildren=[v.ZP,v.i2,B.Z];const pt=dt},8222:(p,C,t)=>{t.d(C,{Z:()=>U,b:()=>$});var y=t(1233);function h(k){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h(k)}function v(k,m){for(var E=0;E<m.length;E++){var a=m[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(k,B(a.key),a)}}function _(k,m,E){return m&&v(k.prototype,m),E&&v(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function B(k){var m=M(k,"string");return h(m)==="symbol"?m:String(m)}function M(k,m){if(h(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var a=E.call(k,m||"default");if(h(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(k)}function N(k,m){if(!(k instanceof m))throw new TypeError("Cannot call a class as a function")}function P(k,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(m&&m.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),m&&S(k,m)}function S(k,m){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S(k,m)}function I(k){var m=W();return function(){var a=A(k),s;if(m){var c=A(this).constructor;s=Reflect.construct(a,arguments,c)}else s=a.apply(this,arguments);return R(this,s)}}function R(k,m){if(m&&(h(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},A(k)}var U=function(k){P(E,k);var m=I(E);function E(){return N(this,E),m.apply(this,arguments)}return _(E)}(y.TextBlot);function $(k){return k.replace(/[&<>"']/g,function(m){var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return E[m]})}},2432:(p,C,t)=>{t.d(C,{default:()=>A});var y=t(281),h=t(6446),v=t(4122),_=t(3553),B=t(3657),M=t(7452),N=t(6603),P=t(3272),S=t(8222),I=t(5635),R=t(2613),D=t(3071),W=t(3859);y.ZP.register({"blots/block":h.ZP,"blots/block/embed":h.i2,"blots/break":v.Z,"blots/container":_.Z,"blots/cursor":B.Z,"blots/embed":M.Z,"blots/inline":N.Z,"blots/scroll":P.Z,"blots/text":S.Z,"modules/clipboard":I.ZP,"modules/history":R.Z,"modules/keyboard":D.ZP,"modules/uploader":W.Z});const A=y.ZP},2861:(p,C,t)=>{t.d(C,{Z:()=>gt});var y=t(8805),h=t.n(y),v=t(2722),_=t.n(v),B=t(732),M=t.n(B),N=t(9098),P=t.n(N),S=t(1233),I=t(7800),R=t(3657),D=t(6446),W=t(4122),A=t(8222);function U(at,it){at.classList.remove(it),at.classList.length===0&&at.removeAttribute("class")}var $=t(5874);function k(at){return ut(at)||m(at)||j(at)||L()}function m(at){if(typeof Symbol<"u"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function E(at,it){var ft=Object.keys(at);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(at);it&&(Y=Y.filter(function(T){return Object.getOwnPropertyDescriptor(at,T).enumerable})),ft.push.apply(ft,Y)}return ft}function a(at){for(var it=1;it<arguments.length;it++){var ft=arguments[it]!=null?arguments[it]:{};it%2?E(Object(ft),!0).forEach(function(Y){s(at,Y,ft[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(ft)):E(Object(ft)).forEach(function(Y){Object.defineProperty(at,Y,Object.getOwnPropertyDescriptor(ft,Y))})}return at}function s(at,it,ft){return it=_t(it),it in at?Object.defineProperty(at,it,{value:ft,enumerable:!0,configurable:!0,writable:!0}):at[it]=ft,at}function c(at){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},c(at)}function O(at,it){return ut(at)||et(at,it)||j(at,it)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(at,it){if(at){if(typeof at=="string")return Z(at,it);var ft=Object.prototype.toString.call(at).slice(8,-1);if(ft==="Object"&&at.constructor&&(ft=at.constructor.name),ft==="Map"||ft==="Set")return Array.from(at);if(ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ft))return Z(at,it)}}function Z(at,it){(it==null||it>at.length)&&(it=at.length);for(var ft=0,Y=new Array(it);ft<it;ft++)Y[ft]=at[ft];return Y}function et(at,it){var ft=at==null?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(ft!=null){var Y,T,o,i,f=[],g=!0,V=!1;try{if(o=(ft=ft.call(at)).next,it===0){if(Object(ft)!==ft)return;g=!1}else for(;!(g=(Y=o.call(ft)).done)&&(f.push(Y.value),f.length!==it);g=!0);}catch(ht){V=!0,T=ht}finally{try{if(!g&&ft.return!=null&&(i=ft.return(),Object(i)!==i))return}finally{if(V)throw T}}return f}}function ut(at){if(Array.isArray(at))return at}function dt(at,it){if(!(at instanceof it))throw new TypeError("Cannot call a class as a function")}function pt(at,it){for(var ft=0;ft<it.length;ft++){var Y=it[ft];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(at,_t(Y.key),Y)}}function lt(at,it,ft){return it&&pt(at.prototype,it),ft&&pt(at,ft),Object.defineProperty(at,"prototype",{writable:!1}),at}function _t(at){var it=G(at,"string");return c(it)==="symbol"?it:String(it)}function G(at,it){if(c(at)!=="object"||at===null)return at;var ft=at[Symbol.toPrimitive];if(ft!==void 0){var Y=ft.call(at,it||"default");if(c(Y)!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(it==="string"?String:Number)(at)}var vt=/^[ -~]*$/,rt=function(){function at(it){dt(this,at),this.scroll=it,this.delta=this.getDelta(),this.immediateFormats=new Set}return lt(at,[{key:"addImmediateFormat",value:function(ft){this.immediateFormats.add(ft)}},{key:"applyDelta",value:function(ft){var Y=this;this.scroll.update();var T=this.scroll.length();this.scroll.batchStart();var o=ot(ft),i=new(P());return o.reduce(function(f,g){var V=N.Op.length(g),ht=g.attributes||{},At=!1;if(g.insert!=null){if(i.retain(V),typeof g.insert=="string"){var Ht=g.insert;At=!Ht.endsWith(`
`)&&(T<=f||Y.scroll.descendant(D.i2,f)[0]),Y.scroll.insertAt(f,Ht);var Ft=Y.scroll.line(f),Yt=O(Ft,2),qt=Yt[0],Jt=Yt[1],bt=M()({},(0,D.E2)(qt));if(qt instanceof D.ZP){var Pt=qt.descendant(S.LeafBlot,Jt),It=O(Pt,1),Bt=It[0];bt=M()(bt,(0,D.E2)(Bt))}ht=N.AttributeMap.diff(bt,ht)||{}}else if(c(g.insert)==="object"){var Nt=Object.keys(g.insert)[0];if(Nt==null)return f;At=Y.scroll.query(Nt,S.Scope.INLINE)!=null&&(T<=f||Y.scroll.descendant(D.i2,f)[0]),Y.scroll.insertAt(f,Nt,g.insert[Nt])}T+=V}else i.push(g);var $t=Object.keys(ht);Y.immediateFormats.forEach(function(Ut){$t.indexOf(Ut)>-1&&(Y.scroll.formatAt(f,V,Ut,ht[Ut]),delete ht[Ut])}),Object.keys(ht).forEach(function(Ut){Y.scroll.formatAt(f,V,Ut,ht[Ut])});var Dt=At?1:0;return T+=Dt,i.delete(Dt),f+V+Dt},0),i.reduce(function(f,g){return typeof g.delete=="number"?(Y.scroll.deleteAt(f,g.delete),f):f+N.Op.length(g)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}},{key:"deleteText",value:function(ft,Y){return this.scroll.deleteAt(ft,Y),this.update(new(P())().retain(ft).delete(Y))}},{key:"formatLine",value:function(ft,Y){var T=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(function(f){T.scroll.lines(ft,Math.max(Y,1)).forEach(function(g){g.format(f,o[f])})}),this.scroll.optimize();var i=new(P())().retain(ft).retain(Y,h()(o));return this.update(i)}},{key:"formatText",value:function(ft,Y){var T=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach(function(f){T.scroll.formatAt(ft,Y,f,o[f])});var i=new(P())().retain(ft).retain(Y,h()(o));return this.update(i)}},{key:"getContents",value:function(ft,Y){return this.delta.slice(ft,ft+Y)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(ft,Y){return ft.concat(Y.delta())},new(P()))}},{key:"getFormat",value:function(ft){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=[],o=[];Y===0?this.scroll.path(ft).forEach(function(g){var V=O(g,1),ht=V[0];ht instanceof D.ZP?T.push(ht):ht instanceof S.LeafBlot&&o.push(ht)}):(T=this.scroll.lines(ft,Y),o=this.scroll.descendants(S.LeafBlot,ft,Y));var i=[T,o].map(function(g){if(g.length===0)return{};for(var V=(0,D.E2)(g.shift());Object.keys(V).length>0;){var ht=g.shift();if(ht==null)return V;V=Q((0,D.E2)(ht),V)}return V}),f=O(i,2);return T=f[0],o=f[1],a(a({},T),o)}},{key:"getHTML",value:function(ft,Y){var T=this.scroll.line(ft),o=O(T,2),i=o[0],f=o[1];return i.length()>f+Y?H(i,f,Y,!0):H(this.scroll,ft,Y,!0)}},{key:"getText",value:function(ft,Y){return this.getContents(ft,Y).filter(function(T){return typeof T.insert=="string"}).map(function(T){return T.insert}).join("")}},{key:"insertEmbed",value:function(ft,Y,T){return this.scroll.insertAt(ft,Y,T),this.update(new(P())().retain(ft).insert(s({},Y,T)))}},{key:"insertText",value:function(ft,Y){var T=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Y=Y.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(ft,Y),Object.keys(o).forEach(function(i){T.scroll.formatAt(ft,Y.length,i,o[i])}),this.update(new(P())().retain(ft).insert(Y,h()(o)))}},{key:"isBlank",value:function(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.scroll.children.length===0)return!0;if(ft||this.scroll.children.length>1)return!1;var Y=this.scroll.children.head;return Y.statics.blotName!==D.ZP.blotName||Y.children.length>1?!1:Y.children.head instanceof W.Z}},{key:"removeFormat",value:function(ft,Y){var T=this.getText(ft,Y),o=this.scroll.line(ft+Y),i=O(o,2),f=i[0],g=i[1],V=0,ht=new(P());f!=null&&(V=f.length()-g,ht=f.delta().slice(g,g+V-1).insert(`
`));var At=this.getContents(ft,Y+V),Ht=At.diff(new(P())().insert(T).concat(ht)),Ft=new(P())().retain(ft).concat(Ht);return this.applyDelta(Ft)}},{key:"update",value:function(ft){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,o=this.delta;if(Y.length===1&&Y[0].type==="characterData"&&Y[0].target.data.match(vt)&&this.scroll.find(Y[0].target)){var i=this.scroll.find(Y[0].target),f=(0,D.E2)(i),g=i.offset(this.scroll),V=Y[0].oldValue.replace(R.Z.CONTENTS,""),ht=new(P())().insert(V),At=new(P())().insert(i.value()),Ht=T&&{oldRange:tt(T.oldRange,-g),newRange:tt(T.newRange,-g)},Ft=new(P())().retain(g).concat(ht.diff(At,Ht));ft=Ft.reduce(function(Yt,qt){return qt.insert?Yt.insert(qt.insert,f):Yt.push(qt)},new(P())),this.delta=o.compose(ft)}else this.delta=this.getDelta(),(!ft||!_()(o.compose(ft),this.delta))&&(this.deltaContainsRetain(o)||(ft=o.diff(this.delta,T)));return ft}},{key:"deltaContainsRetain",value:function(ft){return ft.ops.some(function(Y){return(0,$.Z)(Y.retain)})}}]),at}();function st(at,it,ft){if(at.length===0){var Y=ct(ft.pop()),T=O(Y,1),o=T[0];return it<=0?"</li></".concat(o,">"):"</li></".concat(o,">").concat(st([],it-1,ft))}var i=k(at),f=i[0],g=f.child,V=f.offset,ht=f.length,At=f.indent,Ht=f.type,Ft=i.slice(1),Yt=ct(Ht,g),qt=O(Yt,2),Jt=qt[0],bt=qt[1];if(At>it)return ft.push(Ht),At===it+1?"<".concat(Jt,"><li").concat(bt,">").concat(H(g,V,ht)).concat(st(Ft,At,ft)):"<".concat(Jt,"><li>").concat(st(at,it+1,ft));var Pt=ft[ft.length-1];if(At===it&&Ht===Pt)return"</li><li".concat(bt,">").concat(H(g,V,ht)).concat(st(Ft,At,ft));var It=ct(ft.pop()),Bt=O(It,1),Nt=Bt[0];return"</li></".concat(Nt,">").concat(st(at,it-1,ft))}function H(at,it,ft){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof at.html=="function")return at.html(it,ft);if(at instanceof A.Z)return(0,A.b)(at.value().slice(it,it+ft));if(at.children){if(at.statics.blotName==="list-container"){var T=[];return at.children.forEachAt(it,ft,function(Ft,Yt,qt){var Jt=Ft.formats();T.push({child:Ft,offset:Yt,length:qt,indent:Jt.indent||0,type:Jt.list})}),st(T,-1,[])}var o=[];if(at.children.forEachAt(it,ft,function(Ft,Yt,qt){o.push(H(Ft,Yt,qt))}),w(at.children,o),Y||at.statics.blotName==="list")return o.join("");var i=q(at),f=i.outerHTML,g=i.innerHTML,V=f.split(">".concat(g,"<")),ht=O(V,2),At=ht[0],Ht=ht[1];return At.indexOf("<table")===0?"".concat(At.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(o.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(Ht):"".concat(At,">").concat(o.join(""),"<").concat(Ht)}return at.domNode.outerHTML}function w(at,it){at.length===1&&at.head instanceof W.Z&&it.push("<br>")}function q(at){var it=at.domNode.cloneNode(!0);return J(at,it)}function J(at,it){var ft=["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"];return ft.includes(at.statics.blotName)&&U(it,at.statics.className),it}function Q(at,it){return Object.keys(it).reduce(function(ft,Y){return at[Y]==null||(it[Y]===at[Y]?ft[Y]=it[Y]:Array.isArray(it[Y])?it[Y].indexOf(at[Y])<0&&(ft[Y]=it[Y].concat([at[Y]])):ft[Y]=[it[Y],at[Y]]),ft},{})}function ct(at,it){var ft=at==="ordered"?"ol":"ul",Y=it?"".concat(mt(it)):"";switch(at){case"checked":return[ft,"".concat(Y,' data-list="checked"')];case"unchecked":return[ft,"".concat(Y,' data-list="unchecked"')];default:return[ft,Y]}}function mt(at){var it=at.domNode;if(!it.hasAttributes())return"";for(var ft=it.attributes,Y=" ",T=0;T<ft.length;T+=1){var o=ft[T].name,i=ft[T].value;o==="class"&&(i=wt(i)),i.length&&o.indexOf("data-")===-1&&(Y+="".concat(o,'="').concat(i,'"'))}return Y.length>1?Y:""}function wt(at){return at.replace(/ql-indent-\d/g,"").trim()}function ot(at){return at.reduce(function(it,ft){if(typeof ft.insert=="string"){var Y=ft.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return it.insert(Y,ft.attributes)}return it.push(ft)},new(P()))}function tt(at,it){var ft=at.index,Y=at.length;return new I.e(ft+it,Y)}const gt=rt},2069:(p,C,t)=>{t.d(C,{Z:()=>L});var y=t(3034),h=t.n(y),v=t(8034),_=t(2598),B=t(3122);function M(j){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},M(j)}function N(j,Z){if(!(j instanceof Z))throw new TypeError("Cannot call a class as a function")}function P(j,Z){for(var et=0;et<Z.length;et++){var ut=Z[et];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(j,I(ut.key),ut)}}function S(j,Z,et){return Z&&P(j.prototype,Z),et&&P(j,et),Object.defineProperty(j,"prototype",{writable:!1}),j}function I(j){var Z=R(j,"string");return M(Z)==="symbol"?Z:String(Z)}function R(j,Z){if(M(j)!=="object"||j===null)return j;var et=j[Symbol.toPrimitive];if(et!==void 0){var ut=et.call(j,Z||"default");if(M(ut)!=="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(j)}function D(){return typeof Reflect<"u"&&Reflect.get?D=Reflect.get.bind():D=function(Z,et,ut){var dt=W(Z,et);if(dt){var pt=Object.getOwnPropertyDescriptor(dt,et);return pt.get?pt.get.call(arguments.length<3?Z:ut):pt.value}},D.apply(this,arguments)}function W(j,Z){for(;!Object.prototype.hasOwnProperty.call(j,Z)&&(j=a(j),j!==null););return j}function A(j,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(Z&&Z.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),Z&&U(j,Z)}function U(j,Z){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ut,dt){return ut.__proto__=dt,ut},U(j,Z)}function $(j){var Z=E();return function(){var ut=a(j),dt;if(Z){var pt=a(this).constructor;dt=Reflect.construct(ut,arguments,pt)}else dt=ut.apply(this,arguments);return k(this,dt)}}function k(j,Z){if(Z&&(M(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(j)}function m(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(j){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},a(j)}var s=(0,B.Z)("quill:events"),c=["selectionchange","mousedown","mouseup","click"];(0,v.Z)()&&c.forEach(function(j){document.addEventListener(j,function(){for(var Z=arguments.length,et=new Array(Z),ut=0;ut<Z;ut++)et[ut]=arguments[ut];Array.from(document.querySelectorAll(".ql-container")).forEach(function(dt){var pt=_.Z.get(dt);if(pt&&pt.emitter){var lt;(lt=pt.emitter).handleDOM.apply(lt,et)}})})});var O=function(j){A(et,j);var Z=$(et);function et(){var ut;return N(this,et),ut=Z.call(this),ut.listeners={},ut.on("error",s.error),ut}return S(et,[{key:"emit",value:function(){for(var dt,pt,lt=arguments.length,_t=new Array(lt),G=0;G<lt;G++)_t[G]=arguments[G];(dt=s.log).call.apply(dt,[s].concat(_t)),(pt=D(a(et.prototype),"emit",this)).call.apply(pt,[this].concat(_t))}},{key:"handleDOM",value:function(dt){for(var pt=arguments.length,lt=new Array(pt>1?pt-1:0),_t=1;_t<pt;_t++)lt[_t-1]=arguments[_t];(this.listeners[dt.type]||[]).forEach(function(G){var vt=G.node,rt=G.handler;(dt.target===vt||vt.contains(dt.target))&&rt.apply(void 0,[dt].concat(lt))})}},{key:"listenDOM",value:function(dt,pt,lt){this.listeners[dt]||(this.listeners[dt]=[]),this.listeners[dt].push({node:pt,handler:lt})}}]),et}(h());O.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},O.sources={API:"api",SILENT:"silent",USER:"user"};const L=O},2598:(p,C,t)=>{t.d(C,{Z:()=>y});const y=new WeakMap},3122:(p,C,t)=>{t.d(C,{Z:()=>B});var y=["error","warn","log","info"],h="warn";function v(M){if(y.indexOf(M)<=y.indexOf(h)){for(var N,P=arguments.length,S=new Array(P>1?P-1:0),I=1;I<P;I++)S[I-1]=arguments[I];(N=console)[M].apply(N,S)}}function _(M){return y.reduce(function(N,P){return N[P]=v.bind(console,P,M),N},{})}_.level=function(M){h=M},v.level=_.level;const B=_},7094:(p,C,t)=>{t.d(C,{Z:()=>P});function y(S){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},y(S)}function h(S,I){for(var R=0;R<I.length;R++){var D=I[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,_(D.key),D)}}function v(S,I,R){return I&&h(S.prototype,I),R&&h(S,R),Object.defineProperty(S,"prototype",{writable:!1}),S}function _(S){var I=B(S,"string");return y(I)==="symbol"?I:String(I)}function B(S,I){if(y(S)!=="object"||S===null)return S;var R=S[Symbol.toPrimitive];if(R!==void 0){var D=R.call(S,I||"default");if(y(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(S)}function M(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}var N=v(function S(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M(this,S),this.quill=I,this.options=R});N.DEFAULTS={};const P=N},281:(p,C,t)=>{t.d(C,{ZP:()=>lt});var y=t(9098),h=t.n(y),v=t(8805),_=t.n(v),B=t(732),M=t.n(B),N=t(1233),P=t(2861),S=t(2069),I=t(7094),R=t(7800),D=t(2598),W=t(3122),A=t(1690),U=t(5874);function $(st){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},$(st)}function k(st,H,w){return H=et(H),H in st?Object.defineProperty(st,H,{value:w,enumerable:!0,configurable:!0,writable:!0}):st[H]=w,st}function m(st,H){return O(st)||c(st,H)||a(st,H)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(st,H){if(st){if(typeof st=="string")return s(st,H);var w=Object.prototype.toString.call(st).slice(8,-1);if(w==="Object"&&st.constructor&&(w=st.constructor.name),w==="Map"||w==="Set")return Array.from(st);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return s(st,H)}}function s(st,H){(H==null||H>st.length)&&(H=st.length);for(var w=0,q=new Array(H);w<H;w++)q[w]=st[w];return q}function c(st,H){var w=st==null?null:typeof Symbol<"u"&&st[Symbol.iterator]||st["@@iterator"];if(w!=null){var q,J,Q,ct,mt=[],wt=!0,ot=!1;try{if(Q=(w=w.call(st)).next,H===0){if(Object(w)!==w)return;wt=!1}else for(;!(wt=(q=Q.call(w)).done)&&(mt.push(q.value),mt.length!==H);wt=!0);}catch(tt){ot=!0,J=tt}finally{try{if(!wt&&w.return!=null&&(ct=w.return(),Object(ct)!==ct))return}finally{if(ot)throw J}}return mt}}function O(st){if(Array.isArray(st))return st}function L(st,H){if(!(st instanceof H))throw new TypeError("Cannot call a class as a function")}function j(st,H){for(var w=0;w<H.length;w++){var q=H[w];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(st,et(q.key),q)}}function Z(st,H,w){return H&&j(st.prototype,H),w&&j(st,w),Object.defineProperty(st,"prototype",{writable:!1}),st}function et(st){var H=ut(st,"string");return $(H)==="symbol"?H:String(H)}function ut(st,H){if($(st)!=="object"||st===null)return st;var w=st[Symbol.toPrimitive];if(w!==void 0){var q=w.call(st,H||"default");if($(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(st)}var dt=(0,W.Z)("quill"),pt=new N.Registry;N.ParentBlot.uiClass="ql-ui";var lt=function(){function st(H){var w=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,st),this.options=_t(H,q),this.container=this.options.container,this.container==null)return dt.error("Invalid Quill container",H);this.options.debug&&st.debug(this.options.debug);var J=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",D.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new S.Z;var Q=this.options.registry.query(N.ScrollBlot.blotName);this.scroll=new Q(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new P.Z(this.scroll),this.selection=new R.Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(S.Z.events.EDITOR_CHANGE,function(ct){ct===S.Z.events.TEXT_CHANGE&&w.toggleBlankClass()}),this.emitter.on(S.Z.events.SCROLL_UPDATE,function(ct,mt){var wt=w.selection.lastRange,ot=w.selection.getRange(),tt=m(ot,1),gt=tt[0],at=wt&&gt?{oldRange:wt,newRange:gt}:void 0;G.call(w,function(){return w.editor.update(null,mt,at)},ct)}),this.setContents(this.getInitialContent(J)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return Z(st,[{key:"getInitialContent",value:function(w){return this.clipboard.convert({html:"".concat(w,"<p><br></p>"),text:`
`})}},{key:"toggleBlankClass",value:function(){var w=this.selection.composing;this.root.classList.toggle("ql-blank",this.editor.isBlank(w))}},{key:"addContainer",value:function(w){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof w=="string"){var J=w;w=document.createElement("div"),w.classList.add(J)}return this.container.insertBefore(w,q),w}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(w,q,J){var Q=this,ct=vt(w,q,J),mt=m(ct,4);return w=mt[0],q=mt[1],J=mt[3],G.call(this,function(){return Q.editor.deleteText(w,q)},J,w,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(w){this.allowReadOnlyEdits=!0;var q=w();return this.allowReadOnlyEdits=!1,q}},{key:"enable",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(w),this.container.classList.toggle("ql-disabled",!w)}},{key:"focus",value:function(){var w=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=w,this.scrollIntoView()}},{key:"format",value:function(w,q){var J=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.Z.sources.API;return G.call(this,function(){var ct=J.getSelection(!0),mt=new(h());if(ct==null)return mt;if(J.scroll.query(w,N.Scope.BLOCK))mt=J.editor.formatLine(ct.index,ct.length,k({},w,q));else{if(ct.length===0)return J.selection.format(w,q),mt;mt=J.editor.formatText(ct.index,ct.length,k({},w,q))}return J.setSelection(ct,S.Z.sources.SILENT),mt},Q)}},{key:"formatLine",value:function(w,q,J,Q,ct){var mt=this,wt,ot=vt(w,q,J,Q,ct),tt=m(ot,4);return w=tt[0],q=tt[1],wt=tt[2],ct=tt[3],G.call(this,function(){return mt.editor.formatLine(w,q,wt)},ct,w,0)}},{key:"formatText",value:function(w,q,J,Q,ct){var mt=this,wt,ot=vt(w,q,J,Q,ct),tt=m(ot,4);return w=tt[0],q=tt[1],wt=tt[2],ct=tt[3],G.call(this,function(){return mt.editor.formatText(w,q,wt)},ct,w,0)}},{key:"getBounds",value:function(w){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J;typeof w=="number"?J=this.selection.getBounds(w,q):J=this.selection.getBounds(w.index,w.length);var Q=this.container.getBoundingClientRect();return{bottom:J.bottom-Q.top,height:J.height,left:J.left-Q.left,right:J.right-Q.left,top:J.top-Q.top,width:J.width}}},{key:"getContents",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=vt(w,q),Q=m(J,2);return w=Q[0],q=Q[1],this.editor.getContents(w,q)}},{key:"getFormat",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,U.Z)(w)?typeof w=="number"?this.editor.getFormat(w,q):this.editor.getFormat(w.index,w.length):{}}},{key:"getIndex",value:function(w){return w.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(w){return this.scroll.leaf(w)}},{key:"getLine",value:function(w){return this.scroll.line(w)}},{key:"getLines",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof w!="number"?this.scroll.lines(w.index,w.length):this.scroll.lines(w,q)}},{key:"getModule",value:function(w){return this.theme.modules[w]}},{key:"getSelection",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return w&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=vt(w,q),Q=m(J,2);return w=Q[0],q=Q[1],this.editor.getHTML(w,q)}},{key:"getText",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=vt(w,q),Q=m(J,2);return w=Q[0],q=Q[1],this.editor.getText(w,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(w,q,J){var Q=this,ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:st.sources.API;return G.call(this,function(){return Q.editor.insertEmbed(w,q,J)},ct,w)}},{key:"insertText",value:function(w,q,J,Q,ct){var mt=this,wt,ot=vt(w,0,J,Q,ct),tt=m(ot,4);return w=tt[0],wt=tt[2],ct=tt[3],G.call(this,function(){return mt.editor.insertText(w,q,wt)},ct,w,q.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var w;return(w=this.emitter).off.apply(w,arguments)}},{key:"on",value:function(){var w;return(w=this.emitter).on.apply(w,arguments)}},{key:"once",value:function(){var w;return(w=this.emitter).once.apply(w,arguments)}},{key:"removeFormat",value:function(w,q,J){var Q=this,ct=vt(w,q,J),mt=m(ct,4);return w=mt[0],q=mt[1],J=mt[3],G.call(this,function(){return Q.editor.removeFormat(w,q)},J,w)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(w){var q=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API;return G.call(this,function(){w=new(h())(w);var Q=q.getLength(),ct=q.editor.deleteText(0,Q),mt=q.editor.applyDelta(w),wt=q.editor.deleteText(q.getLength()-1,1);return q.emitter.emit(st.events.CONTENT_SETTED),ct.compose(mt).compose(wt)},J)}},{key:"setSelection",value:function(w,q,J){if(w==null)this.selection.setRange(null,q||st.sources.API);else{var Q=vt(w,q,J),ct=m(Q,4);w=ct[0],q=ct[1],J=ct[3],this.selection.setRange(new R.e(Math.max(0,w),q),J),J!==S.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(w){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API,J=new(h())().insert(w);return this.setContents(J,q)}},{key:"update",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.Z.sources.USER,q=this.scroll.update(w);return this.selection.update(w),q}},{key:"updateContents",value:function(w){var q=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API;return G.call(this,function(){return w=new(h())(w),q.editor.applyDelta(w,J)},J,!0)}}],[{key:"debug",value:function(w){w===!0&&(w="log"),W.Z.level(w)}},{key:"find",value:function(w){return D.Z.get(w)||pt.find(w)}},{key:"import",value:function(w){return this.imports[w]==null&&dt.error("Cannot import ".concat(w,". Are you sure it was registered?")),this.imports[w]}},{key:"register",value:function(w,q){var J=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof w!="string"){var ct=w.attrName||w.blotName;typeof ct=="string"?this.register("formats/".concat(ct),w,q):Object.keys(w).forEach(function(mt){J.register(mt,w[mt],q)})}else this.imports[w]!=null&&!Q&&dt.warn("Overwriting ".concat(w," with"),q),this.imports[w]=q,(w.indexOf("blots/")===0||w.indexOf("formats/")===0)&&q.blotName!=="abstract"&&pt.register(q),typeof q.register=="function"&&q.register(pt)}}]),st}();lt.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:pt,scrollingContainer:null,theme:"default"},lt.events=S.Z.events,lt.sources=S.Z.sources,lt.version="1.6.4",lt.imports={delta:h(),parchment:N,"core/module":I.Z,"core/theme":A.Z};function _t(st,H){if(H=M()({container:st,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},H),!H.theme||H.theme===lt.DEFAULTS.theme)H.theme=A.Z;else if(H.theme=lt.import("themes/".concat(H.theme)),H.theme==null)throw new Error("Invalid theme ".concat(H.theme,". Did you register it?"));var w=_()(H.theme.DEFAULTS);[w,H].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(ct){Q.modules[ct]===!0&&(Q.modules[ct]={})})});var q=Object.keys(w.modules).concat(Object.keys(H.modules)),J=q.reduce(function(Q,ct){var mt=lt.import("modules/".concat(ct));return mt==null?dt.error("Cannot load ".concat(ct," module. Are you sure you registered it?")):Q[ct]=mt.DEFAULTS||{},Q},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=M()({},lt.DEFAULTS,{modules:J},w,H),["bounds","container","scrollingContainer"].forEach(function(Q){typeof H[Q]=="string"&&(H[Q]=document.querySelector(H[Q]))}),H.modules=Object.keys(H.modules).reduce(function(Q,ct){return H.modules[ct]&&(Q[ct]=H.modules[ct]),Q},{}),H}function G(st,H,w,q){if(!this.isEnabled()&&H===S.Z.sources.USER&&!this.allowReadOnlyEdits)return new(h());var J=w==null?null:this.getSelection(),Q=this.editor.delta,ct=st();if(J!=null&&(w===!0&&(w=J.index),q==null?J=rt(J,ct,H):q!==0&&(J=rt(J,w,q,H)),this.setSelection(J,S.Z.sources.SILENT)),ct.length()>0){var mt,wt=[S.Z.events.TEXT_CHANGE,ct,Q,H];if((mt=this.emitter).emit.apply(mt,[S.Z.events.EDITOR_CHANGE].concat(wt)),H!==S.Z.sources.SILENT){var ot;(ot=this.emitter).emit.apply(ot,wt)}}return ct}function vt(st,H,w,q,J){var Q={};return typeof st.index=="number"&&typeof st.length=="number"?typeof H!="number"?(J=q,q=w,w=H,H=st.length,st=st.index):(H=st.length,st=st.index):typeof H!="number"&&(J=q,q=w,w=H,H=0),$(w)==="object"?(Q=w,J=q):typeof w=="string"&&(q!=null?Q[w]=q:J=w),J=J||S.Z.sources.API,[st,H,Q,J]}function rt(st,H,w,q){if(st==null)return null;var J,Q;if(H instanceof h()){var ct=[st.index,st.index+st.length].map(function(tt){return H.transformPosition(tt,q!==S.Z.sources.USER)}),mt=m(ct,2);J=mt[0],Q=mt[1]}else{var wt=[st.index,st.index+st.length].map(function(tt){return tt<H||tt===H&&q===S.Z.sources.USER?tt:w>=0?tt+w:Math.max(H,tt+w)}),ot=m(wt,2);J=ot[0],Q=ot[1]}return new R.e(J,Q-J)}},7800:(p,C,t)=>{t.d(C,{Z:()=>Z,e:()=>j});var y=t(1233),h=t(8805),v=t.n(h),_=t(2722),B=t.n(_),M=t(2069),N=t(3122);function P(ut){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},P(ut)}function S(ut){return D(ut)||R(ut)||U(ut)||I()}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(ut){if(typeof Symbol<"u"&&ut[Symbol.iterator]!=null||ut["@@iterator"]!=null)return Array.from(ut)}function D(ut){if(Array.isArray(ut))return $(ut)}function W(ut,dt){return m(ut)||k(ut,dt)||U(ut,dt)||A()}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(ut,dt){if(ut){if(typeof ut=="string")return $(ut,dt);var pt=Object.prototype.toString.call(ut).slice(8,-1);if(pt==="Object"&&ut.constructor&&(pt=ut.constructor.name),pt==="Map"||pt==="Set")return Array.from(ut);if(pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pt))return $(ut,dt)}}function $(ut,dt){(dt==null||dt>ut.length)&&(dt=ut.length);for(var pt=0,lt=new Array(dt);pt<dt;pt++)lt[pt]=ut[pt];return lt}function k(ut,dt){var pt=ut==null?null:typeof Symbol<"u"&&ut[Symbol.iterator]||ut["@@iterator"];if(pt!=null){var lt,_t,G,vt,rt=[],st=!0,H=!1;try{if(G=(pt=pt.call(ut)).next,dt===0){if(Object(pt)!==pt)return;st=!1}else for(;!(st=(lt=G.call(pt)).done)&&(rt.push(lt.value),rt.length!==dt);st=!0);}catch(w){H=!0,_t=w}finally{try{if(!st&&pt.return!=null&&(vt=pt.return(),Object(vt)!==vt))return}finally{if(H)throw _t}}return rt}}function m(ut){if(Array.isArray(ut))return ut}function E(ut,dt){for(var pt=0;pt<dt.length;pt++){var lt=dt[pt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ut,s(lt.key),lt)}}function a(ut,dt,pt){return dt&&E(ut.prototype,dt),pt&&E(ut,pt),Object.defineProperty(ut,"prototype",{writable:!1}),ut}function s(ut){var dt=c(ut,"string");return P(dt)==="symbol"?dt:String(dt)}function c(ut,dt){if(P(ut)!=="object"||ut===null)return ut;var pt=ut[Symbol.toPrimitive];if(pt!==void 0){var lt=pt.call(ut,dt||"default");if(P(lt)!=="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(dt==="string"?String:Number)(ut)}function O(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")}var L=(0,N.Z)("quill:selection"),j=a(function ut(dt){var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;O(this,ut),this.index=dt,this.length=pt}),Z=function(){function ut(dt,pt){var lt=this;O(this,ut),this.emitter=pt,this.scroll=dt,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new j(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!lt.mouseDown&&!lt.composing&&setTimeout(lt.update.bind(lt,M.Z.sources.USER),1)}),this.emitter.on(M.Z.events.SCROLL_BEFORE_UPDATE,function(){if(lt.hasFocus()){var _t=lt.getNativeRange();_t!=null&&_t.start.node!==lt.cursor.textNode&&lt.emitter.once(M.Z.events.SCROLL_UPDATE,function(){try{lt.root.contains(_t.start.node)&&lt.root.contains(_t.end.node)&&lt.setNativeRange(_t.start.node,_t.start.offset,_t.end.node,_t.end.offset),lt.update(M.Z.sources.SILENT)}catch{}})}}),this.emitter.on(M.Z.events.SCROLL_OPTIMIZE,function(_t,G){if(G.range){var vt=G.range,rt=vt.startNode,st=vt.startOffset,H=vt.endNode,w=vt.endOffset;lt.setNativeRange(rt,st,H,w),lt.update(M.Z.sources.SILENT)}}),this.update(M.Z.sources.SILENT)}return a(ut,[{key:"handleComposition",value:function(){var pt=this;this.root.addEventListener("compositionstart",function(){pt.composing=!0,pt.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(pt.scroll.batchEnd(),pt.composing=!1,pt.cursor.parent){var lt=pt.cursor.restore();if(!lt)return;setTimeout(function(){pt.setNativeRange(lt.startNode,lt.startOffset,lt.endNode,lt.endOffset)},1)}})}},{key:"handleDragging",value:function(){var pt=this;this.emitter.listenDOM("mousedown",document.body,function(){pt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){pt.mouseDown=!1,pt.update(M.Z.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(pt,lt){this.scroll.update();var _t=this.getNativeRange();if(!(_t==null||!_t.native.collapsed||this.scroll.query(pt,y.Scope.BLOCK))){if(_t.start.node!==this.cursor.textNode){var G=this.scroll.find(_t.start.node,!1);if(G==null)return;if(G instanceof y.LeafBlot){var vt=G.split(_t.start.offset);G.parent.insertBefore(this.cursor,vt)}else G.insertBefore(this.cursor,_t.start.node);this.cursor.attach()}this.cursor.format(pt,lt),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(pt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_t=this.scroll.length();pt=Math.min(pt,_t-1),lt=Math.min(pt+lt,_t-1)-pt;var G,vt=this.scroll.leaf(pt),rt=W(vt,2),st=rt[0],H=rt[1];if(st==null)return null;var w=this.getPositionData(st,H,!0),q=W(w,2);G=q[0],H=q[1];var J=document.createRange();if(lt>0){J.setStart(G,H);var Q=this.scroll.leaf(pt+lt),ct=W(Q,2);if(st=ct[0],H=ct[1],st==null)return null;var mt=this.getPositionData(st,H,!0),wt=W(mt,2);return G=wt[0],H=wt[1],J.setEnd(G,H),J.getBoundingClientRect()}var ot="left",tt;return G instanceof Text?(H<G.data.length?(J.setStart(G,H),J.setEnd(G,H+1)):(J.setStart(G,H-1),J.setEnd(G,H),ot="right"),tt=J.getBoundingClientRect()):(tt=st.domNode.getBoundingClientRect(),H>0&&(ot="right")),{bottom:tt.top+tt.height,height:tt.height,left:tt[ot],right:tt[ot],top:tt.top,width:0}}},{key:"getNativeRange",value:function(){var pt,lt,_t=this.root.getRootNode(),G=(pt=(lt=_t.getSelection)===null||lt===void 0?void 0:lt.call(_t))!==null&&pt!==void 0?pt:document.getSelection();if(G==null||G.rangeCount<=0)return null;var vt=G.getRangeAt(0);if(vt==null)return null;var rt=this.normalizeNative(vt);return L.info("getNativeRange",rt),rt}},{key:"getRange",value:function(){var pt=this.getNativeRange();if(pt==null)return[null,null];var lt=this.normalizedToRange(pt);return[lt,pt]}},{key:"hasFocus",value:function(){var pt=this.root.getRootNode();return pt.activeElement===this.root||et(this.root,pt.activeElement)}},{key:"normalizedToRange",value:function(pt){var lt=this,_t=[[pt.start.node,pt.start.offset]];pt.native.collapsed||_t.push([pt.end.node,pt.end.offset]);var G=_t.map(function(st){var H=W(st,2),w=H[0],q=H[1],J=lt.scroll.find(w,!0),Q=J.offset(lt.scroll);return q===0?Q:J instanceof y.LeafBlot?Q+J.index(w,q):Q+J.length()}),vt=Math.min(Math.max.apply(Math,S(G)),this.scroll.length()-1),rt=Math.min.apply(Math,[vt].concat(S(G)));return new j(rt,vt-rt)}},{key:"normalizeNative",value:function(pt){if(!et(this.root,pt.startContainer)||!pt.collapsed&&!et(this.root,pt.endContainer))return null;var lt={start:{node:pt.startContainer,offset:pt.startOffset},end:{node:pt.endContainer,offset:pt.endOffset},native:pt};return[lt.start,lt.end].forEach(function(_t){for(var G=_t.node,vt=_t.offset;!(G instanceof Text)&&G.childNodes.length>0;)if(G.childNodes.length>vt)G=G.childNodes[vt],vt=0;else if(G.childNodes.length===vt)G=G.lastChild,G instanceof Text?vt=G.data.length:G.childNodes.length>0?vt=G.childNodes.length:vt=G.childNodes.length+1;else break;_t.node=G,_t.offset=vt}),lt}},{key:"rangeToNative",value:function(pt){var lt=this,_t=pt.collapsed?[pt.index]:[pt.index,pt.index+pt.length],G=[],vt=this.scroll.length();return _t.forEach(function(rt,st){rt=Math.min(vt-1,rt);var H=lt.scroll.leaf(rt),w=W(H,2),q=w[0],J=w[1],Q=lt.getPositionData(q,J,st!==0),ct=W(Q,2),mt=ct[0],wt=ct[1];G.push(mt,wt)}),G.length<2?G.concat(G):G}},{key:"getPositionData",value:function(pt,lt,_t){return pt instanceof y.LeafBlot?pt.position(lt,_t):[pt.domNode,lt]}},{key:"scrollIntoView",value:function(pt){var lt=this.lastRange;if(lt!=null){var _t=this.getBounds(lt.index,lt.length);if(_t!=null){var G=this.scroll.length()-1,vt=this.scroll.line(Math.min(lt.index,G)),rt=W(vt,1),st=rt[0],H=st;if(lt.length>0){var w=this.scroll.line(Math.min(lt.index+lt.length,G)),q=W(w,1);H=q[0]}if(!(st==null||H==null)){var J=pt.getBoundingClientRect();_t.top<J.top?pt.scrollTop-=J.top-_t.top:_t.bottom>J.bottom&&(pt.scrollTop+=_t.bottom-J.bottom)}}}}},{key:"setNativeRange",value:function(pt,lt){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pt,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:lt,vt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(L.info("setNativeRange",pt,lt,_t,G),!(pt!=null&&(this.root.parentNode==null||pt.parentNode==null||_t.parentNode==null))){var rt=document.getSelection();if(rt!=null)if(pt!=null){this.hasFocus()||this.root.focus();var st=this.getNativeRange()||{},H=st.native;if(H==null||vt||pt!==H.startContainer||lt!==H.startOffset||_t!==H.endContainer||G!==H.endOffset){pt.tagName==="BR"&&(lt=Array.from(pt.parentNode.childNodes).indexOf(pt),pt=pt.parentNode),_t.tagName==="BR"&&(G=Array.from(_t.parentNode.childNodes).indexOf(_t),_t=_t.parentNode);var w=document.createRange();w.setStart(pt,lt),w.setEnd(_t,G),rt.removeAllRanges(),rt.addRange(w)}}else rt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(pt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.Z.sources.API;if(typeof lt=="string"&&(_t=lt,lt=!1),L.info("setRange",pt),pt!=null){var G=this.rangeToNative(pt);this.setNativeRange.apply(this,S(G).concat([lt]))}else this.setNativeRange(null);this.update(_t)}},{key:"update",value:function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.Z.sources.USER,lt=this.lastRange,_t=this.getRange(),G=W(_t,2),vt=G[0],rt=G[1];if(this.lastRange=vt,this.lastNative=rt,this.lastRange!=null&&(this.savedRange=this.lastRange),!B()(lt,this.lastRange)){var st;if(!this.composing&&rt!=null&&rt.native.collapsed&&rt.start.node!==this.cursor.textNode){var H=this.cursor.restore();H&&this.setNativeRange(H.startNode,H.startOffset,H.endNode,H.endOffset)}var w=[M.Z.events.SELECTION_CHANGE,v()(this.lastRange),v()(lt),pt];if((st=this.emitter).emit.apply(st,[M.Z.events.EDITOR_CHANGE].concat(w)),pt!==M.Z.sources.SILENT){var q;(q=this.emitter).emit.apply(q,w)}}}}]),ut}();function et(ut,dt){try{dt.parentNode}catch{return!1}return dt instanceof Text&&(dt=dt.parentNode),ut.contains(dt)}},1690:(p,C,t)=>{t.d(C,{Z:()=>P});function y(S){"@babel/helpers - typeof";return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},y(S)}function h(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function v(S,I){for(var R=0;R<I.length;R++){var D=I[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,B(D.key),D)}}function _(S,I,R){return I&&v(S.prototype,I),R&&v(S,R),Object.defineProperty(S,"prototype",{writable:!1}),S}function B(S){var I=M(S,"string");return y(I)==="symbol"?I:String(I)}function M(S,I){if(y(S)!=="object"||S===null)return S;var R=S[Symbol.toPrimitive];if(R!==void 0){var D=R.call(S,I||"default");if(y(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(S)}var N=function(){function S(I,R){h(this,S),this.quill=I,this.options=R,this.modules={}}return _(S,[{key:"init",value:function(){var R=this;Object.keys(this.options.modules).forEach(function(D){R.modules[D]==null&&R.addModule(D)})}},{key:"addModule",value:function(R){var D=this.quill.constructor.import("modules/".concat(R));return this.modules[R]=new D(this.quill,this.options.modules[R]||{}),this.modules[R]}}]),S}();N.DEFAULTS={modules:{}},N.themes={default:N};const P=N},715:(p,C,t)=>{t.d(C,{HE:()=>B,dk:()=>_,if:()=>v});var y=t(1233),h={scope:y.Scope.BLOCK,whitelist:["right","center","justify"]},v=new y.Attributor("align","align",h),_=new y.ClassAttributor("align","ql-align",h),B=new y.StyleAttributor("align","text-align",h)},7898:(p,C,t)=>{t.d(C,{Y:()=>v,w:()=>_});var y=t(1233),h=t(6039),v=new y.ClassAttributor("background","ql-bg",{scope:y.Scope.INLINE}),_=new h.OO("background","background-color",{scope:y.Scope.INLINE})},3991:(p,C,t)=>{t.d(C,{Z:()=>m});var y=t(6603);function h(E){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h(E)}function v(E,a){if(!(E instanceof a))throw new TypeError("Cannot call a class as a function")}function _(E,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(E,M(c.key),c)}}function B(E,a,s){return a&&_(E.prototype,a),s&&_(E,s),Object.defineProperty(E,"prototype",{writable:!1}),E}function M(E){var a=N(E,"string");return h(a)==="symbol"?a:String(a)}function N(E,a){if(h(E)!=="object"||E===null)return E;var s=E[Symbol.toPrimitive];if(s!==void 0){var c=s.call(E,a||"default");if(h(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(E)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(a,s,c){var O=S(a,s);if(O){var L=Object.getOwnPropertyDescriptor(O,s);return L.get?L.get.call(arguments.length<3?a:c):L.value}},P.apply(this,arguments)}function S(E,a){for(;!Object.prototype.hasOwnProperty.call(E,a)&&(E=$(E),E!==null););return E}function I(E,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(a&&a.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),a&&R(E,a)}function R(E,a){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,O){return c.__proto__=O,c},R(E,a)}function D(E){var a=U();return function(){var c=$(E),O;if(a){var L=$(this).constructor;O=Reflect.construct(c,arguments,L)}else O=c.apply(this,arguments);return W(this,O)}}function W(E,a){if(a&&(h(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(E)}function A(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(E){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$(E)}var k=function(E){I(s,E);var a=D(s);function s(){return v(this,s),a.apply(this,arguments)}return B(s,[{key:"optimize",value:function(O){P($(s.prototype),"optimize",this).call(this,O),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return P($(s),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),s}(y.Z);k.blotName="bold",k.tagName=["STRONG","B"];const m=k},7309:(p,C,t)=>{t.d(C,{EK:()=>j,ZP:()=>L,se:()=>O});var y=t(6446),h=t(4122),v=t(3657),_=t(6603),B=t(8222),M=t(3553),N=t(281);function P(Z){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},P(Z)}function S(Z,et){if(!(Z instanceof et))throw new TypeError("Cannot call a class as a function")}function I(Z,et){for(var ut=0;ut<et.length;ut++){var dt=et[ut];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Z,D(dt.key),dt)}}function R(Z,et,ut){return et&&I(Z.prototype,et),ut&&I(Z,ut),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function D(Z){var et=W(Z,"string");return P(et)==="symbol"?et:String(et)}function W(Z,et){if(P(Z)!=="object"||Z===null)return Z;var ut=Z[Symbol.toPrimitive];if(ut!==void 0){var dt=ut.call(Z,et||"default");if(P(dt)!=="object")return dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(Z)}function A(){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get.bind():A=function(et,ut,dt){var pt=U(et,ut);if(pt){var lt=Object.getOwnPropertyDescriptor(pt,ut);return lt.get?lt.get.call(arguments.length<3?et:dt):lt.value}},A.apply(this,arguments)}function U(Z,et){for(;!Object.prototype.hasOwnProperty.call(Z,et)&&(Z=c(Z),Z!==null););return Z}function $(Z,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(et&&et.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),et&&k(Z,et)}function k(Z,et){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dt,pt){return dt.__proto__=pt,dt},k(Z,et)}function m(Z){var et=s();return function(){var dt=c(Z),pt;if(et){var lt=c(this).constructor;pt=Reflect.construct(dt,arguments,lt)}else pt=dt.apply(this,arguments);return E(this,pt)}}function E(Z,et){if(et&&(P(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(Z)}function a(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(Z){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},c(Z)}var O=function(Z){$(ut,Z);var et=m(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return R(ut,[{key:"code",value:function(pt,lt){var _t=this.children.map(function(G){return G.length()<=1?"":G.domNode.textContent}).join(`
`).slice(pt,pt+lt);return(0,B.b)(_t)}},{key:"html",value:function(pt,lt){return`<pre>
`.concat(this.code(pt,lt),`
</pre>`)}}],[{key:"create",value:function(pt){var lt=A(c(ut),"create",this).call(this,pt);return lt.setAttribute("spellcheck",!1),lt}}]),ut}(M.Z),L=function(Z){$(ut,Z);var et=m(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return R(ut,null,[{key:"register",value:function(){N.ZP.register(O)}}]),ut}(y.ZP),j=function(Z){$(ut,Z);var et=m(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return R(ut)}(_.Z);j.blotName="code",j.tagName="CODE",L.blotName="code-block",L.className="ql-code-block",L.tagName="DIV",O.blotName="code-block-container",O.className="ql-code-block-container",O.tagName="DIV",O.allowedChildren=[L],L.allowedChildren=[B.Z,h.Z,v.Z],L.requiredContainer=O,L.TAB="  "},6039:(p,C,t)=>{t.d(C,{HQ:()=>E,Hn:()=>m,OO:()=>k});var y=t(1233);function h(a){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},h(a)}function v(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function _(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,M(O.key),O)}}function B(a,s,c){return s&&_(a.prototype,s),c&&_(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function M(a){var s=N(a,"string");return h(s)==="symbol"?s:String(s)}function N(a,s){if(h(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(h(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(s,c,O){var L=S(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},P.apply(this,arguments)}function S(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=$(a),a!==null););return a}function I(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&R(a,s)}function R(a,s){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},R(a,s)}function D(a){var s=U();return function(){var O=$(a),L;if(s){var j=$(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return W(this,L)}}function W(a,s){if(s&&(h(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(a)}function A(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(a){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},$(a)}var k=function(a){I(c,a);var s=D(c);function c(){return v(this,c),s.apply(this,arguments)}return B(c,[{key:"value",value:function(L){var j=P($(c.prototype),"value",this).call(this,L);if(j.indexOf("rgb(")!==0)return j;j=j.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var Z=j.split(",").map(function(et){return"00".concat(parseInt(et,10).toString(16)).slice(-2)}).join("");return"#".concat(Z)}}]),c}(y.StyleAttributor),m=new y.ClassAttributor("color","ql-color",{scope:y.Scope.INLINE}),E=new k("color","color",{scope:y.Scope.INLINE})},4048:(p,C,t)=>{t.d(C,{H8:()=>B,IF:()=>v,hY:()=>_});var y=t(1233),h={scope:y.Scope.BLOCK,whitelist:["rtl"]},v=new y.Attributor("direction","dir",h),_=new y.ClassAttributor("direction","ql-direction",h),B=new y.StyleAttributor("direction","direction",h)},5832:(p,C,t)=>{t.d(C,{H:()=>a,_:()=>m});var y=t(1233);function h(s){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h(s)}function v(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function _(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,M(L.key),L)}}function B(s,c,O){return c&&_(s.prototype,c),O&&_(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function M(s){var c=N(s,"string");return h(c)==="symbol"?c:String(c)}function N(s,c){if(h(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(h(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(c,O,L){var j=S(c,O);if(j){var Z=Object.getOwnPropertyDescriptor(j,O);return Z.get?Z.get.call(arguments.length<3?c:L):Z.value}},P.apply(this,arguments)}function S(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=$(s),s!==null););return s}function I(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&R(s,c)}function R(s,c){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},R(s,c)}function D(s){var c=U();return function(){var L=$(s),j;if(c){var Z=$(this).constructor;j=Reflect.construct(L,arguments,Z)}else j=L.apply(this,arguments);return W(this,j)}}function W(s,c){if(c&&(h(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(s)}function A(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(s){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},$(s)}var k={scope:y.Scope.INLINE,whitelist:["serif","monospace"]},m=new y.ClassAttributor("font","ql-font",k),E=function(s){I(O,s);var c=D(O);function O(){return v(this,O),c.apply(this,arguments)}return B(O,[{key:"value",value:function(j){return P($(O.prototype),"value",this).call(this,j).replace(/["']/g,"")}}]),O}(y.StyleAttributor),a=new E("font","font-family",k)},7256:(p,C,t)=>{t.d(C,{N:()=>m,Z:()=>k});var y=t(6603);function h(E){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h(E)}function v(E,a){if(!(E instanceof a))throw new TypeError("Cannot call a class as a function")}function _(E,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(E,M(c.key),c)}}function B(E,a,s){return a&&_(E.prototype,a),s&&_(E,s),Object.defineProperty(E,"prototype",{writable:!1}),E}function M(E){var a=N(E,"string");return h(a)==="symbol"?a:String(a)}function N(E,a){if(h(E)!=="object"||E===null)return E;var s=E[Symbol.toPrimitive];if(s!==void 0){var c=s.call(E,a||"default");if(h(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(E)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(a,s,c){var O=S(a,s);if(O){var L=Object.getOwnPropertyDescriptor(O,s);return L.get?L.get.call(arguments.length<3?a:c):L.value}},P.apply(this,arguments)}function S(E,a){for(;!Object.prototype.hasOwnProperty.call(E,a)&&(E=$(E),E!==null););return E}function I(E,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(a&&a.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),a&&R(E,a)}function R(E,a){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,O){return c.__proto__=O,c},R(E,a)}function D(E){var a=U();return function(){var c=$(E),O;if(a){var L=$(this).constructor;O=Reflect.construct(c,arguments,L)}else O=c.apply(this,arguments);return W(this,O)}}function W(E,a){if(a&&(h(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(E)}function A(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(E){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$(E)}var k=function(E){I(s,E);var a=D(s);function s(){return v(this,s),a.apply(this,arguments)}return B(s,[{key:"format",value:function(O,L){O!==this.statics.blotName||!L?P($(s.prototype),"format",this).call(this,O,L):this.domNode.setAttribute("href",this.constructor.sanitize(L))}}],[{key:"create",value:function(O){var L=P($(s),"create",this).call(this,O);return L.setAttribute("href",this.sanitize(O)),L.setAttribute("rel","noopener noreferrer"),L.setAttribute("target","_blank"),L}},{key:"formats",value:function(O){return O.getAttribute("href")}},{key:"sanitize",value:function(O){return m(O,this.PROTOCOL_WHITELIST)?O:this.SANITIZED_URL}}]),s}(y.Z);k.blotName="link",k.tagName="A",k.SANITIZED_URL="about:blank",k.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(E,a){var s=document.createElement("a");s.href=E;var c=s.href.slice(0,s.href.indexOf(":"));return a.indexOf(c)>-1}},1629:(p,C,t)=>{t.d(C,{Z:()=>v,m:()=>h});var y=t(1233),h=new y.ClassAttributor("size","ql-size",{scope:y.Scope.INLINE,whitelist:["small","large","huge"]}),v=new y.StyleAttributor("size","font-size",{scope:y.Scope.INLINE,whitelist:["10px","18px","32px"]})},1342:(p,C,t)=>{t.d(C,{Du:()=>D,h6:()=>W,kk:()=>R,yA:()=>I});var y=t(6062),h=t(1801),v=t(8252);function _(A){return P(A)||N(A)||M(A)||B()}function B(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(A,U){if(A){if(typeof A=="string")return S(A,U);var $=Object.prototype.toString.call(A).slice(8,-1);if($==="Object"&&A.constructor&&($=A.constructor.name),$==="Map"||$==="Set")return Array.from(A);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return S(A,U)}}function N(A){if(typeof Symbol<"u"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function P(A){if(Array.isArray(A))return S(A)}function S(A,U){(U==null||U>A.length)&&(U=A.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=A[$];return k}var I=v.F1.map(function(A){return(0,y.Z)(v.Pw,A)}),R=v.Mu.map(function(A){return(0,h.Z)(v.Pw,A)}),D=R.reduce(function(A,U){return A[U.attrName]=U,A},{}),W=[].concat(_(I),_(R)).reduce(function(A,U){return A[U.keyName]=U,A},{})},8252:(p,C,t)=>{t.d(C,{F1:()=>h,Mu:()=>v,Pw:()=>y,fU:()=>_});var y={name:"cell",allowedTags:["TH","TD","TR"]},h=["height","width"],v=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],_=new Set([].concat(h,v))},6062:(p,C,t)=>{t.d(C,{Z:()=>N});var y=t(1674),h=t(2141),v=t(3398),_=["name"];function B(P,S){if(P==null)return{};var I=M(P,S),R,D;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(P);for(D=0;D<W.length;D++)R=W[D],!(S.indexOf(R)>=0)&&Object.prototype.propertyIsEnumerable.call(P,R)&&(I[R]=P[R])}return I}function M(P,S){if(P==null)return{};var I={},R=Object.keys(P),D,W;for(W=0;W<R.length;W++)D=R[W],!(S.indexOf(D)>=0)&&(I[D]=P[D]);return I}function N(P,S){var I=P.name,R=B(P,_),D="".concat(I).concat((0,h.Z)(S)),W="".concat(v.WT.attribute).concat(I,"_").concat(S);return new y.Z(D,W,R)}},1801:(p,C,t)=>{t.d(C,{Z:()=>W});var y=t(4569),h=t(2141),v=t(3398),_=["name","formatName"];function B(A,U){return I(A)||S(A,U)||N(A,U)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(A,U){if(A){if(typeof A=="string")return P(A,U);var $=Object.prototype.toString.call(A).slice(8,-1);if($==="Object"&&A.constructor&&($=A.constructor.name),$==="Map"||$==="Set")return Array.from(A);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return P(A,U)}}function P(A,U){(U==null||U>A.length)&&(U=A.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=A[$];return k}function S(A,U){var $=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if($!=null){var k,m,E,a,s=[],c=!0,O=!1;try{if(E=($=$.call(A)).next,U===0){if(Object($)!==$)return;c=!1}else for(;!(c=(k=E.call($)).done)&&(s.push(k.value),s.length!==U);c=!0);}catch(L){O=!0,m=L}finally{try{if(!c&&$.return!=null&&(a=$.return(),Object(a)!==a))return}finally{if(O)throw m}}return s}}function I(A){if(Array.isArray(A))return A}function R(A,U){if(A==null)return{};var $=D(A,U),k,m;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(A);for(m=0;m<E.length;m++)k=E[m],!(U.indexOf(k)>=0)&&Object.prototype.propertyIsEnumerable.call(A,k)&&($[k]=A[k])}return $}function D(A,U){if(A==null)return{};var $={},k=Object.keys(A),m,E;for(E=0;E<k.length;E++)m=k[E],!(U.indexOf(m)>=0)&&($[m]=A[m]);return $}function W(A,U){var $=A.name,k=A.formatName,m=R(A,_),E=U.split("-"),a=B(E,2),s=a[0],c=a[1],O="".concat($).concat((0,h.Z)(k??s)).concat(c?(0,h.Z)(c):""),L="".concat(v.WT.style).concat($,"_").concat(U);return new y.Z(O,L,m)}},319:(p,C,t)=>{t.d(C,{Qu:()=>I,VT:()=>R,Zt:()=>W,li:()=>D});var y=t(6062),h=t(1801),v=t(19);function _(A){return P(A)||N(A)||M(A)||B()}function B(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(A,U){if(A){if(typeof A=="string")return S(A,U);var $=Object.prototype.toString.call(A).slice(8,-1);if($==="Object"&&A.constructor&&($=A.constructor.name),$==="Map"||$==="Set")return Array.from(A);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return S(A,U)}}function N(A){if(typeof Symbol<"u"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function P(A){if(Array.isArray(A))return S(A)}function S(A,U){(U==null||U>A.length)&&(U=A.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=A[$];return k}var I=v.N2.map(function(A){return(0,y.Z)(v.Sp,A)}),R=v.GX.map(function(A){return(0,h.Z)(v.Sp,A)}),D=R.reduce(function(A,U){return A[U.attrName]=U,A},{}),W=[].concat(_(I),_(R)).reduce(function(A,U){return A[U.keyName]=U,A},{})},19:(p,C,t)=>{t.d(C,{GX:()=>v,N2:()=>h,Sp:()=>y,bc:()=>_});var y={name:"table",allowedTags:["TABLE"]},h=["height","width"],v=["height","width","text-align","background-color","border","border-style","border-width","border-color"],_=new Set([].concat(h,v))},8536:(p,C,t)=>{t.d(C,{Z:()=>y});function y(){return Math.random().toString(36).slice(2,6)}},1969:(p,C,t)=>{t.d(C,{KA:()=>wt,Lv:()=>it,RM:()=>tt,SC:()=>mt,iD:()=>w,pj:()=>J,xD:()=>gt,xJ:()=>at,xs:()=>Q,zW:()=>H});var y=t(6446),h=t(4122),v=t(3553),_=t(5874),B=t(1342),M=t(319),N=t(8536),P=t(2795);function S(Y){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},S(Y)}function I(Y,T){return W(Y)||D(Y,T)||$(Y,T)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(Y,T){var o=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(o!=null){var i,f,g,V,ht=[],At=!0,Ht=!1;try{if(g=(o=o.call(Y)).next,T===0){if(Object(o)!==o)return;At=!1}else for(;!(At=(i=g.call(o)).done)&&(ht.push(i.value),ht.length!==T);At=!0);}catch(Ft){Ht=!0,f=Ft}finally{try{if(!At&&o.return!=null&&(V=o.return(),Object(V)!==V))return}finally{if(Ht)throw f}}return ht}}function W(Y){if(Array.isArray(Y))return Y}function A(Y){return m(Y)||k(Y)||$(Y)||U()}function U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(Y,T){if(Y){if(typeof Y=="string")return E(Y,T);var o=Object.prototype.toString.call(Y).slice(8,-1);if(o==="Object"&&Y.constructor&&(o=Y.constructor.name),o==="Map"||o==="Set")return Array.from(Y);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return E(Y,T)}}function k(Y){if(typeof Symbol<"u"&&Y[Symbol.iterator]!=null||Y["@@iterator"]!=null)return Array.from(Y)}function m(Y){if(Array.isArray(Y))return E(Y)}function E(Y,T){(T==null||T>Y.length)&&(T=Y.length);for(var o=0,i=new Array(T);o<T;o++)i[o]=Y[o];return i}function a(Y,T){if(!(Y instanceof T))throw new TypeError("Cannot call a class as a function")}function s(Y,T){for(var o=0;o<T.length;o++){var i=T[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,O(i.key),i)}}function c(Y,T,o){return T&&s(Y.prototype,T),o&&s(Y,o),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function O(Y){var T=L(Y,"string");return S(T)==="symbol"?T:String(T)}function L(Y,T){if(S(Y)!=="object"||Y===null)return Y;var o=Y[Symbol.toPrimitive];if(o!==void 0){var i=o.call(Y,T||"default");if(S(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(Y)}function j(){return typeof Reflect<"u"&&Reflect.get?j=Reflect.get.bind():j=function(T,o,i){var f=Z(T,o);if(f){var g=Object.getOwnPropertyDescriptor(f,o);return g.get?g.get.call(arguments.length<3?T:i):g.value}},j.apply(this,arguments)}function Z(Y,T){for(;!Object.prototype.hasOwnProperty.call(Y,T)&&(Y=G(Y),Y!==null););return Y}function et(Y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(T&&T.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),T&&ut(Y,T)}function ut(Y,T){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,f){return i.__proto__=f,i},ut(Y,T)}function dt(Y){var T=_t();return function(){var i=G(Y),f;if(T){var g=G(this).constructor;f=Reflect.construct(i,arguments,g)}else f=i.apply(this,arguments);return pt(this,f)}}function pt(Y,T){if(T&&(S(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(Y)}function lt(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(Y){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},G(Y)}var vt=["row","cell"],rt="data-table-";function st(Y,T,o){Y.forEachAt(T,o,function(i,f,g){i.deleteAt(f,g)})}var H=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"optimize",value:function(){var f,g=this.domNode.getAttribute("".concat(rt,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var V=this.domNode,ht={row:g};Object.keys(B.Du).forEach(function(Yt){var qt=V.dataset[Yt.toLowerCase()];qt&&(ht[Yt]=qt)}),this.wrap(this.statics.requiredContainer.blotName,ht)}for(var At=arguments.length,Ht=new Array(At),Ft=0;Ft<At;Ft++)Ht[Ft]=arguments[Ft];(f=j(G(o.prototype),"optimize",this)).call.apply(f,[this].concat(Ht))}},{key:"format",value:function(f,g){var V=f==="tableCellLine";V&&g===null&&(g=this.formats().tableCellLine);var ht=vt.indexOf(f)>-1;if(ht||M.li[f]||B.Du[f]){var At="data-".concat(ht?"table-":"").concat(f.toLowerCase());if((0,P.Z)(this.domNode,At,g),B.Du[f]){var Ht;(Ht=this.cell())===null||Ht===void 0||Ht.format(f,g)}if(M.li[f]){var Ft;(Ft=this.cell())===null||Ft===void 0||(Ft=Ft.table())===null||Ft===void 0||Ft.format(f,g)}}else j(G(o.prototype),"format",this).call(this,f,g)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return vt.forEach(function(V){var ht,At=V==="row"?it:ft;g.setAttribute("".concat(rt).concat(V),(ht=f==null?void 0:f[V])!==null&&ht!==void 0?ht:At())}),g}},{key:"formats",value:function(f){return vt.reduce(function(g,V){var ht="".concat(rt).concat(V);return f.hasAttribute(ht)&&(g[V]=f.getAttribute(ht)||void 0),g},{})}}]),o}(y.ZP);H.blotName="tableCellLine",H.className="ql-table-cell-line",H.tagName="P";var w=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o)}(H);w.blotName="tableHeaderCellLine",w.className="ql-table-header-cell-line";var q=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"format",value:function(f,g){var V;(V=B.Du[f])===null||V===void 0||V.add(this.domNode,g)}},{key:"checkMerge",value:function(){if(j(G(o.prototype),"checkMerge",this).call(this)&&this.next.children.head!=null){var f=this.children.head.formats()[this.children.head.statics.blotName],g=this.children.tail.formats()[this.children.tail.statics.blotName],V=this.next.children.head.formats()[this.next.children.head.statics.blotName],ht=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return f.cell===g.cell&&f.cell===V.cell&&f.cell===ht.cell}return!1}},{key:"formats",value:function(){return o.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var f;return(f=this.row())===null||f===void 0?void 0:f.table()}},{key:"optimize",value:function(){var f,g,V=(f=this.domNode.getAttribute("".concat(rt,"row")))!==null&&f!==void 0?f:this.domNode.getAttribute("".concat(rt,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:V});for(var ht=arguments.length,At=new Array(ht),Ht=0;Ht<ht;Ht++)At[Ht]=arguments[Ht];(g=j(G(o.prototype),"optimize",this)).call.apply(g,[this].concat(At))}},{key:"deleteAt",value:function(f,g){st(this.children,f,g)}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return f&&Object.keys(f).forEach(function(V){var ht;(ht=B.Du[V])===null||ht===void 0||ht.add(g,f[V])}),g}},{key:"cellFormats",value:function(f){var g={};if(f.hasAttribute("".concat(rt,"row"))||f.hasAttribute("".concat(rt,"header-row"))){var V;g.row=(V=f.getAttribute("".concat(rt,"row")))!==null&&V!==void 0?V:f.getAttribute("".concat(rt,"header-row"))}return Object.keys(B.Du).forEach(function(ht){var At,Ht=(At=f.firstElementChild)===null||At===void 0?void 0:At.dataset[ht.toLowerCase()];Ht&&(g[ht]=Ht)}),g}}]),o}(v.Z);q.tagName=["TD","TH"];var J=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"format",value:function(f,g){f==="row"?(this.domNode.setAttribute("".concat(rt).concat(f),g),this.children.forEach(function(V){V.format(f,g)})):j(G(o.prototype),"format",this).call(this,f,g)}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f),V="".concat(rt,"row");return f!=null&&f.row&&g.setAttribute(V,f.row),g}}]),o}(q);J.blotName="tableCell",J.className="ql-table-data-cell",J.dataAttribute="".concat(rt,"row"),J.defaultChild=H;var Q=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"format",value:function(f,g){f==="row"?(this.domNode.setAttribute("".concat(rt).concat(f),g),this.children.forEach(function(V){V.format(f,g)})):j(G(o.prototype),"format",this).call(this,f,g)}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f),V="".concat(rt,"header-row");return f&&f.row&&g.setAttribute(V,f.row),g}}]),o}(q);Q.tagName=["TH","TD"],Q.className="ql-table-header-cell",Q.blotName="tableHeaderCell",Q.dataAttribute="".concat(rt,"header-row"),Q.defaultChild=w;var ct=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"checkMerge",value:function(){if(j(G(o.prototype),"checkMerge",this).call(this)&&(0,_.Z)(this.next.children.head)){var f="row",g=this.children.head.formats(),V=this.children.tail.formats(),ht=this.next.children.head.formats(),At=this.next.children.tail.formats();return g[f]===V[f]&&g[f]===ht[f]&&g[f]===At[f]}return!1}},{key:"optimize",value:function(){for(var f,g=this,V=arguments.length,ht=new Array(V),At=0;At<V;At++)ht[At]=arguments[At];(f=j(G(o.prototype),"optimize",this)).call.apply(f,[this].concat(ht));var Ht=this.childFormatName;this.children.forEach(function(Ft){if((0,_.Z)(Ft.next)){var Yt=Ft.formats(),qt=Ft.next.formats();if(Yt[Ht]!==qt[Ht]){var Jt=g.splitAfter(Ft);Jt&&Jt.optimize(),g.prev&&g.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var f;return(f=this.parent)===null||f===void 0?void 0:f.parent}},{key:"formats",value:function(){var f={},g="".concat(rt,"row");return this.domNode.hasAttribute(g)&&(f[g]=this.domNode.getAttribute(g)),f}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return f!=null&&f.row&&g.setAttribute("".concat(rt,"row"),f.row),g}}]),o}(v.Z);ct.tagName="TR";var mt=function(Y){et(o,Y);var T=dt(o);function o(i,f){var g;return a(this,o),g=T.call(this,i,f),g.childFormatName="table",g}return c(o,[{key:"deleteAt",value:function(f,g){st(this.children,f,g)}}]),o}(ct);mt.blotName="tableRow";var wt=function(Y){et(o,Y);var T=dt(o);function o(i,f){var g;return a(this,o),g=T.call(this,i,f),g.childFormatName="tableHeaderCell",g}return c(o)}(ct);wt.blotName="tableHeaderRow";var ot=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"optimize",value:function(){var f;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var g,V=((g=this.children.head.children.head.children)===null||g===void 0||(g=g.head)===null||g===void 0?void 0:g.domNode)||null,ht={};V&&Object.keys(M.li).forEach(function(Yt){var qt=V.dataset[Yt.toLowerCase()];qt&&(ht[Yt]=qt)}),this.wrap(this.statics.requiredContainer.blotName,ht)}for(var At=arguments.length,Ht=new Array(At),Ft=0;Ft<At;Ft++)Ht[Ft]=arguments[Ft];(f=j(G(o.prototype),"optimize",this)).call.apply(f,[this].concat(Ht))}}]),o}(v.Z),tt=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o)}(ot);tt.blotName="tableBody",tt.tagName="TBODY";var gt=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o)}(ot);gt.blotName="tableHeader",gt.tagName="THEAD";var at=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"balanceCells",value:function(){var f=this.descendants(wt),g=this.descendants(mt),V=this.getMaxTableColCount(f,g);this.balanceRows(V,f,Q),this.balanceRows(V,g,J)}},{key:"getMaxTableColCount",value:function(f,g){return Math.max(this.getMaxRowColCount(f),this.getMaxRowColCount(g))}},{key:"getMaxRowColCount",value:function(f){return Math.max.apply(Math,A(f.map(function(g){return g.children.length})))}},{key:"balanceRows",value:function(f,g,V){var ht=this;g.forEach(function(At){new Array(f-At.children.length).fill(0).forEach(function(){var Ht;(0,_.Z)(At.children.head)&&(Ht=V.cellFormats(At.children.head.domNode));var Ft=ht.scroll.create(V.blotName,Ht),Yt=ht.scroll.create(V.allowedChildren[0].blotName,Ht);Ft.appendChild(Yt),At.appendChild(Ft),Ft.optimize()})})}},{key:"cells",value:function(f){return this.rows().map(function(g){return g.children.at(f)})}},{key:"deleteColumn",value:function(f){var g=this;[gt,tt].forEach(function(V){var ht=g.descendants(V),At=I(ht,1),Ht=At[0];!(0,_.Z)(Ht)||!(0,_.Z)(Ht.children.head)||Ht.children.forEach(function(Ft){var Yt=Ft.children.at(f);(0,_.Z)(Yt)&&Yt.remove()})})}},{key:"insertColumn",value:function(f){var g=this;[gt,tt].forEach(function(V){var ht=g.descendants(V),At=I(ht,1),Ht=At[0];if(!(!(0,_.Z)(Ht)||!(0,_.Z)(Ht.children.head))){var Ft=V===gt?Q:J,Yt=V===gt?w:H;Ht.children.forEach(function(qt){var Jt=qt.children.at(f),bt=Yt.formats(qt.children.head.children.head.domNode),Pt=g.scroll.create(Ft.blotName,{row:bt.row}),It=g.scroll.create(Yt.blotName,{row:bt.row}),Bt=g.scroll.create(h.Z.blotName);It.appendChild(Bt),Pt.appendChild(It),qt.insertBefore(Pt,Jt)})}})}},{key:"insertRow",value:function(f){var g=this,V=this.descendants(tt),ht=I(V,1),At=ht[0];if(!(!(0,_.Z)(At)||!(0,_.Z)(At.children.head))){var Ht=it(),Ft=this.scroll.create(mt.blotName,{row:Ht});At.children.head.children.forEach(function(){var qt=g.scroll.create(J.blotName,{row:Ht}),Jt=g.scroll.create(H.blotName,{row:Ht}),bt=g.scroll.create(h.Z.blotName);Jt.appendChild(bt),qt.appendChild(Jt),Ft.appendChild(qt)});var Yt=At.children.at(f);At.insertBefore(Ft,Yt)}}},{key:"insertHeaderRow",value:function(){var f=this,g=this.descendants(gt),V=I(g,1),ht=V[0],At=this.descendants(tt),Ht=I(At,1),Ft=Ht[0];if(!((0,_.Z)(ht)||!(0,_.Z)(Ft)||!(0,_.Z)(Ft.children.head))){var Yt=it(),qt=this.scroll.create(gt.blotName),Jt=this.scroll.create(wt.blotName),bt=this.children.at(0);qt.appendChild(Jt),Ft.children.head.children.forEach(function(){var Pt=f.scroll.create(Q.blotName,{row:Yt}),It=f.scroll.create(w.blotName,{row:Yt}),Bt=f.scroll.create(h.Z.blotName);It.appendChild(Bt),Pt.appendChild(It),Jt.appendChild(Pt),Pt.optimize()}),this.insertBefore(qt,bt)}}},{key:"rows",value:function(){var f=this.children.head;return(0,_.Z)(f)?f.children.map(function(g){return g}):[]}},{key:"formats",value:function(){var f={},g=this.cells()[0].domNode.firstElementChild;return Object.keys(M.li).forEach(function(V){var ht=g==null?void 0:g.dataset[V.toLowerCase()];ht&&(f[V]=ht)}),f}},{key:"format",value:function(f,g){var V=M.li[f];if(V){var ht="data-".concat(f.toLowerCase());this.cells().forEach(function(At){(0,P.Z)(At.children.head.domNode,ht,g)}),V.add(this.domNode,g)}}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return f&&Object.keys(f).forEach(function(V){var ht;(ht=M.li[V])===null||ht===void 0||ht.add(g,f[V])}),g}}]),o}(v.Z);at.blotName="tableContainer",at.tagName="TABLE",at.allowedChildren=[gt,tt],tt.requiredContainer=at,gt.requiredContainer=at,tt.allowedChildren=[mt],mt.requiredContainer=tt,mt.allowedChildren=[J],J.requiredContainer=mt,H.requiredContainer=J,J.allowedChildren=[H],gt.allowedChildren=[wt],wt.requiredContainer=gt,w.requiredContainer=Q,Q.allowedChildren=[w],wt.allowedChildren=[Q],Q.requiredContainer=wt;function it(){return"row-".concat((0,N.Z)())}function ft(){return"cell-".concat((0,N.Z)())}},2795:(p,C,t)=>{t.d(C,{Z:()=>y});function y(h,v,_){_?h.setAttribute(v,_):h.removeAttribute(v)}},5635:(p,C,t)=>{t.d(C,{HI:()=>gt,PF:()=>at,ZP:()=>tt,fw:()=>T});var y=t(9098),h=t.n(y),v=t(1233),_=t(6446),B=t(281),M=t(3122),N=t(7094),P=t(715),S=t(7898),I=t(7309),R=t(6039),D=t(4048),W=t(5832),A=t(1629),U=t(3071),$=t(2141);function k(bt,Pt){var It=Object.keys(bt);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(bt);Pt&&(Bt=Bt.filter(function(Nt){return Object.getOwnPropertyDescriptor(bt,Nt).enumerable})),It.push.apply(It,Bt)}return It}function m(bt){for(var Pt=1;Pt<arguments.length;Pt++){var It=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?k(Object(It),!0).forEach(function(Bt){a(bt,Bt,It[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(It)):k(Object(It)).forEach(function(Bt){Object.defineProperty(bt,Bt,Object.getOwnPropertyDescriptor(It,Bt))})}return bt}function E(bt){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pt){return typeof Pt}:function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},E(bt)}function a(bt,Pt,It){return Pt=pt(Pt),Pt in bt?Object.defineProperty(bt,Pt,{value:It,enumerable:!0,configurable:!0,writable:!0}):bt[Pt]=It,bt}function s(bt,Pt){return Z(bt)||j(bt,Pt)||O(bt,Pt)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(bt,Pt){if(bt){if(typeof bt=="string")return L(bt,Pt);var It=Object.prototype.toString.call(bt).slice(8,-1);if(It==="Object"&&bt.constructor&&(It=bt.constructor.name),It==="Map"||It==="Set")return Array.from(bt);if(It==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(It))return L(bt,Pt)}}function L(bt,Pt){(Pt==null||Pt>bt.length)&&(Pt=bt.length);for(var It=0,Bt=new Array(Pt);It<Pt;It++)Bt[It]=bt[It];return Bt}function j(bt,Pt){var It=bt==null?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(It!=null){var Bt,Nt,$t,Dt,Ut=[],Kt=!0,te=!1;try{if($t=(It=It.call(bt)).next,Pt===0){if(Object(It)!==It)return;Kt=!1}else for(;!(Kt=(Bt=$t.call(It)).done)&&(Ut.push(Bt.value),Ut.length!==Pt);Kt=!0);}catch(ae){te=!0,Nt=ae}finally{try{if(!Kt&&It.return!=null&&(Dt=It.return(),Object(Dt)!==Dt))return}finally{if(te)throw Nt}}return Ut}}function Z(bt){if(Array.isArray(bt))return bt}function et(bt,Pt){if(!(bt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function ut(bt,Pt){for(var It=0;It<Pt.length;It++){var Bt=Pt[It];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(bt,pt(Bt.key),Bt)}}function dt(bt,Pt,It){return Pt&&ut(bt.prototype,Pt),It&&ut(bt,It),Object.defineProperty(bt,"prototype",{writable:!1}),bt}function pt(bt){var Pt=lt(bt,"string");return E(Pt)==="symbol"?Pt:String(Pt)}function lt(bt,Pt){if(E(bt)!=="object"||bt===null)return bt;var It=bt[Symbol.toPrimitive];if(It!==void 0){var Bt=It.call(bt,Pt||"default");if(E(Bt)!=="object")return Bt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Pt==="string"?String:Number)(bt)}function _t(bt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),Object.defineProperty(bt,"prototype",{writable:!1}),Pt&&G(bt,Pt)}function G(bt,Pt){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Bt,Nt){return Bt.__proto__=Nt,Bt},G(bt,Pt)}function vt(bt){var Pt=H();return function(){var Bt=w(bt),Nt;if(Pt){var $t=w(this).constructor;Nt=Reflect.construct(Bt,arguments,$t)}else Nt=Bt.apply(this,arguments);return rt(this,Nt)}}function rt(bt,Pt){if(Pt&&(E(Pt)==="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(bt)}function st(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(bt){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(It){return It.__proto__||Object.getPrototypeOf(It)},w(bt)}var q=(0,M.Z)("quill:clipboard"),J=1,Q=3,ct=[[Q,Jt],[Q,Ft],["br",g],[J,Ft],[J,f],[J,i],[J,Yt],["li",At],["ol, ul",Ht],["pre",V],["b",o.bind(o,"bold")],["i",o.bind(o,"italic")],["strike",o.bind(o,"strike")],["style",ht]],mt=[Jt,Ft],wt=[P.if,D.IF].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),ot=[P.HE,S.w,R.HQ,D.H8,W.H,A.Z].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),tt=function(bt){_t(It,bt);var Pt=vt(It);function It(Bt,Nt){var $t,Dt;return et(this,It),Dt=Pt.call(this,Bt,Nt),Dt.quill.root.addEventListener("copy",function(Ut){return Dt.onCaptureCopy(Ut,!1)}),Dt.quill.root.addEventListener("cut",function(Ut){return Dt.onCaptureCopy(Ut,!0)}),Dt.quill.root.addEventListener("paste",Dt.onCapturePaste.bind(st(Dt))),Dt.matchers=[],Dt.tableBlots=($t=Nt.tableBlots)!==null&&$t!==void 0?$t:[],Dt.multilineParagraph=!1,ct.concat(Dt.options.matchers).forEach(function(Ut){var Kt=s(Ut,2),te=Kt[0],ae=Kt[1];Dt.addMatcher(te,ae)}),Dt}return dt(It,[{key:"addMatcher",value:function(Nt,$t){this.matchers.push([Nt,$t])}},{key:"addTableBlot",value:function(Nt){this.tableBlots.push(Nt)}},{key:"convert",value:function(Nt){var $t=Nt.html,Dt=Nt.text,Ut=Nt.keepLastNewLine,Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Kt[I.ZP.blotName]?new(h())().insert(Dt,a({},I.ZP.blotName,Kt[I.ZP.blotName])):$t?this.applyMatchers($t,Ut,Kt):this.applyTextMatchers(Dt)}},{key:"applyTextMatchers",value:function(){var Nt=this,$t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if($t.length===0)return new(h());var Dt=this.prepareTextMatching(),Ut=this.quill.root.ownerDocument.createElement("div");Ut.textContent=$t;var Kt=Ut.childNodes[0];return Dt.reduce(function(te,ae){return ae(Kt,te,Nt.quill.scroll)},new(h()))}},{key:"applyMatchers",value:function(Nt,$t){var Dt=this,Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Kt=new DOMParser().parseFromString(Nt,"text/html"),te=Kt.body,ae=new WeakMap,ue=this.prepareMatching(te,ae),pe=s(ue,2),Te=pe[0],yt=pe[1],Ct=T(this.quill.scroll,te,Te,yt,ae,this.multilineParagraph);return!$t&&at(Ct,`
`)&&(Ct.ops[Ct.ops.length-1].attributes==null||Object.values(Ut).some(function(Tt){return Dt.tableBlots.includes(Tt)}))?Ct.compose(new(h())().retain(Ct.length()-1).delete(1)):Ct}},{key:"dangerouslyPasteHTML",value:function(Nt,$t){var Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B.ZP.sources.API;if(typeof Nt=="string"){var Ut=this.convert({html:Nt,text:""});this.quill.setContents(Ut,$t),this.quill.setSelection(0,B.ZP.sources.SILENT)}else{var Kt=this.convert({html:$t,text:""});this.quill.updateContents(new(h())().retain(Nt).concat(Kt),Dt),this.quill.setSelection(Nt+Kt.length(),B.ZP.sources.SILENT)}}},{key:"onCaptureCopy",value:function(Nt){var $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Nt.defaultPrevented){if(Nt.clipboardData)Nt.preventDefault();else return;var Dt=this.quill.selection.getRange(),Ut=s(Dt,1),Kt=Ut[0];if(Kt!=null){var te=this.onCopy(Kt,$t),ae=te.html,ue=te.text;Nt.clipboardData.setData("text/plain",ue),Nt.clipboardData.setData("text/html",ae),$t&&(this.raiseCallback("onCut",Nt),(0,U.WQ)({range:Kt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(Nt){if(!(Nt.defaultPrevented||!this.quill.isEnabled())){if(this.raiseCallback("onPaste",Nt),Nt.clipboardData)Nt.preventDefault();else return;var $t=this.quill.getSelection(!0);if($t!=null){var Dt=Nt.clipboardData.getData("text/html"),Ut=Array.from(Nt.clipboardData.files||[]);if(!Dt&&Ut.length>0){this.quill.uploader.upload($t,Ut);return}if(Dt&&Ut.length>0){var Kt=new DOMParser().parseFromString(Dt,"text/html"),te=Kt.body,ae=te.childElementCount===1&&te.firstElementChild.tagName==="IMG";if(ae){this.quill.uploader.upload($t,Ut);return}}var ue=Nt.clipboardData.getData("text/plain");this.onPaste($t,{html:Dt,text:ue,keepLastNewLine:!0})}}}},{key:"raiseCallback",value:function(Nt,$t){var Dt=this.options[Nt];Dt&&typeof Dt=="function"&&Dt($t)}},{key:"onCopy",value:function(Nt){var $t=Nt.index,Dt=Nt.length,Ut=this.quill.getText($t,Dt),Kt=this.quill.getSemanticHTML($t,Dt);return{html:Kt,text:Ut}}},{key:"onPaste",value:function(Nt,$t){var Dt=$t.text,Ut=$t.html,Kt=$t.keepLastNewLine,te=this.quill.getFormat(Nt.index),ae=this.convert({text:Dt,html:Ut,keepLastNewLine:Kt},te);q.log("onPaste",ae,{text:Dt,html:Ut});var ue=new(h())().retain(Nt.index).delete(Nt.length).concat(ae);this.quill.updateContents(ue,B.ZP.sources.USER),this.quill.setSelection(ue.length()-Nt.length,B.ZP.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(Nt,$t){var Dt=[],Ut=[];return this.matchers.forEach(function(Kt){var te=s(Kt,2),ae=te[0],ue=te[1];switch(ae){case Q:Ut.push(ue);break;case J:Dt.push(ue);break;default:Array.from(Nt.querySelectorAll(ae)).forEach(function(pe){if($t.has(pe)){var Te=$t.get(pe);Te.push(ue)}else $t.set(pe,[ue])});break}}),[Dt,Ut]}},{key:"prepareTextMatching",value:function(){var Nt=[qt];return this.matchers.forEach(function($t){var Dt=s($t,2),Ut=Dt[0],Kt=Dt[1];mt.indexOf(Kt)===-1&&Ut===Q&&Nt.push(Kt)}),Nt}}]),It}(N.Z);tt.DEFAULTS={matchers:[]};function gt(bt,Pt,It){return E(Pt)==="object"?Object.keys(Pt).reduce(function(Bt,Nt){return gt(Bt,Nt,Pt[Nt])},bt):bt.reduce(function(Bt,Nt){if(Nt.attributes&&Nt.attributes[Pt])return Bt.push(Nt);var $t=It?a({},Pt,It):{};return Bt.insert(Nt.insert,m(m({},$t),Nt.attributes))},new(h()))}function at(bt,Pt){for(var It="",Bt=bt.ops.length-1;Bt>=0&&It.length<Pt.length;--Bt){var Nt=bt.ops[Bt];if(typeof Nt.insert!="string")break;It=Nt.insert+It}return It.slice(-1*Pt.length)===Pt}function it(bt){return bt.childNodes.length===0?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(bt.tagName.toLowerCase())!==-1}var ft=new WeakMap;function Y(bt){return bt==null?!1:(ft.has(bt)||(bt.tagName==="PRE"?ft.set(bt,!0):ft.set(bt,Y(bt.parentNode))),ft.get(bt))}function T(bt,Pt,It,Bt,Nt,$t){return Pt.nodeType===Pt.TEXT_NODE?Bt.reduce(function(Dt,Ut){return Ut(Pt,Dt,bt)},new(h())):Pt.nodeType===Pt.ELEMENT_NODE?Array.from(Pt.childNodes||[]).reduce(function(Dt,Ut,Kt,te){var ae=T(bt,Ut,It,Bt,Nt,$t),ue=Kt<te.length-1&&te[Kt+1],pe=ue&&ue.nodeType===Pt.ELEMENT_NODE&&["ul","ol"].indexOf(ue.tagName.toLowerCase())>-1;Ut.nodeType===Pt.ELEMENT_NODE&&($t=Ut.tagName.toLowerCase()==="br",ae=It.reduce(function(yt,Ct){return Ct(Ut,yt,bt)},ae),ae=(Nt.get(Ut)||[]).reduce(function(yt,Ct){return Ct(Ut,yt,bt)},ae));var Te=Dt.concat(ae);return $t&&pe&&Te.insert(`
`),Te},new(h())):new(h())}function o(bt,Pt,It){return gt(It,bt,!0)}function i(bt,Pt,It){if(["TD","TH","TR","TABLE"].indexOf(bt.tagName)===-1){var Bt=v.Attributor.keys(bt),Nt=v.ClassAttributor.keys(bt),$t=v.StyleAttributor.keys(bt),Dt={};if(Bt.concat(Nt).concat($t).forEach(function(Ut){var Kt=It.query(Ut,v.Scope.ATTRIBUTE);Kt!=null&&(Dt[Kt.attrName]=Kt.value(bt),Dt[Kt.attrName])||(Kt=wt[Ut],Kt!=null&&(Kt.attrName===Ut||Kt.keyName===Ut)&&(Dt[Kt.attrName]=Kt.value(bt)||void 0),Kt=ot[Ut],Kt!=null&&(Kt.attrName===Ut||Kt.keyName===Ut)&&(Kt=ot[Ut],Dt[Kt.attrName]=Kt.value(bt)||void 0))}),Object.keys(Dt).length>0)return gt(Pt,Dt)}return Pt}function f(bt,Pt,It){var Bt=It.query(bt);if(Bt==null)return Pt;if(Bt.prototype instanceof v.EmbedBlot){var Nt={},$t=Bt.value(bt);if($t!=null)return Nt[Bt.blotName]=$t,new(h())().insert(Nt,Bt.formats(bt,It))}else if(Bt.prototype instanceof v.BlockBlot&&!at(Pt,`
`)&&Pt.insert(`
`),typeof Bt.formats=="function")return gt(Pt,Bt.blotName,Bt.formats(bt,It));return Pt}function g(bt,Pt){return at(Pt,`
`)||Pt.insert(`
`),Pt}function V(bt,Pt,It){var Bt=It.query("code-block"),Nt=Bt?Bt.formats(bt,It):!0;return gt(Pt,"code-block",Nt)}function ht(){return new(h())}function At(bt,Pt,It){var Bt=It.query(bt);if(Bt==null||Bt.blotName!=="list"||!at(Pt,`
`))return Pt;for(var Nt=-1,$t=bt.parentNode;$t!=null;)["OL","UL"].indexOf($t.tagName)!==-1&&(Nt+=1),$t=$t.parentNode;return Nt<=0?Pt:Pt.reduce(function(Dt,Ut){return Ut.attributes&&typeof Ut.attributes.indent=="number"?Dt.push(Ut):Dt.insert(Ut.insert,m({indent:Nt},Ut.attributes||{}))},new(h()))}function Ht(bt,Pt){var It=bt.tagName==="OL"?"ordered":"bullet";return gt(Pt,"list",It)}function Ft(bt,Pt,It){if(!at(Pt,`
`)){if(it(bt))return Pt.insert(`
`);if(Pt.length()>0&&bt.nextSibling)for(var Bt=bt.nextSibling;Bt!=null;){if(it(Bt))return Pt.insert(`
`);var Nt=It.query(Bt);if((Nt==null?void 0:Nt.prototype)instanceof _.i2)return Pt.insert(`
`);Bt=Bt.firstChild}}return Pt}function Yt(bt,Pt){var It={},Bt=bt.style||{};return["height","width"].forEach(function(Nt){var $t=["TD","TH"].indexOf(bt.tagName)!==-1,Dt=bt.tagName==="TABLE";if(($t||Dt)&&Bt[Nt]){var Ut="".concat(Dt?"table":"cell").concat((0,$.Z)(Nt));It[Ut]=Bt[Nt]}}),Bt.fontStyle==="italic"&&(It.italic=!0),Bt.textDecoration.indexOf("underline")!==-1&&(It.underline=!0),Bt.textDecoration.indexOf("line-through")!==-1&&(It.strike=!0),(Bt.fontWeight.indexOf("bold")===0||parseInt(Bt.fontWeight,10)>=700)&&(It.bold=!0),Object.keys(It).length>0&&(Pt=gt(Pt,It)),parseFloat(Bt.textIndent||0)>0?new(h())().insert("	").concat(Pt):Pt}function qt(bt,Pt){var It=bt.data||"";return It=It.replace(/\r\n/g,`
`),Pt.insert(It)}function Jt(bt,Pt){var It=bt.data;if(bt.parentNode.tagName==="O:P")return Pt.insert(It.trim());if(It.trim().length===0&&It.indexOf(`
`)!==-1)return Pt;if(!Y(bt)){var Bt=function($t,Dt){var Ut=Dt.replace(/[^\u00a0]/g,"");return Ut.length<1&&$t?" ":Ut};It=It.replace(/\r\n/g," ").replace(/\n/g," "),It=It.replace(/\s\s+/g,Bt.bind(Bt,!0)),(bt.previousSibling==null&&it(bt.parentNode)||bt.previousSibling!=null&&it(bt.previousSibling))&&(It=It.replace(/^\s+/,Bt.bind(Bt,!1))),(bt.nextSibling==null&&it(bt.parentNode)||bt.nextSibling!=null&&it(bt.nextSibling))&&(It=It.replace(/\s+$/,Bt.bind(Bt,!1)))}return Pt.insert(It)}},2613:(p,C,t)=>{t.d(C,{Z:()=>m});var y=t(1233),h=t(281),v=t(7094),_=t(8034);function B(c){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},B(c)}function M(c,O){if(!(c instanceof O))throw new TypeError("Cannot call a class as a function")}function N(c,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,S(j.key),j)}}function P(c,O,L){return O&&N(c.prototype,O),L&&N(c,L),Object.defineProperty(c,"prototype",{writable:!1}),c}function S(c){var O=I(c,"string");return B(O)==="symbol"?O:String(O)}function I(c,O){if(B(c)!=="object"||c===null)return c;var L=c[Symbol.toPrimitive];if(L!==void 0){var j=L.call(c,O||"default");if(B(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(c)}function R(c,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(O&&O.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),O&&D(c,O)}function D(c,O){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,Z){return j.__proto__=Z,j},D(c,O)}function W(c){var O=$();return function(){var j=k(c),Z;if(O){var et=k(this).constructor;Z=Reflect.construct(j,arguments,et)}else Z=j.apply(this,arguments);return A(this,Z)}}function A(c,O){if(O&&(B(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(c)}function U(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(c){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},k(c)}var m=function(c){R(L,c);var O=W(L);function L(j,Z){var et;return M(this,L),et=O.call(this,j,Z),et.lastRecorded=0,et.ignoreChange=!1,et.clear(),et.quill.on(h.ZP.events.EDITOR_CHANGE,function(ut,dt,pt,lt){ut!==h.ZP.events.TEXT_CHANGE||et.ignoreChange||(!et.options.userOnly||lt===h.ZP.sources.USER?et.record(dt,pt):et.transform(dt))}),et.quill.keyboard.addBinding({key:"z",shortKey:!0},et.undo.bind(U(et))),et.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},et.redo.bind(U(et))),(0,_.Z)()&&/Win/i.test(navigator.platform)&&et.quill.keyboard.addBinding({key:"y",shortKey:!0},et.redo.bind(U(et))),et.quill.root.addEventListener("beforeinput",function(ut){ut.inputType==="historyUndo"?(et.undo(),ut.preventDefault()):ut.inputType==="historyRedo"&&(et.redo(),ut.preventDefault())}),et}return P(L,[{key:"change",value:function(Z,et){if(this.stack[Z].length!==0){var ut=this.stack[Z].pop(),dt=this.quill.getContents(),pt=ut.invert(dt);this.stack[et].push(pt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ut,h.ZP.sources.USER),this.ignoreChange=!1;var lt=s(this.quill.scroll,ut);this.quill.setSelection(lt)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(Z,et){if(Z.ops.length!==0){this.stack.redo=[];var ut=Z.invert(et),dt=Date.now();if(this.lastRecorded+this.options.delay>dt&&this.stack.undo.length>0){var pt=this.stack.undo.pop();ut=ut.compose(pt)}else this.lastRecorded=dt;ut.length()!==0&&(this.stack.undo.push(ut),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(Z){E(this.stack.undo,Z),E(this.stack.redo,Z)}},{key:"undo",value:function(){this.change("undo","redo")}}]),L}(v.Z);m.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(c,O){for(var L=O,j=c.length-1;j>=0;j-=1){var Z=c[j];c[j]=L.transform(Z,!0),L=Z.transform(L),c[j].length()===0&&c.splice(j,1)}}function a(c,O){var L=O.ops[O.ops.length-1];return L==null?!1:L.insert!=null?typeof L.insert=="string"&&L.insert.endsWith(`
`):L.attributes!=null?Object.keys(L.attributes).some(function(j){return c.query(j,y.Scope.BLOCK)!=null}):!1}function s(c,O){var L=O.reduce(function(Z,et){return Z+(et.delete||0)},0),j=O.length()-L;return a(c,O)&&(j-=1),j}},3071:(p,C,t)=>{t.d(C,{ZP:()=>q,WQ:()=>wt});var y=t(8805),h=t.n(y),v=t(2722),_=t.n(v),B=t(9098),M=t.n(B),N=t(1233),P=t(281),S=t(3122),I=t(7094),R=t(8034);function D(ot){var tt=window,gt=tt.innerHeight,at=ot.getBoundingClientRect(),it=at.y,ft=at.bottom;return it<0?!0:ft>=gt?!1:null}function W(ot){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},W(ot)}function A(ot,tt){return E(ot)||m(ot,tt)||$(ot,tt)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(ot,tt){if(ot){if(typeof ot=="string")return k(ot,tt);var gt=Object.prototype.toString.call(ot).slice(8,-1);if(gt==="Object"&&ot.constructor&&(gt=ot.constructor.name),gt==="Map"||gt==="Set")return Array.from(ot);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return k(ot,tt)}}function k(ot,tt){(tt==null||tt>ot.length)&&(tt=ot.length);for(var gt=0,at=new Array(tt);gt<tt;gt++)at[gt]=ot[gt];return at}function m(ot,tt){var gt=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(gt!=null){var at,it,ft,Y,T=[],o=!0,i=!1;try{if(ft=(gt=gt.call(ot)).next,tt===0){if(Object(gt)!==gt)return;o=!1}else for(;!(o=(at=ft.call(gt)).done)&&(T.push(at.value),T.length!==tt);o=!0);}catch(f){i=!0,it=f}finally{try{if(!o&&gt.return!=null&&(Y=gt.return(),Object(Y)!==Y))return}finally{if(i)throw it}}return T}}function E(ot){if(Array.isArray(ot))return ot}function a(ot,tt){var gt=Object.keys(ot);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(ot);tt&&(at=at.filter(function(it){return Object.getOwnPropertyDescriptor(ot,it).enumerable})),gt.push.apply(gt,at)}return gt}function s(ot){for(var tt=1;tt<arguments.length;tt++){var gt=arguments[tt]!=null?arguments[tt]:{};tt%2?a(Object(gt),!0).forEach(function(at){c(ot,at,gt[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(gt)):a(Object(gt)).forEach(function(at){Object.defineProperty(ot,at,Object.getOwnPropertyDescriptor(gt,at))})}return ot}function c(ot,tt,gt){return tt=Z(tt),tt in ot?Object.defineProperty(ot,tt,{value:gt,enumerable:!0,configurable:!0,writable:!0}):ot[tt]=gt,ot}function O(ot,tt){if(!(ot instanceof tt))throw new TypeError("Cannot call a class as a function")}function L(ot,tt){for(var gt=0;gt<tt.length;gt++){var at=tt[gt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(ot,Z(at.key),at)}}function j(ot,tt,gt){return tt&&L(ot.prototype,tt),gt&&L(ot,gt),Object.defineProperty(ot,"prototype",{writable:!1}),ot}function Z(ot){var tt=et(ot,"string");return W(tt)==="symbol"?tt:String(tt)}function et(ot,tt){if(W(ot)!=="object"||ot===null)return ot;var gt=ot[Symbol.toPrimitive];if(gt!==void 0){var at=gt.call(ot,tt||"default");if(W(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(ot)}function ut(ot,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(tt&&tt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),tt&&dt(ot,tt)}function dt(ot,tt){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,it){return at.__proto__=it,at},dt(ot,tt)}function pt(ot){var tt=G();return function(){var at=vt(ot),it;if(tt){var ft=vt(this).constructor;it=Reflect.construct(at,arguments,ft)}else it=at.apply(this,arguments);return lt(this,it)}}function lt(ot,tt){if(tt&&(W(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(ot)}function _t(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(ot){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)},vt(ot)}var rt=(0,S.Z)("quill:keyboard"),st={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},H={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},w=(0,R.Z)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(ot){ut(gt,ot);var tt=pt(gt);function gt(at,it){var ft;return O(this,gt),ft=tt.call(this,at,it),ft.bindings={},Object.keys(ft.options.bindings).forEach(function(Y){ft.options.bindings[Y]&&ft.addBinding(ft.options.bindings[Y])}),ft.addInternalBindings(),ft.listen(),ft}return j(gt,[{key:"addInternalBindings",value:function(){var it=this;this.quill.once(P.ZP.events.CONTENT_SETTED,function(){it.addBinding({key:"enter",shiftKey:null},it.handleEnter),it.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),(0,R.Z)()&&/Firefox/i.test(navigator.userAgent)?(it.addBinding({key:"backspace"},{collapsed:!0},it.handleBackspace),it.addBinding({key:"del"},{collapsed:!0},it.handleDelete)):(it.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},it.handleBackspace),it.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},it.handleDelete)),it.addBinding({key:"backspace"},{collapsed:!1},it.handleDeleteRange),it.addBinding({key:"del"},{collapsed:!1},it.handleDeleteRange),it.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},it.handleBackspace)})}},{key:"addBinding",value:function(it){var ft=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=mt(it);if(o==null){rt.warn("Attempted to add invalid keyboard binding",o);return}typeof Y=="function"&&(Y={handler:Y}),typeof T=="function"&&(T={handler:T});var i=o.which?"which":"key",f=Array.isArray(o[i])?o[i]:[o[i]];f.forEach(function(g){var V=s(s(s({},o),{},{key:g},Y),T);ft.bindings[V.key]=ft.bindings[V.key]||[],ft.bindings[V.key].push(V)})}},{key:"listen",value:function(){var it=this;this.quill.root.addEventListener("keydown",function(ft){if(!(ft.defaultPrevented||ft.isComposing)){it.raiseOnKeydownCallback(ft);var Y=gt.normalizeKeyName(ft),T=(it.bindings[Y]||[]).concat(it.bindings[ft.which]||[]),o=T.filter(function(Dt){return gt.match(ft,Dt)});if(o.length!==0){var i=it.quill.getSelection();if(!(i==null||!it.quill.hasFocus())){var f=it.quill.getLine(i.index),g=A(f,2),V=g[0],ht=g[1],At=it.quill.getLeaf(i.index),Ht=A(At,2),Ft=Ht[0],Yt=Ht[1],qt=i.length===0?[Ft,Yt]:it.quill.getLeaf(i.index+i.length),Jt=A(qt,2),bt=Jt[0],Pt=Jt[1],It=Ft instanceof N.TextBlot?Ft.value().slice(0,Yt):"",Bt=bt instanceof N.TextBlot?bt.value().slice(Pt):"",Nt={collapsed:i.length===0,empty:i.length===0&&V.length()<=1,format:it.quill.getFormat(i),line:V,offset:ht,prefix:It,suffix:Bt,event:ft},$t=!1;o.some(function(Dt){if(Dt.collapsed!=null&&Dt.collapsed!==Nt.collapsed||Dt.empty!=null&&Dt.empty!==Nt.empty||Dt.offset!=null&&Dt.offset!==Nt.offset)return!1;if(Array.isArray(Dt.format)){if(Dt.format.every(function(te){return Nt.format[te]==null}))return!1}else if(W(Dt.format)==="object"&&!Object.keys(Dt.format).every(function(te){return Dt.format[te]===!0?Nt.format[te]!=null:Dt.format[te]===!1?Nt.format[te]==null:_()(Dt.format[te],Nt.format[te])}))return!1;if(Dt.prefix!=null&&!Dt.prefix.test(Nt.prefix)||Dt.suffix!=null&&!Dt.suffix.test(Nt.suffix))return!1;var Ut=Dt.handler.call(it,i,Nt,Dt),Kt=Ut==null?void 0:Ut.preventAfterAllMatches;return $t=Ut!==!0||Kt,$t&&!Kt}),$t&&ft.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(it){var ft=this.options.onKeydown;ft&&typeof ft=="function"&&ft(it)}},{key:"handleBackspace",value:function(it,ft){var Y=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ft.prefix)?2:1;if(!(it.index===0||this.quill.getLength()<=1)){var T={},o=this.quill.getLine(it.index),i=A(o,1),f=i[0],g=new(M())().retain(it.index-Y).delete(Y);if(ft.offset===0){var V=this.quill.getLine(it.index-1),ht=A(V,1),At=ht[0];if(At){var Ht=At.statics.blotName==="block"&&At.length()<=1,Ft=At.statics.blotName.startsWith("table"),Yt=f.statics.blotName==="block"&&f.length()<=1;if(Ft&&(Yt&&f.remove(),this.quill.setSelection(it.index-1)),!Ht&&!Ft){var qt=f.formats(),Jt=this.quill.getFormat(it.index-1,1);if(T=B.AttributeMap.diff(qt,Jt)||{},Object.keys(T).length>0){var bt=new(M())().retain(it.index+f.length()-2).retain(1,T);g=g.compose(bt)}}}}this.quill.updateContents(g,P.ZP.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(it,ft){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ft.suffix)?2:1;if(!(it.index>=this.quill.getLength()-Y)){var T={},o=this.quill.getLine(it.index),i=A(o,1),f=i[0],g=new(M())().retain(it.index).delete(Y);if(ft.offset>=f.length()-1){var V=this.quill.getLine(it.index+1),ht=A(V,1),At=ht[0];if(At){var Ht=f.formats(),Ft=this.quill.getFormat(it.index,1);T=B.AttributeMap.diff(Ht,Ft)||{},Object.keys(T).length>0&&(g=g.retain(At.length()-1).retain(1,T))}}this.quill.updateContents(g,P.ZP.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(it,ft){this.raiseOnKeydownCallback(ft.event),wt({range:it,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(it,ft){var Y=this,T=Object.keys(ft.format).reduce(function(ht,At){return Y.quill.scroll.query(At,N.Scope.BLOCK)&&!Array.isArray(ft.format[At])&&(ht[At]=ft.format[At]),ht},{}),o=new(M())().retain(it.index).delete(it.length).insert(`
`,T);this.quill.updateContents(o,P.ZP.sources.USER),this.quill.setSelection(it.index+1,P.ZP.sources.SILENT),this.quill.focus();var i=this.quill.getLine(it.index+1),f=A(i,1),g=f[0],V=D(g.domNode);V!==null&&g.domNode.scrollIntoView(V),Object.keys(ft.format).forEach(function(ht){T[ht]==null&&(Array.isArray(ft.format[ht])||ht==="code"||ht==="link"||(Y.raiseOnKeydownCallback(ft.event),Y.quill.format(ht,ft.format[ht],P.ZP.sources.USER)))})}}],[{key:"match",value:function(it,ft){return["altKey","ctrlKey","metaKey","shiftKey"].some(function(Y){return!!ft[Y]!==it[Y]&&ft[Y]!==null})?!1:ft.key===gt.normalizeKeyName(it)||ft.key===it.which}},{key:"normalizeKeyName",value:function(it){var ft=it.key,Y=it.which,T=!!ft,o=T?ft:Y;return o&&(T?o=st[o.toLowerCase()]||o:o=H[o]||String.fromCharCode(o)),o}}]),gt}(I.Z);q.DEFAULTS={bindings:{bold:ct("bold",66),italic:ct("italic",73),underline:ct("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(tt,gt){return gt.collapsed&&gt.offset!==0?!0:(this.quill.format("indent","+1",P.ZP.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(tt,gt){return gt.collapsed&&gt.offset!==0?!0:(this.quill.format("indent","-1",P.ZP.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(tt,gt){gt.format.indent!=null?this.quill.format("indent","-1",P.ZP.sources.USER):gt.format.list!=null&&this.quill.format("list",!1,P.ZP.sources.USER)}},"indent code-block":J(!0),"outdent code-block":J(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(tt){this.quill.deleteText(tt.index-1,1,P.ZP.sources.USER)}},tab:{key:"tab",handler:function(tt,gt){var at=gt.format,it=at.tableCellLine||at.tableHeaderCellLine||at.tableHeaderCell||at.table;if(it)return!0;this.quill.history.cutoff();var ft=new(M())().retain(tt.index).delete(tt.length).insert("	");return this.quill.updateContents(ft,P.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(tt.index+1,P.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,P.ZP.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(tt,gt){var at={list:!1};gt.format.indent&&(at.indent=!1),this.quill.formatLine(tt.index,tt.length,at,P.ZP.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(tt){var gt=this.quill.getLine(tt.index),at=A(gt,2),it=at[0],ft=at[1],Y=s(s({},it.formats()),{},{list:"checked"}),T=new(M())().retain(tt.index).insert(`
`,Y).retain(it.length()-ft-1).retain(1,{list:"unchecked"});this.quill.updateContents(T,P.ZP.sources.USER),this.quill.setSelection(tt.index+1,P.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(tt,gt){var at=this.quill.getLine(tt.index),it=A(at,2),ft=it[0],Y=it[1],T=new(M())().retain(tt.index).insert(`
`,gt.format).retain(ft.length()-Y-1).retain(1,{header:null});this.quill.updateContents(T,P.ZP.sources.USER),this.quill.setSelection(tt.index+1,P.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(tt,gt){if(this.quill.scroll.query("list")==null)return!0;var at=gt.prefix.length,it=this.quill.getLine(tt.index),ft=A(it,2),Y=ft[0],T=ft[1];if(T>at)return!0;var o;switch(gt.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(tt.index," ",P.ZP.sources.USER),this.quill.history.cutoff();var i=new(M())().retain(tt.index-T).delete(at+1).retain(Y.length()-2-T).retain(1,{list:o});return this.raiseOnKeydownCallback(gt.event),this.quill.updateContents(i,P.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(tt.index-at,P.ZP.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(tt){for(var gt=this.quill.getLine(tt.index),at=A(gt,2),it=at[0],ft=at[1],Y=2,T=it;T!=null&&T.length()<=1&&T.formats()["code-block"];)if(T=T.prev,Y-=1,Y<=0){var o=new(M())().retain(tt.index+it.length()-ft-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,P.ZP.sources.USER),this.quill.setSelection(tt.index-1,P.ZP.sources.SILENT),!1}return!0}},"embed left":Q("leftArrow",!1),"embed left shift":Q("leftArrow",!0),"embed right":Q("rightArrow",!1),"embed right shift":Q("rightArrow",!0)}};function J(ot){return{key:"tab",shiftKey:!ot,format:{"code-block":!0},handler:function(gt){var at=this.quill.scroll.query("code-block"),it=gt.length===0?this.quill.getLines(gt.index,1):this.quill.getLines(gt),ft=gt.index,Y=gt.length;it.forEach(function(T,o){ot?(T.insertAt(0,at.TAB),o===0?ft+=at.TAB.length:Y+=at.TAB.length):T.domNode.textContent.indexOf(at.TAB)===0&&(T.deleteAt(0,at.TAB.length),o===0?ft-=at.TAB.length:Y-=at.TAB.length)}),this.quill.update(P.ZP.sources.USER),this.quill.setSelection(ft,Y,P.ZP.sources.SILENT)}}}function Q(ot,tt){var gt=ot==="leftArrow"?"prefix":"suffix";return c(c({key:ot,shiftKey:tt,altKey:null},gt,/^$/),"handler",function(it){var ft=it.index;ot==="rightArrow"&&(ft+=it.length+1);var Y=this.quill.getLeaf(ft),T=A(Y,1),o=T[0];return o instanceof N.EmbedBlot?(ot==="leftArrow"?tt?this.quill.setSelection(it.index-1,it.length+1,P.ZP.sources.USER):this.quill.setSelection(it.index-1,P.ZP.sources.USER):tt?this.quill.setSelection(it.index,it.length+1,P.ZP.sources.USER):this.quill.setSelection(it.index+it.length+1,P.ZP.sources.USER),!1):!0})}function ct(ot,tt){return{key:ot[0],which:tt,shortKey:!0,handler:function(at,it){return this.quill.format(ot,!it.format[ot],P.ZP.sources.USER),{preventAfterAllMatches:!0}}}}function mt(ot){if(typeof ot=="string"||typeof ot=="number")ot={key:ot};else if(W(ot)==="object")ot=h()(ot);else return null;return ot.shortKey&&(ot[w]=ot.shortKey,delete ot.shortKey),ot}function wt(ot){var tt=ot.quill,gt=ot.range,at=tt.getLines(gt),it={};if(at.length>1){var ft=at[0].formats(),Y=at[at.length-1].formats();it=B.AttributeMap.diff(Y,ft)||{}}tt.deleteText(gt,P.ZP.sources.USER),Object.keys(it).length>0&&tt.formatLine(gt.index,1,it,P.ZP.sources.USER),tt.setSelection(gt.index,P.ZP.sources.SILENT)}},9072:(p,C,t)=>{t.d(C,{ZP:()=>J});var y=t(9098),h=t.n(y),v=t(1233),_=t(6603),B=t(281),M=t(7094),N=t(6446),P=t(4122),S=t(3657),I=t(8222),R=t(7309),D=t(5635),W=t(8034);function A(Q){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct},A(Q)}function U(Q,ct,mt){return ct=j(ct),ct in Q?Object.defineProperty(Q,ct,{value:mt,enumerable:!0,configurable:!0,writable:!0}):Q[ct]=mt,Q}function $(Q,ct){return s(Q)||a(Q,ct)||m(Q,ct)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(Q,ct){if(Q){if(typeof Q=="string")return E(Q,ct);var mt=Object.prototype.toString.call(Q).slice(8,-1);if(mt==="Object"&&Q.constructor&&(mt=Q.constructor.name),mt==="Map"||mt==="Set")return Array.from(Q);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return E(Q,ct)}}function E(Q,ct){(ct==null||ct>Q.length)&&(ct=Q.length);for(var mt=0,wt=new Array(ct);mt<ct;mt++)wt[mt]=Q[mt];return wt}function a(Q,ct){var mt=Q==null?null:typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(mt!=null){var wt,ot,tt,gt,at=[],it=!0,ft=!1;try{if(tt=(mt=mt.call(Q)).next,ct===0){if(Object(mt)!==mt)return;it=!1}else for(;!(it=(wt=tt.call(mt)).done)&&(at.push(wt.value),at.length!==ct);it=!0);}catch(Y){ft=!0,ot=Y}finally{try{if(!it&&mt.return!=null&&(gt=mt.return(),Object(gt)!==gt))return}finally{if(ft)throw ot}}return at}}function s(Q){if(Array.isArray(Q))return Q}function c(Q,ct){if(!(Q instanceof ct))throw new TypeError("Cannot call a class as a function")}function O(Q,ct){for(var mt=0;mt<ct.length;mt++){var wt=ct[mt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Q,j(wt.key),wt)}}function L(Q,ct,mt){return ct&&O(Q.prototype,ct),mt&&O(Q,mt),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function j(Q){var ct=Z(Q,"string");return A(ct)==="symbol"?ct:String(ct)}function Z(Q,ct){if(A(Q)!=="object"||Q===null)return Q;var mt=Q[Symbol.toPrimitive];if(mt!==void 0){var wt=mt.call(Q,ct||"default");if(A(wt)!=="object")return wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ct==="string"?String:Number)(Q)}function et(Q,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),ct&&ut(Q,ct)}function ut(Q,ct){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(wt,ot){return wt.__proto__=ot,wt},ut(Q,ct)}function dt(Q){var ct=_t();return function(){var wt=rt(Q),ot;if(ct){var tt=rt(this).constructor;ot=Reflect.construct(wt,arguments,tt)}else ot=wt.apply(this,arguments);return pt(this,ot)}}function pt(Q,ct){if(ct&&(A(ct)==="object"||typeof ct=="function"))return ct;if(ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(Q)}function lt(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(){return typeof Reflect<"u"&&Reflect.get?G=Reflect.get.bind():G=function(ct,mt,wt){var ot=vt(ct,mt);if(ot){var tt=Object.getOwnPropertyDescriptor(ot,mt);return tt.get?tt.get.call(arguments.length<3?ct:wt):tt.value}},G.apply(this,arguments)}function vt(Q,ct){for(;!Object.prototype.hasOwnProperty.call(Q,ct)&&(Q=rt(Q),Q!==null););return Q}function rt(Q){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(mt){return mt.__proto__||Object.getPrototypeOf(mt)},rt(Q)}var st=new v.ClassAttributor("code-token","hljs",{scope:v.Scope.INLINE}),H=function(Q){et(mt,Q);var ct=dt(mt);function mt(wt,ot,tt){var gt;return c(this,mt),gt=ct.call(this,wt,ot,tt),st.add(gt.domNode,tt),gt}return L(mt,[{key:"format",value:function(ot,tt){ot!==mt.blotName?G(rt(mt.prototype),"format",this).call(this,ot,tt):tt?st.add(this.domNode,tt):(st.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var ot,tt=arguments.length,gt=new Array(tt),at=0;at<tt;at++)gt[at]=arguments[at];(ot=G(rt(mt.prototype),"optimize",this)).call.apply(ot,[this].concat(gt)),st.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(ot,tt){for(;ot!=null&&ot!==tt.domNode;){if(ot.classList&&ot.classList.contains(R.ZP.className))return G(rt(mt),"formats",this).call(this,ot,tt);ot=ot.parentNode}}}]),mt}(_.Z);H.blotName="code-token",H.className="ql-token";var w=function(Q){et(mt,Q);var ct=dt(mt);function mt(){return c(this,mt),ct.apply(this,arguments)}return L(mt,[{key:"format",value:function(ot,tt){ot===this.statics.blotName&&tt?this.domNode.setAttribute("data-language",tt):G(rt(mt.prototype),"format",this).call(this,ot,tt)}},{key:"replaceWith",value:function(ot,tt){return this.formatAt(0,this.length(),H.blotName,!1),G(rt(mt.prototype),"replaceWith",this).call(this,ot,tt)}}],[{key:"create",value:function(ot){var tt=G(rt(mt),"create",this).call(this,ot);return typeof ot=="string"&&tt.setAttribute("data-language",ot),tt}},{key:"formats",value:function(ot){return ot.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),mt}(R.ZP),q=function(Q){et(mt,Q);var ct=dt(mt);function mt(){return c(this,mt),ct.apply(this,arguments)}return L(mt,[{key:"attach",value:function(){G(rt(mt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(ot,tt){ot===w.blotName&&(this.forceNext=!0,this.children.forEach(function(gt){gt.format(ot,tt)}))}},{key:"formatAt",value:function(ot,tt,gt,at){gt===w.blotName&&(this.forceNext=!0),G(rt(mt.prototype),"formatAt",this).call(this,ot,tt,gt,at)}},{key:"highlight",value:function(ot){var tt=this,gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head!=null){var at=Array.from(this.domNode.childNodes).filter(function(o){return o!==tt.uiNode}),it="".concat(at.map(function(o){return o.textContent}).join(`
`),`
`),ft=w.formats(this.children.head.domNode);if(gt||this.forceNext||this.cachedText!==it){if(it.trim().length>0||this.cachedText==null){var Y=this.children.reduce(function(o,i){return o.concat((0,N.qz)(i,!1))},new(h())),T=ot(it,ft);Y.diff(T).reduce(function(o,i){var f=i.retain,g=i.attributes;return f?(g&&Object.keys(g).forEach(function(V){[w.blotName,H.blotName].indexOf(V)!==-1&&tt.formatAt(o,f,V,g[V])}),o+f):o},0)}this.cachedText=it,this.forceNext=!1}}}},{key:"html",value:function(ot,tt){var gt=this.children.find(ot),at=$(gt,1),it=at[0],ft=it?w.formats(it.domNode):"plain";return'<pre data-language="'.concat(ft,`">
`).concat(this.code(ot,tt),`
</pre>`)}},{key:"optimize",value:function(ot){if(G(rt(mt.prototype),"optimize",this).call(this,ot),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){var tt=w.formats(this.children.head.domNode);tt!==this.uiNode.value&&(this.uiNode.value=tt)}}}]),mt}(R.se);q.allowedChildren=[w],w.requiredContainer=q,w.allowedChildren=[H,S.Z,I.Z,P.Z];var J=function(Q){et(mt,Q);var ct=dt(mt);function mt(wt,ot){var tt;if(c(this,mt),tt=ct.call(this,wt,ot),tt.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return tt.languages=tt.options.languages.reduce(function(gt,at){var it=at.key;return gt[it]=!0,gt},{}),tt.highlightBlot=tt.highlightBlot.bind(lt(tt)),tt.initListener(),tt.initTimer(),tt}return L(mt,[{key:"initListener",value:function(){var ot=this;this.quill.on(B.ZP.events.SCROLL_BLOT_MOUNT,function(tt){if(tt instanceof q){var gt=ot.quill.root.ownerDocument.createElement("select");ot.options.languages.forEach(function(at){var it=at.key,ft=at.label,Y=gt.ownerDocument.createElement("option");Y.textContent=ft,Y.setAttribute("value",it),gt.appendChild(Y)}),gt.addEventListener("change",function(){tt.format(w.blotName,gt.value),ot.quill.root.focus(),ot.highlight(tt,!0)}),tt.uiNode==null&&(tt.attachUI(gt),tt.children.head&&(gt.value=w.formats(tt.children.head.domNode)))}})}},{key:"initTimer",value:function(){var ot=this,tt=null;this.quill.on(B.ZP.events.SCROLL_OPTIMIZE,function(){clearTimeout(tt),tt=setTimeout(function(){ot.highlight(),tt=null},ot.options.interval)})}},{key:"highlight",value:function(){var ot=this,tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.quill.selection.composing){this.quill.update(B.ZP.sources.USER);var at=this.quill.getSelection(),it=tt==null?this.quill.scroll.descendants(q):[tt];it.forEach(function(ft){ft.highlight(ot.highlightBlot,gt)}),this.quill.update(B.ZP.sources.SILENT),at!=null&&this.quill.setSelection(at,B.ZP.sources.SILENT)}}},{key:"highlightBlot",value:function(ot){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(tt=this.languages[tt]?tt:"plain",tt==="plain")return(0,I.b)(ot).split(`
`).reduce(function(at,it,ft){return ft!==0&&at.insert(`
`,U({},R.ZP.blotName,tt)),at.insert(it)},new(h()));var gt=this.quill.root.ownerDocument.createElement("div");return gt.classList.add(R.ZP.className),gt.innerHTML=this.options.hljs.highlight(tt,ot).value,(0,D.fw)(this.quill.scroll,gt,[function(at,it){var ft=st.value(at);return ft?it.compose(new(h())().retain(it.length(),U({},H.blotName,ft))):it}],[function(at,it){return at.data.split(`
`).reduce(function(ft,Y,T){return T!==0&&ft.insert(`
`,U({},R.ZP.blotName,tt)),ft.insert(Y)},it)}],new WeakMap)}}],[{key:"register",value:function(){B.ZP.register(H,!0),B.ZP.register(w,!0),B.ZP.register(q,!0)}}]),mt}(M.Z);J.DEFAULTS={hljs:function(){return(0,W.Z)()?window.hljs:null}(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},867:(p,C,t)=>{t.d(C,{Z:()=>w});var y=t(9098),h=t.n(y),v=t(1233),_=t(281),B=t(7094),M=t(1969),N=t(5874),P=t(5635),S=t(9466),I=t(7896),R=t(319),D=t(1342),W=t(2480);function A(q){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},A(q)}function U(q,J,Q){return J=j(J),J in q?Object.defineProperty(q,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):q[J]=Q,q}function $(q,J){return s(q)||a(q,J)||m(q,J)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(q,J){if(q){if(typeof q=="string")return E(q,J);var Q=Object.prototype.toString.call(q).slice(8,-1);if(Q==="Object"&&q.constructor&&(Q=q.constructor.name),Q==="Map"||Q==="Set")return Array.from(q);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return E(q,J)}}function E(q,J){(J==null||J>q.length)&&(J=q.length);for(var Q=0,ct=new Array(J);Q<J;Q++)ct[Q]=q[Q];return ct}function a(q,J){var Q=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(Q!=null){var ct,mt,wt,ot,tt=[],gt=!0,at=!1;try{if(wt=(Q=Q.call(q)).next,J===0){if(Object(Q)!==Q)return;gt=!1}else for(;!(gt=(ct=wt.call(Q)).done)&&(tt.push(ct.value),tt.length!==J);gt=!0);}catch(it){at=!0,mt=it}finally{try{if(!gt&&Q.return!=null&&(ot=Q.return(),Object(ot)!==ot))return}finally{if(at)throw mt}}return tt}}function s(q){if(Array.isArray(q))return q}function c(q,J){if(!(q instanceof J))throw new TypeError("Cannot call a class as a function")}function O(q,J){for(var Q=0;Q<J.length;Q++){var ct=J[Q];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(q,j(ct.key),ct)}}function L(q,J,Q){return J&&O(q.prototype,J),Q&&O(q,Q),Object.defineProperty(q,"prototype",{writable:!1}),q}function j(q){var J=Z(q,"string");return A(J)==="symbol"?J:String(J)}function Z(q,J){if(A(q)!=="object"||q===null)return q;var Q=q[Symbol.toPrimitive];if(Q!==void 0){var ct=Q.call(q,J||"default");if(A(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(q)}function et(q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(J&&J.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),J&&ut(q,J)}function ut(q,J){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ct,mt){return ct.__proto__=mt,ct},ut(q,J)}function dt(q){var J=_t();return function(){var ct=G(q),mt;if(J){var wt=G(this).constructor;mt=Reflect.construct(ct,arguments,wt)}else mt=ct.apply(this,arguments);return pt(this,mt)}}function pt(q,J){if(J&&(A(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(q)}function lt(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(q){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},G(q)}var vt=[null,null,null,-1],rt=1,st=function(q){et(Q,q);var J=dt(Q);function Q(){var ct;c(this,Q);for(var mt=arguments.length,wt=new Array(mt),ot=0;ot<mt;ot++)wt[ot]=arguments[ot];return ct=J.call.apply(J,[this].concat(wt)),ct.tableBlots=[M.zW.blotName,M.iD.blotName],ct.tableBlots.forEach(function(tt){ct.quill.editor.addImmediateFormat(tt)}),ct.integrateClipboard(),ct.addKeyboardHandlers(),ct.listenBalanceCells(),ct}return L(Q,[{key:"integrateClipboard",value:function(){var mt=this;this.tableBlots.forEach(function(wt){mt.quill.clipboard.addTableBlot(wt)}),this.quill.clipboard.addMatcher("td, th",H),this.quill.clipboard.addMatcher("table",(0,I.F)(R.Zt)),this.quill.clipboard.addMatcher("td, th",(0,I.a)(D.h6))}},{key:"addKeyboardHandlers",value:function(){var mt=this,wt=Q.keyboardBindings;Object.keys(wt).forEach(function(ot){wt[ot]&&mt.quill.keyboard.addBinding(wt[ot])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(M.xJ).forEach(function(mt){mt.balanceCells()})}},{key:"deleteColumn",value:function(){var mt=this.getTable(),wt=$(mt,3),ot=wt[0],tt=wt[2];(0,N.Z)(tt)&&(ot.deleteColumn(tt.cellOffset()),this.quill.update(_.ZP.sources.USER))}},{key:"deleteRow",value:function(){var mt=this.getTable(),wt=$(mt,2),ot=wt[1];(0,N.Z)(ot)&&(ot.remove(),this.quill.update(_.ZP.sources.USER))}},{key:"deleteTable",value:function(){var mt=this.getTable(),wt=$(mt,1),ot=wt[0];if((0,N.Z)(ot)){var tt=ot.offset();ot.remove(),this.quill.update(_.ZP.sources.USER),this.quill.setSelection(tt,_.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,N.Z)(mt))return vt;var wt=this.quill.getLine(mt.index),ot=$(wt,2),tt=ot[0],gt=ot[1];if(!(0,N.Z)(tt)||this.tableBlots.indexOf(tt.statics.blotName)===-1)return vt;var at=tt.parent,it=at.parent,ft=it.parent.parent;return[ft,it,at,gt]}},{key:"insertColumn",value:function(mt){var wt=this.quill.getSelection(),ot=this.getTable(wt),tt=$(ot,3),gt=tt[0],at=tt[1],it=tt[2];if((0,N.Z)(it)){var ft=it.cellOffset();gt.insertColumn(ft+mt),this.quill.update(_.ZP.sources.USER);var Y=at.rowOffset();mt===0&&(Y+=1),this.quill.setSelection(wt.index+Y,wt.length,_.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(mt){var wt=this.quill.getSelection(),ot=this.getTable(wt),tt=$(ot,3),gt=tt[0],at=tt[1],it=tt[2];if((0,N.Z)(it)){var ft=at.rowOffset();gt.insertRow(ft+mt),this.quill.update(_.ZP.sources.USER),mt>0?this.quill.setSelection(wt,_.ZP.sources.SILENT):this.quill.setSelection(wt.index+at.children.length,wt.length,_.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var mt=this.quill.getSelection(),wt=this.getTable(mt),ot=$(wt,3),tt=ot[0],gt=ot[2];(0,N.Z)(gt)&&(tt.insertHeaderRow(),this.quill.update(_.ZP.sources.USER))}},{key:"insertTable",value:function(mt,wt){var ot=this.quill.getSelection();if((0,N.Z)(ot)){var tt=new Array(mt).fill(0).reduce(function(gt){var at=(0,M.Lv)();return new Array(wt).fill(`
`).forEach(function(it){gt.insert(it,{tableCellLine:{row:at,cell:(0,M.Lv)()}})}),gt},new(h())().retain(ot.index));this.quill.updateContents(tt,_.ZP.sources.USER),this.quill.setSelection(ot.index,_.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var mt=this;this.quill.on(_.ZP.events.SCROLL_OPTIMIZE,function(wt){wt.some(function(ot){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(ot.target.tagName)!==-1?(mt.quill.once(_.ZP.events.TEXT_CHANGE,function(tt,gt,at){at===_.ZP.sources.USER&&mt.balanceTables()}),!0):!1})}),this.quill.on(_.ZP.events.CONTENT_SETTED,function(){mt.quill.once(_.ZP.events.TEXT_CHANGE,function(){mt.balanceTables()})})}}],[{key:"register",value:function(){_.ZP.register(M.zW,!0),_.ZP.register(M.iD,!0),_.ZP.register(M.xs,!0),_.ZP.register(M.pj,!0),_.ZP.register(M.KA,!0),_.ZP.register(M.SC,!0),_.ZP.register(M.RM,!0),_.ZP.register(M.xD,!0),_.ZP.register(M.xJ,!0),[R.li,D.Du].forEach(function(mt){Object.keys(mt).forEach(function(wt){_.ZP.register(U({},"formats/".concat(wt),mt[wt]),!0)})})}}]),Q}(B.Z);st.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(J){var Q=this.quill.getLine(J.index),ct=$(Q,1),mt=ct[0];return!(!mt.prev||["tableCellLine","tableHeaderCellLine"].indexOf(mt.prev.statics.blotName)===-1)}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,Q){var ct,mt,wt=this,ot=this.quill.getModule("table");if(ot){var tt=this.quill,gt=ot.getTable(J),at=$(gt,1),it=at[0],ft=((ct=this.quill.selection)===null||ct===void 0?void 0:ct.lastNative.native.endContainer.nodeType)===rt;if(ft){var Y=it.offset();(0,W.Z)({quill:tt,index:Y,table:it});return}if(!((mt=this.quill.selection)!==null&&mt!==void 0&&mt.composing)){J.length>0&&this.quill.scroll.deleteAt(J.index,J.length);var T=Object.keys(Q.format).reduce(function(o,i){return wt.quill.scroll.query(i,v.Scope.BLOCK)&&!Array.isArray(Q.format[i])&&(o[i]=Q.format[i]),o},{});this.quill.insertText(J.index,`
`,T.tableCellLine,_.ZP.sources.USER),this.quill.setSelection(J.index+1,_.ZP.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(o){T[o]==null&&(Array.isArray(Q.format[o])||o!=="link"&&wt.quill.format(o,Q.format[o],_.ZP.sources.USER))})}}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,Q){var ct=Q.event,mt=Q.line,wt=mt.offset(this.quill.scroll);ct.shiftKey?this.quill.setSelection(wt-1,_.ZP.sources.USER):this.quill.setSelection(wt+mt.length(),_.ZP.sources.USER)}},"table down":(0,S.Z)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":(0,S.Z)(!0,["tableCellLine","tableHeaderCellLine"])};function H(q,J){var Q=q.parentNode,ct=Q.parentNode.tagName==="TABLE"?Q.parentNode:Q.parentNode.parentNode,mt=Q.parentNode.tagName==="THEAD"?!0:null,wt=Array.from(ct.querySelectorAll("tr")),ot=Array.from(Q.querySelectorAll("th,td")),tt=wt.indexOf(Q)+1,gt=ot.indexOf(q)+1,at=mt?"tableHeaderCellLine":"tableCellLine";return J.length()===0?(J=new(h())().insert(`
`,U({},at,{row:tt,cell:gt})),J):((0,P.PF)(J,`
`)||J.insert(`
`),(0,P.HI)(J,at,{row:tt,cell:gt}))}const w=st},6054:(p,C,t)=>{t.d(C,{Z:()=>Te});var y=t(9098),h=t.n(y),v=t(281),_=t(7094),B=t(6446),M=t(3553),N=t(5874),P=t(319),S=t(8536),I=t(2795);function R(yt){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ct){return typeof Ct}:function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct},R(yt)}function D(yt,Ct){return U(yt)||A(yt,Ct)||m(yt,Ct)||W()}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A(yt,Ct){var Tt=yt==null?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(Tt!=null){var Lt,Rt,xt,jt,Zt=[],Xt=!0,ee=!1;try{if(xt=(Tt=Tt.call(yt)).next,Ct===0){if(Object(Tt)!==Tt)return;Xt=!1}else for(;!(Xt=(Lt=xt.call(Tt)).done)&&(Zt.push(Lt.value),Zt.length!==Ct);Xt=!0);}catch(re){ee=!0,Rt=re}finally{try{if(!Xt&&Tt.return!=null&&(jt=Tt.return(),Object(jt)!==jt))return}finally{if(ee)throw Rt}}return Zt}}function U(yt){if(Array.isArray(yt))return yt}function $(yt){return a(yt)||E(yt)||m(yt)||k()}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(yt,Ct){if(yt){if(typeof yt=="string")return s(yt,Ct);var Tt=Object.prototype.toString.call(yt).slice(8,-1);if(Tt==="Object"&&yt.constructor&&(Tt=yt.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(yt);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return s(yt,Ct)}}function E(yt){if(typeof Symbol<"u"&&yt[Symbol.iterator]!=null||yt["@@iterator"]!=null)return Array.from(yt)}function a(yt){if(Array.isArray(yt))return s(yt)}function s(yt,Ct){(Ct==null||Ct>yt.length)&&(Ct=yt.length);for(var Tt=0,Lt=new Array(Ct);Tt<Ct;Tt++)Lt[Tt]=yt[Tt];return Lt}function c(yt,Ct){if(!(yt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function O(yt,Ct){for(var Tt=0;Tt<Ct.length;Tt++){var Lt=Ct[Tt];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(yt,j(Lt.key),Lt)}}function L(yt,Ct,Tt){return Ct&&O(yt.prototype,Ct),Tt&&O(yt,Tt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function j(yt){var Ct=Z(yt,"string");return R(Ct)==="symbol"?Ct:String(Ct)}function Z(yt,Ct){if(R(yt)!=="object"||yt===null)return yt;var Tt=yt[Symbol.toPrimitive];if(Tt!==void 0){var Lt=Tt.call(yt,Ct||"default");if(R(Lt)!=="object")return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ct==="string"?String:Number)(yt)}function et(){return typeof Reflect<"u"&&Reflect.get?et=Reflect.get.bind():et=function(Ct,Tt,Lt){var Rt=ut(Ct,Tt);if(Rt){var xt=Object.getOwnPropertyDescriptor(Rt,Tt);return xt.get?xt.get.call(arguments.length<3?Ct:Lt):xt.value}},et.apply(this,arguments)}function ut(yt,Ct){for(;!Object.prototype.hasOwnProperty.call(yt,Ct)&&(yt=rt(yt),yt!==null););return yt}function dt(yt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),Object.defineProperty(yt,"prototype",{writable:!1}),Ct&&pt(yt,Ct)}function pt(yt,Ct){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,Rt){return Lt.__proto__=Rt,Lt},pt(yt,Ct)}function lt(yt){var Ct=vt();return function(){var Lt=rt(yt),Rt;if(Ct){var xt=rt(this).constructor;Rt=Reflect.construct(Lt,arguments,xt)}else Rt=Lt.apply(this,arguments);return _t(this,Rt)}}function _t(yt,Ct){if(Ct&&(R(Ct)==="object"||typeof Ct=="function"))return Ct;if(Ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(yt)}function G(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}function vt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(yt){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)},rt(yt)}var st="data-tablelite-",H=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt,[{key:"format",value:function(Rt,xt){if(P.li[Rt]){var jt,Zt="data-".concat(Rt.toLowerCase());(0,I.Z)(this.domNode,Zt,xt),(jt=this.row())===null||jt===void 0||(jt=jt.table())===null||jt===void 0||jt.format(Rt,xt)}else et(rt(Tt.prototype),"format",this).call(this,Rt,xt)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var Rt;return(Rt=this.row())===null||Rt===void 0?void 0:Rt.table()}}],[{key:"create",value:function(Rt){var xt=et(rt(Tt),"create",this).call(this),jt=this.dataAttribute;return(0,I.Z)(xt,jt,Rt??gt()),xt}},{key:"formats",value:function(Rt){var xt=this.dataAttribute;if(Rt.hasAttribute(xt))return Rt.getAttribute(xt)}}]),Tt}(B.ZP);H.tagName=["TD","TH"];var w=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt,[{key:"format",value:function(Rt,xt){Rt===Tt.blotName&&xt?this.domNode.setAttribute(Tt.dataAttribute,xt):et(rt(Tt.prototype),"format",this).call(this,Rt,xt)}}]),Tt}(H);w.blotName="table",w.dataAttribute="".concat(st,"row");var q=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt,[{key:"format",value:function(Rt,xt){Rt===Tt.blotName&&xt?this.domNode.setAttribute(Tt.dataAttribute,xt):et(rt(Tt.prototype),"format",this).call(this,Rt,xt)}}]),Tt}(H);q.tagName=["TH","TD"],q.blotName="tableHeaderCell",q.dataAttribute="".concat(st,"header-row");var J=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt,[{key:"checkMerge",value:function(){if(et(rt(Tt.prototype),"checkMerge",this).call(this)&&(0,N.Z)(this.next.children.head)){var Rt=this.childFormatName,xt=this.children.head.formats(),jt=this.children.tail.formats(),Zt=this.next.children.head.formats(),Xt=this.next.children.tail.formats();return xt[Rt]===jt[Rt]&&xt[Rt]===Zt[Rt]&&xt[Rt]===Xt[Rt]}return!1}},{key:"optimize",value:function(){for(var Rt,xt=this,jt=arguments.length,Zt=new Array(jt),Xt=0;Xt<jt;Xt++)Zt[Xt]=arguments[Xt];(Rt=et(rt(Tt.prototype),"optimize",this)).call.apply(Rt,[this].concat(Zt));var ee=this.childFormatName;this.children.forEach(function(re){if((0,N.Z)(re.next)){var le=re.formats(),oe=re.next.formats();if(le[ee]!==oe[ee]){var Ee=xt.splitAfter(re);Ee&&Ee.optimize(),xt.prev&&xt.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var Rt;return(Rt=this.parent)===null||Rt===void 0?void 0:Rt.parent}}]),Tt}(M.Z);J.tagName="TR";var Q=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(Lt,Rt){var xt;return c(this,Tt),xt=Ct.call(this,Lt,Rt),xt.childFormatName="table",xt}return L(Tt)}(J);Q.blotName="tableRow";var ct=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(Lt,Rt){var xt;return c(this,Tt),xt=Ct.call(this,Lt,Rt),xt.childFormatName="tableHeaderCell",xt}return L(Tt)}(J);ct.blotName="tableHeaderRow";var mt=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt,[{key:"optimize",value:function(){var Rt;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var xt=this.children.head.children.head.domNode,jt={};Object.keys(P.li).forEach(function(re){var le=xt.dataset[re.toLowerCase()];le&&(jt[re]=le)}),this.wrap(this.statics.requiredContainer.blotName,jt)}for(var Zt=arguments.length,Xt=new Array(Zt),ee=0;ee<Zt;ee++)Xt[ee]=arguments[ee];(Rt=et(rt(Tt.prototype),"optimize",this)).call.apply(Rt,[this].concat(Xt))}}]),Tt}(M.Z),wt=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt)}(mt);wt.blotName="tableBody",wt.tagName=["TBODY"];var ot=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt)}(mt);ot.blotName="tableHeader",ot.tagName=["THEAD"];var tt=function(yt){dt(Tt,yt);var Ct=lt(Tt);function Tt(){return c(this,Tt),Ct.apply(this,arguments)}return L(Tt,[{key:"balanceCells",value:function(){var Rt=this.descendants(ct),xt=this.descendants(Q),jt=this.getMaxTableColCount(Rt,xt);this.balanceRows(jt,Rt,q),this.balanceRows(jt,xt,w)}},{key:"getMaxTableColCount",value:function(Rt,xt){return Math.max(this.getMaxRowColCount(Rt),this.getMaxRowColCount(xt))}},{key:"getMaxRowColCount",value:function(Rt){return Math.max.apply(Math,$(Rt.map(function(xt){return xt.children.length})))}},{key:"balanceRows",value:function(Rt,xt,jt){var Zt=this;xt.forEach(function(Xt){new Array(Rt-Xt.children.length).fill(0).forEach(function(){var ee;(0,N.Z)(Xt.children.head)&&(ee=jt.formats(Xt.children.head.domNode));var re=Zt.scroll.create(jt.blotName,ee);Xt.appendChild(re),re.optimize()})})}},{key:"cells",value:function(Rt){return this.rows().map(function(xt){return xt.children.at(Rt)})}},{key:"deleteColumn",value:function(Rt){var xt=this;[ot,wt].forEach(function(jt){var Zt=xt.descendants(jt),Xt=D(Zt,1),ee=Xt[0];!(0,N.Z)(ee)||!(0,N.Z)(ee.children.head)||ee.children.forEach(function(re){var le=re.children.at(Rt);(0,N.Z)(le)&&le.remove()})})}},{key:"insertColumn",value:function(Rt){var xt=this;[ot,wt].forEach(function(jt){var Zt=xt.descendants(jt),Xt=D(Zt,1),ee=Xt[0];if(!(!(0,N.Z)(ee)||!(0,N.Z)(ee.children.head))){var re=jt===ot?q:w;ee.children.forEach(function(le){var oe=le.children.at(Rt),Ee=re.formats(le.children.head.domNode),qe=xt.scroll.create(re.blotName,Ee);le.insertBefore(qe,oe)})}})}},{key:"insertRow",value:function(Rt){var xt=this,jt=this.descendants(wt),Zt=D(jt,1),Xt=Zt[0];if(!(!(0,N.Z)(Xt)||!(0,N.Z)(Xt.children.head))){var ee=gt(),re=this.scroll.create(Q.blotName);Xt.children.head.children.forEach(function(){var oe=xt.scroll.create(w.blotName,ee);re.appendChild(oe)});var le=Xt.children.at(Rt);Xt.insertBefore(re,le)}}},{key:"insertHeaderRow",value:function(){var Rt=this,xt=this.descendants(ot),jt=D(xt,1),Zt=jt[0],Xt=this.descendants(wt),ee=D(Xt,1),re=ee[0];if(!((0,N.Z)(Zt)||!(0,N.Z)(re)||!(0,N.Z)(re.children.head))){var le=gt(),oe=this.scroll.create(ot.blotName),Ee=this.scroll.create(ct.blotName),qe=this.children.at(0);oe.appendChild(Ee),re.children.head.children.forEach(function(){var Xe=Rt.scroll.create(q.blotName,le);Ee.appendChild(Xe),Xe.optimize()}),this.insertBefore(oe,qe)}}},{key:"rows",value:function(){var Rt=this.children.head;return(0,N.Z)(Rt)?Rt.children.map(function(xt){return xt}):[]}},{key:"formats",value:function(){var Rt={},xt=this.cells()[0].domNode;return Object.keys(P.li).forEach(function(jt){var Zt=xt.dataset[jt.toLowerCase()];Zt&&(Rt[jt]=Zt)}),Rt}},{key:"format",value:function(Rt,xt){var jt=P.li[Rt];if(jt){var Zt="data-".concat(Rt.toLowerCase());this.cells().forEach(function(Xt){(0,I.Z)(Xt.domNode,Zt,xt)}),jt.add(this.domNode,xt)}}}],[{key:"create",value:function(Rt){var xt=et(rt(Tt),"create",this).call(this,Rt);return Rt&&Object.keys(Rt).forEach(function(jt){var Zt;(Zt=P.li[jt])===null||Zt===void 0||Zt.add(xt,Rt[jt])}),xt}}]),Tt}(M.Z);tt.blotName="tableContainer",tt.tagName="TABLE",tt.allowedChildren=[ot,wt],wt.requiredContainer=tt,ot.requiredContainer=tt,wt.allowedChildren=[Q],Q.requiredContainer=wt,Q.allowedChildren=[w],w.requiredContainer=Q,ot.allowedChildren=[ct],ct.requiredContainer=ot,ct.allowedChildren=[q],q.requiredContainer=ct;function gt(){return"row-".concat((0,S.Z)())}var at=t(5635),it=t(9466);function ft(yt){var Ct=yt.quill,Tt=yt.index,Lt=yt.range,Rt=Tt-1,xt=new(h())().retain(Rt).insert(`
`);Ct.updateContents(xt,v.ZP.sources.USER),Ct.setSelection(Lt.index+1,Lt.length,v.ZP.sources.SILENT)}var Y=t(2480);function T(yt,Ct,Tt){return yt.prev==null&&yt.next==null?Ct.prev==null&&Ct.next==null?Tt===0?-1:1:Ct.prev==null?-1:1:yt.prev==null?-1:yt.next==null?1:null}var o=t(7896),i=t(1342);function f(yt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ct){return typeof Ct}:function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct},f(yt)}function g(yt,Ct,Tt){return Ct=Pt(Ct),Ct in yt?Object.defineProperty(yt,Ct,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):yt[Ct]=Tt,yt}function V(yt,Ct){return Yt(yt)||Ft(yt,Ct)||At(yt,Ct)||ht()}function ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(yt,Ct){if(yt){if(typeof yt=="string")return Ht(yt,Ct);var Tt=Object.prototype.toString.call(yt).slice(8,-1);if(Tt==="Object"&&yt.constructor&&(Tt=yt.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(yt);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return Ht(yt,Ct)}}function Ht(yt,Ct){(Ct==null||Ct>yt.length)&&(Ct=yt.length);for(var Tt=0,Lt=new Array(Ct);Tt<Ct;Tt++)Lt[Tt]=yt[Tt];return Lt}function Ft(yt,Ct){var Tt=yt==null?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(Tt!=null){var Lt,Rt,xt,jt,Zt=[],Xt=!0,ee=!1;try{if(xt=(Tt=Tt.call(yt)).next,Ct===0){if(Object(Tt)!==Tt)return;Xt=!1}else for(;!(Xt=(Lt=xt.call(Tt)).done)&&(Zt.push(Lt.value),Zt.length!==Ct);Xt=!0);}catch(re){ee=!0,Rt=re}finally{try{if(!Xt&&Tt.return!=null&&(jt=Tt.return(),Object(jt)!==jt))return}finally{if(ee)throw Rt}}return Zt}}function Yt(yt){if(Array.isArray(yt))return yt}function qt(yt,Ct){if(!(yt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function Jt(yt,Ct){for(var Tt=0;Tt<Ct.length;Tt++){var Lt=Ct[Tt];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(yt,Pt(Lt.key),Lt)}}function bt(yt,Ct,Tt){return Ct&&Jt(yt.prototype,Ct),Tt&&Jt(yt,Tt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function Pt(yt){var Ct=It(yt,"string");return f(Ct)==="symbol"?Ct:String(Ct)}function It(yt,Ct){if(f(yt)!=="object"||yt===null)return yt;var Tt=yt[Symbol.toPrimitive];if(Tt!==void 0){var Lt=Tt.call(yt,Ct||"default");if(f(Lt)!=="object")return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ct==="string"?String:Number)(yt)}function Bt(yt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(Ct&&Ct.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),Object.defineProperty(yt,"prototype",{writable:!1}),Ct&&Nt(yt,Ct)}function Nt(yt,Ct){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,Rt){return Lt.__proto__=Rt,Lt},Nt(yt,Ct)}function $t(yt){var Ct=Kt();return function(){var Lt=te(yt),Rt;if(Ct){var xt=te(this).constructor;Rt=Reflect.construct(Lt,arguments,xt)}else Rt=Lt.apply(this,arguments);return Dt(this,Rt)}}function Dt(yt,Ct){if(Ct&&(f(Ct)==="object"||typeof Ct=="function"))return Ct;if(Ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(yt)}function Ut(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}function Kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(yt){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)},te(yt)}var ae=[null,null,null,-1],ue=function(yt){Bt(Tt,yt);var Ct=$t(Tt);function Tt(){var Lt;qt(this,Tt);for(var Rt=arguments.length,xt=new Array(Rt),jt=0;jt<Rt;jt++)xt[jt]=arguments[jt];return Lt=Ct.call.apply(Ct,[this].concat(xt)),Lt.tableBlots=[w.blotName,q.blotName],Lt.tableBlots.forEach(function(Zt){Lt.quill.editor.addImmediateFormat(Zt)}),Lt.integrateClipboard(),Lt.addKeyboardHandlers(),Lt.listenBalanceCells(),Lt}return bt(Tt,[{key:"integrateClipboard",value:function(){var Rt=this;this.tableBlots.forEach(function(xt){return Rt.quill.clipboard.addTableBlot(xt)}),this.quill.clipboard.addMatcher("tr",pe),this.quill.clipboard.addMatcher("table",(0,o.F)(P.Zt)),this.quill.clipboard.addMatcher("td, th",(0,o.a)(i.h6))}},{key:"addKeyboardHandlers",value:function(){var Rt=this,xt=Tt.keyboardBindings;Object.keys(xt).forEach(function(jt){xt[jt]&&Rt.quill.keyboard.addBinding(xt[jt])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(tt).forEach(function(Rt){Rt.balanceCells()})}},{key:"deleteColumn",value:function(){var Rt=this.getTable(),xt=V(Rt,3),jt=xt[0],Zt=xt[2];(0,N.Z)(Zt)&&(jt.deleteColumn(Zt.cellOffset()),this.quill.update(v.ZP.sources.USER))}},{key:"deleteRow",value:function(){var Rt=this.getTable(),xt=V(Rt,2),jt=xt[1];(0,N.Z)(jt)&&(jt.remove(),this.quill.update(v.ZP.sources.USER))}},{key:"deleteTable",value:function(){var Rt=this.getTable(),xt=V(Rt,1),jt=xt[0];if((0,N.Z)(jt)){var Zt=jt.offset();jt.remove(),this.quill.update(v.ZP.sources.USER),this.quill.setSelection(Zt,v.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,N.Z)(Rt))return ae;var xt=this.quill.getLine(Rt.index),jt=V(xt,2),Zt=jt[0],Xt=jt[1];if(!(0,N.Z)(Zt)||this.tableBlots.indexOf(Zt.statics.blotName)===-1)return ae;var ee=Zt.parent,re=ee.parent.parent;return[re,ee,Zt,Xt]}},{key:"insertColumn",value:function(Rt){var xt=this.quill.getSelection(),jt=this.getTable(xt),Zt=V(jt,3),Xt=Zt[0],ee=Zt[1],re=Zt[2];if((0,N.Z)(re)){var le=re.cellOffset();Xt.insertColumn(le+Rt),this.quill.update(v.ZP.sources.USER);var oe=ee.rowOffset();Rt===0&&(oe+=1),this.quill.setSelection(xt.index+oe,xt.length,v.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(Rt){var xt=this.quill.getSelection(),jt=this.getTable(xt),Zt=V(jt,3),Xt=Zt[0],ee=Zt[1],re=Zt[2];if((0,N.Z)(re)){var le=ee.rowOffset();Xt.insertRow(le+Rt),this.quill.update(v.ZP.sources.USER),Rt>0?this.quill.setSelection(xt,v.ZP.sources.SILENT):this.quill.setSelection(xt.index+ee.children.length,xt.length,v.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var Rt=this.quill.getSelection(),xt=this.getTable(Rt),jt=V(xt,3),Zt=jt[0],Xt=jt[2];(0,N.Z)(Xt)&&(Zt.insertHeaderRow(),this.quill.update(v.ZP.sources.USER))}},{key:"insertTable",value:function(Rt,xt){var jt=this.quill.getSelection();if((0,N.Z)(jt)){var Zt=new Array(Rt).fill(0).reduce(function(Xt){var ee=new Array(xt).fill(`
`).join("");return Xt.insert(ee,{table:gt()})},new(h())().retain(jt.index));this.quill.updateContents(Zt,v.ZP.sources.USER),this.quill.setSelection(jt.index,v.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var Rt=this;this.quill.on(v.ZP.events.SCROLL_OPTIMIZE,function(xt){xt.some(function(jt){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(jt.target.tagName)!==-1?(Rt.quill.once(v.ZP.events.TEXT_CHANGE,function(Zt,Xt,ee){ee===v.ZP.sources.USER&&Rt.balanceTables()}),!0):!1})}),this.quill.on(v.ZP.events.CONTENT_SETTED,function(){Rt.quill.once(v.ZP.events.TEXT_CHANGE,function(){Rt.balanceTables()})})}}],[{key:"register",value:function(){v.ZP.register(q,!0),v.ZP.register(w,!0),v.ZP.register(ct,!0),v.ZP.register(Q,!0),v.ZP.register(wt,!0),v.ZP.register(ot,!0),v.ZP.register(tt,!0),[P.li,i.Du].forEach(function(Rt){Object.keys(Rt).forEach(function(xt){v.ZP.register(g({},"formats/".concat(xt),Rt[xt]),!0)})})}}]),Tt}(_.Z);ue.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(Ct){var Tt=this.quill.getModule("table");if(Tt){var Lt=this.quill,Rt=Tt.getTable(Ct),xt=V(Rt,4),jt=xt[0],Zt=xt[1],Xt=xt[2],ee=xt[3],re=T(Zt,Xt,ee),le=jt.children.length>1&&jt.children.head;if(re==null||re<0&&le)return;var oe=jt.offset();re<0?ft({quill:Lt,index:oe,range:Ct}):(0,Y.Z)({quill:Lt,index:oe,table:jt})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(Ct){var Tt=this.quill.getModule("table");if(Tt){var Lt=this.quill,Rt=Tt.getTable(Ct),xt=V(Rt,4),jt=xt[0],Zt=xt[1],Xt=xt[2],ee=xt[3],re=T(Zt,Xt,ee);if(re==null)return;var le=jt.offset(),oe=jt.children.length>1&&jt.children.tail;re<0||re>0&&oe?ft({quill:Lt,index:le,range:Ct}):(0,Y.Z)({quill:Lt,index:le,table:jt})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(Ct,Tt){var Lt=Tt.event,Rt=Tt.line,xt=Rt.offset(this.quill.scroll);Lt.shiftKey?this.quill.setSelection(xt-1,v.ZP.sources.USER):this.quill.setSelection(xt+Rt.length(),v.ZP.sources.USER)}},"table down":(0,it.Z)(!1,["table","tableHeaderCell"]),"table up":(0,it.Z)(!0,["table","tableHeaderCell"])};function pe(yt,Ct){var Tt=yt.parentNode.tagName==="TABLE"?yt.parentNode:yt.parentNode.parentNode,Lt=yt.parentNode.tagName==="THEAD"?!0:null,Rt=Array.from(Tt.querySelectorAll("tr")),xt=Rt.indexOf(yt)+1;return(0,at.HI)(Ct,Lt?"tableHeaderCell":"table",xt)}const Te=ue},2480:(p,C,t)=>{t.d(C,{Z:()=>_});var y=t(9098),h=t.n(y),v=t(281);function _(B){var M=B.quill,N=B.index,P=B.table,S=N+P.length(),I=new(h())().retain(S).insert(`
`);M.updateContents(I,v.ZP.sources.USER),M.setSelection(S,v.ZP.sources.USER)}},9466:(p,C,t)=>{t.d(C,{Z:()=>h});var y=t(281);function h(v,_){return{key:v?"upArrow":"downArrow",collapsed:!0,format:_,handler:function(M,N){var P=v?"prev":"next",S=N.line,I=S.statics.blotName.indexOf("Line")>-1?S.parent:S,R=I.parent.parent[P],D=I.parent[P]||(R==null?void 0:R.children.head);if(D!=null){if(D.statics.blotName==="tableRow"||D.statics.blotName==="tableHeaderRow"){for(var W=D.children.head,A=I;A.prev!=null;)A=A.prev,W=W.next;var U=W.offset(this.quill.scroll)+Math.min(N.offset,W.length()-1);this.quill.setSelection(U,0,y.ZP.sources.USER)}}else{var $=I.table()[P];$!=null&&(v?this.quill.setSelection($.offset(this.quill.scroll)+$.length()-1,0,y.ZP.sources.USER):this.quill.setSelection($.offset(this.quill.scroll),0,y.ZP.sources.USER))}return!1}}}},7896:(p,C,t)=>{t.d(C,{F:()=>W,a:()=>A});var y=t(1233),h=t(1674),v=t(4569),_=t(5635);function B(U){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},B(U)}function M(U,$){var k=Object.keys(U);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(U);$&&(m=m.filter(function(E){return Object.getOwnPropertyDescriptor(U,E).enumerable})),k.push.apply(k,m)}return k}function N(U){for(var $=1;$<arguments.length;$++){var k=arguments[$]!=null?arguments[$]:{};$%2?M(Object(k),!0).forEach(function(m){P(U,m,k[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(k)):M(Object(k)).forEach(function(m){Object.defineProperty(U,m,Object.getOwnPropertyDescriptor(k,m))})}return U}function P(U,$,k){return $=S($),$ in U?Object.defineProperty(U,$,{value:k,enumerable:!0,configurable:!0,writable:!0}):U[$]=k,U}function S(U){var $=I(U,"string");return B($)==="symbol"?$:String($)}function I(U,$){if(B(U)!=="object"||U===null)return U;var k=U[Symbol.toPrimitive];if(k!==void 0){var m=k.call(U,$||"default");if(B(m)!=="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(U)}function R(U,$,k,m){U[$]=!m&&U[$]?U[$]:k}function D(U,$,k,m,E,a){return U.filter(function(s){return!!s}).forEach(function(s){var c=k.query(s,y.Scope.ATTRIBUTE);if(c!==null){var O=c.value($);if(O){R(E,c.attrName,O,a);return}}var L=m[s];if(L!=null&&(L.attrName===s||L.keyName===s)){var j=L.value($)||void 0;R(E,L.attrName,j,a)}}),E}function W(U){return function($,k,m){var E=h.Z.keys($),a=v.Z.keys($),s=N(N({},D(E,$,m,U,{},!0)),D(a,$,m,U,{},!0));return Object.keys(s).length>0?(0,_.HI)(k,s):k}}function A(U){return function($,k,m){var E,a=h.Z.keys($),s=v.Z.keys($),c=((E=$.parentNode)===null||E===void 0?void 0:E.tagName)==="TR"?$.parentNode:void 0,O=N(N({},D(a,$,m,U,{},!0)),D(s,$,m,U,{},!0));if(c){var L=v.Z.keys(c);O=D(L,c,m,U,O,!1)}return Object.keys(O).length>0?(0,_.HI)(k,O):k}}},3859:(p,C,t)=>{t.d(C,{Z:()=>s});var y=t(9098),h=t.n(y),v=t(2069),_=t(7094),B=t(8034);function M(c){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},M(c)}function N(c,O,L){return O=R(O),O in c?Object.defineProperty(c,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):c[O]=L,c}function P(c,O){if(!(c instanceof O))throw new TypeError("Cannot call a class as a function")}function S(c,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,R(j.key),j)}}function I(c,O,L){return O&&S(c.prototype,O),L&&S(c,L),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c){var O=D(c,"string");return M(O)==="symbol"?O:String(O)}function D(c,O){if(M(c)!=="object"||c===null)return c;var L=c[Symbol.toPrimitive];if(L!==void 0){var j=L.call(c,O||"default");if(M(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(c)}function W(c,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(O&&O.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),O&&A(c,O)}function A(c,O){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,Z){return j.__proto__=Z,j},A(c,O)}function U(c){var O=m();return function(){var j=E(c),Z;if(O){var et=E(this).constructor;Z=Reflect.construct(j,arguments,et)}else Z=j.apply(this,arguments);return $(this,Z)}}function $(c,O){if(O&&(M(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(c)}function k(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(c){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},E(c)}var a=function(c){W(L,c);var O=U(L);function L(j,Z){var et;return P(this,L),et=O.call(this,j,Z),et.preventImageUploading(!1),et.addDragOverHandler(),et.addDropHandler(),et}return I(L,[{key:"addDragOverHandler",value:function(){if((0,B.Z)()){var Z=window.navigator.userAgent.toLowerCase(),et=Z.indexOf("msie ")!==-1||Z.indexOf("trident/")!==-1||Z.indexOf("edge/")!==-1;et&&this.quill.root.addEventListener("dragover",function(ut){ut.preventDefault()})}}},{key:"addDropHandler",value:function(){var Z=this;this.quill.root.addEventListener("drop",function(et){var ut=et.dataTransfer.files.length===0,dt=Z.options.onDrop;if(dt&&typeof dt=="function"&&dt(et),!(ut||Z.preventImageUpload)){et.preventDefault();var pt;if(document.caretRangeFromPoint)pt=document.caretRangeFromPoint(et.clientX,et.clientY);else if(document.caretPositionFromPoint){var lt=document.caretPositionFromPoint(et.clientX,et.clientY);pt=document.createRange(),pt.setStart(lt.offsetNode,lt.offset),pt.setEnd(lt.offsetNode,lt.offset)}else return;var _t=Z.quill.selection.normalizeNative(pt),G=Z.quill.selection.normalizedToRange(_t);Z.upload(G,et.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(Z){return typeof Z<"u"&&(this.preventImageUpload=Z),this.preventImageUpload}},{key:"upload",value:function(Z,et,ut){var dt=this;if(!(this.preventImageUpload&&!ut)){var pt=[];Array.from(et).forEach(function(lt){lt&&dt.options.mimetypes.indexOf(lt.type)!==-1&&pt.push(lt)}),pt.length>0&&this.options.handler.call(this,Z,pt,this.options.imageBlot)}}}]),L}(_.Z);a.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(O,L,j){var Z=this,et=L.map(function(ut){return new Promise(function(dt){var pt=new FileReader;pt.onload=function(lt){dt(lt.target.result)},pt.readAsDataURL(ut)})});Promise.all(et).then(function(ut){var dt=ut.reduce(function(pt,lt){return pt.insert(N({},j,lt))},new(h())().retain(O.index).delete(O.length));Z.quill.updateContents(dt,v.Z.sources.USER),Z.quill.setSelection(O.index+ut.length,v.Z.sources.SILENT)})}};const s=a},2141:(p,C,t)=>{t.d(C,{Z:()=>y});function y(h){return h?h.substring(0,1).toUpperCase()+h.substring(1):""}},8034:(p,C,t)=>{t.d(C,{Z:()=>h});var y=function(){return typeof window<"u"};const h=y},5874:(p,C,t)=>{t.d(C,{Z:()=>y});function y(h){return h!=null}},1233:(p,C,t)=>{t.r(C),t.d(C,{Attributor:()=>O,AttributorStore:()=>G,BlockBlot:()=>J,ClassAttributor:()=>et,ContainerBlot:()=>m,EmbedBlot:()=>mt,InlineBlot:()=>H,LeafBlot:()=>s,ParentBlot:()=>U,Registry:()=>S,Scope:()=>h,ScrollBlot:()=>at,StyleAttributor:()=>lt,TextBlot:()=>Y});var y;(function(T){T[T.TYPE=3]="TYPE",T[T.LEVEL=12]="LEVEL",T[T.ATTRIBUTE=13]="ATTRIBUTE",T[T.BLOT=14]="BLOT",T[T.INLINE=7]="INLINE",T[T.BLOCK=11]="BLOCK",T[T.BLOCK_BLOT=10]="BLOCK_BLOT",T[T.INLINE_BLOT=6]="INLINE_BLOT",T[T.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",T[T.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",T[T.ANY=15]="ANY"})(y||(y={}));const h=y;var v=function(){function T(){this.head=null,this.tail=null,this.length=0}return T.prototype.append=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(this.insertBefore(o[0],null),o.length>1){var f=o.slice(1);this.append.apply(this,f)}},T.prototype.at=function(o){for(var i=this.iterator(),f=i();f&&o>0;)o-=1,f=i();return f},T.prototype.contains=function(o){for(var i=this.iterator(),f=i();f;){if(f===o)return!0;f=i()}return!1},T.prototype.indexOf=function(o){for(var i=this.iterator(),f=i(),g=0;f;){if(f===o)return g;g+=1,f=i()}return-1},T.prototype.insertBefore=function(o,i){o!=null&&(this.remove(o),o.next=i,i!=null?(o.prev=i.prev,i.prev!=null&&(i.prev.next=o),i.prev=o,i===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},T.prototype.offset=function(o){for(var i=0,f=this.head;f!=null;){if(f===o)return i;i+=f.length(),f=f.next}return-1},T.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},T.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var i=o;return o!=null&&(o=o.next),i}},T.prototype.find=function(o,i){i===void 0&&(i=!1);for(var f=this.iterator(),g=f();g;){var V=g.length();if(o<V||i&&o===V&&(g.next==null||g.next.length()!==0))return[g,o];o-=V,g=f()}return[null,0]},T.prototype.forEach=function(o){for(var i=this.iterator(),f=i();f;)o(f),f=i()},T.prototype.forEachAt=function(o,i,f){if(!(i<=0))for(var g=this.find(o),V=g[0],ht=g[1],At=o-ht,Ht=this.iterator(V),Ft=Ht();Ft&&At<o+i;){var Yt=Ft.length();o>At?f(Ft,o-At,Math.min(i,At+Yt-o)):f(Ft,0,Math.min(Yt,o+i-At)),At+=Yt,Ft=Ht()}},T.prototype.map=function(o){return this.reduce(function(i,f){return i.push(o(f)),i},[])},T.prototype.reduce=function(o,i){for(var f=this.iterator(),g=f();g;)i=o(i,g),g=f();return i},T}();const _=v;var B=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),M=function(T){B(o,T);function o(i){var f=this;return i="[Parchment] "+i,f=T.call(this,i)||this,f.message=i,f.name=f.constructor.name,f}return o}(Error);const N=M;var P=function(){function T(){this.attributes={},this.classes={},this.tags={},this.types={}}return T.find=function(o,i){if(i===void 0&&(i=!1),o==null)return null;if(this.blots.has(o))return this.blots.get(o)||null;if(i){var f=null;try{f=o.parentNode}catch{return null}return this.find(f,i)}return null},T.prototype.create=function(o,i,f){var g=this.query(i);if(g==null)throw new N("Unable to create ".concat(i," blot"));var V=g,ht=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:V.create(f),At=new V(o,ht,f);return T.blots.set(At.domNode,At),At},T.prototype.find=function(o,i){return i===void 0&&(i=!1),T.find(o,i)},T.prototype.query=function(o,i){var f=this;i===void 0&&(i=h.ANY);var g;if(typeof o=="string")g=this.types[o]||this.attributes[o];else if(o instanceof Text||o.nodeType===Node.TEXT_NODE)g=this.types.text;else if(typeof o=="number")o&h.LEVEL&h.BLOCK?g=this.types.block:o&h.LEVEL&h.INLINE&&(g=this.types.inline);else if(o instanceof Element){var V=(o.getAttribute("class")||"").split(/\s+/);V.some(function(ht){return g=f.classes[ht],!!g}),g=g||this.tags[o.tagName]}return g==null?null:i&h.LEVEL&g.scope&&i&h.TYPE&g.scope?g:null},T.prototype.register=function(){for(var o=this,i=[],f=0;f<arguments.length;f++)i[f]=arguments[f];if(i.length>1)return i.map(function(ht){return o.register(ht)});var g=i[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new N("Invalid definition");if(g.blotName==="abstract")throw new N("Cannot register abstract class");if(this.types[g.blotName||g.attrName]=g,typeof g.keyName=="string")this.attributes[g.keyName]=g;else if(g.className!=null&&(this.classes[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(ht){return ht.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var V=Array.isArray(g.tagName)?g.tagName:[g.tagName];V.forEach(function(ht){(o.tags[ht]==null||g.className==null)&&(o.tags[ht]=g)})}return g},T.blots=new WeakMap,T}();const S=P;var I=function(){function T(o,i){this.scroll=o,this.domNode=i,S.blots.set(i,this),this.prev=null,this.next=null}return T.create=function(o){if(this.tagName==null)throw new N("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o,10).toString()===o&&(o=parseInt(o,10))),typeof o=="number"?i=document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?i=document.createElement(o):i=document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},Object.defineProperty(T.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),T.prototype.attach=function(){},T.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return this.scroll.create(o)},T.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),S.blots.delete(this.domNode)},T.prototype.deleteAt=function(o,i){var f=this.isolate(o,i);f.remove()},T.prototype.formatAt=function(o,i,f,g){var V=this.isolate(o,i);if(this.scroll.query(f,h.BLOT)!=null&&g)V.wrap(f,g);else if(this.scroll.query(f,h.ATTRIBUTE)!=null){var ht=this.scroll.create(this.statics.scope);V.wrap(ht),ht.format(f,g)}},T.prototype.insertAt=function(o,i,f){var g=f==null?this.scroll.create("text",i):this.scroll.create(i,f),V=this.split(o);this.parent.insertBefore(g,V||void 0)},T.prototype.isolate=function(o,i){var f=this.split(o);if(f==null)throw new Error("Attempt to isolate at end");return f.split(i),f},T.prototype.length=function(){return 1},T.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this===o?0:this.parent.children.offset(this)+this.parent.offset(o)},T.prototype.optimize=function(o){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},T.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},T.prototype.replaceWith=function(o,i){var f=typeof o=="string"?this.scroll.create(o,i):o;return this.parent!=null&&(this.parent.insertBefore(f,this.next||void 0),this.remove()),f},T.prototype.split=function(o,i){return o===0?this:this.next},T.prototype.update=function(o,i){},T.prototype.wrap=function(o,i){var f=typeof o=="string"?this.scroll.create(o,i):o;if(this.parent!=null&&this.parent.insertBefore(f,this.next||void 0),typeof f.appendChild!="function")throw new N("Cannot wrap ".concat(o));return f.appendChild(this),f},T.blotName="abstract",T}();const R=I;var D=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function W(T,o){var i=o.find(T);if(i==null)try{i=o.create(T)}catch{i=o.create(h.INLINE),Array.from(T.childNodes).forEach(function(g){i.domNode.appendChild(g)}),T.parentNode&&T.parentNode.replaceChild(i.domNode,T),i.attach()}return i}var A=function(T){D(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.uiNode=null,g.build(),g}return o.prototype.appendChild=function(i){this.insertBefore(i)},o.prototype.attach=function(){T.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},o.prototype.attachUI=function(i){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=i,o.uiClass&&this.uiNode.classList.add(o.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},o.prototype.build=function(){var i=this;this.children=new _,Array.from(this.domNode.childNodes).filter(function(f){return f!==i.uiNode}).reverse().forEach(function(f){try{var g=W(f,i.scroll);i.insertBefore(g,i.children.head||void 0)}catch(V){if(V instanceof N)return;throw V}})},o.prototype.deleteAt=function(i,f){if(i===0&&f===this.length())return this.remove();this.children.forEachAt(i,f,function(g,V,ht){g.deleteAt(V,ht)})},o.prototype.descendant=function(i,f){f===void 0&&(f=0);var g=this.children.find(f),V=g[0],ht=g[1];return i.blotName==null&&i(V)||i.blotName!=null&&V instanceof i?[V,ht]:V instanceof o?V.descendant(i,ht):[null,-1]},o.prototype.descendants=function(i,f,g){f===void 0&&(f=0),g===void 0&&(g=Number.MAX_VALUE);var V=[],ht=g;return this.children.forEachAt(f,g,function(At,Ht,Ft){(i.blotName==null&&i(At)||i.blotName!=null&&At instanceof i)&&V.push(At),At instanceof o&&(V=V.concat(At.descendants(i,Ht,ht))),ht-=Ft}),V},o.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),T.prototype.detach.call(this)},o.prototype.enforceAllowedChildren=function(){var i=this,f=!1;this.children.forEach(function(g){if(!f){var V=i.statics.allowedChildren.some(function(ht){return g instanceof ht});V||(g.statics.scope===h.BLOCK_BLOT?(g.next!=null&&i.splitAfter(g),g.prev!=null&&i.splitAfter(g.prev),g.parent.unwrap(),f=!0):g instanceof o?g.unwrap():g.remove())}})},o.prototype.formatAt=function(i,f,g,V){this.children.forEachAt(i,f,function(ht,At,Ht){ht.formatAt(At,Ht,g,V)})},o.prototype.insertAt=function(i,f,g){var V=this.children.find(i),ht=V[0],At=V[1];if(ht)ht.insertAt(At,f,g);else{var Ht=g==null?this.scroll.create("text",f):this.scroll.create(f,g);this.appendChild(Ht)}},o.prototype.insertBefore=function(i,f){i.parent!=null&&i.parent.children.remove(i);var g=null;this.children.insertBefore(i,f||null),i.parent=this,f!=null&&(g=f.domNode),(this.domNode.parentNode!==i.domNode||this.domNode.nextSibling!==g)&&this.domNode.insertBefore(i.domNode,g),i.attach()},o.prototype.length=function(){return this.children.reduce(function(i,f){return i+f.length()},0)},o.prototype.moveChildren=function(i,f){this.children.forEach(function(g){i.insertBefore(g,f)})},o.prototype.optimize=function(i){if(T.prototype.optimize.call(this,i),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){var f=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(f)}else this.remove()},o.prototype.path=function(i,f){f===void 0&&(f=!1);var g=this.children.find(i,f),V=g[0],ht=g[1],At=[[this,i]];return V instanceof o?At.concat(V.path(ht,f)):(V!=null&&At.push([V,ht]),At)},o.prototype.removeChild=function(i){this.children.remove(i)},o.prototype.replaceWith=function(i,f){var g=typeof i=="string"?this.scroll.create(i,f):i;return g instanceof o&&this.moveChildren(g),T.prototype.replaceWith.call(this,g)},o.prototype.split=function(i,f){if(f===void 0&&(f=!1),!f){if(i===0)return this;if(i===this.length())return this.next}var g=this.clone();return this.parent&&this.parent.insertBefore(g,this.next||void 0),this.children.forEachAt(i,this.length(),function(V,ht,At){var Ht=V.split(ht,f);Ht!=null&&g.appendChild(Ht)}),g},o.prototype.splitAfter=function(i){for(var f=this.clone();i.next!=null;)f.appendChild(i.next);return this.parent&&this.parent.insertBefore(f,this.next||void 0),f},o.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},o.prototype.update=function(i,f){var g=this,V=[],ht=[];i.forEach(function(At){At.target===g.domNode&&At.type==="childList"&&(V.push.apply(V,At.addedNodes),ht.push.apply(ht,At.removedNodes))}),ht.forEach(function(At){if(!(At.parentNode!=null&&At.tagName!=="IFRAME"&&document.body.compareDocumentPosition(At)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Ht=g.scroll.find(At);Ht!=null&&(Ht.domNode.parentNode==null||Ht.domNode.parentNode===g.domNode)&&Ht.detach()}}),V.filter(function(At){return At.parentNode===g.domNode||At===g.uiNode}).sort(function(At,Ht){return At===Ht?0:At.compareDocumentPosition(Ht)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(At){var Ht=null;At.nextSibling!=null&&(Ht=g.scroll.find(At.nextSibling));var Ft=W(At,g.scroll);(Ft.next!==Ht||Ft.next==null)&&(Ft.parent!=null&&Ft.parent.removeChild(g),g.insertBefore(Ft,Ht||void 0))}),this.enforceAllowedChildren()},o.uiClass="",o}(R);const U=A;var $=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),k=function(T){$(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.prototype.checkMerge=function(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName},o.prototype.deleteAt=function(i,f){T.prototype.deleteAt.call(this,i,f),this.enforceAllowedChildren()},o.prototype.formatAt=function(i,f,g,V){T.prototype.formatAt.call(this,i,f,g,V),this.enforceAllowedChildren()},o.prototype.insertAt=function(i,f,g){T.prototype.insertAt.call(this,i,f,g),this.enforceAllowedChildren()},o.prototype.optimize=function(i){T.prototype.optimize.call(this,i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},o.blotName="container",o.scope=h.BLOCK_BLOT,o}(U);const m=k;var E=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),a=function(T){E(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.value=function(i){return!0},o.prototype.index=function(i,f){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},o.prototype.position=function(i,f){var g=Array.from(this.parent.domNode.childNodes),V=g.indexOf(this.domNode);return i>0&&(V+=1),[this.parent.domNode,V]},o.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},o.scope=h.INLINE_BLOT,o}(R);const s=a;var c=function(){function T(o,i,f){f===void 0&&(f={}),this.attrName=o,this.keyName=i;var g=h.TYPE&h.ATTRIBUTE;this.scope=f.scope!=null?f.scope&h.LEVEL|g:h.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return T.keys=function(o){return Array.from(o.attributes).map(function(i){return i.name})},T.prototype.add=function(o,i){return this.canAdd(o,i)?(o.setAttribute(this.keyName,i),!0):!1},T.prototype.canAdd=function(o,i){return this.whitelist==null?!0:typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1},T.prototype.remove=function(o){o.removeAttribute(this.keyName)},T.prototype.value=function(o){var i=o.getAttribute(this.keyName);return this.canAdd(o,i)&&i?i:""},T}();const O=c;var L=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function j(T,o){var i=T.getAttribute("class")||"";return i.split(/\s+/).filter(function(f){return f.indexOf("".concat(o,"-"))===0})}var Z=function(T){L(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},o.prototype.add=function(i,f){return this.canAdd(i,f)?(this.remove(i),i.classList.add("".concat(this.keyName,"-").concat(f)),!0):!1},o.prototype.remove=function(i){var f=j(i,this.keyName);f.forEach(function(g){i.classList.remove(g)}),i.classList.length===0&&i.removeAttribute("class")},o.prototype.value=function(i){var f=j(i,this.keyName)[0]||"",g=f.slice(this.keyName.length+1);return this.canAdd(i,g)?g:""},o}(O);const et=Z;var ut=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function dt(T){var o=T.split("-"),i=o.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return o[0]+i}var pt=function(T){ut(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(f){var g=f.split(":");return g[0].trim()})},o.prototype.add=function(i,f){return this.canAdd(i,f)?(i.style[dt(this.keyName)]=f,!0):!1},o.prototype.remove=function(i){i.style[dt(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},o.prototype.value=function(i){var f=i.style[dt(this.keyName)];return this.canAdd(i,f)?f:""},o}(O);const lt=pt;var _t=function(){function T(o){this.attributes={},this.domNode=o,this.build()}return T.prototype.attribute=function(o,i){i?o.add(this.domNode,i)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},T.prototype.build=function(){var o=this;this.attributes={};var i=S.find(this.domNode);if(i!=null){var f=O.keys(this.domNode),g=et.keys(this.domNode),V=lt.keys(this.domNode);f.concat(g).concat(V).forEach(function(ht){var At=i.scroll.query(ht,h.ATTRIBUTE);At instanceof O&&(o.attributes[At.attrName]=At)})}},T.prototype.copy=function(o){var i=this;Object.keys(this.attributes).forEach(function(f){var g=i.attributes[f].value(i.domNode);o.format(f,g)})},T.prototype.move=function(o){var i=this;this.copy(o),Object.keys(this.attributes).forEach(function(f){i.attributes[f].remove(i.domNode)}),this.attributes={}},T.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(i,f){return i[f]=o.attributes[f].value(o.domNode),i},{})},T}();const G=_t;var vt=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function rt(T,o){if(Object.keys(T).length!==Object.keys(o).length)return!1;for(var i in T)if(T[i]!==o[i])return!1;return!0}var st=function(T){vt(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.attributes=new G(g.domNode),g}return o.formats=function(i,f){var g=f.query(o.blotName);if(!(g!=null&&i.tagName===g.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},o.prototype.format=function(i,f){var g=this;if(i===this.statics.blotName&&!f)this.children.forEach(function(ht){ht instanceof o||(ht=ht.wrap(o.blotName,!0)),g.attributes.copy(ht)}),this.unwrap();else{var V=this.scroll.query(i,h.INLINE);if(V==null)return;V instanceof O?this.attributes.attribute(V,f):f&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f)}},o.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode,this.scroll);return f!=null&&(i[this.statics.blotName]=f),i},o.prototype.formatAt=function(i,f,g,V){if(this.formats()[g]!=null||this.scroll.query(g,h.ATTRIBUTE)){var ht=this.isolate(i,f);ht.format(g,V)}else T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.optimize=function(i){T.prototype.optimize.call(this,i);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var g=this.next;g instanceof o&&g.prev===this&&rt(f,g.formats())&&(g.moveChildren(this),g.remove())},o.prototype.replaceWith=function(i,f){var g=T.prototype.replaceWith.call(this,i,f);return this.attributes.copy(g),g},o.prototype.update=function(i,f){var g=this;T.prototype.update.call(this,i,f);var V=i.some(function(ht){return ht.target===g.domNode&&ht.type==="attributes"});V&&this.attributes.build()},o.prototype.wrap=function(i,f){var g=T.prototype.wrap.call(this,i,f);return g instanceof o&&this.attributes.move(g),g},o.allowedChildren=[o,s],o.blotName="inline",o.scope=h.INLINE_BLOT,o.tagName="SPAN",o}(U);const H=st;var w=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),q=function(T){w(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.attributes=new G(g.domNode),g}return o.formats=function(i,f){var g=f.query(o.blotName);if(!(g!=null&&i.tagName===g.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},o.prototype.format=function(i,f){var g=this.scroll.query(i,h.BLOCK);g!=null&&(g instanceof O?this.attributes.attribute(g,f):i===this.statics.blotName&&!f?this.replaceWith(o.blotName):f&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f))},o.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode,this.scroll);return f!=null&&(i[this.statics.blotName]=f),i},o.prototype.formatAt=function(i,f,g,V){this.scroll.query(g,h.BLOCK)!=null?this.format(g,V):T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.insertAt=function(i,f,g){if(g==null||this.scroll.query(f,h.INLINE)!=null)T.prototype.insertAt.call(this,i,f,g);else{var V=this.split(i);if(V!=null){var ht=this.scroll.create(f,g);V.parent.insertBefore(ht,V)}else throw new Error("Attempt to insertAt after block boundaries")}},o.prototype.replaceWith=function(i,f){var g=T.prototype.replaceWith.call(this,i,f);return this.attributes.copy(g),g},o.prototype.update=function(i,f){var g=this;T.prototype.update.call(this,i,f);var V=i.some(function(ht){return ht.target===g.domNode&&ht.type==="attributes"});V&&this.attributes.build()},o.blotName="block",o.scope=h.BLOCK_BLOT,o.tagName="P",o.allowedChildren=[H,o,s],o}(U);const J=q;var Q=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ct=function(T){Q(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.formats=function(i,f){},o.prototype.format=function(i,f){T.prototype.formatAt.call(this,0,this.length(),i,f)},o.prototype.formatAt=function(i,f,g,V){i===0&&f===this.length()?this.format(g,V):T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},o}(s);const mt=ct;var wt=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ot={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},tt=100,gt=function(T){wt(o,T);function o(i,f){var g=T.call(this,null,f)||this;return g.registry=i,g.scroll=g,g.build(),g.observer=new MutationObserver(function(V){g.update(V)}),g.observer.observe(g.domNode,ot),g.attach(),g}return o.prototype.create=function(i,f){return this.registry.create(this,i,f)},o.prototype.find=function(i,f){f===void 0&&(f=!1);var g=this.registry.find(i,f);return g?g.scroll===this?g:f?this.find(g.scroll.domNode.parentNode,!0):null:null},o.prototype.query=function(i,f){return f===void 0&&(f=h.ANY),this.registry.query(i,f)},o.prototype.register=function(){for(var i,f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return(i=this.registry).register.apply(i,f)},o.prototype.build=function(){this.scroll!=null&&T.prototype.build.call(this)},o.prototype.detach=function(){T.prototype.detach.call(this),this.observer.disconnect()},o.prototype.deleteAt=function(i,f){this.update(),i===0&&f===this.length()?this.children.forEach(function(g){g.remove()}):T.prototype.deleteAt.call(this,i,f)},o.prototype.formatAt=function(i,f,g,V){this.update(),T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.insertAt=function(i,f,g){this.update(),T.prototype.insertAt.call(this,i,f,g)},o.prototype.optimize=function(i,f){var g=this;i===void 0&&(i=[]),f===void 0&&(f={}),T.prototype.optimize.call(this,f);for(var V=f.mutationsMap||new WeakMap,ht=Array.from(this.observer.takeRecords());ht.length>0;)i.push(ht.pop());for(var At=function qt(Jt,bt){bt===void 0&&(bt=!0),!(Jt==null||Jt===g)&&Jt.domNode.parentNode!=null&&(V.has(Jt.domNode)||V.set(Jt.domNode,[]),bt&&qt(Jt.parent))},Ht=function qt(Jt){V.has(Jt.domNode)&&(Jt instanceof U&&Jt.children.forEach(qt),V.delete(Jt.domNode),Jt.optimize(f))},Ft=i,Yt=0;Ft.length>0;Yt+=1){if(Yt>=tt)throw new Error("[Parchment] Maximum optimize iterations reached");for(Ft.forEach(function(qt){var Jt=g.find(qt.target,!0);Jt!=null&&(Jt.domNode===qt.target&&(qt.type==="childList"?(At(g.find(qt.previousSibling,!1)),Array.from(qt.addedNodes).forEach(function(bt){var Pt=g.find(bt,!1);At(Pt,!1),Pt instanceof U&&Pt.children.forEach(function(It){At(It,!1)})})):qt.type==="attributes"&&At(Jt.prev)),At(Jt))}),this.children.forEach(Ht),Ft=Array.from(this.observer.takeRecords()),ht=Ft.slice();ht.length>0;)i.push(ht.pop())}},o.prototype.update=function(i,f){var g=this;f===void 0&&(f={}),i=i||this.observer.takeRecords();var V=new WeakMap;i.map(function(ht){var At=g.find(ht.target,!0);return At==null?null:V.has(At.domNode)?(V.get(At.domNode).push(ht),null):(V.set(At.domNode,[ht]),At)}).forEach(function(ht){ht!=null&&ht!==g&&V.has(ht.domNode)&&ht.update(V.get(ht.domNode)||[],f)}),f.mutationsMap=V,V.has(this.domNode)&&T.prototype.update.call(this,V.get(this.domNode),f),this.optimize(i,f)},o.blotName="scroll",o.defaultChild=J,o.allowedChildren=[J,m],o.scope=h.BLOCK_BLOT,o.tagName="DIV",o}(U);const at=gt;var it=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ft=function(T){it(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.text=g.statics.value(g.domNode),g}return o.create=function(i){return document.createTextNode(i)},o.value=function(i){return i.data},o.prototype.deleteAt=function(i,f){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+f)},o.prototype.index=function(i,f){return this.domNode===i?f:-1},o.prototype.insertAt=function(i,f,g){g==null?(this.text=this.text.slice(0,i)+f+this.text.slice(i),this.domNode.data=this.text):T.prototype.insertAt.call(this,i,f,g)},o.prototype.length=function(){return this.text.length},o.prototype.optimize=function(i){T.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof o&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},o.prototype.position=function(i,f){return[this.domNode,i]},o.prototype.split=function(i,f){if(f===void 0&&(f=!1),!f){if(i===0)return this;if(i===this.length())return this.next}var g=this.scroll.create(this.domNode.splitText(i));return this.parent.insertBefore(g,this.next||void 0),this.text=this.statics.value(this.domNode),g},o.prototype.update=function(i,f){var g=this;i.some(function(V){return V.type==="characterData"&&V.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},o.prototype.value=function(){return this.text},o.blotName="text",o.scope=h.INLINE_BLOT,o}(s);const Y=ft},3034:function(p,C){var t=Object.prototype.hasOwnProperty,y="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(y=!1));function v(N,P,S){this.fn=N,this.context=P,this.once=S||!1}function _(N,P,S,I,R){if(typeof S!="function")throw new TypeError("The listener must be a function");var D=new v(S,I||N,R),W=y?y+P:P;return N._events[W]?N._events[W].fn?N._events[W]=[N._events[W],D]:N._events[W].push(D):(N._events[W]=D,N._eventsCount++),N}function B(N,P){--N._eventsCount===0?N._events=new h:delete N._events[P]}function M(){this._events=new h,this._eventsCount=0}M.prototype.eventNames=function(){var P=[],S,I;if(this._eventsCount===0)return P;for(I in S=this._events)t.call(S,I)&&P.push(y?I.slice(1):I);return Object.getOwnPropertySymbols?P.concat(Object.getOwnPropertySymbols(S)):P},M.prototype.listeners=function(P){var S=y?y+P:P,I=this._events[S];if(!I)return[];if(I.fn)return[I.fn];for(var R=0,D=I.length,W=new Array(D);R<D;R++)W[R]=I[R].fn;return W},M.prototype.listenerCount=function(P){var S=y?y+P:P,I=this._events[S];return I?I.fn?1:I.length:0},M.prototype.emit=function(P,S,I,R,D,W){var A=y?y+P:P;if(!this._events[A])return!1;var U=this._events[A],$=arguments.length,k,m;if(U.fn){switch(U.once&&this.removeListener(P,U.fn,void 0,!0),$){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,S),!0;case 3:return U.fn.call(U.context,S,I),!0;case 4:return U.fn.call(U.context,S,I,R),!0;case 5:return U.fn.call(U.context,S,I,R,D),!0;case 6:return U.fn.call(U.context,S,I,R,D,W),!0}for(m=1,k=new Array($-1);m<$;m++)k[m-1]=arguments[m];U.fn.apply(U.context,k)}else{var E=U.length,a;for(m=0;m<E;m++)switch(U[m].once&&this.removeListener(P,U[m].fn,void 0,!0),$){case 1:U[m].fn.call(U[m].context);break;case 2:U[m].fn.call(U[m].context,S);break;case 3:U[m].fn.call(U[m].context,S,I);break;case 4:U[m].fn.call(U[m].context,S,I,R);break;default:if(!k)for(a=1,k=new Array($-1);a<$;a++)k[a-1]=arguments[a];U[m].fn.apply(U[m].context,k)}}return!0},M.prototype.on=function(P,S,I){return _(this,P,S,I,!1)},M.prototype.once=function(P,S,I){return _(this,P,S,I,!0)},M.prototype.removeListener=function(P,S,I,R){var D=y?y+P:P;if(!this._events[D])return this;if(!S)return B(this,D),this;var W=this._events[D];if(W.fn)W.fn===S&&(!R||W.once)&&(!I||W.context===I)&&B(this,D);else{for(var A=0,U=[],$=W.length;A<$;A++)(W[A].fn!==S||R&&!W[A].once||I&&W[A].context!==I)&&U.push(W[A]);U.length?this._events[D]=U.length===1?U[0]:U:B(this,D)}return this},M.prototype.removeAllListeners=function(P){var S;return P?(S=y?y+P:P,this._events[S]&&B(this,S)):(this._events=new h,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=y,M.EventEmitter=M,typeof p<"u"&&(p.exports=M)},1456:p=>{var C=-1,t=1,y=0;function h(m,E,a,s){if(m===E)return m?[[y,m]]:[];if(a!=null){var c=$(m,E,a);if(c)return c}var O=M(m,E),L=m.substring(0,O);m=m.substring(O),E=E.substring(O),O=N(m,E);var j=m.substring(m.length-O);m=m.substring(0,m.length-O),E=E.substring(0,E.length-O);var Z=v(m,E);return L&&Z.unshift([y,L]),j&&Z.push([y,j]),S(Z,s),Z}function v(m,E){var a;if(!m)return[[t,E]];if(!E)return[[C,m]];var s=m.length>E.length?m:E,c=m.length>E.length?E:m,O=s.indexOf(c);if(O!==-1)return a=[[t,s.substring(0,O)],[y,c],[t,s.substring(O+c.length)]],m.length>E.length&&(a[0][0]=a[2][0]=C),a;if(c.length===1)return[[C,m],[t,E]];var L=P(m,E);if(L){var j=L[0],Z=L[1],et=L[2],ut=L[3],dt=L[4],pt=h(j,et),lt=h(Z,ut);return pt.concat([[y,dt]],lt)}return _(m,E)}function _(m,E){for(var a=m.length,s=E.length,c=Math.ceil((a+s)/2),O=c,L=2*c,j=new Array(L),Z=new Array(L),et=0;et<L;et++)j[et]=-1,Z[et]=-1;j[O+1]=0,Z[O+1]=0;for(var ut=a-s,dt=ut%2!==0,pt=0,lt=0,_t=0,G=0,vt=0;vt<c;vt++){for(var rt=-vt+pt;rt<=vt-lt;rt+=2){var st=O+rt,H;rt===-vt||rt!==vt&&j[st-1]<j[st+1]?H=j[st+1]:H=j[st-1]+1;for(var w=H-rt;H<a&&w<s&&m.charAt(H)===E.charAt(w);)H++,w++;if(j[st]=H,H>a)lt+=2;else if(w>s)pt+=2;else if(dt){var q=O+ut-rt;if(q>=0&&q<L&&Z[q]!==-1){var J=a-Z[q];if(H>=J)return B(m,E,H,w)}}}for(var Q=-vt+_t;Q<=vt-G;Q+=2){var q=O+Q,J;Q===-vt||Q!==vt&&Z[q-1]<Z[q+1]?J=Z[q+1]:J=Z[q-1]+1;for(var ct=J-Q;J<a&&ct<s&&m.charAt(a-J-1)===E.charAt(s-ct-1);)J++,ct++;if(Z[q]=J,J>a)G+=2;else if(ct>s)_t+=2;else if(!dt){var st=O+ut-Q;if(st>=0&&st<L&&j[st]!==-1){var H=j[st],w=O+H-st;if(J=a-J,H>=J)return B(m,E,H,w)}}}}return[[C,m],[t,E]]}function B(m,E,a,s){var c=m.substring(0,a),O=E.substring(0,s),L=m.substring(a),j=E.substring(s),Z=h(c,O),et=h(L,j);return Z.concat(et)}function M(m,E){if(!m||!E||m.charAt(0)!==E.charAt(0))return 0;for(var a=0,s=Math.min(m.length,E.length),c=s,O=0;a<c;)m.substring(O,c)==E.substring(O,c)?(a=c,O=a):s=c,c=Math.floor((s-a)/2+a);return I(m.charCodeAt(c-1))&&c--,c}function N(m,E){if(!m||!E||m.slice(-1)!==E.slice(-1))return 0;for(var a=0,s=Math.min(m.length,E.length),c=s,O=0;a<c;)m.substring(m.length-c,m.length-O)==E.substring(E.length-c,E.length-O)?(a=c,O=a):s=c,c=Math.floor((s-a)/2+a);return R(m.charCodeAt(m.length-c))&&c--,c}function P(m,E){var a=m.length>E.length?m:E,s=m.length>E.length?E:m;if(a.length<4||s.length*2<a.length)return null;function c(lt,_t,G){for(var vt=lt.substring(G,G+Math.floor(lt.length/4)),rt=-1,st="",H,w,q,J;(rt=_t.indexOf(vt,rt+1))!==-1;){var Q=M(lt.substring(G),_t.substring(rt)),ct=N(lt.substring(0,G),_t.substring(0,rt));st.length<ct+Q&&(st=_t.substring(rt-ct,rt)+_t.substring(rt,rt+Q),H=lt.substring(0,G-ct),w=lt.substring(G+Q),q=_t.substring(0,rt-ct),J=_t.substring(rt+Q))}return st.length*2>=lt.length?[H,w,q,J,st]:null}var O=c(a,s,Math.ceil(a.length/4)),L=c(a,s,Math.ceil(a.length/2)),j;if(!O&&!L)return null;L?O?j=O[4].length>L[4].length?O:L:j=L:j=O;var Z,et,ut,dt;m.length>E.length?(Z=j[0],et=j[1],ut=j[2],dt=j[3]):(ut=j[0],dt=j[1],Z=j[2],et=j[3]);var pt=j[4];return[Z,et,ut,dt,pt]}function S(m,E){m.push([y,""]);for(var a=0,s=0,c=0,O="",L="",j;a<m.length;){if(a<m.length-1&&!m[a][1]){m.splice(a,1);continue}switch(m[a][0]){case t:c++,L+=m[a][1],a++;break;case C:s++,O+=m[a][1],a++;break;case y:var Z=a-c-s-1;if(E){if(Z>=0&&W(m[Z][1])){var et=m[Z][1].slice(-1);if(m[Z][1]=m[Z][1].slice(0,-1),O=et+O,L=et+L,!m[Z][1]){m.splice(Z,1),a--;var ut=Z-1;m[ut]&&m[ut][0]===t&&(c++,L=m[ut][1]+L,ut--),m[ut]&&m[ut][0]===C&&(s++,O=m[ut][1]+O,ut--),Z=ut}}if(D(m[a][1])){var et=m[a][1].charAt(0);m[a][1]=m[a][1].slice(1),O+=et,L+=et}}if(a<m.length-1&&!m[a][1]){m.splice(a,1);break}if(O.length>0||L.length>0){O.length>0&&L.length>0&&(j=M(L,O),j!==0&&(Z>=0?m[Z][1]+=L.substring(0,j):(m.splice(0,0,[y,L.substring(0,j)]),a++),L=L.substring(j),O=O.substring(j)),j=N(L,O),j!==0&&(m[a][1]=L.substring(L.length-j)+m[a][1],L=L.substring(0,L.length-j),O=O.substring(0,O.length-j)));var dt=c+s;O.length===0&&L.length===0?(m.splice(a-dt,dt),a=a-dt):O.length===0?(m.splice(a-dt,dt,[t,L]),a=a-dt+1):L.length===0?(m.splice(a-dt,dt,[C,O]),a=a-dt+1):(m.splice(a-dt,dt,[C,O],[t,L]),a=a-dt+2)}a!==0&&m[a-1][0]===y?(m[a-1][1]+=m[a][1],m.splice(a,1)):a++,c=0,s=0,O="",L="";break}}m[m.length-1][1]===""&&m.pop();var pt=!1;for(a=1;a<m.length-1;)m[a-1][0]===y&&m[a+1][0]===y&&(m[a][1].substring(m[a][1].length-m[a-1][1].length)===m[a-1][1]?(m[a][1]=m[a-1][1]+m[a][1].substring(0,m[a][1].length-m[a-1][1].length),m[a+1][1]=m[a-1][1]+m[a+1][1],m.splice(a-1,1),pt=!0):m[a][1].substring(0,m[a+1][1].length)==m[a+1][1]&&(m[a-1][1]+=m[a+1][1],m[a][1]=m[a][1].substring(m[a+1][1].length)+m[a+1][1],m.splice(a+1,1),pt=!0)),a++;pt&&S(m,E)}function I(m){return m>=55296&&m<=56319}function R(m){return m>=56320&&m<=57343}function D(m){return R(m.charCodeAt(0))}function W(m){return I(m.charCodeAt(m.length-1))}function A(m){for(var E=[],a=0;a<m.length;a++)m[a][1].length>0&&E.push(m[a]);return E}function U(m,E,a,s){return W(m)||D(s)?null:A([[y,m],[C,E],[t,a],[y,s]])}function $(m,E,a){var s=typeof a=="number"?{index:a,length:0}:a.oldRange,c=typeof a=="number"?null:a.newRange,O=m.length,L=E.length;if(s.length===0&&(c===null||c.length===0)){var j=s.index,Z=m.slice(0,j),et=m.slice(j),ut=c?c.index:null;t:{var dt=j+L-O;if(ut!==null&&ut!==dt||dt<0||dt>L)break t;var pt=E.slice(0,dt),lt=E.slice(dt);if(lt!==et)break t;var _t=Math.min(j,dt),G=Z.slice(0,_t),vt=pt.slice(0,_t);if(G!==vt)break t;var rt=Z.slice(_t),st=pt.slice(_t);return U(G,rt,st,et)}t:{if(ut!==null&&ut!==j)break t;var H=j,pt=E.slice(0,H),lt=E.slice(H);if(pt!==Z)break t;var w=Math.min(O-H,L-H),q=et.slice(et.length-w),J=lt.slice(lt.length-w);if(q!==J)break t;var rt=et.slice(0,et.length-w),st=lt.slice(0,lt.length-w);return U(Z,rt,st,q)}}if(s.length>0&&c&&c.length===0)t:{var G=m.slice(0,s.index),q=m.slice(s.index+s.length),_t=G.length,w=q.length;if(L<_t+w)break t;var vt=E.slice(0,_t),J=E.slice(L-w);if(G!==vt||q!==J)break t;var rt=m.slice(_t,O-w),st=E.slice(_t,L-w);return U(G,rt,st,q)}return null}function k(m,E,a){return h(m,E,a,!0)}k.INSERT=t,k.DELETE=C,k.EQUAL=y,p.exports=k},8805:(p,C,t)=>{p=t.nmd(p);var y=200,h="__lodash_hash_undefined__",v=9007199254740991,_="[object Arguments]",B="[object Array]",M="[object Boolean]",N="[object Date]",P="[object Error]",S="[object Function]",I="[object GeneratorFunction]",R="[object Map]",D="[object Number]",W="[object Object]",A="[object Promise]",U="[object RegExp]",$="[object Set]",k="[object String]",m="[object Symbol]",E="[object WeakMap]",a="[object ArrayBuffer]",s="[object DataView]",c="[object Float32Array]",O="[object Float64Array]",L="[object Int8Array]",j="[object Int16Array]",Z="[object Int32Array]",et="[object Uint8Array]",ut="[object Uint8ClampedArray]",dt="[object Uint16Array]",pt="[object Uint32Array]",lt=/[\\^$.*+?()[\]{}|]/g,_t=/\w*$/,G=/^\[object .+?Constructor\]$/,vt=/^(?:0|[1-9]\d*)$/,rt={};rt[_]=rt[B]=rt[a]=rt[s]=rt[M]=rt[N]=rt[c]=rt[O]=rt[L]=rt[j]=rt[Z]=rt[R]=rt[D]=rt[W]=rt[U]=rt[$]=rt[k]=rt[m]=rt[et]=rt[ut]=rt[dt]=rt[pt]=!0,rt[P]=rt[S]=rt[E]=!1;var st=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,H=typeof self=="object"&&self&&self.Object===Object&&self,w=st||H||Function("return this")(),q=C&&!C.nodeType&&C,J=q&&!0&&p&&!p.nodeType&&p,Q=J&&J.exports===q;function ct(d,F){return d.set(F[0],F[1]),d}function mt(d,F){return d.add(F),d}function wt(d,F){for(var b=-1,z=d?d.length:0;++b<z&&F(d[b],b,d)!==!1;);return d}function ot(d,F){for(var b=-1,z=F.length,Ot=d.length;++b<z;)d[Ot+b]=F[b];return d}function tt(d,F,b,z){var Ot=-1,Mt=d?d.length:0;for(z&&Mt&&(b=d[++Ot]);++Ot<Mt;)b=F(b,d[Ot],Ot,d);return b}function gt(d,F){for(var b=-1,z=Array(d);++b<d;)z[b]=F(b);return z}function at(d,F){return d==null?void 0:d[F]}function it(d){var F=!1;if(d!=null&&typeof d.toString!="function")try{F=!!(d+"")}catch{}return F}function ft(d){var F=-1,b=Array(d.size);return d.forEach(function(z,Ot){b[++F]=[Ot,z]}),b}function Y(d,F){return function(b){return d(F(b))}}function T(d){var F=-1,b=Array(d.size);return d.forEach(function(z){b[++F]=z}),b}var o=Array.prototype,i=Function.prototype,f=Object.prototype,g=w["__core-js_shared__"],V=function(){var d=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),ht=i.toString,At=f.hasOwnProperty,Ht=f.toString,Ft=RegExp("^"+ht.call(At).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=Q?w.Buffer:void 0,qt=w.Symbol,Jt=w.Uint8Array,bt=Y(Object.getPrototypeOf,Object),Pt=Object.create,It=f.propertyIsEnumerable,Bt=o.splice,Nt=Object.getOwnPropertySymbols,$t=Yt?Yt.isBuffer:void 0,Dt=Y(Object.keys,Object),Ut=Le(w,"DataView"),Kt=Le(w,"Map"),te=Le(w,"Promise"),ae=Le(w,"Set"),ue=Le(w,"WeakMap"),pe=Le(Object,"create"),Te=Oe(Ut),yt=Oe(Kt),Ct=Oe(te),Tt=Oe(ae),Lt=Oe(ue),Rt=qt?qt.prototype:void 0,xt=Rt?Rt.valueOf:void 0;function jt(d){var F=-1,b=d?d.length:0;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function Zt(){this.__data__=pe?pe(null):{}}function Xt(d){return this.has(d)&&delete this.__data__[d]}function ee(d){var F=this.__data__;if(pe){var b=F[d];return b===h?void 0:b}return At.call(F,d)?F[d]:void 0}function re(d){var F=this.__data__;return pe?F[d]!==void 0:At.call(F,d)}function le(d,F){var b=this.__data__;return b[d]=pe&&F===void 0?h:F,this}jt.prototype.clear=Zt,jt.prototype.delete=Xt,jt.prototype.get=ee,jt.prototype.has=re,jt.prototype.set=le;function oe(d){var F=-1,b=d?d.length:0;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function Ee(){this.__data__=[]}function qe(d){var F=this.__data__,b=ar(F,d);if(b<0)return!1;var z=F.length-1;return b==z?F.pop():Bt.call(F,b,1),!0}function Xe(d){var F=this.__data__,b=ar(F,d);return b<0?void 0:F[b][1]}function Dr(d){return ar(this.__data__,d)>-1}function jr(d,F){var b=this.__data__,z=ar(b,d);return z<0?b.push([d,F]):b[z][1]=F,this}oe.prototype.clear=Ee,oe.prototype.delete=qe,oe.prototype.get=Xe,oe.prototype.has=Dr,oe.prototype.set=jr;function ve(d){var F=-1,b=d?d.length:0;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function ir(){this.__data__={hash:new jt,map:new(Kt||oe),string:new jt}}function kr(d){return $e(this,d).delete(d)}function Hr(d){return $e(this,d).get(d)}function vr(d){return $e(this,d).has(d)}function Fr(d,F){return $e(this,d).set(d,F),this}ve.prototype.clear=ir,ve.prototype.delete=kr,ve.prototype.get=Hr,ve.prototype.has=vr,ve.prototype.set=Fr;function Se(d){this.__data__=new oe(d)}function mr(){this.__data__=new oe}function Ur(d){return this.__data__.delete(d)}function Ne(d){return this.__data__.get(d)}function Qe(d){return this.__data__.has(d)}function Wr(d,F){var b=this.__data__;if(b instanceof oe){var z=b.__data__;if(!Kt||z.length<y-1)return z.push([d,F]),this;b=this.__data__=new ve(z)}return b.set(d,F),this}Se.prototype.clear=mr,Se.prototype.delete=Ur,Se.prototype.get=Ne,Se.prototype.has=Qe,Se.prototype.set=Wr;function we(d,F){var b=fr(d)||cr(d)?gt(d.length,String):[],z=b.length,Ot=!!z;for(var Mt in d)(F||At.call(d,Mt))&&!(Ot&&(Mt=="length"||qr(Mt,z)))&&b.push(Mt);return b}function or(d,F,b){var z=d[F];(!(At.call(d,F)&&ur(z,b))||b===void 0&&!(F in d))&&(d[F]=b)}function ar(d,F){for(var b=d.length;b--;)if(ur(d[b][0],F))return b;return-1}function ke(d,F){return d&&Or(F,dr(F),d)}function yr(d,F,b,z,Ot,Mt,zt){var Gt;if(z&&(Gt=Mt?z(d,Ot,Mt,zt):z(d)),Gt!==void 0)return Gt;if(!De(d))return d;var ne=fr(d);if(ne){if(Gt=Gr(d),!F)return zr(d,Gt)}else{var Vt=Ke(d),ie=Vt==S||Vt==I;if(Ue(d))return lr(d,F);if(Vt==W||Vt==_||ie&&!Mt){if(it(d))return Mt?d:{};if(Gt=Ae(ie?{}:d),!F)return Sr(d,ke(Gt,d))}else{if(!rt[Vt])return Mt?d:{};Gt=Je(d,Vt,yr,F)}}zt||(zt=new Se);var de=zt.get(d);if(de)return de;if(zt.set(d,Gt),!ne)var se=b?Vr(d):dr(d);return wt(se||d,function(me,ye){se&&(ye=me,me=d[ye]),or(Gt,ye,yr(me,F,b,z,ye,d,zt))}),Gt}function Cr(d){return De(d)?Pt(d):{}}function $r(d,F,b){var z=F(d);return fr(d)?z:ot(z,b(d))}function gr(d){return Ht.call(d)}function Kr(d){if(!De(d)||wr(d))return!1;var F=Be(d)||it(d)?Ft:G;return F.test(Oe(d))}function Zr(d){if(!xe(d))return Dt(d);var F=[];for(var b in Object(d))At.call(d,b)&&b!="constructor"&&F.push(b);return F}function lr(d,F){if(F)return d.slice();var b=new d.constructor(d.length);return d.copy(b),b}function br(d){var F=new d.constructor(d.byteLength);return new Jt(F).set(new Jt(d)),F}function He(d,F){var b=F?br(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}function sr(d,F,b){var z=F?b(ft(d),!0):ft(d);return tt(z,ct,new d.constructor)}function Tr(d){var F=new d.constructor(d.source,_t.exec(d));return F.lastIndex=d.lastIndex,F}function Ze(d,F,b){var z=F?b(T(d),!0):T(d);return tt(z,mt,new d.constructor)}function Ye(d){return xt?Object(xt.call(d)):{}}function _r(d,F){var b=F?br(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function zr(d,F){var b=-1,z=d.length;for(F||(F=Array(z));++b<z;)F[b]=d[b];return F}function Or(d,F,b,z){b||(b={});for(var Ot=-1,Mt=F.length;++Ot<Mt;){var zt=F[Ot],Gt=z?z(b[zt],d[zt],zt,b,d):void 0;or(b,zt,Gt===void 0?d[zt]:Gt)}return b}function Sr(d,F){return Or(d,Fe(d),F)}function Vr(d){return $r(d,dr,Fe)}function $e(d,F){var b=d.__data__;return Xr(F)?b[typeof F=="string"?"string":"hash"]:b.map}function Le(d,F){var b=at(d,F);return Kr(b)?b:void 0}var Fe=Nt?Y(Nt,Object):ze,Ke=gr;(Ut&&Ke(new Ut(new ArrayBuffer(1)))!=s||Kt&&Ke(new Kt)!=R||te&&Ke(te.resolve())!=A||ae&&Ke(new ae)!=$||ue&&Ke(new ue)!=E)&&(Ke=function(d){var F=Ht.call(d),b=F==W?d.constructor:void 0,z=b?Oe(b):void 0;if(z)switch(z){case Te:return s;case yt:return R;case Ct:return A;case Tt:return $;case Lt:return E}return F});function Gr(d){var F=d.length,b=d.constructor(F);return F&&typeof d[0]=="string"&&At.call(d,"index")&&(b.index=d.index,b.input=d.input),b}function Ae(d){return typeof d.constructor=="function"&&!xe(d)?Cr(bt(d)):{}}function Je(d,F,b,z){var Ot=d.constructor;switch(F){case a:return br(d);case M:case N:return new Ot(+d);case s:return He(d,z);case c:case O:case L:case j:case Z:case et:case ut:case dt:case pt:return _r(d,z);case R:return sr(d,z,b);case D:case k:return new Ot(d);case U:return Tr(d);case $:return Ze(d,z,b);case m:return Ye(d)}}function qr(d,F){return F=F??v,!!F&&(typeof d=="number"||vt.test(d))&&d>-1&&d%1==0&&d<F}function Xr(d){var F=typeof d;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?d!=="__proto__":d===null}function wr(d){return!!V&&V in d}function xe(d){var F=d&&d.constructor,b=typeof F=="function"&&F.prototype||f;return d===b}function Oe(d){if(d!=null){try{return ht.call(d)}catch{}try{return d+""}catch{}}return""}function tr(d){return yr(d,!0,!0)}function ur(d,F){return d===F||d!==d&&F!==F}function cr(d){return Pr(d)&&At.call(d,"callee")&&(!It.call(d,"callee")||Ht.call(d)==_)}var fr=Array.isArray;function Me(d){return d!=null&&Ar(d.length)&&!Be(d)}function Pr(d){return Rr(d)&&Me(d)}var Ue=$t||hr;function Be(d){var F=De(d)?Ht.call(d):"";return F==S||F==I}function Ar(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=v}function De(d){var F=typeof d;return!!d&&(F=="object"||F=="function")}function Rr(d){return!!d&&typeof d=="object"}function dr(d){return Me(d)?we(d):Zr(d)}function ze(){return[]}function hr(){return!1}p.exports=tr},2722:(p,C,t)=>{p=t.nmd(p);var y=200,h="__lodash_hash_undefined__",v=1,_=2,B=9007199254740991,M="[object Arguments]",N="[object Array]",P="[object AsyncFunction]",S="[object Boolean]",I="[object Date]",R="[object Error]",D="[object Function]",W="[object GeneratorFunction]",A="[object Map]",U="[object Number]",$="[object Null]",k="[object Object]",m="[object Promise]",E="[object Proxy]",a="[object RegExp]",s="[object Set]",c="[object String]",O="[object Symbol]",L="[object Undefined]",j="[object WeakMap]",Z="[object ArrayBuffer]",et="[object DataView]",ut="[object Float32Array]",dt="[object Float64Array]",pt="[object Int8Array]",lt="[object Int16Array]",_t="[object Int32Array]",G="[object Uint8Array]",vt="[object Uint8ClampedArray]",rt="[object Uint16Array]",st="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,J={};J[ut]=J[dt]=J[pt]=J[lt]=J[_t]=J[G]=J[vt]=J[rt]=J[st]=!0,J[M]=J[N]=J[Z]=J[S]=J[et]=J[I]=J[R]=J[D]=J[A]=J[U]=J[k]=J[a]=J[s]=J[c]=J[j]=!1;var Q=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,ct=typeof self=="object"&&self&&self.Object===Object&&self,mt=Q||ct||Function("return this")(),wt=C&&!C.nodeType&&C,ot=wt&&!0&&p&&!p.nodeType&&p,tt=ot&&ot.exports===wt,gt=tt&&Q.process,at=function(){try{return gt&&gt.binding&&gt.binding("util")}catch{}}(),it=at&&at.isTypedArray;function ft(d,F){for(var b=-1,z=d==null?0:d.length,Ot=0,Mt=[];++b<z;){var zt=d[b];F(zt,b,d)&&(Mt[Ot++]=zt)}return Mt}function Y(d,F){for(var b=-1,z=F.length,Ot=d.length;++b<z;)d[Ot+b]=F[b];return d}function T(d,F){for(var b=-1,z=d==null?0:d.length;++b<z;)if(F(d[b],b,d))return!0;return!1}function o(d,F){for(var b=-1,z=Array(d);++b<d;)z[b]=F(b);return z}function i(d){return function(F){return d(F)}}function f(d,F){return d.has(F)}function g(d,F){return d==null?void 0:d[F]}function V(d){var F=-1,b=Array(d.size);return d.forEach(function(z,Ot){b[++F]=[Ot,z]}),b}function ht(d,F){return function(b){return d(F(b))}}function At(d){var F=-1,b=Array(d.size);return d.forEach(function(z){b[++F]=z}),b}var Ht=Array.prototype,Ft=Function.prototype,Yt=Object.prototype,qt=mt["__core-js_shared__"],Jt=Ft.toString,bt=Yt.hasOwnProperty,Pt=function(){var d=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),It=Yt.toString,Bt=RegExp("^"+Jt.call(bt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=tt?mt.Buffer:void 0,$t=mt.Symbol,Dt=mt.Uint8Array,Ut=Yt.propertyIsEnumerable,Kt=Ht.splice,te=$t?$t.toStringTag:void 0,ae=Object.getOwnPropertySymbols,ue=Nt?Nt.isBuffer:void 0,pe=ht(Object.keys,Object),Te=Fe(mt,"DataView"),yt=Fe(mt,"Map"),Ct=Fe(mt,"Promise"),Tt=Fe(mt,"Set"),Lt=Fe(mt,"WeakMap"),Rt=Fe(Object,"create"),xt=Oe(Te),jt=Oe(yt),Zt=Oe(Ct),Xt=Oe(Tt),ee=Oe(Lt),re=$t?$t.prototype:void 0,le=re?re.valueOf:void 0;function oe(d){var F=-1,b=d==null?0:d.length;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function Ee(){this.__data__=Rt?Rt(null):{},this.size=0}function qe(d){var F=this.has(d)&&delete this.__data__[d];return this.size-=F?1:0,F}function Xe(d){var F=this.__data__;if(Rt){var b=F[d];return b===h?void 0:b}return bt.call(F,d)?F[d]:void 0}function Dr(d){var F=this.__data__;return Rt?F[d]!==void 0:bt.call(F,d)}function jr(d,F){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=Rt&&F===void 0?h:F,this}oe.prototype.clear=Ee,oe.prototype.delete=qe,oe.prototype.get=Xe,oe.prototype.has=Dr,oe.prototype.set=jr;function ve(d){var F=-1,b=d==null?0:d.length;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function ir(){this.__data__=[],this.size=0}function kr(d){var F=this.__data__,b=lr(F,d);if(b<0)return!1;var z=F.length-1;return b==z?F.pop():Kt.call(F,b,1),--this.size,!0}function Hr(d){var F=this.__data__,b=lr(F,d);return b<0?void 0:F[b][1]}function vr(d){return lr(this.__data__,d)>-1}function Fr(d,F){var b=this.__data__,z=lr(b,d);return z<0?(++this.size,b.push([d,F])):b[z][1]=F,this}ve.prototype.clear=ir,ve.prototype.delete=kr,ve.prototype.get=Hr,ve.prototype.has=vr,ve.prototype.set=Fr;function Se(d){var F=-1,b=d==null?0:d.length;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function mr(){this.size=0,this.__data__={hash:new oe,map:new(yt||ve),string:new oe}}function Ur(d){var F=Le(this,d).delete(d);return this.size-=F?1:0,F}function Ne(d){return Le(this,d).get(d)}function Qe(d){return Le(this,d).has(d)}function Wr(d,F){var b=Le(this,d),z=b.size;return b.set(d,F),this.size+=b.size==z?0:1,this}Se.prototype.clear=mr,Se.prototype.delete=Ur,Se.prototype.get=Ne,Se.prototype.has=Qe,Se.prototype.set=Wr;function we(d){var F=-1,b=d==null?0:d.length;for(this.__data__=new Se;++F<b;)this.add(d[F])}function or(d){return this.__data__.set(d,h),this}function ar(d){return this.__data__.has(d)}we.prototype.add=we.prototype.push=or,we.prototype.has=ar;function ke(d){var F=this.__data__=new ve(d);this.size=F.size}function yr(){this.__data__=new ve,this.size=0}function Cr(d){var F=this.__data__,b=F.delete(d);return this.size=F.size,b}function $r(d){return this.__data__.get(d)}function gr(d){return this.__data__.has(d)}function Kr(d,F){var b=this.__data__;if(b instanceof ve){var z=b.__data__;if(!yt||z.length<y-1)return z.push([d,F]),this.size=++b.size,this;b=this.__data__=new Se(z)}return b.set(d,F),this.size=b.size,this}ke.prototype.clear=yr,ke.prototype.delete=Cr,ke.prototype.get=$r,ke.prototype.has=gr,ke.prototype.set=Kr;function Zr(d,F){var b=cr(d),z=!b&&ur(d),Ot=!b&&!z&&Me(d),Mt=!b&&!z&&!Ot&&Rr(d),zt=b||z||Ot||Mt,Gt=zt?o(d.length,String):[],ne=Gt.length;for(var Vt in d)(F||bt.call(d,Vt))&&!(zt&&(Vt=="length"||Ot&&(Vt=="offset"||Vt=="parent")||Mt&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||Je(Vt,ne)))&&Gt.push(Vt);return Gt}function lr(d,F){for(var b=d.length;b--;)if(tr(d[b][0],F))return b;return-1}function br(d,F,b){var z=F(d);return cr(d)?z:Y(z,b(d))}function He(d){return d==null?d===void 0?L:$:te&&te in Object(d)?Ke(d):xe(d)}function sr(d){return De(d)&&He(d)==M}function Tr(d,F,b,z,Ot){return d===F?!0:d==null||F==null||!De(d)&&!De(F)?d!==d&&F!==F:Ze(d,F,b,z,Tr,Ot)}function Ze(d,F,b,z,Ot,Mt){var zt=cr(d),Gt=cr(F),ne=zt?N:Ae(d),Vt=Gt?N:Ae(F);ne=ne==M?k:ne,Vt=Vt==M?k:Vt;var ie=ne==k,de=Vt==k,se=ne==Vt;if(se&&Me(d)){if(!Me(F))return!1;zt=!0,ie=!1}if(se&&!ie)return Mt||(Mt=new ke),zt||Rr(d)?Or(d,F,b,z,Ot,Mt):Sr(d,F,ne,b,z,Ot,Mt);if(!(b&v)){var me=ie&&bt.call(d,"__wrapped__"),ye=de&&bt.call(F,"__wrapped__");if(me||ye){var Ce=me?d.value():d,je=ye?F.value():F;return Mt||(Mt=new ke),Ot(Ce,je,b,z,Mt)}}return se?(Mt||(Mt=new ke),Vr(d,F,b,z,Ot,Mt)):!1}function Ye(d){if(!Ar(d)||Xr(d))return!1;var F=Ue(d)?Bt:w;return F.test(Oe(d))}function _r(d){return De(d)&&Be(d.length)&&!!J[He(d)]}function zr(d){if(!wr(d))return pe(d);var F=[];for(var b in Object(d))bt.call(d,b)&&b!="constructor"&&F.push(b);return F}function Or(d,F,b,z,Ot,Mt){var zt=b&v,Gt=d.length,ne=F.length;if(Gt!=ne&&!(zt&&ne>Gt))return!1;var Vt=Mt.get(d);if(Vt&&Mt.get(F))return Vt==F;var ie=-1,de=!0,se=b&_?new we:void 0;for(Mt.set(d,F),Mt.set(F,d);++ie<Gt;){var me=d[ie],ye=F[ie];if(z)var Ce=zt?z(ye,me,ie,F,d,Mt):z(me,ye,ie,d,F,Mt);if(Ce!==void 0){if(Ce)continue;de=!1;break}if(se){if(!T(F,function(je,er){if(!f(se,er)&&(me===je||Ot(me,je,b,z,Mt)))return se.push(er)})){de=!1;break}}else if(!(me===ye||Ot(me,ye,b,z,Mt))){de=!1;break}}return Mt.delete(d),Mt.delete(F),de}function Sr(d,F,b,z,Ot,Mt,zt){switch(b){case et:if(d.byteLength!=F.byteLength||d.byteOffset!=F.byteOffset)return!1;d=d.buffer,F=F.buffer;case Z:return!(d.byteLength!=F.byteLength||!Mt(new Dt(d),new Dt(F)));case S:case I:case U:return tr(+d,+F);case R:return d.name==F.name&&d.message==F.message;case a:case c:return d==F+"";case A:var Gt=V;case s:var ne=z&v;if(Gt||(Gt=At),d.size!=F.size&&!ne)return!1;var Vt=zt.get(d);if(Vt)return Vt==F;z|=_,zt.set(d,F);var ie=Or(Gt(d),Gt(F),z,Ot,Mt,zt);return zt.delete(d),ie;case O:if(le)return le.call(d)==le.call(F)}return!1}function Vr(d,F,b,z,Ot,Mt){var zt=b&v,Gt=$e(d),ne=Gt.length,Vt=$e(F),ie=Vt.length;if(ne!=ie&&!zt)return!1;for(var de=ne;de--;){var se=Gt[de];if(!(zt?se in F:bt.call(F,se)))return!1}var me=Mt.get(d);if(me&&Mt.get(F))return me==F;var ye=!0;Mt.set(d,F),Mt.set(F,d);for(var Ce=zt;++de<ne;){se=Gt[de];var je=d[se],er=F[se];if(z)var En=zt?z(er,je,se,F,d,Mt):z(je,er,se,d,F,Mt);if(!(En===void 0?je===er||Ot(je,er,b,z,Mt):En)){ye=!1;break}Ce||(Ce=se=="constructor")}if(ye&&!Ce){var rr=d.constructor,rn=F.constructor;rr!=rn&&"constructor"in d&&"constructor"in F&&!(typeof rr=="function"&&rr instanceof rr&&typeof rn=="function"&&rn instanceof rn)&&(ye=!1)}return Mt.delete(d),Mt.delete(F),ye}function $e(d){return br(d,dr,Gr)}function Le(d,F){var b=d.__data__;return qr(F)?b[typeof F=="string"?"string":"hash"]:b.map}function Fe(d,F){var b=g(d,F);return Ye(b)?b:void 0}function Ke(d){var F=bt.call(d,te),b=d[te];try{d[te]=void 0;var z=!0}catch{}var Ot=It.call(d);return z&&(F?d[te]=b:delete d[te]),Ot}var Gr=ae?function(d){return d==null?[]:(d=Object(d),ft(ae(d),function(F){return Ut.call(d,F)}))}:ze,Ae=He;(Te&&Ae(new Te(new ArrayBuffer(1)))!=et||yt&&Ae(new yt)!=A||Ct&&Ae(Ct.resolve())!=m||Tt&&Ae(new Tt)!=s||Lt&&Ae(new Lt)!=j)&&(Ae=function(d){var F=He(d),b=F==k?d.constructor:void 0,z=b?Oe(b):"";if(z)switch(z){case xt:return et;case jt:return A;case Zt:return m;case Xt:return s;case ee:return j}return F});function Je(d,F){return F=F??B,!!F&&(typeof d=="number"||q.test(d))&&d>-1&&d%1==0&&d<F}function qr(d){var F=typeof d;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?d!=="__proto__":d===null}function Xr(d){return!!Pt&&Pt in d}function wr(d){var F=d&&d.constructor,b=typeof F=="function"&&F.prototype||Yt;return d===b}function xe(d){return It.call(d)}function Oe(d){if(d!=null){try{return Jt.call(d)}catch{}try{return d+""}catch{}}return""}function tr(d,F){return d===F||d!==d&&F!==F}var ur=sr(function(){return arguments}())?sr:function(d){return De(d)&&bt.call(d,"callee")&&!Ut.call(d,"callee")},cr=Array.isArray;function fr(d){return d!=null&&Be(d.length)&&!Ue(d)}var Me=ue||hr;function Pr(d,F){return Tr(d,F)}function Ue(d){if(!Ar(d))return!1;var F=He(d);return F==D||F==W||F==P||F==E}function Be(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=B}function Ar(d){var F=typeof d;return d!=null&&(F=="object"||F=="function")}function De(d){return d!=null&&typeof d=="object"}var Rr=it?i(it):_r;function dr(d){return fr(d)?Zr(d):zr(d)}function ze(){return[]}function hr(){return!1}p.exports=Pr},732:(p,C,t)=>{p=t.nmd(p);var y=200,h="__lodash_hash_undefined__",v=800,_=16,B=9007199254740991,M="[object Arguments]",N="[object Array]",P="[object AsyncFunction]",S="[object Boolean]",I="[object Date]",R="[object Error]",D="[object Function]",W="[object GeneratorFunction]",A="[object Map]",U="[object Number]",$="[object Null]",k="[object Object]",m="[object Proxy]",E="[object RegExp]",a="[object Set]",s="[object String]",c="[object Undefined]",O="[object WeakMap]",L="[object ArrayBuffer]",j="[object DataView]",Z="[object Float32Array]",et="[object Float64Array]",ut="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",lt="[object Uint8Array]",_t="[object Uint8ClampedArray]",G="[object Uint16Array]",vt="[object Uint32Array]",rt=/[\\^$.*+?()[\]{}|]/g,st=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,w={};w[Z]=w[et]=w[ut]=w[dt]=w[pt]=w[lt]=w[_t]=w[G]=w[vt]=!0,w[M]=w[N]=w[L]=w[S]=w[j]=w[I]=w[R]=w[D]=w[A]=w[U]=w[k]=w[E]=w[a]=w[s]=w[O]=!1;var q=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,J=typeof self=="object"&&self&&self.Object===Object&&self,Q=q||J||Function("return this")(),ct=C&&!C.nodeType&&C,mt=ct&&!0&&p&&!p.nodeType&&p,wt=mt&&mt.exports===ct,ot=wt&&q.process,tt=function(){try{var b=mt&&mt.require&&mt.require("util").types;return b||ot&&ot.binding&&ot.binding("util")}catch{}}(),gt=tt&&tt.isTypedArray;function at(b,z,Ot){switch(Ot.length){case 0:return b.call(z);case 1:return b.call(z,Ot[0]);case 2:return b.call(z,Ot[0],Ot[1]);case 3:return b.call(z,Ot[0],Ot[1],Ot[2])}return b.apply(z,Ot)}function it(b,z){for(var Ot=-1,Mt=Array(b);++Ot<b;)Mt[Ot]=z(Ot);return Mt}function ft(b){return function(z){return b(z)}}function Y(b,z){return b==null?void 0:b[z]}function T(b,z){return function(Ot){return b(z(Ot))}}var o=Array.prototype,i=Function.prototype,f=Object.prototype,g=Q["__core-js_shared__"],V=i.toString,ht=f.hasOwnProperty,At=function(){var b=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),Ht=f.toString,Ft=V.call(Object),Yt=RegExp("^"+V.call(ht).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=wt?Q.Buffer:void 0,Jt=Q.Symbol,bt=Q.Uint8Array,Pt=qt?qt.allocUnsafe:void 0,It=T(Object.getPrototypeOf,Object),Bt=Object.create,Nt=f.propertyIsEnumerable,$t=o.splice,Dt=Jt?Jt.toStringTag:void 0,Ut=function(){try{var b=_r(Object,"defineProperty");return b({},"",{}),b}catch{}}(),Kt=qt?qt.isBuffer:void 0,te=Math.max,ae=Date.now,ue=_r(Q,"Map"),pe=_r(Object,"create"),Te=function(){function b(){}return function(z){if(!Ue(z))return{};if(Bt)return Bt(z);b.prototype=z;var Ot=new b;return b.prototype=void 0,Ot}}();function yt(b){var z=-1,Ot=b==null?0:b.length;for(this.clear();++z<Ot;){var Mt=b[z];this.set(Mt[0],Mt[1])}}function Ct(){this.__data__=pe?pe(null):{},this.size=0}function Tt(b){var z=this.has(b)&&delete this.__data__[b];return this.size-=z?1:0,z}function Lt(b){var z=this.__data__;if(pe){var Ot=z[b];return Ot===h?void 0:Ot}return ht.call(z,b)?z[b]:void 0}function Rt(b){var z=this.__data__;return pe?z[b]!==void 0:ht.call(z,b)}function xt(b,z){var Ot=this.__data__;return this.size+=this.has(b)?0:1,Ot[b]=pe&&z===void 0?h:z,this}yt.prototype.clear=Ct,yt.prototype.delete=Tt,yt.prototype.get=Lt,yt.prototype.has=Rt,yt.prototype.set=xt;function jt(b){var z=-1,Ot=b==null?0:b.length;for(this.clear();++z<Ot;){var Mt=b[z];this.set(Mt[0],Mt[1])}}function Zt(){this.__data__=[],this.size=0}function Xt(b){var z=this.__data__,Ot=Ne(z,b);if(Ot<0)return!1;var Mt=z.length-1;return Ot==Mt?z.pop():$t.call(z,Ot,1),--this.size,!0}function ee(b){var z=this.__data__,Ot=Ne(z,b);return Ot<0?void 0:z[Ot][1]}function re(b){return Ne(this.__data__,b)>-1}function le(b,z){var Ot=this.__data__,Mt=Ne(Ot,b);return Mt<0?(++this.size,Ot.push([b,z])):Ot[Mt][1]=z,this}jt.prototype.clear=Zt,jt.prototype.delete=Xt,jt.prototype.get=ee,jt.prototype.has=re,jt.prototype.set=le;function oe(b){var z=-1,Ot=b==null?0:b.length;for(this.clear();++z<Ot;){var Mt=b[z];this.set(Mt[0],Mt[1])}}function Ee(){this.size=0,this.__data__={hash:new yt,map:new(ue||jt),string:new yt}}function qe(b){var z=Ye(this,b).delete(b);return this.size-=z?1:0,z}function Xe(b){return Ye(this,b).get(b)}function Dr(b){return Ye(this,b).has(b)}function jr(b,z){var Ot=Ye(this,b),Mt=Ot.size;return Ot.set(b,z),this.size+=Ot.size==Mt?0:1,this}oe.prototype.clear=Ee,oe.prototype.delete=qe,oe.prototype.get=Xe,oe.prototype.has=Dr,oe.prototype.set=jr;function ve(b){var z=this.__data__=new jt(b);this.size=z.size}function ir(){this.__data__=new jt,this.size=0}function kr(b){var z=this.__data__,Ot=z.delete(b);return this.size=z.size,Ot}function Hr(b){return this.__data__.get(b)}function vr(b){return this.__data__.has(b)}function Fr(b,z){var Ot=this.__data__;if(Ot instanceof jt){var Mt=Ot.__data__;if(!ue||Mt.length<y-1)return Mt.push([b,z]),this.size=++Ot.size,this;Ot=this.__data__=new oe(Mt)}return Ot.set(b,z),this.size=Ot.size,this}ve.prototype.clear=ir,ve.prototype.delete=kr,ve.prototype.get=Hr,ve.prototype.has=vr,ve.prototype.set=Fr;function Se(b,z){var Ot=tr(b),Mt=!Ot&&Oe(b),zt=!Ot&&!Mt&&fr(b),Gt=!Ot&&!Mt&&!zt&&De(b),ne=Ot||Mt||zt||Gt,Vt=ne?it(b.length,String):[],ie=Vt.length;for(var de in b)(z||ht.call(b,de))&&!(ne&&(de=="length"||zt&&(de=="offset"||de=="parent")||Gt&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Sr(de,ie)))&&Vt.push(de);return Vt}function mr(b,z,Ot){(Ot!==void 0&&!xe(b[z],Ot)||Ot===void 0&&!(z in b))&&Qe(b,z,Ot)}function Ur(b,z,Ot){var Mt=b[z];(!(ht.call(b,z)&&xe(Mt,Ot))||Ot===void 0&&!(z in b))&&Qe(b,z,Ot)}function Ne(b,z){for(var Ot=b.length;Ot--;)if(xe(b[Ot][0],z))return Ot;return-1}function Qe(b,z,Ot){z=="__proto__"&&Ut?Ut(b,z,{configurable:!0,enumerable:!0,value:Ot,writable:!0}):b[z]=Ot}var Wr=Ze();function we(b){return b==null?b===void 0?c:$:Dt&&Dt in Object(b)?zr(b):Gr(b)}function or(b){return Be(b)&&we(b)==M}function ar(b){if(!Ue(b)||Le(b))return!1;var z=Me(b)?Yt:st;return z.test(wr(b))}function ke(b){return Be(b)&&Pr(b.length)&&!!w[we(b)]}function yr(b){if(!Ue(b))return Ke(b);var z=Fe(b),Ot=[];for(var Mt in b)Mt=="constructor"&&(z||!ht.call(b,Mt))||Ot.push(Mt);return Ot}function Cr(b,z,Ot,Mt,zt){b!==z&&Wr(z,function(Gt,ne){if(zt||(zt=new ve),Ue(Gt))$r(b,z,ne,Ot,Cr,Mt,zt);else{var Vt=Mt?Mt(Je(b,ne),Gt,ne+"",b,z,zt):void 0;Vt===void 0&&(Vt=Gt),mr(b,ne,Vt)}},dr)}function $r(b,z,Ot,Mt,zt,Gt,ne){var Vt=Je(b,Ot),ie=Je(z,Ot),de=ne.get(ie);if(de){mr(b,Ot,de);return}var se=Gt?Gt(Vt,ie,Ot+"",b,z,ne):void 0,me=se===void 0;if(me){var ye=tr(ie),Ce=!ye&&fr(ie),je=!ye&&!Ce&&De(ie);se=ie,ye||Ce||je?tr(Vt)?se=Vt:cr(Vt)?se=He(Vt):Ce?(me=!1,se=Zr(ie,!0)):je?(me=!1,se=br(ie,!0)):se=[]:Ar(ie)||Oe(ie)?(se=Vt,Oe(Vt)?se=Rr(Vt):(!Ue(Vt)||Me(Vt))&&(se=Or(ie))):me=!1}me&&(ne.set(ie,se),zt(se,ie,Mt,Gt,ne),ne.delete(ie)),mr(b,Ot,se)}function gr(b,z){return qr(Ae(b,z,d),b+"")}var Kr=Ut?function(b,z){return Ut(b,"toString",{configurable:!0,enumerable:!1,value:hr(z),writable:!0})}:d;function Zr(b,z){if(z)return b.slice();var Ot=b.length,Mt=Pt?Pt(Ot):new b.constructor(Ot);return b.copy(Mt),Mt}function lr(b){var z=new b.constructor(b.byteLength);return new bt(z).set(new bt(b)),z}function br(b,z){var Ot=z?lr(b.buffer):b.buffer;return new b.constructor(Ot,b.byteOffset,b.length)}function He(b,z){var Ot=-1,Mt=b.length;for(z||(z=Array(Mt));++Ot<Mt;)z[Ot]=b[Ot];return z}function sr(b,z,Ot,Mt){var zt=!Ot;Ot||(Ot={});for(var Gt=-1,ne=z.length;++Gt<ne;){var Vt=z[Gt],ie=Mt?Mt(Ot[Vt],b[Vt],Vt,Ot,b):void 0;ie===void 0&&(ie=b[Vt]),zt?Qe(Ot,Vt,ie):Ur(Ot,Vt,ie)}return Ot}function Tr(b){return gr(function(z,Ot){var Mt=-1,zt=Ot.length,Gt=zt>1?Ot[zt-1]:void 0,ne=zt>2?Ot[2]:void 0;for(Gt=b.length>3&&typeof Gt=="function"?(zt--,Gt):void 0,ne&&Vr(Ot[0],Ot[1],ne)&&(Gt=zt<3?void 0:Gt,zt=1),z=Object(z);++Mt<zt;){var Vt=Ot[Mt];Vt&&b(z,Vt,Mt,Gt)}return z})}function Ze(b){return function(z,Ot,Mt){for(var zt=-1,Gt=Object(z),ne=Mt(z),Vt=ne.length;Vt--;){var ie=ne[b?Vt:++zt];if(Ot(Gt[ie],ie,Gt)===!1)break}return z}}function Ye(b,z){var Ot=b.__data__;return $e(z)?Ot[typeof z=="string"?"string":"hash"]:Ot.map}function _r(b,z){var Ot=Y(b,z);return ar(Ot)?Ot:void 0}function zr(b){var z=ht.call(b,Dt),Ot=b[Dt];try{b[Dt]=void 0;var Mt=!0}catch{}var zt=Ht.call(b);return Mt&&(z?b[Dt]=Ot:delete b[Dt]),zt}function Or(b){return typeof b.constructor=="function"&&!Fe(b)?Te(It(b)):{}}function Sr(b,z){var Ot=typeof b;return z=z??B,!!z&&(Ot=="number"||Ot!="symbol"&&H.test(b))&&b>-1&&b%1==0&&b<z}function Vr(b,z,Ot){if(!Ue(Ot))return!1;var Mt=typeof z;return(Mt=="number"?ur(Ot)&&Sr(z,Ot.length):Mt=="string"&&z in Ot)?xe(Ot[z],b):!1}function $e(b){var z=typeof b;return z=="string"||z=="number"||z=="symbol"||z=="boolean"?b!=="__proto__":b===null}function Le(b){return!!At&&At in b}function Fe(b){var z=b&&b.constructor,Ot=typeof z=="function"&&z.prototype||f;return b===Ot}function Ke(b){var z=[];if(b!=null)for(var Ot in Object(b))z.push(Ot);return z}function Gr(b){return Ht.call(b)}function Ae(b,z,Ot){return z=te(z===void 0?b.length-1:z,0),function(){for(var Mt=arguments,zt=-1,Gt=te(Mt.length-z,0),ne=Array(Gt);++zt<Gt;)ne[zt]=Mt[z+zt];zt=-1;for(var Vt=Array(z+1);++zt<z;)Vt[zt]=Mt[zt];return Vt[z]=Ot(ne),at(b,this,Vt)}}function Je(b,z){if(!(z==="constructor"&&typeof b[z]=="function")&&z!="__proto__")return b[z]}var qr=Xr(Kr);function Xr(b){var z=0,Ot=0;return function(){var Mt=ae(),zt=_-(Mt-Ot);if(Ot=Mt,zt>0){if(++z>=v)return arguments[0]}else z=0;return b.apply(void 0,arguments)}}function wr(b){if(b!=null){try{return V.call(b)}catch{}try{return b+""}catch{}}return""}function xe(b,z){return b===z||b!==b&&z!==z}var Oe=or(function(){return arguments}())?or:function(b){return Be(b)&&ht.call(b,"callee")&&!Nt.call(b,"callee")},tr=Array.isArray;function ur(b){return b!=null&&Pr(b.length)&&!Me(b)}function cr(b){return Be(b)&&ur(b)}var fr=Kt||F;function Me(b){if(!Ue(b))return!1;var z=we(b);return z==D||z==W||z==P||z==m}function Pr(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=B}function Ue(b){var z=typeof b;return b!=null&&(z=="object"||z=="function")}function Be(b){return b!=null&&typeof b=="object"}function Ar(b){if(!Be(b)||we(b)!=k)return!1;var z=It(b);if(z===null)return!0;var Ot=ht.call(z,"constructor")&&z.constructor;return typeof Ot=="function"&&Ot instanceof Ot&&V.call(Ot)==Ft}var De=gt?ft(gt):ke;function Rr(b){return sr(b,dr(b))}function dr(b){return ur(b)?Se(b,!0):yr(b)}var ze=Tr(function(b,z,Ot){Cr(b,z,Ot)});function hr(b){return function(){return b}}function d(b){return b}function F(){return!1}p.exports=ze},5143:(p,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const y=t(8805),h=t(2722);var v;(function(_){function B(S={},I={},R=!1){typeof S!="object"&&(S={}),typeof I!="object"&&(I={});let D=y(I);R||(D=Object.keys(D).reduce((W,A)=>(D[A]!=null&&(W[A]=D[A]),W),{}));for(const W in S)S[W]!==void 0&&I[W]===void 0&&(D[W]=S[W]);return Object.keys(D).length>0?D:void 0}_.compose=B;function M(S={},I={}){typeof S!="object"&&(S={}),typeof I!="object"&&(I={});const R=Object.keys(S).concat(Object.keys(I)).reduce((D,W)=>(h(S[W],I[W])||(D[W]=I[W]===void 0?null:I[W]),D),{});return Object.keys(R).length>0?R:void 0}_.diff=M;function N(S={},I={}){S=S||{};const R=Object.keys(I).reduce((D,W)=>(I[W]!==S[W]&&S[W]!==void 0&&(D[W]=I[W]),D),{});return Object.keys(S).reduce((D,W)=>(S[W]!==I[W]&&I[W]===void 0&&(D[W]=null),D),R)}_.invert=N;function P(S,I,R=!1){if(typeof S!="object")return I;if(typeof I!="object")return;if(!R)return I;const D=Object.keys(I).reduce((W,A)=>(S[A]===void 0&&(W[A]=I[A]),W),{});return Object.keys(D).length>0?D:void 0}_.transform=P})(v||(v={})),C.default=v},9098:(p,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const y=t(1456),h=t(8805),v=t(2722),_=t(5143);C.AttributeMap=_.default;const B=t(6237);C.Op=B.default;const M=t(2849);C.OpIterator=M.default;const N="\0",P=(I,R)=>{if(typeof I!="object"||I===null)throw new Error(`cannot retain a ${typeof I}`);if(typeof R!="object"||R===null)throw new Error(`cannot retain a ${typeof R}`);const D=Object.keys(I)[0];if(!D||D!==Object.keys(R)[0])throw new Error(`embed types not matched: ${D} != ${Object.keys(R)[0]}`);return[D,I[D],R[D]]};class S{constructor(R){Array.isArray(R)?this.ops=R:R!=null&&Array.isArray(R.ops)?this.ops=R.ops:this.ops=[]}static registerEmbed(R,D){this.handlers[R]=D}static unregisterEmbed(R){delete this.handlers[R]}static getHandler(R){const D=this.handlers[R];if(!D)throw new Error(`no handlers for embed type "${R}"`);return D}insert(R,D){const W={};return typeof R=="string"&&R.length===0?this:(W.insert=R,D!=null&&typeof D=="object"&&Object.keys(D).length>0&&(W.attributes=D),this.push(W))}delete(R){return R<=0?this:this.push({delete:R})}retain(R,D){if(typeof R=="number"&&R<=0)return this;const W={retain:R};return D!=null&&typeof D=="object"&&Object.keys(D).length>0&&(W.attributes=D),this.push(W)}push(R){let D=this.ops.length,W=this.ops[D-1];if(R=h(R),typeof W=="object"){if(typeof R.delete=="number"&&typeof W.delete=="number")return this.ops[D-1]={delete:W.delete+R.delete},this;if(typeof W.delete=="number"&&R.insert!=null&&(D-=1,W=this.ops[D-1],typeof W!="object"))return this.ops.unshift(R),this;if(v(R.attributes,W.attributes)){if(typeof R.insert=="string"&&typeof W.insert=="string")return this.ops[D-1]={insert:W.insert+R.insert},typeof R.attributes=="object"&&(this.ops[D-1].attributes=R.attributes),this;if(typeof R.retain=="number"&&typeof W.retain=="number")return this.ops[D-1]={retain:W.retain+R.retain},typeof R.attributes=="object"&&(this.ops[D-1].attributes=R.attributes),this}}return D===this.ops.length?this.ops.push(R):this.ops.splice(D,0,R),this}chop(){const R=this.ops[this.ops.length-1];return R&&typeof R.retain=="number"&&!R.attributes&&this.ops.pop(),this}filter(R){return this.ops.filter(R)}forEach(R){this.ops.forEach(R)}map(R){return this.ops.map(R)}partition(R){const D=[],W=[];return this.forEach(A=>{(R(A)?D:W).push(A)}),[D,W]}reduce(R,D){return this.ops.reduce(R,D)}changeLength(){return this.reduce((R,D)=>D.insert?R+B.default.length(D):D.delete?R-D.delete:R,0)}length(){return this.reduce((R,D)=>R+B.default.length(D),0)}slice(R=0,D=1/0){const W=[],A=new M.default(this.ops);let U=0;for(;U<D&&A.hasNext();){let $;U<R?$=A.next(R-U):($=A.next(D-U),W.push($)),U+=B.default.length($)}return new S(W)}compose(R){const D=new M.default(this.ops),W=new M.default(R.ops),A=[],U=W.peek();if(U!=null&&typeof U.retain=="number"&&U.attributes==null){let k=U.retain;for(;D.peekType()==="insert"&&D.peekLength()<=k;)k-=D.peekLength(),A.push(D.next());U.retain-k>0&&W.next(U.retain-k)}const $=new S(A);for(;D.hasNext()||W.hasNext();)if(W.peekType()==="insert")$.push(W.next());else if(D.peekType()==="delete")$.push(D.next());else{const k=Math.min(D.peekLength(),W.peekLength()),m=D.next(k),E=W.next(k);if(E.retain){const a={};if(typeof m.retain=="number")a.retain=typeof E.retain=="number"?k:E.retain;else if(typeof E.retain=="number")m.retain==null?a.insert=m.insert:a.retain=m.retain;else{const c=m.retain==null?"insert":"retain",[O,L,j]=P(m[c],E.retain),Z=S.getHandler(O);a[c]={[O]:Z.compose(L,j,c==="retain")}}const s=_.default.compose(m.attributes,E.attributes,typeof m.retain=="number");if(s&&(a.attributes=s),$.push(a),!W.hasNext()&&v($.ops[$.ops.length-1],a)){const c=new S(D.rest());return $.concat(c).chop()}}else typeof E.delete=="number"&&(typeof m.retain=="number"||typeof m.retain=="object"&&m.retain!==null)&&$.push(E)}return $.chop()}concat(R){const D=new S(this.ops.slice());return R.ops.length>0&&(D.push(R.ops[0]),D.ops=D.ops.concat(R.ops.slice(1))),D}diff(R,D){if(this.ops===R.ops)return new S;const W=[this,R].map(m=>m.map(E=>{if(E.insert!=null)return typeof E.insert=="string"?E.insert:N;const a=m===R?"on":"with";throw new Error("diff() called "+a+" non-document")}).join("")),A=new S,U=y(W[0],W[1],D),$=new M.default(this.ops),k=new M.default(R.ops);return U.forEach(m=>{let E=m[1].length;for(;E>0;){let a=0;switch(m[0]){case y.INSERT:a=Math.min(k.peekLength(),E),A.push(k.next(a));break;case y.DELETE:a=Math.min(E,$.peekLength()),$.next(a),A.delete(a);break;case y.EQUAL:a=Math.min($.peekLength(),k.peekLength(),E);const s=$.next(a),c=k.next(a);v(s.insert,c.insert)?A.retain(a,_.default.diff(s.attributes,c.attributes)):A.push(c).delete(a);break}E-=a}}),A.chop()}eachLine(R,D=`
`){const W=new M.default(this.ops);let A=new S,U=0;for(;W.hasNext();){if(W.peekType()!=="insert")return;const $=W.peek(),k=B.default.length($)-W.peekLength(),m=typeof $.insert=="string"?$.insert.indexOf(D,k)-k:-1;if(m<0)A.push(W.next());else if(m>0)A.push(W.next(m));else{if(R(A,W.next(1).attributes||{},U)===!1)return;U+=1,A=new S}}A.length()>0&&R(A,{},U)}invert(R){const D=new S;return this.reduce((W,A)=>{if(A.insert)D.delete(B.default.length(A));else{if(typeof A.retain=="number"&&A.attributes==null)return D.retain(A.retain),W+A.retain;if(A.delete||typeof A.retain=="number"){const U=A.delete||A.retain;return R.slice(W,W+U).forEach(k=>{A.delete?D.push(k):A.retain&&A.attributes&&D.retain(B.default.length(k),_.default.invert(A.attributes,k.attributes))}),W+U}else if(typeof A.retain=="object"&&A.retain!==null){const U=R.slice(W,W+1),$=new M.default(U.ops).next(),[k,m,E]=P(A.retain,$.insert),a=S.getHandler(k);return D.retain({[k]:a.invert(m,E)},_.default.invert(A.attributes,$.attributes)),W+1}}return W},0),D.chop()}transform(R,D=!1){if(D=!!D,typeof R=="number")return this.transformPosition(R,D);const W=R,A=new M.default(this.ops),U=new M.default(W.ops),$=new S;for(;A.hasNext()||U.hasNext();)if(A.peekType()==="insert"&&(D||U.peekType()!=="insert"))$.retain(B.default.length(A.next()));else if(U.peekType()==="insert")$.push(U.next());else{const k=Math.min(A.peekLength(),U.peekLength()),m=A.next(k),E=U.next(k);if(m.delete)continue;if(E.delete)$.push(E);else{const a=m.retain,s=E.retain;let c=typeof s=="object"&&s!==null?s:k;if(typeof a=="object"&&a!==null&&typeof s=="object"&&s!==null){const O=Object.keys(a)[0];if(O===Object.keys(s)[0]){const L=S.getHandler(O);L&&(c={[O]:L.transform(a[O],s[O],D)})}}$.retain(c,_.default.transform(m.attributes,E.attributes,D))}}return $.chop()}transformPosition(R,D=!1){D=!!D;const W=new M.default(this.ops);let A=0;for(;W.hasNext()&&A<=R;){const U=W.peekLength(),$=W.peekType();if(W.next(),$==="delete"){R-=Math.min(U,R-A);continue}else $==="insert"&&(A<R||!D)&&(R+=U);A+=U}return R}}S.Op=B.default,S.OpIterator=M.default,S.AttributeMap=_.default,S.handlers={},C.default=S,p.exports=S,p.exports.default=S},6237:(p,C)=>{Object.defineProperty(C,"__esModule",{value:!0});var t;(function(y){function h(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.retain=="object"&&v.retain!==null?1:typeof v.insert=="string"?v.insert.length:1}y.length=h})(t||(t={})),C.default=t},2849:(p,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const y=t(6237);class h{constructor(_){this.ops=_,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(_){_||(_=1/0);const B=this.ops[this.index];if(B){const M=this.offset,N=y.default.length(B);if(_>=N-M?(_=N-M,this.index+=1,this.offset=0):this.offset+=_,typeof B.delete=="number")return{delete:_};{const P={};return B.attributes&&(P.attributes=B.attributes),typeof B.retain=="number"?P.retain=_:typeof B.retain=="object"&&B.retain!==null?P.retain=B.retain:typeof B.insert=="string"?P.insert=B.insert.substr(M,_):P.insert=B.insert,P}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?y.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const _=this.ops[this.index];return _?typeof _.delete=="number"?"delete":typeof _.retain=="number"||typeof _.retain=="object"&&_.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const _=this.offset,B=this.index,M=this.next(),N=this.ops.slice(this.index);return this.offset=_,this.index=B,[M].concat(N)}}else return[]}}C.default=h},1863:(p,C,t)=>{var y=t(9731);p.exports=y},6572:(p,C,t)=>{var y=t(4401);p.exports=y},2318:(p,C,t)=>{var y=t(3661);p.exports=y},576:(p,C,t)=>{var y=t(5606);p.exports=y},2327:(p,C,t)=>{t(5445);var y=t(6731);p.exports=y("Array","fill")},3274:(p,C,t)=>{t(9477),t(6272);var y=t(577);p.exports=y.Array.from},5339:(p,C,t)=>{t(2947);var y=t(577);p.exports=y.Object.values},1189:(p,C,t)=>{t(538);var y=t(6731);p.exports=y("String","endsWith")},5142:(p,C,t)=>{t(297)},1019:(p,C,t)=>{t(4660)},1183:(p,C,t)=>{t(5275)},2570:(p,C,t)=>{t(2839)},297:(p,C,t)=>{var y=t(1863);p.exports=y},4660:(p,C,t)=>{var y=t(6572);p.exports=y},5275:(p,C,t)=>{var y=t(2318);p.exports=y},2839:(p,C,t)=>{var y=t(576);p.exports=y},6324:(p,C,t)=>{var y=t(2539),h=t(7471),v=TypeError;p.exports=function(_){if(y(_))return _;throw new v(h(_)+" is not a function")}},2162:(p,C,t)=>{var y=t(2539),h=String,v=TypeError;p.exports=function(_){if(typeof _=="object"||y(_))return _;throw new v("Can't set "+h(_)+" as a prototype")}},2572:(p,C,t)=>{var y=t(5485),h=t(3830),v=t(8503).f,_=y("unscopables"),B=Array.prototype;B[_]===void 0&&v(B,_,{configurable:!0,value:h(null)}),p.exports=function(M){B[_][M]=!0}},8874:(p,C,t)=>{var y=t(3988),h=String,v=TypeError;p.exports=function(_){if(y(_))return _;throw new v(h(_)+" is not an object")}},9236:(p,C,t)=>{var y=t(6015),h=t(7234),v=t(3235);p.exports=function(B){for(var M=y(this),N=v(M),P=arguments.length,S=h(P>1?arguments[1]:void 0,N),I=P>2?arguments[2]:void 0,R=I===void 0?N:h(I,N);R>S;)M[S++]=B;return M}},8459:(p,C,t)=>{var y=t(9794),h=t(2977),v=t(6015),_=t(9154),B=t(7024),M=t(6467),N=t(3235),P=t(3003),S=t(2387),I=t(7874),R=Array;p.exports=function(W){var A=v(W),U=M(this),$=arguments.length,k=$>1?arguments[1]:void 0,m=k!==void 0;m&&(k=y(k,$>2?arguments[2]:void 0));var E=I(A),a=0,s,c,O,L,j,Z;if(E&&!(this===R&&B(E)))for(L=S(A,E),j=L.next,c=U?new this:[];!(O=h(j,L)).done;a++)Z=m?_(L,k,[O.value,a],!0):O.value,P(c,a,Z);else for(s=N(A),c=U?new this(s):R(s);s>a;a++)Z=m?k(A[a],a):A[a],P(c,a,Z);return c.length=a,c}},5644:(p,C,t)=>{var y=t(7625),h=t(7234),v=t(3235),_=function(B){return function(M,N,P){var S=y(M),I=v(S),R=h(P,I),D;if(B&&N!==N){for(;I>R;)if(D=S[R++],D!==D)return!0}else for(;I>R;R++)if((B||R in S)&&S[R]===N)return B||R||0;return!B&&-1}};p.exports={includes:_(!0),indexOf:_(!1)}},9154:(p,C,t)=>{var y=t(8874),h=t(8880);p.exports=function(v,_,B,M){try{return M?_(y(B)[0],B[1]):_(B)}catch(N){h(v,"throw",N)}}},3346:(p,C,t)=>{var y=t(5485),h=y("iterator"),v=!1;try{var _=0,B={next:function(){return{done:!!_++}},return:function(){v=!0}};B[h]=function(){return this},Array.from(B,function(){throw 2})}catch{}p.exports=function(M,N){try{if(!N&&!v)return!1}catch{return!1}var P=!1;try{var S={};S[h]=function(){return{next:function(){return{done:P=!0}}}},M(S)}catch{}return P}},4545:(p,C,t)=>{var y=t(4038),h=y({}.toString),v=y("".slice);p.exports=function(_){return v(h(_),8,-1)}},2702:(p,C,t)=>{var y=t(1923),h=t(2539),v=t(4545),_=t(5485),B=_("toStringTag"),M=Object,N=v(function(){return arguments}())==="Arguments",P=function(S,I){try{return S[I]}catch{}};p.exports=y?v:function(S){var I,R,D;return S===void 0?"Undefined":S===null?"Null":typeof(R=P(I=M(S),B))=="string"?R:N?v(I):(D=v(I))==="Object"&&h(I.callee)?"Arguments":D}},1358:(p,C,t)=>{var y=t(2623),h=t(3054),v=t(3037),_=t(8503);p.exports=function(B,M,N){for(var P=h(M),S=_.f,I=v.f,R=0;R<P.length;R++){var D=P[R];!y(B,D)&&!(N&&y(N,D))&&S(B,D,I(M,D))}}},6775:(p,C,t)=>{var y=t(5485),h=y("match");p.exports=function(v){var _=/./;try{"/./"[v](_)}catch{try{return _[h]=!1,"/./"[v](_)}catch{}}return!1}},6141:(p,C,t)=>{var y=t(5202);p.exports=!y(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},3585:p=>{p.exports=function(C,t){return{value:C,done:t}}},8868:(p,C,t)=>{var y=t(5007),h=t(8503),v=t(4238);p.exports=y?function(_,B,M){return h.f(_,B,v(1,M))}:function(_,B,M){return _[B]=M,_}},4238:p=>{p.exports=function(C,t){return{enumerable:!(C&1),configurable:!(C&2),writable:!(C&4),value:t}}},3003:(p,C,t)=>{var y=t(3164),h=t(8503),v=t(4238);p.exports=function(_,B,M){var N=y(B);N in _?h.f(_,N,v(0,M)):_[N]=M}},916:(p,C,t)=>{var y=t(2539),h=t(8503),v=t(6614),_=t(2136);p.exports=function(B,M,N,P){P||(P={});var S=P.enumerable,I=P.name!==void 0?P.name:M;if(y(N)&&v(N,I,P),P.global)S?B[M]=N:_(M,N);else{try{P.unsafe?B[M]&&(S=!0):delete B[M]}catch{}S?B[M]=N:h.f(B,M,{value:N,enumerable:!1,configurable:!P.nonConfigurable,writable:!P.nonWritable})}return B}},2136:(p,C,t)=>{var y=t(730),h=Object.defineProperty;p.exports=function(v,_){try{h(y,v,{value:_,configurable:!0,writable:!0})}catch{y[v]=_}return _}},5007:(p,C,t)=>{var y=t(5202);p.exports=!y(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},8629:p=>{var C=typeof document=="object"&&document.all,t=typeof C>"u"&&C!==void 0;p.exports={all:C,IS_HTMLDDA:t}},2215:(p,C,t)=>{var y=t(730),h=t(3988),v=y.document,_=h(v)&&h(v.createElement);p.exports=function(B){return _?v.createElement(B):{}}},932:p=>{p.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7626:(p,C,t)=>{var y=t(730),h=t(932),v=y.process,_=y.Deno,B=v&&v.versions||_&&_.version,M=B&&B.v8,N,P;M&&(N=M.split("."),P=N[0]>0&&N[0]<4?1:+(N[0]+N[1])),!P&&h&&(N=h.match(/Edge\/(\d+)/),(!N||N[1]>=74)&&(N=h.match(/Chrome\/(\d+)/),N&&(P=+N[1]))),p.exports=P},6731:(p,C,t)=>{var y=t(730),h=t(4038);p.exports=function(v,_){return h(y[v].prototype[_])}},8552:p=>{p.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2189:(p,C,t)=>{var y=t(730),h=t(3037).f,v=t(8868),_=t(916),B=t(2136),M=t(1358),N=t(3455);p.exports=function(P,S){var I=P.target,R=P.global,D=P.stat,W,A,U,$,k,m;if(R?A=y:D?A=y[I]||B(I,{}):A=(y[I]||{}).prototype,A)for(U in S){if(k=S[U],P.dontCallGetSet?(m=h(A,U),$=m&&m.value):$=A[U],W=N(R?U:I+(D?".":"#")+U,P.forced),!W&&$!==void 0){if(typeof k==typeof $)continue;M(k,$)}(P.sham||$&&$.sham)&&v(k,"sham",!0),_(A,U,k,P)}}},5202:p=>{p.exports=function(C){try{return!!C()}catch{return!0}}},9794:(p,C,t)=>{var y=t(6192),h=t(6324),v=t(2865),_=y(y.bind);p.exports=function(B,M){return h(B),M===void 0?B:v?_(B,M):function(){return B.apply(M,arguments)}}},2865:(p,C,t)=>{var y=t(5202);p.exports=!y(function(){var h=(function(){}).bind();return typeof h!="function"||h.hasOwnProperty("prototype")})},2977:(p,C,t)=>{var y=t(2865),h=Function.prototype.call;p.exports=y?h.bind(h):function(){return h.apply(h,arguments)}},9895:(p,C,t)=>{var y=t(5007),h=t(2623),v=Function.prototype,_=y&&Object.getOwnPropertyDescriptor,B=h(v,"name"),M=B&&(function(){}).name==="something",N=B&&(!y||y&&_(v,"name").configurable);p.exports={EXISTS:B,PROPER:M,CONFIGURABLE:N}},6589:(p,C,t)=>{var y=t(4038),h=t(6324);p.exports=function(v,_,B){try{return y(h(Object.getOwnPropertyDescriptor(v,_)[B]))}catch{}}},6192:(p,C,t)=>{var y=t(4545),h=t(4038);p.exports=function(v){if(y(v)==="Function")return h(v)}},4038:(p,C,t)=>{var y=t(2865),h=Function.prototype,v=h.call,_=y&&h.bind.bind(v,v);p.exports=y?_:function(B){return function(){return v.apply(B,arguments)}}},7300:(p,C,t)=>{var y=t(730),h=t(2539),v=function(_){return h(_)?_:void 0};p.exports=function(_,B){return arguments.length<2?v(y[_]):y[_]&&y[_][B]}},7874:(p,C,t)=>{var y=t(2702),h=t(3923),v=t(2219),_=t(7817),B=t(5485),M=B("iterator");p.exports=function(N){if(!v(N))return h(N,M)||h(N,"@@iterator")||_[y(N)]}},2387:(p,C,t)=>{var y=t(2977),h=t(6324),v=t(8874),_=t(7471),B=t(7874),M=TypeError;p.exports=function(N,P){var S=arguments.length<2?B(N):P;if(h(S))return v(y(S,N));throw new M(_(N)+" is not iterable")}},3923:(p,C,t)=>{var y=t(6324),h=t(2219);p.exports=function(v,_){var B=v[_];return h(B)?void 0:y(B)}},730:function(p,C,t){var y=function(h){return h&&h.Math===Math&&h};p.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof t.g=="object"&&t.g)||y(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},2623:(p,C,t)=>{var y=t(4038),h=t(6015),v=y({}.hasOwnProperty);p.exports=Object.hasOwn||function(B,M){return v(h(B),M)}},7467:p=>{p.exports={}},845:(p,C,t)=>{var y=t(7300);p.exports=y("document","documentElement")},2470:(p,C,t)=>{var y=t(5007),h=t(5202),v=t(2215);p.exports=!y&&!h(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!==7})},6854:(p,C,t)=>{var y=t(4038),h=t(5202),v=t(4545),_=Object,B=y("".split);p.exports=h(function(){return!_("z").propertyIsEnumerable(0)})?function(M){return v(M)==="String"?B(M,""):_(M)}:_},7821:(p,C,t)=>{var y=t(4038),h=t(2539),v=t(6838),_=y(Function.toString);h(v.inspectSource)||(v.inspectSource=function(B){return _(B)}),p.exports=v.inspectSource},5378:(p,C,t)=>{var y=t(2543),h=t(730),v=t(3988),_=t(8868),B=t(2623),M=t(6838),N=t(3511),P=t(7467),S="Object already initialized",I=h.TypeError,R=h.WeakMap,D,W,A,U=function(E){return A(E)?W(E):D(E,{})},$=function(E){return function(a){var s;if(!v(a)||(s=W(a)).type!==E)throw new I("Incompatible receiver, "+E+" required");return s}};if(y||M.state){var k=M.state||(M.state=new R);k.get=k.get,k.has=k.has,k.set=k.set,D=function(E,a){if(k.has(E))throw new I(S);return a.facade=E,k.set(E,a),a},W=function(E){return k.get(E)||{}},A=function(E){return k.has(E)}}else{var m=N("state");P[m]=!0,D=function(E,a){if(B(E,m))throw new I(S);return a.facade=E,_(E,m,a),a},W=function(E){return B(E,m)?E[m]:{}},A=function(E){return B(E,m)}}p.exports={set:D,get:W,has:A,enforce:U,getterFor:$}},7024:(p,C,t)=>{var y=t(5485),h=t(7817),v=y("iterator"),_=Array.prototype;p.exports=function(B){return B!==void 0&&(h.Array===B||_[v]===B)}},2539:(p,C,t)=>{var y=t(8629),h=y.all;p.exports=y.IS_HTMLDDA?function(v){return typeof v=="function"||v===h}:function(v){return typeof v=="function"}},6467:(p,C,t)=>{var y=t(4038),h=t(5202),v=t(2539),_=t(2702),B=t(7300),M=t(7821),N=function(){},P=[],S=B("Reflect","construct"),I=/^\s*(?:class|function)\b/,R=y(I.exec),D=!I.test(N),W=function($){if(!v($))return!1;try{return S(N,P,$),!0}catch{return!1}},A=function($){if(!v($))return!1;switch(_($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D||!!R(I,M($))}catch{return!0}};A.sham=!0,p.exports=!S||h(function(){var U;return W(W.call)||!W(Object)||!W(function(){U=!0})||U})?A:W},3455:(p,C,t)=>{var y=t(5202),h=t(2539),v=/#|\.prototype\./,_=function(S,I){var R=M[B(S)];return R===P?!0:R===N?!1:h(I)?y(I):!!I},B=_.normalize=function(S){return String(S).replace(v,".").toLowerCase()},M=_.data={},N=_.NATIVE="N",P=_.POLYFILL="P";p.exports=_},2219:p=>{p.exports=function(C){return C==null}},3988:(p,C,t)=>{var y=t(2539),h=t(8629),v=h.all;p.exports=h.IS_HTMLDDA?function(_){return typeof _=="object"?_!==null:y(_)||_===v}:function(_){return typeof _=="object"?_!==null:y(_)}},4708:p=>{p.exports=!1},184:(p,C,t)=>{var y=t(3988),h=t(4545),v=t(5485),_=v("match");p.exports=function(B){var M;return y(B)&&((M=B[_])!==void 0?!!M:h(B)==="RegExp")}},8820:(p,C,t)=>{var y=t(7300),h=t(2539),v=t(7676),_=t(3713),B=Object;p.exports=_?function(M){return typeof M=="symbol"}:function(M){var N=y("Symbol");return h(N)&&v(N.prototype,B(M))}},8880:(p,C,t)=>{var y=t(2977),h=t(8874),v=t(3923);p.exports=function(_,B,M){var N,P;h(_);try{if(N=v(_,"return"),!N){if(B==="throw")throw M;return M}N=y(N,_)}catch(S){P=!0,N=S}if(B==="throw")throw M;if(P)throw N;return h(N),M}},3450:(p,C,t)=>{var y=t(344).IteratorPrototype,h=t(3830),v=t(4238),_=t(3506),B=t(7817),M=function(){return this};p.exports=function(N,P,S,I){var R=P+" Iterator";return N.prototype=h(y,{next:v(+!I,S)}),_(N,R,!1,!0),B[R]=M,N}},3174:(p,C,t)=>{var y=t(2189),h=t(2977),v=t(4708),_=t(9895),B=t(2539),M=t(3450),N=t(8059),P=t(5502),S=t(3506),I=t(8868),R=t(916),D=t(5485),W=t(7817),A=t(344),U=_.PROPER,$=_.CONFIGURABLE,k=A.IteratorPrototype,m=A.BUGGY_SAFARI_ITERATORS,E=D("iterator"),a="keys",s="values",c="entries",O=function(){return this};p.exports=function(L,j,Z,et,ut,dt,pt){M(Z,j,et);var lt=function(Q){if(Q===ut&&st)return st;if(!m&&Q&&Q in vt)return vt[Q];switch(Q){case a:return function(){return new Z(this,Q)};case s:return function(){return new Z(this,Q)};case c:return function(){return new Z(this,Q)}}return function(){return new Z(this)}},_t=j+" Iterator",G=!1,vt=L.prototype,rt=vt[E]||vt["@@iterator"]||ut&&vt[ut],st=!m&&rt||lt(ut),H=j==="Array"&&vt.entries||rt,w,q,J;if(H&&(w=N(H.call(new L)),w!==Object.prototype&&w.next&&(!v&&N(w)!==k&&(P?P(w,k):B(w[E])||R(w,E,O)),S(w,_t,!0,!0),v&&(W[_t]=O))),U&&ut===s&&rt&&rt.name!==s&&(!v&&$?I(vt,"name",s):(G=!0,st=function(){return h(rt,this)})),ut)if(q={values:lt(s),keys:dt?st:lt(a),entries:lt(c)},pt)for(J in q)(m||G||!(J in vt))&&R(vt,J,q[J]);else y({target:j,proto:!0,forced:m||G},q);return(!v||pt)&&vt[E]!==st&&R(vt,E,st,{name:ut}),W[j]=st,q}},344:(p,C,t)=>{var y=t(5202),h=t(2539),v=t(3988),_=t(3830),B=t(8059),M=t(916),N=t(5485),P=t(4708),S=N("iterator"),I=!1,R,D,W;[].keys&&(W=[].keys(),"next"in W?(D=B(B(W)),D!==Object.prototype&&(R=D)):I=!0);var A=!v(R)||y(function(){var U={};return R[S].call(U)!==U});A?R={}:P&&(R=_(R)),h(R[S])||M(R,S,function(){return this}),p.exports={IteratorPrototype:R,BUGGY_SAFARI_ITERATORS:I}},7817:p=>{p.exports={}},3235:(p,C,t)=>{var y=t(3627);p.exports=function(h){return y(h.length)}},6614:(p,C,t)=>{var y=t(4038),h=t(5202),v=t(2539),_=t(2623),B=t(5007),M=t(9895).CONFIGURABLE,N=t(7821),P=t(5378),S=P.enforce,I=P.get,R=String,D=Object.defineProperty,W=y("".slice),A=y("".replace),U=y([].join),$=B&&!h(function(){return D(function(){},"length",{value:8}).length!==8}),k=String(String).split("String"),m=p.exports=function(E,a,s){W(R(a),0,7)==="Symbol("&&(a="["+A(R(a),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(a="get "+a),s&&s.setter&&(a="set "+a),(!_(E,"name")||M&&E.name!==a)&&(B?D(E,"name",{value:a,configurable:!0}):E.name=a),$&&s&&_(s,"arity")&&E.length!==s.arity&&D(E,"length",{value:s.arity});try{s&&_(s,"constructor")&&s.constructor?B&&D(E,"prototype",{writable:!1}):E.prototype&&(E.prototype=void 0)}catch{}var c=S(E);return _(c,"source")||(c.source=U(k,typeof a=="string"?a:"")),E};Function.prototype.toString=m(function(){return v(this)&&I(this).source||N(this)},"toString")},3041:p=>{var C=Math.ceil,t=Math.floor;p.exports=Math.trunc||function(h){var v=+h;return(v>0?t:C)(v)}},50:(p,C,t)=>{var y=t(184),h=TypeError;p.exports=function(v){if(y(v))throw new h("The method doesn't accept regular expressions");return v}},3830:(p,C,t)=>{var y=t(8874),h=t(3944),v=t(8552),_=t(7467),B=t(845),M=t(2215),N=t(3511),P=">",S="<",I="prototype",R="script",D=N("IE_PROTO"),W=function(){},A=function(E){return S+R+P+E+S+"/"+R+P},U=function(E){E.write(A("")),E.close();var a=E.parentWindow.Object;return E=null,a},$=function(){var E=M("iframe"),a="java"+R+":",s;return E.style.display="none",B.appendChild(E),E.src=String(a),s=E.contentWindow.document,s.open(),s.write(A("document.F=Object")),s.close(),s.F},k,m=function(){try{k=new ActiveXObject("htmlfile")}catch{}m=typeof document<"u"?document.domain&&k?U(k):$():U(k);for(var E=v.length;E--;)delete m[I][v[E]];return m()};_[D]=!0,p.exports=Object.create||function(a,s){var c;return a!==null?(W[I]=y(a),c=new W,W[I]=null,c[D]=a):c=m(),s===void 0?c:h.f(c,s)}},3944:(p,C,t)=>{var y=t(5007),h=t(2268),v=t(8503),_=t(8874),B=t(7625),M=t(4254);C.f=y&&!h?Object.defineProperties:function(P,S){_(P);for(var I=B(S),R=M(S),D=R.length,W=0,A;D>W;)v.f(P,A=R[W++],I[A]);return P}},8503:(p,C,t)=>{var y=t(5007),h=t(2470),v=t(2268),_=t(8874),B=t(3164),M=TypeError,N=Object.defineProperty,P=Object.getOwnPropertyDescriptor,S="enumerable",I="configurable",R="writable";C.f=y?v?function(W,A,U){if(_(W),A=B(A),_(U),typeof W=="function"&&A==="prototype"&&"value"in U&&R in U&&!U[R]){var $=P(W,A);$&&$[R]&&(W[A]=U.value,U={configurable:I in U?U[I]:$[I],enumerable:S in U?U[S]:$[S],writable:!1})}return N(W,A,U)}:N:function(W,A,U){if(_(W),A=B(A),_(U),h)try{return N(W,A,U)}catch{}if("get"in U||"set"in U)throw new M("Accessors not supported");return"value"in U&&(W[A]=U.value),W}},3037:(p,C,t)=>{var y=t(5007),h=t(2977),v=t(6251),_=t(4238),B=t(7625),M=t(3164),N=t(2623),P=t(2470),S=Object.getOwnPropertyDescriptor;C.f=y?S:function(R,D){if(R=B(R),D=M(D),P)try{return S(R,D)}catch{}if(N(R,D))return _(!h(v.f,R,D),R[D])}},5974:(p,C,t)=>{var y=t(7862),h=t(8552),v=h.concat("length","prototype");C.f=Object.getOwnPropertyNames||function(B){return y(B,v)}},1526:(p,C)=>{C.f=Object.getOwnPropertySymbols},8059:(p,C,t)=>{var y=t(2623),h=t(2539),v=t(6015),_=t(3511),B=t(6141),M=_("IE_PROTO"),N=Object,P=N.prototype;p.exports=B?N.getPrototypeOf:function(S){var I=v(S);if(y(I,M))return I[M];var R=I.constructor;return h(R)&&I instanceof R?R.prototype:I instanceof N?P:null}},7676:(p,C,t)=>{var y=t(4038);p.exports=y({}.isPrototypeOf)},7862:(p,C,t)=>{var y=t(4038),h=t(2623),v=t(7625),_=t(5644).indexOf,B=t(7467),M=y([].push);p.exports=function(N,P){var S=v(N),I=0,R=[],D;for(D in S)!h(B,D)&&h(S,D)&&M(R,D);for(;P.length>I;)h(S,D=P[I++])&&(~_(R,D)||M(R,D));return R}},4254:(p,C,t)=>{var y=t(7862),h=t(8552);p.exports=Object.keys||function(_){return y(_,h)}},6251:(p,C)=>{var t={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,h=y&&!t.call({1:2},1);C.f=h?function(_){var B=y(this,_);return!!B&&B.enumerable}:t},5502:(p,C,t)=>{var y=t(6589),h=t(8874),v=t(2162);p.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _=!1,B={},M;try{M=y(Object.prototype,"__proto__","set"),M(B,[]),_=B instanceof Array}catch{}return function(P,S){return h(P),v(S),_?M(P,S):P.__proto__=S,P}}():void 0)},7830:(p,C,t)=>{var y=t(5007),h=t(5202),v=t(4038),_=t(8059),B=t(4254),M=t(7625),N=t(6251).f,P=v(N),S=v([].push),I=y&&h(function(){var D=Object.create(null);return D[2]=2,!P(D,2)}),R=function(D){return function(W){for(var A=M(W),U=B(A),$=I&&_(A)===null,k=U.length,m=0,E=[],a;k>m;)a=U[m++],(!y||($?a in A:P(A,a)))&&S(E,D?[a,A[a]]:A[a]);return E}};p.exports={entries:R(!0),values:R(!1)}},532:(p,C,t)=>{var y=t(2977),h=t(2539),v=t(3988),_=TypeError;p.exports=function(B,M){var N,P;if(M==="string"&&h(N=B.toString)&&!v(P=y(N,B))||h(N=B.valueOf)&&!v(P=y(N,B))||M!=="string"&&h(N=B.toString)&&!v(P=y(N,B)))return P;throw new _("Can't convert object to primitive value")}},3054:(p,C,t)=>{var y=t(7300),h=t(4038),v=t(5974),_=t(1526),B=t(8874),M=h([].concat);p.exports=y("Reflect","ownKeys")||function(P){var S=v.f(B(P)),I=_.f;return I?M(S,I(P)):S}},577:(p,C,t)=>{var y=t(730);p.exports=y},6373:(p,C,t)=>{var y=t(2219),h=TypeError;p.exports=function(v){if(y(v))throw new h("Can't call method on "+v);return v}},3506:(p,C,t)=>{var y=t(8503).f,h=t(2623),v=t(5485),_=v("toStringTag");p.exports=function(B,M,N){B&&!N&&(B=B.prototype),B&&!h(B,_)&&y(B,_,{configurable:!0,value:M})}},3511:(p,C,t)=>{var y=t(6568),h=t(2858),v=y("keys");p.exports=function(_){return v[_]||(v[_]=h(_))}},6838:(p,C,t)=>{var y=t(730),h=t(2136),v="__core-js_shared__",_=y[v]||h(v,{});p.exports=_},6568:(p,C,t)=>{var y=t(4708),h=t(6838);(p.exports=function(v,_){return h[v]||(h[v]=_!==void 0?_:{})})("versions",[]).push({version:"3.34.0",mode:y?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6365:(p,C,t)=>{var y=t(4038),h=t(3550),v=t(2532),_=t(6373),B=y("".charAt),M=y("".charCodeAt),N=y("".slice),P=function(S){return function(I,R){var D=v(_(I)),W=h(R),A=D.length,U,$;return W<0||W>=A?S?"":void 0:(U=M(D,W),U<55296||U>56319||W+1===A||($=M(D,W+1))<56320||$>57343?S?B(D,W):U:S?N(D,W,W+2):(U-55296<<10)+($-56320)+65536)}};p.exports={codeAt:P(!1),charAt:P(!0)}},3370:(p,C,t)=>{var y=t(7626),h=t(5202),v=t(730),_=v.String;p.exports=!!Object.getOwnPropertySymbols&&!h(function(){var B=Symbol("symbol detection");return!_(B)||!(Object(B)instanceof Symbol)||!Symbol.sham&&y&&y<41})},7234:(p,C,t)=>{var y=t(3550),h=Math.max,v=Math.min;p.exports=function(_,B){var M=y(_);return M<0?h(M+B,0):v(M,B)}},7625:(p,C,t)=>{var y=t(6854),h=t(6373);p.exports=function(v){return y(h(v))}},3550:(p,C,t)=>{var y=t(3041);p.exports=function(h){var v=+h;return v!==v||v===0?0:y(v)}},3627:(p,C,t)=>{var y=t(3550),h=Math.min;p.exports=function(v){return v>0?h(y(v),9007199254740991):0}},6015:(p,C,t)=>{var y=t(6373),h=Object;p.exports=function(v){return h(y(v))}},634:(p,C,t)=>{var y=t(2977),h=t(3988),v=t(8820),_=t(3923),B=t(532),M=t(5485),N=TypeError,P=M("toPrimitive");p.exports=function(S,I){if(!h(S)||v(S))return S;var R=_(S,P),D;if(R){if(I===void 0&&(I="default"),D=y(R,S,I),!h(D)||v(D))return D;throw new N("Can't convert object to primitive value")}return I===void 0&&(I="number"),B(S,I)}},3164:(p,C,t)=>{var y=t(634),h=t(8820);p.exports=function(v){var _=y(v,"string");return h(_)?_:_+""}},1923:(p,C,t)=>{var y=t(5485),h=y("toStringTag"),v={};v[h]="z",p.exports=String(v)==="[object z]"},2532:(p,C,t)=>{var y=t(2702),h=String;p.exports=function(v){if(y(v)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return h(v)}},7471:p=>{var C=String;p.exports=function(t){try{return C(t)}catch{return"Object"}}},2858:(p,C,t)=>{var y=t(4038),h=0,v=Math.random(),_=y(1 .toString);p.exports=function(B){return"Symbol("+(B===void 0?"":B)+")_"+_(++h+v,36)}},3713:(p,C,t)=>{var y=t(3370);p.exports=y&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},2268:(p,C,t)=>{var y=t(5007),h=t(5202);p.exports=y&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2543:(p,C,t)=>{var y=t(730),h=t(2539),v=y.WeakMap;p.exports=h(v)&&/native code/.test(String(v))},5485:(p,C,t)=>{var y=t(730),h=t(6568),v=t(2623),_=t(2858),B=t(3370),M=t(3713),N=y.Symbol,P=h("wks"),S=M?N.for||N:N&&N.withoutSetter||_;p.exports=function(I){return v(P,I)||(P[I]=B&&v(N,I)?N[I]:S("Symbol."+I)),P[I]}},5445:(p,C,t)=>{var y=t(2189),h=t(9236),v=t(2572);y({target:"Array",proto:!0},{fill:h}),v("fill")},6272:(p,C,t)=>{var y=t(2189),h=t(8459),v=t(3346),_=!v(function(B){Array.from(B)});y({target:"Array",stat:!0,forced:_},{from:h})},2947:(p,C,t)=>{var y=t(2189),h=t(7830).values;y({target:"Object",stat:!0},{values:function(_){return h(_)}})},538:(p,C,t)=>{var y=t(2189),h=t(6192),v=t(3037).f,_=t(3627),B=t(2532),M=t(50),N=t(6373),P=t(6775),S=t(4708),I=h("".endsWith),R=h("".slice),D=Math.min,W=P("endsWith"),A=!S&&!W&&!!function(){var U=v(String.prototype,"endsWith");return U&&!U.writable}();y({target:"String",proto:!0,forced:!A&&!W},{endsWith:function($){var k=B(N(this));M($);var m=arguments.length>1?arguments[1]:void 0,E=k.length,a=m===void 0?E:D(_(m),E),s=B($);return I?I(k,s,a):R(k,a-s.length,a)===s}})},9477:(p,C,t)=>{var y=t(6365).charAt,h=t(2532),v=t(5378),_=t(3174),B=t(3585),M="String Iterator",N=v.set,P=v.getterFor(M);_(String,"String",function(S){N(this,{type:M,string:h(S),index:0})},function(){var I=P(this),R=I.string,D=I.index,W;return D>=R.length?B(void 0,!0):(W=y(R,D),I.index+=W.length,B(W,!1))})},9731:(p,C,t)=>{var y=t(2327);p.exports=y},4401:(p,C,t)=>{var y=t(3274);p.exports=y},3661:(p,C,t)=>{var y=t(5339);p.exports=y},5606:(p,C,t)=>{var y=t(1189);p.exports=y}},x={};function X(p){var C=x[p];if(C!==void 0)return C.exports;var t=x[p]={id:p,loaded:!1,exports:{}};return n[p].call(t.exports,t,t.exports,X),t.loaded=!0,t.exports}X.n=p=>{var C=p&&p.__esModule?()=>p.default:()=>p;return X.d(C,{a:C}),C},X.d=(p,C)=>{for(var t in C)X.o(C,t)&&!X.o(p,t)&&Object.defineProperty(p,t,{enumerable:!0,get:C[t]})},X.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),X.o=(p,C)=>Object.prototype.hasOwnProperty.call(p,C),X.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},X.nmd=p=>(p.paths=[],p.children||(p.children=[]),p);var St={};return(()=>{X.d(St,{default:()=>Ma}),X(1019),X(5142),X(1183),X(2570);var p=X(2432),C=X(715),t=X(4048),y=X(1233);function h(u){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},h(u)}function v(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function _(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,M(nt.key),nt)}}function B(u,l,K){return l&&_(u.prototype,l),K&&_(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function M(u){var l=N(u,"string");return h(l)==="symbol"?l:String(l)}function N(u,l){if(h(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(h(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function P(){return typeof Reflect<"u"&&Reflect.get?P=Reflect.get.bind():P=function(l,K,nt){var Et=S(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},P.apply(this,arguments)}function S(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=$(u),u!==null););return u}function I(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&R(u,l)}function R(u,l){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},R(u,l)}function D(u){var l=U();return function(){var nt=$(u),Et;if(l){var kt=$(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return W(this,Et)}}function W(u,l){if(l&&(h(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(u)}function A(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(u){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},$(u)}var k=function(u){I(K,u);var l=D(K);function K(){return v(this,K),l.apply(this,arguments)}return B(K,[{key:"add",value:function(Et,kt){if(kt==="+1"||kt==="-1"){var ge=this.value(Et)||0;kt=kt==="+1"?ge+1:ge-1}return kt===0?(this.remove(Et),!0):P($(K.prototype),"add",this).call(this,Et,kt)}},{key:"canAdd",value:function(Et,kt){return P($(K.prototype),"canAdd",this).call(this,Et,kt)||P($(K.prototype),"canAdd",this).call(this,Et,parseInt(kt,10))}},{key:"value",value:function(Et){return parseInt(P($(K.prototype),"value",this).call(this,Et),10)||void 0}}]),K}(y.ClassAttributor),m=new k("indent","ql-indent",{scope:y.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});const E=m;var a=X(6446);function s(u){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function c(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,L(nt.key),nt)}}function O(u,l,K){return l&&c(u.prototype,l),K&&c(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function L(u){var l=j(u,"string");return s(l)==="symbol"?l:String(l)}function j(u,l){if(s(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(s(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Z(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function et(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&ut(u,l)}function ut(u,l){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},ut(u,l)}function dt(u){var l=_t();return function(){var nt=G(u),Et;if(l){var kt=G(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return pt(this,Et)}}function pt(u,l){if(l&&(s(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(u)}function lt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(u){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},G(u)}var vt=function(u){et(K,u);var l=dt(K);function K(){return Z(this,K),l.apply(this,arguments)}return O(K)}(a.ZP);vt.blotName="blockquote",vt.tagName="blockquote";const rt=vt;function st(u){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},st(u)}function H(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function w(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,J(nt.key),nt)}}function q(u,l,K){return l&&w(u.prototype,l),K&&w(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function J(u){var l=Q(u,"string");return st(l)==="symbol"?l:String(l)}function Q(u,l){if(st(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(st(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function ct(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&mt(u,l)}function mt(u,l){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},mt(u,l)}function wt(u){var l=gt();return function(){var nt=at(u),Et;if(l){var kt=at(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return ot(this,Et)}}function ot(u,l){if(l&&(st(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(u)}function tt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function gt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function at(u){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},at(u)}var it=function(u){ct(K,u);var l=wt(K);function K(){return H(this,K),l.apply(this,arguments)}return q(K,null,[{key:"formats",value:function(Et){return this.tagName.indexOf(Et.tagName)+1}}]),K}(a.ZP);it.blotName="header",it.tagName=["H1","H2","H3","H4","H5","H6"];const ft=it;var Y=X(3553),T=X(281);function o(u){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},o(u)}function i(){return typeof Reflect<"u"&&Reflect.get?i=Reflect.get.bind():i=function(l,K,nt){var Et=f(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},i.apply(this,arguments)}function f(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=It(u),u!==null););return u}function g(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,ht(nt.key),nt)}}function V(u,l,K){return l&&g(u.prototype,l),K&&g(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function ht(u){var l=At(u,"string");return o(l)==="symbol"?l:String(l)}function At(u,l){if(o(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(o(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Ht(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Ft(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Yt(u,l)}function Yt(u,l){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},Yt(u,l)}function qt(u){var l=Pt();return function(){var nt=It(u),Et;if(l){var kt=It(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return Jt(this,Et)}}function Jt(u,l){if(l&&(o(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bt(u)}function bt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function It(u){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},It(u)}var Bt=function(u){Ft(K,u);var l=qt(K);function K(){return Ht(this,K),l.apply(this,arguments)}return V(K)}(Y.Z);Bt.blotName="list-container",Bt.tagName="OL";var Nt=function(u){Ft(K,u);var l=qt(K);function K(nt,Et){var kt;Ht(this,K),kt=l.call(this,nt,Et);var ge=Et.ownerDocument.createElement("span"),Li=function(Mi){if(nt.isEnabled()){var Bi=kt.statics.formats(Et,nt);Bi==="checked"?(kt.format("list","unchecked"),Mi.preventDefault()):Bi==="unchecked"&&(kt.format("list","checked"),Mi.preventDefault())}};return ge.addEventListener("mousedown",Li),ge.addEventListener("touchstart",Li),kt.attachUI(ge),kt}return V(K,[{key:"format",value:function(Et,kt){Et===this.statics.blotName&&kt?this.domNode.setAttribute("data-list",kt):i(It(K.prototype),"format",this).call(this,Et,kt)}}],[{key:"create",value:function(Et){var kt=i(It(K),"create",this).call(this);return kt.setAttribute("data-list",Et),kt}},{key:"formats",value:function(Et){return Et.getAttribute("data-list")||void 0}},{key:"register",value:function(){T.ZP.register(Bt)}}]),K}(a.ZP);Nt.blotName="list",Nt.tagName="LI",Bt.allowedChildren=[Nt],Nt.requiredContainer=Bt;var $t=X(7898),Dt=X(6039),Ut=X(5832),Kt=X(1629),te=X(3991);function ae(u){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ae(u)}function ue(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Te(nt.key),nt)}}function pe(u,l,K){return l&&ue(u.prototype,l),K&&ue(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Te(u){var l=yt(u,"string");return ae(l)==="symbol"?l:String(l)}function yt(u,l){if(ae(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(ae(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Ct(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Tt(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Lt(u,l)}function Lt(u,l){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},Lt(u,l)}function Rt(u){var l=Zt();return function(){var nt=Xt(u),Et;if(l){var kt=Xt(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return xt(this,Et)}}function xt(u,l){if(l&&(ae(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jt(u)}function jt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xt(u){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Xt(u)}var ee=function(u){Tt(K,u);var l=Rt(K);function K(){return Ct(this,K),l.apply(this,arguments)}return pe(K)}(te.Z);ee.blotName="italic",ee.tagName=["EM","I"];const re=ee;var le=X(7256),oe=X(6603);function Ee(u){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ee(u)}function qe(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Xe(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,jr(nt.key),nt)}}function Dr(u,l,K){return l&&Xe(u.prototype,l),K&&Xe(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function jr(u){var l=ve(u,"string");return Ee(l)==="symbol"?l:String(l)}function ve(u,l){if(Ee(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(Ee(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function ir(){return typeof Reflect<"u"&&Reflect.get?ir=Reflect.get.bind():ir=function(l,K,nt){var Et=kr(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},ir.apply(this,arguments)}function kr(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Ne(u),u!==null););return u}function Hr(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&vr(u,l)}function vr(u,l){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},vr(u,l)}function Fr(u){var l=Ur();return function(){var nt=Ne(u),Et;if(l){var kt=Ne(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return Se(this,Et)}}function Se(u,l){if(l&&(Ee(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(u)}function mr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Ur(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ne(u){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ne(u)}var Qe=function(u){Hr(K,u);var l=Fr(K);function K(){return qe(this,K),l.apply(this,arguments)}return Dr(K,null,[{key:"create",value:function(Et){return Et==="super"?document.createElement("sup"):Et==="sub"?document.createElement("sub"):ir(Ne(K),"create",this).call(this,Et)}},{key:"formats",value:function(Et){if(Et.tagName==="SUB")return"sub";if(Et.tagName==="SUP")return"super"}}]),K}(oe.Z);Qe.blotName="script",Qe.tagName=["SUB","SUP"];const Wr=Qe;function we(u){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},we(u)}function or(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,ke(nt.key),nt)}}function ar(u,l,K){return l&&or(u.prototype,l),K&&or(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function ke(u){var l=yr(u,"string");return we(l)==="symbol"?l:String(l)}function yr(u,l){if(we(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(we(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Cr(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function $r(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&gr(u,l)}function gr(u,l){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},gr(u,l)}function Kr(u){var l=br();return function(){var nt=He(u),Et;if(l){var kt=He(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return Zr(this,Et)}}function Zr(u,l){if(l&&(we(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lr(u)}function lr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function br(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function He(u){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},He(u)}var sr=function(u){$r(K,u);var l=Kr(K);function K(){return Cr(this,K),l.apply(this,arguments)}return ar(K)}(te.Z);sr.blotName="strike",sr.tagName=["S","STRIKE"];const Tr=sr;function Ze(u){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ze(u)}function Ye(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,zr(nt.key),nt)}}function _r(u,l,K){return l&&Ye(u.prototype,l),K&&Ye(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function zr(u){var l=Or(u,"string");return Ze(l)==="symbol"?l:String(l)}function Or(u,l){if(Ze(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(Ze(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Sr(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Vr(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&$e(u,l)}function $e(u,l){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},$e(u,l)}function Le(u){var l=Gr();return function(){var nt=Ae(u),Et;if(l){var kt=Ae(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return Fe(this,Et)}}function Fe(u,l){if(l&&(Ze(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(u)}function Ke(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Gr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ae(u){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ae(u)}var Je=function(u){Vr(K,u);var l=Le(K);function K(){return Sr(this,K),l.apply(this,arguments)}return _r(K)}(oe.Z);Je.blotName="underline",Je.tagName="U";const qr=Je;var Xr=X(7452),wr=X(8034);function xe(u){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},xe(u)}function Oe(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function tr(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,cr(nt.key),nt)}}function ur(u,l,K){return l&&tr(u.prototype,l),K&&tr(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function cr(u){var l=fr(u,"string");return xe(l)==="symbol"?l:String(l)}function fr(u,l){if(xe(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(xe(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Me(){return typeof Reflect<"u"&&Reflect.get?Me=Reflect.get.bind():Me=function(l,K,nt){var Et=Pr(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},Me.apply(this,arguments)}function Pr(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=ze(u),u!==null););return u}function Ue(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Be(u,l)}function Be(u,l){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},Be(u,l)}function Ar(u){var l=dr();return function(){var nt=ze(u),Et;if(l){var kt=ze(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return De(this,Et)}}function De(u,l){if(l&&(xe(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(u)}function Rr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function dr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ze(u){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},ze(u)}var hr=function(u){Ue(K,u);var l=Ar(K);function K(){return Oe(this,K),l.apply(this,arguments)}return ur(K,[{key:"html",value:function(){var Et=this.value(),kt=Et.formula;return"<span>".concat(kt,"</span>")}}],[{key:"create",value:function(Et){var kt=null;if((0,wr.Z)()&&(kt=window.katex),kt==null)throw new Error("Formula module requires KaTeX.");var ge=Me(ze(K),"create",this).call(this,Et);return typeof Et=="string"&&(kt.render(Et,ge,{throwOnError:!1,errorColor:"#f00"}),ge.setAttribute("data-value",Et)),ge}},{key:"value",value:function(Et){return Et.getAttribute("data-value")}}]),K}(Xr.Z);hr.blotName="formula",hr.className="ql-formula",hr.tagName="SPAN";const d=hr;function F(u){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},F(u)}function b(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function z(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Mt(nt.key),nt)}}function Ot(u,l,K){return l&&z(u.prototype,l),K&&z(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Mt(u){var l=zt(u,"string");return F(l)==="symbol"?l:String(l)}function zt(u,l){if(F(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(F(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Gt(){return typeof Reflect<"u"&&Reflect.get?Gt=Reflect.get.bind():Gt=function(l,K,nt){var Et=ne(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},Gt.apply(this,arguments)}function ne(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Ce(u),u!==null););return u}function Vt(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&ie(u,l)}function ie(u,l){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},ie(u,l)}function de(u){var l=ye();return function(){var nt=Ce(u),Et;if(l){var kt=Ce(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return se(this,Et)}}function se(u,l){if(l&&(F(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return me(u)}function me(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ce(u){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ce(u)}var je=["alt","height","width"],er=function(u){Vt(K,u);var l=de(K);function K(){return b(this,K),l.apply(this,arguments)}return Ot(K,[{key:"format",value:function(Et,kt){je.indexOf(Et)>-1?kt?this.domNode.setAttribute(Et,kt):this.domNode.removeAttribute(Et):Gt(Ce(K.prototype),"format",this).call(this,Et,kt)}}],[{key:"create",value:function(Et){var kt=Gt(Ce(K),"create",this).call(this,Et);return typeof Et=="string"&&kt.setAttribute("src",this.sanitize(Et)),kt}},{key:"formats",value:function(Et){return je.reduce(function(kt,ge){return Et.hasAttribute(ge)&&(kt[ge]=Et.getAttribute(ge)),kt},{})}},{key:"match",value:function(Et){return/\.(jpe?g|gif|png)$/.test(Et)||/^data:image\/.+;base64/.test(Et)}},{key:"register",value:function(){(0,wr.Z)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(Et){return(0,le.N)(Et,["http","https","data"])?Et:"//:0"}},{key:"value",value:function(Et){return Et.getAttribute("src")}}]),K}(y.EmbedBlot);er.blotName="image",er.tagName="IMG";const En=er;function rr(u){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},rr(u)}function rn(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Oi(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Qo(nt.key),nt)}}function Xo(u,l,K){return l&&Oi(u.prototype,l),K&&Oi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Qo(u){var l=Yo(u,"string");return rr(l)==="symbol"?l:String(l)}function Yo(u,l){if(rr(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(rr(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function un(){return typeof Reflect<"u"&&Reflect.get?un=Reflect.get.bind():un=function(l,K,nt){var Et=Jo(l,K);if(Et){var kt=Object.getOwnPropertyDescriptor(Et,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},un.apply(this,arguments)}function Jo(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Qr(u),u!==null););return u}function ta(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Wn(u,l)}function Wn(u,l){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},Wn(u,l)}function ea(u){var l=ia();return function(){var nt=Qr(u),Et;if(l){var kt=Qr(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return ra(this,Et)}}function ra(u,l){if(l&&(rr(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return na(u)}function na(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ia(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qr(u){return Qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Qr(u)}var Ei=["height","width"],Cn=function(u){ta(K,u);var l=ea(K);function K(){return rn(this,K),l.apply(this,arguments)}return Xo(K,[{key:"format",value:function(Et,kt){Ei.indexOf(Et)>-1?kt?this.domNode.setAttribute(Et,kt):this.domNode.removeAttribute(Et):un(Qr(K.prototype),"format",this).call(this,Et,kt)}},{key:"html",value:function(){var Et=this.value(),kt=Et.video;return'<a href="'.concat(kt,'">').concat(kt,"</a>")}}],[{key:"create",value:function(Et){var kt=un(Qr(K),"create",this).call(this,Et);return kt.setAttribute("frameborder","0"),kt.setAttribute("allowfullscreen",!0),kt.setAttribute("src",this.sanitize(Et)),kt}},{key:"formats",value:function(Et){return Ei.reduce(function(kt,ge){return Et.hasAttribute(ge)&&(kt[ge]=Et.getAttribute(ge)),kt},{})}},{key:"sanitize",value:function(Et){return le.Z.sanitize(Et)}},{key:"value",value:function(Et){return Et.getAttribute("src")}}]),K}(a.i2);Cn.blotName="video",Cn.className="ql-video",Cn.tagName="IFRAME";const oa=Cn;var Ci=X(7309),aa=X(9072),Ti=X(867),la=X(9098),Si=X.n(la);function nn(u){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},nn(u)}function sa(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function wi(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,ca(nt.key),nt)}}function ua(u,l,K){return l&&wi(u.prototype,l),K&&wi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function ca(u){var l=fa(u,"string");return nn(l)==="symbol"?l:String(l)}function fa(u,l){if(nn(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(nn(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function da(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&$n(u,l)}function $n(u,l){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},$n(u,l)}function ha(u){var l=ma();return function(){var nt=Tn(u),Et;if(l){var kt=Tn(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return pa(this,Et)}}function pa(u,l){if(l&&(nn(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return va(u)}function va(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ma(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tn(u){return Tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Tn(u)}var Kn=function(u){da(K,u);var l=ha(K);function K(){return sa(this,K),l.apply(this,arguments)}return ua(K,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return`
`}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return`
`}}]),K}(y.EmbedBlot);Kn.blotName="multilineBreak",Kn.tagName="BR";const ya=Kn;var ga=X(7094);function on(u){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},on(u)}function ba(u,l,K){return l=Ai(l),l in u?Object.defineProperty(u,l,{value:K,enumerable:!0,configurable:!0,writable:!0}):u[l]=K,u}function _a(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Pi(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Ai(nt.key),nt)}}function Oa(u,l,K){return l&&Pi(u.prototype,l),K&&Pi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Ai(u){var l=Ea(u,"string");return on(l)==="symbol"?l:String(l)}function Ea(u,l){if(on(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(on(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Ca(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Zn(u,l)}function Zn(u,l){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Et){return nt.__proto__=Et,nt},Zn(u,l)}function Ta(u){var l=wa();return function(){var nt=Sn(u),Et;if(l){var kt=Sn(this).constructor;Et=Reflect.construct(nt,arguments,kt)}else Et=nt.apply(this,arguments);return Sa(this,Et)}}function Sa(u,l){if(l&&(on(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(u)}function Ri(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function wa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sn(u){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Sn(u)}function Pa(u){return u.nextSibling||u.previousSibling?new(Si())().insert({multilineBreak:""}):new(Si())().insert(`
`)}var Aa=function(u){Ca(K,u);var l=Ta(K);function K(nt,Et){var kt;_a(this,K);var ge="blots/multilineBreak";return kt=l.call(this,nt,Et),T.ZP.register(ba({},ge,ya),!0),nt.keyboard.addBinding({key:"enter",shiftKey:!0},kt.enterHandler.bind(Ri(kt))),nt.keyboard.bindings.enter.unshift(nt.keyboard.bindings.enter.pop()),nt.clipboard.addMatcher("BR",Pa),kt}return Oa(K,[{key:"enterHandler",value:function(Et){var kt=this.quill.getLeaf(Et.index)[0],ge=this.quill.getLeaf(Et.index+1)[0];this.quill.insertEmbed(Et.index,"multilineBreak",!0,"user"),(ge===null||kt.parent!==ge.parent)&&this.quill.insertEmbed(Et.index,"multilineBreak",!0,"user"),this.quill.setSelection(Et.index+1,T.ZP.sources.SILENT)}}]),K}(ga.Z);const Ra=Aa;var xa=X(6054),xi=X(1342),Ii=X(319);function cn(u){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},cn(u)}function Ni(u,l){var K=Object.keys(u);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(u);l&&(nt=nt.filter(function(Et){return Object.getOwnPropertyDescriptor(u,Et).enumerable})),K.push.apply(K,nt)}return K}function wn(u){for(var l=1;l<arguments.length;l++){var K=arguments[l]!=null?arguments[l]:{};l%2?Ni(Object(K),!0).forEach(function(nt){Ia(u,nt,K[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(K)):Ni(Object(K)).forEach(function(nt){Object.defineProperty(u,nt,Object.getOwnPropertyDescriptor(K,nt))})}return u}function Ia(u,l,K){return l=Na(l),l in u?Object.defineProperty(u,l,{value:K,enumerable:!0,configurable:!0,writable:!0}):u[l]=K,u}function Na(u){var l=La(u,"string");return cn(l)==="symbol"?l:String(l)}function La(u,l){if(cn(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(cn(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Pn(u,l){return l.reduce(function(K,nt){var Et="".concat(u).concat(nt.attrName);return K[Et]=nt,K},{})}p.default.register(wn(wn(wn(wn({"attributors/attribute/direction":t.IF},Pn("attributors/attribute/",Ii.Qu)),Pn("attributors/attribute/",xi.yA)),{},{"attributors/class/align":C.dk,"attributors/class/background":$t.Y,"attributors/class/color":Dt.Hn,"attributors/class/direction":t.hY,"attributors/class/font":Ut._,"attributors/class/size":Kt.m,"attributors/style/align":C.HE,"attributors/style/background":$t.w,"attributors/style/color":Dt.HQ,"attributors/style/direction":t.H8,"attributors/style/font":Ut.H,"attributors/style/size":Kt.Z},Pn("attributors/style/",Ii.VT)),Pn("attributors/style/",xi.kk)),!0),p.default.register({"formats/align":C.dk,"formats/direction":t.hY,"formats/indent":E,"formats/background":$t.w,"formats/color":Dt.HQ,"formats/font":Ut._,"formats/size":Kt.m,"formats/blockquote":rt,"formats/code-block":Ci.ZP,"formats/header":ft,"formats/list":Nt,"formats/bold":te.Z,"formats/code":Ci.EK,"formats/italic":re,"formats/link":le.Z,"formats/script":Wr,"formats/strike":Tr,"formats/underline":qr,"formats/formula":d,"formats/image":En,"formats/video":oa,"tableModules/lite":xa.Z,"tableModules/main":Ti.Z,"modules/syntax":aa.ZP,"modules/multiline":Ra,"modules/table":Ti.Z},!0);const Ma=p.default})(),St=St.default,St})())})(mo);var yl=mo.exports;const fe=Da(yl);function yo(){if(!fe)throw di.Error("E1041","Quill");return fe}var oi;if(fe){var gl=fe.import("core/theme");oi=class extends gl{constructor(e,r){super(e,r),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox"),this.quill.root.setAttribute("aria-label","Editor content")}}}else oi={};const bl=oi;var ai={};if(fe){var _l=fe.import("formats/image");ai=class extends _l{static create(e){var r=e&&e.src||e,n=super.create(r);if(Jr(e)){var x=(X,St)=>{e[X]&&n.setAttribute(X,St)};x("alt",e.alt),x("width",e.width),x("height",e.height)}return n}static formats(e){var r=super.formats(e);return r.imageSrc=e.getAttribute("src"),r}formats(){var e=super.formats(),r=this.domNode.style.float;return r&&(e.float=r),e}format(e,r){e==="float"?this.domNode.style[e]=r:super.format(e,r)}static value(e){return{src:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height"),alt:e.getAttribute("alt")}}},ai.blotName="extendedImage"}const Ol=ai;var go={};if(fe){var El=fe.import("formats/link");go=class bo extends El{static create(r){var n,x=(n=r==null?void 0:r.href)!==null&&n!==void 0?n:r,X=super.create(x);return Jr(r)&&(r.text&&(X.innerText=r.text),r.target||X.removeAttribute("target")),X}static formats(r){return{href:r.getAttribute("href"),target:r.getAttribute("target")}}formats(){var r=super.formats(),{href:n,target:x}=bo.formats(this.domNode);return r.link=n,r.target=x,r}format(r,n){r==="link"&&Jr(n)?(n.text&&(this.domNode.innerText=n.text),n.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",n.href)):super.format(r,n)}static value(r){return{href:r.getAttribute("href"),text:r.innerText,target:!!r.getAttribute("target")}}}}const Cl=go;var li={};fe&&(li=fe.import("attributors/style/font"),li.whitelist=null);const Tl=li;var si={};fe&&(si=fe.import("attributors/style/size"),si.whitelist=null);const Sl=si;var ui={};fe&&(ui=fe.import("attributors/style/align"),ui.whitelist.push("left"));const wl=ui;class Pl{}var _o=Pl;if(fe){var Al=fe.import("core/module");_o=class extends Al{constructor(e,r){super(e,r),this.editorInstance=r.editorInstance}saveValueChangeEvent(e){this.editorInstance._saveValueChangeEvent(e)}addCleanCallback(e){this.editorInstance.addCleanCallback(e)}handleOptionChangeValue(e){Jr(e)?Object.entries(e).forEach(r=>{var[n,x]=r;return this.option(n,x)}):be(e)||this===null||this===void 0||this.clean()}}}const Ie=_o;var Rl="dx-colorview",xl="dx-colorview-container",In="dx-colorview-container-row",Il="dx-colorview-container-cell",Nl="dx-colorview-palette",Ll="dx-colorview-palette-cell",Ml="dx-colorview-palette-handle",Wi="dx-colorview-palette-gradient",Bl="dx-colorview-palette-gradient-white",Dl="dx-colorview-palette-gradient-black",jl="dx-colorview-hue-scale",kl="dx-colorview-hue-scale-cell",Hl="dx-colorview-hue-scale-handle",Fl="dx-colorview-hue-scale-wrapper",Ul="dx-colorview-controls-container",Wl="dx-colorview-label-red",$l="dx-colorview-label-green",Kl="dx-colorview-label-blue",$i="dx-colorview-label-hex",Zl="dx-colorview-alpha-channel-scale",zl="dx-colorview-alpha-channel-row",Vl="dx-colorview-alpha-channel-wrapper",Gl="dx-colorview-alpha-channel-label",ql="dx-colorview-alpha-channel-handle",Xl="dx-colorview-alpha-channel-cell",Ql="dx-colorview-alpha-channel-border",Ki="dx-colorview-color-preview",Yl="dx-colorview-color-preview-container",Jl="dx-colorview-color-preview-container-inner",ts="dx-colorview-color-preview-color-current",es="dx-colorview-color-preview-color-new",rs="dx-texteditor-input",Vn="#000000",mi=uo.inherit({_supportedKeys:function(){var e=this.option("rtlEnabled"),r=this,n=function(v){var _=100/r._paletteWidth;return v.shiftKey&&(_*=r.option("keyStep")),_=_>1?_:1,Math.round(_)},x=function(v){var _=r._currentColor.hsv.s+v;_>100?_=100:_<0&&(_=0),r._currentColor.hsv.s=_,p()},X=function(v){var _=100/r._paletteHeight;return v.shiftKey&&(_*=r.option("keyStep")),_=_>1?_:1,Math.round(_)},St=function(v){var _=r._currentColor.hsv.v+v;_>100?_=100:_<0&&(_=0),r._currentColor.hsv.v=_,p()};function p(){r._placePaletteHandle(),r._updateColorFromHsv(r._currentColor.hsv.h,r._currentColor.hsv.s,r._currentColor.hsv.v)}var C=function(v){var _=360/(r._hueScaleWrapperHeight-r._hueScaleHandleHeight);return v.shiftKey&&(_*=r.option("keyStep")),_=_>1?_:1,_},t=function(v){r._currentColor.hsv.h+=v,r._placeHueScaleHandle();var _=fn(r._$hueScaleHandle);r._updateColorHue(_.top+r._hueScaleHandleHeight/2)},y=function(v){var _=1/r._alphaChannelScaleWorkWidth;return v.shiftKey&&(_*=r.option("keyStep")),_=_>.01?_:.01,_=e?-_:_,_},h=function(v){r._currentColor.a+=v,r._placeAlphaChannelHandle();var _=fn(r._$alphaChannelHandle);r._calculateColorTransparencyByScaleWidth(_.left+r._alphaChannelHandleWidth/2)};return ce(this.callBase(),{upArrow:function(v){v.preventDefault(),v.stopPropagation(),An(v)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(v),t(C(v))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(v),St(X(v)))},downArrow:function(v){v.preventDefault(),v.stopPropagation(),An(v)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(v),t(-C(v))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(v),St(-X(v)))},rightArrow:function(v){v.preventDefault(),v.stopPropagation(),An(v)?(e?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(v),h(-y(v))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(v),x(n(v)))},leftArrow:function(v){v.preventDefault(),v.stopPropagation(),An(v)?(e?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(v),h(y(v))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(v),x(-n(v)))},enter:function(v){this._fireEnterKeyPressed(v)}})},_getDefaultOptions:function(){return ce(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return sn.real().deviceType==="desktop"&&!sn.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(e){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:e})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(e){e=e||Vn;var r=new nr(e);r.colorIsInvalid?(this._currentColor||(this._currentColor=new nr(Vn)),this.option("value",this._currentColor.baseColor)):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(r))&&(this._currentColor=r,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,r))},_setBaseColor:function(e){var r=e||Vn,n=new nr(r);if(!n.colorIsInvalid){var x=this._makeRgba(this.option("matchValue")!==this._makeRgba(n));x&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,n)}},_initMarkup:function(){this.callBase(),this.$element().addClass(Rl),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(e,r){r instanceof nr||(r=new nr(r)),e.css("backgroundColor",this._makeRgba(r))},_makeRgba:function(e){return e instanceof nr||(e=new nr(e)),"rgba("+[e.r,e.g,e.b,e.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var e=this.$element();this._$colorPickerContainer=Wt("<div>").addClass(xl).appendTo(e),this._renderHtmlRows()},_renderHtmlRows:function(e){var r=this._$colorPickerContainer.find("."+In),n=r.length,x=this.option("editAlphaChannel")?2:1,X=n-x;if(X>0&&r.eq(-1).remove(),X<0){X=Math.abs(X);var St=[],p;for(p=0;p<X;p++)St.push(Wt("<div>").addClass(In));if(n)for(p=0;p<St.length;p++)r.eq(0).after(St[p]);else this._$colorPickerContainer.append(St)}},_renderHtmlCellInsideRow:function(e,r,n){return Wt("<div>").addClass(Il).addClass(n).appendTo(r.find("."+In).eq(e))},_renderPalette:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,Ll),r=Wt("<div>").addClass([Wi,Bl].join(" ")),n=Wt("<div>").addClass([Wi,Dl].join(" "));this._$palette=Wt("<div>").addClass(Nl).css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(e),this._paletteHeight=Lr(this._$palette),this._paletteWidth=Mr(this._$palette),this._renderPaletteHandle(),this._$palette.append([r,n])},_renderPaletteHandle:function(){this._$paletteHandle=Wt("<div>").addClass(Ml).appendTo(this._$palette);var e="dx-".concat(new Di),r={id:e,role:"application"};this.setAria(r,this._$paletteHandle),this.setAria("activedescendant",e,this.option("target")),this._createComponent(this._$paletteHandle,Mn,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:(function(){return-this._paletteHandleHeight/2}).bind(this),onDragMove:n=>{var{event:x}=n,X=fn(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(x),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(X),this._calculateColorValue(X))}}),this._paletteHandleWidth=Mr(this._$paletteHandle),this._paletteHandleHeight=Lr(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){vn(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(e){var r=Math.floor(e.top+this._paletteHandleHeight/2);return 100-Math.round(100*r/this._paletteHeight)},_calculateColorSaturation:function(e){var r=Math.floor(e.left+this._paletteHandleWidth/2);return Math.round(100*r/this._paletteWidth)},_updateColorFromHsv:function(e,r,n){var x=this._currentColor.a;this._currentColor=new nr("hsv("+[e,r,n].join(",")+")"),this._currentColor.a=x,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,kl);this._$hueScaleWrapper=Wt("<div>").addClass(Fl).appendTo(e),this._$hueScale=Wt("<div>").addClass(jl).appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Lr(this._$hueScale),this._hueScaleWrapperHeight=Er(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._$hueScaleHandle=Wt("<div>").addClass(Hl).appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,Mn,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:e=>{var{event:r}=e;this._updateByDrag=!0,this._saveValueChangeEvent(r),this._updateColorHue(fn(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Lr(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var e=this._hueScaleWrapperHeight,r=this._hueScaleHandleHeight,n=(e-r)*(360-this._currentColor.hsv.h)/360;e<n+r&&(n=e-r),n<0&&(n=0),vn(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue:function(e){var r=360-Math.round(360*(e-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,x=this._currentColor.hsv.v;this._isTopColorHue=!1,r=r<0?0:r,r>=360&&(this._isTopColorHue=!0,r=0),this._updateColorFromHsv(r,n,x),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Wt("<div>").addClass(Ul).appendTo(e)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var e=Wt("<div>").addClass(Yl).appendTo(this._$controlsContainer),r=Wt("<div>").addClass(Jl).appendTo(e);this._$currentColor=Wt("<div>").addClass([Ki,es].join(" ")),this._$baseColor=Wt("<div>").addClass([Ki,ts].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),r.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+In).eq(1).addClass(zl),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:dn,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:Qt.format("dxColorView-ariaRed"),labelClass:Wl}),this._renderEditorWithLabel({editorType:dn,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:Qt.format("dxColorView-ariaGreen"),labelClass:$l}),this._renderEditorWithLabel({editorType:dn,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:Qt.format("dxColorView-ariaBlue"),labelClass:Kl})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(e){var r=Wt("<div>"),n=Wt("<label>").addClass(e.labelClass).text(e.labelText+":").append(r);he.off(n,ei),he.on(n,ei,function(p){p.preventDefault()});var x=e.editorType,X=ce({value:e.value,onValueChanged:e.onValueChanged,onKeyboardHandled:p=>this._keyboardHandler(p)},{stylingMode:this.option("stylingMode")});x===dn&&(X.min=e.min||0,X.max=e.max||255,X.step=e.step||1);var St=new x(r,X);return St.registerKeyHandler("enter",(function(p){this._fireEnterKeyPressed(p)}).bind(this)),this.setAria("label",e.labelAriaText,r),n},hexInputOptions:function(){return{editorType:ri,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:$i,labelText:"#",labelAriaText:Qt.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=ri.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"));var e="dx-".concat(new Di),r=this._$controlsContainer.find(".".concat($i)).find(".".concat(rs));this.setAria("id",e,r),this.setAria("labelledby",e,this._$paletteHandle)},_renderAlphaChannelScale:function(){var e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,Xl),r=Wt("<div>").addClass(Ql).appendTo(e),n=Wt("<div>").addClass(Vl).appendTo(r);this._$alphaChannelScale=Wt("<div>").addClass(Zl).appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(e)},_makeCSSLinearGradient:function(e){var r=this._currentColor,n="".concat(r.r,",").concat(r.g,",").concat(r.b),x=this.option("rtlEnabled"),X="rgba(".concat(n,", ").concat(x?"1":"0",")"),St="rgba(".concat(n,", ").concat(x?"0":"1",")"),p="linear-gradient(-90deg, ".concat(X,", ").concat(St,")");e.css("backgroundImage",p)},_renderAlphaChannelInput:function(){var e=this,r=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);e._alphaChannelInput=this._renderEditorWithLabel({editorType:dn,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(n){var x=n.value;x=e._currentColor.isValidAlpha(x)?x:e._currentColor.a,n.event&&e._saveValueChangeEvent(n.event),e._updateColorTransparency(x),e._placeAlphaChannelHandle()},labelClass:Gl,labelText:"Alpha",labelAriaText:Qt.format("dxColorView-ariaAlpha")}).appendTo(r).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(e){this._currentColor.a=e,this.applyColor()},_renderAlphaChannelHandle:function(e){this._$alphaChannelHandle=Wt("<div>").addClass(ql).appendTo(e),this._createComponent(this._$alphaChannelHandle,Mn,{contentTemplate:null,boundary:e,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:r=>{var{event:n}=r;this._updateByDrag=!0;var x=this._$alphaChannelHandle,X=fn(x).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(n),this._calculateColorTransparencyByScaleWidth(X)}}),this._alphaChannelHandleWidth=Mr(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=Mr(e)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(e){var r=(e-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");r=n?r:1-r,e>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?r=n?1:0:r<1&&(r=r.toFixed(2));var x=this._alphaChannelInput.option("value");r=Math.max(r,0),r=Math.min(r,1),r===x?this._updateByDrag=!1:this._alphaChannelInput.option("value",r)},_placeAlphaChannelHandle:function(){var e=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);e<0&&(e=0),this._alphaChannelScaleWorkWidth<e&&(e=this._alphaChannelScaleWorkWidth),vn(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-e:e})},applyColor:function(){var e=this.option("value"),r=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),r===e?this._updateByDrag=!1:this.option("value",r)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(e,r){var n,x;e?x=this._validateHex("#"+this._hexInput.option("value")):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),x="rgba("+n.join(", ")+")"):x="rgb("+n.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new nr(x),this._saveValueChangeEvent(r.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(e){return this._currentColor.isValidHex(e)?e:this._currentColor.toHex()},_validateRgb:function(){var e=this._rgbInputs[0].option("value"),r=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(e,r,n)||(e=this._currentColor.r,r=this._currentColor.g,n=this._currentColor.b),[e,r,n]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(e){var r=e.value;switch(e.name){case"value":this._setCurrentColor(r),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(e);break;case"matchValue":this._setBaseColor(r);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(e)}}});hi("dxColorView",mi);class ns{constructor(){this._collection=[]}clear(){this._collection=[]}add(r,n){this._collection.push({name:r,instance:n})}remove(r){this._collection=this._collection.filter(n=>n.name!==r)}getByName(r){var n=null;return Pe(this._collection,(x,X)=>{var{name:St,instance:p}=X;if(St===r)return n=p,!1}),n}each(r){this._collection.forEach(n=>{var{name:x,instance:X}=n;return X&&r(x,X)})}}var is=["table","tableHeaderCell"],os=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function Oo(e){var r=e.getModule("table");return r!=null&&r.tableFormats?r.tableFormats():is}function as(e,r){return!!r&&e.quill.getText(r).length<r.length}function yn(e,r){var{tableBlot:n,quill:x}=r,X=n??x.scroll.find(e.get(0));X.format("tableWidth","initial")}function Un(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.find("tr").eq(r).find("th, td")}function gn(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",n=[],x=r==="horizontal",X=x?Un(e):yi(e);return X.each((St,p)=>{var C=Wt(p);C.get(0).style[x?"width":"height"]===""&&n.push(C)}),n}function Ve(e,r){var{elements:n,property:x,value:X}=r,St=e.quill.getModule("table").tableBlots,p="cell".concat(Fn(x,!0));Pe(n,(C,t)=>{var y,h=e.quill.scroll.find(t);if(!St.includes(h.statics.blotName)){var v=h.descendant(_=>St.includes(_.statics.blotName));h=v?v[0]:null}(y=h)===null||y===void 0||y.format(p,X+"px")})}function pr(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"horizontal";return n==="horizontal"?yi(e,r):Un(e,r)}function yi(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.find("th:nth-child(".concat(1+r,"), td:nth-child(").concat(1+r,")"))}function xr(e,r){for(var n=arguments.length,x=new Array(n>2?n-2:0),X=2;X<n;X++)x[X-2]=arguments[X];return()=>{var St=e.getModule("table");if(St)return e.focus(),St[r](...x)}}var On="dx-colorbox",Eo=On+"-input",ls=Eo+"-container",ss=On+"-color-result-preview",Zi=On+"-color-is-not-defined",us=On+"-overlay",cs="dx-colorview-container-cell",fs="dx-colorview-button-cell",ds="dx-colorview-buttons-container",hs="dx-colorview-apply-button",ps="dx-colorview-cancel-button",Nn=mi.prototype,Ir={makeTransparentBackground:Nn._makeTransparentBackground.bind(Nn),makeRgba:Nn._makeRgba.bind(Nn)},bn=ja.inherit({_supportedKeys:function(){var e=function(r){if(r.stopPropagation(),this.option("opened"))return r.preventDefault(),!0};return ce(this.callBase(),{enter:this._enterKeyHandler,leftArrow:e,rightArrow:e,upArrow:function(r){return this.option("opened")?r.altKey?(this.close(),!1):!0:(r.preventDefault(),!1)},downArrow:function(r){return!this.option("opened")&&!r.altKey?(r.preventDefault(),!1):!this.option("opened")&&r.altKey?(this._validatedOpening(),!1):!0}})},_getDefaultOptions:function(){return ce(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),this.option("applyValueMode")==="useButtons"&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return ce(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var e=this._popup.bottomToolbar();e&&(e.addClass(cs).addClass(fs).find(".dx-toolbar-items-container").addClass(ds),e.find(".dx-popup-done").addClass(hs),e.find(".dx-popup-cancel").addClass(ps))},_createColorView:function(){this._popup.$overlayContent().addClass(us);var e=Wt("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(e,mi,this._colorViewConfig())},_applyNewColor:function(e){this.option("value",e),e&&Ir.makeTransparentBackground(this._$colorResultPreview,e),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var e=this;return{value:e.option("value"),matchValue:e.option("value"),editAlphaChannel:e.option("editAlphaChannel"),applyValueMode:e.option("applyValueMode"),focusStateEnabled:e.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),target:this._input(),onEnterKeyPressed:function(r){var{event:n}=r;e._colorViewEnterKeyPressed=!0,e._colorView.option("value")!==e.option("value")&&(e._saveValueChangeEvent(n),e._applyNewColor(e._colorView.option("value")),e.close())},onValueChanged:function(r){var{event:n,value:x,previousValue:X}=r,St=e.option("applyValueMode")==="instantly",p=Ir.makeRgba(x)===X,C=St||e._colorViewEnterKeyPressed,t=e._shouldSaveEmptyValue;p||!C||t||(n&&e._saveValueChangeEvent(n),e._applyNewColor(x))}}},_enterKeyHandler:function(e){var r=this._input().val(),{value:n,editAlphaChannel:x}=this.option(),X=n&&x?Ir.makeRgba(n):n;if(!r)return!1;var St=new nr(r);if(St.colorIsInvalid){this._input().val(X);return}if(r!==X&&(this._applyColorFromInput(r),this._saveValueChangeEvent(e),this.option("value",this.option("editAlphaChannel")?Ir.makeRgba(r):r)),this._colorView){var p=this._colorView.option("value");n!==p&&(this._saveValueChangeEvent(e),this.option("value",p))}return this.close(),!1},_applyButtonHandler:function(e){this._saveValueChangeEvent(e.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass(On),this.callBase()},_renderInput:function(){this.callBase(),this._input().addClass(Eo),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner(Wt("<div>").addClass(ls)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Wt("<div>").addClass(ss).appendTo(this._$textEditorInputContainer),this.option("value")?Ir.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Zi)},_renderValue:function(){var{value:e,editAlphaChannel:r}=this.option(),n=e&&r,x=n?Ir.makeRgba(e):e;return this.option("text",x),this.callBase()},_resetInputValue:function(){var e=this._input(),r=this.option("value");e.val(r),this._updateColorViewValue(r)},_updateColorViewValue:function(e){this._colorView&&this._colorView.option({value:e,matchValue:e})},_valueChangeEventHandler:function(e){var r=this._input().val();r&&(r=this._applyColorFromInput(r),this._updateColorViewValue(r)),this.callBase(e,r)},_applyColorFromInput:function(e){var{editAlphaChannel:r}=this.option(),n=new nr(e);return n.colorIsInvalid?(this._resetInputValue(),this.option("value")):r?Ir.makeRgba(e):e},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(e){var r=e.value,n=e.name;switch(n){case"value":this._$colorBoxInputContainer.toggleClass(Zi,!r),r?Ir.makeTransparentBackground(this._$colorResultPreview,r):this._$colorResultPreview.removeAttr("style"),r===null&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(r),this._shouldSaveEmptyValue=!1,this.callBase(e);break;case"applyButtonText":case"cancelButtonText":this.callBase(e),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(n,r);break;default:this.callBase(e)}}});hi("dxColorBox",bn);var vs=["imageSrc","src"],ms=sn.current().deviceType==="phone",ys="dxHtmlEditor-dialogImageCaption",gs="dxHtmlEditor-dialogUpdateImageCaption",bs="dxHtmlEditor-dialogImageUrlField",_s="dxHtmlEditor-dialogImageAltField",Os="dxHtmlEditor-dialogImageWidthField",Es="dxHtmlEditor-dialogImageHeightField",Cs="dxHtmlEditor-dialogImageAddButton",Ts="dxHtmlEditor-dialogImageUpdateButton",Ss="dxHtmlEditor-dialogImageSpecifyUrl",ws="dxHtmlEditor-dialogImageSelectFile",Ps="dxHtmlEditor-dialogImageKeepAspectRatio",As="dxHtmlEditor-dialogImageEncodeToBase64",Rs="dx-htmleditor-add-image-popup",xs="dx-htmleditor-add-image-popup-with-tabs",Is="dx-fix-ratio-container",zi="dx-formdialog",Vi="user",Gi="silent",Ns="dx-htmleditor-image";class Ls{constructor(r,n){this.module=r,this.config=n??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var r=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(r).done((n,x)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(n,x)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){var r=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(r)}setAddButtonDisabled(r){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":r})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(r){var{imageSrc:n,src:x}=r,X=ka(r,vs);return jn({src:n??x},X)}createUrlTab(r){return new Ms(this.module,{config:this.config,formData:r,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new Bs(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return r.length===0||this.isUpdating?["url"]:r.map(n=>typeof n=="object"?n.name:n)}createTabs(r){return this.tabsModel.map(n=>{var x=n==="url";return x?this.createUrlTab(r):this.createFileTab()})}isImageUpdating(){var r;return Object.prototype.hasOwnProperty.call((r=this.module.quill.getFormat())!==null&&r!==void 0?r:{},"imageSrc")}updatePopupConfig(){var r="".concat(Rs," ").concat(zi);this.useTabbedItems()&&(r+=" ".concat(xs));var n=this.isUpdating?gs:ys,x=this.isUpdating?Ts:Cs;this.editorInstance.formDialogOption({title:Qt.format(n),"toolbarItems[0].options.text":Qt.format(x),wrapperAttr:{class:r}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":Qt.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:zi}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return ms?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){if(this.useTabbedItems()){var r=Ha(this.tabs,n=>({title:n.getTabName(),colCount:11,items:n.getItemsConfig()}));return[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:n=>{this.tabPanelIndex=n.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:r}]}return this.tabs[0].getItemsConfig()}}class Co{constructor(r,n,x){var{config:X,formData:St,isUpdating:p}=n;this.module=r,this.config=X,this.formData=St,this.isUpdating=p,this.onFileSelected=x,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new Ds(this.module,this.config,this.formData):new So(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class Ms extends Co{getTabName(){return Qt.format(Ss)}}class Bs extends Co{getTabName(){return Qt.format(ws)}createStrategy(){return new js(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class To{constructor(r,n){this.module=r,this.config=n,this.editorInstance=r.editorInstance,this.quill=r.quill,this.selection=this.getQuillSelection()}getQuillSelection(){var r=this.quill.getSelection();return r??{index:this.quill.getLength(),length:0}}pasteImage(){}isValid(){return!0}upload(){}}class So extends To{constructor(r,n,x){super(r,n,x),this.shouldKeepAspectRatio=!0}pasteImage(r,n){this.module.saveValueChangeEvent(n),Po(this.quill,this.selection.index,r)}keepAspectRatio(r,n){var{dependentEditor:x,e:X}=n,St=parseInt(X.value),p=parseInt(X.previousValue),C=parseInt(x.option("value"));r.component.updateData(r.dataField,St),this.shouldKeepAspectRatio&&C&&p&&!this.preventRecalculating&&(this.preventRecalculating=!0,x.option("value",Math.round(St*C/parseInt(p)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(r,n,x){return this.editorInstance._createComponent(r,ri,ce(!0,n.editorOptions,{value:n.component.option("formData")[n.dataField],onEnterKey:n.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,n),onValueChanged:X=>{this.keepAspectRatio(n,{dependentEditor:this[x+"Editor"],e:X})}}))}upload(){var r=this.editorInstance._formDialog._form.validate();return r.isValid}getItemsConfig(){var r=pi()?"text":"outlined";return[{dataField:"src",colSpan:11,label:{text:Qt.format(bs)},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:Qt.format(Os)},template:n=>{var x=Wt("<div>").addClass(Is),X=Wt("<div>").appendTo(x);this.widthEditor=this.createKeepAspectRatioEditor(X,n,"height");var St=Wt("<div>").appendTo(x);return this.editorInstance._createComponent(St,kn,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:Qt.format(Ps),focusStateEnabled:!1,keyExpr:"value",stylingMode:r,selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:p=>{this.shouldKeepAspectRatio=!!p.component.option("selectedItems").length}}),x}},{dataField:"height",colSpan:5,label:{text:Qt.format(Es)},template:n=>{var x=Wt("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(x,n,"width"),x}},{dataField:"alt",colSpan:11,label:{text:Qt.format(_s)}}]}}class Ds extends So{constructor(r,n,x,X){super(r,n,X),this.formData=x,this.modifyFormData()}modifyFormData(){var{imageSrc:r}=this.quill.getFormat(this.selection.index-1,1);(!r||this.selection.index===0)&&(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,Gi));var n=this.quill.getLeaf(this.selection.index)[0].domNode;if(n){var x,X;this.formData.width=(x=this.formData.width)!==null&&x!==void 0?x:Mr(Wt(n)),this.formData.height=(X=this.formData.height)!==null&&X!==void 0?X:Lr(Wt(n))}}pasteImage(r,n){this.quill.deleteText(this.embedFormatIndex(),1,Gi),this.selection.index-=1,super.pasteImage(r,n)}embedFormatIndex(){var r,n=(r=this.selection)!==null&&r!==void 0?r:this.quill.getSelection();return n?n.length?n.index:n.index-1:this.quill.getLength()}}class js extends To{constructor(r,n,x){super(r,n,x),this.useBase64=!be(this.config.fileUploadMode)||this.config.fileUploadMode==="base64",this.isValidInternal=!1,this.onFileSelected=x,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}onUploaded(r){Ao(this.config.uploadDirectory,r.file.name,this.quill,this.selection.index)}base64Upload(r){this.quill.getModule("uploader").upload(this.selection,r.value,!0)}pasteImage(r,n){this.useBase64&&super.pasteImage(r,n)}isBase64Editable(){return this.config.fileUploadMode==="both"}validate(r){var n=r.component;this.isValidInternal=!n._files.some(x=>!x.isValid()),n._files.length===0&&(this.isValidInternal=!1)}getFileUploaderOptions(){var r={uploadUrl:this.config.uploadUrl,onValueChanged:n=>{this.validate(n),this.data=n,this.onFileSelected()},onUploaded:n=>this.onUploaded(n)};return ce({},wo(),r,this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{var r=Wt("<div>");return this.module.editorInstance._createComponent(r,vo,this.getFileUploaderOptions()),r}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:Qt.format(As),onValueChanged:r=>{this.isBase64Editable()&&(this.useBase64=r.value)}}}]}}function ks(e){return e[e.length-1]!=="/"?e+"/":e}function wo(){return{value:[],name:Ns,accept:"image/*",uploadMode:"useButtons"}}function Po(e,r,n){e.insertEmbed(r,"extendedImage",n,Vi),e.setSelection(r+1,0,Vi)}function Ao(e,r,n,x){if(e){var X=ks(e)+r;Po(n,x,{src:X})}}var Hs=400,Fs=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],Ro=Fs.map(e=>({id:e,value:Qt.format("dxHtmlEditor-borderStyle".concat(Fn(e,!0)))})),Br="user",Us="silent",Ws="dxHtmlEditor-dialogColorCaption",$s="dxHtmlEditor-dialogBackgroundCaption",Ks="dxHtmlEditor-dialogLinkCaption",Zs="dxHtmlEditor-dialogInsertTableCaption",zs="dxHtmlEditor-dialogLinkUrlField",Vs="dxHtmlEditor-dialogLinkTextField",Gs="dxHtmlEditor-dialogLinkTargetField",qs="dx-formdialog-field-target",Xs="dxHtmlEditor-dialogInsertTableRowsField",Qs="dxHtmlEditor-dialogInsertTableColumnsField",xo={insertHeaderRow:"header",clear:"clearformat"};function Io(e){return{clear:r=>{var{event:n}=r,x=e.quill.getSelection();if(x){var X;e.saveValueChangeEvent(n),e.quill.removeFormat(x),(X=gi(e))===null||X===void 0||X.updateFormatWidgets()}},link:tu(e),image:eu(e,e.editorInstance.option("imageUpload")),color:Yi(e,"color"),background:Yi(e,"background"),orderedList:Nr(e,"list","ordered"),bulletList:Nr(e,"list","bullet"),alignLeft:Nr(e,"align","left"),alignCenter:Nr(e,"align","center"),alignRight:Nr(e,"align","right"),alignJustify:Nr(e,"align","justify"),codeBlock:bi(e,"code-block"),undo:r=>{var{event:n}=r;e.saveValueChangeEvent(n),e.quill.history.undo()},redo:r=>{var{event:n}=r;e.saveValueChangeEvent(n),e.quill.history.redo()},increaseIndent:r=>{var{event:n}=r;en(e,["indent","+1",Br],n)},decreaseIndent:r=>{var{event:n}=r;en(e,["indent","-1",Br],n)},superscript:Nr(e,"script","super"),subscript:Nr(e,"script","sub"),insertTable:iu(e),insertHeaderRow:xr(e.quill,"insertHeaderRow"),insertRowAbove:xr(e.quill,"insertRowAbove"),insertRowBelow:xr(e.quill,"insertRowBelow"),insertColumnLeft:xr(e.quill,"insertColumnLeft"),insertColumnRight:xr(e.quill,"insertColumnRight"),deleteColumn:xr(e.quill,"deleteColumn"),deleteRow:xr(e.quill,"deleteRow"),deleteTable:xr(e.quill,"deleteTable"),cellProperties:Xi(e,"cell"),tableProperties:Xi(e,"table")}}function qi(e,r){var{contentTemplate:n,title:x,minHeight:X,minWidth:St,maxWidth:p}=r;e.formDialogOption({contentTemplate:n,title:x,minHeight:X??0,minWidth:St??0,maxWidth:p??"none"})}function Xi(e,r){return n=>{var x,X;(x=n)!==null&&x!==void 0&&x.length||(n=Wt(Ys(e,r)));var[St,p]=(X=e.quill.getModule("table").getTable())!==null&&X!==void 0?X:[],C=e.quill.getFormat(e.editorInstance.getSelection(!0)),t=lu(r)(e,{$element:n,formats:C,tableBlot:St,rowBlot:p}),{contentTemplate:y,title:h,minHeight:v,minWidth:_,maxWidth:B}=e.editorInstance._formDialog._popup.option(),M={contentTemplate:y,title:h,minHeight:v,minWidth:_,maxWidth:B},N;e.editorInstance.formDialogOption({contentTemplate:S=>{var I=Wt("<div>").appendTo(S),R=Wt("<div>").appendTo(I);return e.editorInstance._createComponent(R,co,t.formOptions),e.editorInstance._createComponent(I,Fa,{}),N=R.dxForm("instance"),I},title:Qt.format("dxHtmlEditor-".concat(r,"Properties")),minHeight:Hs,minWidth:Math.min(800,.9*Mr(tn())-1),maxWidth:.9*Mr(tn())});var P=e.editorInstance.showFormDialog();P.done((S,I)=>{e.saveValueChangeEvent(I),t.applyHandler(N),qi(e.editorInstance,M)}),P.fail(()=>{e.quill.focus(),qi(e.editorInstance,M)})}}function en(e,r,n){e.saveValueChangeEvent(n),e.quill.format(...r)}function Ys(e,r){var n=e.quill.getModule("table").getTable();return r==="table"?n[0].domNode:n[2].domNode}function Js(e,r){var n=yo(),x=n.import("formats/link"),X,St;[X,St]=e.quill.scroll.descendant(x,r.index),!X&&r.length===0&&([X,St]=e.quill.scroll.descendant(x,r.index-1),X&&(St+=1));var p=X?{index:r.index-St,length:X.length()}:null;return p}function Qi(e){return Array.isArray(e)?e[0]:e}function tu(e){return()=>{var r;e.quill.focus();var n=e.quill.getSelection(),x=n?e.quill.getFormat():{},X=x.link!==void 0&&((r=n)===null||r===void 0?void 0:r.length)===0,St=x.link||"";if(X){var p=Js(e,n);p?n=p:St=""}var C=as(e,n),t={href:St,text:n&&!C?e.quill.getText(n):"",target:Object.prototype.hasOwnProperty.call(x,"target")?!!x.target:!0};e.editorInstance.formDialogOption("title",Qt.format(Ks));var y=e.editorInstance.showFormDialog({formData:t,items:ru(C)});y.done((h,v)=>{if(n&&!C){var _=h.text||h.href,{index:B,length:M}=n;h.text=void 0,e.saveValueChangeEvent(v),M&&e.quill.deleteText(B,M,Us),e.quill.insertText(B,_,"link",h,Br),e.quill.setSelection(B+_.length,0,Br)}else h.text=!n&&!h.text?h.href:h.text,en(e,["link",h,Br],v)}),y.fail(()=>{e.quill.focus()})}}function eu(e,r){var n=new Ls(e,r);return()=>{n.render()}}function ru(e){return[{dataField:"href",label:{text:Qt.format(zs)}},{dataField:"text",label:{text:Qt.format(Vs)},visible:!e},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:Qt.format(Gs)},cssClass:qs,label:{visible:!1}}]}function Yi(e,r){return()=>{var n=e.quill.getFormat(),x=r==="color"?Ws:$s;e.editorInstance.formDialogOption("title",Qt.format(x));var X=e.editorInstance.showFormDialog({formData:n,items:[{dataField:r,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});X.done((St,p)=>{en(e,[r,St[r],Br],p)}),X.fail(()=>{e.quill.focus()})}}function Nr(e,r,n){return x=>{var X,{event:St}=x,p=e.quill.getFormat(),C=p[r]===n?!1:n;en(e,[r,C,Br],St),(X=gi(e))===null||X===void 0||X.updateFormatWidgets(!0)}}function gi(e){return e._updateFormatWidget?e:e.quill.getModule("toolbar")}function bi(e,r){return n=>{var x,{event:X}=n,St=e.quill.getFormat(),p=St[r],C=!(Ua(p)?p:be(p));en(e,[r,C,Br],X),(x=gi(e))===null||x===void 0||x._updateFormatWidget(r,C,St)}}function nu(){return[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(Xs)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(Qs)}}]}function iu(e){return()=>{var r=e.quill.getFormat(),n=e._tableFormats.some(X=>Object.prototype.hasOwnProperty.call(r,X));if(n){e.quill.focus();return}e.editorInstance.formDialogOption("title",Qt.format(Zs));var x=e.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:nu()});x.done((X,St)=>{e.quill.focus();var p=e.quill.getModule("table");if(p){e.saveValueChangeEvent(St);var{columns:C,rows:t}=X;p.insertTable(C,t)}}).always(()=>{e.quill.focus()})}}function ou(e,r){var{$element:n,formats:x,tableBlot:X}=r,St=tn(),p,C,t,y=n,h=e.editorInstance,v=parseInt(x.tableWidth)||_e(y),_=St.getComputedStyle(y.get(0)),B=_.textAlign==="start"?"left":_.textAlign,M={colCount:2,formData:{width:v,height:be(x.tableHeight)?parseInt(x.tableHeight):Er(y),backgroundColor:x.tableBackgroundColor||_.backgroundColor,borderStyle:x.tableBorderStyle||_.borderTopStyle,borderColor:x.tableBorderColor||_.borderTopColor,borderWidth:parseInt(be(x.tableBorderWidth)?x.tableBorderWidth:_.borderTopWidth),alignment:x.tableAlign||B},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Ro,valueExpr:"id",displayExpr:"value",placeholder:"Select style"}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},colSpan:2,template:N=>{var P=Wt("<div>");return h._createComponent(P,bn,{editAlphaChannel:!0,value:N.component.option("formData").borderColor,onInitialized:S=>{C=S.component}}),P}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:N=>{var P=Wt("<div>");return h._createComponent(P,bn,{editAlphaChannel:!0,value:N.component.option("formData").backgroundColor,onInitialized:S=>{t=S.component}}),P}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var N=Wt("<div>");return h._createComponent(N,kn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[B],onInitialized:P=>{p=P.component}}),N}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:M,applyHandler:N=>{var P=N.option("formData"),S=P.width===v?void 0:P.width,I=P.height;su(e,{$table:y,newHeight:I,newWidth:S,tableBlot:X}),e.editorInstance.format("tableBorderStyle",P.borderStyle),e.editorInstance.format("tableBorderWidth",P.borderWidth+"px"),e.editorInstance.format("tableBorderColor",C.option("value")),e.editorInstance.format("tableBackgroundColor",t.option("value")),e.editorInstance.format("tableTextAlign",p.option("selectedItemKeys")[0])}}}function au(e,r){var{$element:n,formats:x,tableBlot:X,rowBlot:St}=r,p=tn(),C,t,y,h,v=n,_=be(x.cellWidth)?parseInt(x.cellWidth):_e(v),B=e.editorInstance,M=p.getComputedStyle(v.get(0)),N=M.textAlign==="start"?"left":M.textAlign,P={colCount:2,formData:{width:_,height:be(x.cellHeight)?parseInt(x.cellHeight):Er(v),backgroundColor:Qi(x.cellBackgroundColor)||M.backgroundColor,borderStyle:x.cellBorderStyle||M.borderTopStyle,borderColor:Qi(x.cellBorderColor)||M.borderTopColor,borderWidth:parseInt(be(x.cellBorderWidth)?x.cellBorderWidth:M.borderTopWidth),alignment:x.cellTextAlign||N,verticalAlignment:x.cellVerticalAlign||M.verticalAlign,verticalPadding:parseInt(be(x.cellPaddingTop)?x.cellPaddingTop:M.paddingTop),horizontalPadding:parseInt(be(x.cellPaddingLeft)?x.cellPaddingLeft:M.paddingLeft)},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Ro,valueExpr:"id",displayExpr:"value"}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:Qt.format("dxHtmlEditor-borderColor")},template:S=>{var I=Wt("<div>");return B._createComponent(I,bn,{editAlphaChannel:!0,value:S.component.option("formData").borderColor,onInitialized:R=>{y=R.component}}),I}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:Qt.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{label:{text:Qt.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:S=>{var I=Wt("<div>");return B._createComponent(I,bn,{editAlphaChannel:!0,value:S.component.option("formData").backgroundColor,onInitialized:R=>{h=R.component}}),I}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var S=Wt("<div>");return B._createComponent(S,kn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[N],onInitialized:I=>{C=I.component}}),S}},{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-vertical")},template:()=>{var S=Wt("<div>");return B._createComponent(S,kn,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[M.verticalAlign],onInitialized:I=>{t=I.component}}),S}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:P,applyHandler:S=>{var I=S.option("formData"),R=I.width===parseInt(_)?void 0:I.width,D=I.height;uu(e,{$cell:v,newHeight:D,newWidth:R,tableBlot:X,rowBlot:St}),e.editorInstance.format("cellBorderWidth",I.borderWidth+"px"),e.editorInstance.format("cellBorderColor",y.option("value")),e.editorInstance.format("cellBorderStyle",I.borderStyle),e.editorInstance.format("cellBackgroundColor",h.option("value")),e.editorInstance.format("cellTextAlign",C.option("selectedItemKeys")[0]),e.editorInstance.format("cellVerticalAlign",t.option("selectedItemKeys")[0]),e.editorInstance.format("cellPaddingLeft",I.horizontalPadding+"px"),e.editorInstance.format("cellPaddingRight",I.horizontalPadding+"px"),e.editorInstance.format("cellPaddingTop",I.verticalPadding+"px"),e.editorInstance.format("cellPaddingBottom",I.verticalPadding+"px")}}}function lu(e){return e==="cell"?au:ou}function su(e,r){var{$table:n,newHeight:x,newWidth:X,tableBlot:St}=r;if(be(X)){var p=gn(n);if(p.length>0)e.editorInstance.format("tableWidth",X+"px");else{var C=Un(n),t=_e(n);yn(n,{tableBlot:St}),Pe(C,(_,B)=>{var M=Wt(B),N=X/t*_e(M),P=pr(n,M.index(),"horizontal");Ve(e,{elements:P,property:"width",value:N})})}}var y=gn(n,"vertical");if((y==null?void 0:y.length)>0)St.format("tableHeight",x+"px");else{var h=yi(n),v=Er(n);Pe(h,(_,B)=>{var M=Wt(B),N=x/v*Er(M),P=pr(n,_,"vertical");Ve(e,{elements:P,property:"height",value:N})})}}function uu(e,r){var{$cell:n,newHeight:x,newWidth:X,tableBlot:St,rowBlot:p}=r,C=Wt(n.closest("table"));if(be(X)){var t=Wt(n).index(),y=pr(C,t),h=X-_e(n),v=_e(C);X>v&&yn(C,{tableBlot:St}),Ve(e,{elements:y,property:"width",value:X});var _=n.next(),B=gn(C).length===0;if(B)if(yn(C,{tableBlot:St}),_.length===1){y=pr(C,t+1);var M=_e(y.eq(0))-h;Ve(e,{elements:y,property:"width",value:Math.max(M,0)})}else{var N=n.prev();if(N.length===1){y=pr(C,t-1);var P=_e(y.eq(0))-h;Ve(e,{elements:y,property:"width",value:Math.max(P,0)})}}}p.children.forEach(I=>{I.format("cellHeight",x+"px")});var S=gn(C,"vertical");S.length===0&&C.css("height","auto")}var No=Ie;if(fe){var Ji="dx-htmleditor-toolbar-wrapper",cu="dx-htmleditor-toolbar",fu="dx-htmleditor-toolbar-format",du="dx-htmleditor-toolbar-separator",hu="dx-htmleditor-toolbar-menu-separator",to="dx-format-active",eo="dx-state-selected",pu="dx-icon",vu="selection-change",mu="user",yu="silent",gu={66:"bold",73:"italic",85:"underline"},Gn={b:66,i:73,u:85},an=e=>Qt.format("dxHtmlEditor-".concat(Fn(e))),bu=(e,r)=>{if(r==="header"){var n=be(e)&&e!==!1;return n?"".concat(an("heading")," ").concat(e):an("normalText")}return an(e)||e};No=class extends Ie{constructor(e,r){var n;if(super(e,r),n=this,this._toolbarWidgets=new ns,this._formatHandlers=Io(this),this._tableFormats=Oo(e),be(r.items)){this._addCallbacks(),this._renderToolbar();var x=this.toolbarInstance._layoutStrategy._menu;if(x){var X=x._renderPopup;x._renderPopup=function(){for(var St=arguments.length,p=new Array(St),C=0;C<St;C++)p[C]=arguments[C];X.apply(x,...p),x._popup.on("showing",()=>{n._updateToolbar(!0)})}}this.quill.on("editor-change",(St,p,C,t)=>{var y=t===yu&&Bn(this.quill.getFormat());if(!y){var h=St===vu;this._updateToolbar(h)}})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(e){this.updateFormatWidgets(e),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(e,r,n){var x=this._toolbarWidgets.getByName(e);x&&(r?this._markActiveFormatWidget(e,x,n):(this._resetFormatWidget(e,x),Object.prototype.hasOwnProperty.call(e)&&delete n[e]),this._toggleClearFormatting(r||!Bn(n)))}_renderToolbar(){var e=this.options.container||this._getContainer();this._$toolbar=Wt("<div>").addClass(cu).appendTo(e),this._$toolbarContainer=Wt(e).addClass(Ji),he.on(this._$toolbarContainer,Re("mousedown",this.editorInstance.NAME),r=>{r.target.focus(),r.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,Wa,this.toolbarConfig),this.editorInstance.on("optionChanged",r=>{var{name:n}=r;(n==="readOnly"||n==="disabled")&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var e;return(e=this.options.multiline)!==null&&e!==void 0?e:!0}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(Ji)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var e=Wt("<div>");return this.editorInstance.$element().prepend(e),e}_detectRenamedOptions(e){Jr(e)&&Pe([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(r,n)=>{Object.prototype.hasOwnProperty.call(e,n.oldName)&&di.log("W1016",n.oldName,n.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:Gn.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Gn.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Gn.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(e,r,n){var{which:x}=n,X=gu[x];this._updateButtonState(X)}_updateButtonState(e){var r=this._toolbarWidgets.getByName(e),n=this.quill.getFormat(),x=n[e];x?this._markActiveFormatWidget(e,r,n):this._resetFormatWidget(e,r)}_prepareToolbarItems(){var e=[];return Pe(this.options.items,(r,n)=>{var x;if(this._detectRenamedOptions(n),Jr(n))x=this._handleObjectItem(n);else if(vi(n)){var X=this._prepareButtonItemConfig(n);x=this._getToolbarItem(X)}x&&e.push(x)}),e}_handleObjectItem(e){if(e.name&&e.acceptedValues&&this._isAcceptableItem(e.widget,"dxSelectBox")){var r=this._prepareSelectItemConfig(e);return this._getToolbarItem(r)}else if(e.name&&this._isAcceptableItem(e.widget,"dxButton")){var n=this._prepareButtonItemConfig(e.name),x=ce(!0,n,e);return this._getToolbarItem(x)}else return this._getToolbarItem(e)}_isAcceptableItem(e,r){return!e||e===r}_prepareButtonItemConfig(e){var r,n=(r=xo[e])!==null&&r!==void 0?r:e,x=Dn(e);return{widget:"dxButton",name:e,options:{hint:an(x),text:an(x),icon:n.toLowerCase(),onClick:this._formatHandlers[e]||bi(this,e),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(e){var{name:r,acceptedValues:n}=e;return ce(!0,{widget:"dxSelectBox",name:r,options:{stylingMode:"filled",dataSource:n,displayExpr:x=>bu(x,r),placeholder:an(r),onValueChanged:x=>{this._isReset||(this._hideAdaptiveMenu(),en(this,[r,x.value,mu],x.event),this._setValueSilent(x.component,x.value))}}},e)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(e){var r={options:{onInitialized:n=>{e.name&&(n.component.$element().addClass(fu),n.component.$element().toggleClass("dx-".concat(e.name.toLowerCase(),"-format"),!!e.name),this._toolbarWidgets.add(e.name,n.component))},onDisposing:()=>{this._toolbarWidgets.remove(e.name)}}};return ce(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(e.name),e,r)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(e,r,n)=>{Wt(n).addClass(du)},menuItemTemplate:(e,r,n)=>{Wt(n).addClass(hu)}}}}_getDefaultConfig(e){return this._getDefaultItemsConfig()[e]}updateHistoryWidgets(){var e=this.quill.history;if(e){var{undo:r,redo:n}=e.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!r.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!n.length)}}updateTableWidgets(){var e=this.quill.getModule("table");if(e){var r=this.quill.getSelection(),n=r&&this.quill.getFormat(r)||{},x=this._tableFormats.some(X=>!!n[X]);os.forEach(X=>{var St=X==="insertTable",p=this._toolbarWidgets.getByName(X);this._updateManipulationWidget(p,St?!x:x)})}}_updateManipulationWidget(e,r){e&&e.option("disabled",!r)}updateFormatWidgets(e){var r=this.quill.getSelection();if(r){var n=this.quill.getFormat(r),x=!Bn(n);(!x||e)&&this._resetFormatWidgets();for(var X in n){var St=this._getFormatWidgetName(X,n),p=this._toolbarWidgets.getByName(St)||this._toolbarWidgets.getByName(X);p&&this._markActiveFormatWidget(X,p,n)}this._toggleClearFormatting(x||r.length>1)}}_markActiveFormatWidget(e,r,n){this._isColorFormat(e)&&this._updateColorWidget(e,n[e]),"value"in r.option()?this._setValueSilent(r,n[e]):(r.$element().addClass(to),r.$element().addClass(eo))}_toggleClearFormatting(e){var r=this._toolbarWidgets.getByName("clear");r&&r.option("disabled",!e)}_isColorFormat(e){return e==="color"||e==="background"}_updateColorWidget(e,r){var n=this._toolbarWidgets.getByName(e);n&&n.$element().find(".".concat(pu)).css("borderBottomColor",r||"transparent")}_getFormatWidgetName(e,r){var n;switch(e){case"align":n=e+Dn(r[e]);break;case"list":n=r[e]+Dn(e);break;case"code-block":n="codeBlock";break;case"script":n=r[e]+e;break;case"imageSrc":n="image";break;default:n=e}return n}_setValueSilent(e,r){this._isReset=!0,e.option("value",r),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((e,r)=>{this._resetFormatWidget(e,r)})}_resetFormatWidget(e,r){r.$element().removeClass(to),r.$element().removeClass(eo),this._isColorFormat(e)&&this._updateColorWidget(e),e==="clear"&&r.option("disabled",!0),r.NAME==="dxSelectBox"&&this._setValueSilent(r,null)}addClickHandler(e,r){this._formatHandlers[e]=r;var n=this._toolbarWidgets.getByName(e);n&&n.NAME==="dxButton"&&n.option("onClick",r)}}}const _u=No;var Lo=Ie;fe&&(Lo=class extends Ie{constructor(e,r){super(e,r);var n=this.editorInstance.NAME;he.on(this.quill.root,Re("drop",n),this._dropHandler.bind(this)),he.on(this.quill.root,Re("paste",n),this._pasteHandler.bind(this))}_dropHandler(e){var r,n=e.originalEvent.dataTransfer,x=n==null||(r=n.files)===null||r===void 0?void 0:r.length;this.saveValueChangeEvent(e),e.preventDefault(),x&&this._getImage(n.files,this._addImage.bind(this))}_pasteHandler(e){var r,{clipboardData:n}=e.originalEvent;if(this.saveValueChangeEvent(e),!!n){var x=(r=n.items)===null||r===void 0?void 0:r.length,X=n.getData("text/html");!X&&x&&this._getImage(n.items,St=>{$a.mozilla||this._addImage(St)})}}_isImage(e){return!!e.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(e,r){var n=tn();Pe(e,(x,X)=>{if(this._isImage(X)){var St=new n.FileReader;St.onload=C=>{var{target:t}=C;r(t.result)};var p=X.getAsFile?X.getAsFile():X;p instanceof n.Blob&&St.readAsDataURL(p)}})}_addImage(e){var r=this.quill.getSelection(),n=r?r.index:this.quill.getLength();this.quill.insertEmbed(n,"extendedImage",e,"user")}});const Ou=Lo;var Eu="dxHtmlEditorPopupModule",Mo=Ie;if(fe){var Cu="dx-suggestion-list",Tu="dx-suggestion-list-wrapper",Su=100;Mo=class extends Ie{_getDefaultOptions(){return{dataSource:null}}constructor(e,r){super(e,r),this.options=ce({},this._getDefaultOptions(),r),this._popup=this.renderPopup(),this._popup.$wrapper().addClass(Tu),this._renderPreventFocusOut()}renderList(e,r){var n=Wt("<div>").addClass(Cu).appendTo(e);this._list=this.options.editorInstance._createComponent(n,Ka,r)}renderPopup(){var e=this.options.editorInstance,r=Wt("<div>").appendTo(e.$element()),n=this._getPopupConfig();return e._createComponent(r,fo,n)}_getPopupConfig(){return{contentTemplate:e=>{var r=this._getListConfig(this.options);this.renderList(Wt(e),r)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(e){return{dataSource:e.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var e=tn(),r=e&&Lr(e)||0;return Math.max(Su,.5*r)}selectionChangedHandler(e){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(e))}_renderPreventFocusOut(){var e=Re("mousedown",Eu);he.on(this._popup.$wrapper(),e,r=>{r.preventDefault()})}insertEmbedContent(e){}showPopup(){this._popup&&this._popup.show()}savePosition(e){this.caretPosition=e}getPosition(){return this.caretPosition}}}const Bo=Mo;var pn={};if(fe){var wu=fe.import("blots/embed"),Pu="dx-variable";pn=class extends wu{static create(e){var r=super.create(),n,x,X=e.value;return Array.isArray(e.escapeChar)?(n=ni(e.escapeChar[0],""),x=ni(e.escapeChar[1],"")):n=x=e.escapeChar,r.innerText=n+X+x,r.dataset.varStartEscChar=n,r.dataset.varEndEscChar=x,r.dataset.varValue=e.value,r}static value(e){return ce({},{value:e.dataset.varValue,escapeChar:[e.dataset.varStartEscChar||"",e.dataset.varEndEscChar||""]})}},pn.blotName="variable",pn.tagName="span",pn.className=Pu}const Au=pn;var Do=Ie;if(fe){var Ru="dx-variable-format",xu="dx-format-active",Iu="dx-state-selected";fe.register({"formats/variable":Au},!0),Do=class extends Bo{_getDefaultOptions(){var e=super._getDefaultOptions();return ce(e,{escapeChar:""})}constructor(e,r){super(e,r);var n=e.getModule("toolbar");n&&n.addClickHandler("variable",this.showPopup.bind(this)),e.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",x=>{var X=Wt(x.component.option("position").of);X.hasClass(Ru)&&(X.addClass(xu),X.addClass(Iu))})}showPopup(e){var r=this.quill.getSelection(!0),n=r?r.index:this.quill.getLength();this.savePosition(n),this._resetPopupPosition(e,n),super.showPopup()}_resetPopupPosition(e,r){if(e&&e.element)this._popup.option("position",{of:e.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var n=this.quill.getBounds(r),x=mn(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:n.left,v:n.bottom-x.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(e){var r=this.getPosition(),n=e.component.option("selectedItem"),x=ce({},{value:n,escapeChar:this.options.escapeChar});setTimeout((function(){this.quill.insertEmbed(r,"variable",x),this.quill.setSelection(r+1)}).bind(this))}}}const Nu=Do;var Lu="dx-resize-frame",Mu="dx-touch-device",_n="dxHtmlResizingModule",ro=Re("keydown",_n),Bu=Re("scroll",_n),Du=Re("mousedown",_n),qn=1;class ju extends Ie{constructor(r,n){super(r,n),this.allowedTargets=n.allowedTargets||["image"],this.enabled=!!n.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){he.on(this.quill.root,Re(ei,_n),this._clickHandler.bind(this)),he.on(this.quill.root,Bu,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){he.off(this.quill.root,_n),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(r){if(this._isAllowedTarget(r.target)){if(this._$target===r.target)return;this._$target=r.target;var n=Wt(this._$target),x=Math.max(_e(n)-Mr(n),this.resizable.option("minWidth")),X=Math.max(Er(n)-Lr(n),this.resizable.option("minHeight"));this.resizable.option({minWidth:x,minHeight:X}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(r){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(r){return this._isImage(r)}_isImage(r){return this.allowedTargets.indexOf("image")!==-1&&r.tagName.toUpperCase()==="IMG"}showFrame(){this._$resizeFrame.show(),he.on(this.quill.root,ro,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(r){var n=Za(r);(n==="del"||n==="backspace")&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),he.off(this.quill.root,ro)}updateFramePosition(){var{height:r,width:n,top:x,left:X}=mn(this._$target),{top:St,left:p}=mn(this.quill.root),C=this._getBorderWidth();this._$resizeFrame.css({height:r,width:n,padding:qn,top:x-St-C-qn,left:X-p-C-qn}),vn(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:r}=sn.current();this._$resizeFrame=Wt("<div>").addClass(Lu).toggleClass(Mu,r!=="desktop").appendTo(this.editorInstance._getQuillContainer()).hide(),he.on(this._$resizeFrame,Du,n=>{n.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,za,{onResize:n=>{this._$target&&(Wt(this._$target).attr({height:n.height,width:n.width}),this.updateFramePosition())}})}}_deleteImage(){if(this._isAllowedTarget(this._$target)){var r;(r=fe.find(this._$target))===null||r===void 0||r.deleteAt(0)}}option(r,n){if(r==="mediaResizing"){this.handleOptionChangeValue(n);return}r==="enabled"?(this.enabled=n,n?this._attachEvents():this._detachEvents()):r==="allowedTargets"&&Array.isArray(n)&&(this.allowedTargets=n)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var ku="dx-table-resize-frame",no="dx-htmleditor-column-resizer",io="dx-htmleditor-row-resizer",Hu={minColumnWidth:40,minRowHeight:24},Fu=2,Xn=3,_i="dxHtmlTableResizingModule",oo=Re("dxpointerdown",_i),Uu=Re("scroll",_i);class Wu extends Ie{constructor(r,n){super(r,n),this.enabled=!!n.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",n.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",n.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(r){r?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=ji.add(this._resizeHandler.bind(this))}_minSizeLimit(r,n){return be(n)?Math.max(n,0):Hu[r]}_applyResizingImpl(){var r=this._findTables();r.length&&(this._fixTablesWidths(r),this._createResizeFrames(r),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){he.on(this.editorInstance._getContent(),Uu,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){he.off(this.editorInstance._getContent(),_i),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(r,n,x){return(X,St,p)=>{if(this._isTableChanging()){var C=this._findTables();this._removeResizeFrames(),p==="api"&&this._fixTablesWidths(C),this._updateTablesColumnsWidth(C),this._createResizeFrames(C),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(r){var n;return(n=this._framesForTables)===null||n===void 0?void 0:n.get(r.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var r=this._findTables();Pe(r,(n,x)=>{var X=Wt(x),St=this._tableResizeFrames[n],p=_e(X),C=this._tableLastWidth(St);Math.abs(p-C)>1&&(this._tableLastWidth(St,p),this._updateColumnsWidth(X,n))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return Wt(this._quillContainer).find("table")}_getWidthStyleValue(r){var n=r[0].style.width;return n!==""?parseInt(n):void 0}_tableLastWidth(r,n){if(be(n))r.lastWidth=n;else return r==null?void 0:r.lastWidth}_fixTablesWidths(r){Pe(r,(n,x)=>{var X=Wt(x),St=this._getTableDeterminantElements(X,"horizontal");this._tableResizeFrames[n]||(this._tableResizeFrames[n]={lastWidth:void 0});var p=this._getFrameForTable(X);if(p||this._tableResizeFrames.push({$table:X}),gn(X).length===0){var C,{columnsSum:t}=this._getColumnElementsSum(St);yn(X,{quill:this.quill});var y=(C=this._tableLastWidth(p))!==null&&C!==void 0?C:_e(X);p&&this._tableLastWidth(p,Math.max(t,y))}})}_createResizeFrames(r){this._framesForTables=new Map,r.each((n,x)=>{var X,St=Wt(x),p=(X=this._tableResizeFrames[n])===null||X===void 0?void 0:X.$table,C=this._tableResizeFrames[n].lastWidth;this._tableResizeFrames[n]={$frame:this._createTableResizeFrame(x),$table:St,index:n,lastWidth:p&&x===p.get(0)?C:void 0,columnsCount:this._getTableDeterminantElements(St,"horizontal").length,rowsCount:this._getTableDeterminantElements(St,"vertical").length},this._framesForTables.set(x,this._tableResizeFrames[n])}),this._tableResizeFrames.length=r.length}_isTableChanging(){var r=this._findTables(),n=!1;return r.length!==this._tableResizeFrames.length?n=!0:Pe(r,(x,X)=>{var St=Wt(X),p=this._tableResizeFrames[x],C=(p==null?void 0:p.columnsCount)!==this._getTableDeterminantElements(St,"horizontal").length,t=(p==null?void 0:p.rowsCount)!==this._getTableDeterminantElements(St,"vertical").length;if(C||t)return n=!0,!1}),n}_removeResizeFrames(r){var n;Pe(this._tableResizeFrames,(x,X)=>{if(X.$frame){var St,p=".".concat(no,", .").concat(io);this._detachSeparatorEvents((St=X.$frame)===null||St===void 0?void 0:St.find(p)),X.$frame.remove()}}),(n=this._framesForTables)===null||n===void 0||n.clear(),r&&(this._tableResizeFrames=[])}_detachSeparatorEvents(r){r.each((n,x)=>{he.off(x,oo)})}_createTableResizeFrame(){return Wt("<div>").addClass(ku).appendTo(this._quillContainer)}_updateFramesPositions(){Pe(this._tableResizeFrames,(r,n)=>{this._updateFramePosition(n.$table,n.$frame)})}_updateFramePosition(r,n){var{height:x,width:X,top:St,left:p}=mn(r.get(0)),{top:C,left:t}=mn(this.quill.root);n.css({height:x,width:X,top:St-C,left:p-t}),vn(n,{left:0,top:0})}_updateFramesSeparators(r){Pe(this._tableResizeFrames,(n,x)=>{r?this._updateFrameSeparators(x,r):(this._updateFrameSeparators(x,"vertical"),this._updateFrameSeparators(x,"horizontal"))})}_isDraggable(r){return r.hasClass("dx-draggable")&&r.is(":visible")}_removeDraggable(r,n){if(this._isDraggable(r)){var x=Wt(r).dxDraggable("instance");x.dispose(),Wt(r).addClass(n)}}_getDirectionInfo(r){return r==="vertical"?{lineResizerClass:io,sizeFunction:n=>Er(n),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:no,sizeFunction:n=>_e(n),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(r,n){return n.sizeFunction(r)}_updateFrameSeparators(r,n){for(var x=this._getTableDeterminantElements(r.$table,n),X=x.length,St=X-1,p=this._getDirectionInfo(n),C=r.$frame.find(".".concat(p.lineResizerClass)),t={transform:"none"},y=0,h=0;h<=St;h++){y+=this._getSize(x.eq(h),p),be(C[h])||(C[h]=Wt("<div>").addClass(p.lineResizerClass).appendTo(r.$frame).get(0));var v=Wt(C[h]);this._removeDraggable(v,p.lineResizerClass),t[p.positionCoordinate]=y-Fu,Wt(v).css(t);var _={lineSeparator:C[h],index:h,$determinantElements:x,frame:r,direction:n};this._attachColumnSeparatorEvents(_)}}_getTableDeterminantElements(r,n){return n==="vertical"?r.find("th:first-child, td:first-child"):Un(r)}_attachColumnSeparatorEvents(r){he.on(r.lineSeparator,oo,()=>{this._createDraggableElement(r)})}_dragStartHandler(r){var{$determinantElements:n,index:x,frame:X,direction:St,lineSeparator:p}=r,C=this._getDirectionInfo(St);this._isDragging=!0,this._fixColumnsWidth(X.$table),this._startLineSize=parseInt(this._getSize(Wt(n[x]),C)),this._startTableWidth=_e(X.$table),this._startLineSeparatorPosition=parseInt(Wt(p).css(C.positionCoordinate)),this._nextLineSize=0,n[x+1]?this._nextLineSize=parseInt(this._getSize(Wt(n[x+1]),C)):St==="horizontal"&&yn(X.$table,{quill:this.quill})}_shouldRevertOffset(r){return r==="horizontal"&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(r,n,x){if(this._nextLineSize){if(r>=this._minColumnWidth){var X=this._nextColumnOffsetLimit?x<this._nextColumnOffsetLimit:x<0,St=Math.abs(this._getWidthStyleValue(n)-_e(n))>Xn;return X||!St}}else return!0;return!1}_shouldSetNextColumnWidth(r){return this._nextLineSize&&r>0}_horizontalDragHandler(r){var{currentLineNewSize:n,directionInfo:x,eventOffset:X,$determinantElements:St,index:p,frame:C}=r,t=this._nextLineSize&&this._nextLineSize-X,y=n>=this._minColumnWidth,h=pr(C.$table,p),v=pr(C.$table,p+1),_=_e(h.eq(0))-n;if(y)if(this._isNextColumnWidthEnough(t,St.eq(p+1),X)){Ve(this,{elements:h,property:x.positionStyleProperty,value:n}),this._shouldSetNextColumnWidth(t)&&Ve(this,{elements:v,property:x.positionStyleProperty,value:t});var B=Math.abs(this._startTableWidth-_e(C.$table))<Xn,M=Math.abs(_)>Xn||!this._nextLineSize&&B;M&&(Ve(this,{elements:h,property:x.positionStyleProperty,value:_e(h.eq(0))}),t+=n-_e(h.eq(0)),this._shouldSetNextColumnWidth(t)&&Ve(this,{elements:v,property:x.positionStyleProperty,value:t}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||X;this._$highlightedElement.css(x.positionCoordinate,this._startLineSeparatorPosition+X+_+"px")}_verticalDragHandler(r){var{currentLineNewSize:n,directionInfo:x,eventOffset:X,$determinantElements:St,index:p,frame:C}=r,t=Math.max(n,this._minRowHeight),y=pr(C.$table,p,"vertical");Ve(this,{elements:y,property:x.positionStyleProperty,value:t});var h=Er(St.eq(p))-n;this._$highlightedElement.css(x.positionCoordinate,this._startLineSeparatorPosition+X+h+"px")}_dragMoveHandler(r,n){var{$determinantElements:x,index:X,frame:St,direction:p}=n,C=this._getDirectionInfo(p),t=r.offset[C.positionCoordinateName];this.editorInstance._saveValueChangeEvent(r),this._shouldRevertOffset(p)&&(t=-t);var y=this._startLineSize+t;p==="horizontal"?this._horizontalDragHandler({currentLineNewSize:y,directionInfo:C,eventOffset:t,$determinantElements:x,index:X,frame:St}):this._verticalDragHandler({currentLineNewSize:y,directionInfo:C,eventOffset:t,$determinantElements:x,index:X,frame:St}),this._updateFramePosition(St.$table,St.$frame)}_dragEndHandler(r){var n;(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(r.frame,_e(r.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(r){var{$determinantElements:n,index:x}=r;return!be(n[x+1])}_getBoundaryConfig(r){var n={};if(r.direction==="vertical")n.boundary=r.frame.$table,n.boundOffset={bottom:ho()?-Lr(tn()):-Er(this._quillContainer),top:0,left:0,right:0};else if(!this._isLastColumnResizing(r))n.boundary=r.frame.$table;else{var x=this.editorInstance._getContent();n.boundary=x,n.boundOffset={bottom:0,top:0,left:x.css("paddingLeft"),right:x.css("paddingRight")}}return n}_createDraggableElement(r){var n,x=this._getBoundaryConfig(r),X=r.direction==="vertical"?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._$highlightedElement=Wt("<div>").addClass("".concat(X)).insertAfter(Wt(r.lineSeparator));var St={contentTemplate:null,allowMoveByClick:!1,dragDirection:r.direction,onDragMove:p=>{var{component:C,event:t}=p;this._dragMoveHandler(t,r)},onDragStart:()=>{this._dragStartHandler(r)},onDragEnd:()=>{this._dragEndHandler(r)}};ce(St,x),this._currentDraggableElement=this.editorInstance._createComponent(r.lineSeparator,Mn,St)}_fixColumnsWidth(r){var n=this._getTableDeterminantElements(r);Pe(n,(x,X)=>{var St=_e(X),p=pr(r,x);Ve(this,{elements:p,property:"width",value:Math.max(St,this._minColumnWidth)})})}_getColumnElementsSum(r){var n=[],x=0;return Pe(r,(X,St)=>{var p=Wt(St),C=this._getWidthStyleValue(p)||_e(p);n[X]=Math.max(C,this._minColumnWidth),x+=n[X]}),{columnsWidths:n,columnsSum:x}}_setColumnsRatioWidth(r,n,x,X){Pe(r,St=>{var p=pr(X,St),C;n>0?C=this._minColumnWidth+Math.round((x[St]-this._minColumnWidth)*n):C=this._minColumnWidth,Ve(this,{elements:p,property:"width",value:C})})}_updateColumnsWidth(r,n){var x=this._getTableDeterminantElements(r),X=this._tableResizeFrames[n];X||(this._tableResizeFrames[n]={}),X=this._tableResizeFrames[n];var St=this._tableLastWidth(X)||_e(r),p,{columnsWidths:C,columnsSum:t}=this._getColumnElementsSum(x),y=x.length*this._minColumnWidth;t>y?p=(St-y)/(t-y):p=-1,this._tableLastWidth(X,p>0?St:y),this._setColumnsRatioWidth(x,p,C,r)}_updateTablesColumnsWidth(r){Pe(r,(n,x)=>{this._updateColumnsWidth(Wt(x),n)})}option(r,n){if(r==="tableResizing"){this.handleOptionChangeValue(n);return}r==="enabled"?(this.enabled=n,n?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(r)&&(this["_".concat(r)]=this._minSizeLimit(r,n))}clean(){this._removeResizeFrames(!0),this._detachEvents(),ji.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}var $u="dxHtmlEditorTableContextMenu",ao=Re("dxcontextmenu",$u),jo=Ie,Qn=e=>Qt.format("dxHtmlEditor-".concat(Fn(e)));fe&&(jo=class extends Ie{constructor(e,r){super(e,r),this.enabled=!!r.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=Io(this),this._tableFormats=Oo(e),this.enabled&&this._enableContextMenu(r.items)}_enableContextMenu(e){var r;(r=this._contextMenu)===null||r===void 0||r.dispose(),this._contextMenu=this._createContextMenu(e),this._attachEvents()}_attachEvents(){he.on(this.editorInstance._getContent(),ao,this._prepareContextMenuHandler())}_detachEvents(){he.off(this.editorInstance._getContent(),ao)}_createContextMenu(e){var r=Wt("<div>").appendTo(this.editorInstance.$element()),n=this._getMenuConfig(e);return this.editorInstance._createComponent(r,Va,n)}showPropertiesForm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cell",r=Wt(this._targetElement).closest(e==="cell"?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(e,"Properties")](r),this._targetElement=null}_isAcceptableItem(e,r){return!e||e===r}_handleObjectItem(e){if(e.name&&this._isAcceptableItem(e.widget,"dxButton")){var r=this._prepareMenuItemConfig(e.name),n=ce(!0,r,e);return n}else return e.items&&(e.items=this._prepareMenuItems(e.items)),e}_prepareMenuItemConfig(e){var r,n,x=(r=xo[e])!==null&&r!==void 0?r:e,X=Dn(e);return{text:Qn(X),icon:x.toLowerCase(),onClick:(n=this._formatHandlers[e])!==null&&n!==void 0?n:bi(this,e)}}_prepareMenuItems(e){var r=[];return Pe(e,(n,x)=>{var X;Jr(x)?X=this._handleObjectItem(x):vi(x)&&(X=this._prepareMenuItemConfig(x)),X&&r.push(X)}),r}_getMenuConfig(e){var r=[{text:Qn("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",ce(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:Qn("delete"),items:["deleteColumn","deleteRow","deleteTable"]},ce(this._prepareMenuItemConfig("cellProperties"),{onClick:x=>{this.showPropertiesForm("cell")}}),ce(this._prepareMenuItemConfig("tableProperties"),{onClick:x=>{this.showPropertiesForm("table")}})],n=this._prepareMenuItems(e!=null&&e.length?e:r);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:n}}_prepareContextMenuHandler(){return e=>{this._isTableTarget(e.target)&&(this._targetElement=e.target,this._setContextMenuPosition(e),this._contextMenu.show(),e.preventDefault())}}_setContextMenuPosition(e){var r=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:e.clientX-r.left,y:e.clientY-r.top}}})}_isTableTarget(e){return!!Wt(e).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(e,r){if(e==="tableContextMenu"){this.handleOptionChangeValue(r);return}if(e==="enabled")this.enabled=r,r?this._enableContextMenu():this.clean();else if(e==="items"){var n;(n=this._contextMenu)===null||n===void 0||n.dispose(),this._contextMenu=this._createContextMenu(r)}}prepareCleanCallback(){return()=>{this.clean()}}});const Ku=jo;var Yn="dxHtmlEditorImageUpload",Zu="dx-htmleditor-hidden-content",ko=Ie;fe&&(ko=class extends Ie{constructor(e,r){super(e,r),this.options=r,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){var e=be(this.options.fileUploadMode)&&this.options.fileUploadMode!=="base64";e?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var e;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),(e=this._fileUploader)===null||e===void 0||e.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){var e=Wt("<div>").addClass(Zu).appendTo(this._quillContainer),r=ce({},wo(),{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(e,vo,r),e}_onUploaded(e){var r,{index:n}=(r=this.quill.getSelection())!==null&&r!==void 0?r:{index:this.quill.getLength()};Ao(this.options.uploadDirectory,e.file.name,this.quill,n)}_attachEvents(){he.on(this.quill.root,Re("drop",Yn),this._dropHandler.bind(this)),he.on(this.quill.root,Re("paste",Yn),this._pasteHandler.bind(this))}_detachEvents(){he.off(this.quill.root,Yn)}_dropHandler(e){this._handleInsertImages(e,"dataTransfer")}_pasteHandler(e){this._handleInsertImages(e,"clipboardData")}_handleInsertImages(e,r){this.saveValueChangeEvent(e);var n=Array.from(e.originalEvent[r].files||[]),x=n;x.length&&(e.preventDefault(),e.stopPropagation(),this._fileUploader.option("value",x),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(e,r){switch(e){case"imageUpload":this.handleOptionChangeValue(r);break;case"fileUploadMode":this.options.fileUploadMode=r,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(r)}}});const zu=ko;var Vu="dxHtmlEditorImageCursor",lo=Re("dxclick",Vu),Ho=Ie;fe&&(Ho=class extends Ie{constructor(e,r){super(e,r),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){he.on(this.quill.root,lo,this._clickHandler.bind(this))}_detachEvents(){he.off(this.quill.root,lo)}_clickHandler(e){this._isAllowedTarget(e.target)&&this._adjustSelection(e)}_isAllowedTarget(e){return this._isImage(e)}_isImage(e){return e.tagName.toUpperCase()==="IMG"}_adjustSelection(e){var r=this.quill.scroll.find(e.target);if(r){var n=r.offset(this.quill.scroll);this.quill.setSelection(n+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const Gu=Ho;class qu{constructor(){this._storage={}}set(r,n){var x,X,{editorKey:St,marker:p}=r;(X=(x=this._storage)[St])!==null&&X!==void 0||(x[St]={}),this._storage[St][p]=n}get(r){var n,x,{editorKey:X,marker:St}=r,p=!be(X);return p?(n=Object.values(this._storage).at(-1))===null||n===void 0?void 0:n[St]:(x=this._storage[X])===null||x===void 0?void 0:x[St]}delete(r){var{editorKey:n,marker:x}=r;this._storage[n]&&(delete this._storage[n][x],Bn(this._storage[n])&&delete this._storage[n])}}var ln={};if(fe){var Xu=fe.import("blots/embed"),Qu="dx-mention";ln=class ci extends Xu{constructor(r,n){super(r,n),this.renderContent(this.contentNode,ci.value(n))}static create(r){var n=super.create();return n.setAttribute("spellcheck",!1),n.dataset.marker=r.marker,n.dataset.mentionValue=r.value,n.dataset.id=r.id,n}static value(r){return{marker:r.dataset.marker,id:r.dataset.id,value:r.dataset.mentionValue}}renderContent(r,n){var x=ci._templatesStorage.get({editorKey:n.keyInTemplateStorage,marker:n.marker});x?x.render({model:n,container:r}):this.baseContentRender(r,n)}baseContentRender(r,n){var x=Wt("<span>").text(n.marker);Wt(r).append(x).append(n.value)}static addTemplate(r,n){this._templatesStorage.set(r,n)}static removeTemplate(r){this._templatesStorage.delete(r)}},ln.blotName="mention",ln.tagName="span",ln.className=Qu,ln._templatesStorage=new qu}const Jn=ln;var Fo=Ie;if(fe){var Yu="user",Ju="@",We={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},tc=[We.ARROW_LEFT,We.ARROW_RIGHT,We.PAGE_UP,We.PAGE_DOWN,We.END,We.HOME],ec=[" ",`
`],rc="dx-state-disabled";fe.register({"formats/mention":Jn},!0),Fo=class extends Bo{_getDefaultOptions(){var e=super._getDefaultOptions();return ce(e,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}constructor(e,r){super(e,r),this._mentions={},r.mentions.forEach(n=>{var x=n.marker;x||(n.marker=x=Ju);var X=n.template;if(X){var St=this.editorInstance._getTemplate(X);St&&Jn.addTemplate({marker:x,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},St)}this._mentions[x]=ce({},this._getDefaultOptions(),n)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:We.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:We.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[We.ENTER,We.SPACE]},this._selectItemHandler.bind(this));var e=this.quill.keyboard.bindings[We.ENTER];e.unshift(e.pop()),this.quill.keyboard.addBinding({key:We.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[We.ARROW_LEFT,We.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:tc},this._ignoreKeyHandler.bind(this))}_moveToItem(e){var r=this._list.getDataSource();if(this._isMentionActive&&!r.isLoading()){var n=Wt(this._list.option("focusedElement")),x=e==="next"?"first":"last",X=n[e]();X=X.length?X:this._activeListItems[x](),this._list.option("focusedElement",ii(X)),this._list.scrollToItem(X)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(e,r,n){return e>n?r:e<r?n:e}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(e,r){this.compileGetters(this.options),super.renderList(e,r)}compileGetters(e){var{displayExpr:r,valueExpr:n}=e;this._valueGetter=ki(r),this._idGetter=ki(n)}_getListConfig(e){var r=super._getListConfig(e);return ce(r,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var e=this._activeMentionConfig.marker.length,r=e+this._searchValue.length,n=this.getPosition(),x=this._list.option("selectedItem"),X={value:this._valueGetter(x),id:this._idGetter(x),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},St=fe.import("delta"),p=Math.max(0,n-e),C=new St().retain(p).delete(r).insert({mention:X}).insert(" ");this.quill.updateContents(C),this.quill.setSelection(p+2)}_getLastInsertOperation(e){var r=e[e.length-1],n="insert"in r;if(n)return r;var x="delete"in r;if(x&&e.length>=2){var X=e[e.length-2],St="insert"in X,p=x&&St;if(p)return X}return null}onTextChange(e,r,n){if(n===Yu){var x=e.ops[e.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(x)&&this._filterList(this._searchValue);else{var{ops:X}=e,St=this._getLastInsertOperation(X);St&&this.checkMentionRequest(St,X)}}}get _isPopupVisible(){var e;return(e=this._popup)===null||e===void 0?void 0:e.option("visible")}_processSearchValue(e){var r="insert"in e;if(r)this._searchValue+=e.insert;else{if(!this._searchValue.length||e.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(e,r){var{insert:n}=e,x=this.quill.getSelection();if(!(!n||!vi(n)||!x||this._isMarkerPartOfText(r[0].retain))&&(this._activeMentionConfig=this._mentions[n],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var X=x.index&&this._getCharByIndex(x.index-1)===`
`;this.savePosition(x.index+X),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(e){return!(!e||ec.indexOf(this._getCharByIndex(e-1))!==-1)}_getCharByIndex(e){return this.quill.getContents(e,1).ops[0].insert}_updateList(e){var{dataSource:r,displayExpr:n,valueExpr:x,itemTemplate:X,searchExpr:St}=e;this.compileGetters({displayExpr:n,valueExpr:x}),this._list.unselectAll(),this._list.option({dataSource:r,displayExpr:n,itemTemplate:X,searchExpr:St})}_filterList(e){if(!this._isMinSearchLengthExceeded(e)){this._resetFilter();return}var r=this._activeMentionConfig.searchTimeout;r?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(e)},r)):this._search(e)}_isMinSearchLengthExceeded(e){return e.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(e){this._hasSearch=!0,this._list.option("searchValue",e)}_focusFirstElement(){if(this._list){var e=this._activeListItems.first();this._list.option("focusedElement",ii(e)),this._list.scrollToItem(e)}}get _popupPosition(){var e=this.getPosition(),{left:r,top:n,height:x}=this.quill.getBounds(e&&e-1),{left:X,top:St}=Wt(this.quill.root).offset(),p=he.Event("positionEvent",{pageX:X+r,pageY:St+n});return{of:p,offset:{v:x},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return ce(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat(rc,")"))}clean(){Object.keys(this._mentions).forEach(e=>{this._mentions[e].template&&Jn.removeTemplate({marker:e,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const nc=Fo;class Hn{constructor(){if(!Hn.initialized){var r=this.getQuill(),n=r.import("attributors/style/direction");r.register({"formats/align":wl,"formats/direction":n,"formats/font":Tl,"formats/size":Sl,"formats/extendedImage":Ol,"formats/link":Cl,"modules/toolbar":_u,"modules/dropImage":Ou,"modules/variables":Nu,"modules/resizing":ju,"modules/tableResizing":Wu,"modules/tableContextMenu":Ku,"modules/imageUpload":zu,"modules/imageCursor":Gu,"modules/mentions":nc,"themes/basic":bl},!0),this._customModules=[],Hn._initialized=!0}}createEditor(r,n){var x=this.getQuill();return new x(r,n)}registerModules(r){var n=RegExp("modules/*"),x=this.getQuill(),X=p=>!!x.imports[p];for(var St in r)n.test(St)&&!X(St)&&this._customModules.push(St.slice(8));x.register(r,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return yo()}}class ic{constructor(){this._converters={}}addConverter(r,n){this._converters[r]=n}getConverter(r){return this._converters[r]}}var fi=new ic;class oc{setQuillInstance(r){this.quillInstance=r}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var r=this.quillInstance.getContents();return r.length()===1&&this._isDeltaEmpty(r)}_isDeltaEmpty(r){return r.reduce((n,x)=>{var{insert:X}=x;return X.indexOf(`
`)!==-1})}}fi.addConverter("delta",oc);function ac(e){var r=e[1];return r.match(/\S+\./)?"ordered":"bullet"}function lc(e){var r=e.getAttribute("style");if(r){var n=r.replace(/\n+/g,"").match(/level(\d+)/);return n?n[1]-1:0}else return!1}function sc(e){var r=e[e.length-1];r.insert=r.insert.trim()}var uc=e=>{var r=e.import("delta");return(n,x)=>{var X=x.ops.slice(),St=X[0];St.insert=St.insert.replace(/^\s+/,"");var p=St.insert.match(/^(\S+)\s+/),C=p&&lc(n);return!p||C===!1?x:(St.insert=St.insert.substring(p[0].length,St.insert.length),sc(X),X.push({insert:`
`,attributes:{list:ac(p),indent:C}}),new r(X))}},so="dx-formdialog",cc="dx-formdialog-form",fc=()=>pi()?{stylingMode:"contained",type:"default"}:{},dc=()=>pi()?{stylingMode:"outlined",type:"normal"}:{};class hc{constructor(r,n){this._editorInstance=r,this._popupUserConfig=n,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var r=this._editorInstance,n=Wt("<div>").addClass(so).appendTo(r.$element()),x=this._getPopupConfig();return r._createComponent(n,fo,x)}_attachOptionChangedHandler(){var r;(r=this._popup)===null||r===void 0||r.on("optionChanged",n=>{var{name:x,value:X}=n;x==="title"&&this._updateFormLabel(X)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(r){r.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var r=ho()?Ga():null;return sn.real().deviceType==="phone"||r==="xs"}_getPopupConfig(){return ce({onInitialized:r=>{this._popup=r.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:r=>{var n=Wt("<div>").appendTo(r);this._renderForm(n,{onEditorEnterKey:x=>this.callAddButtonAction(x.event),customizeItem:x=>{x.itemType==="simple"&&(x.editorOptions=ce(!0,{},x.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:jn({onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("OK"),onClick:r=>this.callAddButtonAction(r.event)},fc())},{toolbar:"bottom",location:"after",widget:"dxButton",options:jn({onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("Cancel"),onClick:()=>{this._popup.hide()}},dc())}],_wrapperClassExternal:so},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(r){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),r)}_renderForm(r,n){r.addClass(cc),this._form=this._editorInstance._createComponent(r,co,n),this._updateFormLabel()}_updateFormLabel(r){var n,x=r??this.popupOption("title");(n=this._form)===null||n===void 0||n.$element().attr("aria-label",x)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:qa()?"top":"left"}}formOption(r,n){return this._form.option.apply(this._form,arguments)}show(r){if(!this._popup.option("visible")){this.deferred=new po;var n=ce(this._getDefaultFormOptions(),r);return this._form.option(n),this._popup.show(),this.deferred.promise()}}hide(r,n){this.deferred.resolve(r,n),this._popup.hide()}popupOption(r,n){return this._popup.option.apply(this._popup,arguments)}}var pc="dx-htmleditor",vc="dx-quill-container",mc="ql-clipboard",yc="dx-htmleditor-submit-element",gc="dx-htmleditor-content",Ln="markdown",ti="htmlContent",bc=sn.current().platform==="ios",_c=0,Uo=uo.inherit({_getDefaultOptions:function(){return ce(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:Xa().editorStylingMode||"outlined"})},_init:function(){this._mentionKeyInTemplateStorage=_c++,this.callBase(),this._cleanCallback=Hi(),this._contentInitializedCallback=Hi()},_getAnonymousTemplateName:function(){return ti},_initTemplates:function(){this._templateManager.addDefaultTemplates({[ti]:new Qa}),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat(gc))},_focusInHandler:function(e){var{relatedTarget:r}=e;this._shouldSkipFocusEvent(r)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(e){var{relatedTarget:r}=e;this._shouldSkipFocusEvent(r)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(e){return Wt(e).hasClass(mc)},_initMarkup:function(){this._$htmlContainer=Wt("<div>").addClass(vc),this.$element().attr("role","application").addClass(pc).wrapInner(this._$htmlContainer),this._renderStylingMode();var e=this._getTemplate(ti);this._$templateResult=e&&e.render({container:ii(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderValidationState(){var e=this._getContent();e.length===1&&this.callBase()},_renderSubmitElement:function(){this._$submitElement=Wt("<textarea>").addClass(yc).attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(e){this._getSubmitElement().val(e)},_getSubmitElement:function(){return this._$submitElement},_createNoScriptFrame:function(){return Wt("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})},_removeXSSVulnerableHtml:function(e){var r=this._createNoScriptFrame().appendTo("body"),n=r.get(0),x=n.contentWindow,X=x.document,St=X.body;St.innerHTML=e;var p=t=>{if(t.attributes)for(var y=0;y<t.attributes.length;y++){var h=t.attributes[y].name;h.startsWith("on")&&t.removeAttribute(h)}if(t.childNodes)for(var v=0;v<t.childNodes.length;v++)p(t.childNodes[v])};p(St),St.querySelectorAll("script").forEach(t=>{t.remove()});var C=St.innerHTML;return r.remove(),C},_updateContainerMarkup:function(){var e=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),e=this._markdownConverter.toHtml(e)),e){var r=this._removeXSSVulnerableHtml(e);this._$htmlContainer.html(r)}},_prepareMarkdownConverter:function(){var e=fi.getConverter("markdown");if(e)this._markdownConverter=new e;else throw di.Error("E1051","markdown")},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new Hn)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var e=fi.getConverter("delta");e&&(this._deltaConverter=new e)}this.option("valueType")===Ln&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new po;var e=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),e},_pointerMoveHandler:function(e){bc&&e.stopPropagation()},_attachFocusEvents:function(){Ya(this.callBase.bind(this))},_addKeyPressHandler:function(){var e=Re("keydown","".concat(this.NAME,"TextChange"));he.on(this._$htmlContainer,e,this._keyDownHandler.bind(this))},_keyDownHandler:function(e){this._saveValueChangeEvent(e)},_renderHtmlEditor:function(){var e=this.option("customizeModules"),r=this._getModulesConfig();Ja(e)&&e(r),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:r,theme:"basic"}),this._renderValidationState(),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=tl(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var e=this._getContent(),r=el(e);he.on(e,Re(rl.init,this.NAME),r,nl),he.on(e,Re(il.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var e=this.option("value");if(!be(e)){var r=this._deltaConverter.toHtml(),n=this._quillInstance.clipboard.convert({html:r});if(n.ops.length){this._quillInstance.setContents(n);return}}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var e=this._getRegistrator().getQuill(),r=uc(e),n=ce({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:x=>this._saveValueChangeEvent(Rn(x)),imageBlot:"extendedImage"},keyboard:{onKeydown:x=>this._saveValueChangeEvent(Rn(x))},clipboard:{onPaste:x=>this._saveValueChangeEvent(Rn(x)),onCut:x=>this._saveValueChangeEvent(Rn(x)),matchers:[["p.MsoListParagraphCxSpFirst",r],["p.MsoListParagraphCxSpMiddle",r],["p.MsoListParagraphCxSpLast",r]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules());return n},_getModuleConfigByOption:function(e){var r=this.option(e),n={};if(be(r))return Array.isArray(r)?n[e]=r:n=r,ce(this._getBaseModuleConfig(),n)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var e={},r=this._getRegistrator().getRegisteredModuleNames();return r.forEach(n=>{e[n]=this._getBaseModuleConfig()}),e},_textChangeHandler:function(e,r,n){var x=this._deltaConverter.toHtml(),X=this._isMarkdownValue()?this._updateValueByType(Ln,x):x,St=this.option("value");St!==X&&!this._isNullValueConverted(St,X)&&(this._isEditorUpdating=!0,this.option("value",X)),this._finalizeContentRendering()},_isNullValueConverted:function(e,r){return e===null&&r===""},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(e,r){var n=this._markdownConverter;if(be(n)){var x=ni(r,this.option("value"));return e===Ln?n.toMarkdown(x):n.toHtml(x)}},_isMarkdownValue:function(){return this.option("valueType")===Ln},_resetEnabledState:function(){if(this._quillInstance){var e=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(e)}},_renderFormDialog:function(){var e=ce(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new hc(this,e)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_prepareModuleOptions(e){var r,n=(r=e.fullName)===null||r===void 0?void 0:r.split("."),x=e.value,X=n.length>=2?n[1]:e.name;return n.length===3&&(x={[n[2]]:x}),[X,x]},_moduleOptionChanged:function(e,r){var n=this.getModule(e),x=!!n;x?n.option(...this._prepareModuleOptions(r)):this._invalidate()},_optionChanged:function(e){switch(e.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var r=this._isMarkdownValue()?this._updateValueByType("HTML",e.value):e.value;this._suppressValueChangeAction(),this._updateHtmlContent(r),this._resumeValueChangeAction()}else this._$htmlContainer.html(e.value);var n=this.option("value");n!==e.previousValue&&(this._setSubmitValue(n),this.callBase(jn({},e,{value:n})));break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",e);break;case"valueType":this._prepareConverters();var x=this._updateValueByType(e.value);e.value==="html"&&this._quillInstance?this._updateHtmlContent(x):this.option("value",x);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(e),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",e);break;case"mediaResizing":!e.previousValue||!e.value?this._invalidate():this.getModule("resizing").option(e.name,e.value);break;case"width":this.callBase(e),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",e);break;default:this.callBase(e)}},_repaintToolbar:function(){this._applyToolbarMethod("repaint")},_updateHtmlContent:function(e){var r=this._quillInstance.clipboard.convert({html:e});this._quillInstance.setContents(r)},_clean:function(){this._quillInstance&&(he.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(e,r){if(this._quillInstance)return this._quillInstance[e].apply(this._quillInstance,r)},_applyQuillHistoryMethod(e){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[e]()},_applyToolbarMethod(e){var r;(r=this.getModule("toolbar"))===null||r===void 0||r[e]()},addCleanCallback(e){this._cleanCallback.add(e)},addContentInitializedCallback(e){this._contentInitializedCallback.add(e)},register:function(e){this._getRegistrator().registerModules(e),this._quillInstance&&this.repaint()},get:function(e){return this._getRegistrator().getQuill().import(e)},getModule:function(e){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(e){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(e,r){this._applyQuillMethod("setSelection",arguments)},getText:function(e,r){return this._applyQuillMethod("getText",arguments)},format:function(e,r){this._applyQuillMethod("format",arguments)},formatText:function(e,r,n,x){this._applyQuillMethod("formatText",arguments)},formatLine:function(e,r,n,x){this._applyQuillMethod("formatLine",arguments)},getFormat:function(e,r){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(e,r){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(e,r){return this._applyQuillMethod("getBounds",arguments)},delete:function(e,r){this._applyQuillMethod("deleteText",arguments)},insertText:function(e,r,n){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(e,r,n){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(e){return this._formDialog.show(e)},formDialogOption:function(e,r){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")},getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}});hi("dxHtmlEditor",Uo);/*!
 * devextreme-vue
 * Version: 23.2.4
 * Build date: Mon Jan 29 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */ol({props:{accessKey:String,activeStateEnabled:Boolean,allowSoftLineBreak:Boolean,customizeModules:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,imageUpload:Object,isDirty:Boolean,isValid:Boolean,mediaResizing:Object,mentions:Array,name:String,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,tableContextMenu:Object,tableResizing:Object,toolbar:Object,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:{},valueType:String,variables:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSoftLineBreak":null,"update:customizeModules":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:imageUpload":null,"update:isDirty":null,"update:isValid":null,"update:mediaResizing":null,"update:mentions":null,"update:name":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:tableContextMenu":null,"update:tableResizing":null,"update:toolbar":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:valueType":null,"update:variables":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=Uo,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={imageUpload:{isCollectionItem:!1,optionName:"imageUpload"},mediaResizing:{isCollectionItem:!1,optionName:"mediaResizing"},mention:{isCollectionItem:!0,optionName:"mentions"},tableContextMenu:{isCollectionItem:!1,optionName:"tableContextMenu"},tableResizing:{isCollectionItem:!1,optionName:"tableResizing"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},variables:{isCollectionItem:!1,optionName:"variables"}}}});var Oc=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:abortUpload":null,"update:accept":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowCanceling":null,"update:allowedFileExtensions":null,"update:bindingOptions":null,"update:chunkSize":null,"update:dialogTrigger":null,"update:disabled":null,"update:dropZone":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:invalidFileExtensionMessage":null,"update:invalidMaxFileSizeMessage":null,"update:invalidMinFileSizeMessage":null,"update:isDirty":null,"update:isValid":null,"update:labelText":null,"update:maxFileSize":null,"update:minFileSize":null,"update:multiple":null,"update:name":null,"update:onBeforeSend":null,"update:onContentReady":null,"update:onDisposing":null,"update:onDropZoneEnter":null,"update:onDropZoneLeave":null,"update:onFilesUploaded":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onProgress":null,"update:onUploadAborted":null,"update:onUploaded":null,"update:onUploadError":null,"update:onUploadStarted":null,"update:onValueChanged":null,"update:progress":null,"update:readOnly":null,"update:readyToUploadMessage":null,"update:rtlEnabled":null,"update:selectButtonText":null,"update:showFileList":null,"update:tabIndex":null,"update:uploadAbortedMessage":null,"update:uploadButtonText":null,"update:uploadChunk":null,"update:uploadCustomData":null,"update:uploadedMessage":null,"update:uploadFailedMessage":null,"update:uploadFile":null,"update:uploadHeaders":null,"update:uploadMethod":null,"update:uploadMode":null,"update:uploadUrl":null,"update:validationError":null,"update:validationErrors":null,"update:validationStatus":null,"update:value":null,"update:visible":null,"update:width":null},props:{abortUpload:Function,accept:String,accessKey:String,activeStateEnabled:Boolean,allowCanceling:Boolean,allowedFileExtensions:Array,bindingOptions:Object,chunkSize:Number,dialogTrigger:{},disabled:Boolean,dropZone:{},elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},invalidFileExtensionMessage:String,invalidMaxFileSizeMessage:String,invalidMinFileSizeMessage:String,isDirty:Boolean,isValid:Boolean,labelText:String,maxFileSize:Number,minFileSize:Number,multiple:Boolean,name:String,onBeforeSend:Function,onContentReady:Function,onDisposing:Function,onDropZoneEnter:Function,onDropZoneLeave:Function,onFilesUploaded:Function,onInitialized:Function,onOptionChanged:Function,onProgress:Function,onUploadAborted:Function,onUploaded:Function,onUploadError:Function,onUploadStarted:Function,onValueChanged:Function,progress:Number,readOnly:Boolean,readyToUploadMessage:String,rtlEnabled:Boolean,selectButtonText:String,showFileList:Boolean,tabIndex:Number,uploadAbortedMessage:String,uploadButtonText:String,uploadChunk:Function,uploadCustomData:{},uploadedMessage:String,uploadFailedMessage:String,uploadFile:Function,uploadHeaders:{},uploadMethod:String,uploadMode:String,uploadUrl:String,validationError:{},validationErrors:Array,validationStatus:String,value:Array,visible:Boolean,width:[Function,Number,String]}});Oc.$_optionName="fileUploaderOptions";var Wo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fileUploaderOptions":null,"update:fileUploadMode":null,"update:tabs":null,"update:uploadDirectory":null,"update:uploadUrl":null},props:{fileUploaderOptions:Object,fileUploadMode:String,tabs:Array,uploadDirectory:String,uploadUrl:String}});Wo.$_optionName="imageUpload";Wo.$_expectedChildren={fileUploaderOptions:{isCollectionItem:!1,optionName:"fileUploaderOptions"},tab:{isCollectionItem:!0,optionName:"tabs"}};var $o=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});$o.$_optionName="items";$o.$_isCollectionItem=!0;var Ec=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedTargets":null,"update:enabled":null},props:{allowedTargets:Array,enabled:Boolean}});Ec.$_optionName="mediaResizing";var Ko=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:displayExpr":null,"update:itemTemplate":null,"update:marker":null,"update:minSearchLength":null,"update:searchExpr":null,"update:searchTimeout":null,"update:template":null,"update:valueExpr":null},props:{dataSource:{},displayExpr:[Function,String],itemTemplate:{},marker:String,minSearchLength:Number,searchExpr:[Array,Function,String],searchTimeout:Number,template:{},valueExpr:[Function,String]}});Ko.$_optionName="mentions";Ko.$_isCollectionItem=!0;var Zo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:name":null},props:{name:String}});Zo.$_optionName="tabs";Zo.$_isCollectionItem=!0;var zo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});zo.$_optionName="tableContextMenu";zo.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},tableContextMenuItem:{isCollectionItem:!0,optionName:"items"}};var Vo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});Vo.$_optionName="items";Vo.$_isCollectionItem=!0;var Cc=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:minColumnWidth":null,"update:minRowHeight":null},props:{enabled:Boolean,minColumnWidth:Number,minRowHeight:Number}});Cc.$_optionName="tableResizing";var Go=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:container":null,"update:items":null,"update:multiline":null},props:{container:{},items:Array,multiline:Boolean}});Go.$_optionName="toolbar";Go.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var qo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});qo.$_optionName="items";qo.$_isCollectionItem=!0;var Tc=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:escapeChar":null},props:{dataSource:{},escapeChar:[Array,String]}});Tc.$_optionName="variables";const Sc={class:"content-block dx-card responsive-paddings"},Nc={__name:"Faqs",setup(e){const r=al(),{t:n}=ll(),x=zn("mt"),X=zn("mf"),St=zn("routeHistoryState"),p=Fi(null),C=Fi(null),t=sl({gridData:null,validationRules:{topic:[{type:"required",message:n("settings.faqs.topic")+x.validations.required}],question:[{type:"required",message:n("settings.faqs.question")+x.validations.required}],answer:[{type:"required",message:n("settings.faqs.answer")+x.validations.required}]}});r.dispatch("settingFaq/getFaqs"),ul(()=>r.state.settingFaq.faqs,N=>{t.gridData=X.cloneDeep(N)}),cl(()=>r.dispatch("settingFaq/resetState"));function y(N){N.changes.length&&r.dispatch("settingFaq/save",N)}function h(N){p.value.instance.option("editing.form.items[2].editorOptions.value",N.value),p.value.instance.option("editing.form.items[3].visible",!N.value),p.value.instance.option("editing.form.items[4].visible",N.value)}function v(N){p.value.instance.option("editing.popup.title",n("settings.faqs.popup.create"))}function _(N){const P=/<\/?[a-z][\s\S]*>/i.test(N.data.answer);h({value:P}),p.value.instance.option("editing.popup.title",n("settings.faqs.popup.edit"))}function B(N){X.checkPinDataGrid(N,p.value.instance);let P=N.component.option("toolbarItems");P.push({toolbar:"bottom",location:"before",widget:"dxButton",options:{icon:"image",text:n("titles.chooseImage"),onClick:()=>C.value.show({clientPath:"faqs"})}}),N.component.option("toolbarItems",P),X.pushPopupToHistoryState(St,()=>p.value.instance.cancelEditData())}function M(){X.popRouteHistoryState(St)}return(N,P)=>{const S=fl("DxToolbar");return dl(),hl("div",Sc,[pl("div",null,[Yr(hn(vl),{ref_key:"dataGridRef",ref:p,"data-source":t.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"popup",popup:{showTitle:!0,onShown:B,onHidden:M},form:{labelLocation:N.$screen.getScreenSizeInfo.isXSmall?"top":"left",items:[{dataField:"topic",colSpan:2},{dataField:"question",colSpan:2},{editorType:"dxCheckBox",colSpan:2,editorOptions:{value:!1,onValueChanged:h},label:{text:N.$t("settings.faqs.useHtml")}},{visible:!0,colSpan:2,dataField:"answer",editorType:"dxTextArea",editorOptions:{stylingMode:"filled",height:150}},{visible:!1,dataField:"answer",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{mediaResizing:{enabled:!0},toolbar:{items:["undo","redo","separator","bold","italic","strike","underline","separator","alignLeft","alignCenter","alignRight","alignJustify","separator","orderedList","bulletList","separator","color","background","separator","link","image","separator","clear","insertTable"]}}}]},startEditAction:"dblClick"},onContentReady:P[0]||(P[0]=I=>N.$mf.dataGridPreload(t.gridData,p.value.instance)),onInitNewRow:v,onEditingStart:_,onSaved:y},{commandCellTemplate:Ui(({data:I})=>[Yr(S,{items:[{visible:I.data.status!=4,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"edit",hint:N.$t("buttons.edit"),text:N.$t("buttons.edit"),onClick:()=>{p.value.instance.editRow(I.rowIndex)}}},{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"trash",hint:N.$t("buttons.delete"),text:N.$t("buttons.delete"),onClick:()=>N.$bus.emit("checkPin",()=>p.value.instance.deleteRow(I.rowIndex))}}]},null,8,["items"])]),default:Ui(()=>[Yr(hn(xn),{fixed:!0,width:N.$screen.getScreenSizeInfo.isXSmall?35:65,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:N.$t(`titles.commandHeaderTitle${N.$screen.getScreenSizeInfo.isXSmall?"Short":""}`)},null,8,["width","caption"]),Yr(hn(xn),{"data-field":"topic","header-filter":{allowSearch:!0},caption:N.$t("settings.faqs.topic"),"validation-rules":t.validationRules.topic},null,8,["caption","validation-rules"]),Yr(hn(xn),{"data-field":"question","header-filter":{allowSearch:!0},caption:N.$t("settings.faqs.question"),"validation-rules":t.validationRules.question},null,8,["caption","validation-rules"]),Yr(hn(xn),{visible:!1,"data-field":"answer","header-filter":{allowSearch:!0},caption:N.$t("settings.faqs.answer"),"validation-rules":t.validationRules.answer},null,8,["caption","validation-rules"])]),_:1},8,["data-source","editing"]),Yr(ml,{ref_key:"pickImagePopupRef",ref:C},null,512)])])}}};export{Nc as default};
