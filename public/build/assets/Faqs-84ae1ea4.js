import{b_ as Ma,b$ as Da,aH as Jr,aF as di,am as be,at as he,ar as Re,c0 as ja,ad as Pe,bc as tn,ah as sn,b2 as mn,aB as Qt,bt as ka,Z as ce,$ as Wt,a5 as ei,c1 as hi,N as kn,bi as Lr,ax as Br,bm as Mn,c2 as Ha,c3 as uo,aq as ri,c4 as Di,aM as pi,as as ni,aA as _e,av as Er,aD as Fa,c5 as yn,c6 as vn,c7 as Ua,bj as Fn,bQ as co,a0 as Rn,aI as ji,c8 as Dn,c9 as fn,a9 as dn,a3 as vi,ca as Wa,cb as fo,cc as $a,bw as Ka,cd as Za,ce as jn,bH as ki,az as ho,cf as za,aJ as ii,cg as Va,ai as Ga,a2 as po,ch as qa,ci as Hi,cj as Xa,ao as Qa,b7 as Ya,ck as Ja,cl as tl,cm as el,a1 as rl,bk as nl,cn as xn,M as il,O as Ge,u as ol,r as Fi,a as al,w as ll,C as sl,b as ul,d as cl,e as Yr,f as Ui,g as hn,h as fl,k as zn,m as dl,o as hl,D as In,n as pl}from"./app-a379b0c5.js";import{F as vo}from"./FileManager-27e633cc.js";import{C as nr}from"./color-6daa04dd.js";import{_ as vl}from"./PickImagePopup-853cee5a.js";import"./file_saver-4c47e254.js";import"./editor-db1f33d0.js";class ml{constructor(){this._converters={},this._converters={}}addConverter(e,n){this._converters[e]=n}getConverter(e){return this._converters[e]}}var oi=new ml;class yl{setQuillInstance(e){this.quillInstance=e}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var e=this.quillInstance.getContents();return e.length()===1&&this._isDeltaEmpty(e)}_isDeltaEmpty(e){return e.reduce((n,P)=>{var{insert:X}=P;return X.indexOf(`
`)!==-1})}}oi.addConverter("delta",yl);var mo={exports:{}};/*!
 * DevExtreme-Quill Editor v.1.6.4
 * https://js.devexpress.com/
 * Copyright (c) 2020, Developer Express Inc.
 * Copyright (c) 2017, Slab
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(r,e){(function(P,X){r.exports=X()})(Ma,()=>(()=>{var n={1674:(h,C,t)=>{t.d(C,{Z:()=>E});var p=t(1233),v=t(3866),m=t(3398);function _(a){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_(a)}function B(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function M(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,A(O.key),O)}}function I(a,s,c){return s&&M(a.prototype,s),c&&M(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function A(a){var s=S(a,"string");return _(s)==="symbol"?s:String(s)}function S(a,s){if(_(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(_(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function N(){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get.bind():N=function(s,c,O){var L=x(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},N.apply(this,arguments)}function x(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=y(a),a!==null););return a}function D(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&W(a,s)}function W(a,s){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},W(a,s)}function R(a){var s=k();return function(){var O=y(a),L;if(s){var j=y(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return U(this,L)}}function U(a,s){if(s&&(_(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(a)}function $(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(a){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},y(a)}var E=function(a){D(c,a);var s=R(c);function c(O,L){var j,Z,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return B(this,c),Z=s.call(this,O,L,et),Z.allowedTags=(j=et.allowedTags)!==null&&j!==void 0?j:[],Z}return I(c,[{key:"add",value:function(L,j){return v.Mx.call(this,N(y(c.prototype),"add",this),L,j)}},{key:"remove",value:function(L){return v.Mx.call(this,N(y(c.prototype),"remove",this),L)}},{key:"value",value:function(L){return v.Mx.call(this,N(y(c.prototype),"value",this),L)}},{key:"canAdd",value:function(L,j){return v.ud.call(this,N(y(c.prototype),"canAdd",this),L,j)}}],[{key:"keys",value:function(L){return(0,v.dj)(N(y(c),"keys",this),L,m.WT.attribute)}}]),c}(p.Attributor)},3866:(h,C,t)=>{t.d(C,{Mx:()=>v,dj:()=>_,ud:()=>m});var p=t(3398);function v(B){var M=this.keyName;this.keyName=(0,p.mQ)(this.keyName);for(var I=arguments.length,A=new Array(I>1?I-1:0),S=1;S<I;S++)A[S-1]=arguments[S];var N=B.call.apply(B,[this].concat(A));return this.keyName=M,N}function m(B,M,I){var A=this.allowedTags.indexOf(M.tagName)>-1;return A&&B.call(this,M,I)}function _(B,M,I){return B(M).map(function(A){return(0,p.jf)(M.tagName,A,I)})}},4569:(h,C,t)=>{t.d(C,{Z:()=>E});var p=t(1233),v=t(3866),m=t(3398);function _(a){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_(a)}function B(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function M(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,A(O.key),O)}}function I(a,s,c){return s&&M(a.prototype,s),c&&M(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function A(a){var s=S(a,"string");return _(s)==="symbol"?s:String(s)}function S(a,s){if(_(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(_(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function N(){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get.bind():N=function(s,c,O){var L=x(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},N.apply(this,arguments)}function x(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=y(a),a!==null););return a}function D(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&W(a,s)}function W(a,s){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},W(a,s)}function R(a){var s=k();return function(){var O=y(a),L;if(s){var j=y(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return U(this,L)}}function U(a,s){if(s&&(_(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(a)}function $(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(a){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},y(a)}var E=function(a){D(c,a);var s=R(c);function c(O,L){var j,Z,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{allowedTags:[]};return B(this,c),Z=s.call(this,O,L,et),Z.allowedTags=(j=et.allowedTags)!==null&&j!==void 0?j:[],Z}return I(c,[{key:"add",value:function(L,j){return v.Mx.call(this,N(y(c.prototype),"add",this),L,j)}},{key:"remove",value:function(L){return v.Mx.call(this,N(y(c.prototype),"remove",this),L)}},{key:"value",value:function(L){return v.Mx.call(this,N(y(c.prototype),"value",this),L)}},{key:"canAdd",value:function(L,j){return v.ud.call(this,N(y(c.prototype),"canAdd",this),L,j)}}],[{key:"keys",value:function(L){return(0,v.dj)(N(y(c),"keys",this),L,m.WT.style)}}]),c}(p.StyleAttributor)},3398:(h,C,t)=>{t.d(C,{WT:()=>S,jf:()=>x,mQ:()=>D});var p=t(19),v=t(8252);function m(W){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},m(W)}function _(W,R){var U=Object.keys(W);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(W);R&&($=$.filter(function(k){return Object.getOwnPropertyDescriptor(W,k).enumerable})),U.push.apply(U,$)}return U}function B(W){for(var R=1;R<arguments.length;R++){var U=arguments[R]!=null?arguments[R]:{};R%2?_(Object(U),!0).forEach(function($){M(W,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(U)):_(Object(U)).forEach(function($){Object.defineProperty(W,$,Object.getOwnPropertyDescriptor(U,$))})}return W}function M(W,R,U){return R=I(R),R in W?Object.defineProperty(W,R,{value:U,enumerable:!0,configurable:!0,writable:!0}):W[R]=U,W}function I(W){var R=A(W,"string");return m(R)==="symbol"?R:String(R)}function A(W,R){if(m(W)!=="object"||W===null)return W;var U=W[Symbol.toPrimitive];if(U!==void 0){var $=U.call(W,R||"default");if(m($)!=="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(W)}var S={attribute:"attr",style:"style"},N=B(B({},p.Sp.allowedTags.reduce(function(W,R){return W[R]={name:p.Sp.name,keyNamesSet:p.bc},W},{})),v.Pw.allowedTags.reduce(function(W,R){return W[R]={name:v.Pw.name,keyNamesSet:v.fU},W},{}));function x(W,R,U){var $=N[W];return $&&$.keyNamesSet.has(R)?"".concat(U).concat($.name,"_").concat(R):R}function D(W){return W.replace(/([^]*_)/,"")}},6446:(h,C,t)=>{t.d(C,{i2:()=>pt,qz:()=>lt,E2:()=>_t,ZP:()=>dt});var p=t(9098),v=t.n(p),m=t(1233),_=t(4122),B=t(6603),M=t(8222),I=t(3398);function A(G,vt,rt,st){return rt.map(H=>{const w=st?(0,I.jf)(G,H,st):H;return vt.scroll.query(w,m.Scope.ATTRIBUTE)}).filter(H=>H instanceof m.Attributor).reduce((H,w)=>(H[w.attrName]=w,H),{})}function S(){m.AttributorStore.prototype.build=function(){const{tagName:G}=this.domNode,vt=m.Registry.find(this.domNode);if(vt==null)return;const rt=m.Attributor.keys(this.domNode),st=m.ClassAttributor.keys(this.domNode),H=m.StyleAttributor.keys(this.domNode);this.attributes={...A(G,vt,rt,I.WT.attribute),...A(G,vt,st),...A(G,vt,H,I.WT.style)}}}function N(G){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vt){return typeof vt}:function(vt){return vt&&typeof Symbol=="function"&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt},N(G)}function x(G,vt){var rt=Object.keys(G);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(G);vt&&(st=st.filter(function(H){return Object.getOwnPropertyDescriptor(G,H).enumerable})),rt.push.apply(rt,st)}return rt}function D(G){for(var vt=1;vt<arguments.length;vt++){var rt=arguments[vt]!=null?arguments[vt]:{};vt%2?x(Object(rt),!0).forEach(function(st){W(G,st,rt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(rt)):x(Object(rt)).forEach(function(st){Object.defineProperty(G,st,Object.getOwnPropertyDescriptor(rt,st))})}return G}function W(G,vt,rt){return vt=k(vt),vt in G?Object.defineProperty(G,vt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):G[vt]=rt,G}function R(G,vt){if(!(G instanceof vt))throw new TypeError("Cannot call a class as a function")}function U(G,vt){for(var rt=0;rt<vt.length;rt++){var st=vt[rt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(G,k(st.key),st)}}function $(G,vt,rt){return vt&&U(G.prototype,vt),rt&&U(G,rt),Object.defineProperty(G,"prototype",{writable:!1}),G}function k(G){var vt=y(G,"string");return N(vt)==="symbol"?vt:String(vt)}function y(G,vt){if(N(G)!=="object"||G===null)return G;var rt=G[Symbol.toPrimitive];if(rt!==void 0){var st=rt.call(G,vt||"default");if(N(st)!=="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vt==="string"?String:Number)(G)}function E(){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get.bind():E=function(vt,rt,st){var H=a(vt,rt);if(H){var w=Object.getOwnPropertyDescriptor(H,rt);return w.get?w.get.call(arguments.length<3?vt:st):w.value}},E.apply(this,arguments)}function a(G,vt){for(;!Object.prototype.hasOwnProperty.call(G,vt)&&(G=et(G),G!==null););return G}function s(G,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(vt&&vt.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),vt&&c(G,vt)}function c(G,vt){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(st,H){return st.__proto__=H,st},c(G,vt)}function O(G){var vt=Z();return function(){var st=et(G),H;if(vt){var w=et(this).constructor;H=Reflect.construct(st,arguments,w)}else H=st.apply(this,arguments);return L(this,H)}}function L(G,vt){if(vt&&(N(vt)==="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(G)}function j(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(G){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},et(G)}S();var ut=1,dt=function(G){s(rt,G);var vt=O(rt);function rt(st,H){var w;return R(this,rt),w=vt.call(this,st,H),w.cache={},w}return $(rt,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=lt(this)),this.cache.delta}},{key:"deleteAt",value:function(H,w){E(et(rt.prototype),"deleteAt",this).call(this,H,w),this.cache={}}},{key:"formatAt",value:function(H,w,q,J){w<=0||(this.scroll.query(q,m.Scope.BLOCK)?H+w===this.length()&&this.format(q,J):E(et(rt.prototype),"formatAt",this).call(this,H,Math.min(w,this.length()-H-1),q,J),this.cache={})}},{key:"insertAt",value:function(H,w,q){if(q!=null){E(et(rt.prototype),"insertAt",this).call(this,H,w,q),this.cache={};return}if(w.length!==0){var J=w.split(`
`),Q=J.shift();Q.length>0&&(H<this.length()-1||this.children.tail==null?E(et(rt.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var ct=this;J.reduce(function(mt,wt){return ct=ct.split(mt,!0),ct.insertAt(0,wt),wt.length},H+Q.length)}}},{key:"insertBefore",value:function(H,w){var q=this.children.head;E(et(rt.prototype),"insertBefore",this).call(this,H,w),q instanceof _.Z&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=E(et(rt.prototype),"length",this).call(this)+ut),this.cache.length}},{key:"moveChildren",value:function(H,w){E(et(rt.prototype),"moveChildren",this).call(this,H,w),this.cache={}}},{key:"optimize",value:function(H){E(et(rt.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return E(et(rt.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){E(et(rt.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w&&(H===0||H>=this.length()-ut)){var q=this.clone();return H===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}var J=E(et(rt.prototype),"split",this).call(this,H,w);return this.cache={},J}}]),rt}(m.BlockBlot);dt.blotName="block",dt.tagName="P",dt.defaultChild=_.Z,dt.allowedChildren=[_.Z,B.Z,m.EmbedBlot,M.Z];var pt=function(G){s(rt,G);var vt=O(rt);function rt(){return R(this,rt),vt.apply(this,arguments)}return $(rt,[{key:"attach",value:function(){E(et(rt.prototype),"attach",this).call(this),this.attributes=new m.AttributorStore(this.domNode)}},{key:"delta",value:function(){return new(v())().insert(this.value(),D(D({},this.formats()),this.attributes.values()))}},{key:"format",value:function(H,w){var q=this.scroll.query(H,m.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,w)}},{key:"formatAt",value:function(H,w,q,J){this.format(q,J)}},{key:"insertAt",value:function(H,w,q){if(typeof w=="string"&&w.endsWith(`
`)){var J=this.scroll.create(dt.blotName);this.parent.insertBefore(J,H===0?this:this.next),J.insertAt(0,w.slice(0,-1))}else E(et(rt.prototype),"insertAt",this).call(this,H,w,q)}}]),rt}(m.EmbedBlot);pt.scope=m.Scope.BLOCK_BLOT;function lt(G){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return G.descendants(m.LeafBlot).reduce(function(rt,st){return st.length()===0?rt:rt.insert(st.value(),_t(st,{},vt))},new(v())).insert(`
`,_t(G))}function _t(G){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return G==null||(typeof G.formats=="function"&&(vt=D(D({},vt),G.formats()),rt&&delete vt["code-token"]),G.parent==null||G.parent.statics.blotName==="scroll"||G.parent.statics.scope!==G.statics.scope)?vt:_t(G.parent,vt,rt)}},4122:(h,C,t)=>{t.d(C,{Z:()=>$});var p=t(1233);function v(k){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},v(k)}function m(k,y){if(!(k instanceof y))throw new TypeError("Cannot call a class as a function")}function _(k,y){for(var E=0;E<y.length;E++){var a=y[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(k,M(a.key),a)}}function B(k,y,E){return y&&_(k.prototype,y),E&&_(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function M(k){var y=I(k,"string");return v(y)==="symbol"?y:String(y)}function I(k,y){if(v(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var a=E.call(k,y||"default");if(v(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(k)}function A(k,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(y&&y.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),y&&S(k,y)}function S(k,y){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S(k,y)}function N(k){var y=W();return function(){var a=R(k),s;if(y){var c=R(this).constructor;s=Reflect.construct(a,arguments,c)}else s=a.apply(this,arguments);return x(this,s)}}function x(k,y){if(y&&(v(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(k){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},R(k)}var U=function(k){A(E,k);var y=N(E);function E(){return m(this,E),y.apply(this,arguments)}return B(E,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E}(p.EmbedBlot);U.blotName="break",U.tagName="BR";const $=U},3553:(h,C,t)=>{t.d(C,{Z:()=>$});var p=t(1233);function v(k){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},v(k)}function m(k,y){for(var E=0;E<y.length;E++){var a=y[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(k,B(a.key),a)}}function _(k,y,E){return y&&m(k.prototype,y),E&&m(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function B(k){var y=M(k,"string");return v(y)==="symbol"?y:String(y)}function M(k,y){if(v(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var a=E.call(k,y||"default");if(v(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(k)}function I(k,y){if(!(k instanceof y))throw new TypeError("Cannot call a class as a function")}function A(k,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(y&&y.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),y&&S(k,y)}function S(k,y){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S(k,y)}function N(k){var y=W();return function(){var a=R(k),s;if(y){var c=R(this).constructor;s=Reflect.construct(a,arguments,c)}else s=a.apply(this,arguments);return x(this,s)}}function x(k,y){if(y&&(v(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(k){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},R(k)}var U=function(k){A(E,k);var y=N(E);function E(){return I(this,E),y.apply(this,arguments)}return _(E)}(p.ContainerBlot);const $=U},3657:(h,C,t)=>{t.d(C,{Z:()=>E});var p=t(1233),v=t(8222);function m(a){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},m(a)}function _(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function B(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,I(O.key),O)}}function M(a,s,c){return s&&B(a.prototype,s),c&&B(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function I(a){var s=A(a,"string");return m(s)==="symbol"?s:String(s)}function A(a,s){if(m(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(m(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function S(){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get.bind():S=function(s,c,O){var L=N(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},S.apply(this,arguments)}function N(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=k(a),a!==null););return a}function x(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&D(a,s)}function D(a,s){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},D(a,s)}function W(a){var s=$();return function(){var O=k(a),L;if(s){var j=k(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return R(this,L)}}function R(a,s){if(s&&(m(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(a)}function U(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(a){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},k(a)}var y=function(a){x(c,a);var s=W(c);function c(O,L,j){var Z;return _(this,c),Z=s.call(this,O,L),Z.selection=j,Z.textNode=document.createTextNode(c.CONTENTS),Z.domNode.appendChild(Z.textNode),Z.savedLength=0,Z}return M(c,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(L,j){if(this.savedLength!==0){S(k(c.prototype),"format",this).call(this,L,j);return}for(var Z=this,et=0;Z!=null&&Z.statics.scope!==p.Scope.BLOCK_BLOT;)et+=Z.offset(Z.parent),Z=Z.parent;Z!=null&&(this.savedLength=c.CONTENTS.length,Z.optimize(),Z.formatAt(et,c.CONTENTS.length,L,j),this.savedLength=0)}},{key:"index",value:function(L,j){return L===this.textNode?0:S(k(c.prototype),"index",this).call(this,L,j)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){S(k(c.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||this.parent==null)return null;for(var L=this.selection.getNativeRange();this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var j=this.prev instanceof v.Z?this.prev:null,Z=j?j.length():0,et=this.next instanceof v.Z?this.next:null,ut=et?et.text:"",dt=this.textNode,pt=dt.data.split(c.CONTENTS).join("");dt.data=c.CONTENTS;var lt;if(j)lt=j,(pt||et)&&(j.insertAt(j.length(),pt+ut),et&&et.remove());else if(et)lt=et,et.insertAt(0,pt);else{var _t=document.createTextNode(pt);lt=this.scroll.create(_t),this.parent.insertBefore(lt,this)}if(this.remove(),L){var G=function(H,w){return j&&H===j.domNode?w:H===dt?Z+w-1:et&&H===et.domNode?Z+pt.length+w:null},vt=G(L.start.node,L.start.offset),rt=G(L.end.node,L.end.offset);if(vt!==null&&rt!==null)return{startNode:lt.domNode,startOffset:vt,endNode:lt.domNode,endOffset:rt}}return null}},{key:"update",value:function(L,j){var Z=this;if(L.some(function(ut){return ut.type==="characterData"&&ut.target===Z.textNode})){var et=this.restore();et&&(j.range=et)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),c}(p.EmbedBlot);y.blotName="cursor",y.className="ql-cursor",y.tagName="span",y.CONTENTS="\uFEFF";const E=y},7452:(h,C,t)=>{t.d(C,{Z:()=>a});var p=t(1233),v=t(8222);function m(s){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},m(s)}function _(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function B(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,I(L.key),L)}}function M(s,c,O){return c&&B(s.prototype,c),O&&B(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function I(s){var c=A(s,"string");return m(c)==="symbol"?c:String(c)}function A(s,c){if(m(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(m(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function S(){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get.bind():S=function(c,O,L){var j=N(c,O);if(j){var Z=Object.getOwnPropertyDescriptor(j,O);return Z.get?Z.get.call(arguments.length<3?c:L):Z.value}},S.apply(this,arguments)}function N(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=k(s),s!==null););return s}function x(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&D(s,c)}function D(s,c){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},D(s,c)}function W(s){var c=$();return function(){var L=k(s),j;if(c){var Z=k(this).constructor;j=Reflect.construct(L,arguments,Z)}else j=L.apply(this,arguments);return R(this,j)}}function R(s,c){if(c&&(m(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(s)}function U(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(s){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},k(s)}var y="\uFEFF",E=function(s){x(O,s);var c=W(O);function O(L,j){var Z;return _(this,O),Z=c.call(this,L,j),Z.contentNode=document.createElement("span"),Z.contentNode.setAttribute("contenteditable",!1),Array.from(Z.domNode.childNodes).forEach(function(et){Z.contentNode.appendChild(et)}),Z.leftGuard=document.createTextNode(y),Z.rightGuard=document.createTextNode(y),Z.domNode.appendChild(Z.leftGuard),Z.domNode.appendChild(Z.contentNode),Z.domNode.appendChild(Z.rightGuard),Z}return M(O,[{key:"index",value:function(j,Z){return j===this.leftGuard?0:j===this.rightGuard?1:S(k(O.prototype),"index",this).call(this,j,Z)}},{key:"restore",value:function(j){var Z,et,ut=j.data.split(y).join("");if(j===this.leftGuard)if(this.prev instanceof v.Z){var dt=this.prev.length();this.prev.insertAt(dt,ut),Z={startNode:this.prev.domNode,startOffset:dt+ut.length}}else et=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(et),this),Z={startNode:et,startOffset:ut.length};else j===this.rightGuard&&(this.next instanceof v.Z?(this.next.insertAt(0,ut),Z={startNode:this.next.domNode,startOffset:ut.length}):(et=document.createTextNode(ut),this.parent.insertBefore(this.scroll.create(et),this.next),Z={startNode:et,startOffset:ut.length}));return j.data=y,Z}},{key:"update",value:function(j,Z){var et=this;j.forEach(function(ut){if(ut.type==="characterData"&&(ut.target===et.leftGuard||ut.target===et.rightGuard)){var dt=et.restore(ut.target);dt&&(Z.range=dt)}})}}]),O}(p.EmbedBlot);const a=E},6603:(h,C,t)=>{t.d(C,{Z:()=>a});var p=t(1233),v=t(4122),m=t(8222);function _(s){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_(s)}function B(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function M(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,A(L.key),L)}}function I(s,c,O){return c&&M(s.prototype,c),O&&M(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function A(s){var c=S(s,"string");return _(c)==="symbol"?c:String(c)}function S(s,c){if(_(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(_(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function N(){return typeof Reflect<"u"&&Reflect.get?N=Reflect.get.bind():N=function(c,O,L){var j=x(c,O);if(j){var Z=Object.getOwnPropertyDescriptor(j,O);return Z.get?Z.get.call(arguments.length<3?c:L):Z.value}},N.apply(this,arguments)}function x(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=y(s),s!==null););return s}function D(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&W(s,c)}function W(s,c){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},W(s,c)}function R(s){var c=k();return function(){var L=y(s),j;if(c){var Z=y(this).constructor;j=Reflect.construct(L,arguments,Z)}else j=L.apply(this,arguments);return U(this,j)}}function U(s,c){if(c&&(_(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(s)}function $(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y(s){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},y(s)}var E=function(s){D(O,s);var c=R(O);function O(){return B(this,O),c.apply(this,arguments)}return I(O,[{key:"formatAt",value:function(j,Z,et,ut){if(O.compare(this.statics.blotName,et)<0&&this.scroll.query(et,p.Scope.BLOT)){var dt=this.isolate(j,Z);ut&&dt.wrap(et,ut)}else N(y(O.prototype),"formatAt",this).call(this,j,Z,et,ut)}},{key:"optimize",value:function(j){if(N(y(O.prototype),"optimize",this).call(this,j),this.parent instanceof O&&O.compare(this.statics.blotName,this.parent.statics.blotName)>0){var Z=this.parent.isolate(this.offset(),this.length());this.moveChildren(Z),Z.wrap(this)}}}],[{key:"compare",value:function(j,Z){var et=O.order.indexOf(j),ut=O.order.indexOf(Z);return et>=0||ut>=0?et-ut:j===Z?0:j<Z?-1:1}}]),O}(p.InlineBlot);E.allowedChildren=[E,v.Z,p.EmbedBlot,m.Z],E.order=["cursor","inline","link","underline","strike","italic","bold","script","code"];const a=E},3272:(h,C,t)=>{t.d(C,{Z:()=>pt});var p=t(1233),v=t(2069),m=t(6446),_=t(4122),B=t(3553),M=t(1969);function I(lt){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t},I(lt)}function A(lt,_t){return W(lt)||D(lt,_t)||N(lt,_t)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(lt,_t){if(lt){if(typeof lt=="string")return x(lt,_t);var G=Object.prototype.toString.call(lt).slice(8,-1);if(G==="Object"&&lt.constructor&&(G=lt.constructor.name),G==="Map"||G==="Set")return Array.from(lt);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return x(lt,_t)}}function x(lt,_t){(_t==null||_t>lt.length)&&(_t=lt.length);for(var G=0,vt=new Array(_t);G<_t;G++)vt[G]=lt[G];return vt}function D(lt,_t){var G=lt==null?null:typeof Symbol<"u"&&lt[Symbol.iterator]||lt["@@iterator"];if(G!=null){var vt,rt,st,H,w=[],q=!0,J=!1;try{if(st=(G=G.call(lt)).next,_t===0){if(Object(G)!==G)return;q=!1}else for(;!(q=(vt=st.call(G)).done)&&(w.push(vt.value),w.length!==_t);q=!0);}catch(Q){J=!0,rt=Q}finally{try{if(!q&&G.return!=null&&(H=G.return(),Object(H)!==H))return}finally{if(J)throw rt}}return w}}function W(lt){if(Array.isArray(lt))return lt}function R(lt,_t){if(!(lt instanceof _t))throw new TypeError("Cannot call a class as a function")}function U(lt,_t){for(var G=0;G<_t.length;G++){var vt=_t[G];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(lt,k(vt.key),vt)}}function $(lt,_t,G){return _t&&U(lt.prototype,_t),G&&U(lt,G),Object.defineProperty(lt,"prototype",{writable:!1}),lt}function k(lt){var _t=y(lt,"string");return I(_t)==="symbol"?_t:String(_t)}function y(lt,_t){if(I(lt)!=="object"||lt===null)return lt;var G=lt[Symbol.toPrimitive];if(G!==void 0){var vt=G.call(lt,_t||"default");if(I(vt)!=="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_t==="string"?String:Number)(lt)}function E(){return typeof Reflect<"u"&&Reflect.get?E=Reflect.get.bind():E=function(_t,G,vt){var rt=a(_t,G);if(rt){var st=Object.getOwnPropertyDescriptor(rt,G);return st.get?st.get.call(arguments.length<3?_t:vt):st.value}},E.apply(this,arguments)}function a(lt,_t){for(;!Object.prototype.hasOwnProperty.call(lt,_t)&&(lt=et(lt),lt!==null););return lt}function s(lt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),Object.defineProperty(lt,"prototype",{writable:!1}),_t&&c(lt,_t)}function c(lt,_t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,rt){return vt.__proto__=rt,vt},c(lt,_t)}function O(lt){var _t=Z();return function(){var vt=et(lt),rt;if(_t){var st=et(this).constructor;rt=Reflect.construct(vt,arguments,st)}else rt=vt.apply(this,arguments);return L(this,rt)}}function L(lt,_t){if(_t&&(I(_t)==="object"||typeof _t=="function"))return _t;if(_t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(lt)}function j(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function et(lt){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},et(lt)}function ut(lt){return lt instanceof m.ZP||lt instanceof m.i2}var dt=function(lt){s(G,lt);var _t=O(G);function G(vt,rt,st){var H,w=st.emitter,q=st.toggleBlankClass;return R(this,G),H=_t.call(this,vt,rt),H.emitter=w,H.toggleBlankClass=q,H.batch=!1,H.optimize(),H.enable(),H.domNode.addEventListener("dragstart",function(J){return H.handleDragStart(J)}),H}return $(G,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var rt=this.batch;this.batch=!1,this.update(rt)}},{key:"emitMount",value:function(rt){this.emitter.emit(v.Z.events.SCROLL_BLOT_MOUNT,rt)}},{key:"emitUnmount",value:function(rt){this.emitter.emit(v.Z.events.SCROLL_BLOT_UNMOUNT,rt)}},{key:"deleteAt",value:function(rt,st){var H=this.line(rt),w=A(H,2),q=w[0],J=w[1],Q=this.line(rt+st),ct=A(Q,1),mt=ct[0];if(E(et(G.prototype),"deleteAt",this).call(this,rt,st),mt!=null&&q!==mt&&J>0){var wt=(q instanceof M.zW||mt instanceof M.zW)&&q.parent!==mt.parent,ot=q instanceof m.i2||mt instanceof m.i2;if(!ot&&!wt){var tt=mt.children.head instanceof _.Z?null:mt.children.head;q.moveChildren(mt,tt),q.remove()}}this.optimize()}},{key:"enable",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",rt)}},{key:"formatAt",value:function(rt,st,H,w){E(et(G.prototype),"formatAt",this).call(this,rt,st,H,w),this.optimize()}},{key:"handleDragStart",value:function(rt){rt.preventDefault()}},{key:"insertAt",value:function(rt,st,H){if(rt>=this.length())if(H==null||this.scroll.query(st,p.Scope.BLOCK)==null){var w=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(w),H==null&&st.endsWith(`
`)?w.insertAt(0,st.slice(0,-1),H):w.insertAt(0,st,H)}else{var q=this.scroll.create(st,H);this.appendChild(q)}else E(et(G.prototype),"insertAt",this).call(this,rt,st,H);this.optimize()}},{key:"insertBefore",value:function(rt,st){if(rt.statics.scope===p.Scope.INLINE_BLOT){var H=this.scroll.create(this.statics.defaultChild.blotName);H.appendChild(rt),E(et(G.prototype),"insertBefore",this).call(this,H,st)}else E(et(G.prototype),"insertBefore",this).call(this,rt,st)}},{key:"isEnabled",value:function(){return this.domNode.getAttribute("contenteditable")==="true"}},{key:"leaf",value:function(rt){return this.path(rt).pop()||[null,-1]}},{key:"line",value:function(rt){return rt===this.length()?this.line(rt-1):this.descendant(ut,rt)}},{key:"lines",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function w(q,J,Q){var ct=[],mt=Q;return q.children.forEachAt(J,Q,function(wt,ot,tt){ut(wt)?ct.push(wt):wt instanceof p.ContainerBlot&&(ct=ct.concat(w(wt,ot,mt))),mt-=tt}),ct};return H(this,rt,st)}},{key:"optimize",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(E(et(G.prototype),"optimize",this).call(this,rt,st),rt.length>0&&this.emitter.emit(v.Z.events.SCROLL_OPTIMIZE,rt,st))}},{key:"path",value:function(rt){return E(et(G.prototype),"path",this).call(this,rt).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(rt){var st=this;if(this.batch){Array.isArray(rt)&&(this.batch=this.batch.concat(rt),this.toggleBlankClass());return}var H=v.Z.sources.USER;typeof rt=="string"&&(H=rt),Array.isArray(rt)||(rt=this.observer.takeRecords()),rt=rt.filter(function(w){var q=w.target,J=st.find(q,!0);return J&&J.scroll===st}),rt.length>0&&this.emitter.emit(v.Z.events.SCROLL_BEFORE_UPDATE,H,rt),E(et(G.prototype),"update",this).call(this,rt.concat([])),rt.length>0&&this.emitter.emit(v.Z.events.SCROLL_UPDATE,H,rt)}}]),G}(p.ScrollBlot);dt.blotName="scroll",dt.className="ql-editor",dt.tagName="DIV",dt.defaultChild=m.ZP,dt.allowedChildren=[m.ZP,m.i2,B.Z];const pt=dt},8222:(h,C,t)=>{t.d(C,{Z:()=>U,b:()=>$});var p=t(1233);function v(k){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},v(k)}function m(k,y){for(var E=0;E<y.length;E++){var a=y[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(k,B(a.key),a)}}function _(k,y,E){return y&&m(k.prototype,y),E&&m(k,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function B(k){var y=M(k,"string");return v(y)==="symbol"?y:String(y)}function M(k,y){if(v(k)!=="object"||k===null)return k;var E=k[Symbol.toPrimitive];if(E!==void 0){var a=E.call(k,y||"default");if(v(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(k)}function I(k,y){if(!(k instanceof y))throw new TypeError("Cannot call a class as a function")}function A(k,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(y&&y.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),y&&S(k,y)}function S(k,y){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},S(k,y)}function N(k){var y=W();return function(){var a=R(k),s;if(y){var c=R(this).constructor;s=Reflect.construct(a,arguments,c)}else s=a.apply(this,arguments);return x(this,s)}}function x(k,y){if(y&&(v(y)==="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(k)}function D(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R(k){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},R(k)}var U=function(k){A(E,k);var y=N(E);function E(){return I(this,E),y.apply(this,arguments)}return _(E)}(p.TextBlot);function $(k){return k.replace(/[&<>"']/g,function(y){var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return E[y]})}},2432:(h,C,t)=>{t.d(C,{default:()=>R});var p=t(281),v=t(6446),m=t(4122),_=t(3553),B=t(3657),M=t(7452),I=t(6603),A=t(3272),S=t(8222),N=t(5635),x=t(2613),D=t(3071),W=t(3859);p.ZP.register({"blots/block":v.ZP,"blots/block/embed":v.i2,"blots/break":m.Z,"blots/container":_.Z,"blots/cursor":B.Z,"blots/embed":M.Z,"blots/inline":I.Z,"blots/scroll":A.Z,"blots/text":S.Z,"modules/clipboard":N.ZP,"modules/history":x.Z,"modules/keyboard":D.ZP,"modules/uploader":W.Z});const R=p.ZP},2861:(h,C,t)=>{t.d(C,{Z:()=>gt});var p=t(8805),v=t.n(p),m=t(2722),_=t.n(m),B=t(732),M=t.n(B),I=t(9098),A=t.n(I),S=t(1233),N=t(7800),x=t(3657),D=t(6446),W=t(4122),R=t(8222);function U(at,it){at.classList.remove(it),at.classList.length===0&&at.removeAttribute("class")}var $=t(5874);function k(at){return ut(at)||y(at)||j(at)||L()}function y(at){if(typeof Symbol<"u"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}function E(at,it){var ft=Object.keys(at);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(at);it&&(Y=Y.filter(function(T){return Object.getOwnPropertyDescriptor(at,T).enumerable})),ft.push.apply(ft,Y)}return ft}function a(at){for(var it=1;it<arguments.length;it++){var ft=arguments[it]!=null?arguments[it]:{};it%2?E(Object(ft),!0).forEach(function(Y){s(at,Y,ft[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(ft)):E(Object(ft)).forEach(function(Y){Object.defineProperty(at,Y,Object.getOwnPropertyDescriptor(ft,Y))})}return at}function s(at,it,ft){return it=_t(it),it in at?Object.defineProperty(at,it,{value:ft,enumerable:!0,configurable:!0,writable:!0}):at[it]=ft,at}function c(at){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(it){return typeof it}:function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},c(at)}function O(at,it){return ut(at)||et(at,it)||j(at,it)||L()}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(at,it){if(at){if(typeof at=="string")return Z(at,it);var ft=Object.prototype.toString.call(at).slice(8,-1);if(ft==="Object"&&at.constructor&&(ft=at.constructor.name),ft==="Map"||ft==="Set")return Array.from(at);if(ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ft))return Z(at,it)}}function Z(at,it){(it==null||it>at.length)&&(it=at.length);for(var ft=0,Y=new Array(it);ft<it;ft++)Y[ft]=at[ft];return Y}function et(at,it){var ft=at==null?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(ft!=null){var Y,T,o,i,f=[],g=!0,V=!1;try{if(o=(ft=ft.call(at)).next,it===0){if(Object(ft)!==ft)return;g=!1}else for(;!(g=(Y=o.call(ft)).done)&&(f.push(Y.value),f.length!==it);g=!0);}catch(ht){V=!0,T=ht}finally{try{if(!g&&ft.return!=null&&(i=ft.return(),Object(i)!==i))return}finally{if(V)throw T}}return f}}function ut(at){if(Array.isArray(at))return at}function dt(at,it){if(!(at instanceof it))throw new TypeError("Cannot call a class as a function")}function pt(at,it){for(var ft=0;ft<it.length;ft++){var Y=it[ft];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(at,_t(Y.key),Y)}}function lt(at,it,ft){return it&&pt(at.prototype,it),ft&&pt(at,ft),Object.defineProperty(at,"prototype",{writable:!1}),at}function _t(at){var it=G(at,"string");return c(it)==="symbol"?it:String(it)}function G(at,it){if(c(at)!=="object"||at===null)return at;var ft=at[Symbol.toPrimitive];if(ft!==void 0){var Y=ft.call(at,it||"default");if(c(Y)!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(it==="string"?String:Number)(at)}var vt=/^[ -~]*$/,rt=function(){function at(it){dt(this,at),this.scroll=it,this.delta=this.getDelta(),this.immediateFormats=new Set}return lt(at,[{key:"addImmediateFormat",value:function(ft){this.immediateFormats.add(ft)}},{key:"applyDelta",value:function(ft){var Y=this;this.scroll.update();var T=this.scroll.length();this.scroll.batchStart();var o=ot(ft),i=new(A());return o.reduce(function(f,g){var V=I.Op.length(g),ht=g.attributes||{},At=!1;if(g.insert!=null){if(i.retain(V),typeof g.insert=="string"){var Ht=g.insert;At=!Ht.endsWith(`
`)&&(T<=f||Y.scroll.descendant(D.i2,f)[0]),Y.scroll.insertAt(f,Ht);var Ft=Y.scroll.line(f),Yt=O(Ft,2),qt=Yt[0],Jt=Yt[1],bt=M()({},(0,D.E2)(qt));if(qt instanceof D.ZP){var Pt=qt.descendant(S.LeafBlot,Jt),It=O(Pt,1),Mt=It[0];bt=M()(bt,(0,D.E2)(Mt))}ht=I.AttributeMap.diff(bt,ht)||{}}else if(c(g.insert)==="object"){var Nt=Object.keys(g.insert)[0];if(Nt==null)return f;At=Y.scroll.query(Nt,S.Scope.INLINE)!=null&&(T<=f||Y.scroll.descendant(D.i2,f)[0]),Y.scroll.insertAt(f,Nt,g.insert[Nt])}T+=V}else i.push(g);var $t=Object.keys(ht);Y.immediateFormats.forEach(function(Ut){$t.indexOf(Ut)>-1&&(Y.scroll.formatAt(f,V,Ut,ht[Ut]),delete ht[Ut])}),Object.keys(ht).forEach(function(Ut){Y.scroll.formatAt(f,V,Ut,ht[Ut])});var Dt=At?1:0;return T+=Dt,i.delete(Dt),f+V+Dt},0),i.reduce(function(f,g){return typeof g.delete=="number"?(Y.scroll.deleteAt(f,g.delete),f):f+I.Op.length(g)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}},{key:"deleteText",value:function(ft,Y){return this.scroll.deleteAt(ft,Y),this.update(new(A())().retain(ft).delete(Y))}},{key:"formatLine",value:function(ft,Y){var T=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach(function(f){T.scroll.lines(ft,Math.max(Y,1)).forEach(function(g){g.format(f,o[f])})}),this.scroll.optimize();var i=new(A())().retain(ft).retain(Y,v()(o));return this.update(i)}},{key:"formatText",value:function(ft,Y){var T=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach(function(f){T.scroll.formatAt(ft,Y,f,o[f])});var i=new(A())().retain(ft).retain(Y,v()(o));return this.update(i)}},{key:"getContents",value:function(ft,Y){return this.delta.slice(ft,ft+Y)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(ft,Y){return ft.concat(Y.delta())},new(A()))}},{key:"getFormat",value:function(ft){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=[],o=[];Y===0?this.scroll.path(ft).forEach(function(g){var V=O(g,1),ht=V[0];ht instanceof D.ZP?T.push(ht):ht instanceof S.LeafBlot&&o.push(ht)}):(T=this.scroll.lines(ft,Y),o=this.scroll.descendants(S.LeafBlot,ft,Y));var i=[T,o].map(function(g){if(g.length===0)return{};for(var V=(0,D.E2)(g.shift());Object.keys(V).length>0;){var ht=g.shift();if(ht==null)return V;V=Q((0,D.E2)(ht),V)}return V}),f=O(i,2);return T=f[0],o=f[1],a(a({},T),o)}},{key:"getHTML",value:function(ft,Y){var T=this.scroll.line(ft),o=O(T,2),i=o[0],f=o[1];return i.length()>f+Y?H(i,f,Y,!0):H(this.scroll,ft,Y,!0)}},{key:"getText",value:function(ft,Y){return this.getContents(ft,Y).filter(function(T){return typeof T.insert=="string"}).map(function(T){return T.insert}).join("")}},{key:"insertEmbed",value:function(ft,Y,T){return this.scroll.insertAt(ft,Y,T),this.update(new(A())().retain(ft).insert(s({},Y,T)))}},{key:"insertText",value:function(ft,Y){var T=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Y=Y.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(ft,Y),Object.keys(o).forEach(function(i){T.scroll.formatAt(ft,Y.length,i,o[i])}),this.update(new(A())().retain(ft).insert(Y,v()(o)))}},{key:"isBlank",value:function(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.scroll.children.length===0)return!0;if(ft||this.scroll.children.length>1)return!1;var Y=this.scroll.children.head;return Y.statics.blotName!==D.ZP.blotName||Y.children.length>1?!1:Y.children.head instanceof W.Z}},{key:"removeFormat",value:function(ft,Y){var T=this.getText(ft,Y),o=this.scroll.line(ft+Y),i=O(o,2),f=i[0],g=i[1],V=0,ht=new(A());f!=null&&(V=f.length()-g,ht=f.delta().slice(g,g+V-1).insert(`
`));var At=this.getContents(ft,Y+V),Ht=At.diff(new(A())().insert(T).concat(ht)),Ft=new(A())().retain(ft).concat(Ht);return this.applyDelta(Ft)}},{key:"update",value:function(ft){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,o=this.delta;if(Y.length===1&&Y[0].type==="characterData"&&Y[0].target.data.match(vt)&&this.scroll.find(Y[0].target)){var i=this.scroll.find(Y[0].target),f=(0,D.E2)(i),g=i.offset(this.scroll),V=Y[0].oldValue.replace(x.Z.CONTENTS,""),ht=new(A())().insert(V),At=new(A())().insert(i.value()),Ht=T&&{oldRange:tt(T.oldRange,-g),newRange:tt(T.newRange,-g)},Ft=new(A())().retain(g).concat(ht.diff(At,Ht));ft=Ft.reduce(function(Yt,qt){return qt.insert?Yt.insert(qt.insert,f):Yt.push(qt)},new(A())),this.delta=o.compose(ft)}else this.delta=this.getDelta(),(!ft||!_()(o.compose(ft),this.delta))&&(this.deltaContainsRetain(o)||(ft=o.diff(this.delta,T)));return ft}},{key:"deltaContainsRetain",value:function(ft){return ft.ops.some(function(Y){return(0,$.Z)(Y.retain)})}}]),at}();function st(at,it,ft){if(at.length===0){var Y=ct(ft.pop()),T=O(Y,1),o=T[0];return it<=0?"</li></".concat(o,">"):"</li></".concat(o,">").concat(st([],it-1,ft))}var i=k(at),f=i[0],g=f.child,V=f.offset,ht=f.length,At=f.indent,Ht=f.type,Ft=i.slice(1),Yt=ct(Ht,g),qt=O(Yt,2),Jt=qt[0],bt=qt[1];if(At>it)return ft.push(Ht),At===it+1?"<".concat(Jt,"><li").concat(bt,">").concat(H(g,V,ht)).concat(st(Ft,At,ft)):"<".concat(Jt,"><li>").concat(st(at,it+1,ft));var Pt=ft[ft.length-1];if(At===it&&Ht===Pt)return"</li><li".concat(bt,">").concat(H(g,V,ht)).concat(st(Ft,At,ft));var It=ct(ft.pop()),Mt=O(It,1),Nt=Mt[0];return"</li></".concat(Nt,">").concat(st(at,it-1,ft))}function H(at,it,ft){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(typeof at.html=="function")return at.html(it,ft);if(at instanceof R.Z)return(0,R.b)(at.value().slice(it,it+ft));if(at.children){if(at.statics.blotName==="list-container"){var T=[];return at.children.forEachAt(it,ft,function(Ft,Yt,qt){var Jt=Ft.formats();T.push({child:Ft,offset:Yt,length:qt,indent:Jt.indent||0,type:Jt.list})}),st(T,-1,[])}var o=[];if(at.children.forEachAt(it,ft,function(Ft,Yt,qt){o.push(H(Ft,Yt,qt))}),w(at.children,o),Y||at.statics.blotName==="list")return o.join("");var i=q(at),f=i.outerHTML,g=i.innerHTML,V=f.split(">".concat(g,"<")),ht=O(V,2),At=ht[0],Ht=ht[1];return At.indexOf("<table")===0?"".concat(At.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(o.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(Ht):"".concat(At,">").concat(o.join(""),"<").concat(Ht)}return at.domNode.outerHTML}function w(at,it){at.length===1&&at.head instanceof W.Z&&it.push("<br>")}function q(at){var it=at.domNode.cloneNode(!0);return J(at,it)}function J(at,it){var ft=["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"];return ft.includes(at.statics.blotName)&&U(it,at.statics.className),it}function Q(at,it){return Object.keys(it).reduce(function(ft,Y){return at[Y]==null||(it[Y]===at[Y]?ft[Y]=it[Y]:Array.isArray(it[Y])?it[Y].indexOf(at[Y])<0&&(ft[Y]=it[Y].concat([at[Y]])):ft[Y]=[it[Y],at[Y]]),ft},{})}function ct(at,it){var ft=at==="ordered"?"ol":"ul",Y=it?"".concat(mt(it)):"";switch(at){case"checked":return[ft,"".concat(Y,' data-list="checked"')];case"unchecked":return[ft,"".concat(Y,' data-list="unchecked"')];default:return[ft,Y]}}function mt(at){var it=at.domNode;if(!it.hasAttributes())return"";for(var ft=it.attributes,Y=" ",T=0;T<ft.length;T+=1){var o=ft[T].name,i=ft[T].value;o==="class"&&(i=wt(i)),i.length&&o.indexOf("data-")===-1&&(Y+="".concat(o,'="').concat(i,'"'))}return Y.length>1?Y:""}function wt(at){return at.replace(/ql-indent-\d/g,"").trim()}function ot(at){return at.reduce(function(it,ft){if(typeof ft.insert=="string"){var Y=ft.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return it.insert(Y,ft.attributes)}return it.push(ft)},new(A()))}function tt(at,it){var ft=at.index,Y=at.length;return new N.e(ft+it,Y)}const gt=rt},2069:(h,C,t)=>{t.d(C,{Z:()=>L});var p=t(3034),v=t.n(p),m=t(8034),_=t(2598),B=t(3122);function M(j){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},M(j)}function I(j,Z){if(!(j instanceof Z))throw new TypeError("Cannot call a class as a function")}function A(j,Z){for(var et=0;et<Z.length;et++){var ut=Z[et];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(j,N(ut.key),ut)}}function S(j,Z,et){return Z&&A(j.prototype,Z),et&&A(j,et),Object.defineProperty(j,"prototype",{writable:!1}),j}function N(j){var Z=x(j,"string");return M(Z)==="symbol"?Z:String(Z)}function x(j,Z){if(M(j)!=="object"||j===null)return j;var et=j[Symbol.toPrimitive];if(et!==void 0){var ut=et.call(j,Z||"default");if(M(ut)!=="object")return ut;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(j)}function D(){return typeof Reflect<"u"&&Reflect.get?D=Reflect.get.bind():D=function(Z,et,ut){var dt=W(Z,et);if(dt){var pt=Object.getOwnPropertyDescriptor(dt,et);return pt.get?pt.get.call(arguments.length<3?Z:ut):pt.value}},D.apply(this,arguments)}function W(j,Z){for(;!Object.prototype.hasOwnProperty.call(j,Z)&&(j=a(j),j!==null););return j}function R(j,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(Z&&Z.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),Z&&U(j,Z)}function U(j,Z){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ut,dt){return ut.__proto__=dt,ut},U(j,Z)}function $(j){var Z=E();return function(){var ut=a(j),dt;if(Z){var pt=a(this).constructor;dt=Reflect.construct(ut,arguments,pt)}else dt=ut.apply(this,arguments);return k(this,dt)}}function k(j,Z){if(Z&&(M(Z)==="object"||typeof Z=="function"))return Z;if(Z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(j)}function y(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(j){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},a(j)}var s=(0,B.Z)("quill:events"),c=["selectionchange","mousedown","mouseup","click"];(0,m.Z)()&&c.forEach(function(j){document.addEventListener(j,function(){for(var Z=arguments.length,et=new Array(Z),ut=0;ut<Z;ut++)et[ut]=arguments[ut];Array.from(document.querySelectorAll(".ql-container")).forEach(function(dt){var pt=_.Z.get(dt);if(pt&&pt.emitter){var lt;(lt=pt.emitter).handleDOM.apply(lt,et)}})})});var O=function(j){R(et,j);var Z=$(et);function et(){var ut;return I(this,et),ut=Z.call(this),ut.listeners={},ut.on("error",s.error),ut}return S(et,[{key:"emit",value:function(){for(var dt,pt,lt=arguments.length,_t=new Array(lt),G=0;G<lt;G++)_t[G]=arguments[G];(dt=s.log).call.apply(dt,[s].concat(_t)),(pt=D(a(et.prototype),"emit",this)).call.apply(pt,[this].concat(_t))}},{key:"handleDOM",value:function(dt){for(var pt=arguments.length,lt=new Array(pt>1?pt-1:0),_t=1;_t<pt;_t++)lt[_t-1]=arguments[_t];(this.listeners[dt.type]||[]).forEach(function(G){var vt=G.node,rt=G.handler;(dt.target===vt||vt.contains(dt.target))&&rt.apply(void 0,[dt].concat(lt))})}},{key:"listenDOM",value:function(dt,pt,lt){this.listeners[dt]||(this.listeners[dt]=[]),this.listeners[dt].push({node:pt,handler:lt})}}]),et}(v());O.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},O.sources={API:"api",SILENT:"silent",USER:"user"};const L=O},2598:(h,C,t)=>{t.d(C,{Z:()=>p});const p=new WeakMap},3122:(h,C,t)=>{t.d(C,{Z:()=>B});var p=["error","warn","log","info"],v="warn";function m(M){if(p.indexOf(M)<=p.indexOf(v)){for(var I,A=arguments.length,S=new Array(A>1?A-1:0),N=1;N<A;N++)S[N-1]=arguments[N];(I=console)[M].apply(I,S)}}function _(M){return p.reduce(function(I,A){return I[A]=m.bind(console,A,M),I},{})}_.level=function(M){v=M},m.level=_.level;const B=_},7094:(h,C,t)=>{t.d(C,{Z:()=>A});function p(S){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},p(S)}function v(S,N){for(var x=0;x<N.length;x++){var D=N[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,_(D.key),D)}}function m(S,N,x){return N&&v(S.prototype,N),x&&v(S,x),Object.defineProperty(S,"prototype",{writable:!1}),S}function _(S){var N=B(S,"string");return p(N)==="symbol"?N:String(N)}function B(S,N){if(p(S)!=="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var D=x.call(S,N||"default");if(p(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(S)}function M(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}var I=m(function S(N){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M(this,S),this.quill=N,this.options=x});I.DEFAULTS={};const A=I},281:(h,C,t)=>{t.d(C,{ZP:()=>lt});var p=t(9098),v=t.n(p),m=t(8805),_=t.n(m),B=t(732),M=t.n(B),I=t(1233),A=t(2861),S=t(2069),N=t(7094),x=t(7800),D=t(2598),W=t(3122),R=t(1690),U=t(5874);function $(st){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},$(st)}function k(st,H,w){return H=et(H),H in st?Object.defineProperty(st,H,{value:w,enumerable:!0,configurable:!0,writable:!0}):st[H]=w,st}function y(st,H){return O(st)||c(st,H)||a(st,H)||E()}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(st,H){if(st){if(typeof st=="string")return s(st,H);var w=Object.prototype.toString.call(st).slice(8,-1);if(w==="Object"&&st.constructor&&(w=st.constructor.name),w==="Map"||w==="Set")return Array.from(st);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return s(st,H)}}function s(st,H){(H==null||H>st.length)&&(H=st.length);for(var w=0,q=new Array(H);w<H;w++)q[w]=st[w];return q}function c(st,H){var w=st==null?null:typeof Symbol<"u"&&st[Symbol.iterator]||st["@@iterator"];if(w!=null){var q,J,Q,ct,mt=[],wt=!0,ot=!1;try{if(Q=(w=w.call(st)).next,H===0){if(Object(w)!==w)return;wt=!1}else for(;!(wt=(q=Q.call(w)).done)&&(mt.push(q.value),mt.length!==H);wt=!0);}catch(tt){ot=!0,J=tt}finally{try{if(!wt&&w.return!=null&&(ct=w.return(),Object(ct)!==ct))return}finally{if(ot)throw J}}return mt}}function O(st){if(Array.isArray(st))return st}function L(st,H){if(!(st instanceof H))throw new TypeError("Cannot call a class as a function")}function j(st,H){for(var w=0;w<H.length;w++){var q=H[w];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(st,et(q.key),q)}}function Z(st,H,w){return H&&j(st.prototype,H),w&&j(st,w),Object.defineProperty(st,"prototype",{writable:!1}),st}function et(st){var H=ut(st,"string");return $(H)==="symbol"?H:String(H)}function ut(st,H){if($(st)!=="object"||st===null)return st;var w=st[Symbol.toPrimitive];if(w!==void 0){var q=w.call(st,H||"default");if($(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(st)}var dt=(0,W.Z)("quill"),pt=new I.Registry;I.ParentBlot.uiClass="ql-ui";var lt=function(){function st(H){var w=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,st),this.options=_t(H,q),this.container=this.options.container,this.container==null)return dt.error("Invalid Quill container",H);this.options.debug&&st.debug(this.options.debug);var J=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",D.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new S.Z;var Q=this.options.registry.query(I.ScrollBlot.blotName);this.scroll=new Q(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new A.Z(this.scroll),this.selection=new x.Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(S.Z.events.EDITOR_CHANGE,function(ct){ct===S.Z.events.TEXT_CHANGE&&w.toggleBlankClass()}),this.emitter.on(S.Z.events.SCROLL_UPDATE,function(ct,mt){var wt=w.selection.lastRange,ot=w.selection.getRange(),tt=y(ot,1),gt=tt[0],at=wt&&gt?{oldRange:wt,newRange:gt}:void 0;G.call(w,function(){return w.editor.update(null,mt,at)},ct)}),this.setContents(this.getInitialContent(J)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return Z(st,[{key:"getInitialContent",value:function(w){return this.clipboard.convert({html:"".concat(w,"<p><br></p>"),text:`
`})}},{key:"toggleBlankClass",value:function(){var w=this.selection.composing;this.root.classList.toggle("ql-blank",this.editor.isBlank(w))}},{key:"addContainer",value:function(w){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof w=="string"){var J=w;w=document.createElement("div"),w.classList.add(J)}return this.container.insertBefore(w,q),w}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(w,q,J){var Q=this,ct=vt(w,q,J),mt=y(ct,4);return w=mt[0],q=mt[1],J=mt[3],G.call(this,function(){return Q.editor.deleteText(w,q)},J,w,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(w){this.allowReadOnlyEdits=!0;var q=w();return this.allowReadOnlyEdits=!1,q}},{key:"enable",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(w),this.container.classList.toggle("ql-disabled",!w)}},{key:"focus",value:function(){var w=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=w,this.scrollIntoView()}},{key:"format",value:function(w,q){var J=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.Z.sources.API;return G.call(this,function(){var ct=J.getSelection(!0),mt=new(v());if(ct==null)return mt;if(J.scroll.query(w,I.Scope.BLOCK))mt=J.editor.formatLine(ct.index,ct.length,k({},w,q));else{if(ct.length===0)return J.selection.format(w,q),mt;mt=J.editor.formatText(ct.index,ct.length,k({},w,q))}return J.setSelection(ct,S.Z.sources.SILENT),mt},Q)}},{key:"formatLine",value:function(w,q,J,Q,ct){var mt=this,wt,ot=vt(w,q,J,Q,ct),tt=y(ot,4);return w=tt[0],q=tt[1],wt=tt[2],ct=tt[3],G.call(this,function(){return mt.editor.formatLine(w,q,wt)},ct,w,0)}},{key:"formatText",value:function(w,q,J,Q,ct){var mt=this,wt,ot=vt(w,q,J,Q,ct),tt=y(ot,4);return w=tt[0],q=tt[1],wt=tt[2],ct=tt[3],G.call(this,function(){return mt.editor.formatText(w,q,wt)},ct,w,0)}},{key:"getBounds",value:function(w){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,J;typeof w=="number"?J=this.selection.getBounds(w,q):J=this.selection.getBounds(w.index,w.length);var Q=this.container.getBoundingClientRect();return{bottom:J.bottom-Q.top,height:J.height,left:J.left-Q.left,right:J.right-Q.left,top:J.top-Q.top,width:J.width}}},{key:"getContents",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=vt(w,q),Q=y(J,2);return w=Q[0],q=Q[1],this.editor.getContents(w,q)}},{key:"getFormat",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,U.Z)(w)?typeof w=="number"?this.editor.getFormat(w,q):this.editor.getFormat(w.index,w.length):{}}},{key:"getIndex",value:function(w){return w.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(w){return this.scroll.leaf(w)}},{key:"getLine",value:function(w){return this.scroll.line(w)}},{key:"getLines",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof w!="number"?this.scroll.lines(w.index,w.length):this.scroll.lines(w,q)}},{key:"getModule",value:function(w){return this.theme.modules[w]}},{key:"getSelection",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return w&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=vt(w,q),Q=y(J,2);return w=Q[0],q=Q[1],this.editor.getHTML(w,q)}},{key:"getText",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-w,J=vt(w,q),Q=y(J,2);return w=Q[0],q=Q[1],this.editor.getText(w,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(w,q,J){var Q=this,ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:st.sources.API;return G.call(this,function(){return Q.editor.insertEmbed(w,q,J)},ct,w)}},{key:"insertText",value:function(w,q,J,Q,ct){var mt=this,wt,ot=vt(w,0,J,Q,ct),tt=y(ot,4);return w=tt[0],wt=tt[2],ct=tt[3],G.call(this,function(){return mt.editor.insertText(w,q,wt)},ct,w,q.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var w;return(w=this.emitter).off.apply(w,arguments)}},{key:"on",value:function(){var w;return(w=this.emitter).on.apply(w,arguments)}},{key:"once",value:function(){var w;return(w=this.emitter).once.apply(w,arguments)}},{key:"removeFormat",value:function(w,q,J){var Q=this,ct=vt(w,q,J),mt=y(ct,4);return w=mt[0],q=mt[1],J=mt[3],G.call(this,function(){return Q.editor.removeFormat(w,q)},J,w)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(w){var q=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API;return G.call(this,function(){w=new(v())(w);var Q=q.getLength(),ct=q.editor.deleteText(0,Q),mt=q.editor.applyDelta(w),wt=q.editor.deleteText(q.getLength()-1,1);return q.emitter.emit(st.events.CONTENT_SETTED),ct.compose(mt).compose(wt)},J)}},{key:"setSelection",value:function(w,q,J){if(w==null)this.selection.setRange(null,q||st.sources.API);else{var Q=vt(w,q,J),ct=y(Q,4);w=ct[0],q=ct[1],J=ct[3],this.selection.setRange(new x.e(Math.max(0,w),q),J),J!==S.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(w){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API,J=new(v())().insert(w);return this.setContents(J,q)}},{key:"update",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.Z.sources.USER,q=this.scroll.update(w);return this.selection.update(w),q}},{key:"updateContents",value:function(w){var q=this,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.Z.sources.API;return G.call(this,function(){return w=new(v())(w),q.editor.applyDelta(w,J)},J,!0)}}],[{key:"debug",value:function(w){w===!0&&(w="log"),W.Z.level(w)}},{key:"find",value:function(w){return D.Z.get(w)||pt.find(w)}},{key:"import",value:function(w){return this.imports[w]==null&&dt.error("Cannot import ".concat(w,". Are you sure it was registered?")),this.imports[w]}},{key:"register",value:function(w,q){var J=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof w!="string"){var ct=w.attrName||w.blotName;typeof ct=="string"?this.register("formats/".concat(ct),w,q):Object.keys(w).forEach(function(mt){J.register(mt,w[mt],q)})}else this.imports[w]!=null&&!Q&&dt.warn("Overwriting ".concat(w," with"),q),this.imports[w]=q,(w.indexOf("blots/")===0||w.indexOf("formats/")===0)&&q.blotName!=="abstract"&&pt.register(q),typeof q.register=="function"&&q.register(pt)}}]),st}();lt.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:pt,scrollingContainer:null,theme:"default"},lt.events=S.Z.events,lt.sources=S.Z.sources,lt.version="1.6.4",lt.imports={delta:v(),parchment:I,"core/module":N.Z,"core/theme":R.Z};function _t(st,H){if(H=M()({container:st,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},H),!H.theme||H.theme===lt.DEFAULTS.theme)H.theme=R.Z;else if(H.theme=lt.import("themes/".concat(H.theme)),H.theme==null)throw new Error("Invalid theme ".concat(H.theme,". Did you register it?"));var w=_()(H.theme.DEFAULTS);[w,H].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(ct){Q.modules[ct]===!0&&(Q.modules[ct]={})})});var q=Object.keys(w.modules).concat(Object.keys(H.modules)),J=q.reduce(function(Q,ct){var mt=lt.import("modules/".concat(ct));return mt==null?dt.error("Cannot load ".concat(ct," module. Are you sure you registered it?")):Q[ct]=mt.DEFAULTS||{},Q},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=M()({},lt.DEFAULTS,{modules:J},w,H),["bounds","container","scrollingContainer"].forEach(function(Q){typeof H[Q]=="string"&&(H[Q]=document.querySelector(H[Q]))}),H.modules=Object.keys(H.modules).reduce(function(Q,ct){return H.modules[ct]&&(Q[ct]=H.modules[ct]),Q},{}),H}function G(st,H,w,q){if(!this.isEnabled()&&H===S.Z.sources.USER&&!this.allowReadOnlyEdits)return new(v());var J=w==null?null:this.getSelection(),Q=this.editor.delta,ct=st();if(J!=null&&(w===!0&&(w=J.index),q==null?J=rt(J,ct,H):q!==0&&(J=rt(J,w,q,H)),this.setSelection(J,S.Z.sources.SILENT)),ct.length()>0){var mt,wt=[S.Z.events.TEXT_CHANGE,ct,Q,H];if((mt=this.emitter).emit.apply(mt,[S.Z.events.EDITOR_CHANGE].concat(wt)),H!==S.Z.sources.SILENT){var ot;(ot=this.emitter).emit.apply(ot,wt)}}return ct}function vt(st,H,w,q,J){var Q={};return typeof st.index=="number"&&typeof st.length=="number"?typeof H!="number"?(J=q,q=w,w=H,H=st.length,st=st.index):(H=st.length,st=st.index):typeof H!="number"&&(J=q,q=w,w=H,H=0),$(w)==="object"?(Q=w,J=q):typeof w=="string"&&(q!=null?Q[w]=q:J=w),J=J||S.Z.sources.API,[st,H,Q,J]}function rt(st,H,w,q){if(st==null)return null;var J,Q;if(H instanceof v()){var ct=[st.index,st.index+st.length].map(function(tt){return H.transformPosition(tt,q!==S.Z.sources.USER)}),mt=y(ct,2);J=mt[0],Q=mt[1]}else{var wt=[st.index,st.index+st.length].map(function(tt){return tt<H||tt===H&&q===S.Z.sources.USER?tt:w>=0?tt+w:Math.max(H,tt+w)}),ot=y(wt,2);J=ot[0],Q=ot[1]}return new x.e(J,Q-J)}},7800:(h,C,t)=>{t.d(C,{Z:()=>Z,e:()=>j});var p=t(1233),v=t(8805),m=t.n(v),_=t(2722),B=t.n(_),M=t(2069),I=t(3122);function A(ut){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt},A(ut)}function S(ut){return D(ut)||x(ut)||U(ut)||N()}function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(ut){if(typeof Symbol<"u"&&ut[Symbol.iterator]!=null||ut["@@iterator"]!=null)return Array.from(ut)}function D(ut){if(Array.isArray(ut))return $(ut)}function W(ut,dt){return y(ut)||k(ut,dt)||U(ut,dt)||R()}function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(ut,dt){if(ut){if(typeof ut=="string")return $(ut,dt);var pt=Object.prototype.toString.call(ut).slice(8,-1);if(pt==="Object"&&ut.constructor&&(pt=ut.constructor.name),pt==="Map"||pt==="Set")return Array.from(ut);if(pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pt))return $(ut,dt)}}function $(ut,dt){(dt==null||dt>ut.length)&&(dt=ut.length);for(var pt=0,lt=new Array(dt);pt<dt;pt++)lt[pt]=ut[pt];return lt}function k(ut,dt){var pt=ut==null?null:typeof Symbol<"u"&&ut[Symbol.iterator]||ut["@@iterator"];if(pt!=null){var lt,_t,G,vt,rt=[],st=!0,H=!1;try{if(G=(pt=pt.call(ut)).next,dt===0){if(Object(pt)!==pt)return;st=!1}else for(;!(st=(lt=G.call(pt)).done)&&(rt.push(lt.value),rt.length!==dt);st=!0);}catch(w){H=!0,_t=w}finally{try{if(!st&&pt.return!=null&&(vt=pt.return(),Object(vt)!==vt))return}finally{if(H)throw _t}}return rt}}function y(ut){if(Array.isArray(ut))return ut}function E(ut,dt){for(var pt=0;pt<dt.length;pt++){var lt=dt[pt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ut,s(lt.key),lt)}}function a(ut,dt,pt){return dt&&E(ut.prototype,dt),pt&&E(ut,pt),Object.defineProperty(ut,"prototype",{writable:!1}),ut}function s(ut){var dt=c(ut,"string");return A(dt)==="symbol"?dt:String(dt)}function c(ut,dt){if(A(ut)!=="object"||ut===null)return ut;var pt=ut[Symbol.toPrimitive];if(pt!==void 0){var lt=pt.call(ut,dt||"default");if(A(lt)!=="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(dt==="string"?String:Number)(ut)}function O(ut,dt){if(!(ut instanceof dt))throw new TypeError("Cannot call a class as a function")}var L=(0,I.Z)("quill:selection"),j=a(function ut(dt){var pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;O(this,ut),this.index=dt,this.length=pt}),Z=function(){function ut(dt,pt){var lt=this;O(this,ut),this.emitter=pt,this.scroll=dt,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new j(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!lt.mouseDown&&!lt.composing&&setTimeout(lt.update.bind(lt,M.Z.sources.USER),1)}),this.emitter.on(M.Z.events.SCROLL_BEFORE_UPDATE,function(){if(lt.hasFocus()){var _t=lt.getNativeRange();_t!=null&&_t.start.node!==lt.cursor.textNode&&lt.emitter.once(M.Z.events.SCROLL_UPDATE,function(){try{lt.root.contains(_t.start.node)&&lt.root.contains(_t.end.node)&&lt.setNativeRange(_t.start.node,_t.start.offset,_t.end.node,_t.end.offset),lt.update(M.Z.sources.SILENT)}catch{}})}}),this.emitter.on(M.Z.events.SCROLL_OPTIMIZE,function(_t,G){if(G.range){var vt=G.range,rt=vt.startNode,st=vt.startOffset,H=vt.endNode,w=vt.endOffset;lt.setNativeRange(rt,st,H,w),lt.update(M.Z.sources.SILENT)}}),this.update(M.Z.sources.SILENT)}return a(ut,[{key:"handleComposition",value:function(){var pt=this;this.root.addEventListener("compositionstart",function(){pt.composing=!0,pt.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(pt.scroll.batchEnd(),pt.composing=!1,pt.cursor.parent){var lt=pt.cursor.restore();if(!lt)return;setTimeout(function(){pt.setNativeRange(lt.startNode,lt.startOffset,lt.endNode,lt.endOffset)},1)}})}},{key:"handleDragging",value:function(){var pt=this;this.emitter.listenDOM("mousedown",document.body,function(){pt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){pt.mouseDown=!1,pt.update(M.Z.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(pt,lt){this.scroll.update();var _t=this.getNativeRange();if(!(_t==null||!_t.native.collapsed||this.scroll.query(pt,p.Scope.BLOCK))){if(_t.start.node!==this.cursor.textNode){var G=this.scroll.find(_t.start.node,!1);if(G==null)return;if(G instanceof p.LeafBlot){var vt=G.split(_t.start.offset);G.parent.insertBefore(this.cursor,vt)}else G.insertBefore(this.cursor,_t.start.node);this.cursor.attach()}this.cursor.format(pt,lt),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(pt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_t=this.scroll.length();pt=Math.min(pt,_t-1),lt=Math.min(pt+lt,_t-1)-pt;var G,vt=this.scroll.leaf(pt),rt=W(vt,2),st=rt[0],H=rt[1];if(st==null)return null;var w=this.getPositionData(st,H,!0),q=W(w,2);G=q[0],H=q[1];var J=document.createRange();if(lt>0){J.setStart(G,H);var Q=this.scroll.leaf(pt+lt),ct=W(Q,2);if(st=ct[0],H=ct[1],st==null)return null;var mt=this.getPositionData(st,H,!0),wt=W(mt,2);return G=wt[0],H=wt[1],J.setEnd(G,H),J.getBoundingClientRect()}var ot="left",tt;return G instanceof Text?(H<G.data.length?(J.setStart(G,H),J.setEnd(G,H+1)):(J.setStart(G,H-1),J.setEnd(G,H),ot="right"),tt=J.getBoundingClientRect()):(tt=st.domNode.getBoundingClientRect(),H>0&&(ot="right")),{bottom:tt.top+tt.height,height:tt.height,left:tt[ot],right:tt[ot],top:tt.top,width:0}}},{key:"getNativeRange",value:function(){var pt,lt,_t=this.root.getRootNode(),G=(pt=(lt=_t.getSelection)===null||lt===void 0?void 0:lt.call(_t))!==null&&pt!==void 0?pt:document.getSelection();if(G==null||G.rangeCount<=0)return null;var vt=G.getRangeAt(0);if(vt==null)return null;var rt=this.normalizeNative(vt);return L.info("getNativeRange",rt),rt}},{key:"getRange",value:function(){var pt=this.getNativeRange();if(pt==null)return[null,null];var lt=this.normalizedToRange(pt);return[lt,pt]}},{key:"hasFocus",value:function(){var pt=this.root.getRootNode();return pt.activeElement===this.root||et(this.root,pt.activeElement)}},{key:"normalizedToRange",value:function(pt){var lt=this,_t=[[pt.start.node,pt.start.offset]];pt.native.collapsed||_t.push([pt.end.node,pt.end.offset]);var G=_t.map(function(st){var H=W(st,2),w=H[0],q=H[1],J=lt.scroll.find(w,!0),Q=J.offset(lt.scroll);return q===0?Q:J instanceof p.LeafBlot?Q+J.index(w,q):Q+J.length()}),vt=Math.min(Math.max.apply(Math,S(G)),this.scroll.length()-1),rt=Math.min.apply(Math,[vt].concat(S(G)));return new j(rt,vt-rt)}},{key:"normalizeNative",value:function(pt){if(!et(this.root,pt.startContainer)||!pt.collapsed&&!et(this.root,pt.endContainer))return null;var lt={start:{node:pt.startContainer,offset:pt.startOffset},end:{node:pt.endContainer,offset:pt.endOffset},native:pt};return[lt.start,lt.end].forEach(function(_t){for(var G=_t.node,vt=_t.offset;!(G instanceof Text)&&G.childNodes.length>0;)if(G.childNodes.length>vt)G=G.childNodes[vt],vt=0;else if(G.childNodes.length===vt)G=G.lastChild,G instanceof Text?vt=G.data.length:G.childNodes.length>0?vt=G.childNodes.length:vt=G.childNodes.length+1;else break;_t.node=G,_t.offset=vt}),lt}},{key:"rangeToNative",value:function(pt){var lt=this,_t=pt.collapsed?[pt.index]:[pt.index,pt.index+pt.length],G=[],vt=this.scroll.length();return _t.forEach(function(rt,st){rt=Math.min(vt-1,rt);var H=lt.scroll.leaf(rt),w=W(H,2),q=w[0],J=w[1],Q=lt.getPositionData(q,J,st!==0),ct=W(Q,2),mt=ct[0],wt=ct[1];G.push(mt,wt)}),G.length<2?G.concat(G):G}},{key:"getPositionData",value:function(pt,lt,_t){return pt instanceof p.LeafBlot?pt.position(lt,_t):[pt.domNode,lt]}},{key:"scrollIntoView",value:function(pt){var lt=this.lastRange;if(lt!=null){var _t=this.getBounds(lt.index,lt.length);if(_t!=null){var G=this.scroll.length()-1,vt=this.scroll.line(Math.min(lt.index,G)),rt=W(vt,1),st=rt[0],H=st;if(lt.length>0){var w=this.scroll.line(Math.min(lt.index+lt.length,G)),q=W(w,1);H=q[0]}if(!(st==null||H==null)){var J=pt.getBoundingClientRect();_t.top<J.top?pt.scrollTop-=J.top-_t.top:_t.bottom>J.bottom&&(pt.scrollTop+=_t.bottom-J.bottom)}}}}},{key:"setNativeRange",value:function(pt,lt){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pt,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:lt,vt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(L.info("setNativeRange",pt,lt,_t,G),!(pt!=null&&(this.root.parentNode==null||pt.parentNode==null||_t.parentNode==null))){var rt=document.getSelection();if(rt!=null)if(pt!=null){this.hasFocus()||this.root.focus();var st=this.getNativeRange()||{},H=st.native;if(H==null||vt||pt!==H.startContainer||lt!==H.startOffset||_t!==H.endContainer||G!==H.endOffset){pt.tagName==="BR"&&(lt=Array.from(pt.parentNode.childNodes).indexOf(pt),pt=pt.parentNode),_t.tagName==="BR"&&(G=Array.from(_t.parentNode.childNodes).indexOf(_t),_t=_t.parentNode);var w=document.createRange();w.setStart(pt,lt),w.setEnd(_t,G),rt.removeAllRanges(),rt.addRange(w)}}else rt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(pt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.Z.sources.API;if(typeof lt=="string"&&(_t=lt,lt=!1),L.info("setRange",pt),pt!=null){var G=this.rangeToNative(pt);this.setNativeRange.apply(this,S(G).concat([lt]))}else this.setNativeRange(null);this.update(_t)}},{key:"update",value:function(){var pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.Z.sources.USER,lt=this.lastRange,_t=this.getRange(),G=W(_t,2),vt=G[0],rt=G[1];if(this.lastRange=vt,this.lastNative=rt,this.lastRange!=null&&(this.savedRange=this.lastRange),!B()(lt,this.lastRange)){var st;if(!this.composing&&rt!=null&&rt.native.collapsed&&rt.start.node!==this.cursor.textNode){var H=this.cursor.restore();H&&this.setNativeRange(H.startNode,H.startOffset,H.endNode,H.endOffset)}var w=[M.Z.events.SELECTION_CHANGE,m()(this.lastRange),m()(lt),pt];if((st=this.emitter).emit.apply(st,[M.Z.events.EDITOR_CHANGE].concat(w)),pt!==M.Z.sources.SILENT){var q;(q=this.emitter).emit.apply(q,w)}}}}]),ut}();function et(ut,dt){try{dt.parentNode}catch{return!1}return dt instanceof Text&&(dt=dt.parentNode),ut.contains(dt)}},1690:(h,C,t)=>{t.d(C,{Z:()=>A});function p(S){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},p(S)}function v(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function m(S,N){for(var x=0;x<N.length;x++){var D=N[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,B(D.key),D)}}function _(S,N,x){return N&&m(S.prototype,N),x&&m(S,x),Object.defineProperty(S,"prototype",{writable:!1}),S}function B(S){var N=M(S,"string");return p(N)==="symbol"?N:String(N)}function M(S,N){if(p(S)!=="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var D=x.call(S,N||"default");if(p(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(S)}var I=function(){function S(N,x){v(this,S),this.quill=N,this.options=x,this.modules={}}return _(S,[{key:"init",value:function(){var x=this;Object.keys(this.options.modules).forEach(function(D){x.modules[D]==null&&x.addModule(D)})}},{key:"addModule",value:function(x){var D=this.quill.constructor.import("modules/".concat(x));return this.modules[x]=new D(this.quill,this.options.modules[x]||{}),this.modules[x]}}]),S}();I.DEFAULTS={modules:{}},I.themes={default:I};const A=I},715:(h,C,t)=>{t.d(C,{HE:()=>B,dk:()=>_,if:()=>m});var p=t(1233),v={scope:p.Scope.BLOCK,whitelist:["right","center","justify"]},m=new p.Attributor("align","align",v),_=new p.ClassAttributor("align","ql-align",v),B=new p.StyleAttributor("align","text-align",v)},7898:(h,C,t)=>{t.d(C,{Y:()=>m,w:()=>_});var p=t(1233),v=t(6039),m=new p.ClassAttributor("background","ql-bg",{scope:p.Scope.INLINE}),_=new v.OO("background","background-color",{scope:p.Scope.INLINE})},3991:(h,C,t)=>{t.d(C,{Z:()=>y});var p=t(6603);function v(E){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(E)}function m(E,a){if(!(E instanceof a))throw new TypeError("Cannot call a class as a function")}function _(E,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(E,M(c.key),c)}}function B(E,a,s){return a&&_(E.prototype,a),s&&_(E,s),Object.defineProperty(E,"prototype",{writable:!1}),E}function M(E){var a=I(E,"string");return v(a)==="symbol"?a:String(a)}function I(E,a){if(v(E)!=="object"||E===null)return E;var s=E[Symbol.toPrimitive];if(s!==void 0){var c=s.call(E,a||"default");if(v(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(E)}function A(){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get.bind():A=function(a,s,c){var O=S(a,s);if(O){var L=Object.getOwnPropertyDescriptor(O,s);return L.get?L.get.call(arguments.length<3?a:c):L.value}},A.apply(this,arguments)}function S(E,a){for(;!Object.prototype.hasOwnProperty.call(E,a)&&(E=$(E),E!==null););return E}function N(E,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(a&&a.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),a&&x(E,a)}function x(E,a){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,O){return c.__proto__=O,c},x(E,a)}function D(E){var a=U();return function(){var c=$(E),O;if(a){var L=$(this).constructor;O=Reflect.construct(c,arguments,L)}else O=c.apply(this,arguments);return W(this,O)}}function W(E,a){if(a&&(v(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(E)}function R(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(E){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$(E)}var k=function(E){N(s,E);var a=D(s);function s(){return m(this,s),a.apply(this,arguments)}return B(s,[{key:"optimize",value:function(O){A($(s.prototype),"optimize",this).call(this,O),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return A($(s),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),s}(p.Z);k.blotName="bold",k.tagName=["STRONG","B"];const y=k},7309:(h,C,t)=>{t.d(C,{EK:()=>j,ZP:()=>L,se:()=>O});var p=t(6446),v=t(4122),m=t(3657),_=t(6603),B=t(8222),M=t(3553),I=t(281);function A(Z){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},A(Z)}function S(Z,et){if(!(Z instanceof et))throw new TypeError("Cannot call a class as a function")}function N(Z,et){for(var ut=0;ut<et.length;ut++){var dt=et[ut];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Z,D(dt.key),dt)}}function x(Z,et,ut){return et&&N(Z.prototype,et),ut&&N(Z,ut),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function D(Z){var et=W(Z,"string");return A(et)==="symbol"?et:String(et)}function W(Z,et){if(A(Z)!=="object"||Z===null)return Z;var ut=Z[Symbol.toPrimitive];if(ut!==void 0){var dt=ut.call(Z,et||"default");if(A(dt)!=="object")return dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(Z)}function R(){return typeof Reflect<"u"&&Reflect.get?R=Reflect.get.bind():R=function(et,ut,dt){var pt=U(et,ut);if(pt){var lt=Object.getOwnPropertyDescriptor(pt,ut);return lt.get?lt.get.call(arguments.length<3?et:dt):lt.value}},R.apply(this,arguments)}function U(Z,et){for(;!Object.prototype.hasOwnProperty.call(Z,et)&&(Z=c(Z),Z!==null););return Z}function $(Z,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(et&&et.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),et&&k(Z,et)}function k(Z,et){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(dt,pt){return dt.__proto__=pt,dt},k(Z,et)}function y(Z){var et=s();return function(){var dt=c(Z),pt;if(et){var lt=c(this).constructor;pt=Reflect.construct(dt,arguments,lt)}else pt=dt.apply(this,arguments);return E(this,pt)}}function E(Z,et){if(et&&(A(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(Z)}function a(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(Z){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},c(Z)}var O=function(Z){$(ut,Z);var et=y(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return x(ut,[{key:"code",value:function(pt,lt){var _t=this.children.map(function(G){return G.length()<=1?"":G.domNode.textContent}).join(`
`).slice(pt,pt+lt);return(0,B.b)(_t)}},{key:"html",value:function(pt,lt){return`<pre>
`.concat(this.code(pt,lt),`
</pre>`)}}],[{key:"create",value:function(pt){var lt=R(c(ut),"create",this).call(this,pt);return lt.setAttribute("spellcheck",!1),lt}}]),ut}(M.Z),L=function(Z){$(ut,Z);var et=y(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return x(ut,null,[{key:"register",value:function(){I.ZP.register(O)}}]),ut}(p.ZP),j=function(Z){$(ut,Z);var et=y(ut);function ut(){return S(this,ut),et.apply(this,arguments)}return x(ut)}(_.Z);j.blotName="code",j.tagName="CODE",L.blotName="code-block",L.className="ql-code-block",L.tagName="DIV",O.blotName="code-block-container",O.className="ql-code-block-container",O.tagName="DIV",O.allowedChildren=[L],L.allowedChildren=[B.Z,v.Z,m.Z],L.requiredContainer=O,L.TAB="  "},6039:(h,C,t)=>{t.d(C,{HQ:()=>E,Hn:()=>y,OO:()=>k});var p=t(1233);function v(a){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},v(a)}function m(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function _(a,s){for(var c=0;c<s.length;c++){var O=s[c];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,M(O.key),O)}}function B(a,s,c){return s&&_(a.prototype,s),c&&_(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a}function M(a){var s=I(a,"string");return v(s)==="symbol"?s:String(s)}function I(a,s){if(v(a)!=="object"||a===null)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var O=c.call(a,s||"default");if(v(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function A(){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get.bind():A=function(s,c,O){var L=S(s,c);if(L){var j=Object.getOwnPropertyDescriptor(L,c);return j.get?j.get.call(arguments.length<3?s:O):j.value}},A.apply(this,arguments)}function S(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=$(a),a!==null););return a}function N(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&x(a,s)}function x(a,s){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,L){return O.__proto__=L,O},x(a,s)}function D(a){var s=U();return function(){var O=$(a),L;if(s){var j=$(this).constructor;L=Reflect.construct(O,arguments,j)}else L=O.apply(this,arguments);return W(this,L)}}function W(a,s){if(s&&(v(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(a)}function R(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(a){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},$(a)}var k=function(a){N(c,a);var s=D(c);function c(){return m(this,c),s.apply(this,arguments)}return B(c,[{key:"value",value:function(L){var j=A($(c.prototype),"value",this).call(this,L);if(j.indexOf("rgb(")!==0)return j;j=j.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var Z=j.split(",").map(function(et){return"00".concat(parseInt(et,10).toString(16)).slice(-2)}).join("");return"#".concat(Z)}}]),c}(p.StyleAttributor),y=new p.ClassAttributor("color","ql-color",{scope:p.Scope.INLINE}),E=new k("color","color",{scope:p.Scope.INLINE})},4048:(h,C,t)=>{t.d(C,{H8:()=>B,IF:()=>m,hY:()=>_});var p=t(1233),v={scope:p.Scope.BLOCK,whitelist:["rtl"]},m=new p.Attributor("direction","dir",v),_=new p.ClassAttributor("direction","ql-direction",v),B=new p.StyleAttributor("direction","direction",v)},5832:(h,C,t)=>{t.d(C,{H:()=>a,_:()=>y});var p=t(1233);function v(s){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},v(s)}function m(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")}function _(s,c){for(var O=0;O<c.length;O++){var L=c[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(s,M(L.key),L)}}function B(s,c,O){return c&&_(s.prototype,c),O&&_(s,O),Object.defineProperty(s,"prototype",{writable:!1}),s}function M(s){var c=I(s,"string");return v(c)==="symbol"?c:String(c)}function I(s,c){if(v(s)!=="object"||s===null)return s;var O=s[Symbol.toPrimitive];if(O!==void 0){var L=O.call(s,c||"default");if(v(L)!=="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(s)}function A(){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get.bind():A=function(c,O,L){var j=S(c,O);if(j){var Z=Object.getOwnPropertyDescriptor(j,O);return Z.get?Z.get.call(arguments.length<3?c:L):Z.value}},A.apply(this,arguments)}function S(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=$(s),s!==null););return s}function N(s,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&x(s,c)}function x(s,c){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,j){return L.__proto__=j,L},x(s,c)}function D(s){var c=U();return function(){var L=$(s),j;if(c){var Z=$(this).constructor;j=Reflect.construct(L,arguments,Z)}else j=L.apply(this,arguments);return W(this,j)}}function W(s,c){if(c&&(v(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(s)}function R(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(s){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},$(s)}var k={scope:p.Scope.INLINE,whitelist:["serif","monospace"]},y=new p.ClassAttributor("font","ql-font",k),E=function(s){N(O,s);var c=D(O);function O(){return m(this,O),c.apply(this,arguments)}return B(O,[{key:"value",value:function(j){return A($(O.prototype),"value",this).call(this,j).replace(/["']/g,"")}}]),O}(p.StyleAttributor),a=new E("font","font-family",k)},7256:(h,C,t)=>{t.d(C,{N:()=>y,Z:()=>k});var p=t(6603);function v(E){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v(E)}function m(E,a){if(!(E instanceof a))throw new TypeError("Cannot call a class as a function")}function _(E,a){for(var s=0;s<a.length;s++){var c=a[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(E,M(c.key),c)}}function B(E,a,s){return a&&_(E.prototype,a),s&&_(E,s),Object.defineProperty(E,"prototype",{writable:!1}),E}function M(E){var a=I(E,"string");return v(a)==="symbol"?a:String(a)}function I(E,a){if(v(E)!=="object"||E===null)return E;var s=E[Symbol.toPrimitive];if(s!==void 0){var c=s.call(E,a||"default");if(v(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(E)}function A(){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get.bind():A=function(a,s,c){var O=S(a,s);if(O){var L=Object.getOwnPropertyDescriptor(O,s);return L.get?L.get.call(arguments.length<3?a:c):L.value}},A.apply(this,arguments)}function S(E,a){for(;!Object.prototype.hasOwnProperty.call(E,a)&&(E=$(E),E!==null););return E}function N(E,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(a&&a.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),a&&x(E,a)}function x(E,a){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,O){return c.__proto__=O,c},x(E,a)}function D(E){var a=U();return function(){var c=$(E),O;if(a){var L=$(this).constructor;O=Reflect.construct(c,arguments,L)}else O=c.apply(this,arguments);return W(this,O)}}function W(E,a){if(a&&(v(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(E)}function R(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(E){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$(E)}var k=function(E){N(s,E);var a=D(s);function s(){return m(this,s),a.apply(this,arguments)}return B(s,[{key:"format",value:function(O,L){O!==this.statics.blotName||!L?A($(s.prototype),"format",this).call(this,O,L):this.domNode.setAttribute("href",this.constructor.sanitize(L))}}],[{key:"create",value:function(O){var L=A($(s),"create",this).call(this,O);return L.setAttribute("href",this.sanitize(O)),L.setAttribute("rel","noopener noreferrer"),L.setAttribute("target","_blank"),L}},{key:"formats",value:function(O){return O.getAttribute("href")}},{key:"sanitize",value:function(O){return y(O,this.PROTOCOL_WHITELIST)?O:this.SANITIZED_URL}}]),s}(p.Z);k.blotName="link",k.tagName="A",k.SANITIZED_URL="about:blank",k.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(E,a){var s=document.createElement("a");s.href=E;var c=s.href.slice(0,s.href.indexOf(":"));return a.indexOf(c)>-1}},1629:(h,C,t)=>{t.d(C,{Z:()=>m,m:()=>v});var p=t(1233),v=new p.ClassAttributor("size","ql-size",{scope:p.Scope.INLINE,whitelist:["small","large","huge"]}),m=new p.StyleAttributor("size","font-size",{scope:p.Scope.INLINE,whitelist:["10px","18px","32px"]})},1342:(h,C,t)=>{t.d(C,{Du:()=>D,h6:()=>W,kk:()=>x,yA:()=>N});var p=t(6062),v=t(1801),m=t(8252);function _(R){return A(R)||I(R)||M(R)||B()}function B(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(R,U){if(R){if(typeof R=="string")return S(R,U);var $=Object.prototype.toString.call(R).slice(8,-1);if($==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set")return Array.from(R);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return S(R,U)}}function I(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function A(R){if(Array.isArray(R))return S(R)}function S(R,U){(U==null||U>R.length)&&(U=R.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=R[$];return k}var N=m.F1.map(function(R){return(0,p.Z)(m.Pw,R)}),x=m.Mu.map(function(R){return(0,v.Z)(m.Pw,R)}),D=x.reduce(function(R,U){return R[U.attrName]=U,R},{}),W=[].concat(_(N),_(x)).reduce(function(R,U){return R[U.keyName]=U,R},{})},8252:(h,C,t)=>{t.d(C,{F1:()=>v,Mu:()=>m,Pw:()=>p,fU:()=>_});var p={name:"cell",allowedTags:["TH","TD","TR"]},v=["height","width"],m=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],_=new Set([].concat(v,m))},6062:(h,C,t)=>{t.d(C,{Z:()=>I});var p=t(1674),v=t(2141),m=t(3398),_=["name"];function B(A,S){if(A==null)return{};var N=M(A,S),x,D;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(A);for(D=0;D<W.length;D++)x=W[D],!(S.indexOf(x)>=0)&&Object.prototype.propertyIsEnumerable.call(A,x)&&(N[x]=A[x])}return N}function M(A,S){if(A==null)return{};var N={},x=Object.keys(A),D,W;for(W=0;W<x.length;W++)D=x[W],!(S.indexOf(D)>=0)&&(N[D]=A[D]);return N}function I(A,S){var N=A.name,x=B(A,_),D="".concat(N).concat((0,v.Z)(S)),W="".concat(m.WT.attribute).concat(N,"_").concat(S);return new p.Z(D,W,x)}},1801:(h,C,t)=>{t.d(C,{Z:()=>W});var p=t(4569),v=t(2141),m=t(3398),_=["name","formatName"];function B(R,U){return N(R)||S(R,U)||I(R,U)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(R,U){if(R){if(typeof R=="string")return A(R,U);var $=Object.prototype.toString.call(R).slice(8,-1);if($==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set")return Array.from(R);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return A(R,U)}}function A(R,U){(U==null||U>R.length)&&(U=R.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=R[$];return k}function S(R,U){var $=R==null?null:typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if($!=null){var k,y,E,a,s=[],c=!0,O=!1;try{if(E=($=$.call(R)).next,U===0){if(Object($)!==$)return;c=!1}else for(;!(c=(k=E.call($)).done)&&(s.push(k.value),s.length!==U);c=!0);}catch(L){O=!0,y=L}finally{try{if(!c&&$.return!=null&&(a=$.return(),Object(a)!==a))return}finally{if(O)throw y}}return s}}function N(R){if(Array.isArray(R))return R}function x(R,U){if(R==null)return{};var $=D(R,U),k,y;if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(R);for(y=0;y<E.length;y++)k=E[y],!(U.indexOf(k)>=0)&&Object.prototype.propertyIsEnumerable.call(R,k)&&($[k]=R[k])}return $}function D(R,U){if(R==null)return{};var $={},k=Object.keys(R),y,E;for(E=0;E<k.length;E++)y=k[E],!(U.indexOf(y)>=0)&&($[y]=R[y]);return $}function W(R,U){var $=R.name,k=R.formatName,y=x(R,_),E=U.split("-"),a=B(E,2),s=a[0],c=a[1],O="".concat($).concat((0,v.Z)(k??s)).concat(c?(0,v.Z)(c):""),L="".concat(m.WT.style).concat($,"_").concat(U);return new p.Z(O,L,y)}},319:(h,C,t)=>{t.d(C,{Qu:()=>N,VT:()=>x,Zt:()=>W,li:()=>D});var p=t(6062),v=t(1801),m=t(19);function _(R){return A(R)||I(R)||M(R)||B()}function B(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(R,U){if(R){if(typeof R=="string")return S(R,U);var $=Object.prototype.toString.call(R).slice(8,-1);if($==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set")return Array.from(R);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return S(R,U)}}function I(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function A(R){if(Array.isArray(R))return S(R)}function S(R,U){(U==null||U>R.length)&&(U=R.length);for(var $=0,k=new Array(U);$<U;$++)k[$]=R[$];return k}var N=m.N2.map(function(R){return(0,p.Z)(m.Sp,R)}),x=m.GX.map(function(R){return(0,v.Z)(m.Sp,R)}),D=x.reduce(function(R,U){return R[U.attrName]=U,R},{}),W=[].concat(_(N),_(x)).reduce(function(R,U){return R[U.keyName]=U,R},{})},19:(h,C,t)=>{t.d(C,{GX:()=>m,N2:()=>v,Sp:()=>p,bc:()=>_});var p={name:"table",allowedTags:["TABLE"]},v=["height","width"],m=["height","width","text-align","background-color","border","border-style","border-width","border-color"],_=new Set([].concat(v,m))},8536:(h,C,t)=>{t.d(C,{Z:()=>p});function p(){return Math.random().toString(36).slice(2,6)}},1969:(h,C,t)=>{t.d(C,{KA:()=>wt,Lv:()=>it,RM:()=>tt,SC:()=>mt,iD:()=>w,pj:()=>J,xD:()=>gt,xJ:()=>at,xs:()=>Q,zW:()=>H});var p=t(6446),v=t(4122),m=t(3553),_=t(5874),B=t(1342),M=t(319),I=t(8536),A=t(2795);function S(Y){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},S(Y)}function N(Y,T){return W(Y)||D(Y,T)||$(Y,T)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(Y,T){var o=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(o!=null){var i,f,g,V,ht=[],At=!0,Ht=!1;try{if(g=(o=o.call(Y)).next,T===0){if(Object(o)!==o)return;At=!1}else for(;!(At=(i=g.call(o)).done)&&(ht.push(i.value),ht.length!==T);At=!0);}catch(Ft){Ht=!0,f=Ft}finally{try{if(!At&&o.return!=null&&(V=o.return(),Object(V)!==V))return}finally{if(Ht)throw f}}return ht}}function W(Y){if(Array.isArray(Y))return Y}function R(Y){return y(Y)||k(Y)||$(Y)||U()}function U(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(Y,T){if(Y){if(typeof Y=="string")return E(Y,T);var o=Object.prototype.toString.call(Y).slice(8,-1);if(o==="Object"&&Y.constructor&&(o=Y.constructor.name),o==="Map"||o==="Set")return Array.from(Y);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return E(Y,T)}}function k(Y){if(typeof Symbol<"u"&&Y[Symbol.iterator]!=null||Y["@@iterator"]!=null)return Array.from(Y)}function y(Y){if(Array.isArray(Y))return E(Y)}function E(Y,T){(T==null||T>Y.length)&&(T=Y.length);for(var o=0,i=new Array(T);o<T;o++)i[o]=Y[o];return i}function a(Y,T){if(!(Y instanceof T))throw new TypeError("Cannot call a class as a function")}function s(Y,T){for(var o=0;o<T.length;o++){var i=T[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(Y,O(i.key),i)}}function c(Y,T,o){return T&&s(Y.prototype,T),o&&s(Y,o),Object.defineProperty(Y,"prototype",{writable:!1}),Y}function O(Y){var T=L(Y,"string");return S(T)==="symbol"?T:String(T)}function L(Y,T){if(S(Y)!=="object"||Y===null)return Y;var o=Y[Symbol.toPrimitive];if(o!==void 0){var i=o.call(Y,T||"default");if(S(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(Y)}function j(){return typeof Reflect<"u"&&Reflect.get?j=Reflect.get.bind():j=function(T,o,i){var f=Z(T,o);if(f){var g=Object.getOwnPropertyDescriptor(f,o);return g.get?g.get.call(arguments.length<3?T:i):g.value}},j.apply(this,arguments)}function Z(Y,T){for(;!Object.prototype.hasOwnProperty.call(Y,T)&&(Y=G(Y),Y!==null););return Y}function et(Y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(T&&T.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),T&&ut(Y,T)}function ut(Y,T){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,f){return i.__proto__=f,i},ut(Y,T)}function dt(Y){var T=_t();return function(){var i=G(Y),f;if(T){var g=G(this).constructor;f=Reflect.construct(i,arguments,g)}else f=i.apply(this,arguments);return pt(this,f)}}function pt(Y,T){if(T&&(S(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(Y)}function lt(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(Y){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},G(Y)}var vt=["row","cell"],rt="data-table-";function st(Y,T,o){Y.forEachAt(T,o,function(i,f,g){i.deleteAt(f,g)})}var H=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"optimize",value:function(){var f,g=this.domNode.getAttribute("".concat(rt,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var V=this.domNode,ht={row:g};Object.keys(B.Du).forEach(function(Yt){var qt=V.dataset[Yt.toLowerCase()];qt&&(ht[Yt]=qt)}),this.wrap(this.statics.requiredContainer.blotName,ht)}for(var At=arguments.length,Ht=new Array(At),Ft=0;Ft<At;Ft++)Ht[Ft]=arguments[Ft];(f=j(G(o.prototype),"optimize",this)).call.apply(f,[this].concat(Ht))}},{key:"format",value:function(f,g){var V=f==="tableCellLine";V&&g===null&&(g=this.formats().tableCellLine);var ht=vt.indexOf(f)>-1;if(ht||M.li[f]||B.Du[f]){var At="data-".concat(ht?"table-":"").concat(f.toLowerCase());if((0,A.Z)(this.domNode,At,g),B.Du[f]){var Ht;(Ht=this.cell())===null||Ht===void 0||Ht.format(f,g)}if(M.li[f]){var Ft;(Ft=this.cell())===null||Ft===void 0||(Ft=Ft.table())===null||Ft===void 0||Ft.format(f,g)}}else j(G(o.prototype),"format",this).call(this,f,g)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return vt.forEach(function(V){var ht,At=V==="row"?it:ft;g.setAttribute("".concat(rt).concat(V),(ht=f==null?void 0:f[V])!==null&&ht!==void 0?ht:At())}),g}},{key:"formats",value:function(f){return vt.reduce(function(g,V){var ht="".concat(rt).concat(V);return f.hasAttribute(ht)&&(g[V]=f.getAttribute(ht)||void 0),g},{})}}]),o}(p.ZP);H.blotName="tableCellLine",H.className="ql-table-cell-line",H.tagName="P";var w=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o)}(H);w.blotName="tableHeaderCellLine",w.className="ql-table-header-cell-line";var q=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"format",value:function(f,g){var V;(V=B.Du[f])===null||V===void 0||V.add(this.domNode,g)}},{key:"checkMerge",value:function(){if(j(G(o.prototype),"checkMerge",this).call(this)&&this.next.children.head!=null){var f=this.children.head.formats()[this.children.head.statics.blotName],g=this.children.tail.formats()[this.children.tail.statics.blotName],V=this.next.children.head.formats()[this.next.children.head.statics.blotName],ht=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return f.cell===g.cell&&f.cell===V.cell&&f.cell===ht.cell}return!1}},{key:"formats",value:function(){return o.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var f;return(f=this.row())===null||f===void 0?void 0:f.table()}},{key:"optimize",value:function(){var f,g,V=(f=this.domNode.getAttribute("".concat(rt,"row")))!==null&&f!==void 0?f:this.domNode.getAttribute("".concat(rt,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:V});for(var ht=arguments.length,At=new Array(ht),Ht=0;Ht<ht;Ht++)At[Ht]=arguments[Ht];(g=j(G(o.prototype),"optimize",this)).call.apply(g,[this].concat(At))}},{key:"deleteAt",value:function(f,g){st(this.children,f,g)}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return f&&Object.keys(f).forEach(function(V){var ht;(ht=B.Du[V])===null||ht===void 0||ht.add(g,f[V])}),g}},{key:"cellFormats",value:function(f){var g={};if(f.hasAttribute("".concat(rt,"row"))||f.hasAttribute("".concat(rt,"header-row"))){var V;g.row=(V=f.getAttribute("".concat(rt,"row")))!==null&&V!==void 0?V:f.getAttribute("".concat(rt,"header-row"))}return Object.keys(B.Du).forEach(function(ht){var At,Ht=(At=f.firstElementChild)===null||At===void 0?void 0:At.dataset[ht.toLowerCase()];Ht&&(g[ht]=Ht)}),g}}]),o}(m.Z);q.tagName=["TD","TH"];var J=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"format",value:function(f,g){f==="row"?(this.domNode.setAttribute("".concat(rt).concat(f),g),this.children.forEach(function(V){V.format(f,g)})):j(G(o.prototype),"format",this).call(this,f,g)}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f),V="".concat(rt,"row");return f!=null&&f.row&&g.setAttribute(V,f.row),g}}]),o}(q);J.blotName="tableCell",J.className="ql-table-data-cell",J.dataAttribute="".concat(rt,"row"),J.defaultChild=H;var Q=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"format",value:function(f,g){f==="row"?(this.domNode.setAttribute("".concat(rt).concat(f),g),this.children.forEach(function(V){V.format(f,g)})):j(G(o.prototype),"format",this).call(this,f,g)}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f),V="".concat(rt,"header-row");return f&&f.row&&g.setAttribute(V,f.row),g}}]),o}(q);Q.tagName=["TH","TD"],Q.className="ql-table-header-cell",Q.blotName="tableHeaderCell",Q.dataAttribute="".concat(rt,"header-row"),Q.defaultChild=w;var ct=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"checkMerge",value:function(){if(j(G(o.prototype),"checkMerge",this).call(this)&&(0,_.Z)(this.next.children.head)){var f="row",g=this.children.head.formats(),V=this.children.tail.formats(),ht=this.next.children.head.formats(),At=this.next.children.tail.formats();return g[f]===V[f]&&g[f]===ht[f]&&g[f]===At[f]}return!1}},{key:"optimize",value:function(){for(var f,g=this,V=arguments.length,ht=new Array(V),At=0;At<V;At++)ht[At]=arguments[At];(f=j(G(o.prototype),"optimize",this)).call.apply(f,[this].concat(ht));var Ht=this.childFormatName;this.children.forEach(function(Ft){if((0,_.Z)(Ft.next)){var Yt=Ft.formats(),qt=Ft.next.formats();if(Yt[Ht]!==qt[Ht]){var Jt=g.splitAfter(Ft);Jt&&Jt.optimize(),g.prev&&g.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var f;return(f=this.parent)===null||f===void 0?void 0:f.parent}},{key:"formats",value:function(){var f={},g="".concat(rt,"row");return this.domNode.hasAttribute(g)&&(f[g]=this.domNode.getAttribute(g)),f}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return f!=null&&f.row&&g.setAttribute("".concat(rt,"row"),f.row),g}}]),o}(m.Z);ct.tagName="TR";var mt=function(Y){et(o,Y);var T=dt(o);function o(i,f){var g;return a(this,o),g=T.call(this,i,f),g.childFormatName="table",g}return c(o,[{key:"deleteAt",value:function(f,g){st(this.children,f,g)}}]),o}(ct);mt.blotName="tableRow";var wt=function(Y){et(o,Y);var T=dt(o);function o(i,f){var g;return a(this,o),g=T.call(this,i,f),g.childFormatName="tableHeaderCell",g}return c(o)}(ct);wt.blotName="tableHeaderRow";var ot=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"optimize",value:function(){var f;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var g,V=((g=this.children.head.children.head.children)===null||g===void 0||(g=g.head)===null||g===void 0?void 0:g.domNode)||null,ht={};V&&Object.keys(M.li).forEach(function(Yt){var qt=V.dataset[Yt.toLowerCase()];qt&&(ht[Yt]=qt)}),this.wrap(this.statics.requiredContainer.blotName,ht)}for(var At=arguments.length,Ht=new Array(At),Ft=0;Ft<At;Ft++)Ht[Ft]=arguments[Ft];(f=j(G(o.prototype),"optimize",this)).call.apply(f,[this].concat(Ht))}}]),o}(m.Z),tt=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o)}(ot);tt.blotName="tableBody",tt.tagName="TBODY";var gt=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o)}(ot);gt.blotName="tableHeader",gt.tagName="THEAD";var at=function(Y){et(o,Y);var T=dt(o);function o(){return a(this,o),T.apply(this,arguments)}return c(o,[{key:"balanceCells",value:function(){var f=this.descendants(wt),g=this.descendants(mt),V=this.getMaxTableColCount(f,g);this.balanceRows(V,f,Q),this.balanceRows(V,g,J)}},{key:"getMaxTableColCount",value:function(f,g){return Math.max(this.getMaxRowColCount(f),this.getMaxRowColCount(g))}},{key:"getMaxRowColCount",value:function(f){return Math.max.apply(Math,R(f.map(function(g){return g.children.length})))}},{key:"balanceRows",value:function(f,g,V){var ht=this;g.forEach(function(At){new Array(f-At.children.length).fill(0).forEach(function(){var Ht;(0,_.Z)(At.children.head)&&(Ht=V.cellFormats(At.children.head.domNode));var Ft=ht.scroll.create(V.blotName,Ht),Yt=ht.scroll.create(V.allowedChildren[0].blotName,Ht);Ft.appendChild(Yt),At.appendChild(Ft),Ft.optimize()})})}},{key:"cells",value:function(f){return this.rows().map(function(g){return g.children.at(f)})}},{key:"deleteColumn",value:function(f){var g=this;[gt,tt].forEach(function(V){var ht=g.descendants(V),At=N(ht,1),Ht=At[0];!(0,_.Z)(Ht)||!(0,_.Z)(Ht.children.head)||Ht.children.forEach(function(Ft){var Yt=Ft.children.at(f);(0,_.Z)(Yt)&&Yt.remove()})})}},{key:"insertColumn",value:function(f){var g=this;[gt,tt].forEach(function(V){var ht=g.descendants(V),At=N(ht,1),Ht=At[0];if(!(!(0,_.Z)(Ht)||!(0,_.Z)(Ht.children.head))){var Ft=V===gt?Q:J,Yt=V===gt?w:H;Ht.children.forEach(function(qt){var Jt=qt.children.at(f),bt=Yt.formats(qt.children.head.children.head.domNode),Pt=g.scroll.create(Ft.blotName,{row:bt.row}),It=g.scroll.create(Yt.blotName,{row:bt.row}),Mt=g.scroll.create(v.Z.blotName);It.appendChild(Mt),Pt.appendChild(It),qt.insertBefore(Pt,Jt)})}})}},{key:"insertRow",value:function(f){var g=this,V=this.descendants(tt),ht=N(V,1),At=ht[0];if(!(!(0,_.Z)(At)||!(0,_.Z)(At.children.head))){var Ht=it(),Ft=this.scroll.create(mt.blotName,{row:Ht});At.children.head.children.forEach(function(){var qt=g.scroll.create(J.blotName,{row:Ht}),Jt=g.scroll.create(H.blotName,{row:Ht}),bt=g.scroll.create(v.Z.blotName);Jt.appendChild(bt),qt.appendChild(Jt),Ft.appendChild(qt)});var Yt=At.children.at(f);At.insertBefore(Ft,Yt)}}},{key:"insertHeaderRow",value:function(){var f=this,g=this.descendants(gt),V=N(g,1),ht=V[0],At=this.descendants(tt),Ht=N(At,1),Ft=Ht[0];if(!((0,_.Z)(ht)||!(0,_.Z)(Ft)||!(0,_.Z)(Ft.children.head))){var Yt=it(),qt=this.scroll.create(gt.blotName),Jt=this.scroll.create(wt.blotName),bt=this.children.at(0);qt.appendChild(Jt),Ft.children.head.children.forEach(function(){var Pt=f.scroll.create(Q.blotName,{row:Yt}),It=f.scroll.create(w.blotName,{row:Yt}),Mt=f.scroll.create(v.Z.blotName);It.appendChild(Mt),Pt.appendChild(It),Jt.appendChild(Pt),Pt.optimize()}),this.insertBefore(qt,bt)}}},{key:"rows",value:function(){var f=this.children.head;return(0,_.Z)(f)?f.children.map(function(g){return g}):[]}},{key:"formats",value:function(){var f={},g=this.cells()[0].domNode.firstElementChild;return Object.keys(M.li).forEach(function(V){var ht=g==null?void 0:g.dataset[V.toLowerCase()];ht&&(f[V]=ht)}),f}},{key:"format",value:function(f,g){var V=M.li[f];if(V){var ht="data-".concat(f.toLowerCase());this.cells().forEach(function(At){(0,A.Z)(At.children.head.domNode,ht,g)}),V.add(this.domNode,g)}}}],[{key:"create",value:function(f){var g=j(G(o),"create",this).call(this,f);return f&&Object.keys(f).forEach(function(V){var ht;(ht=M.li[V])===null||ht===void 0||ht.add(g,f[V])}),g}}]),o}(m.Z);at.blotName="tableContainer",at.tagName="TABLE",at.allowedChildren=[gt,tt],tt.requiredContainer=at,gt.requiredContainer=at,tt.allowedChildren=[mt],mt.requiredContainer=tt,mt.allowedChildren=[J],J.requiredContainer=mt,H.requiredContainer=J,J.allowedChildren=[H],gt.allowedChildren=[wt],wt.requiredContainer=gt,w.requiredContainer=Q,Q.allowedChildren=[w],wt.allowedChildren=[Q],Q.requiredContainer=wt;function it(){return"row-".concat((0,I.Z)())}function ft(){return"cell-".concat((0,I.Z)())}},2795:(h,C,t)=>{t.d(C,{Z:()=>p});function p(v,m,_){_?v.setAttribute(m,_):v.removeAttribute(m)}},5635:(h,C,t)=>{t.d(C,{HI:()=>gt,PF:()=>at,ZP:()=>tt,fw:()=>T});var p=t(9098),v=t.n(p),m=t(1233),_=t(6446),B=t(281),M=t(3122),I=t(7094),A=t(715),S=t(7898),N=t(7309),x=t(6039),D=t(4048),W=t(5832),R=t(1629),U=t(3071),$=t(2141);function k(bt,Pt){var It=Object.keys(bt);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(bt);Pt&&(Mt=Mt.filter(function(Nt){return Object.getOwnPropertyDescriptor(bt,Nt).enumerable})),It.push.apply(It,Mt)}return It}function y(bt){for(var Pt=1;Pt<arguments.length;Pt++){var It=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?k(Object(It),!0).forEach(function(Mt){a(bt,Mt,It[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(It)):k(Object(It)).forEach(function(Mt){Object.defineProperty(bt,Mt,Object.getOwnPropertyDescriptor(It,Mt))})}return bt}function E(bt){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pt){return typeof Pt}:function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},E(bt)}function a(bt,Pt,It){return Pt=pt(Pt),Pt in bt?Object.defineProperty(bt,Pt,{value:It,enumerable:!0,configurable:!0,writable:!0}):bt[Pt]=It,bt}function s(bt,Pt){return Z(bt)||j(bt,Pt)||O(bt,Pt)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O(bt,Pt){if(bt){if(typeof bt=="string")return L(bt,Pt);var It=Object.prototype.toString.call(bt).slice(8,-1);if(It==="Object"&&bt.constructor&&(It=bt.constructor.name),It==="Map"||It==="Set")return Array.from(bt);if(It==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(It))return L(bt,Pt)}}function L(bt,Pt){(Pt==null||Pt>bt.length)&&(Pt=bt.length);for(var It=0,Mt=new Array(Pt);It<Pt;It++)Mt[It]=bt[It];return Mt}function j(bt,Pt){var It=bt==null?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(It!=null){var Mt,Nt,$t,Dt,Ut=[],Kt=!0,te=!1;try{if($t=(It=It.call(bt)).next,Pt===0){if(Object(It)!==It)return;Kt=!1}else for(;!(Kt=(Mt=$t.call(It)).done)&&(Ut.push(Mt.value),Ut.length!==Pt);Kt=!0);}catch(ae){te=!0,Nt=ae}finally{try{if(!Kt&&It.return!=null&&(Dt=It.return(),Object(Dt)!==Dt))return}finally{if(te)throw Nt}}return Ut}}function Z(bt){if(Array.isArray(bt))return bt}function et(bt,Pt){if(!(bt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function ut(bt,Pt){for(var It=0;It<Pt.length;It++){var Mt=Pt[It];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(bt,pt(Mt.key),Mt)}}function dt(bt,Pt,It){return Pt&&ut(bt.prototype,Pt),It&&ut(bt,It),Object.defineProperty(bt,"prototype",{writable:!1}),bt}function pt(bt){var Pt=lt(bt,"string");return E(Pt)==="symbol"?Pt:String(Pt)}function lt(bt,Pt){if(E(bt)!=="object"||bt===null)return bt;var It=bt[Symbol.toPrimitive];if(It!==void 0){var Mt=It.call(bt,Pt||"default");if(E(Mt)!=="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Pt==="string"?String:Number)(bt)}function _t(bt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),Object.defineProperty(bt,"prototype",{writable:!1}),Pt&&G(bt,Pt)}function G(bt,Pt){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Mt,Nt){return Mt.__proto__=Nt,Mt},G(bt,Pt)}function vt(bt){var Pt=H();return function(){var Mt=w(bt),Nt;if(Pt){var $t=w(this).constructor;Nt=Reflect.construct(Mt,arguments,$t)}else Nt=Mt.apply(this,arguments);return rt(this,Nt)}}function rt(bt,Pt){if(Pt&&(E(Pt)==="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(bt)}function st(bt){if(bt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(bt){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(It){return It.__proto__||Object.getPrototypeOf(It)},w(bt)}var q=(0,M.Z)("quill:clipboard"),J=1,Q=3,ct=[[Q,Jt],[Q,Ft],["br",g],[J,Ft],[J,f],[J,i],[J,Yt],["li",At],["ol, ul",Ht],["pre",V],["b",o.bind(o,"bold")],["i",o.bind(o,"italic")],["strike",o.bind(o,"strike")],["style",ht]],mt=[Jt,Ft],wt=[A.if,D.IF].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),ot=[A.HE,S.w,x.HQ,D.H8,W.H,R.Z].reduce(function(bt,Pt){return bt[Pt.keyName]=Pt,bt},{}),tt=function(bt){_t(It,bt);var Pt=vt(It);function It(Mt,Nt){var $t,Dt;return et(this,It),Dt=Pt.call(this,Mt,Nt),Dt.quill.root.addEventListener("copy",function(Ut){return Dt.onCaptureCopy(Ut,!1)}),Dt.quill.root.addEventListener("cut",function(Ut){return Dt.onCaptureCopy(Ut,!0)}),Dt.quill.root.addEventListener("paste",Dt.onCapturePaste.bind(st(Dt))),Dt.matchers=[],Dt.tableBlots=($t=Nt.tableBlots)!==null&&$t!==void 0?$t:[],Dt.multilineParagraph=!1,ct.concat(Dt.options.matchers).forEach(function(Ut){var Kt=s(Ut,2),te=Kt[0],ae=Kt[1];Dt.addMatcher(te,ae)}),Dt}return dt(It,[{key:"addMatcher",value:function(Nt,$t){this.matchers.push([Nt,$t])}},{key:"addTableBlot",value:function(Nt){this.tableBlots.push(Nt)}},{key:"convert",value:function(Nt){var $t=Nt.html,Dt=Nt.text,Ut=Nt.keepLastNewLine,Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Kt[N.ZP.blotName]?new(v())().insert(Dt,a({},N.ZP.blotName,Kt[N.ZP.blotName])):$t?this.applyMatchers($t,Ut,Kt):this.applyTextMatchers(Dt)}},{key:"applyTextMatchers",value:function(){var Nt=this,$t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if($t.length===0)return new(v());var Dt=this.prepareTextMatching(),Ut=this.quill.root.ownerDocument.createElement("div");Ut.textContent=$t;var Kt=Ut.childNodes[0];return Dt.reduce(function(te,ae){return ae(Kt,te,Nt.quill.scroll)},new(v()))}},{key:"applyMatchers",value:function(Nt,$t){var Dt=this,Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Kt=new DOMParser().parseFromString(Nt,"text/html"),te=Kt.body,ae=new WeakMap,ue=this.prepareMatching(te,ae),pe=s(ue,2),Te=pe[0],yt=pe[1],Tt=T(this.quill.scroll,te,Te,yt,ae,this.multilineParagraph);return!$t&&at(Tt,`
`)&&(Tt.ops[Tt.ops.length-1].attributes==null||Object.values(Ut).some(function(St){return Dt.tableBlots.includes(St)}))?Tt.compose(new(v())().retain(Tt.length()-1).delete(1)):Tt}},{key:"dangerouslyPasteHTML",value:function(Nt,$t){var Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B.ZP.sources.API;if(typeof Nt=="string"){var Ut=this.convert({html:Nt,text:""});this.quill.setContents(Ut,$t),this.quill.setSelection(0,B.ZP.sources.SILENT)}else{var Kt=this.convert({html:$t,text:""});this.quill.updateContents(new(v())().retain(Nt).concat(Kt),Dt),this.quill.setSelection(Nt+Kt.length(),B.ZP.sources.SILENT)}}},{key:"onCaptureCopy",value:function(Nt){var $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Nt.defaultPrevented){if(Nt.clipboardData)Nt.preventDefault();else return;var Dt=this.quill.selection.getRange(),Ut=s(Dt,1),Kt=Ut[0];if(Kt!=null){var te=this.onCopy(Kt,$t),ae=te.html,ue=te.text;Nt.clipboardData.setData("text/plain",ue),Nt.clipboardData.setData("text/html",ae),$t&&(this.raiseCallback("onCut",Nt),(0,U.WQ)({range:Kt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(Nt){if(!(Nt.defaultPrevented||!this.quill.isEnabled())){if(this.raiseCallback("onPaste",Nt),Nt.clipboardData)Nt.preventDefault();else return;var $t=this.quill.getSelection(!0);if($t!=null){var Dt=Nt.clipboardData.getData("text/html"),Ut=Array.from(Nt.clipboardData.files||[]);if(!Dt&&Ut.length>0){this.quill.uploader.upload($t,Ut);return}if(Dt&&Ut.length>0){var Kt=new DOMParser().parseFromString(Dt,"text/html"),te=Kt.body,ae=te.childElementCount===1&&te.firstElementChild.tagName==="IMG";if(ae){this.quill.uploader.upload($t,Ut);return}}var ue=Nt.clipboardData.getData("text/plain");this.onPaste($t,{html:Dt,text:ue,keepLastNewLine:!0})}}}},{key:"raiseCallback",value:function(Nt,$t){var Dt=this.options[Nt];Dt&&typeof Dt=="function"&&Dt($t)}},{key:"onCopy",value:function(Nt){var $t=Nt.index,Dt=Nt.length,Ut=this.quill.getText($t,Dt),Kt=this.quill.getSemanticHTML($t,Dt);return{html:Kt,text:Ut}}},{key:"onPaste",value:function(Nt,$t){var Dt=$t.text,Ut=$t.html,Kt=$t.keepLastNewLine,te=this.quill.getFormat(Nt.index),ae=this.convert({text:Dt,html:Ut,keepLastNewLine:Kt},te);q.log("onPaste",ae,{text:Dt,html:Ut});var ue=new(v())().retain(Nt.index).delete(Nt.length).concat(ae);this.quill.updateContents(ue,B.ZP.sources.USER),this.quill.setSelection(ue.length()-Nt.length,B.ZP.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(Nt,$t){var Dt=[],Ut=[];return this.matchers.forEach(function(Kt){var te=s(Kt,2),ae=te[0],ue=te[1];switch(ae){case Q:Ut.push(ue);break;case J:Dt.push(ue);break;default:Array.from(Nt.querySelectorAll(ae)).forEach(function(pe){if($t.has(pe)){var Te=$t.get(pe);Te.push(ue)}else $t.set(pe,[ue])});break}}),[Dt,Ut]}},{key:"prepareTextMatching",value:function(){var Nt=[qt];return this.matchers.forEach(function($t){var Dt=s($t,2),Ut=Dt[0],Kt=Dt[1];mt.indexOf(Kt)===-1&&Ut===Q&&Nt.push(Kt)}),Nt}}]),It}(I.Z);tt.DEFAULTS={matchers:[]};function gt(bt,Pt,It){return E(Pt)==="object"?Object.keys(Pt).reduce(function(Mt,Nt){return gt(Mt,Nt,Pt[Nt])},bt):bt.reduce(function(Mt,Nt){if(Nt.attributes&&Nt.attributes[Pt])return Mt.push(Nt);var $t=It?a({},Pt,It):{};return Mt.insert(Nt.insert,y(y({},$t),Nt.attributes))},new(v()))}function at(bt,Pt){for(var It="",Mt=bt.ops.length-1;Mt>=0&&It.length<Pt.length;--Mt){var Nt=bt.ops[Mt];if(typeof Nt.insert!="string")break;It=Nt.insert+It}return It.slice(-1*Pt.length)===Pt}function it(bt){return bt.childNodes.length===0?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(bt.tagName.toLowerCase())!==-1}var ft=new WeakMap;function Y(bt){return bt==null?!1:(ft.has(bt)||(bt.tagName==="PRE"?ft.set(bt,!0):ft.set(bt,Y(bt.parentNode))),ft.get(bt))}function T(bt,Pt,It,Mt,Nt,$t){return Pt.nodeType===Pt.TEXT_NODE?Mt.reduce(function(Dt,Ut){return Ut(Pt,Dt,bt)},new(v())):Pt.nodeType===Pt.ELEMENT_NODE?Array.from(Pt.childNodes||[]).reduce(function(Dt,Ut,Kt,te){var ae=T(bt,Ut,It,Mt,Nt,$t),ue=Kt<te.length-1&&te[Kt+1],pe=ue&&ue.nodeType===Pt.ELEMENT_NODE&&["ul","ol"].indexOf(ue.tagName.toLowerCase())>-1;Ut.nodeType===Pt.ELEMENT_NODE&&($t=Ut.tagName.toLowerCase()==="br",ae=It.reduce(function(yt,Tt){return Tt(Ut,yt,bt)},ae),ae=(Nt.get(Ut)||[]).reduce(function(yt,Tt){return Tt(Ut,yt,bt)},ae));var Te=Dt.concat(ae);return $t&&pe&&Te.insert(`
`),Te},new(v())):new(v())}function o(bt,Pt,It){return gt(It,bt,!0)}function i(bt,Pt,It){if(["TD","TH","TR","TABLE"].indexOf(bt.tagName)===-1){var Mt=m.Attributor.keys(bt),Nt=m.ClassAttributor.keys(bt),$t=m.StyleAttributor.keys(bt),Dt={};if(Mt.concat(Nt).concat($t).forEach(function(Ut){var Kt=It.query(Ut,m.Scope.ATTRIBUTE);Kt!=null&&(Dt[Kt.attrName]=Kt.value(bt),Dt[Kt.attrName])||(Kt=wt[Ut],Kt!=null&&(Kt.attrName===Ut||Kt.keyName===Ut)&&(Dt[Kt.attrName]=Kt.value(bt)||void 0),Kt=ot[Ut],Kt!=null&&(Kt.attrName===Ut||Kt.keyName===Ut)&&(Kt=ot[Ut],Dt[Kt.attrName]=Kt.value(bt)||void 0))}),Object.keys(Dt).length>0)return gt(Pt,Dt)}return Pt}function f(bt,Pt,It){var Mt=It.query(bt);if(Mt==null)return Pt;if(Mt.prototype instanceof m.EmbedBlot){var Nt={},$t=Mt.value(bt);if($t!=null)return Nt[Mt.blotName]=$t,new(v())().insert(Nt,Mt.formats(bt,It))}else if(Mt.prototype instanceof m.BlockBlot&&!at(Pt,`
`)&&Pt.insert(`
`),typeof Mt.formats=="function")return gt(Pt,Mt.blotName,Mt.formats(bt,It));return Pt}function g(bt,Pt){return at(Pt,`
`)||Pt.insert(`
`),Pt}function V(bt,Pt,It){var Mt=It.query("code-block"),Nt=Mt?Mt.formats(bt,It):!0;return gt(Pt,"code-block",Nt)}function ht(){return new(v())}function At(bt,Pt,It){var Mt=It.query(bt);if(Mt==null||Mt.blotName!=="list"||!at(Pt,`
`))return Pt;for(var Nt=-1,$t=bt.parentNode;$t!=null;)["OL","UL"].indexOf($t.tagName)!==-1&&(Nt+=1),$t=$t.parentNode;return Nt<=0?Pt:Pt.reduce(function(Dt,Ut){return Ut.attributes&&typeof Ut.attributes.indent=="number"?Dt.push(Ut):Dt.insert(Ut.insert,y({indent:Nt},Ut.attributes||{}))},new(v()))}function Ht(bt,Pt){var It=bt.tagName==="OL"?"ordered":"bullet";return gt(Pt,"list",It)}function Ft(bt,Pt,It){if(!at(Pt,`
`)){if(it(bt))return Pt.insert(`
`);if(Pt.length()>0&&bt.nextSibling)for(var Mt=bt.nextSibling;Mt!=null;){if(it(Mt))return Pt.insert(`
`);var Nt=It.query(Mt);if((Nt==null?void 0:Nt.prototype)instanceof _.i2)return Pt.insert(`
`);Mt=Mt.firstChild}}return Pt}function Yt(bt,Pt){var It={},Mt=bt.style||{};return["height","width"].forEach(function(Nt){var $t=["TD","TH"].indexOf(bt.tagName)!==-1,Dt=bt.tagName==="TABLE";if(($t||Dt)&&Mt[Nt]){var Ut="".concat(Dt?"table":"cell").concat((0,$.Z)(Nt));It[Ut]=Mt[Nt]}}),Mt.fontStyle==="italic"&&(It.italic=!0),Mt.textDecoration.indexOf("underline")!==-1&&(It.underline=!0),Mt.textDecoration.indexOf("line-through")!==-1&&(It.strike=!0),(Mt.fontWeight.indexOf("bold")===0||parseInt(Mt.fontWeight,10)>=700)&&(It.bold=!0),Object.keys(It).length>0&&(Pt=gt(Pt,It)),parseFloat(Mt.textIndent||0)>0?new(v())().insert("	").concat(Pt):Pt}function qt(bt,Pt){var It=bt.data||"";return It=It.replace(/\r\n/g,`
`),Pt.insert(It)}function Jt(bt,Pt){var It=bt.data;if(bt.parentNode.tagName==="O:P")return Pt.insert(It.trim());if(It.trim().length===0&&It.indexOf(`
`)!==-1)return Pt;if(!Y(bt)){var Mt=function($t,Dt){var Ut=Dt.replace(/[^\u00a0]/g,"");return Ut.length<1&&$t?" ":Ut};It=It.replace(/\r\n/g," ").replace(/\n/g," "),It=It.replace(/\s\s+/g,Mt.bind(Mt,!0)),(bt.previousSibling==null&&it(bt.parentNode)||bt.previousSibling!=null&&it(bt.previousSibling))&&(It=It.replace(/^\s+/,Mt.bind(Mt,!1))),(bt.nextSibling==null&&it(bt.parentNode)||bt.nextSibling!=null&&it(bt.nextSibling))&&(It=It.replace(/\s+$/,Mt.bind(Mt,!1)))}return Pt.insert(It)}},2613:(h,C,t)=>{t.d(C,{Z:()=>y});var p=t(1233),v=t(281),m=t(7094),_=t(8034);function B(c){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},B(c)}function M(c,O){if(!(c instanceof O))throw new TypeError("Cannot call a class as a function")}function I(c,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,S(j.key),j)}}function A(c,O,L){return O&&I(c.prototype,O),L&&I(c,L),Object.defineProperty(c,"prototype",{writable:!1}),c}function S(c){var O=N(c,"string");return B(O)==="symbol"?O:String(O)}function N(c,O){if(B(c)!=="object"||c===null)return c;var L=c[Symbol.toPrimitive];if(L!==void 0){var j=L.call(c,O||"default");if(B(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(c)}function x(c,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(O&&O.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),O&&D(c,O)}function D(c,O){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,Z){return j.__proto__=Z,j},D(c,O)}function W(c){var O=$();return function(){var j=k(c),Z;if(O){var et=k(this).constructor;Z=Reflect.construct(j,arguments,et)}else Z=j.apply(this,arguments);return R(this,Z)}}function R(c,O){if(O&&(B(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(c)}function U(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(c){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},k(c)}var y=function(c){x(L,c);var O=W(L);function L(j,Z){var et;return M(this,L),et=O.call(this,j,Z),et.lastRecorded=0,et.ignoreChange=!1,et.clear(),et.quill.on(v.ZP.events.EDITOR_CHANGE,function(ut,dt,pt,lt){ut!==v.ZP.events.TEXT_CHANGE||et.ignoreChange||(!et.options.userOnly||lt===v.ZP.sources.USER?et.record(dt,pt):et.transform(dt))}),et.quill.keyboard.addBinding({key:"z",shortKey:!0},et.undo.bind(U(et))),et.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},et.redo.bind(U(et))),(0,_.Z)()&&/Win/i.test(navigator.platform)&&et.quill.keyboard.addBinding({key:"y",shortKey:!0},et.redo.bind(U(et))),et.quill.root.addEventListener("beforeinput",function(ut){ut.inputType==="historyUndo"?(et.undo(),ut.preventDefault()):ut.inputType==="historyRedo"&&(et.redo(),ut.preventDefault())}),et}return A(L,[{key:"change",value:function(Z,et){if(this.stack[Z].length!==0){var ut=this.stack[Z].pop(),dt=this.quill.getContents(),pt=ut.invert(dt);this.stack[et].push(pt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ut,v.ZP.sources.USER),this.ignoreChange=!1;var lt=s(this.quill.scroll,ut);this.quill.setSelection(lt)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(Z,et){if(Z.ops.length!==0){this.stack.redo=[];var ut=Z.invert(et),dt=Date.now();if(this.lastRecorded+this.options.delay>dt&&this.stack.undo.length>0){var pt=this.stack.undo.pop();ut=ut.compose(pt)}else this.lastRecorded=dt;ut.length()!==0&&(this.stack.undo.push(ut),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(Z){E(this.stack.undo,Z),E(this.stack.redo,Z)}},{key:"undo",value:function(){this.change("undo","redo")}}]),L}(m.Z);y.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(c,O){for(var L=O,j=c.length-1;j>=0;j-=1){var Z=c[j];c[j]=L.transform(Z,!0),L=Z.transform(L),c[j].length()===0&&c.splice(j,1)}}function a(c,O){var L=O.ops[O.ops.length-1];return L==null?!1:L.insert!=null?typeof L.insert=="string"&&L.insert.endsWith(`
`):L.attributes!=null?Object.keys(L.attributes).some(function(j){return c.query(j,p.Scope.BLOCK)!=null}):!1}function s(c,O){var L=O.reduce(function(Z,et){return Z+(et.delete||0)},0),j=O.length()-L;return a(c,O)&&(j-=1),j}},3071:(h,C,t)=>{t.d(C,{ZP:()=>q,WQ:()=>wt});var p=t(8805),v=t.n(p),m=t(2722),_=t.n(m),B=t(9098),M=t.n(B),I=t(1233),A=t(281),S=t(3122),N=t(7094),x=t(8034);function D(ot){var tt=window,gt=tt.innerHeight,at=ot.getBoundingClientRect(),it=at.y,ft=at.bottom;return it<0?!0:ft>=gt?!1:null}function W(ot){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(tt){return typeof tt}:function(tt){return tt&&typeof Symbol=="function"&&tt.constructor===Symbol&&tt!==Symbol.prototype?"symbol":typeof tt},W(ot)}function R(ot,tt){return E(ot)||y(ot,tt)||$(ot,tt)||U()}function U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $(ot,tt){if(ot){if(typeof ot=="string")return k(ot,tt);var gt=Object.prototype.toString.call(ot).slice(8,-1);if(gt==="Object"&&ot.constructor&&(gt=ot.constructor.name),gt==="Map"||gt==="Set")return Array.from(ot);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return k(ot,tt)}}function k(ot,tt){(tt==null||tt>ot.length)&&(tt=ot.length);for(var gt=0,at=new Array(tt);gt<tt;gt++)at[gt]=ot[gt];return at}function y(ot,tt){var gt=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(gt!=null){var at,it,ft,Y,T=[],o=!0,i=!1;try{if(ft=(gt=gt.call(ot)).next,tt===0){if(Object(gt)!==gt)return;o=!1}else for(;!(o=(at=ft.call(gt)).done)&&(T.push(at.value),T.length!==tt);o=!0);}catch(f){i=!0,it=f}finally{try{if(!o&&gt.return!=null&&(Y=gt.return(),Object(Y)!==Y))return}finally{if(i)throw it}}return T}}function E(ot){if(Array.isArray(ot))return ot}function a(ot,tt){var gt=Object.keys(ot);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(ot);tt&&(at=at.filter(function(it){return Object.getOwnPropertyDescriptor(ot,it).enumerable})),gt.push.apply(gt,at)}return gt}function s(ot){for(var tt=1;tt<arguments.length;tt++){var gt=arguments[tt]!=null?arguments[tt]:{};tt%2?a(Object(gt),!0).forEach(function(at){c(ot,at,gt[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(gt)):a(Object(gt)).forEach(function(at){Object.defineProperty(ot,at,Object.getOwnPropertyDescriptor(gt,at))})}return ot}function c(ot,tt,gt){return tt=Z(tt),tt in ot?Object.defineProperty(ot,tt,{value:gt,enumerable:!0,configurable:!0,writable:!0}):ot[tt]=gt,ot}function O(ot,tt){if(!(ot instanceof tt))throw new TypeError("Cannot call a class as a function")}function L(ot,tt){for(var gt=0;gt<tt.length;gt++){var at=tt[gt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(ot,Z(at.key),at)}}function j(ot,tt,gt){return tt&&L(ot.prototype,tt),gt&&L(ot,gt),Object.defineProperty(ot,"prototype",{writable:!1}),ot}function Z(ot){var tt=et(ot,"string");return W(tt)==="symbol"?tt:String(tt)}function et(ot,tt){if(W(ot)!=="object"||ot===null)return ot;var gt=ot[Symbol.toPrimitive];if(gt!==void 0){var at=gt.call(ot,tt||"default");if(W(at)!=="object")return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return(tt==="string"?String:Number)(ot)}function ut(ot,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(tt&&tt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),tt&&dt(ot,tt)}function dt(ot,tt){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,it){return at.__proto__=it,at},dt(ot,tt)}function pt(ot){var tt=G();return function(){var at=vt(ot),it;if(tt){var ft=vt(this).constructor;it=Reflect.construct(at,arguments,ft)}else it=at.apply(this,arguments);return lt(this,it)}}function lt(ot,tt){if(tt&&(W(tt)==="object"||typeof tt=="function"))return tt;if(tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(ot)}function _t(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vt(ot){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)},vt(ot)}var rt=(0,S.Z)("quill:keyboard"),st={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},H={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},w=(0,x.Z)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(ot){ut(gt,ot);var tt=pt(gt);function gt(at,it){var ft;return O(this,gt),ft=tt.call(this,at,it),ft.bindings={},Object.keys(ft.options.bindings).forEach(function(Y){ft.options.bindings[Y]&&ft.addBinding(ft.options.bindings[Y])}),ft.addInternalBindings(),ft.listen(),ft}return j(gt,[{key:"addInternalBindings",value:function(){var it=this;this.quill.once(A.ZP.events.CONTENT_SETTED,function(){it.addBinding({key:"enter",shiftKey:null},it.handleEnter),it.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),(0,x.Z)()&&/Firefox/i.test(navigator.userAgent)?(it.addBinding({key:"backspace"},{collapsed:!0},it.handleBackspace),it.addBinding({key:"del"},{collapsed:!0},it.handleDelete)):(it.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},it.handleBackspace),it.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},it.handleDelete)),it.addBinding({key:"backspace"},{collapsed:!1},it.handleDeleteRange),it.addBinding({key:"del"},{collapsed:!1},it.handleDeleteRange),it.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},it.handleBackspace)})}},{key:"addBinding",value:function(it){var ft=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=mt(it);if(o==null){rt.warn("Attempted to add invalid keyboard binding",o);return}typeof Y=="function"&&(Y={handler:Y}),typeof T=="function"&&(T={handler:T});var i=o.which?"which":"key",f=Array.isArray(o[i])?o[i]:[o[i]];f.forEach(function(g){var V=s(s(s({},o),{},{key:g},Y),T);ft.bindings[V.key]=ft.bindings[V.key]||[],ft.bindings[V.key].push(V)})}},{key:"listen",value:function(){var it=this;this.quill.root.addEventListener("keydown",function(ft){if(!(ft.defaultPrevented||ft.isComposing)){it.raiseOnKeydownCallback(ft);var Y=gt.normalizeKeyName(ft),T=(it.bindings[Y]||[]).concat(it.bindings[ft.which]||[]),o=T.filter(function(Dt){return gt.match(ft,Dt)});if(o.length!==0){var i=it.quill.getSelection();if(!(i==null||!it.quill.hasFocus())){var f=it.quill.getLine(i.index),g=R(f,2),V=g[0],ht=g[1],At=it.quill.getLeaf(i.index),Ht=R(At,2),Ft=Ht[0],Yt=Ht[1],qt=i.length===0?[Ft,Yt]:it.quill.getLeaf(i.index+i.length),Jt=R(qt,2),bt=Jt[0],Pt=Jt[1],It=Ft instanceof I.TextBlot?Ft.value().slice(0,Yt):"",Mt=bt instanceof I.TextBlot?bt.value().slice(Pt):"",Nt={collapsed:i.length===0,empty:i.length===0&&V.length()<=1,format:it.quill.getFormat(i),line:V,offset:ht,prefix:It,suffix:Mt,event:ft},$t=!1;o.some(function(Dt){if(Dt.collapsed!=null&&Dt.collapsed!==Nt.collapsed||Dt.empty!=null&&Dt.empty!==Nt.empty||Dt.offset!=null&&Dt.offset!==Nt.offset)return!1;if(Array.isArray(Dt.format)){if(Dt.format.every(function(te){return Nt.format[te]==null}))return!1}else if(W(Dt.format)==="object"&&!Object.keys(Dt.format).every(function(te){return Dt.format[te]===!0?Nt.format[te]!=null:Dt.format[te]===!1?Nt.format[te]==null:_()(Dt.format[te],Nt.format[te])}))return!1;if(Dt.prefix!=null&&!Dt.prefix.test(Nt.prefix)||Dt.suffix!=null&&!Dt.suffix.test(Nt.suffix))return!1;var Ut=Dt.handler.call(it,i,Nt,Dt),Kt=Ut==null?void 0:Ut.preventAfterAllMatches;return $t=Ut!==!0||Kt,$t&&!Kt}),$t&&ft.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(it){var ft=this.options.onKeydown;ft&&typeof ft=="function"&&ft(it)}},{key:"handleBackspace",value:function(it,ft){var Y=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ft.prefix)?2:1;if(!(it.index===0||this.quill.getLength()<=1)){var T={},o=this.quill.getLine(it.index),i=R(o,1),f=i[0],g=new(M())().retain(it.index-Y).delete(Y);if(ft.offset===0){var V=this.quill.getLine(it.index-1),ht=R(V,1),At=ht[0];if(At){var Ht=At.statics.blotName==="block"&&At.length()<=1,Ft=At.statics.blotName.startsWith("table"),Yt=f.statics.blotName==="block"&&f.length()<=1;if(Ft&&(Yt&&f.remove(),this.quill.setSelection(it.index-1)),!Ht&&!Ft){var qt=f.formats(),Jt=this.quill.getFormat(it.index-1,1);if(T=B.AttributeMap.diff(qt,Jt)||{},Object.keys(T).length>0){var bt=new(M())().retain(it.index+f.length()-2).retain(1,T);g=g.compose(bt)}}}}this.quill.updateContents(g,A.ZP.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(it,ft){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ft.suffix)?2:1;if(!(it.index>=this.quill.getLength()-Y)){var T={},o=this.quill.getLine(it.index),i=R(o,1),f=i[0],g=new(M())().retain(it.index).delete(Y);if(ft.offset>=f.length()-1){var V=this.quill.getLine(it.index+1),ht=R(V,1),At=ht[0];if(At){var Ht=f.formats(),Ft=this.quill.getFormat(it.index,1);T=B.AttributeMap.diff(Ht,Ft)||{},Object.keys(T).length>0&&(g=g.retain(At.length()-1).retain(1,T))}}this.quill.updateContents(g,A.ZP.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(it,ft){this.raiseOnKeydownCallback(ft.event),wt({range:it,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(it,ft){var Y=this,T=Object.keys(ft.format).reduce(function(ht,At){return Y.quill.scroll.query(At,I.Scope.BLOCK)&&!Array.isArray(ft.format[At])&&(ht[At]=ft.format[At]),ht},{}),o=new(M())().retain(it.index).delete(it.length).insert(`
`,T);this.quill.updateContents(o,A.ZP.sources.USER),this.quill.setSelection(it.index+1,A.ZP.sources.SILENT),this.quill.focus();var i=this.quill.getLine(it.index+1),f=R(i,1),g=f[0],V=D(g.domNode);V!==null&&g.domNode.scrollIntoView(V),Object.keys(ft.format).forEach(function(ht){T[ht]==null&&(Array.isArray(ft.format[ht])||ht==="code"||ht==="link"||(Y.raiseOnKeydownCallback(ft.event),Y.quill.format(ht,ft.format[ht],A.ZP.sources.USER)))})}}],[{key:"match",value:function(it,ft){return["altKey","ctrlKey","metaKey","shiftKey"].some(function(Y){return!!ft[Y]!==it[Y]&&ft[Y]!==null})?!1:ft.key===gt.normalizeKeyName(it)||ft.key===it.which}},{key:"normalizeKeyName",value:function(it){var ft=it.key,Y=it.which,T=!!ft,o=T?ft:Y;return o&&(T?o=st[o.toLowerCase()]||o:o=H[o]||String.fromCharCode(o)),o}}]),gt}(N.Z);q.DEFAULTS={bindings:{bold:ct("bold",66),italic:ct("italic",73),underline:ct("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(tt,gt){return gt.collapsed&&gt.offset!==0?!0:(this.quill.format("indent","+1",A.ZP.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(tt,gt){return gt.collapsed&&gt.offset!==0?!0:(this.quill.format("indent","-1",A.ZP.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(tt,gt){gt.format.indent!=null?this.quill.format("indent","-1",A.ZP.sources.USER):gt.format.list!=null&&this.quill.format("list",!1,A.ZP.sources.USER)}},"indent code-block":J(!0),"outdent code-block":J(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(tt){this.quill.deleteText(tt.index-1,1,A.ZP.sources.USER)}},tab:{key:"tab",handler:function(tt,gt){var at=gt.format,it=at.tableCellLine||at.tableHeaderCellLine||at.tableHeaderCell||at.table;if(it)return!0;this.quill.history.cutoff();var ft=new(M())().retain(tt.index).delete(tt.length).insert("	");return this.quill.updateContents(ft,A.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(tt.index+1,A.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,A.ZP.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(tt,gt){var at={list:!1};gt.format.indent&&(at.indent=!1),this.quill.formatLine(tt.index,tt.length,at,A.ZP.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(tt){var gt=this.quill.getLine(tt.index),at=R(gt,2),it=at[0],ft=at[1],Y=s(s({},it.formats()),{},{list:"checked"}),T=new(M())().retain(tt.index).insert(`
`,Y).retain(it.length()-ft-1).retain(1,{list:"unchecked"});this.quill.updateContents(T,A.ZP.sources.USER),this.quill.setSelection(tt.index+1,A.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(tt,gt){var at=this.quill.getLine(tt.index),it=R(at,2),ft=it[0],Y=it[1],T=new(M())().retain(tt.index).insert(`
`,gt.format).retain(ft.length()-Y-1).retain(1,{header:null});this.quill.updateContents(T,A.ZP.sources.USER),this.quill.setSelection(tt.index+1,A.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(tt,gt){if(this.quill.scroll.query("list")==null)return!0;var at=gt.prefix.length,it=this.quill.getLine(tt.index),ft=R(it,2),Y=ft[0],T=ft[1];if(T>at)return!0;var o;switch(gt.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(tt.index," ",A.ZP.sources.USER),this.quill.history.cutoff();var i=new(M())().retain(tt.index-T).delete(at+1).retain(Y.length()-2-T).retain(1,{list:o});return this.raiseOnKeydownCallback(gt.event),this.quill.updateContents(i,A.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(tt.index-at,A.ZP.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(tt){for(var gt=this.quill.getLine(tt.index),at=R(gt,2),it=at[0],ft=at[1],Y=2,T=it;T!=null&&T.length()<=1&&T.formats()["code-block"];)if(T=T.prev,Y-=1,Y<=0){var o=new(M())().retain(tt.index+it.length()-ft-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,A.ZP.sources.USER),this.quill.setSelection(tt.index-1,A.ZP.sources.SILENT),!1}return!0}},"embed left":Q("leftArrow",!1),"embed left shift":Q("leftArrow",!0),"embed right":Q("rightArrow",!1),"embed right shift":Q("rightArrow",!0)}};function J(ot){return{key:"tab",shiftKey:!ot,format:{"code-block":!0},handler:function(gt){var at=this.quill.scroll.query("code-block"),it=gt.length===0?this.quill.getLines(gt.index,1):this.quill.getLines(gt),ft=gt.index,Y=gt.length;it.forEach(function(T,o){ot?(T.insertAt(0,at.TAB),o===0?ft+=at.TAB.length:Y+=at.TAB.length):T.domNode.textContent.indexOf(at.TAB)===0&&(T.deleteAt(0,at.TAB.length),o===0?ft-=at.TAB.length:Y-=at.TAB.length)}),this.quill.update(A.ZP.sources.USER),this.quill.setSelection(ft,Y,A.ZP.sources.SILENT)}}}function Q(ot,tt){var gt=ot==="leftArrow"?"prefix":"suffix";return c(c({key:ot,shiftKey:tt,altKey:null},gt,/^$/),"handler",function(it){var ft=it.index;ot==="rightArrow"&&(ft+=it.length+1);var Y=this.quill.getLeaf(ft),T=R(Y,1),o=T[0];return o instanceof I.EmbedBlot?(ot==="leftArrow"?tt?this.quill.setSelection(it.index-1,it.length+1,A.ZP.sources.USER):this.quill.setSelection(it.index-1,A.ZP.sources.USER):tt?this.quill.setSelection(it.index,it.length+1,A.ZP.sources.USER):this.quill.setSelection(it.index+it.length+1,A.ZP.sources.USER),!1):!0})}function ct(ot,tt){return{key:ot[0],which:tt,shortKey:!0,handler:function(at,it){return this.quill.format(ot,!it.format[ot],A.ZP.sources.USER),{preventAfterAllMatches:!0}}}}function mt(ot){if(typeof ot=="string"||typeof ot=="number")ot={key:ot};else if(W(ot)==="object")ot=v()(ot);else return null;return ot.shortKey&&(ot[w]=ot.shortKey,delete ot.shortKey),ot}function wt(ot){var tt=ot.quill,gt=ot.range,at=tt.getLines(gt),it={};if(at.length>1){var ft=at[0].formats(),Y=at[at.length-1].formats();it=B.AttributeMap.diff(Y,ft)||{}}tt.deleteText(gt,A.ZP.sources.USER),Object.keys(it).length>0&&tt.formatLine(gt.index,1,it,A.ZP.sources.USER),tt.setSelection(gt.index,A.ZP.sources.SILENT)}},9072:(h,C,t)=>{t.d(C,{ZP:()=>J});var p=t(9098),v=t.n(p),m=t(1233),_=t(6603),B=t(281),M=t(7094),I=t(6446),A=t(4122),S=t(3657),N=t(8222),x=t(7309),D=t(5635),W=t(8034);function R(Q){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ct){return typeof ct}:function(ct){return ct&&typeof Symbol=="function"&&ct.constructor===Symbol&&ct!==Symbol.prototype?"symbol":typeof ct},R(Q)}function U(Q,ct,mt){return ct=j(ct),ct in Q?Object.defineProperty(Q,ct,{value:mt,enumerable:!0,configurable:!0,writable:!0}):Q[ct]=mt,Q}function $(Q,ct){return s(Q)||a(Q,ct)||y(Q,ct)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(Q,ct){if(Q){if(typeof Q=="string")return E(Q,ct);var mt=Object.prototype.toString.call(Q).slice(8,-1);if(mt==="Object"&&Q.constructor&&(mt=Q.constructor.name),mt==="Map"||mt==="Set")return Array.from(Q);if(mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return E(Q,ct)}}function E(Q,ct){(ct==null||ct>Q.length)&&(ct=Q.length);for(var mt=0,wt=new Array(ct);mt<ct;mt++)wt[mt]=Q[mt];return wt}function a(Q,ct){var mt=Q==null?null:typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(mt!=null){var wt,ot,tt,gt,at=[],it=!0,ft=!1;try{if(tt=(mt=mt.call(Q)).next,ct===0){if(Object(mt)!==mt)return;it=!1}else for(;!(it=(wt=tt.call(mt)).done)&&(at.push(wt.value),at.length!==ct);it=!0);}catch(Y){ft=!0,ot=Y}finally{try{if(!it&&mt.return!=null&&(gt=mt.return(),Object(gt)!==gt))return}finally{if(ft)throw ot}}return at}}function s(Q){if(Array.isArray(Q))return Q}function c(Q,ct){if(!(Q instanceof ct))throw new TypeError("Cannot call a class as a function")}function O(Q,ct){for(var mt=0;mt<ct.length;mt++){var wt=ct[mt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Q,j(wt.key),wt)}}function L(Q,ct,mt){return ct&&O(Q.prototype,ct),mt&&O(Q,mt),Object.defineProperty(Q,"prototype",{writable:!1}),Q}function j(Q){var ct=Z(Q,"string");return R(ct)==="symbol"?ct:String(ct)}function Z(Q,ct){if(R(Q)!=="object"||Q===null)return Q;var mt=Q[Symbol.toPrimitive];if(mt!==void 0){var wt=mt.call(Q,ct||"default");if(R(wt)!=="object")return wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ct==="string"?String:Number)(Q)}function et(Q,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),ct&&ut(Q,ct)}function ut(Q,ct){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(wt,ot){return wt.__proto__=ot,wt},ut(Q,ct)}function dt(Q){var ct=_t();return function(){var wt=rt(Q),ot;if(ct){var tt=rt(this).constructor;ot=Reflect.construct(wt,arguments,tt)}else ot=wt.apply(this,arguments);return pt(this,ot)}}function pt(Q,ct){if(ct&&(R(ct)==="object"||typeof ct=="function"))return ct;if(ct!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(Q)}function lt(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(){return typeof Reflect<"u"&&Reflect.get?G=Reflect.get.bind():G=function(ct,mt,wt){var ot=vt(ct,mt);if(ot){var tt=Object.getOwnPropertyDescriptor(ot,mt);return tt.get?tt.get.call(arguments.length<3?ct:wt):tt.value}},G.apply(this,arguments)}function vt(Q,ct){for(;!Object.prototype.hasOwnProperty.call(Q,ct)&&(Q=rt(Q),Q!==null););return Q}function rt(Q){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(mt){return mt.__proto__||Object.getPrototypeOf(mt)},rt(Q)}var st=new m.ClassAttributor("code-token","hljs",{scope:m.Scope.INLINE}),H=function(Q){et(mt,Q);var ct=dt(mt);function mt(wt,ot,tt){var gt;return c(this,mt),gt=ct.call(this,wt,ot,tt),st.add(gt.domNode,tt),gt}return L(mt,[{key:"format",value:function(ot,tt){ot!==mt.blotName?G(rt(mt.prototype),"format",this).call(this,ot,tt):tt?st.add(this.domNode,tt):(st.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var ot,tt=arguments.length,gt=new Array(tt),at=0;at<tt;at++)gt[at]=arguments[at];(ot=G(rt(mt.prototype),"optimize",this)).call.apply(ot,[this].concat(gt)),st.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(ot,tt){for(;ot!=null&&ot!==tt.domNode;){if(ot.classList&&ot.classList.contains(x.ZP.className))return G(rt(mt),"formats",this).call(this,ot,tt);ot=ot.parentNode}}}]),mt}(_.Z);H.blotName="code-token",H.className="ql-token";var w=function(Q){et(mt,Q);var ct=dt(mt);function mt(){return c(this,mt),ct.apply(this,arguments)}return L(mt,[{key:"format",value:function(ot,tt){ot===this.statics.blotName&&tt?this.domNode.setAttribute("data-language",tt):G(rt(mt.prototype),"format",this).call(this,ot,tt)}},{key:"replaceWith",value:function(ot,tt){return this.formatAt(0,this.length(),H.blotName,!1),G(rt(mt.prototype),"replaceWith",this).call(this,ot,tt)}}],[{key:"create",value:function(ot){var tt=G(rt(mt),"create",this).call(this,ot);return typeof ot=="string"&&tt.setAttribute("data-language",ot),tt}},{key:"formats",value:function(ot){return ot.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),mt}(x.ZP),q=function(Q){et(mt,Q);var ct=dt(mt);function mt(){return c(this,mt),ct.apply(this,arguments)}return L(mt,[{key:"attach",value:function(){G(rt(mt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(ot,tt){ot===w.blotName&&(this.forceNext=!0,this.children.forEach(function(gt){gt.format(ot,tt)}))}},{key:"formatAt",value:function(ot,tt,gt,at){gt===w.blotName&&(this.forceNext=!0),G(rt(mt.prototype),"formatAt",this).call(this,ot,tt,gt,at)}},{key:"highlight",value:function(ot){var tt=this,gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head!=null){var at=Array.from(this.domNode.childNodes).filter(function(o){return o!==tt.uiNode}),it="".concat(at.map(function(o){return o.textContent}).join(`
`),`
`),ft=w.formats(this.children.head.domNode);if(gt||this.forceNext||this.cachedText!==it){if(it.trim().length>0||this.cachedText==null){var Y=this.children.reduce(function(o,i){return o.concat((0,I.qz)(i,!1))},new(v())),T=ot(it,ft);Y.diff(T).reduce(function(o,i){var f=i.retain,g=i.attributes;return f?(g&&Object.keys(g).forEach(function(V){[w.blotName,H.blotName].indexOf(V)!==-1&&tt.formatAt(o,f,V,g[V])}),o+f):o},0)}this.cachedText=it,this.forceNext=!1}}}},{key:"html",value:function(ot,tt){var gt=this.children.find(ot),at=$(gt,1),it=at[0],ft=it?w.formats(it.domNode):"plain";return'<pre data-language="'.concat(ft,`">
`).concat(this.code(ot,tt),`
</pre>`)}},{key:"optimize",value:function(ot){if(G(rt(mt.prototype),"optimize",this).call(this,ot),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){var tt=w.formats(this.children.head.domNode);tt!==this.uiNode.value&&(this.uiNode.value=tt)}}}]),mt}(x.se);q.allowedChildren=[w],w.requiredContainer=q,w.allowedChildren=[H,S.Z,N.Z,A.Z];var J=function(Q){et(mt,Q);var ct=dt(mt);function mt(wt,ot){var tt;if(c(this,mt),tt=ct.call(this,wt,ot),tt.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return tt.languages=tt.options.languages.reduce(function(gt,at){var it=at.key;return gt[it]=!0,gt},{}),tt.highlightBlot=tt.highlightBlot.bind(lt(tt)),tt.initListener(),tt.initTimer(),tt}return L(mt,[{key:"initListener",value:function(){var ot=this;this.quill.on(B.ZP.events.SCROLL_BLOT_MOUNT,function(tt){if(tt instanceof q){var gt=ot.quill.root.ownerDocument.createElement("select");ot.options.languages.forEach(function(at){var it=at.key,ft=at.label,Y=gt.ownerDocument.createElement("option");Y.textContent=ft,Y.setAttribute("value",it),gt.appendChild(Y)}),gt.addEventListener("change",function(){tt.format(w.blotName,gt.value),ot.quill.root.focus(),ot.highlight(tt,!0)}),tt.uiNode==null&&(tt.attachUI(gt),tt.children.head&&(gt.value=w.formats(tt.children.head.domNode)))}})}},{key:"initTimer",value:function(){var ot=this,tt=null;this.quill.on(B.ZP.events.SCROLL_OPTIMIZE,function(){clearTimeout(tt),tt=setTimeout(function(){ot.highlight(),tt=null},ot.options.interval)})}},{key:"highlight",value:function(){var ot=this,tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.quill.selection.composing){this.quill.update(B.ZP.sources.USER);var at=this.quill.getSelection(),it=tt==null?this.quill.scroll.descendants(q):[tt];it.forEach(function(ft){ft.highlight(ot.highlightBlot,gt)}),this.quill.update(B.ZP.sources.SILENT),at!=null&&this.quill.setSelection(at,B.ZP.sources.SILENT)}}},{key:"highlightBlot",value:function(ot){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(tt=this.languages[tt]?tt:"plain",tt==="plain")return(0,N.b)(ot).split(`
`).reduce(function(at,it,ft){return ft!==0&&at.insert(`
`,U({},x.ZP.blotName,tt)),at.insert(it)},new(v()));var gt=this.quill.root.ownerDocument.createElement("div");return gt.classList.add(x.ZP.className),gt.innerHTML=this.options.hljs.highlight(tt,ot).value,(0,D.fw)(this.quill.scroll,gt,[function(at,it){var ft=st.value(at);return ft?it.compose(new(v())().retain(it.length(),U({},H.blotName,ft))):it}],[function(at,it){return at.data.split(`
`).reduce(function(ft,Y,T){return T!==0&&ft.insert(`
`,U({},x.ZP.blotName,tt)),ft.insert(Y)},it)}],new WeakMap)}}],[{key:"register",value:function(){B.ZP.register(H,!0),B.ZP.register(w,!0),B.ZP.register(q,!0)}}]),mt}(M.Z);J.DEFAULTS={hljs:function(){return(0,W.Z)()?window.hljs:null}(),interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},867:(h,C,t)=>{t.d(C,{Z:()=>w});var p=t(9098),v=t.n(p),m=t(1233),_=t(281),B=t(7094),M=t(1969),I=t(5874),A=t(5635),S=t(9466),N=t(7896),x=t(319),D=t(1342),W=t(2480);function R(q){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},R(q)}function U(q,J,Q){return J=j(J),J in q?Object.defineProperty(q,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):q[J]=Q,q}function $(q,J){return s(q)||a(q,J)||y(q,J)||k()}function k(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(q,J){if(q){if(typeof q=="string")return E(q,J);var Q=Object.prototype.toString.call(q).slice(8,-1);if(Q==="Object"&&q.constructor&&(Q=q.constructor.name),Q==="Map"||Q==="Set")return Array.from(q);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return E(q,J)}}function E(q,J){(J==null||J>q.length)&&(J=q.length);for(var Q=0,ct=new Array(J);Q<J;Q++)ct[Q]=q[Q];return ct}function a(q,J){var Q=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(Q!=null){var ct,mt,wt,ot,tt=[],gt=!0,at=!1;try{if(wt=(Q=Q.call(q)).next,J===0){if(Object(Q)!==Q)return;gt=!1}else for(;!(gt=(ct=wt.call(Q)).done)&&(tt.push(ct.value),tt.length!==J);gt=!0);}catch(it){at=!0,mt=it}finally{try{if(!gt&&Q.return!=null&&(ot=Q.return(),Object(ot)!==ot))return}finally{if(at)throw mt}}return tt}}function s(q){if(Array.isArray(q))return q}function c(q,J){if(!(q instanceof J))throw new TypeError("Cannot call a class as a function")}function O(q,J){for(var Q=0;Q<J.length;Q++){var ct=J[Q];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(q,j(ct.key),ct)}}function L(q,J,Q){return J&&O(q.prototype,J),Q&&O(q,Q),Object.defineProperty(q,"prototype",{writable:!1}),q}function j(q){var J=Z(q,"string");return R(J)==="symbol"?J:String(J)}function Z(q,J){if(R(q)!=="object"||q===null)return q;var Q=q[Symbol.toPrimitive];if(Q!==void 0){var ct=Q.call(q,J||"default");if(R(ct)!=="object")return ct;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(q)}function et(q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(J&&J.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),J&&ut(q,J)}function ut(q,J){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ct,mt){return ct.__proto__=mt,ct},ut(q,J)}function dt(q){var J=_t();return function(){var ct=G(q),mt;if(J){var wt=G(this).constructor;mt=Reflect.construct(ct,arguments,wt)}else mt=ct.apply(this,arguments);return pt(this,mt)}}function pt(q,J){if(J&&(R(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(q)}function lt(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(q){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},G(q)}var vt=[null,null,null,-1],rt=1,st=function(q){et(Q,q);var J=dt(Q);function Q(){var ct;c(this,Q);for(var mt=arguments.length,wt=new Array(mt),ot=0;ot<mt;ot++)wt[ot]=arguments[ot];return ct=J.call.apply(J,[this].concat(wt)),ct.tableBlots=[M.zW.blotName,M.iD.blotName],ct.tableBlots.forEach(function(tt){ct.quill.editor.addImmediateFormat(tt)}),ct.integrateClipboard(),ct.addKeyboardHandlers(),ct.listenBalanceCells(),ct}return L(Q,[{key:"integrateClipboard",value:function(){var mt=this;this.tableBlots.forEach(function(wt){mt.quill.clipboard.addTableBlot(wt)}),this.quill.clipboard.addMatcher("td, th",H),this.quill.clipboard.addMatcher("table",(0,N.F)(x.Zt)),this.quill.clipboard.addMatcher("td, th",(0,N.a)(D.h6))}},{key:"addKeyboardHandlers",value:function(){var mt=this,wt=Q.keyboardBindings;Object.keys(wt).forEach(function(ot){wt[ot]&&mt.quill.keyboard.addBinding(wt[ot])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(M.xJ).forEach(function(mt){mt.balanceCells()})}},{key:"deleteColumn",value:function(){var mt=this.getTable(),wt=$(mt,3),ot=wt[0],tt=wt[2];(0,I.Z)(tt)&&(ot.deleteColumn(tt.cellOffset()),this.quill.update(_.ZP.sources.USER))}},{key:"deleteRow",value:function(){var mt=this.getTable(),wt=$(mt,2),ot=wt[1];(0,I.Z)(ot)&&(ot.remove(),this.quill.update(_.ZP.sources.USER))}},{key:"deleteTable",value:function(){var mt=this.getTable(),wt=$(mt,1),ot=wt[0];if((0,I.Z)(ot)){var tt=ot.offset();ot.remove(),this.quill.update(_.ZP.sources.USER),this.quill.setSelection(tt,_.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,I.Z)(mt))return vt;var wt=this.quill.getLine(mt.index),ot=$(wt,2),tt=ot[0],gt=ot[1];if(!(0,I.Z)(tt)||this.tableBlots.indexOf(tt.statics.blotName)===-1)return vt;var at=tt.parent,it=at.parent,ft=it.parent.parent;return[ft,it,at,gt]}},{key:"insertColumn",value:function(mt){var wt=this.quill.getSelection(),ot=this.getTable(wt),tt=$(ot,3),gt=tt[0],at=tt[1],it=tt[2];if((0,I.Z)(it)){var ft=it.cellOffset();gt.insertColumn(ft+mt),this.quill.update(_.ZP.sources.USER);var Y=at.rowOffset();mt===0&&(Y+=1),this.quill.setSelection(wt.index+Y,wt.length,_.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(mt){var wt=this.quill.getSelection(),ot=this.getTable(wt),tt=$(ot,3),gt=tt[0],at=tt[1],it=tt[2];if((0,I.Z)(it)){var ft=at.rowOffset();gt.insertRow(ft+mt),this.quill.update(_.ZP.sources.USER),mt>0?this.quill.setSelection(wt,_.ZP.sources.SILENT):this.quill.setSelection(wt.index+at.children.length,wt.length,_.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var mt=this.quill.getSelection(),wt=this.getTable(mt),ot=$(wt,3),tt=ot[0],gt=ot[2];(0,I.Z)(gt)&&(tt.insertHeaderRow(),this.quill.update(_.ZP.sources.USER))}},{key:"insertTable",value:function(mt,wt){var ot=this.quill.getSelection();if((0,I.Z)(ot)){var tt=new Array(mt).fill(0).reduce(function(gt){var at=(0,M.Lv)();return new Array(wt).fill(`
`).forEach(function(it){gt.insert(it,{tableCellLine:{row:at,cell:(0,M.Lv)()}})}),gt},new(v())().retain(ot.index));this.quill.updateContents(tt,_.ZP.sources.USER),this.quill.setSelection(ot.index,_.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var mt=this;this.quill.on(_.ZP.events.SCROLL_OPTIMIZE,function(wt){wt.some(function(ot){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(ot.target.tagName)!==-1?(mt.quill.once(_.ZP.events.TEXT_CHANGE,function(tt,gt,at){at===_.ZP.sources.USER&&mt.balanceTables()}),!0):!1})}),this.quill.on(_.ZP.events.CONTENT_SETTED,function(){mt.quill.once(_.ZP.events.TEXT_CHANGE,function(){mt.balanceTables()})})}}],[{key:"register",value:function(){_.ZP.register(M.zW,!0),_.ZP.register(M.iD,!0),_.ZP.register(M.xs,!0),_.ZP.register(M.pj,!0),_.ZP.register(M.KA,!0),_.ZP.register(M.SC,!0),_.ZP.register(M.RM,!0),_.ZP.register(M.xD,!0),_.ZP.register(M.xJ,!0),[x.li,D.Du].forEach(function(mt){Object.keys(mt).forEach(function(wt){_.ZP.register(U({},"formats/".concat(wt),mt[wt]),!0)})})}}]),Q}(B.Z);st.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(J){var Q=this.quill.getLine(J.index),ct=$(Q,1),mt=ct[0];return!(!mt.prev||["tableCellLine","tableHeaderCellLine"].indexOf(mt.prev.statics.blotName)===-1)}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,Q){var ct,mt,wt=this,ot=this.quill.getModule("table");if(ot){var tt=this.quill,gt=ot.getTable(J),at=$(gt,1),it=at[0],ft=((ct=this.quill.selection)===null||ct===void 0?void 0:ct.lastNative.native.endContainer.nodeType)===rt;if(ft){var Y=it.offset();(0,W.Z)({quill:tt,index:Y,table:it});return}if(!((mt=this.quill.selection)!==null&&mt!==void 0&&mt.composing)){J.length>0&&this.quill.scroll.deleteAt(J.index,J.length);var T=Object.keys(Q.format).reduce(function(o,i){return wt.quill.scroll.query(i,m.Scope.BLOCK)&&!Array.isArray(Q.format[i])&&(o[i]=Q.format[i]),o},{});this.quill.insertText(J.index,`
`,T.tableCellLine,_.ZP.sources.USER),this.quill.setSelection(J.index+1,_.ZP.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(o){T[o]==null&&(Array.isArray(Q.format[o])||o!=="link"&&wt.quill.format(o,Q.format[o],_.ZP.sources.USER))})}}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,Q){var ct=Q.event,mt=Q.line,wt=mt.offset(this.quill.scroll);ct.shiftKey?this.quill.setSelection(wt-1,_.ZP.sources.USER):this.quill.setSelection(wt+mt.length(),_.ZP.sources.USER)}},"table down":(0,S.Z)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":(0,S.Z)(!0,["tableCellLine","tableHeaderCellLine"])};function H(q,J){var Q=q.parentNode,ct=Q.parentNode.tagName==="TABLE"?Q.parentNode:Q.parentNode.parentNode,mt=Q.parentNode.tagName==="THEAD"?!0:null,wt=Array.from(ct.querySelectorAll("tr")),ot=Array.from(Q.querySelectorAll("th,td")),tt=wt.indexOf(Q)+1,gt=ot.indexOf(q)+1,at=mt?"tableHeaderCellLine":"tableCellLine";return J.length()===0?(J=new(v())().insert(`
`,U({},at,{row:tt,cell:gt})),J):((0,A.PF)(J,`
`)||J.insert(`
`),(0,A.HI)(J,at,{row:tt,cell:gt}))}const w=st},6054:(h,C,t)=>{t.d(C,{Z:()=>Te});var p=t(9098),v=t.n(p),m=t(281),_=t(7094),B=t(6446),M=t(3553),I=t(5874),A=t(319),S=t(8536),N=t(2795);function x(yt){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tt){return typeof Tt}:function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt},x(yt)}function D(yt,Tt){return U(yt)||R(yt,Tt)||y(yt,Tt)||W()}function W(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(yt,Tt){var St=yt==null?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(St!=null){var Lt,Rt,xt,jt,Zt=[],Xt=!0,ee=!1;try{if(xt=(St=St.call(yt)).next,Tt===0){if(Object(St)!==St)return;Xt=!1}else for(;!(Xt=(Lt=xt.call(St)).done)&&(Zt.push(Lt.value),Zt.length!==Tt);Xt=!0);}catch(re){ee=!0,Rt=re}finally{try{if(!Xt&&St.return!=null&&(jt=St.return(),Object(jt)!==jt))return}finally{if(ee)throw Rt}}return Zt}}function U(yt){if(Array.isArray(yt))return yt}function $(yt){return a(yt)||E(yt)||y(yt)||k()}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(yt,Tt){if(yt){if(typeof yt=="string")return s(yt,Tt);var St=Object.prototype.toString.call(yt).slice(8,-1);if(St==="Object"&&yt.constructor&&(St=yt.constructor.name),St==="Map"||St==="Set")return Array.from(yt);if(St==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(St))return s(yt,Tt)}}function E(yt){if(typeof Symbol<"u"&&yt[Symbol.iterator]!=null||yt["@@iterator"]!=null)return Array.from(yt)}function a(yt){if(Array.isArray(yt))return s(yt)}function s(yt,Tt){(Tt==null||Tt>yt.length)&&(Tt=yt.length);for(var St=0,Lt=new Array(Tt);St<Tt;St++)Lt[St]=yt[St];return Lt}function c(yt,Tt){if(!(yt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function O(yt,Tt){for(var St=0;St<Tt.length;St++){var Lt=Tt[St];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(yt,j(Lt.key),Lt)}}function L(yt,Tt,St){return Tt&&O(yt.prototype,Tt),St&&O(yt,St),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function j(yt){var Tt=Z(yt,"string");return x(Tt)==="symbol"?Tt:String(Tt)}function Z(yt,Tt){if(x(yt)!=="object"||yt===null)return yt;var St=yt[Symbol.toPrimitive];if(St!==void 0){var Lt=St.call(yt,Tt||"default");if(x(Lt)!=="object")return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Tt==="string"?String:Number)(yt)}function et(){return typeof Reflect<"u"&&Reflect.get?et=Reflect.get.bind():et=function(Tt,St,Lt){var Rt=ut(Tt,St);if(Rt){var xt=Object.getOwnPropertyDescriptor(Rt,St);return xt.get?xt.get.call(arguments.length<3?Tt:Lt):xt.value}},et.apply(this,arguments)}function ut(yt,Tt){for(;!Object.prototype.hasOwnProperty.call(yt,Tt)&&(yt=rt(yt),yt!==null););return yt}function dt(yt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(Tt&&Tt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),Object.defineProperty(yt,"prototype",{writable:!1}),Tt&&pt(yt,Tt)}function pt(yt,Tt){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,Rt){return Lt.__proto__=Rt,Lt},pt(yt,Tt)}function lt(yt){var Tt=vt();return function(){var Lt=rt(yt),Rt;if(Tt){var xt=rt(this).constructor;Rt=Reflect.construct(Lt,arguments,xt)}else Rt=Lt.apply(this,arguments);return _t(this,Rt)}}function _t(yt,Tt){if(Tt&&(x(Tt)==="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(yt)}function G(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}function vt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rt(yt){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(St){return St.__proto__||Object.getPrototypeOf(St)},rt(yt)}var st="data-tablelite-",H=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St,[{key:"format",value:function(Rt,xt){if(A.li[Rt]){var jt,Zt="data-".concat(Rt.toLowerCase());(0,N.Z)(this.domNode,Zt,xt),(jt=this.row())===null||jt===void 0||(jt=jt.table())===null||jt===void 0||jt.format(Rt,xt)}else et(rt(St.prototype),"format",this).call(this,Rt,xt)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var Rt;return(Rt=this.row())===null||Rt===void 0?void 0:Rt.table()}}],[{key:"create",value:function(Rt){var xt=et(rt(St),"create",this).call(this),jt=this.dataAttribute;return(0,N.Z)(xt,jt,Rt??gt()),xt}},{key:"formats",value:function(Rt){var xt=this.dataAttribute;if(Rt.hasAttribute(xt))return Rt.getAttribute(xt)}}]),St}(B.ZP);H.tagName=["TD","TH"];var w=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St,[{key:"format",value:function(Rt,xt){Rt===St.blotName&&xt?this.domNode.setAttribute(St.dataAttribute,xt):et(rt(St.prototype),"format",this).call(this,Rt,xt)}}]),St}(H);w.blotName="table",w.dataAttribute="".concat(st,"row");var q=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St,[{key:"format",value:function(Rt,xt){Rt===St.blotName&&xt?this.domNode.setAttribute(St.dataAttribute,xt):et(rt(St.prototype),"format",this).call(this,Rt,xt)}}]),St}(H);q.tagName=["TH","TD"],q.blotName="tableHeaderCell",q.dataAttribute="".concat(st,"header-row");var J=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St,[{key:"checkMerge",value:function(){if(et(rt(St.prototype),"checkMerge",this).call(this)&&(0,I.Z)(this.next.children.head)){var Rt=this.childFormatName,xt=this.children.head.formats(),jt=this.children.tail.formats(),Zt=this.next.children.head.formats(),Xt=this.next.children.tail.formats();return xt[Rt]===jt[Rt]&&xt[Rt]===Zt[Rt]&&xt[Rt]===Xt[Rt]}return!1}},{key:"optimize",value:function(){for(var Rt,xt=this,jt=arguments.length,Zt=new Array(jt),Xt=0;Xt<jt;Xt++)Zt[Xt]=arguments[Xt];(Rt=et(rt(St.prototype),"optimize",this)).call.apply(Rt,[this].concat(Zt));var ee=this.childFormatName;this.children.forEach(function(re){if((0,I.Z)(re.next)){var le=re.formats(),oe=re.next.formats();if(le[ee]!==oe[ee]){var Ee=xt.splitAfter(re);Ee&&Ee.optimize(),xt.prev&&xt.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var Rt;return(Rt=this.parent)===null||Rt===void 0?void 0:Rt.parent}}]),St}(M.Z);J.tagName="TR";var Q=function(yt){dt(St,yt);var Tt=lt(St);function St(Lt,Rt){var xt;return c(this,St),xt=Tt.call(this,Lt,Rt),xt.childFormatName="table",xt}return L(St)}(J);Q.blotName="tableRow";var ct=function(yt){dt(St,yt);var Tt=lt(St);function St(Lt,Rt){var xt;return c(this,St),xt=Tt.call(this,Lt,Rt),xt.childFormatName="tableHeaderCell",xt}return L(St)}(J);ct.blotName="tableHeaderRow";var mt=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St,[{key:"optimize",value:function(){var Rt;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var xt=this.children.head.children.head.domNode,jt={};Object.keys(A.li).forEach(function(re){var le=xt.dataset[re.toLowerCase()];le&&(jt[re]=le)}),this.wrap(this.statics.requiredContainer.blotName,jt)}for(var Zt=arguments.length,Xt=new Array(Zt),ee=0;ee<Zt;ee++)Xt[ee]=arguments[ee];(Rt=et(rt(St.prototype),"optimize",this)).call.apply(Rt,[this].concat(Xt))}}]),St}(M.Z),wt=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St)}(mt);wt.blotName="tableBody",wt.tagName=["TBODY"];var ot=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St)}(mt);ot.blotName="tableHeader",ot.tagName=["THEAD"];var tt=function(yt){dt(St,yt);var Tt=lt(St);function St(){return c(this,St),Tt.apply(this,arguments)}return L(St,[{key:"balanceCells",value:function(){var Rt=this.descendants(ct),xt=this.descendants(Q),jt=this.getMaxTableColCount(Rt,xt);this.balanceRows(jt,Rt,q),this.balanceRows(jt,xt,w)}},{key:"getMaxTableColCount",value:function(Rt,xt){return Math.max(this.getMaxRowColCount(Rt),this.getMaxRowColCount(xt))}},{key:"getMaxRowColCount",value:function(Rt){return Math.max.apply(Math,$(Rt.map(function(xt){return xt.children.length})))}},{key:"balanceRows",value:function(Rt,xt,jt){var Zt=this;xt.forEach(function(Xt){new Array(Rt-Xt.children.length).fill(0).forEach(function(){var ee;(0,I.Z)(Xt.children.head)&&(ee=jt.formats(Xt.children.head.domNode));var re=Zt.scroll.create(jt.blotName,ee);Xt.appendChild(re),re.optimize()})})}},{key:"cells",value:function(Rt){return this.rows().map(function(xt){return xt.children.at(Rt)})}},{key:"deleteColumn",value:function(Rt){var xt=this;[ot,wt].forEach(function(jt){var Zt=xt.descendants(jt),Xt=D(Zt,1),ee=Xt[0];!(0,I.Z)(ee)||!(0,I.Z)(ee.children.head)||ee.children.forEach(function(re){var le=re.children.at(Rt);(0,I.Z)(le)&&le.remove()})})}},{key:"insertColumn",value:function(Rt){var xt=this;[ot,wt].forEach(function(jt){var Zt=xt.descendants(jt),Xt=D(Zt,1),ee=Xt[0];if(!(!(0,I.Z)(ee)||!(0,I.Z)(ee.children.head))){var re=jt===ot?q:w;ee.children.forEach(function(le){var oe=le.children.at(Rt),Ee=re.formats(le.children.head.domNode),qe=xt.scroll.create(re.blotName,Ee);le.insertBefore(qe,oe)})}})}},{key:"insertRow",value:function(Rt){var xt=this,jt=this.descendants(wt),Zt=D(jt,1),Xt=Zt[0];if(!(!(0,I.Z)(Xt)||!(0,I.Z)(Xt.children.head))){var ee=gt(),re=this.scroll.create(Q.blotName);Xt.children.head.children.forEach(function(){var oe=xt.scroll.create(w.blotName,ee);re.appendChild(oe)});var le=Xt.children.at(Rt);Xt.insertBefore(re,le)}}},{key:"insertHeaderRow",value:function(){var Rt=this,xt=this.descendants(ot),jt=D(xt,1),Zt=jt[0],Xt=this.descendants(wt),ee=D(Xt,1),re=ee[0];if(!((0,I.Z)(Zt)||!(0,I.Z)(re)||!(0,I.Z)(re.children.head))){var le=gt(),oe=this.scroll.create(ot.blotName),Ee=this.scroll.create(ct.blotName),qe=this.children.at(0);oe.appendChild(Ee),re.children.head.children.forEach(function(){var Xe=Rt.scroll.create(q.blotName,le);Ee.appendChild(Xe),Xe.optimize()}),this.insertBefore(oe,qe)}}},{key:"rows",value:function(){var Rt=this.children.head;return(0,I.Z)(Rt)?Rt.children.map(function(xt){return xt}):[]}},{key:"formats",value:function(){var Rt={},xt=this.cells()[0].domNode;return Object.keys(A.li).forEach(function(jt){var Zt=xt.dataset[jt.toLowerCase()];Zt&&(Rt[jt]=Zt)}),Rt}},{key:"format",value:function(Rt,xt){var jt=A.li[Rt];if(jt){var Zt="data-".concat(Rt.toLowerCase());this.cells().forEach(function(Xt){(0,N.Z)(Xt.domNode,Zt,xt)}),jt.add(this.domNode,xt)}}}],[{key:"create",value:function(Rt){var xt=et(rt(St),"create",this).call(this,Rt);return Rt&&Object.keys(Rt).forEach(function(jt){var Zt;(Zt=A.li[jt])===null||Zt===void 0||Zt.add(xt,Rt[jt])}),xt}}]),St}(M.Z);tt.blotName="tableContainer",tt.tagName="TABLE",tt.allowedChildren=[ot,wt],wt.requiredContainer=tt,ot.requiredContainer=tt,wt.allowedChildren=[Q],Q.requiredContainer=wt,Q.allowedChildren=[w],w.requiredContainer=Q,ot.allowedChildren=[ct],ct.requiredContainer=ot,ct.allowedChildren=[q],q.requiredContainer=ct;function gt(){return"row-".concat((0,S.Z)())}var at=t(5635),it=t(9466);function ft(yt){var Tt=yt.quill,St=yt.index,Lt=yt.range,Rt=St-1,xt=new(v())().retain(Rt).insert(`
`);Tt.updateContents(xt,m.ZP.sources.USER),Tt.setSelection(Lt.index+1,Lt.length,m.ZP.sources.SILENT)}var Y=t(2480);function T(yt,Tt,St){return yt.prev==null&&yt.next==null?Tt.prev==null&&Tt.next==null?St===0?-1:1:Tt.prev==null?-1:1:yt.prev==null?-1:yt.next==null?1:null}var o=t(7896),i=t(1342);function f(yt){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Tt){return typeof Tt}:function(Tt){return Tt&&typeof Symbol=="function"&&Tt.constructor===Symbol&&Tt!==Symbol.prototype?"symbol":typeof Tt},f(yt)}function g(yt,Tt,St){return Tt=Pt(Tt),Tt in yt?Object.defineProperty(yt,Tt,{value:St,enumerable:!0,configurable:!0,writable:!0}):yt[Tt]=St,yt}function V(yt,Tt){return Yt(yt)||Ft(yt,Tt)||At(yt,Tt)||ht()}function ht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function At(yt,Tt){if(yt){if(typeof yt=="string")return Ht(yt,Tt);var St=Object.prototype.toString.call(yt).slice(8,-1);if(St==="Object"&&yt.constructor&&(St=yt.constructor.name),St==="Map"||St==="Set")return Array.from(yt);if(St==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(St))return Ht(yt,Tt)}}function Ht(yt,Tt){(Tt==null||Tt>yt.length)&&(Tt=yt.length);for(var St=0,Lt=new Array(Tt);St<Tt;St++)Lt[St]=yt[St];return Lt}function Ft(yt,Tt){var St=yt==null?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(St!=null){var Lt,Rt,xt,jt,Zt=[],Xt=!0,ee=!1;try{if(xt=(St=St.call(yt)).next,Tt===0){if(Object(St)!==St)return;Xt=!1}else for(;!(Xt=(Lt=xt.call(St)).done)&&(Zt.push(Lt.value),Zt.length!==Tt);Xt=!0);}catch(re){ee=!0,Rt=re}finally{try{if(!Xt&&St.return!=null&&(jt=St.return(),Object(jt)!==jt))return}finally{if(ee)throw Rt}}return Zt}}function Yt(yt){if(Array.isArray(yt))return yt}function qt(yt,Tt){if(!(yt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function Jt(yt,Tt){for(var St=0;St<Tt.length;St++){var Lt=Tt[St];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(yt,Pt(Lt.key),Lt)}}function bt(yt,Tt,St){return Tt&&Jt(yt.prototype,Tt),St&&Jt(yt,St),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function Pt(yt){var Tt=It(yt,"string");return f(Tt)==="symbol"?Tt:String(Tt)}function It(yt,Tt){if(f(yt)!=="object"||yt===null)return yt;var St=yt[Symbol.toPrimitive];if(St!==void 0){var Lt=St.call(yt,Tt||"default");if(f(Lt)!=="object")return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Tt==="string"?String:Number)(yt)}function Mt(yt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(Tt&&Tt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),Object.defineProperty(yt,"prototype",{writable:!1}),Tt&&Nt(yt,Tt)}function Nt(yt,Tt){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,Rt){return Lt.__proto__=Rt,Lt},Nt(yt,Tt)}function $t(yt){var Tt=Kt();return function(){var Lt=te(yt),Rt;if(Tt){var xt=te(this).constructor;Rt=Reflect.construct(Lt,arguments,xt)}else Rt=Lt.apply(this,arguments);return Dt(this,Rt)}}function Dt(yt,Tt){if(Tt&&(f(Tt)==="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ut(yt)}function Ut(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}function Kt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(yt){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(St){return St.__proto__||Object.getPrototypeOf(St)},te(yt)}var ae=[null,null,null,-1],ue=function(yt){Mt(St,yt);var Tt=$t(St);function St(){var Lt;qt(this,St);for(var Rt=arguments.length,xt=new Array(Rt),jt=0;jt<Rt;jt++)xt[jt]=arguments[jt];return Lt=Tt.call.apply(Tt,[this].concat(xt)),Lt.tableBlots=[w.blotName,q.blotName],Lt.tableBlots.forEach(function(Zt){Lt.quill.editor.addImmediateFormat(Zt)}),Lt.integrateClipboard(),Lt.addKeyboardHandlers(),Lt.listenBalanceCells(),Lt}return bt(St,[{key:"integrateClipboard",value:function(){var Rt=this;this.tableBlots.forEach(function(xt){return Rt.quill.clipboard.addTableBlot(xt)}),this.quill.clipboard.addMatcher("tr",pe),this.quill.clipboard.addMatcher("table",(0,o.F)(A.Zt)),this.quill.clipboard.addMatcher("td, th",(0,o.a)(i.h6))}},{key:"addKeyboardHandlers",value:function(){var Rt=this,xt=St.keyboardBindings;Object.keys(xt).forEach(function(jt){xt[jt]&&Rt.quill.keyboard.addBinding(xt[jt])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(tt).forEach(function(Rt){Rt.balanceCells()})}},{key:"deleteColumn",value:function(){var Rt=this.getTable(),xt=V(Rt,3),jt=xt[0],Zt=xt[2];(0,I.Z)(Zt)&&(jt.deleteColumn(Zt.cellOffset()),this.quill.update(m.ZP.sources.USER))}},{key:"deleteRow",value:function(){var Rt=this.getTable(),xt=V(Rt,2),jt=xt[1];(0,I.Z)(jt)&&(jt.remove(),this.quill.update(m.ZP.sources.USER))}},{key:"deleteTable",value:function(){var Rt=this.getTable(),xt=V(Rt,1),jt=xt[0];if((0,I.Z)(jt)){var Zt=jt.offset();jt.remove(),this.quill.update(m.ZP.sources.USER),this.quill.setSelection(Zt,m.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(!(0,I.Z)(Rt))return ae;var xt=this.quill.getLine(Rt.index),jt=V(xt,2),Zt=jt[0],Xt=jt[1];if(!(0,I.Z)(Zt)||this.tableBlots.indexOf(Zt.statics.blotName)===-1)return ae;var ee=Zt.parent,re=ee.parent.parent;return[re,ee,Zt,Xt]}},{key:"insertColumn",value:function(Rt){var xt=this.quill.getSelection(),jt=this.getTable(xt),Zt=V(jt,3),Xt=Zt[0],ee=Zt[1],re=Zt[2];if((0,I.Z)(re)){var le=re.cellOffset();Xt.insertColumn(le+Rt),this.quill.update(m.ZP.sources.USER);var oe=ee.rowOffset();Rt===0&&(oe+=1),this.quill.setSelection(xt.index+oe,xt.length,m.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(Rt){var xt=this.quill.getSelection(),jt=this.getTable(xt),Zt=V(jt,3),Xt=Zt[0],ee=Zt[1],re=Zt[2];if((0,I.Z)(re)){var le=ee.rowOffset();Xt.insertRow(le+Rt),this.quill.update(m.ZP.sources.USER),Rt>0?this.quill.setSelection(xt,m.ZP.sources.SILENT):this.quill.setSelection(xt.index+ee.children.length,xt.length,m.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var Rt=this.quill.getSelection(),xt=this.getTable(Rt),jt=V(xt,3),Zt=jt[0],Xt=jt[2];(0,I.Z)(Xt)&&(Zt.insertHeaderRow(),this.quill.update(m.ZP.sources.USER))}},{key:"insertTable",value:function(Rt,xt){var jt=this.quill.getSelection();if((0,I.Z)(jt)){var Zt=new Array(Rt).fill(0).reduce(function(Xt){var ee=new Array(xt).fill(`
`).join("");return Xt.insert(ee,{table:gt()})},new(v())().retain(jt.index));this.quill.updateContents(Zt,m.ZP.sources.USER),this.quill.setSelection(jt.index,m.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var Rt=this;this.quill.on(m.ZP.events.SCROLL_OPTIMIZE,function(xt){xt.some(function(jt){return["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(jt.target.tagName)!==-1?(Rt.quill.once(m.ZP.events.TEXT_CHANGE,function(Zt,Xt,ee){ee===m.ZP.sources.USER&&Rt.balanceTables()}),!0):!1})}),this.quill.on(m.ZP.events.CONTENT_SETTED,function(){Rt.quill.once(m.ZP.events.TEXT_CHANGE,function(){Rt.balanceTables()})})}}],[{key:"register",value:function(){m.ZP.register(q,!0),m.ZP.register(w,!0),m.ZP.register(ct,!0),m.ZP.register(Q,!0),m.ZP.register(wt,!0),m.ZP.register(ot,!0),m.ZP.register(tt,!0),[A.li,i.Du].forEach(function(Rt){Object.keys(Rt).forEach(function(xt){m.ZP.register(g({},"formats/".concat(xt),Rt[xt]),!0)})})}}]),St}(_.Z);ue.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(Tt){var St=this.quill.getModule("table");if(St){var Lt=this.quill,Rt=St.getTable(Tt),xt=V(Rt,4),jt=xt[0],Zt=xt[1],Xt=xt[2],ee=xt[3],re=T(Zt,Xt,ee),le=jt.children.length>1&&jt.children.head;if(re==null||re<0&&le)return;var oe=jt.offset();re<0?ft({quill:Lt,index:oe,range:Tt}):(0,Y.Z)({quill:Lt,index:oe,table:jt})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(Tt){var St=this.quill.getModule("table");if(St){var Lt=this.quill,Rt=St.getTable(Tt),xt=V(Rt,4),jt=xt[0],Zt=xt[1],Xt=xt[2],ee=xt[3],re=T(Zt,Xt,ee);if(re==null)return;var le=jt.offset(),oe=jt.children.length>1&&jt.children.tail;re<0||re>0&&oe?ft({quill:Lt,index:le,range:Tt}):(0,Y.Z)({quill:Lt,index:le,table:jt})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(Tt,St){var Lt=St.event,Rt=St.line,xt=Rt.offset(this.quill.scroll);Lt.shiftKey?this.quill.setSelection(xt-1,m.ZP.sources.USER):this.quill.setSelection(xt+Rt.length(),m.ZP.sources.USER)}},"table down":(0,it.Z)(!1,["table","tableHeaderCell"]),"table up":(0,it.Z)(!0,["table","tableHeaderCell"])};function pe(yt,Tt){var St=yt.parentNode.tagName==="TABLE"?yt.parentNode:yt.parentNode.parentNode,Lt=yt.parentNode.tagName==="THEAD"?!0:null,Rt=Array.from(St.querySelectorAll("tr")),xt=Rt.indexOf(yt)+1;return(0,at.HI)(Tt,Lt?"tableHeaderCell":"table",xt)}const Te=ue},2480:(h,C,t)=>{t.d(C,{Z:()=>_});var p=t(9098),v=t.n(p),m=t(281);function _(B){var M=B.quill,I=B.index,A=B.table,S=I+A.length(),N=new(v())().retain(S).insert(`
`);M.updateContents(N,m.ZP.sources.USER),M.setSelection(S,m.ZP.sources.USER)}},9466:(h,C,t)=>{t.d(C,{Z:()=>v});var p=t(281);function v(m,_){return{key:m?"upArrow":"downArrow",collapsed:!0,format:_,handler:function(M,I){var A=m?"prev":"next",S=I.line,N=S.statics.blotName.indexOf("Line")>-1?S.parent:S,x=N.parent.parent[A],D=N.parent[A]||(x==null?void 0:x.children.head);if(D!=null){if(D.statics.blotName==="tableRow"||D.statics.blotName==="tableHeaderRow"){for(var W=D.children.head,R=N;R.prev!=null;)R=R.prev,W=W.next;var U=W.offset(this.quill.scroll)+Math.min(I.offset,W.length()-1);this.quill.setSelection(U,0,p.ZP.sources.USER)}}else{var $=N.table()[A];$!=null&&(m?this.quill.setSelection($.offset(this.quill.scroll)+$.length()-1,0,p.ZP.sources.USER):this.quill.setSelection($.offset(this.quill.scroll),0,p.ZP.sources.USER))}return!1}}}},7896:(h,C,t)=>{t.d(C,{F:()=>W,a:()=>R});var p=t(1233),v=t(1674),m=t(4569),_=t(5635);function B(U){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},B(U)}function M(U,$){var k=Object.keys(U);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(U);$&&(y=y.filter(function(E){return Object.getOwnPropertyDescriptor(U,E).enumerable})),k.push.apply(k,y)}return k}function I(U){for(var $=1;$<arguments.length;$++){var k=arguments[$]!=null?arguments[$]:{};$%2?M(Object(k),!0).forEach(function(y){A(U,y,k[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(k)):M(Object(k)).forEach(function(y){Object.defineProperty(U,y,Object.getOwnPropertyDescriptor(k,y))})}return U}function A(U,$,k){return $=S($),$ in U?Object.defineProperty(U,$,{value:k,enumerable:!0,configurable:!0,writable:!0}):U[$]=k,U}function S(U){var $=N(U,"string");return B($)==="symbol"?$:String($)}function N(U,$){if(B(U)!=="object"||U===null)return U;var k=U[Symbol.toPrimitive];if(k!==void 0){var y=k.call(U,$||"default");if(B(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(U)}function x(U,$,k,y){U[$]=!y&&U[$]?U[$]:k}function D(U,$,k,y,E,a){return U.filter(function(s){return!!s}).forEach(function(s){var c=k.query(s,p.Scope.ATTRIBUTE);if(c!==null){var O=c.value($);if(O){x(E,c.attrName,O,a);return}}var L=y[s];if(L!=null&&(L.attrName===s||L.keyName===s)){var j=L.value($)||void 0;x(E,L.attrName,j,a)}}),E}function W(U){return function($,k,y){var E=v.Z.keys($),a=m.Z.keys($),s=I(I({},D(E,$,y,U,{},!0)),D(a,$,y,U,{},!0));return Object.keys(s).length>0?(0,_.HI)(k,s):k}}function R(U){return function($,k,y){var E,a=v.Z.keys($),s=m.Z.keys($),c=((E=$.parentNode)===null||E===void 0?void 0:E.tagName)==="TR"?$.parentNode:void 0,O=I(I({},D(a,$,y,U,{},!0)),D(s,$,y,U,{},!0));if(c){var L=m.Z.keys(c);O=D(L,c,y,U,O,!1)}return Object.keys(O).length>0?(0,_.HI)(k,O):k}}},3859:(h,C,t)=>{t.d(C,{Z:()=>s});var p=t(9098),v=t.n(p),m=t(2069),_=t(7094),B=t(8034);function M(c){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},M(c)}function I(c,O,L){return O=x(O),O in c?Object.defineProperty(c,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):c[O]=L,c}function A(c,O){if(!(c instanceof O))throw new TypeError("Cannot call a class as a function")}function S(c,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,x(j.key),j)}}function N(c,O,L){return O&&S(c.prototype,O),L&&S(c,L),Object.defineProperty(c,"prototype",{writable:!1}),c}function x(c){var O=D(c,"string");return M(O)==="symbol"?O:String(O)}function D(c,O){if(M(c)!=="object"||c===null)return c;var L=c[Symbol.toPrimitive];if(L!==void 0){var j=L.call(c,O||"default");if(M(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(c)}function W(c,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(O&&O.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),O&&R(c,O)}function R(c,O){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,Z){return j.__proto__=Z,j},R(c,O)}function U(c){var O=y();return function(){var j=E(c),Z;if(O){var et=E(this).constructor;Z=Reflect.construct(j,arguments,et)}else Z=j.apply(this,arguments);return $(this,Z)}}function $(c,O){if(O&&(M(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(c)}function k(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(c){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},E(c)}var a=function(c){W(L,c);var O=U(L);function L(j,Z){var et;return A(this,L),et=O.call(this,j,Z),et.preventImageUploading(!1),et.addDragOverHandler(),et.addDropHandler(),et}return N(L,[{key:"addDragOverHandler",value:function(){if((0,B.Z)()){var Z=window.navigator.userAgent.toLowerCase(),et=Z.indexOf("msie ")!==-1||Z.indexOf("trident/")!==-1||Z.indexOf("edge/")!==-1;et&&this.quill.root.addEventListener("dragover",function(ut){ut.preventDefault()})}}},{key:"addDropHandler",value:function(){var Z=this;this.quill.root.addEventListener("drop",function(et){var ut=et.dataTransfer.files.length===0,dt=Z.options.onDrop;if(dt&&typeof dt=="function"&&dt(et),!(ut||Z.preventImageUpload)){et.preventDefault();var pt;if(document.caretRangeFromPoint)pt=document.caretRangeFromPoint(et.clientX,et.clientY);else if(document.caretPositionFromPoint){var lt=document.caretPositionFromPoint(et.clientX,et.clientY);pt=document.createRange(),pt.setStart(lt.offsetNode,lt.offset),pt.setEnd(lt.offsetNode,lt.offset)}else return;var _t=Z.quill.selection.normalizeNative(pt),G=Z.quill.selection.normalizedToRange(_t);Z.upload(G,et.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(Z){return typeof Z<"u"&&(this.preventImageUpload=Z),this.preventImageUpload}},{key:"upload",value:function(Z,et,ut){var dt=this;if(!(this.preventImageUpload&&!ut)){var pt=[];Array.from(et).forEach(function(lt){lt&&dt.options.mimetypes.indexOf(lt.type)!==-1&&pt.push(lt)}),pt.length>0&&this.options.handler.call(this,Z,pt,this.options.imageBlot)}}}]),L}(_.Z);a.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(O,L,j){var Z=this,et=L.map(function(ut){return new Promise(function(dt){var pt=new FileReader;pt.onload=function(lt){dt(lt.target.result)},pt.readAsDataURL(ut)})});Promise.all(et).then(function(ut){var dt=ut.reduce(function(pt,lt){return pt.insert(I({},j,lt))},new(v())().retain(O.index).delete(O.length));Z.quill.updateContents(dt,m.Z.sources.USER),Z.quill.setSelection(O.index+ut.length,m.Z.sources.SILENT)})}};const s=a},2141:(h,C,t)=>{t.d(C,{Z:()=>p});function p(v){return v?v.substring(0,1).toUpperCase()+v.substring(1):""}},8034:(h,C,t)=>{t.d(C,{Z:()=>v});var p=function(){return typeof window<"u"};const v=p},5874:(h,C,t)=>{t.d(C,{Z:()=>p});function p(v){return v!=null}},1233:(h,C,t)=>{t.r(C),t.d(C,{Attributor:()=>O,AttributorStore:()=>G,BlockBlot:()=>J,ClassAttributor:()=>et,ContainerBlot:()=>y,EmbedBlot:()=>mt,InlineBlot:()=>H,LeafBlot:()=>s,ParentBlot:()=>U,Registry:()=>S,Scope:()=>v,ScrollBlot:()=>at,StyleAttributor:()=>lt,TextBlot:()=>Y});var p;(function(T){T[T.TYPE=3]="TYPE",T[T.LEVEL=12]="LEVEL",T[T.ATTRIBUTE=13]="ATTRIBUTE",T[T.BLOT=14]="BLOT",T[T.INLINE=7]="INLINE",T[T.BLOCK=11]="BLOCK",T[T.BLOCK_BLOT=10]="BLOCK_BLOT",T[T.INLINE_BLOT=6]="INLINE_BLOT",T[T.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",T[T.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",T[T.ANY=15]="ANY"})(p||(p={}));const v=p;var m=function(){function T(){this.head=null,this.tail=null,this.length=0}return T.prototype.append=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(this.insertBefore(o[0],null),o.length>1){var f=o.slice(1);this.append.apply(this,f)}},T.prototype.at=function(o){for(var i=this.iterator(),f=i();f&&o>0;)o-=1,f=i();return f},T.prototype.contains=function(o){for(var i=this.iterator(),f=i();f;){if(f===o)return!0;f=i()}return!1},T.prototype.indexOf=function(o){for(var i=this.iterator(),f=i(),g=0;f;){if(f===o)return g;g+=1,f=i()}return-1},T.prototype.insertBefore=function(o,i){o!=null&&(this.remove(o),o.next=i,i!=null?(o.prev=i.prev,i.prev!=null&&(i.prev.next=o),i.prev=o,i===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},T.prototype.offset=function(o){for(var i=0,f=this.head;f!=null;){if(f===o)return i;i+=f.length(),f=f.next}return-1},T.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},T.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var i=o;return o!=null&&(o=o.next),i}},T.prototype.find=function(o,i){i===void 0&&(i=!1);for(var f=this.iterator(),g=f();g;){var V=g.length();if(o<V||i&&o===V&&(g.next==null||g.next.length()!==0))return[g,o];o-=V,g=f()}return[null,0]},T.prototype.forEach=function(o){for(var i=this.iterator(),f=i();f;)o(f),f=i()},T.prototype.forEachAt=function(o,i,f){if(!(i<=0))for(var g=this.find(o),V=g[0],ht=g[1],At=o-ht,Ht=this.iterator(V),Ft=Ht();Ft&&At<o+i;){var Yt=Ft.length();o>At?f(Ft,o-At,Math.min(i,At+Yt-o)):f(Ft,0,Math.min(Yt,o+i-At)),At+=Yt,Ft=Ht()}},T.prototype.map=function(o){return this.reduce(function(i,f){return i.push(o(f)),i},[])},T.prototype.reduce=function(o,i){for(var f=this.iterator(),g=f();g;)i=o(i,g),g=f();return i},T}();const _=m;var B=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),M=function(T){B(o,T);function o(i){var f=this;return i="[Parchment] "+i,f=T.call(this,i)||this,f.message=i,f.name=f.constructor.name,f}return o}(Error);const I=M;var A=function(){function T(){this.attributes={},this.classes={},this.tags={},this.types={}}return T.find=function(o,i){if(i===void 0&&(i=!1),o==null)return null;if(this.blots.has(o))return this.blots.get(o)||null;if(i){var f=null;try{f=o.parentNode}catch{return null}return this.find(f,i)}return null},T.prototype.create=function(o,i,f){var g=this.query(i);if(g==null)throw new I("Unable to create ".concat(i," blot"));var V=g,ht=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:V.create(f),At=new V(o,ht,f);return T.blots.set(At.domNode,At),At},T.prototype.find=function(o,i){return i===void 0&&(i=!1),T.find(o,i)},T.prototype.query=function(o,i){var f=this;i===void 0&&(i=v.ANY);var g;if(typeof o=="string")g=this.types[o]||this.attributes[o];else if(o instanceof Text||o.nodeType===Node.TEXT_NODE)g=this.types.text;else if(typeof o=="number")o&v.LEVEL&v.BLOCK?g=this.types.block:o&v.LEVEL&v.INLINE&&(g=this.types.inline);else if(o instanceof Element){var V=(o.getAttribute("class")||"").split(/\s+/);V.some(function(ht){return g=f.classes[ht],!!g}),g=g||this.tags[o.tagName]}return g==null?null:i&v.LEVEL&g.scope&&i&v.TYPE&g.scope?g:null},T.prototype.register=function(){for(var o=this,i=[],f=0;f<arguments.length;f++)i[f]=arguments[f];if(i.length>1)return i.map(function(ht){return o.register(ht)});var g=i[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new I("Invalid definition");if(g.blotName==="abstract")throw new I("Cannot register abstract class");if(this.types[g.blotName||g.attrName]=g,typeof g.keyName=="string")this.attributes[g.keyName]=g;else if(g.className!=null&&(this.classes[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(ht){return ht.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var V=Array.isArray(g.tagName)?g.tagName:[g.tagName];V.forEach(function(ht){(o.tags[ht]==null||g.className==null)&&(o.tags[ht]=g)})}return g},T.blots=new WeakMap,T}();const S=A;var N=function(){function T(o,i){this.scroll=o,this.domNode=i,S.blots.set(i,this),this.prev=null,this.next=null}return T.create=function(o){if(this.tagName==null)throw new I("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o,10).toString()===o&&(o=parseInt(o,10))),typeof o=="number"?i=document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?i=document.createElement(o):i=document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},Object.defineProperty(T.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),T.prototype.attach=function(){},T.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return this.scroll.create(o)},T.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),S.blots.delete(this.domNode)},T.prototype.deleteAt=function(o,i){var f=this.isolate(o,i);f.remove()},T.prototype.formatAt=function(o,i,f,g){var V=this.isolate(o,i);if(this.scroll.query(f,v.BLOT)!=null&&g)V.wrap(f,g);else if(this.scroll.query(f,v.ATTRIBUTE)!=null){var ht=this.scroll.create(this.statics.scope);V.wrap(ht),ht.format(f,g)}},T.prototype.insertAt=function(o,i,f){var g=f==null?this.scroll.create("text",i):this.scroll.create(i,f),V=this.split(o);this.parent.insertBefore(g,V||void 0)},T.prototype.isolate=function(o,i){var f=this.split(o);if(f==null)throw new Error("Attempt to isolate at end");return f.split(i),f},T.prototype.length=function(){return 1},T.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this===o?0:this.parent.children.offset(this)+this.parent.offset(o)},T.prototype.optimize=function(o){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},T.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},T.prototype.replaceWith=function(o,i){var f=typeof o=="string"?this.scroll.create(o,i):o;return this.parent!=null&&(this.parent.insertBefore(f,this.next||void 0),this.remove()),f},T.prototype.split=function(o,i){return o===0?this:this.next},T.prototype.update=function(o,i){},T.prototype.wrap=function(o,i){var f=typeof o=="string"?this.scroll.create(o,i):o;if(this.parent!=null&&this.parent.insertBefore(f,this.next||void 0),typeof f.appendChild!="function")throw new I("Cannot wrap ".concat(o));return f.appendChild(this),f},T.blotName="abstract",T}();const x=N;var D=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function W(T,o){var i=o.find(T);if(i==null)try{i=o.create(T)}catch{i=o.create(v.INLINE),Array.from(T.childNodes).forEach(function(g){i.domNode.appendChild(g)}),T.parentNode&&T.parentNode.replaceChild(i.domNode,T),i.attach()}return i}var R=function(T){D(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.uiNode=null,g.build(),g}return o.prototype.appendChild=function(i){this.insertBefore(i)},o.prototype.attach=function(){T.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},o.prototype.attachUI=function(i){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=i,o.uiClass&&this.uiNode.classList.add(o.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},o.prototype.build=function(){var i=this;this.children=new _,Array.from(this.domNode.childNodes).filter(function(f){return f!==i.uiNode}).reverse().forEach(function(f){try{var g=W(f,i.scroll);i.insertBefore(g,i.children.head||void 0)}catch(V){if(V instanceof I)return;throw V}})},o.prototype.deleteAt=function(i,f){if(i===0&&f===this.length())return this.remove();this.children.forEachAt(i,f,function(g,V,ht){g.deleteAt(V,ht)})},o.prototype.descendant=function(i,f){f===void 0&&(f=0);var g=this.children.find(f),V=g[0],ht=g[1];return i.blotName==null&&i(V)||i.blotName!=null&&V instanceof i?[V,ht]:V instanceof o?V.descendant(i,ht):[null,-1]},o.prototype.descendants=function(i,f,g){f===void 0&&(f=0),g===void 0&&(g=Number.MAX_VALUE);var V=[],ht=g;return this.children.forEachAt(f,g,function(At,Ht,Ft){(i.blotName==null&&i(At)||i.blotName!=null&&At instanceof i)&&V.push(At),At instanceof o&&(V=V.concat(At.descendants(i,Ht,ht))),ht-=Ft}),V},o.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),T.prototype.detach.call(this)},o.prototype.enforceAllowedChildren=function(){var i=this,f=!1;this.children.forEach(function(g){if(!f){var V=i.statics.allowedChildren.some(function(ht){return g instanceof ht});V||(g.statics.scope===v.BLOCK_BLOT?(g.next!=null&&i.splitAfter(g),g.prev!=null&&i.splitAfter(g.prev),g.parent.unwrap(),f=!0):g instanceof o?g.unwrap():g.remove())}})},o.prototype.formatAt=function(i,f,g,V){this.children.forEachAt(i,f,function(ht,At,Ht){ht.formatAt(At,Ht,g,V)})},o.prototype.insertAt=function(i,f,g){var V=this.children.find(i),ht=V[0],At=V[1];if(ht)ht.insertAt(At,f,g);else{var Ht=g==null?this.scroll.create("text",f):this.scroll.create(f,g);this.appendChild(Ht)}},o.prototype.insertBefore=function(i,f){i.parent!=null&&i.parent.children.remove(i);var g=null;this.children.insertBefore(i,f||null),i.parent=this,f!=null&&(g=f.domNode),(this.domNode.parentNode!==i.domNode||this.domNode.nextSibling!==g)&&this.domNode.insertBefore(i.domNode,g),i.attach()},o.prototype.length=function(){return this.children.reduce(function(i,f){return i+f.length()},0)},o.prototype.moveChildren=function(i,f){this.children.forEach(function(g){i.insertBefore(g,f)})},o.prototype.optimize=function(i){if(T.prototype.optimize.call(this,i),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){var f=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(f)}else this.remove()},o.prototype.path=function(i,f){f===void 0&&(f=!1);var g=this.children.find(i,f),V=g[0],ht=g[1],At=[[this,i]];return V instanceof o?At.concat(V.path(ht,f)):(V!=null&&At.push([V,ht]),At)},o.prototype.removeChild=function(i){this.children.remove(i)},o.prototype.replaceWith=function(i,f){var g=typeof i=="string"?this.scroll.create(i,f):i;return g instanceof o&&this.moveChildren(g),T.prototype.replaceWith.call(this,g)},o.prototype.split=function(i,f){if(f===void 0&&(f=!1),!f){if(i===0)return this;if(i===this.length())return this.next}var g=this.clone();return this.parent&&this.parent.insertBefore(g,this.next||void 0),this.children.forEachAt(i,this.length(),function(V,ht,At){var Ht=V.split(ht,f);Ht!=null&&g.appendChild(Ht)}),g},o.prototype.splitAfter=function(i){for(var f=this.clone();i.next!=null;)f.appendChild(i.next);return this.parent&&this.parent.insertBefore(f,this.next||void 0),f},o.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},o.prototype.update=function(i,f){var g=this,V=[],ht=[];i.forEach(function(At){At.target===g.domNode&&At.type==="childList"&&(V.push.apply(V,At.addedNodes),ht.push.apply(ht,At.removedNodes))}),ht.forEach(function(At){if(!(At.parentNode!=null&&At.tagName!=="IFRAME"&&document.body.compareDocumentPosition(At)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Ht=g.scroll.find(At);Ht!=null&&(Ht.domNode.parentNode==null||Ht.domNode.parentNode===g.domNode)&&Ht.detach()}}),V.filter(function(At){return At.parentNode===g.domNode||At===g.uiNode}).sort(function(At,Ht){return At===Ht?0:At.compareDocumentPosition(Ht)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(At){var Ht=null;At.nextSibling!=null&&(Ht=g.scroll.find(At.nextSibling));var Ft=W(At,g.scroll);(Ft.next!==Ht||Ft.next==null)&&(Ft.parent!=null&&Ft.parent.removeChild(g),g.insertBefore(Ft,Ht||void 0))}),this.enforceAllowedChildren()},o.uiClass="",o}(x);const U=R;var $=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),k=function(T){$(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.prototype.checkMerge=function(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName},o.prototype.deleteAt=function(i,f){T.prototype.deleteAt.call(this,i,f),this.enforceAllowedChildren()},o.prototype.formatAt=function(i,f,g,V){T.prototype.formatAt.call(this,i,f,g,V),this.enforceAllowedChildren()},o.prototype.insertAt=function(i,f,g){T.prototype.insertAt.call(this,i,f,g),this.enforceAllowedChildren()},o.prototype.optimize=function(i){T.prototype.optimize.call(this,i),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},o.blotName="container",o.scope=v.BLOCK_BLOT,o}(U);const y=k;var E=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),a=function(T){E(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.value=function(i){return!0},o.prototype.index=function(i,f){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},o.prototype.position=function(i,f){var g=Array.from(this.parent.domNode.childNodes),V=g.indexOf(this.domNode);return i>0&&(V+=1),[this.parent.domNode,V]},o.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},o.scope=v.INLINE_BLOT,o}(x);const s=a;var c=function(){function T(o,i,f){f===void 0&&(f={}),this.attrName=o,this.keyName=i;var g=v.TYPE&v.ATTRIBUTE;this.scope=f.scope!=null?f.scope&v.LEVEL|g:v.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return T.keys=function(o){return Array.from(o.attributes).map(function(i){return i.name})},T.prototype.add=function(o,i){return this.canAdd(o,i)?(o.setAttribute(this.keyName,i),!0):!1},T.prototype.canAdd=function(o,i){return this.whitelist==null?!0:typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1},T.prototype.remove=function(o){o.removeAttribute(this.keyName)},T.prototype.value=function(o){var i=o.getAttribute(this.keyName);return this.canAdd(o,i)&&i?i:""},T}();const O=c;var L=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function j(T,o){var i=T.getAttribute("class")||"";return i.split(/\s+/).filter(function(f){return f.indexOf("".concat(o,"-"))===0})}var Z=function(T){L(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},o.prototype.add=function(i,f){return this.canAdd(i,f)?(this.remove(i),i.classList.add("".concat(this.keyName,"-").concat(f)),!0):!1},o.prototype.remove=function(i){var f=j(i,this.keyName);f.forEach(function(g){i.classList.remove(g)}),i.classList.length===0&&i.removeAttribute("class")},o.prototype.value=function(i){var f=j(i,this.keyName)[0]||"",g=f.slice(this.keyName.length+1);return this.canAdd(i,g)?g:""},o}(O);const et=Z;var ut=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function dt(T){var o=T.split("-"),i=o.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return o[0]+i}var pt=function(T){ut(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(f){var g=f.split(":");return g[0].trim()})},o.prototype.add=function(i,f){return this.canAdd(i,f)?(i.style[dt(this.keyName)]=f,!0):!1},o.prototype.remove=function(i){i.style[dt(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},o.prototype.value=function(i){var f=i.style[dt(this.keyName)];return this.canAdd(i,f)?f:""},o}(O);const lt=pt;var _t=function(){function T(o){this.attributes={},this.domNode=o,this.build()}return T.prototype.attribute=function(o,i){i?o.add(this.domNode,i)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},T.prototype.build=function(){var o=this;this.attributes={};var i=S.find(this.domNode);if(i!=null){var f=O.keys(this.domNode),g=et.keys(this.domNode),V=lt.keys(this.domNode);f.concat(g).concat(V).forEach(function(ht){var At=i.scroll.query(ht,v.ATTRIBUTE);At instanceof O&&(o.attributes[At.attrName]=At)})}},T.prototype.copy=function(o){var i=this;Object.keys(this.attributes).forEach(function(f){var g=i.attributes[f].value(i.domNode);o.format(f,g)})},T.prototype.move=function(o){var i=this;this.copy(o),Object.keys(this.attributes).forEach(function(f){i.attributes[f].remove(i.domNode)}),this.attributes={}},T.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(i,f){return i[f]=o.attributes[f].value(o.domNode),i},{})},T}();const G=_t;var vt=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}();function rt(T,o){if(Object.keys(T).length!==Object.keys(o).length)return!1;for(var i in T)if(T[i]!==o[i])return!1;return!0}var st=function(T){vt(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.attributes=new G(g.domNode),g}return o.formats=function(i,f){var g=f.query(o.blotName);if(!(g!=null&&i.tagName===g.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},o.prototype.format=function(i,f){var g=this;if(i===this.statics.blotName&&!f)this.children.forEach(function(ht){ht instanceof o||(ht=ht.wrap(o.blotName,!0)),g.attributes.copy(ht)}),this.unwrap();else{var V=this.scroll.query(i,v.INLINE);if(V==null)return;V instanceof O?this.attributes.attribute(V,f):f&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f)}},o.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode,this.scroll);return f!=null&&(i[this.statics.blotName]=f),i},o.prototype.formatAt=function(i,f,g,V){if(this.formats()[g]!=null||this.scroll.query(g,v.ATTRIBUTE)){var ht=this.isolate(i,f);ht.format(g,V)}else T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.optimize=function(i){T.prototype.optimize.call(this,i);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var g=this.next;g instanceof o&&g.prev===this&&rt(f,g.formats())&&(g.moveChildren(this),g.remove())},o.prototype.replaceWith=function(i,f){var g=T.prototype.replaceWith.call(this,i,f);return this.attributes.copy(g),g},o.prototype.update=function(i,f){var g=this;T.prototype.update.call(this,i,f);var V=i.some(function(ht){return ht.target===g.domNode&&ht.type==="attributes"});V&&this.attributes.build()},o.prototype.wrap=function(i,f){var g=T.prototype.wrap.call(this,i,f);return g instanceof o&&this.attributes.move(g),g},o.allowedChildren=[o,s],o.blotName="inline",o.scope=v.INLINE_BLOT,o.tagName="SPAN",o}(U);const H=st;var w=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),q=function(T){w(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.attributes=new G(g.domNode),g}return o.formats=function(i,f){var g=f.query(o.blotName);if(!(g!=null&&i.tagName===g.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},o.prototype.format=function(i,f){var g=this.scroll.query(i,v.BLOCK);g!=null&&(g instanceof O?this.attributes.attribute(g,f):i===this.statics.blotName&&!f?this.replaceWith(o.blotName):f&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f))},o.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode,this.scroll);return f!=null&&(i[this.statics.blotName]=f),i},o.prototype.formatAt=function(i,f,g,V){this.scroll.query(g,v.BLOCK)!=null?this.format(g,V):T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.insertAt=function(i,f,g){if(g==null||this.scroll.query(f,v.INLINE)!=null)T.prototype.insertAt.call(this,i,f,g);else{var V=this.split(i);if(V!=null){var ht=this.scroll.create(f,g);V.parent.insertBefore(ht,V)}else throw new Error("Attempt to insertAt after block boundaries")}},o.prototype.replaceWith=function(i,f){var g=T.prototype.replaceWith.call(this,i,f);return this.attributes.copy(g),g},o.prototype.update=function(i,f){var g=this;T.prototype.update.call(this,i,f);var V=i.some(function(ht){return ht.target===g.domNode&&ht.type==="attributes"});V&&this.attributes.build()},o.blotName="block",o.scope=v.BLOCK_BLOT,o.tagName="P",o.allowedChildren=[H,o,s],o}(U);const J=q;var Q=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ct=function(T){Q(o,T);function o(){return T!==null&&T.apply(this,arguments)||this}return o.formats=function(i,f){},o.prototype.format=function(i,f){T.prototype.formatAt.call(this,0,this.length(),i,f)},o.prototype.formatAt=function(i,f,g,V){i===0&&f===this.length()?this.format(g,V):T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},o}(s);const mt=ct;var wt=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ot={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},tt=100,gt=function(T){wt(o,T);function o(i,f){var g=T.call(this,null,f)||this;return g.registry=i,g.scroll=g,g.build(),g.observer=new MutationObserver(function(V){g.update(V)}),g.observer.observe(g.domNode,ot),g.attach(),g}return o.prototype.create=function(i,f){return this.registry.create(this,i,f)},o.prototype.find=function(i,f){f===void 0&&(f=!1);var g=this.registry.find(i,f);return g?g.scroll===this?g:f?this.find(g.scroll.domNode.parentNode,!0):null:null},o.prototype.query=function(i,f){return f===void 0&&(f=v.ANY),this.registry.query(i,f)},o.prototype.register=function(){for(var i,f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return(i=this.registry).register.apply(i,f)},o.prototype.build=function(){this.scroll!=null&&T.prototype.build.call(this)},o.prototype.detach=function(){T.prototype.detach.call(this),this.observer.disconnect()},o.prototype.deleteAt=function(i,f){this.update(),i===0&&f===this.length()?this.children.forEach(function(g){g.remove()}):T.prototype.deleteAt.call(this,i,f)},o.prototype.formatAt=function(i,f,g,V){this.update(),T.prototype.formatAt.call(this,i,f,g,V)},o.prototype.insertAt=function(i,f,g){this.update(),T.prototype.insertAt.call(this,i,f,g)},o.prototype.optimize=function(i,f){var g=this;i===void 0&&(i=[]),f===void 0&&(f={}),T.prototype.optimize.call(this,f);for(var V=f.mutationsMap||new WeakMap,ht=Array.from(this.observer.takeRecords());ht.length>0;)i.push(ht.pop());for(var At=function qt(Jt,bt){bt===void 0&&(bt=!0),!(Jt==null||Jt===g)&&Jt.domNode.parentNode!=null&&(V.has(Jt.domNode)||V.set(Jt.domNode,[]),bt&&qt(Jt.parent))},Ht=function qt(Jt){V.has(Jt.domNode)&&(Jt instanceof U&&Jt.children.forEach(qt),V.delete(Jt.domNode),Jt.optimize(f))},Ft=i,Yt=0;Ft.length>0;Yt+=1){if(Yt>=tt)throw new Error("[Parchment] Maximum optimize iterations reached");for(Ft.forEach(function(qt){var Jt=g.find(qt.target,!0);Jt!=null&&(Jt.domNode===qt.target&&(qt.type==="childList"?(At(g.find(qt.previousSibling,!1)),Array.from(qt.addedNodes).forEach(function(bt){var Pt=g.find(bt,!1);At(Pt,!1),Pt instanceof U&&Pt.children.forEach(function(It){At(It,!1)})})):qt.type==="attributes"&&At(Jt.prev)),At(Jt))}),this.children.forEach(Ht),Ft=Array.from(this.observer.takeRecords()),ht=Ft.slice();ht.length>0;)i.push(ht.pop())}},o.prototype.update=function(i,f){var g=this;f===void 0&&(f={}),i=i||this.observer.takeRecords();var V=new WeakMap;i.map(function(ht){var At=g.find(ht.target,!0);return At==null?null:V.has(At.domNode)?(V.get(At.domNode).push(ht),null):(V.set(At.domNode,[ht]),At)}).forEach(function(ht){ht!=null&&ht!==g&&V.has(ht.domNode)&&ht.update(V.get(ht.domNode)||[],f)}),f.mutationsMap=V,V.has(this.domNode)&&T.prototype.update.call(this,V.get(this.domNode),f),this.optimize(i,f)},o.blotName="scroll",o.defaultChild=J,o.allowedChildren=[J,y],o.scope=v.BLOCK_BLOT,o.tagName="DIV",o}(U);const at=gt;var it=function(){var T=function(i,f){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,V){g.__proto__=V}||function(g,V){for(var ht in V)Object.prototype.hasOwnProperty.call(V,ht)&&(g[ht]=V[ht])},T(i,f)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");T(o,i);function f(){this.constructor=o}o.prototype=i===null?Object.create(i):(f.prototype=i.prototype,new f)}}(),ft=function(T){it(o,T);function o(i,f){var g=T.call(this,i,f)||this;return g.text=g.statics.value(g.domNode),g}return o.create=function(i){return document.createTextNode(i)},o.value=function(i){return i.data},o.prototype.deleteAt=function(i,f){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+f)},o.prototype.index=function(i,f){return this.domNode===i?f:-1},o.prototype.insertAt=function(i,f,g){g==null?(this.text=this.text.slice(0,i)+f+this.text.slice(i),this.domNode.data=this.text):T.prototype.insertAt.call(this,i,f,g)},o.prototype.length=function(){return this.text.length},o.prototype.optimize=function(i){T.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof o&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},o.prototype.position=function(i,f){return[this.domNode,i]},o.prototype.split=function(i,f){if(f===void 0&&(f=!1),!f){if(i===0)return this;if(i===this.length())return this.next}var g=this.scroll.create(this.domNode.splitText(i));return this.parent.insertBefore(g,this.next||void 0),this.text=this.statics.value(this.domNode),g},o.prototype.update=function(i,f){var g=this;i.some(function(V){return V.type==="characterData"&&V.target===g.domNode})&&(this.text=this.statics.value(this.domNode))},o.prototype.value=function(){return this.text},o.blotName="text",o.scope=v.INLINE_BLOT,o}(s);const Y=ft},3034:function(h,C){var t=Object.prototype.hasOwnProperty,p="~";function v(){}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(p=!1));function m(I,A,S){this.fn=I,this.context=A,this.once=S||!1}function _(I,A,S,N,x){if(typeof S!="function")throw new TypeError("The listener must be a function");var D=new m(S,N||I,x),W=p?p+A:A;return I._events[W]?I._events[W].fn?I._events[W]=[I._events[W],D]:I._events[W].push(D):(I._events[W]=D,I._eventsCount++),I}function B(I,A){--I._eventsCount===0?I._events=new v:delete I._events[A]}function M(){this._events=new v,this._eventsCount=0}M.prototype.eventNames=function(){var A=[],S,N;if(this._eventsCount===0)return A;for(N in S=this._events)t.call(S,N)&&A.push(p?N.slice(1):N);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(S)):A},M.prototype.listeners=function(A){var S=p?p+A:A,N=this._events[S];if(!N)return[];if(N.fn)return[N.fn];for(var x=0,D=N.length,W=new Array(D);x<D;x++)W[x]=N[x].fn;return W},M.prototype.listenerCount=function(A){var S=p?p+A:A,N=this._events[S];return N?N.fn?1:N.length:0},M.prototype.emit=function(A,S,N,x,D,W){var R=p?p+A:A;if(!this._events[R])return!1;var U=this._events[R],$=arguments.length,k,y;if(U.fn){switch(U.once&&this.removeListener(A,U.fn,void 0,!0),$){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,S),!0;case 3:return U.fn.call(U.context,S,N),!0;case 4:return U.fn.call(U.context,S,N,x),!0;case 5:return U.fn.call(U.context,S,N,x,D),!0;case 6:return U.fn.call(U.context,S,N,x,D,W),!0}for(y=1,k=new Array($-1);y<$;y++)k[y-1]=arguments[y];U.fn.apply(U.context,k)}else{var E=U.length,a;for(y=0;y<E;y++)switch(U[y].once&&this.removeListener(A,U[y].fn,void 0,!0),$){case 1:U[y].fn.call(U[y].context);break;case 2:U[y].fn.call(U[y].context,S);break;case 3:U[y].fn.call(U[y].context,S,N);break;case 4:U[y].fn.call(U[y].context,S,N,x);break;default:if(!k)for(a=1,k=new Array($-1);a<$;a++)k[a-1]=arguments[a];U[y].fn.apply(U[y].context,k)}}return!0},M.prototype.on=function(A,S,N){return _(this,A,S,N,!1)},M.prototype.once=function(A,S,N){return _(this,A,S,N,!0)},M.prototype.removeListener=function(A,S,N,x){var D=p?p+A:A;if(!this._events[D])return this;if(!S)return B(this,D),this;var W=this._events[D];if(W.fn)W.fn===S&&(!x||W.once)&&(!N||W.context===N)&&B(this,D);else{for(var R=0,U=[],$=W.length;R<$;R++)(W[R].fn!==S||x&&!W[R].once||N&&W[R].context!==N)&&U.push(W[R]);U.length?this._events[D]=U.length===1?U[0]:U:B(this,D)}return this},M.prototype.removeAllListeners=function(A){var S;return A?(S=p?p+A:A,this._events[S]&&B(this,S)):(this._events=new v,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=p,M.EventEmitter=M,typeof h<"u"&&(h.exports=M)},1456:h=>{var C=-1,t=1,p=0;function v(y,E,a,s){if(y===E)return y?[[p,y]]:[];if(a!=null){var c=$(y,E,a);if(c)return c}var O=M(y,E),L=y.substring(0,O);y=y.substring(O),E=E.substring(O),O=I(y,E);var j=y.substring(y.length-O);y=y.substring(0,y.length-O),E=E.substring(0,E.length-O);var Z=m(y,E);return L&&Z.unshift([p,L]),j&&Z.push([p,j]),S(Z,s),Z}function m(y,E){var a;if(!y)return[[t,E]];if(!E)return[[C,y]];var s=y.length>E.length?y:E,c=y.length>E.length?E:y,O=s.indexOf(c);if(O!==-1)return a=[[t,s.substring(0,O)],[p,c],[t,s.substring(O+c.length)]],y.length>E.length&&(a[0][0]=a[2][0]=C),a;if(c.length===1)return[[C,y],[t,E]];var L=A(y,E);if(L){var j=L[0],Z=L[1],et=L[2],ut=L[3],dt=L[4],pt=v(j,et),lt=v(Z,ut);return pt.concat([[p,dt]],lt)}return _(y,E)}function _(y,E){for(var a=y.length,s=E.length,c=Math.ceil((a+s)/2),O=c,L=2*c,j=new Array(L),Z=new Array(L),et=0;et<L;et++)j[et]=-1,Z[et]=-1;j[O+1]=0,Z[O+1]=0;for(var ut=a-s,dt=ut%2!==0,pt=0,lt=0,_t=0,G=0,vt=0;vt<c;vt++){for(var rt=-vt+pt;rt<=vt-lt;rt+=2){var st=O+rt,H;rt===-vt||rt!==vt&&j[st-1]<j[st+1]?H=j[st+1]:H=j[st-1]+1;for(var w=H-rt;H<a&&w<s&&y.charAt(H)===E.charAt(w);)H++,w++;if(j[st]=H,H>a)lt+=2;else if(w>s)pt+=2;else if(dt){var q=O+ut-rt;if(q>=0&&q<L&&Z[q]!==-1){var J=a-Z[q];if(H>=J)return B(y,E,H,w)}}}for(var Q=-vt+_t;Q<=vt-G;Q+=2){var q=O+Q,J;Q===-vt||Q!==vt&&Z[q-1]<Z[q+1]?J=Z[q+1]:J=Z[q-1]+1;for(var ct=J-Q;J<a&&ct<s&&y.charAt(a-J-1)===E.charAt(s-ct-1);)J++,ct++;if(Z[q]=J,J>a)G+=2;else if(ct>s)_t+=2;else if(!dt){var st=O+ut-Q;if(st>=0&&st<L&&j[st]!==-1){var H=j[st],w=O+H-st;if(J=a-J,H>=J)return B(y,E,H,w)}}}}return[[C,y],[t,E]]}function B(y,E,a,s){var c=y.substring(0,a),O=E.substring(0,s),L=y.substring(a),j=E.substring(s),Z=v(c,O),et=v(L,j);return Z.concat(et)}function M(y,E){if(!y||!E||y.charAt(0)!==E.charAt(0))return 0;for(var a=0,s=Math.min(y.length,E.length),c=s,O=0;a<c;)y.substring(O,c)==E.substring(O,c)?(a=c,O=a):s=c,c=Math.floor((s-a)/2+a);return N(y.charCodeAt(c-1))&&c--,c}function I(y,E){if(!y||!E||y.slice(-1)!==E.slice(-1))return 0;for(var a=0,s=Math.min(y.length,E.length),c=s,O=0;a<c;)y.substring(y.length-c,y.length-O)==E.substring(E.length-c,E.length-O)?(a=c,O=a):s=c,c=Math.floor((s-a)/2+a);return x(y.charCodeAt(y.length-c))&&c--,c}function A(y,E){var a=y.length>E.length?y:E,s=y.length>E.length?E:y;if(a.length<4||s.length*2<a.length)return null;function c(lt,_t,G){for(var vt=lt.substring(G,G+Math.floor(lt.length/4)),rt=-1,st="",H,w,q,J;(rt=_t.indexOf(vt,rt+1))!==-1;){var Q=M(lt.substring(G),_t.substring(rt)),ct=I(lt.substring(0,G),_t.substring(0,rt));st.length<ct+Q&&(st=_t.substring(rt-ct,rt)+_t.substring(rt,rt+Q),H=lt.substring(0,G-ct),w=lt.substring(G+Q),q=_t.substring(0,rt-ct),J=_t.substring(rt+Q))}return st.length*2>=lt.length?[H,w,q,J,st]:null}var O=c(a,s,Math.ceil(a.length/4)),L=c(a,s,Math.ceil(a.length/2)),j;if(!O&&!L)return null;L?O?j=O[4].length>L[4].length?O:L:j=L:j=O;var Z,et,ut,dt;y.length>E.length?(Z=j[0],et=j[1],ut=j[2],dt=j[3]):(ut=j[0],dt=j[1],Z=j[2],et=j[3]);var pt=j[4];return[Z,et,ut,dt,pt]}function S(y,E){y.push([p,""]);for(var a=0,s=0,c=0,O="",L="",j;a<y.length;){if(a<y.length-1&&!y[a][1]){y.splice(a,1);continue}switch(y[a][0]){case t:c++,L+=y[a][1],a++;break;case C:s++,O+=y[a][1],a++;break;case p:var Z=a-c-s-1;if(E){if(Z>=0&&W(y[Z][1])){var et=y[Z][1].slice(-1);if(y[Z][1]=y[Z][1].slice(0,-1),O=et+O,L=et+L,!y[Z][1]){y.splice(Z,1),a--;var ut=Z-1;y[ut]&&y[ut][0]===t&&(c++,L=y[ut][1]+L,ut--),y[ut]&&y[ut][0]===C&&(s++,O=y[ut][1]+O,ut--),Z=ut}}if(D(y[a][1])){var et=y[a][1].charAt(0);y[a][1]=y[a][1].slice(1),O+=et,L+=et}}if(a<y.length-1&&!y[a][1]){y.splice(a,1);break}if(O.length>0||L.length>0){O.length>0&&L.length>0&&(j=M(L,O),j!==0&&(Z>=0?y[Z][1]+=L.substring(0,j):(y.splice(0,0,[p,L.substring(0,j)]),a++),L=L.substring(j),O=O.substring(j)),j=I(L,O),j!==0&&(y[a][1]=L.substring(L.length-j)+y[a][1],L=L.substring(0,L.length-j),O=O.substring(0,O.length-j)));var dt=c+s;O.length===0&&L.length===0?(y.splice(a-dt,dt),a=a-dt):O.length===0?(y.splice(a-dt,dt,[t,L]),a=a-dt+1):L.length===0?(y.splice(a-dt,dt,[C,O]),a=a-dt+1):(y.splice(a-dt,dt,[C,O],[t,L]),a=a-dt+2)}a!==0&&y[a-1][0]===p?(y[a-1][1]+=y[a][1],y.splice(a,1)):a++,c=0,s=0,O="",L="";break}}y[y.length-1][1]===""&&y.pop();var pt=!1;for(a=1;a<y.length-1;)y[a-1][0]===p&&y[a+1][0]===p&&(y[a][1].substring(y[a][1].length-y[a-1][1].length)===y[a-1][1]?(y[a][1]=y[a-1][1]+y[a][1].substring(0,y[a][1].length-y[a-1][1].length),y[a+1][1]=y[a-1][1]+y[a+1][1],y.splice(a-1,1),pt=!0):y[a][1].substring(0,y[a+1][1].length)==y[a+1][1]&&(y[a-1][1]+=y[a+1][1],y[a][1]=y[a][1].substring(y[a+1][1].length)+y[a+1][1],y.splice(a+1,1),pt=!0)),a++;pt&&S(y,E)}function N(y){return y>=55296&&y<=56319}function x(y){return y>=56320&&y<=57343}function D(y){return x(y.charCodeAt(0))}function W(y){return N(y.charCodeAt(y.length-1))}function R(y){for(var E=[],a=0;a<y.length;a++)y[a][1].length>0&&E.push(y[a]);return E}function U(y,E,a,s){return W(y)||D(s)?null:R([[p,y],[C,E],[t,a],[p,s]])}function $(y,E,a){var s=typeof a=="number"?{index:a,length:0}:a.oldRange,c=typeof a=="number"?null:a.newRange,O=y.length,L=E.length;if(s.length===0&&(c===null||c.length===0)){var j=s.index,Z=y.slice(0,j),et=y.slice(j),ut=c?c.index:null;t:{var dt=j+L-O;if(ut!==null&&ut!==dt||dt<0||dt>L)break t;var pt=E.slice(0,dt),lt=E.slice(dt);if(lt!==et)break t;var _t=Math.min(j,dt),G=Z.slice(0,_t),vt=pt.slice(0,_t);if(G!==vt)break t;var rt=Z.slice(_t),st=pt.slice(_t);return U(G,rt,st,et)}t:{if(ut!==null&&ut!==j)break t;var H=j,pt=E.slice(0,H),lt=E.slice(H);if(pt!==Z)break t;var w=Math.min(O-H,L-H),q=et.slice(et.length-w),J=lt.slice(lt.length-w);if(q!==J)break t;var rt=et.slice(0,et.length-w),st=lt.slice(0,lt.length-w);return U(Z,rt,st,q)}}if(s.length>0&&c&&c.length===0)t:{var G=y.slice(0,s.index),q=y.slice(s.index+s.length),_t=G.length,w=q.length;if(L<_t+w)break t;var vt=E.slice(0,_t),J=E.slice(L-w);if(G!==vt||q!==J)break t;var rt=y.slice(_t,O-w),st=E.slice(_t,L-w);return U(G,rt,st,q)}return null}function k(y,E,a){return v(y,E,a,!0)}k.INSERT=t,k.DELETE=C,k.EQUAL=p,h.exports=k},8805:(h,C,t)=>{h=t.nmd(h);var p=200,v="__lodash_hash_undefined__",m=9007199254740991,_="[object Arguments]",B="[object Array]",M="[object Boolean]",I="[object Date]",A="[object Error]",S="[object Function]",N="[object GeneratorFunction]",x="[object Map]",D="[object Number]",W="[object Object]",R="[object Promise]",U="[object RegExp]",$="[object Set]",k="[object String]",y="[object Symbol]",E="[object WeakMap]",a="[object ArrayBuffer]",s="[object DataView]",c="[object Float32Array]",O="[object Float64Array]",L="[object Int8Array]",j="[object Int16Array]",Z="[object Int32Array]",et="[object Uint8Array]",ut="[object Uint8ClampedArray]",dt="[object Uint16Array]",pt="[object Uint32Array]",lt=/[\\^$.*+?()[\]{}|]/g,_t=/\w*$/,G=/^\[object .+?Constructor\]$/,vt=/^(?:0|[1-9]\d*)$/,rt={};rt[_]=rt[B]=rt[a]=rt[s]=rt[M]=rt[I]=rt[c]=rt[O]=rt[L]=rt[j]=rt[Z]=rt[x]=rt[D]=rt[W]=rt[U]=rt[$]=rt[k]=rt[y]=rt[et]=rt[ut]=rt[dt]=rt[pt]=!0,rt[A]=rt[S]=rt[E]=!1;var st=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,H=typeof self=="object"&&self&&self.Object===Object&&self,w=st||H||Function("return this")(),q=C&&!C.nodeType&&C,J=q&&!0&&h&&!h.nodeType&&h,Q=J&&J.exports===q;function ct(d,F){return d.set(F[0],F[1]),d}function mt(d,F){return d.add(F),d}function wt(d,F){for(var b=-1,z=d?d.length:0;++b<z&&F(d[b],b,d)!==!1;);return d}function ot(d,F){for(var b=-1,z=F.length,Ot=d.length;++b<z;)d[Ot+b]=F[b];return d}function tt(d,F,b,z){var Ot=-1,Bt=d?d.length:0;for(z&&Bt&&(b=d[++Ot]);++Ot<Bt;)b=F(b,d[Ot],Ot,d);return b}function gt(d,F){for(var b=-1,z=Array(d);++b<d;)z[b]=F(b);return z}function at(d,F){return d==null?void 0:d[F]}function it(d){var F=!1;if(d!=null&&typeof d.toString!="function")try{F=!!(d+"")}catch{}return F}function ft(d){var F=-1,b=Array(d.size);return d.forEach(function(z,Ot){b[++F]=[Ot,z]}),b}function Y(d,F){return function(b){return d(F(b))}}function T(d){var F=-1,b=Array(d.size);return d.forEach(function(z){b[++F]=z}),b}var o=Array.prototype,i=Function.prototype,f=Object.prototype,g=w["__core-js_shared__"],V=function(){var d=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),ht=i.toString,At=f.hasOwnProperty,Ht=f.toString,Ft=RegExp("^"+ht.call(At).replace(lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yt=Q?w.Buffer:void 0,qt=w.Symbol,Jt=w.Uint8Array,bt=Y(Object.getPrototypeOf,Object),Pt=Object.create,It=f.propertyIsEnumerable,Mt=o.splice,Nt=Object.getOwnPropertySymbols,$t=Yt?Yt.isBuffer:void 0,Dt=Y(Object.keys,Object),Ut=Le(w,"DataView"),Kt=Le(w,"Map"),te=Le(w,"Promise"),ae=Le(w,"Set"),ue=Le(w,"WeakMap"),pe=Le(Object,"create"),Te=Oe(Ut),yt=Oe(Kt),Tt=Oe(te),St=Oe(ae),Lt=Oe(ue),Rt=qt?qt.prototype:void 0,xt=Rt?Rt.valueOf:void 0;function jt(d){var F=-1,b=d?d.length:0;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function Zt(){this.__data__=pe?pe(null):{}}function Xt(d){return this.has(d)&&delete this.__data__[d]}function ee(d){var F=this.__data__;if(pe){var b=F[d];return b===v?void 0:b}return At.call(F,d)?F[d]:void 0}function re(d){var F=this.__data__;return pe?F[d]!==void 0:At.call(F,d)}function le(d,F){var b=this.__data__;return b[d]=pe&&F===void 0?v:F,this}jt.prototype.clear=Zt,jt.prototype.delete=Xt,jt.prototype.get=ee,jt.prototype.has=re,jt.prototype.set=le;function oe(d){var F=-1,b=d?d.length:0;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function Ee(){this.__data__=[]}function qe(d){var F=this.__data__,b=ar(F,d);if(b<0)return!1;var z=F.length-1;return b==z?F.pop():Mt.call(F,b,1),!0}function Xe(d){var F=this.__data__,b=ar(F,d);return b<0?void 0:F[b][1]}function Dr(d){return ar(this.__data__,d)>-1}function jr(d,F){var b=this.__data__,z=ar(b,d);return z<0?b.push([d,F]):b[z][1]=F,this}oe.prototype.clear=Ee,oe.prototype.delete=qe,oe.prototype.get=Xe,oe.prototype.has=Dr,oe.prototype.set=jr;function ve(d){var F=-1,b=d?d.length:0;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function ir(){this.__data__={hash:new jt,map:new(Kt||oe),string:new jt}}function kr(d){return $e(this,d).delete(d)}function Hr(d){return $e(this,d).get(d)}function vr(d){return $e(this,d).has(d)}function Fr(d,F){return $e(this,d).set(d,F),this}ve.prototype.clear=ir,ve.prototype.delete=kr,ve.prototype.get=Hr,ve.prototype.has=vr,ve.prototype.set=Fr;function Se(d){this.__data__=new oe(d)}function mr(){this.__data__=new oe}function Ur(d){return this.__data__.delete(d)}function Ne(d){return this.__data__.get(d)}function Qe(d){return this.__data__.has(d)}function Wr(d,F){var b=this.__data__;if(b instanceof oe){var z=b.__data__;if(!Kt||z.length<p-1)return z.push([d,F]),this;b=this.__data__=new ve(z)}return b.set(d,F),this}Se.prototype.clear=mr,Se.prototype.delete=Ur,Se.prototype.get=Ne,Se.prototype.has=Qe,Se.prototype.set=Wr;function we(d,F){var b=fr(d)||cr(d)?gt(d.length,String):[],z=b.length,Ot=!!z;for(var Bt in d)(F||At.call(d,Bt))&&!(Ot&&(Bt=="length"||qr(Bt,z)))&&b.push(Bt);return b}function or(d,F,b){var z=d[F];(!(At.call(d,F)&&ur(z,b))||b===void 0&&!(F in d))&&(d[F]=b)}function ar(d,F){for(var b=d.length;b--;)if(ur(d[b][0],F))return b;return-1}function ke(d,F){return d&&Or(F,dr(F),d)}function yr(d,F,b,z,Ot,Bt,zt){var Gt;if(z&&(Gt=Bt?z(d,Ot,Bt,zt):z(d)),Gt!==void 0)return Gt;if(!De(d))return d;var ne=fr(d);if(ne){if(Gt=Gr(d),!F)return zr(d,Gt)}else{var Vt=Ke(d),ie=Vt==S||Vt==N;if(Ue(d))return lr(d,F);if(Vt==W||Vt==_||ie&&!Bt){if(it(d))return Bt?d:{};if(Gt=Ae(ie?{}:d),!F)return Sr(d,ke(Gt,d))}else{if(!rt[Vt])return Bt?d:{};Gt=Je(d,Vt,yr,F)}}zt||(zt=new Se);var de=zt.get(d);if(de)return de;if(zt.set(d,Gt),!ne)var se=b?Vr(d):dr(d);return wt(se||d,function(me,ye){se&&(ye=me,me=d[ye]),or(Gt,ye,yr(me,F,b,z,ye,d,zt))}),Gt}function Cr(d){return De(d)?Pt(d):{}}function $r(d,F,b){var z=F(d);return fr(d)?z:ot(z,b(d))}function gr(d){return Ht.call(d)}function Kr(d){if(!De(d)||wr(d))return!1;var F=Me(d)||it(d)?Ft:G;return F.test(Oe(d))}function Zr(d){if(!xe(d))return Dt(d);var F=[];for(var b in Object(d))At.call(d,b)&&b!="constructor"&&F.push(b);return F}function lr(d,F){if(F)return d.slice();var b=new d.constructor(d.length);return d.copy(b),b}function br(d){var F=new d.constructor(d.byteLength);return new Jt(F).set(new Jt(d)),F}function He(d,F){var b=F?br(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.byteLength)}function sr(d,F,b){var z=F?b(ft(d),!0):ft(d);return tt(z,ct,new d.constructor)}function Tr(d){var F=new d.constructor(d.source,_t.exec(d));return F.lastIndex=d.lastIndex,F}function Ze(d,F,b){var z=F?b(T(d),!0):T(d);return tt(z,mt,new d.constructor)}function Ye(d){return xt?Object(xt.call(d)):{}}function _r(d,F){var b=F?br(d.buffer):d.buffer;return new d.constructor(b,d.byteOffset,d.length)}function zr(d,F){var b=-1,z=d.length;for(F||(F=Array(z));++b<z;)F[b]=d[b];return F}function Or(d,F,b,z){b||(b={});for(var Ot=-1,Bt=F.length;++Ot<Bt;){var zt=F[Ot],Gt=z?z(b[zt],d[zt],zt,b,d):void 0;or(b,zt,Gt===void 0?d[zt]:Gt)}return b}function Sr(d,F){return Or(d,Fe(d),F)}function Vr(d){return $r(d,dr,Fe)}function $e(d,F){var b=d.__data__;return Xr(F)?b[typeof F=="string"?"string":"hash"]:b.map}function Le(d,F){var b=at(d,F);return Kr(b)?b:void 0}var Fe=Nt?Y(Nt,Object):ze,Ke=gr;(Ut&&Ke(new Ut(new ArrayBuffer(1)))!=s||Kt&&Ke(new Kt)!=x||te&&Ke(te.resolve())!=R||ae&&Ke(new ae)!=$||ue&&Ke(new ue)!=E)&&(Ke=function(d){var F=Ht.call(d),b=F==W?d.constructor:void 0,z=b?Oe(b):void 0;if(z)switch(z){case Te:return s;case yt:return x;case Tt:return R;case St:return $;case Lt:return E}return F});function Gr(d){var F=d.length,b=d.constructor(F);return F&&typeof d[0]=="string"&&At.call(d,"index")&&(b.index=d.index,b.input=d.input),b}function Ae(d){return typeof d.constructor=="function"&&!xe(d)?Cr(bt(d)):{}}function Je(d,F,b,z){var Ot=d.constructor;switch(F){case a:return br(d);case M:case I:return new Ot(+d);case s:return He(d,z);case c:case O:case L:case j:case Z:case et:case ut:case dt:case pt:return _r(d,z);case x:return sr(d,z,b);case D:case k:return new Ot(d);case U:return Tr(d);case $:return Ze(d,z,b);case y:return Ye(d)}}function qr(d,F){return F=F??m,!!F&&(typeof d=="number"||vt.test(d))&&d>-1&&d%1==0&&d<F}function Xr(d){var F=typeof d;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?d!=="__proto__":d===null}function wr(d){return!!V&&V in d}function xe(d){var F=d&&d.constructor,b=typeof F=="function"&&F.prototype||f;return d===b}function Oe(d){if(d!=null){try{return ht.call(d)}catch{}try{return d+""}catch{}}return""}function tr(d){return yr(d,!0,!0)}function ur(d,F){return d===F||d!==d&&F!==F}function cr(d){return Pr(d)&&At.call(d,"callee")&&(!It.call(d,"callee")||Ht.call(d)==_)}var fr=Array.isArray;function Be(d){return d!=null&&Ar(d.length)&&!Me(d)}function Pr(d){return Rr(d)&&Be(d)}var Ue=$t||hr;function Me(d){var F=De(d)?Ht.call(d):"";return F==S||F==N}function Ar(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=m}function De(d){var F=typeof d;return!!d&&(F=="object"||F=="function")}function Rr(d){return!!d&&typeof d=="object"}function dr(d){return Be(d)?we(d):Zr(d)}function ze(){return[]}function hr(){return!1}h.exports=tr},2722:(h,C,t)=>{h=t.nmd(h);var p=200,v="__lodash_hash_undefined__",m=1,_=2,B=9007199254740991,M="[object Arguments]",I="[object Array]",A="[object AsyncFunction]",S="[object Boolean]",N="[object Date]",x="[object Error]",D="[object Function]",W="[object GeneratorFunction]",R="[object Map]",U="[object Number]",$="[object Null]",k="[object Object]",y="[object Promise]",E="[object Proxy]",a="[object RegExp]",s="[object Set]",c="[object String]",O="[object Symbol]",L="[object Undefined]",j="[object WeakMap]",Z="[object ArrayBuffer]",et="[object DataView]",ut="[object Float32Array]",dt="[object Float64Array]",pt="[object Int8Array]",lt="[object Int16Array]",_t="[object Int32Array]",G="[object Uint8Array]",vt="[object Uint8ClampedArray]",rt="[object Uint16Array]",st="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,J={};J[ut]=J[dt]=J[pt]=J[lt]=J[_t]=J[G]=J[vt]=J[rt]=J[st]=!0,J[M]=J[I]=J[Z]=J[S]=J[et]=J[N]=J[x]=J[D]=J[R]=J[U]=J[k]=J[a]=J[s]=J[c]=J[j]=!1;var Q=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,ct=typeof self=="object"&&self&&self.Object===Object&&self,mt=Q||ct||Function("return this")(),wt=C&&!C.nodeType&&C,ot=wt&&!0&&h&&!h.nodeType&&h,tt=ot&&ot.exports===wt,gt=tt&&Q.process,at=function(){try{return gt&&gt.binding&&gt.binding("util")}catch{}}(),it=at&&at.isTypedArray;function ft(d,F){for(var b=-1,z=d==null?0:d.length,Ot=0,Bt=[];++b<z;){var zt=d[b];F(zt,b,d)&&(Bt[Ot++]=zt)}return Bt}function Y(d,F){for(var b=-1,z=F.length,Ot=d.length;++b<z;)d[Ot+b]=F[b];return d}function T(d,F){for(var b=-1,z=d==null?0:d.length;++b<z;)if(F(d[b],b,d))return!0;return!1}function o(d,F){for(var b=-1,z=Array(d);++b<d;)z[b]=F(b);return z}function i(d){return function(F){return d(F)}}function f(d,F){return d.has(F)}function g(d,F){return d==null?void 0:d[F]}function V(d){var F=-1,b=Array(d.size);return d.forEach(function(z,Ot){b[++F]=[Ot,z]}),b}function ht(d,F){return function(b){return d(F(b))}}function At(d){var F=-1,b=Array(d.size);return d.forEach(function(z){b[++F]=z}),b}var Ht=Array.prototype,Ft=Function.prototype,Yt=Object.prototype,qt=mt["__core-js_shared__"],Jt=Ft.toString,bt=Yt.hasOwnProperty,Pt=function(){var d=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),It=Yt.toString,Mt=RegExp("^"+Jt.call(bt).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=tt?mt.Buffer:void 0,$t=mt.Symbol,Dt=mt.Uint8Array,Ut=Yt.propertyIsEnumerable,Kt=Ht.splice,te=$t?$t.toStringTag:void 0,ae=Object.getOwnPropertySymbols,ue=Nt?Nt.isBuffer:void 0,pe=ht(Object.keys,Object),Te=Fe(mt,"DataView"),yt=Fe(mt,"Map"),Tt=Fe(mt,"Promise"),St=Fe(mt,"Set"),Lt=Fe(mt,"WeakMap"),Rt=Fe(Object,"create"),xt=Oe(Te),jt=Oe(yt),Zt=Oe(Tt),Xt=Oe(St),ee=Oe(Lt),re=$t?$t.prototype:void 0,le=re?re.valueOf:void 0;function oe(d){var F=-1,b=d==null?0:d.length;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function Ee(){this.__data__=Rt?Rt(null):{},this.size=0}function qe(d){var F=this.has(d)&&delete this.__data__[d];return this.size-=F?1:0,F}function Xe(d){var F=this.__data__;if(Rt){var b=F[d];return b===v?void 0:b}return bt.call(F,d)?F[d]:void 0}function Dr(d){var F=this.__data__;return Rt?F[d]!==void 0:bt.call(F,d)}function jr(d,F){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=Rt&&F===void 0?v:F,this}oe.prototype.clear=Ee,oe.prototype.delete=qe,oe.prototype.get=Xe,oe.prototype.has=Dr,oe.prototype.set=jr;function ve(d){var F=-1,b=d==null?0:d.length;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function ir(){this.__data__=[],this.size=0}function kr(d){var F=this.__data__,b=lr(F,d);if(b<0)return!1;var z=F.length-1;return b==z?F.pop():Kt.call(F,b,1),--this.size,!0}function Hr(d){var F=this.__data__,b=lr(F,d);return b<0?void 0:F[b][1]}function vr(d){return lr(this.__data__,d)>-1}function Fr(d,F){var b=this.__data__,z=lr(b,d);return z<0?(++this.size,b.push([d,F])):b[z][1]=F,this}ve.prototype.clear=ir,ve.prototype.delete=kr,ve.prototype.get=Hr,ve.prototype.has=vr,ve.prototype.set=Fr;function Se(d){var F=-1,b=d==null?0:d.length;for(this.clear();++F<b;){var z=d[F];this.set(z[0],z[1])}}function mr(){this.size=0,this.__data__={hash:new oe,map:new(yt||ve),string:new oe}}function Ur(d){var F=Le(this,d).delete(d);return this.size-=F?1:0,F}function Ne(d){return Le(this,d).get(d)}function Qe(d){return Le(this,d).has(d)}function Wr(d,F){var b=Le(this,d),z=b.size;return b.set(d,F),this.size+=b.size==z?0:1,this}Se.prototype.clear=mr,Se.prototype.delete=Ur,Se.prototype.get=Ne,Se.prototype.has=Qe,Se.prototype.set=Wr;function we(d){var F=-1,b=d==null?0:d.length;for(this.__data__=new Se;++F<b;)this.add(d[F])}function or(d){return this.__data__.set(d,v),this}function ar(d){return this.__data__.has(d)}we.prototype.add=we.prototype.push=or,we.prototype.has=ar;function ke(d){var F=this.__data__=new ve(d);this.size=F.size}function yr(){this.__data__=new ve,this.size=0}function Cr(d){var F=this.__data__,b=F.delete(d);return this.size=F.size,b}function $r(d){return this.__data__.get(d)}function gr(d){return this.__data__.has(d)}function Kr(d,F){var b=this.__data__;if(b instanceof ve){var z=b.__data__;if(!yt||z.length<p-1)return z.push([d,F]),this.size=++b.size,this;b=this.__data__=new Se(z)}return b.set(d,F),this.size=b.size,this}ke.prototype.clear=yr,ke.prototype.delete=Cr,ke.prototype.get=$r,ke.prototype.has=gr,ke.prototype.set=Kr;function Zr(d,F){var b=cr(d),z=!b&&ur(d),Ot=!b&&!z&&Be(d),Bt=!b&&!z&&!Ot&&Rr(d),zt=b||z||Ot||Bt,Gt=zt?o(d.length,String):[],ne=Gt.length;for(var Vt in d)(F||bt.call(d,Vt))&&!(zt&&(Vt=="length"||Ot&&(Vt=="offset"||Vt=="parent")||Bt&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||Je(Vt,ne)))&&Gt.push(Vt);return Gt}function lr(d,F){for(var b=d.length;b--;)if(tr(d[b][0],F))return b;return-1}function br(d,F,b){var z=F(d);return cr(d)?z:Y(z,b(d))}function He(d){return d==null?d===void 0?L:$:te&&te in Object(d)?Ke(d):xe(d)}function sr(d){return De(d)&&He(d)==M}function Tr(d,F,b,z,Ot){return d===F?!0:d==null||F==null||!De(d)&&!De(F)?d!==d&&F!==F:Ze(d,F,b,z,Tr,Ot)}function Ze(d,F,b,z,Ot,Bt){var zt=cr(d),Gt=cr(F),ne=zt?I:Ae(d),Vt=Gt?I:Ae(F);ne=ne==M?k:ne,Vt=Vt==M?k:Vt;var ie=ne==k,de=Vt==k,se=ne==Vt;if(se&&Be(d)){if(!Be(F))return!1;zt=!0,ie=!1}if(se&&!ie)return Bt||(Bt=new ke),zt||Rr(d)?Or(d,F,b,z,Ot,Bt):Sr(d,F,ne,b,z,Ot,Bt);if(!(b&m)){var me=ie&&bt.call(d,"__wrapped__"),ye=de&&bt.call(F,"__wrapped__");if(me||ye){var Ce=me?d.value():d,je=ye?F.value():F;return Bt||(Bt=new ke),Ot(Ce,je,b,z,Bt)}}return se?(Bt||(Bt=new ke),Vr(d,F,b,z,Ot,Bt)):!1}function Ye(d){if(!Ar(d)||Xr(d))return!1;var F=Ue(d)?Mt:w;return F.test(Oe(d))}function _r(d){return De(d)&&Me(d.length)&&!!J[He(d)]}function zr(d){if(!wr(d))return pe(d);var F=[];for(var b in Object(d))bt.call(d,b)&&b!="constructor"&&F.push(b);return F}function Or(d,F,b,z,Ot,Bt){var zt=b&m,Gt=d.length,ne=F.length;if(Gt!=ne&&!(zt&&ne>Gt))return!1;var Vt=Bt.get(d);if(Vt&&Bt.get(F))return Vt==F;var ie=-1,de=!0,se=b&_?new we:void 0;for(Bt.set(d,F),Bt.set(F,d);++ie<Gt;){var me=d[ie],ye=F[ie];if(z)var Ce=zt?z(ye,me,ie,F,d,Bt):z(me,ye,ie,d,F,Bt);if(Ce!==void 0){if(Ce)continue;de=!1;break}if(se){if(!T(F,function(je,er){if(!f(se,er)&&(me===je||Ot(me,je,b,z,Bt)))return se.push(er)})){de=!1;break}}else if(!(me===ye||Ot(me,ye,b,z,Bt))){de=!1;break}}return Bt.delete(d),Bt.delete(F),de}function Sr(d,F,b,z,Ot,Bt,zt){switch(b){case et:if(d.byteLength!=F.byteLength||d.byteOffset!=F.byteOffset)return!1;d=d.buffer,F=F.buffer;case Z:return!(d.byteLength!=F.byteLength||!Bt(new Dt(d),new Dt(F)));case S:case N:case U:return tr(+d,+F);case x:return d.name==F.name&&d.message==F.message;case a:case c:return d==F+"";case R:var Gt=V;case s:var ne=z&m;if(Gt||(Gt=At),d.size!=F.size&&!ne)return!1;var Vt=zt.get(d);if(Vt)return Vt==F;z|=_,zt.set(d,F);var ie=Or(Gt(d),Gt(F),z,Ot,Bt,zt);return zt.delete(d),ie;case O:if(le)return le.call(d)==le.call(F)}return!1}function Vr(d,F,b,z,Ot,Bt){var zt=b&m,Gt=$e(d),ne=Gt.length,Vt=$e(F),ie=Vt.length;if(ne!=ie&&!zt)return!1;for(var de=ne;de--;){var se=Gt[de];if(!(zt?se in F:bt.call(F,se)))return!1}var me=Bt.get(d);if(me&&Bt.get(F))return me==F;var ye=!0;Bt.set(d,F),Bt.set(F,d);for(var Ce=zt;++de<ne;){se=Gt[de];var je=d[se],er=F[se];if(z)var Cn=zt?z(er,je,se,F,d,Bt):z(je,er,se,d,F,Bt);if(!(Cn===void 0?je===er||Ot(je,er,b,z,Bt):Cn)){ye=!1;break}Ce||(Ce=se=="constructor")}if(ye&&!Ce){var rr=d.constructor,rn=F.constructor;rr!=rn&&"constructor"in d&&"constructor"in F&&!(typeof rr=="function"&&rr instanceof rr&&typeof rn=="function"&&rn instanceof rn)&&(ye=!1)}return Bt.delete(d),Bt.delete(F),ye}function $e(d){return br(d,dr,Gr)}function Le(d,F){var b=d.__data__;return qr(F)?b[typeof F=="string"?"string":"hash"]:b.map}function Fe(d,F){var b=g(d,F);return Ye(b)?b:void 0}function Ke(d){var F=bt.call(d,te),b=d[te];try{d[te]=void 0;var z=!0}catch{}var Ot=It.call(d);return z&&(F?d[te]=b:delete d[te]),Ot}var Gr=ae?function(d){return d==null?[]:(d=Object(d),ft(ae(d),function(F){return Ut.call(d,F)}))}:ze,Ae=He;(Te&&Ae(new Te(new ArrayBuffer(1)))!=et||yt&&Ae(new yt)!=R||Tt&&Ae(Tt.resolve())!=y||St&&Ae(new St)!=s||Lt&&Ae(new Lt)!=j)&&(Ae=function(d){var F=He(d),b=F==k?d.constructor:void 0,z=b?Oe(b):"";if(z)switch(z){case xt:return et;case jt:return R;case Zt:return y;case Xt:return s;case ee:return j}return F});function Je(d,F){return F=F??B,!!F&&(typeof d=="number"||q.test(d))&&d>-1&&d%1==0&&d<F}function qr(d){var F=typeof d;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?d!=="__proto__":d===null}function Xr(d){return!!Pt&&Pt in d}function wr(d){var F=d&&d.constructor,b=typeof F=="function"&&F.prototype||Yt;return d===b}function xe(d){return It.call(d)}function Oe(d){if(d!=null){try{return Jt.call(d)}catch{}try{return d+""}catch{}}return""}function tr(d,F){return d===F||d!==d&&F!==F}var ur=sr(function(){return arguments}())?sr:function(d){return De(d)&&bt.call(d,"callee")&&!Ut.call(d,"callee")},cr=Array.isArray;function fr(d){return d!=null&&Me(d.length)&&!Ue(d)}var Be=ue||hr;function Pr(d,F){return Tr(d,F)}function Ue(d){if(!Ar(d))return!1;var F=He(d);return F==D||F==W||F==A||F==E}function Me(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=B}function Ar(d){var F=typeof d;return d!=null&&(F=="object"||F=="function")}function De(d){return d!=null&&typeof d=="object"}var Rr=it?i(it):_r;function dr(d){return fr(d)?Zr(d):zr(d)}function ze(){return[]}function hr(){return!1}h.exports=Pr},732:(h,C,t)=>{h=t.nmd(h);var p=200,v="__lodash_hash_undefined__",m=800,_=16,B=9007199254740991,M="[object Arguments]",I="[object Array]",A="[object AsyncFunction]",S="[object Boolean]",N="[object Date]",x="[object Error]",D="[object Function]",W="[object GeneratorFunction]",R="[object Map]",U="[object Number]",$="[object Null]",k="[object Object]",y="[object Proxy]",E="[object RegExp]",a="[object Set]",s="[object String]",c="[object Undefined]",O="[object WeakMap]",L="[object ArrayBuffer]",j="[object DataView]",Z="[object Float32Array]",et="[object Float64Array]",ut="[object Int8Array]",dt="[object Int16Array]",pt="[object Int32Array]",lt="[object Uint8Array]",_t="[object Uint8ClampedArray]",G="[object Uint16Array]",vt="[object Uint32Array]",rt=/[\\^$.*+?()[\]{}|]/g,st=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,w={};w[Z]=w[et]=w[ut]=w[dt]=w[pt]=w[lt]=w[_t]=w[G]=w[vt]=!0,w[M]=w[I]=w[L]=w[S]=w[j]=w[N]=w[x]=w[D]=w[R]=w[U]=w[k]=w[E]=w[a]=w[s]=w[O]=!1;var q=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,J=typeof self=="object"&&self&&self.Object===Object&&self,Q=q||J||Function("return this")(),ct=C&&!C.nodeType&&C,mt=ct&&!0&&h&&!h.nodeType&&h,wt=mt&&mt.exports===ct,ot=wt&&q.process,tt=function(){try{var b=mt&&mt.require&&mt.require("util").types;return b||ot&&ot.binding&&ot.binding("util")}catch{}}(),gt=tt&&tt.isTypedArray;function at(b,z,Ot){switch(Ot.length){case 0:return b.call(z);case 1:return b.call(z,Ot[0]);case 2:return b.call(z,Ot[0],Ot[1]);case 3:return b.call(z,Ot[0],Ot[1],Ot[2])}return b.apply(z,Ot)}function it(b,z){for(var Ot=-1,Bt=Array(b);++Ot<b;)Bt[Ot]=z(Ot);return Bt}function ft(b){return function(z){return b(z)}}function Y(b,z){return b==null?void 0:b[z]}function T(b,z){return function(Ot){return b(z(Ot))}}var o=Array.prototype,i=Function.prototype,f=Object.prototype,g=Q["__core-js_shared__"],V=i.toString,ht=f.hasOwnProperty,At=function(){var b=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}(),Ht=f.toString,Ft=V.call(Object),Yt=RegExp("^"+V.call(ht).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=wt?Q.Buffer:void 0,Jt=Q.Symbol,bt=Q.Uint8Array,Pt=qt?qt.allocUnsafe:void 0,It=T(Object.getPrototypeOf,Object),Mt=Object.create,Nt=f.propertyIsEnumerable,$t=o.splice,Dt=Jt?Jt.toStringTag:void 0,Ut=function(){try{var b=_r(Object,"defineProperty");return b({},"",{}),b}catch{}}(),Kt=qt?qt.isBuffer:void 0,te=Math.max,ae=Date.now,ue=_r(Q,"Map"),pe=_r(Object,"create"),Te=function(){function b(){}return function(z){if(!Ue(z))return{};if(Mt)return Mt(z);b.prototype=z;var Ot=new b;return b.prototype=void 0,Ot}}();function yt(b){var z=-1,Ot=b==null?0:b.length;for(this.clear();++z<Ot;){var Bt=b[z];this.set(Bt[0],Bt[1])}}function Tt(){this.__data__=pe?pe(null):{},this.size=0}function St(b){var z=this.has(b)&&delete this.__data__[b];return this.size-=z?1:0,z}function Lt(b){var z=this.__data__;if(pe){var Ot=z[b];return Ot===v?void 0:Ot}return ht.call(z,b)?z[b]:void 0}function Rt(b){var z=this.__data__;return pe?z[b]!==void 0:ht.call(z,b)}function xt(b,z){var Ot=this.__data__;return this.size+=this.has(b)?0:1,Ot[b]=pe&&z===void 0?v:z,this}yt.prototype.clear=Tt,yt.prototype.delete=St,yt.prototype.get=Lt,yt.prototype.has=Rt,yt.prototype.set=xt;function jt(b){var z=-1,Ot=b==null?0:b.length;for(this.clear();++z<Ot;){var Bt=b[z];this.set(Bt[0],Bt[1])}}function Zt(){this.__data__=[],this.size=0}function Xt(b){var z=this.__data__,Ot=Ne(z,b);if(Ot<0)return!1;var Bt=z.length-1;return Ot==Bt?z.pop():$t.call(z,Ot,1),--this.size,!0}function ee(b){var z=this.__data__,Ot=Ne(z,b);return Ot<0?void 0:z[Ot][1]}function re(b){return Ne(this.__data__,b)>-1}function le(b,z){var Ot=this.__data__,Bt=Ne(Ot,b);return Bt<0?(++this.size,Ot.push([b,z])):Ot[Bt][1]=z,this}jt.prototype.clear=Zt,jt.prototype.delete=Xt,jt.prototype.get=ee,jt.prototype.has=re,jt.prototype.set=le;function oe(b){var z=-1,Ot=b==null?0:b.length;for(this.clear();++z<Ot;){var Bt=b[z];this.set(Bt[0],Bt[1])}}function Ee(){this.size=0,this.__data__={hash:new yt,map:new(ue||jt),string:new yt}}function qe(b){var z=Ye(this,b).delete(b);return this.size-=z?1:0,z}function Xe(b){return Ye(this,b).get(b)}function Dr(b){return Ye(this,b).has(b)}function jr(b,z){var Ot=Ye(this,b),Bt=Ot.size;return Ot.set(b,z),this.size+=Ot.size==Bt?0:1,this}oe.prototype.clear=Ee,oe.prototype.delete=qe,oe.prototype.get=Xe,oe.prototype.has=Dr,oe.prototype.set=jr;function ve(b){var z=this.__data__=new jt(b);this.size=z.size}function ir(){this.__data__=new jt,this.size=0}function kr(b){var z=this.__data__,Ot=z.delete(b);return this.size=z.size,Ot}function Hr(b){return this.__data__.get(b)}function vr(b){return this.__data__.has(b)}function Fr(b,z){var Ot=this.__data__;if(Ot instanceof jt){var Bt=Ot.__data__;if(!ue||Bt.length<p-1)return Bt.push([b,z]),this.size=++Ot.size,this;Ot=this.__data__=new oe(Bt)}return Ot.set(b,z),this.size=Ot.size,this}ve.prototype.clear=ir,ve.prototype.delete=kr,ve.prototype.get=Hr,ve.prototype.has=vr,ve.prototype.set=Fr;function Se(b,z){var Ot=tr(b),Bt=!Ot&&Oe(b),zt=!Ot&&!Bt&&fr(b),Gt=!Ot&&!Bt&&!zt&&De(b),ne=Ot||Bt||zt||Gt,Vt=ne?it(b.length,String):[],ie=Vt.length;for(var de in b)(z||ht.call(b,de))&&!(ne&&(de=="length"||zt&&(de=="offset"||de=="parent")||Gt&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Sr(de,ie)))&&Vt.push(de);return Vt}function mr(b,z,Ot){(Ot!==void 0&&!xe(b[z],Ot)||Ot===void 0&&!(z in b))&&Qe(b,z,Ot)}function Ur(b,z,Ot){var Bt=b[z];(!(ht.call(b,z)&&xe(Bt,Ot))||Ot===void 0&&!(z in b))&&Qe(b,z,Ot)}function Ne(b,z){for(var Ot=b.length;Ot--;)if(xe(b[Ot][0],z))return Ot;return-1}function Qe(b,z,Ot){z=="__proto__"&&Ut?Ut(b,z,{configurable:!0,enumerable:!0,value:Ot,writable:!0}):b[z]=Ot}var Wr=Ze();function we(b){return b==null?b===void 0?c:$:Dt&&Dt in Object(b)?zr(b):Gr(b)}function or(b){return Me(b)&&we(b)==M}function ar(b){if(!Ue(b)||Le(b))return!1;var z=Be(b)?Yt:st;return z.test(wr(b))}function ke(b){return Me(b)&&Pr(b.length)&&!!w[we(b)]}function yr(b){if(!Ue(b))return Ke(b);var z=Fe(b),Ot=[];for(var Bt in b)Bt=="constructor"&&(z||!ht.call(b,Bt))||Ot.push(Bt);return Ot}function Cr(b,z,Ot,Bt,zt){b!==z&&Wr(z,function(Gt,ne){if(zt||(zt=new ve),Ue(Gt))$r(b,z,ne,Ot,Cr,Bt,zt);else{var Vt=Bt?Bt(Je(b,ne),Gt,ne+"",b,z,zt):void 0;Vt===void 0&&(Vt=Gt),mr(b,ne,Vt)}},dr)}function $r(b,z,Ot,Bt,zt,Gt,ne){var Vt=Je(b,Ot),ie=Je(z,Ot),de=ne.get(ie);if(de){mr(b,Ot,de);return}var se=Gt?Gt(Vt,ie,Ot+"",b,z,ne):void 0,me=se===void 0;if(me){var ye=tr(ie),Ce=!ye&&fr(ie),je=!ye&&!Ce&&De(ie);se=ie,ye||Ce||je?tr(Vt)?se=Vt:cr(Vt)?se=He(Vt):Ce?(me=!1,se=Zr(ie,!0)):je?(me=!1,se=br(ie,!0)):se=[]:Ar(ie)||Oe(ie)?(se=Vt,Oe(Vt)?se=Rr(Vt):(!Ue(Vt)||Be(Vt))&&(se=Or(ie))):me=!1}me&&(ne.set(ie,se),zt(se,ie,Bt,Gt,ne),ne.delete(ie)),mr(b,Ot,se)}function gr(b,z){return qr(Ae(b,z,d),b+"")}var Kr=Ut?function(b,z){return Ut(b,"toString",{configurable:!0,enumerable:!1,value:hr(z),writable:!0})}:d;function Zr(b,z){if(z)return b.slice();var Ot=b.length,Bt=Pt?Pt(Ot):new b.constructor(Ot);return b.copy(Bt),Bt}function lr(b){var z=new b.constructor(b.byteLength);return new bt(z).set(new bt(b)),z}function br(b,z){var Ot=z?lr(b.buffer):b.buffer;return new b.constructor(Ot,b.byteOffset,b.length)}function He(b,z){var Ot=-1,Bt=b.length;for(z||(z=Array(Bt));++Ot<Bt;)z[Ot]=b[Ot];return z}function sr(b,z,Ot,Bt){var zt=!Ot;Ot||(Ot={});for(var Gt=-1,ne=z.length;++Gt<ne;){var Vt=z[Gt],ie=Bt?Bt(Ot[Vt],b[Vt],Vt,Ot,b):void 0;ie===void 0&&(ie=b[Vt]),zt?Qe(Ot,Vt,ie):Ur(Ot,Vt,ie)}return Ot}function Tr(b){return gr(function(z,Ot){var Bt=-1,zt=Ot.length,Gt=zt>1?Ot[zt-1]:void 0,ne=zt>2?Ot[2]:void 0;for(Gt=b.length>3&&typeof Gt=="function"?(zt--,Gt):void 0,ne&&Vr(Ot[0],Ot[1],ne)&&(Gt=zt<3?void 0:Gt,zt=1),z=Object(z);++Bt<zt;){var Vt=Ot[Bt];Vt&&b(z,Vt,Bt,Gt)}return z})}function Ze(b){return function(z,Ot,Bt){for(var zt=-1,Gt=Object(z),ne=Bt(z),Vt=ne.length;Vt--;){var ie=ne[b?Vt:++zt];if(Ot(Gt[ie],ie,Gt)===!1)break}return z}}function Ye(b,z){var Ot=b.__data__;return $e(z)?Ot[typeof z=="string"?"string":"hash"]:Ot.map}function _r(b,z){var Ot=Y(b,z);return ar(Ot)?Ot:void 0}function zr(b){var z=ht.call(b,Dt),Ot=b[Dt];try{b[Dt]=void 0;var Bt=!0}catch{}var zt=Ht.call(b);return Bt&&(z?b[Dt]=Ot:delete b[Dt]),zt}function Or(b){return typeof b.constructor=="function"&&!Fe(b)?Te(It(b)):{}}function Sr(b,z){var Ot=typeof b;return z=z??B,!!z&&(Ot=="number"||Ot!="symbol"&&H.test(b))&&b>-1&&b%1==0&&b<z}function Vr(b,z,Ot){if(!Ue(Ot))return!1;var Bt=typeof z;return(Bt=="number"?ur(Ot)&&Sr(z,Ot.length):Bt=="string"&&z in Ot)?xe(Ot[z],b):!1}function $e(b){var z=typeof b;return z=="string"||z=="number"||z=="symbol"||z=="boolean"?b!=="__proto__":b===null}function Le(b){return!!At&&At in b}function Fe(b){var z=b&&b.constructor,Ot=typeof z=="function"&&z.prototype||f;return b===Ot}function Ke(b){var z=[];if(b!=null)for(var Ot in Object(b))z.push(Ot);return z}function Gr(b){return Ht.call(b)}function Ae(b,z,Ot){return z=te(z===void 0?b.length-1:z,0),function(){for(var Bt=arguments,zt=-1,Gt=te(Bt.length-z,0),ne=Array(Gt);++zt<Gt;)ne[zt]=Bt[z+zt];zt=-1;for(var Vt=Array(z+1);++zt<z;)Vt[zt]=Bt[zt];return Vt[z]=Ot(ne),at(b,this,Vt)}}function Je(b,z){if(!(z==="constructor"&&typeof b[z]=="function")&&z!="__proto__")return b[z]}var qr=Xr(Kr);function Xr(b){var z=0,Ot=0;return function(){var Bt=ae(),zt=_-(Bt-Ot);if(Ot=Bt,zt>0){if(++z>=m)return arguments[0]}else z=0;return b.apply(void 0,arguments)}}function wr(b){if(b!=null){try{return V.call(b)}catch{}try{return b+""}catch{}}return""}function xe(b,z){return b===z||b!==b&&z!==z}var Oe=or(function(){return arguments}())?or:function(b){return Me(b)&&ht.call(b,"callee")&&!Nt.call(b,"callee")},tr=Array.isArray;function ur(b){return b!=null&&Pr(b.length)&&!Be(b)}function cr(b){return Me(b)&&ur(b)}var fr=Kt||F;function Be(b){if(!Ue(b))return!1;var z=we(b);return z==D||z==W||z==A||z==y}function Pr(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=B}function Ue(b){var z=typeof b;return b!=null&&(z=="object"||z=="function")}function Me(b){return b!=null&&typeof b=="object"}function Ar(b){if(!Me(b)||we(b)!=k)return!1;var z=It(b);if(z===null)return!0;var Ot=ht.call(z,"constructor")&&z.constructor;return typeof Ot=="function"&&Ot instanceof Ot&&V.call(Ot)==Ft}var De=gt?ft(gt):ke;function Rr(b){return sr(b,dr(b))}function dr(b){return ur(b)?Se(b,!0):yr(b)}var ze=Tr(function(b,z,Ot){Cr(b,z,Ot)});function hr(b){return function(){return b}}function d(b){return b}function F(){return!1}h.exports=ze},5143:(h,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const p=t(8805),v=t(2722);var m;(function(_){function B(S={},N={},x=!1){typeof S!="object"&&(S={}),typeof N!="object"&&(N={});let D=p(N);x||(D=Object.keys(D).reduce((W,R)=>(D[R]!=null&&(W[R]=D[R]),W),{}));for(const W in S)S[W]!==void 0&&N[W]===void 0&&(D[W]=S[W]);return Object.keys(D).length>0?D:void 0}_.compose=B;function M(S={},N={}){typeof S!="object"&&(S={}),typeof N!="object"&&(N={});const x=Object.keys(S).concat(Object.keys(N)).reduce((D,W)=>(v(S[W],N[W])||(D[W]=N[W]===void 0?null:N[W]),D),{});return Object.keys(x).length>0?x:void 0}_.diff=M;function I(S={},N={}){S=S||{};const x=Object.keys(N).reduce((D,W)=>(N[W]!==S[W]&&S[W]!==void 0&&(D[W]=N[W]),D),{});return Object.keys(S).reduce((D,W)=>(S[W]!==N[W]&&N[W]===void 0&&(D[W]=null),D),x)}_.invert=I;function A(S,N,x=!1){if(typeof S!="object")return N;if(typeof N!="object")return;if(!x)return N;const D=Object.keys(N).reduce((W,R)=>(S[R]===void 0&&(W[R]=N[R]),W),{});return Object.keys(D).length>0?D:void 0}_.transform=A})(m||(m={})),C.default=m},9098:(h,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const p=t(1456),v=t(8805),m=t(2722),_=t(5143);C.AttributeMap=_.default;const B=t(6237);C.Op=B.default;const M=t(2849);C.OpIterator=M.default;const I=String.fromCharCode(0),A=(N,x)=>{if(typeof N!="object"||N===null)throw new Error(`cannot retain a ${typeof N}`);if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);const D=Object.keys(N)[0];if(!D||D!==Object.keys(x)[0])throw new Error(`embed types not matched: ${D} != ${Object.keys(x)[0]}`);return[D,N[D],x[D]]};class S{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,D){this.handlers[x]=D}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){const D=this.handlers[x];if(!D)throw new Error(`no handlers for embed type "${x}"`);return D}insert(x,D){const W={};return typeof x=="string"&&x.length===0?this:(W.insert=x,D!=null&&typeof D=="object"&&Object.keys(D).length>0&&(W.attributes=D),this.push(W))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,D){if(typeof x=="number"&&x<=0)return this;const W={retain:x};return D!=null&&typeof D=="object"&&Object.keys(D).length>0&&(W.attributes=D),this.push(W)}push(x){let D=this.ops.length,W=this.ops[D-1];if(x=v(x),typeof W=="object"){if(typeof x.delete=="number"&&typeof W.delete=="number")return this.ops[D-1]={delete:W.delete+x.delete},this;if(typeof W.delete=="number"&&x.insert!=null&&(D-=1,W=this.ops[D-1],typeof W!="object"))return this.ops.unshift(x),this;if(m(x.attributes,W.attributes)){if(typeof x.insert=="string"&&typeof W.insert=="string")return this.ops[D-1]={insert:W.insert+x.insert},typeof x.attributes=="object"&&(this.ops[D-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof W.retain=="number")return this.ops[D-1]={retain:W.retain+x.retain},typeof x.attributes=="object"&&(this.ops[D-1].attributes=x.attributes),this}}return D===this.ops.length?this.ops.push(x):this.ops.splice(D,0,x),this}chop(){const x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){const D=[],W=[];return this.forEach(R=>{(x(R)?D:W).push(R)}),[D,W]}reduce(x,D){return this.ops.reduce(x,D)}changeLength(){return this.reduce((x,D)=>D.insert?x+B.default.length(D):D.delete?x-D.delete:x,0)}length(){return this.reduce((x,D)=>x+B.default.length(D),0)}slice(x=0,D=1/0){const W=[],R=new M.default(this.ops);let U=0;for(;U<D&&R.hasNext();){let $;U<x?$=R.next(x-U):($=R.next(D-U),W.push($)),U+=B.default.length($)}return new S(W)}compose(x){const D=new M.default(this.ops),W=new M.default(x.ops),R=[],U=W.peek();if(U!=null&&typeof U.retain=="number"&&U.attributes==null){let k=U.retain;for(;D.peekType()==="insert"&&D.peekLength()<=k;)k-=D.peekLength(),R.push(D.next());U.retain-k>0&&W.next(U.retain-k)}const $=new S(R);for(;D.hasNext()||W.hasNext();)if(W.peekType()==="insert")$.push(W.next());else if(D.peekType()==="delete")$.push(D.next());else{const k=Math.min(D.peekLength(),W.peekLength()),y=D.next(k),E=W.next(k);if(E.retain){const a={};if(typeof y.retain=="number")a.retain=typeof E.retain=="number"?k:E.retain;else if(typeof E.retain=="number")y.retain==null?a.insert=y.insert:a.retain=y.retain;else{const c=y.retain==null?"insert":"retain",[O,L,j]=A(y[c],E.retain),Z=S.getHandler(O);a[c]={[O]:Z.compose(L,j,c==="retain")}}const s=_.default.compose(y.attributes,E.attributes,typeof y.retain=="number");if(s&&(a.attributes=s),$.push(a),!W.hasNext()&&m($.ops[$.ops.length-1],a)){const c=new S(D.rest());return $.concat(c).chop()}}else typeof E.delete=="number"&&(typeof y.retain=="number"||typeof y.retain=="object"&&y.retain!==null)&&$.push(E)}return $.chop()}concat(x){const D=new S(this.ops.slice());return x.ops.length>0&&(D.push(x.ops[0]),D.ops=D.ops.concat(x.ops.slice(1))),D}diff(x,D){if(this.ops===x.ops)return new S;const W=[this,x].map(y=>y.map(E=>{if(E.insert!=null)return typeof E.insert=="string"?E.insert:I;const a=y===x?"on":"with";throw new Error("diff() called "+a+" non-document")}).join("")),R=new S,U=p(W[0],W[1],D),$=new M.default(this.ops),k=new M.default(x.ops);return U.forEach(y=>{let E=y[1].length;for(;E>0;){let a=0;switch(y[0]){case p.INSERT:a=Math.min(k.peekLength(),E),R.push(k.next(a));break;case p.DELETE:a=Math.min(E,$.peekLength()),$.next(a),R.delete(a);break;case p.EQUAL:a=Math.min($.peekLength(),k.peekLength(),E);const s=$.next(a),c=k.next(a);m(s.insert,c.insert)?R.retain(a,_.default.diff(s.attributes,c.attributes)):R.push(c).delete(a);break}E-=a}}),R.chop()}eachLine(x,D=`
`){const W=new M.default(this.ops);let R=new S,U=0;for(;W.hasNext();){if(W.peekType()!=="insert")return;const $=W.peek(),k=B.default.length($)-W.peekLength(),y=typeof $.insert=="string"?$.insert.indexOf(D,k)-k:-1;if(y<0)R.push(W.next());else if(y>0)R.push(W.next(y));else{if(x(R,W.next(1).attributes||{},U)===!1)return;U+=1,R=new S}}R.length()>0&&x(R,{},U)}invert(x){const D=new S;return this.reduce((W,R)=>{if(R.insert)D.delete(B.default.length(R));else{if(typeof R.retain=="number"&&R.attributes==null)return D.retain(R.retain),W+R.retain;if(R.delete||typeof R.retain=="number"){const U=R.delete||R.retain;return x.slice(W,W+U).forEach(k=>{R.delete?D.push(k):R.retain&&R.attributes&&D.retain(B.default.length(k),_.default.invert(R.attributes,k.attributes))}),W+U}else if(typeof R.retain=="object"&&R.retain!==null){const U=x.slice(W,W+1),$=new M.default(U.ops).next(),[k,y,E]=A(R.retain,$.insert),a=S.getHandler(k);return D.retain({[k]:a.invert(y,E)},_.default.invert(R.attributes,$.attributes)),W+1}}return W},0),D.chop()}transform(x,D=!1){if(D=!!D,typeof x=="number")return this.transformPosition(x,D);const W=x,R=new M.default(this.ops),U=new M.default(W.ops),$=new S;for(;R.hasNext()||U.hasNext();)if(R.peekType()==="insert"&&(D||U.peekType()!=="insert"))$.retain(B.default.length(R.next()));else if(U.peekType()==="insert")$.push(U.next());else{const k=Math.min(R.peekLength(),U.peekLength()),y=R.next(k),E=U.next(k);if(y.delete)continue;if(E.delete)$.push(E);else{const a=y.retain,s=E.retain;let c=typeof s=="object"&&s!==null?s:k;if(typeof a=="object"&&a!==null&&typeof s=="object"&&s!==null){const O=Object.keys(a)[0];if(O===Object.keys(s)[0]){const L=S.getHandler(O);L&&(c={[O]:L.transform(a[O],s[O],D)})}}$.retain(c,_.default.transform(y.attributes,E.attributes,D))}}return $.chop()}transformPosition(x,D=!1){D=!!D;const W=new M.default(this.ops);let R=0;for(;W.hasNext()&&R<=x;){const U=W.peekLength(),$=W.peekType();if(W.next(),$==="delete"){x-=Math.min(U,x-R);continue}else $==="insert"&&(R<x||!D)&&(x+=U);R+=U}return x}}S.Op=B.default,S.OpIterator=M.default,S.AttributeMap=_.default,S.handlers={},C.default=S,h.exports=S,h.exports.default=S},6237:(h,C)=>{Object.defineProperty(C,"__esModule",{value:!0});var t;(function(p){function v(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.retain=="object"&&m.retain!==null?1:typeof m.insert=="string"?m.insert.length:1}p.length=v})(t||(t={})),C.default=t},2849:(h,C,t)=>{Object.defineProperty(C,"__esModule",{value:!0});const p=t(6237);class v{constructor(_){this.ops=_,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(_){_||(_=1/0);const B=this.ops[this.index];if(B){const M=this.offset,I=p.default.length(B);if(_>=I-M?(_=I-M,this.index+=1,this.offset=0):this.offset+=_,typeof B.delete=="number")return{delete:_};{const A={};return B.attributes&&(A.attributes=B.attributes),typeof B.retain=="number"?A.retain=_:typeof B.retain=="object"&&B.retain!==null?A.retain=B.retain:typeof B.insert=="string"?A.insert=B.insert.substr(M,_):A.insert=B.insert,A}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?p.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const _=this.ops[this.index];return _?typeof _.delete=="number"?"delete":typeof _.retain=="number"||typeof _.retain=="object"&&_.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const _=this.offset,B=this.index,M=this.next(),I=this.ops.slice(this.index);return this.offset=_,this.index=B,[M].concat(I)}}else return[]}}C.default=v},1863:(h,C,t)=>{var p=t(9731);h.exports=p},6572:(h,C,t)=>{var p=t(4401);h.exports=p},2318:(h,C,t)=>{var p=t(3661);h.exports=p},576:(h,C,t)=>{var p=t(5606);h.exports=p},2327:(h,C,t)=>{t(5445);var p=t(6731);h.exports=p("Array","fill")},3274:(h,C,t)=>{t(9477),t(6272);var p=t(577);h.exports=p.Array.from},5339:(h,C,t)=>{t(2947);var p=t(577);h.exports=p.Object.values},1189:(h,C,t)=>{t(538);var p=t(6731);h.exports=p("String","endsWith")},5142:(h,C,t)=>{t(297)},1019:(h,C,t)=>{t(4660)},1183:(h,C,t)=>{t(5275)},2570:(h,C,t)=>{t(2839)},297:(h,C,t)=>{var p=t(1863);h.exports=p},4660:(h,C,t)=>{var p=t(6572);h.exports=p},5275:(h,C,t)=>{var p=t(2318);h.exports=p},2839:(h,C,t)=>{var p=t(576);h.exports=p},6324:(h,C,t)=>{var p=t(2539),v=t(7471),m=TypeError;h.exports=function(_){if(p(_))return _;throw new m(v(_)+" is not a function")}},2162:(h,C,t)=>{var p=t(2539),v=String,m=TypeError;h.exports=function(_){if(typeof _=="object"||p(_))return _;throw new m("Can't set "+v(_)+" as a prototype")}},2572:(h,C,t)=>{var p=t(5485),v=t(3830),m=t(8503).f,_=p("unscopables"),B=Array.prototype;B[_]===void 0&&m(B,_,{configurable:!0,value:v(null)}),h.exports=function(M){B[_][M]=!0}},8874:(h,C,t)=>{var p=t(3988),v=String,m=TypeError;h.exports=function(_){if(p(_))return _;throw new m(v(_)+" is not an object")}},9236:(h,C,t)=>{var p=t(6015),v=t(7234),m=t(3235);h.exports=function(B){for(var M=p(this),I=m(M),A=arguments.length,S=v(A>1?arguments[1]:void 0,I),N=A>2?arguments[2]:void 0,x=N===void 0?I:v(N,I);x>S;)M[S++]=B;return M}},8459:(h,C,t)=>{var p=t(9794),v=t(2977),m=t(6015),_=t(9154),B=t(7024),M=t(6467),I=t(3235),A=t(3003),S=t(2387),N=t(7874),x=Array;h.exports=function(W){var R=m(W),U=M(this),$=arguments.length,k=$>1?arguments[1]:void 0,y=k!==void 0;y&&(k=p(k,$>2?arguments[2]:void 0));var E=N(R),a=0,s,c,O,L,j,Z;if(E&&!(this===x&&B(E)))for(L=S(R,E),j=L.next,c=U?new this:[];!(O=v(j,L)).done;a++)Z=y?_(L,k,[O.value,a],!0):O.value,A(c,a,Z);else for(s=I(R),c=U?new this(s):x(s);s>a;a++)Z=y?k(R[a],a):R[a],A(c,a,Z);return c.length=a,c}},5644:(h,C,t)=>{var p=t(7625),v=t(7234),m=t(3235),_=function(B){return function(M,I,A){var S=p(M),N=m(S),x=v(A,N),D;if(B&&I!==I){for(;N>x;)if(D=S[x++],D!==D)return!0}else for(;N>x;x++)if((B||x in S)&&S[x]===I)return B||x||0;return!B&&-1}};h.exports={includes:_(!0),indexOf:_(!1)}},9154:(h,C,t)=>{var p=t(8874),v=t(8880);h.exports=function(m,_,B,M){try{return M?_(p(B)[0],B[1]):_(B)}catch(I){v(m,"throw",I)}}},3346:(h,C,t)=>{var p=t(5485),v=p("iterator"),m=!1;try{var _=0,B={next:function(){return{done:!!_++}},return:function(){m=!0}};B[v]=function(){return this},Array.from(B,function(){throw 2})}catch{}h.exports=function(M,I){try{if(!I&&!m)return!1}catch{return!1}var A=!1;try{var S={};S[v]=function(){return{next:function(){return{done:A=!0}}}},M(S)}catch{}return A}},4545:(h,C,t)=>{var p=t(4038),v=p({}.toString),m=p("".slice);h.exports=function(_){return m(v(_),8,-1)}},2702:(h,C,t)=>{var p=t(1923),v=t(2539),m=t(4545),_=t(5485),B=_("toStringTag"),M=Object,I=m(function(){return arguments}())==="Arguments",A=function(S,N){try{return S[N]}catch{}};h.exports=p?m:function(S){var N,x,D;return S===void 0?"Undefined":S===null?"Null":typeof(x=A(N=M(S),B))=="string"?x:I?m(N):(D=m(N))==="Object"&&v(N.callee)?"Arguments":D}},1358:(h,C,t)=>{var p=t(2623),v=t(3054),m=t(3037),_=t(8503);h.exports=function(B,M,I){for(var A=v(M),S=_.f,N=m.f,x=0;x<A.length;x++){var D=A[x];!p(B,D)&&!(I&&p(I,D))&&S(B,D,N(M,D))}}},6775:(h,C,t)=>{var p=t(5485),v=p("match");h.exports=function(m){var _=/./;try{"/./"[m](_)}catch{try{return _[v]=!1,"/./"[m](_)}catch{}}return!1}},6141:(h,C,t)=>{var p=t(5202);h.exports=!p(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},3585:h=>{h.exports=function(C,t){return{value:C,done:t}}},8868:(h,C,t)=>{var p=t(5007),v=t(8503),m=t(4238);h.exports=p?function(_,B,M){return v.f(_,B,m(1,M))}:function(_,B,M){return _[B]=M,_}},4238:h=>{h.exports=function(C,t){return{enumerable:!(C&1),configurable:!(C&2),writable:!(C&4),value:t}}},3003:(h,C,t)=>{var p=t(3164),v=t(8503),m=t(4238);h.exports=function(_,B,M){var I=p(B);I in _?v.f(_,I,m(0,M)):_[I]=M}},916:(h,C,t)=>{var p=t(2539),v=t(8503),m=t(6614),_=t(2136);h.exports=function(B,M,I,A){A||(A={});var S=A.enumerable,N=A.name!==void 0?A.name:M;if(p(I)&&m(I,N,A),A.global)S?B[M]=I:_(M,I);else{try{A.unsafe?B[M]&&(S=!0):delete B[M]}catch{}S?B[M]=I:v.f(B,M,{value:I,enumerable:!1,configurable:!A.nonConfigurable,writable:!A.nonWritable})}return B}},2136:(h,C,t)=>{var p=t(730),v=Object.defineProperty;h.exports=function(m,_){try{v(p,m,{value:_,configurable:!0,writable:!0})}catch{p[m]=_}return _}},5007:(h,C,t)=>{var p=t(5202);h.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},8629:h=>{var C=typeof document=="object"&&document.all,t=typeof C>"u"&&C!==void 0;h.exports={all:C,IS_HTMLDDA:t}},2215:(h,C,t)=>{var p=t(730),v=t(3988),m=p.document,_=v(m)&&v(m.createElement);h.exports=function(B){return _?m.createElement(B):{}}},932:h=>{h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7626:(h,C,t)=>{var p=t(730),v=t(932),m=p.process,_=p.Deno,B=m&&m.versions||_&&_.version,M=B&&B.v8,I,A;M&&(I=M.split("."),A=I[0]>0&&I[0]<4?1:+(I[0]+I[1])),!A&&v&&(I=v.match(/Edge\/(\d+)/),(!I||I[1]>=74)&&(I=v.match(/Chrome\/(\d+)/),I&&(A=+I[1]))),h.exports=A},6731:(h,C,t)=>{var p=t(730),v=t(4038);h.exports=function(m,_){return v(p[m].prototype[_])}},8552:h=>{h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2189:(h,C,t)=>{var p=t(730),v=t(3037).f,m=t(8868),_=t(916),B=t(2136),M=t(1358),I=t(3455);h.exports=function(A,S){var N=A.target,x=A.global,D=A.stat,W,R,U,$,k,y;if(x?R=p:D?R=p[N]||B(N,{}):R=(p[N]||{}).prototype,R)for(U in S){if(k=S[U],A.dontCallGetSet?(y=v(R,U),$=y&&y.value):$=R[U],W=I(x?U:N+(D?".":"#")+U,A.forced),!W&&$!==void 0){if(typeof k==typeof $)continue;M(k,$)}(A.sham||$&&$.sham)&&m(k,"sham",!0),_(R,U,k,A)}}},5202:h=>{h.exports=function(C){try{return!!C()}catch{return!0}}},9794:(h,C,t)=>{var p=t(6192),v=t(6324),m=t(2865),_=p(p.bind);h.exports=function(B,M){return v(B),M===void 0?B:m?_(B,M):function(){return B.apply(M,arguments)}}},2865:(h,C,t)=>{var p=t(5202);h.exports=!p(function(){var v=(function(){}).bind();return typeof v!="function"||v.hasOwnProperty("prototype")})},2977:(h,C,t)=>{var p=t(2865),v=Function.prototype.call;h.exports=p?v.bind(v):function(){return v.apply(v,arguments)}},9895:(h,C,t)=>{var p=t(5007),v=t(2623),m=Function.prototype,_=p&&Object.getOwnPropertyDescriptor,B=v(m,"name"),M=B&&(function(){}).name==="something",I=B&&(!p||p&&_(m,"name").configurable);h.exports={EXISTS:B,PROPER:M,CONFIGURABLE:I}},6589:(h,C,t)=>{var p=t(4038),v=t(6324);h.exports=function(m,_,B){try{return p(v(Object.getOwnPropertyDescriptor(m,_)[B]))}catch{}}},6192:(h,C,t)=>{var p=t(4545),v=t(4038);h.exports=function(m){if(p(m)==="Function")return v(m)}},4038:(h,C,t)=>{var p=t(2865),v=Function.prototype,m=v.call,_=p&&v.bind.bind(m,m);h.exports=p?_:function(B){return function(){return m.apply(B,arguments)}}},7300:(h,C,t)=>{var p=t(730),v=t(2539),m=function(_){return v(_)?_:void 0};h.exports=function(_,B){return arguments.length<2?m(p[_]):p[_]&&p[_][B]}},7874:(h,C,t)=>{var p=t(2702),v=t(3923),m=t(2219),_=t(7817),B=t(5485),M=B("iterator");h.exports=function(I){if(!m(I))return v(I,M)||v(I,"@@iterator")||_[p(I)]}},2387:(h,C,t)=>{var p=t(2977),v=t(6324),m=t(8874),_=t(7471),B=t(7874),M=TypeError;h.exports=function(I,A){var S=arguments.length<2?B(I):A;if(v(S))return m(p(S,I));throw new M(_(I)+" is not iterable")}},3923:(h,C,t)=>{var p=t(6324),v=t(2219);h.exports=function(m,_){var B=m[_];return v(B)?void 0:p(B)}},730:function(h,C,t){var p=function(v){return v&&v.Math===Math&&v};h.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof t.g=="object"&&t.g)||p(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},2623:(h,C,t)=>{var p=t(4038),v=t(6015),m=p({}.hasOwnProperty);h.exports=Object.hasOwn||function(B,M){return m(v(B),M)}},7467:h=>{h.exports={}},845:(h,C,t)=>{var p=t(7300);h.exports=p("document","documentElement")},2470:(h,C,t)=>{var p=t(5007),v=t(5202),m=t(2215);h.exports=!p&&!v(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!==7})},6854:(h,C,t)=>{var p=t(4038),v=t(5202),m=t(4545),_=Object,B=p("".split);h.exports=v(function(){return!_("z").propertyIsEnumerable(0)})?function(M){return m(M)==="String"?B(M,""):_(M)}:_},7821:(h,C,t)=>{var p=t(4038),v=t(2539),m=t(6838),_=p(Function.toString);v(m.inspectSource)||(m.inspectSource=function(B){return _(B)}),h.exports=m.inspectSource},5378:(h,C,t)=>{var p=t(2543),v=t(730),m=t(3988),_=t(8868),B=t(2623),M=t(6838),I=t(3511),A=t(7467),S="Object already initialized",N=v.TypeError,x=v.WeakMap,D,W,R,U=function(E){return R(E)?W(E):D(E,{})},$=function(E){return function(a){var s;if(!m(a)||(s=W(a)).type!==E)throw new N("Incompatible receiver, "+E+" required");return s}};if(p||M.state){var k=M.state||(M.state=new x);k.get=k.get,k.has=k.has,k.set=k.set,D=function(E,a){if(k.has(E))throw new N(S);return a.facade=E,k.set(E,a),a},W=function(E){return k.get(E)||{}},R=function(E){return k.has(E)}}else{var y=I("state");A[y]=!0,D=function(E,a){if(B(E,y))throw new N(S);return a.facade=E,_(E,y,a),a},W=function(E){return B(E,y)?E[y]:{}},R=function(E){return B(E,y)}}h.exports={set:D,get:W,has:R,enforce:U,getterFor:$}},7024:(h,C,t)=>{var p=t(5485),v=t(7817),m=p("iterator"),_=Array.prototype;h.exports=function(B){return B!==void 0&&(v.Array===B||_[m]===B)}},2539:(h,C,t)=>{var p=t(8629),v=p.all;h.exports=p.IS_HTMLDDA?function(m){return typeof m=="function"||m===v}:function(m){return typeof m=="function"}},6467:(h,C,t)=>{var p=t(4038),v=t(5202),m=t(2539),_=t(2702),B=t(7300),M=t(7821),I=function(){},A=[],S=B("Reflect","construct"),N=/^\s*(?:class|function)\b/,x=p(N.exec),D=!N.test(I),W=function($){if(!m($))return!1;try{return S(I,A,$),!0}catch{return!1}},R=function($){if(!m($))return!1;switch(_($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D||!!x(N,M($))}catch{return!0}};R.sham=!0,h.exports=!S||v(function(){var U;return W(W.call)||!W(Object)||!W(function(){U=!0})||U})?R:W},3455:(h,C,t)=>{var p=t(5202),v=t(2539),m=/#|\.prototype\./,_=function(S,N){var x=M[B(S)];return x===A?!0:x===I?!1:v(N)?p(N):!!N},B=_.normalize=function(S){return String(S).replace(m,".").toLowerCase()},M=_.data={},I=_.NATIVE="N",A=_.POLYFILL="P";h.exports=_},2219:h=>{h.exports=function(C){return C==null}},3988:(h,C,t)=>{var p=t(2539),v=t(8629),m=v.all;h.exports=v.IS_HTMLDDA?function(_){return typeof _=="object"?_!==null:p(_)||_===m}:function(_){return typeof _=="object"?_!==null:p(_)}},4708:h=>{h.exports=!1},184:(h,C,t)=>{var p=t(3988),v=t(4545),m=t(5485),_=m("match");h.exports=function(B){var M;return p(B)&&((M=B[_])!==void 0?!!M:v(B)==="RegExp")}},8820:(h,C,t)=>{var p=t(7300),v=t(2539),m=t(7676),_=t(3713),B=Object;h.exports=_?function(M){return typeof M=="symbol"}:function(M){var I=p("Symbol");return v(I)&&m(I.prototype,B(M))}},8880:(h,C,t)=>{var p=t(2977),v=t(8874),m=t(3923);h.exports=function(_,B,M){var I,A;v(_);try{if(I=m(_,"return"),!I){if(B==="throw")throw M;return M}I=p(I,_)}catch(S){A=!0,I=S}if(B==="throw")throw M;if(A)throw I;return v(I),M}},3450:(h,C,t)=>{var p=t(344).IteratorPrototype,v=t(3830),m=t(4238),_=t(3506),B=t(7817),M=function(){return this};h.exports=function(I,A,S,N){var x=A+" Iterator";return I.prototype=v(p,{next:m(+!N,S)}),_(I,x,!1,!0),B[x]=M,I}},3174:(h,C,t)=>{var p=t(2189),v=t(2977),m=t(4708),_=t(9895),B=t(2539),M=t(3450),I=t(8059),A=t(5502),S=t(3506),N=t(8868),x=t(916),D=t(5485),W=t(7817),R=t(344),U=_.PROPER,$=_.CONFIGURABLE,k=R.IteratorPrototype,y=R.BUGGY_SAFARI_ITERATORS,E=D("iterator"),a="keys",s="values",c="entries",O=function(){return this};h.exports=function(L,j,Z,et,ut,dt,pt){M(Z,j,et);var lt=function(Q){if(Q===ut&&st)return st;if(!y&&Q&&Q in vt)return vt[Q];switch(Q){case a:return function(){return new Z(this,Q)};case s:return function(){return new Z(this,Q)};case c:return function(){return new Z(this,Q)}}return function(){return new Z(this)}},_t=j+" Iterator",G=!1,vt=L.prototype,rt=vt[E]||vt["@@iterator"]||ut&&vt[ut],st=!y&&rt||lt(ut),H=j==="Array"&&vt.entries||rt,w,q,J;if(H&&(w=I(H.call(new L)),w!==Object.prototype&&w.next&&(!m&&I(w)!==k&&(A?A(w,k):B(w[E])||x(w,E,O)),S(w,_t,!0,!0),m&&(W[_t]=O))),U&&ut===s&&rt&&rt.name!==s&&(!m&&$?N(vt,"name",s):(G=!0,st=function(){return v(rt,this)})),ut)if(q={values:lt(s),keys:dt?st:lt(a),entries:lt(c)},pt)for(J in q)(y||G||!(J in vt))&&x(vt,J,q[J]);else p({target:j,proto:!0,forced:y||G},q);return(!m||pt)&&vt[E]!==st&&x(vt,E,st,{name:ut}),W[j]=st,q}},344:(h,C,t)=>{var p=t(5202),v=t(2539),m=t(3988),_=t(3830),B=t(8059),M=t(916),I=t(5485),A=t(4708),S=I("iterator"),N=!1,x,D,W;[].keys&&(W=[].keys(),"next"in W?(D=B(B(W)),D!==Object.prototype&&(x=D)):N=!0);var R=!m(x)||p(function(){var U={};return x[S].call(U)!==U});R?x={}:A&&(x=_(x)),v(x[S])||M(x,S,function(){return this}),h.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:N}},7817:h=>{h.exports={}},3235:(h,C,t)=>{var p=t(3627);h.exports=function(v){return p(v.length)}},6614:(h,C,t)=>{var p=t(4038),v=t(5202),m=t(2539),_=t(2623),B=t(5007),M=t(9895).CONFIGURABLE,I=t(7821),A=t(5378),S=A.enforce,N=A.get,x=String,D=Object.defineProperty,W=p("".slice),R=p("".replace),U=p([].join),$=B&&!v(function(){return D(function(){},"length",{value:8}).length!==8}),k=String(String).split("String"),y=h.exports=function(E,a,s){W(x(a),0,7)==="Symbol("&&(a="["+R(x(a),/^Symbol\(([^)]*)\)/,"$1")+"]"),s&&s.getter&&(a="get "+a),s&&s.setter&&(a="set "+a),(!_(E,"name")||M&&E.name!==a)&&(B?D(E,"name",{value:a,configurable:!0}):E.name=a),$&&s&&_(s,"arity")&&E.length!==s.arity&&D(E,"length",{value:s.arity});try{s&&_(s,"constructor")&&s.constructor?B&&D(E,"prototype",{writable:!1}):E.prototype&&(E.prototype=void 0)}catch{}var c=S(E);return _(c,"source")||(c.source=U(k,typeof a=="string"?a:"")),E};Function.prototype.toString=y(function(){return m(this)&&N(this).source||I(this)},"toString")},3041:h=>{var C=Math.ceil,t=Math.floor;h.exports=Math.trunc||function(v){var m=+v;return(m>0?t:C)(m)}},50:(h,C,t)=>{var p=t(184),v=TypeError;h.exports=function(m){if(p(m))throw new v("The method doesn't accept regular expressions");return m}},3830:(h,C,t)=>{var p=t(8874),v=t(3944),m=t(8552),_=t(7467),B=t(845),M=t(2215),I=t(3511),A=">",S="<",N="prototype",x="script",D=I("IE_PROTO"),W=function(){},R=function(E){return S+x+A+E+S+"/"+x+A},U=function(E){E.write(R("")),E.close();var a=E.parentWindow.Object;return E=null,a},$=function(){var E=M("iframe"),a="java"+x+":",s;return E.style.display="none",B.appendChild(E),E.src=String(a),s=E.contentWindow.document,s.open(),s.write(R("document.F=Object")),s.close(),s.F},k,y=function(){try{k=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&k?U(k):$():U(k);for(var E=m.length;E--;)delete y[N][m[E]];return y()};_[D]=!0,h.exports=Object.create||function(a,s){var c;return a!==null?(W[N]=p(a),c=new W,W[N]=null,c[D]=a):c=y(),s===void 0?c:v.f(c,s)}},3944:(h,C,t)=>{var p=t(5007),v=t(2268),m=t(8503),_=t(8874),B=t(7625),M=t(4254);C.f=p&&!v?Object.defineProperties:function(A,S){_(A);for(var N=B(S),x=M(S),D=x.length,W=0,R;D>W;)m.f(A,R=x[W++],N[R]);return A}},8503:(h,C,t)=>{var p=t(5007),v=t(2470),m=t(2268),_=t(8874),B=t(3164),M=TypeError,I=Object.defineProperty,A=Object.getOwnPropertyDescriptor,S="enumerable",N="configurable",x="writable";C.f=p?m?function(W,R,U){if(_(W),R=B(R),_(U),typeof W=="function"&&R==="prototype"&&"value"in U&&x in U&&!U[x]){var $=A(W,R);$&&$[x]&&(W[R]=U.value,U={configurable:N in U?U[N]:$[N],enumerable:S in U?U[S]:$[S],writable:!1})}return I(W,R,U)}:I:function(W,R,U){if(_(W),R=B(R),_(U),v)try{return I(W,R,U)}catch{}if("get"in U||"set"in U)throw new M("Accessors not supported");return"value"in U&&(W[R]=U.value),W}},3037:(h,C,t)=>{var p=t(5007),v=t(2977),m=t(6251),_=t(4238),B=t(7625),M=t(3164),I=t(2623),A=t(2470),S=Object.getOwnPropertyDescriptor;C.f=p?S:function(x,D){if(x=B(x),D=M(D),A)try{return S(x,D)}catch{}if(I(x,D))return _(!v(m.f,x,D),x[D])}},5974:(h,C,t)=>{var p=t(7862),v=t(8552),m=v.concat("length","prototype");C.f=Object.getOwnPropertyNames||function(B){return p(B,m)}},1526:(h,C)=>{C.f=Object.getOwnPropertySymbols},8059:(h,C,t)=>{var p=t(2623),v=t(2539),m=t(6015),_=t(3511),B=t(6141),M=_("IE_PROTO"),I=Object,A=I.prototype;h.exports=B?I.getPrototypeOf:function(S){var N=m(S);if(p(N,M))return N[M];var x=N.constructor;return v(x)&&N instanceof x?x.prototype:N instanceof I?A:null}},7676:(h,C,t)=>{var p=t(4038);h.exports=p({}.isPrototypeOf)},7862:(h,C,t)=>{var p=t(4038),v=t(2623),m=t(7625),_=t(5644).indexOf,B=t(7467),M=p([].push);h.exports=function(I,A){var S=m(I),N=0,x=[],D;for(D in S)!v(B,D)&&v(S,D)&&M(x,D);for(;A.length>N;)v(S,D=A[N++])&&(~_(x,D)||M(x,D));return x}},4254:(h,C,t)=>{var p=t(7862),v=t(8552);h.exports=Object.keys||function(_){return p(_,v)}},6251:(h,C)=>{var t={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,v=p&&!t.call({1:2},1);C.f=v?function(_){var B=p(this,_);return!!B&&B.enumerable}:t},5502:(h,C,t)=>{var p=t(6589),v=t(8874),m=t(2162);h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _=!1,B={},M;try{M=p(Object.prototype,"__proto__","set"),M(B,[]),_=B instanceof Array}catch{}return function(A,S){return v(A),m(S),_?M(A,S):A.__proto__=S,A}}():void 0)},7830:(h,C,t)=>{var p=t(5007),v=t(5202),m=t(4038),_=t(8059),B=t(4254),M=t(7625),I=t(6251).f,A=m(I),S=m([].push),N=p&&v(function(){var D=Object.create(null);return D[2]=2,!A(D,2)}),x=function(D){return function(W){for(var R=M(W),U=B(R),$=N&&_(R)===null,k=U.length,y=0,E=[],a;k>y;)a=U[y++],(!p||($?a in R:A(R,a)))&&S(E,D?[a,R[a]]:R[a]);return E}};h.exports={entries:x(!0),values:x(!1)}},532:(h,C,t)=>{var p=t(2977),v=t(2539),m=t(3988),_=TypeError;h.exports=function(B,M){var I,A;if(M==="string"&&v(I=B.toString)&&!m(A=p(I,B))||v(I=B.valueOf)&&!m(A=p(I,B))||M!=="string"&&v(I=B.toString)&&!m(A=p(I,B)))return A;throw new _("Can't convert object to primitive value")}},3054:(h,C,t)=>{var p=t(7300),v=t(4038),m=t(5974),_=t(1526),B=t(8874),M=v([].concat);h.exports=p("Reflect","ownKeys")||function(A){var S=m.f(B(A)),N=_.f;return N?M(S,N(A)):S}},577:(h,C,t)=>{var p=t(730);h.exports=p},6373:(h,C,t)=>{var p=t(2219),v=TypeError;h.exports=function(m){if(p(m))throw new v("Can't call method on "+m);return m}},3506:(h,C,t)=>{var p=t(8503).f,v=t(2623),m=t(5485),_=m("toStringTag");h.exports=function(B,M,I){B&&!I&&(B=B.prototype),B&&!v(B,_)&&p(B,_,{configurable:!0,value:M})}},3511:(h,C,t)=>{var p=t(6568),v=t(2858),m=p("keys");h.exports=function(_){return m[_]||(m[_]=v(_))}},6838:(h,C,t)=>{var p=t(730),v=t(2136),m="__core-js_shared__",_=p[m]||v(m,{});h.exports=_},6568:(h,C,t)=>{var p=t(4708),v=t(6838);(h.exports=function(m,_){return v[m]||(v[m]=_!==void 0?_:{})})("versions",[]).push({version:"3.34.0",mode:p?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6365:(h,C,t)=>{var p=t(4038),v=t(3550),m=t(2532),_=t(6373),B=p("".charAt),M=p("".charCodeAt),I=p("".slice),A=function(S){return function(N,x){var D=m(_(N)),W=v(x),R=D.length,U,$;return W<0||W>=R?S?"":void 0:(U=M(D,W),U<55296||U>56319||W+1===R||($=M(D,W+1))<56320||$>57343?S?B(D,W):U:S?I(D,W,W+2):(U-55296<<10)+($-56320)+65536)}};h.exports={codeAt:A(!1),charAt:A(!0)}},3370:(h,C,t)=>{var p=t(7626),v=t(5202),m=t(730),_=m.String;h.exports=!!Object.getOwnPropertySymbols&&!v(function(){var B=Symbol("symbol detection");return!_(B)||!(Object(B)instanceof Symbol)||!Symbol.sham&&p&&p<41})},7234:(h,C,t)=>{var p=t(3550),v=Math.max,m=Math.min;h.exports=function(_,B){var M=p(_);return M<0?v(M+B,0):m(M,B)}},7625:(h,C,t)=>{var p=t(6854),v=t(6373);h.exports=function(m){return p(v(m))}},3550:(h,C,t)=>{var p=t(3041);h.exports=function(v){var m=+v;return m!==m||m===0?0:p(m)}},3627:(h,C,t)=>{var p=t(3550),v=Math.min;h.exports=function(m){return m>0?v(p(m),9007199254740991):0}},6015:(h,C,t)=>{var p=t(6373),v=Object;h.exports=function(m){return v(p(m))}},634:(h,C,t)=>{var p=t(2977),v=t(3988),m=t(8820),_=t(3923),B=t(532),M=t(5485),I=TypeError,A=M("toPrimitive");h.exports=function(S,N){if(!v(S)||m(S))return S;var x=_(S,A),D;if(x){if(N===void 0&&(N="default"),D=p(x,S,N),!v(D)||m(D))return D;throw new I("Can't convert object to primitive value")}return N===void 0&&(N="number"),B(S,N)}},3164:(h,C,t)=>{var p=t(634),v=t(8820);h.exports=function(m){var _=p(m,"string");return v(_)?_:_+""}},1923:(h,C,t)=>{var p=t(5485),v=p("toStringTag"),m={};m[v]="z",h.exports=String(m)==="[object z]"},2532:(h,C,t)=>{var p=t(2702),v=String;h.exports=function(m){if(p(m)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v(m)}},7471:h=>{var C=String;h.exports=function(t){try{return C(t)}catch{return"Object"}}},2858:(h,C,t)=>{var p=t(4038),v=0,m=Math.random(),_=p(1 .toString);h.exports=function(B){return"Symbol("+(B===void 0?"":B)+")_"+_(++v+m,36)}},3713:(h,C,t)=>{var p=t(3370);h.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},2268:(h,C,t)=>{var p=t(5007),v=t(5202);h.exports=p&&v(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2543:(h,C,t)=>{var p=t(730),v=t(2539),m=p.WeakMap;h.exports=v(m)&&/native code/.test(String(m))},5485:(h,C,t)=>{var p=t(730),v=t(6568),m=t(2623),_=t(2858),B=t(3370),M=t(3713),I=p.Symbol,A=v("wks"),S=M?I.for||I:I&&I.withoutSetter||_;h.exports=function(N){return m(A,N)||(A[N]=B&&m(I,N)?I[N]:S("Symbol."+N)),A[N]}},5445:(h,C,t)=>{var p=t(2189),v=t(9236),m=t(2572);p({target:"Array",proto:!0},{fill:v}),m("fill")},6272:(h,C,t)=>{var p=t(2189),v=t(8459),m=t(3346),_=!m(function(B){Array.from(B)});p({target:"Array",stat:!0,forced:_},{from:v})},2947:(h,C,t)=>{var p=t(2189),v=t(7830).values;p({target:"Object",stat:!0},{values:function(_){return v(_)}})},538:(h,C,t)=>{var p=t(2189),v=t(6192),m=t(3037).f,_=t(3627),B=t(2532),M=t(50),I=t(6373),A=t(6775),S=t(4708),N=v("".endsWith),x=v("".slice),D=Math.min,W=A("endsWith"),R=!S&&!W&&!!function(){var U=m(String.prototype,"endsWith");return U&&!U.writable}();p({target:"String",proto:!0,forced:!R&&!W},{endsWith:function($){var k=B(I(this));M($);var y=arguments.length>1?arguments[1]:void 0,E=k.length,a=y===void 0?E:D(_(y),E),s=B($);return N?N(k,s,a):x(k,a-s.length,a)===s}})},9477:(h,C,t)=>{var p=t(6365).charAt,v=t(2532),m=t(5378),_=t(3174),B=t(3585),M="String Iterator",I=m.set,A=m.getterFor(M);_(String,"String",function(S){I(this,{type:M,string:v(S),index:0})},function(){var N=A(this),x=N.string,D=N.index,W;return D>=x.length?B(void 0,!0):(W=p(x,D),N.index+=W.length,B(W,!1))})},9731:(h,C,t)=>{var p=t(2327);h.exports=p},4401:(h,C,t)=>{var p=t(3274);h.exports=p},3661:(h,C,t)=>{var p=t(5339);h.exports=p},5606:(h,C,t)=>{var p=t(1189);h.exports=p}},P={};function X(h){var C=P[h];if(C!==void 0)return C.exports;var t=P[h]={id:h,loaded:!1,exports:{}};return n[h].call(t.exports,t,t.exports,X),t.loaded=!0,t.exports}X.n=h=>{var C=h&&h.__esModule?()=>h.default:()=>h;return X.d(C,{a:C}),C},X.d=(h,C)=>{for(var t in C)X.o(C,t)&&!X.o(h,t)&&Object.defineProperty(h,t,{enumerable:!0,get:C[t]})},X.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),X.o=(h,C)=>Object.prototype.hasOwnProperty.call(h,C),X.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},X.nmd=h=>(h.paths=[],h.children||(h.children=[]),h);var Et={};return(()=>{X.d(Et,{default:()=>Ba}),X(1019),X(5142),X(1183),X(2570);var h=X(2432),C=X(715),t=X(4048),p=X(1233);function v(u){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},v(u)}function m(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function _(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,M(nt.key),nt)}}function B(u,l,K){return l&&_(u.prototype,l),K&&_(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function M(u){var l=I(u,"string");return v(l)==="symbol"?l:String(l)}function I(u,l){if(v(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(v(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function A(){return typeof Reflect<"u"&&Reflect.get?A=Reflect.get.bind():A=function(l,K,nt){var Ct=S(l,K);if(Ct){var kt=Object.getOwnPropertyDescriptor(Ct,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},A.apply(this,arguments)}function S(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=$(u),u!==null););return u}function N(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&x(u,l)}function x(u,l){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},x(u,l)}function D(u){var l=U();return function(){var nt=$(u),Ct;if(l){var kt=$(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return W(this,Ct)}}function W(u,l){if(l&&(v(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(u)}function R(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(u){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},$(u)}var k=function(u){N(K,u);var l=D(K);function K(){return m(this,K),l.apply(this,arguments)}return B(K,[{key:"add",value:function(Ct,kt){if(kt==="+1"||kt==="-1"){var ge=this.value(Ct)||0;kt=kt==="+1"?ge+1:ge-1}return kt===0?(this.remove(Ct),!0):A($(K.prototype),"add",this).call(this,Ct,kt)}},{key:"canAdd",value:function(Ct,kt){return A($(K.prototype),"canAdd",this).call(this,Ct,kt)||A($(K.prototype),"canAdd",this).call(this,Ct,parseInt(kt,10))}},{key:"value",value:function(Ct){return parseInt(A($(K.prototype),"value",this).call(this,Ct),10)||void 0}}]),K}(p.ClassAttributor),y=new k("indent","ql-indent",{scope:p.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});const E=y;var a=X(6446);function s(u){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(u)}function c(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,L(nt.key),nt)}}function O(u,l,K){return l&&c(u.prototype,l),K&&c(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function L(u){var l=j(u,"string");return s(l)==="symbol"?l:String(l)}function j(u,l){if(s(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(s(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Z(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function et(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&ut(u,l)}function ut(u,l){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},ut(u,l)}function dt(u){var l=_t();return function(){var nt=G(u),Ct;if(l){var kt=G(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return pt(this,Ct)}}function pt(u,l){if(l&&(s(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lt(u)}function lt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function G(u){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},G(u)}var vt=function(u){et(K,u);var l=dt(K);function K(){return Z(this,K),l.apply(this,arguments)}return O(K)}(a.ZP);vt.blotName="blockquote",vt.tagName="blockquote";const rt=vt;function st(u){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},st(u)}function H(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function w(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,J(nt.key),nt)}}function q(u,l,K){return l&&w(u.prototype,l),K&&w(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function J(u){var l=Q(u,"string");return st(l)==="symbol"?l:String(l)}function Q(u,l){if(st(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(st(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function ct(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&mt(u,l)}function mt(u,l){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},mt(u,l)}function wt(u){var l=gt();return function(){var nt=at(u),Ct;if(l){var kt=at(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return ot(this,Ct)}}function ot(u,l){if(l&&(st(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tt(u)}function tt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function gt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function at(u){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},at(u)}var it=function(u){ct(K,u);var l=wt(K);function K(){return H(this,K),l.apply(this,arguments)}return q(K,null,[{key:"formats",value:function(Ct){return this.tagName.indexOf(Ct.tagName)+1}}]),K}(a.ZP);it.blotName="header",it.tagName=["H1","H2","H3","H4","H5","H6"];const ft=it;var Y=X(3553),T=X(281);function o(u){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},o(u)}function i(){return typeof Reflect<"u"&&Reflect.get?i=Reflect.get.bind():i=function(l,K,nt){var Ct=f(l,K);if(Ct){var kt=Object.getOwnPropertyDescriptor(Ct,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},i.apply(this,arguments)}function f(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=It(u),u!==null););return u}function g(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,ht(nt.key),nt)}}function V(u,l,K){return l&&g(u.prototype,l),K&&g(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function ht(u){var l=At(u,"string");return o(l)==="symbol"?l:String(l)}function At(u,l){if(o(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(o(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Ht(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Ft(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Yt(u,l)}function Yt(u,l){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},Yt(u,l)}function qt(u){var l=Pt();return function(){var nt=It(u),Ct;if(l){var kt=It(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return Jt(this,Ct)}}function Jt(u,l){if(l&&(o(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bt(u)}function bt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function It(u){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},It(u)}var Mt=function(u){Ft(K,u);var l=qt(K);function K(){return Ht(this,K),l.apply(this,arguments)}return V(K)}(Y.Z);Mt.blotName="list-container",Mt.tagName="OL";var Nt=function(u){Ft(K,u);var l=qt(K);function K(nt,Ct){var kt;Ht(this,K),kt=l.call(this,nt,Ct);var ge=Ct.ownerDocument.createElement("span"),Li=function(Bi){if(nt.isEnabled()){var Mi=kt.statics.formats(Ct,nt);Mi==="checked"?(kt.format("list","unchecked"),Bi.preventDefault()):Mi==="unchecked"&&(kt.format("list","checked"),Bi.preventDefault())}};return ge.addEventListener("mousedown",Li),ge.addEventListener("touchstart",Li),kt.attachUI(ge),kt}return V(K,[{key:"format",value:function(Ct,kt){Ct===this.statics.blotName&&kt?this.domNode.setAttribute("data-list",kt):i(It(K.prototype),"format",this).call(this,Ct,kt)}}],[{key:"create",value:function(Ct){var kt=i(It(K),"create",this).call(this);return kt.setAttribute("data-list",Ct),kt}},{key:"formats",value:function(Ct){return Ct.getAttribute("data-list")||void 0}},{key:"register",value:function(){T.ZP.register(Mt)}}]),K}(a.ZP);Nt.blotName="list",Nt.tagName="LI",Mt.allowedChildren=[Nt],Nt.requiredContainer=Mt;var $t=X(7898),Dt=X(6039),Ut=X(5832),Kt=X(1629),te=X(3991);function ae(u){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ae(u)}function ue(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Te(nt.key),nt)}}function pe(u,l,K){return l&&ue(u.prototype,l),K&&ue(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Te(u){var l=yt(u,"string");return ae(l)==="symbol"?l:String(l)}function yt(u,l){if(ae(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(ae(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Tt(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function St(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Lt(u,l)}function Lt(u,l){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},Lt(u,l)}function Rt(u){var l=Zt();return function(){var nt=Xt(u),Ct;if(l){var kt=Xt(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return xt(this,Ct)}}function xt(u,l){if(l&&(ae(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jt(u)}function jt(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xt(u){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Xt(u)}var ee=function(u){St(K,u);var l=Rt(K);function K(){return Tt(this,K),l.apply(this,arguments)}return pe(K)}(te.Z);ee.blotName="italic",ee.tagName=["EM","I"];const re=ee;var le=X(7256),oe=X(6603);function Ee(u){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ee(u)}function qe(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Xe(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,jr(nt.key),nt)}}function Dr(u,l,K){return l&&Xe(u.prototype,l),K&&Xe(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function jr(u){var l=ve(u,"string");return Ee(l)==="symbol"?l:String(l)}function ve(u,l){if(Ee(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(Ee(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function ir(){return typeof Reflect<"u"&&Reflect.get?ir=Reflect.get.bind():ir=function(l,K,nt){var Ct=kr(l,K);if(Ct){var kt=Object.getOwnPropertyDescriptor(Ct,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},ir.apply(this,arguments)}function kr(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Ne(u),u!==null););return u}function Hr(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&vr(u,l)}function vr(u,l){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},vr(u,l)}function Fr(u){var l=Ur();return function(){var nt=Ne(u),Ct;if(l){var kt=Ne(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return Se(this,Ct)}}function Se(u,l){if(l&&(Ee(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(u)}function mr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Ur(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ne(u){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ne(u)}var Qe=function(u){Hr(K,u);var l=Fr(K);function K(){return qe(this,K),l.apply(this,arguments)}return Dr(K,null,[{key:"create",value:function(Ct){return Ct==="super"?document.createElement("sup"):Ct==="sub"?document.createElement("sub"):ir(Ne(K),"create",this).call(this,Ct)}},{key:"formats",value:function(Ct){if(Ct.tagName==="SUB")return"sub";if(Ct.tagName==="SUP")return"super"}}]),K}(oe.Z);Qe.blotName="script",Qe.tagName=["SUB","SUP"];const Wr=Qe;function we(u){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},we(u)}function or(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,ke(nt.key),nt)}}function ar(u,l,K){return l&&or(u.prototype,l),K&&or(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function ke(u){var l=yr(u,"string");return we(l)==="symbol"?l:String(l)}function yr(u,l){if(we(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(we(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Cr(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function $r(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&gr(u,l)}function gr(u,l){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},gr(u,l)}function Kr(u){var l=br();return function(){var nt=He(u),Ct;if(l){var kt=He(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return Zr(this,Ct)}}function Zr(u,l){if(l&&(we(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lr(u)}function lr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function br(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function He(u){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},He(u)}var sr=function(u){$r(K,u);var l=Kr(K);function K(){return Cr(this,K),l.apply(this,arguments)}return ar(K)}(te.Z);sr.blotName="strike",sr.tagName=["S","STRIKE"];const Tr=sr;function Ze(u){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Ze(u)}function Ye(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,zr(nt.key),nt)}}function _r(u,l,K){return l&&Ye(u.prototype,l),K&&Ye(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function zr(u){var l=Or(u,"string");return Ze(l)==="symbol"?l:String(l)}function Or(u,l){if(Ze(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(Ze(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Sr(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Vr(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&$e(u,l)}function $e(u,l){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},$e(u,l)}function Le(u){var l=Gr();return function(){var nt=Ae(u),Ct;if(l){var kt=Ae(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return Fe(this,Ct)}}function Fe(u,l){if(l&&(Ze(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ke(u)}function Ke(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Gr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ae(u){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ae(u)}var Je=function(u){Vr(K,u);var l=Le(K);function K(){return Sr(this,K),l.apply(this,arguments)}return _r(K)}(oe.Z);Je.blotName="underline",Je.tagName="U";const qr=Je;var Xr=X(7452),wr=X(8034);function xe(u){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},xe(u)}function Oe(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function tr(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,cr(nt.key),nt)}}function ur(u,l,K){return l&&tr(u.prototype,l),K&&tr(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function cr(u){var l=fr(u,"string");return xe(l)==="symbol"?l:String(l)}function fr(u,l){if(xe(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(xe(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Be(){return typeof Reflect<"u"&&Reflect.get?Be=Reflect.get.bind():Be=function(l,K,nt){var Ct=Pr(l,K);if(Ct){var kt=Object.getOwnPropertyDescriptor(Ct,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},Be.apply(this,arguments)}function Pr(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=ze(u),u!==null););return u}function Ue(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Me(u,l)}function Me(u,l){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},Me(u,l)}function Ar(u){var l=dr();return function(){var nt=ze(u),Ct;if(l){var kt=ze(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return De(this,Ct)}}function De(u,l){if(l&&(xe(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rr(u)}function Rr(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function dr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ze(u){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},ze(u)}var hr=function(u){Ue(K,u);var l=Ar(K);function K(){return Oe(this,K),l.apply(this,arguments)}return ur(K,[{key:"html",value:function(){var Ct=this.value(),kt=Ct.formula;return"<span>".concat(kt,"</span>")}}],[{key:"create",value:function(Ct){var kt=null;if((0,wr.Z)()&&(kt=window.katex),kt==null)throw new Error("Formula module requires KaTeX.");var ge=Be(ze(K),"create",this).call(this,Ct);return typeof Ct=="string"&&(kt.render(Ct,ge,{throwOnError:!1,errorColor:"#f00"}),ge.setAttribute("data-value",Ct)),ge}},{key:"value",value:function(Ct){return Ct.getAttribute("data-value")}}]),K}(Xr.Z);hr.blotName="formula",hr.className="ql-formula",hr.tagName="SPAN";const d=hr;function F(u){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},F(u)}function b(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function z(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Bt(nt.key),nt)}}function Ot(u,l,K){return l&&z(u.prototype,l),K&&z(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Bt(u){var l=zt(u,"string");return F(l)==="symbol"?l:String(l)}function zt(u,l){if(F(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(F(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Gt(){return typeof Reflect<"u"&&Reflect.get?Gt=Reflect.get.bind():Gt=function(l,K,nt){var Ct=ne(l,K);if(Ct){var kt=Object.getOwnPropertyDescriptor(Ct,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},Gt.apply(this,arguments)}function ne(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Ce(u),u!==null););return u}function Vt(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&ie(u,l)}function ie(u,l){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},ie(u,l)}function de(u){var l=ye();return function(){var nt=Ce(u),Ct;if(l){var kt=Ce(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return se(this,Ct)}}function se(u,l){if(l&&(F(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return me(u)}function me(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ce(u){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Ce(u)}var je=["alt","height","width"],er=function(u){Vt(K,u);var l=de(K);function K(){return b(this,K),l.apply(this,arguments)}return Ot(K,[{key:"format",value:function(Ct,kt){je.indexOf(Ct)>-1?kt?this.domNode.setAttribute(Ct,kt):this.domNode.removeAttribute(Ct):Gt(Ce(K.prototype),"format",this).call(this,Ct,kt)}}],[{key:"create",value:function(Ct){var kt=Gt(Ce(K),"create",this).call(this,Ct);return typeof Ct=="string"&&kt.setAttribute("src",this.sanitize(Ct)),kt}},{key:"formats",value:function(Ct){return je.reduce(function(kt,ge){return Ct.hasAttribute(ge)&&(kt[ge]=Ct.getAttribute(ge)),kt},{})}},{key:"match",value:function(Ct){return/\.(jpe?g|gif|png)$/.test(Ct)||/^data:image\/.+;base64/.test(Ct)}},{key:"register",value:function(){(0,wr.Z)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(Ct){return(0,le.N)(Ct,["http","https","data"])?Ct:"//:0"}},{key:"value",value:function(Ct){return Ct.getAttribute("src")}}]),K}(p.EmbedBlot);er.blotName="image",er.tagName="IMG";const Cn=er;function rr(u){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},rr(u)}function rn(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Oi(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Qo(nt.key),nt)}}function Xo(u,l,K){return l&&Oi(u.prototype,l),K&&Oi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Qo(u){var l=Yo(u,"string");return rr(l)==="symbol"?l:String(l)}function Yo(u,l){if(rr(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(rr(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function un(){return typeof Reflect<"u"&&Reflect.get?un=Reflect.get.bind():un=function(l,K,nt){var Ct=Jo(l,K);if(Ct){var kt=Object.getOwnPropertyDescriptor(Ct,K);return kt.get?kt.get.call(arguments.length<3?l:nt):kt.value}},un.apply(this,arguments)}function Jo(u,l){for(;!Object.prototype.hasOwnProperty.call(u,l)&&(u=Qr(u),u!==null););return u}function ta(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Wn(u,l)}function Wn(u,l){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},Wn(u,l)}function ea(u){var l=ia();return function(){var nt=Qr(u),Ct;if(l){var kt=Qr(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return ra(this,Ct)}}function ra(u,l){if(l&&(rr(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return na(u)}function na(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ia(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qr(u){return Qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Qr(u)}var Ei=["height","width"],Tn=function(u){ta(K,u);var l=ea(K);function K(){return rn(this,K),l.apply(this,arguments)}return Xo(K,[{key:"format",value:function(Ct,kt){Ei.indexOf(Ct)>-1?kt?this.domNode.setAttribute(Ct,kt):this.domNode.removeAttribute(Ct):un(Qr(K.prototype),"format",this).call(this,Ct,kt)}},{key:"html",value:function(){var Ct=this.value(),kt=Ct.video;return'<a href="'.concat(kt,'">').concat(kt,"</a>")}}],[{key:"create",value:function(Ct){var kt=un(Qr(K),"create",this).call(this,Ct);return kt.setAttribute("frameborder","0"),kt.setAttribute("allowfullscreen",!0),kt.setAttribute("src",this.sanitize(Ct)),kt}},{key:"formats",value:function(Ct){return Ei.reduce(function(kt,ge){return Ct.hasAttribute(ge)&&(kt[ge]=Ct.getAttribute(ge)),kt},{})}},{key:"sanitize",value:function(Ct){return le.Z.sanitize(Ct)}},{key:"value",value:function(Ct){return Ct.getAttribute("src")}}]),K}(a.i2);Tn.blotName="video",Tn.className="ql-video",Tn.tagName="IFRAME";const oa=Tn;var Ci=X(7309),aa=X(9072),Ti=X(867),la=X(9098),Si=X.n(la);function nn(u){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},nn(u)}function sa(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function wi(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,ca(nt.key),nt)}}function ua(u,l,K){return l&&wi(u.prototype,l),K&&wi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function ca(u){var l=fa(u,"string");return nn(l)==="symbol"?l:String(l)}function fa(u,l){if(nn(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(nn(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function da(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&$n(u,l)}function $n(u,l){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},$n(u,l)}function ha(u){var l=ma();return function(){var nt=Sn(u),Ct;if(l){var kt=Sn(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return pa(this,Ct)}}function pa(u,l){if(l&&(nn(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return va(u)}function va(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function ma(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sn(u){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},Sn(u)}var Kn=function(u){da(K,u);var l=ha(K);function K(){return sa(this,K),l.apply(this,arguments)}return ua(K,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return`
`}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return`
`}}]),K}(p.EmbedBlot);Kn.blotName="multilineBreak",Kn.tagName="BR";const ya=Kn;var ga=X(7094);function on(u){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},on(u)}function ba(u,l,K){return l=Ai(l),l in u?Object.defineProperty(u,l,{value:K,enumerable:!0,configurable:!0,writable:!0}):u[l]=K,u}function _a(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}function Pi(u,l){for(var K=0;K<l.length;K++){var nt=l[K];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(u,Ai(nt.key),nt)}}function Oa(u,l,K){return l&&Pi(u.prototype,l),K&&Pi(u,K),Object.defineProperty(u,"prototype",{writable:!1}),u}function Ai(u){var l=Ea(u,"string");return on(l)==="symbol"?l:String(l)}function Ea(u,l){if(on(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(on(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function Ca(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),l&&Zn(u,l)}function Zn(u,l){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt},Zn(u,l)}function Ta(u){var l=wa();return function(){var nt=wn(u),Ct;if(l){var kt=wn(this).constructor;Ct=Reflect.construct(nt,arguments,kt)}else Ct=nt.apply(this,arguments);return Sa(this,Ct)}}function Sa(u,l){if(l&&(on(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ri(u)}function Ri(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function wa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wn(u){return wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},wn(u)}function Pa(u){return u.nextSibling||u.previousSibling?new(Si())().insert({multilineBreak:""}):new(Si())().insert(`
`)}var Aa=function(u){Ca(K,u);var l=Ta(K);function K(nt,Ct){var kt;_a(this,K);var ge="blots/multilineBreak";return kt=l.call(this,nt,Ct),T.ZP.register(ba({},ge,ya),!0),nt.keyboard.addBinding({key:"enter",shiftKey:!0},kt.enterHandler.bind(Ri(kt))),nt.keyboard.bindings.enter.unshift(nt.keyboard.bindings.enter.pop()),nt.clipboard.addMatcher("BR",Pa),kt}return Oa(K,[{key:"enterHandler",value:function(Ct){var kt=this.quill.getLeaf(Ct.index)[0],ge=this.quill.getLeaf(Ct.index+1)[0];this.quill.insertEmbed(Ct.index,"multilineBreak",!0,"user"),(ge===null||kt.parent!==ge.parent)&&this.quill.insertEmbed(Ct.index,"multilineBreak",!0,"user"),this.quill.setSelection(Ct.index+1,T.ZP.sources.SILENT)}}]),K}(ga.Z);const Ra=Aa;var xa=X(6054),xi=X(1342),Ii=X(319);function cn(u){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},cn(u)}function Ni(u,l){var K=Object.keys(u);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(u);l&&(nt=nt.filter(function(Ct){return Object.getOwnPropertyDescriptor(u,Ct).enumerable})),K.push.apply(K,nt)}return K}function Pn(u){for(var l=1;l<arguments.length;l++){var K=arguments[l]!=null?arguments[l]:{};l%2?Ni(Object(K),!0).forEach(function(nt){Ia(u,nt,K[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(K)):Ni(Object(K)).forEach(function(nt){Object.defineProperty(u,nt,Object.getOwnPropertyDescriptor(K,nt))})}return u}function Ia(u,l,K){return l=Na(l),l in u?Object.defineProperty(u,l,{value:K,enumerable:!0,configurable:!0,writable:!0}):u[l]=K,u}function Na(u){var l=La(u,"string");return cn(l)==="symbol"?l:String(l)}function La(u,l){if(cn(u)!=="object"||u===null)return u;var K=u[Symbol.toPrimitive];if(K!==void 0){var nt=K.call(u,l||"default");if(cn(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(u)}function An(u,l){return l.reduce(function(K,nt){var Ct="".concat(u).concat(nt.attrName);return K[Ct]=nt,K},{})}h.default.register(Pn(Pn(Pn(Pn({"attributors/attribute/direction":t.IF},An("attributors/attribute/",Ii.Qu)),An("attributors/attribute/",xi.yA)),{},{"attributors/class/align":C.dk,"attributors/class/background":$t.Y,"attributors/class/color":Dt.Hn,"attributors/class/direction":t.hY,"attributors/class/font":Ut._,"attributors/class/size":Kt.m,"attributors/style/align":C.HE,"attributors/style/background":$t.w,"attributors/style/color":Dt.HQ,"attributors/style/direction":t.H8,"attributors/style/font":Ut.H,"attributors/style/size":Kt.Z},An("attributors/style/",Ii.VT)),An("attributors/style/",xi.kk)),!0),h.default.register({"formats/align":C.dk,"formats/direction":t.hY,"formats/indent":E,"formats/background":$t.w,"formats/color":Dt.HQ,"formats/font":Ut._,"formats/size":Kt.m,"formats/blockquote":rt,"formats/code-block":Ci.ZP,"formats/header":ft,"formats/list":Nt,"formats/bold":te.Z,"formats/code":Ci.EK,"formats/italic":re,"formats/link":le.Z,"formats/script":Wr,"formats/strike":Tr,"formats/underline":qr,"formats/formula":d,"formats/image":Cn,"formats/video":oa,"tableModules/lite":xa.Z,"tableModules/main":Ti.Z,"modules/syntax":aa.ZP,"modules/multiline":Ra,"modules/table":Ti.Z},!0);const Ba=h.default})(),Et=Et.default,Et})())})(mo);var gl=mo.exports;const fe=Da(gl);var ai={};fe&&(ai=fe.import("attributors/style/align"),ai.whitelist.push("left"));const bl=ai;var li={};fe&&(li=fe.import("attributors/style/font"),li.whitelist=null);const _l=li;var si={};if(fe){var Ol=fe.import("formats/image");si=class extends Ol{static create(r){var e=r&&r.src||r,n=super.create(e);if(Jr(r)){var P=(X,Et)=>{r[X]&&n.setAttribute(X,Et)};P("alt",r.alt),P("width",r.width),P("height",r.height)}return n}static formats(r){var e=super.formats(r);return e.imageSrc=r.getAttribute("src"),e}formats(){var r=super.formats(),e=this.domNode.style.float;return e&&(r.float=e),r}format(r,e){r==="float"?this.domNode.style[r]=e:super.format(r,e)}static value(r){return{src:r.getAttribute("src"),width:r.getAttribute("width"),height:r.getAttribute("height"),alt:r.getAttribute("alt")}}},si.blotName="extendedImage"}const El=si;var yo={};if(fe){var Cl=fe.import("formats/link");yo=class go extends Cl{static create(e){var n,P=(n=e==null?void 0:e.href)!==null&&n!==void 0?n:e,X=super.create(P);return Jr(e)&&(e.text&&(X.innerText=e.text),e.target||X.removeAttribute("target")),X}static formats(e){return{href:e.getAttribute("href"),target:e.getAttribute("target")}}formats(){var e=super.formats(),{href:n,target:P}=go.formats(this.domNode);return e.link=n,e.target=P,e}format(e,n){e==="link"&&Jr(n)?(n.text&&(this.domNode.innerText=n.text),n.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",n.href)):super.format(e,n)}static value(e){return{href:e.getAttribute("href"),text:e.innerText,target:!!e.getAttribute("target")}}}}const Tl=yo;var ui={};fe&&(ui=fe.import("attributors/style/size"),ui.whitelist=null);const Sl=ui;function bo(){if(!fe)throw di.Error("E1041","Quill");return fe}class wl{}var _o=wl;if(fe){var Pl=fe.import("core/module");_o=class extends Pl{constructor(r,e){super(r,e),this.editorInstance=e.editorInstance}saveValueChangeEvent(r){this.editorInstance._saveValueChangeEvent(r)}addCleanCallback(r){this.editorInstance.addCleanCallback(r)}handleOptionChangeValue(r){Jr(r)?Object.entries(r).forEach(e=>{var[n,P]=e;return this.option(n,P)}):be(r)||this===null||this===void 0||this.clean()}}}const Ie=_o;var Oo=Ie;fe&&(Oo=class extends Ie{constructor(r,e){super(r,e);var n=this.editorInstance.NAME;he.on(this.quill.root,Re("drop",n),this._dropHandler.bind(this)),he.on(this.quill.root,Re("paste",n),this._pasteHandler.bind(this))}_dropHandler(r){var e,{dataTransfer:n}=r.originalEvent,P=(e=n==null?void 0:n.files)===null||e===void 0?void 0:e.length;this.saveValueChangeEvent(r),r.preventDefault(),P&&this._getImage(n.files,this._addImage.bind(this))}_pasteHandler(r){var e,{clipboardData:n}=r.originalEvent;if(this.saveValueChangeEvent(r),!!n){var P=(e=n.items)===null||e===void 0?void 0:e.length,X=n.getData("text/html");!X&&P&&this._getImage(n.items,Et=>{ja.mozilla||this._addImage(Et)})}}_isImage(r){return!!r.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(r,e){var n=tn();Pe(r,(P,X)=>{if(this._isImage(X)){var Et=new n.FileReader;Et.onload=C=>{var{target:t}=C;e(t.result)};var h=X.getAsFile?X.getAsFile():X;h instanceof n.Blob&&Et.readAsDataURL(h)}})}_addImage(r){var e=this.quill.getSelection(),n=e?e.index:this.quill.getLength();this.quill.insertEmbed(n,"extendedImage",r,"user")}});const Al=Oo;var Rl="dxHtmlEditorImageCursor",Wi=Re("dxclick",Rl),Eo=Ie;fe&&(Eo=class extends Ie{constructor(r,e){super(r,e),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){he.on(this.quill.root,Wi,this._clickHandler.bind(this))}_detachEvents(){he.off(this.quill.root,Wi)}_clickHandler(r){this._isAllowedTarget(r.target)&&this._adjustSelection(r)}_isAllowedTarget(r){return this._isImage(r)}_isImage(r){return r.tagName.toUpperCase()==="IMG"}_adjustSelection(r){var e=this.quill.scroll.find(r.target);if(e){var n=e.offset(this.quill.scroll);this.quill.setSelection(n+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const xl=Eo;var Il=globalThis&&globalThis.__rest||function(r,e){var n={};for(var P in r)Object.prototype.hasOwnProperty.call(r,P)&&e.indexOf(P)<0&&(n[P]=r[P]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var X=0;for(P=Object.getOwnPropertySymbols(r);X<P.length;X++)e.indexOf(P[X])<0&&Object.prototype.propertyIsEnumerable.call(r,P[X])&&(n[P[X]]=r[P[X]])}return n},Nl=sn.current().deviceType==="phone",Ll="dxHtmlEditor-dialogImageCaption",Bl="dxHtmlEditor-dialogUpdateImageCaption",Ml="dxHtmlEditor-dialogImageUrlField",Dl="dxHtmlEditor-dialogImageAltField",jl="dxHtmlEditor-dialogImageWidthField",kl="dxHtmlEditor-dialogImageHeightField",Hl="dxHtmlEditor-dialogImageAddButton",Fl="dxHtmlEditor-dialogImageUpdateButton",Ul="dxHtmlEditor-dialogImageSpecifyUrl",Wl="dxHtmlEditor-dialogImageSelectFile",$l="dxHtmlEditor-dialogImageKeepAspectRatio",Kl="dxHtmlEditor-dialogImageEncodeToBase64",Zl="dx-htmleditor-add-image-popup",zl="dx-htmleditor-add-image-popup-with-tabs",Vl="dx-fix-ratio-container",$i="dx-formdialog",Ki="user",Zi="silent",Gl="dx-htmleditor-image";class ql{constructor(e,n){this.module=e,this.config=n??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var e=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(e).done((n,P)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(n,P)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){var e=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(e)}setAddButtonDisabled(e){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":e})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(e){var{imageSrc:n,src:P}=e,X=Il(e,["imageSrc","src"]);return mn({src:n??P},X)}createUrlTab(e){return new Xl(this.module,{config:this.config,formData:e,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new Ql(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.length===0||this.isUpdating?["url"]:e.map(n=>typeof n=="object"?n.name:n)}createTabs(e){return this.tabsModel.map(n=>{var P=n==="url";return P?this.createUrlTab(e):this.createFileTab()})}isImageUpdating(){var e;return Object.prototype.hasOwnProperty.call((e=this.module.quill.getFormat())!==null&&e!==void 0?e:{},"imageSrc")}updatePopupConfig(){var e="".concat(Zl," ").concat($i);this.useTabbedItems()&&(e+=" ".concat(zl));var n=this.isUpdating?Bl:Ll,P=this.isUpdating?Fl:Hl;this.editorInstance.formDialogOption({title:Qt.format(n),"toolbarItems[0].options.text":Qt.format(P),wrapperAttr:{class:e}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":Qt.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:$i}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return Nl?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){if(this.useTabbedItems()){var e=ka(this.tabs,n=>({title:n.getTabName(),colCount:11,items:n.getItemsConfig()}));return[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:n=>{this.tabPanelIndex=n.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:e}]}return this.tabs[0].getItemsConfig()}}class Co{constructor(e,n,P){var{config:X,formData:Et,isUpdating:h}=n;this.module=e,this.config=X,this.formData=Et,this.isUpdating=h,this.onFileSelected=P,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new Yl(this.module,this.config,this.formData):new So(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class Xl extends Co{getTabName(){return Qt.format(Ul)}}class Ql extends Co{getTabName(){return Qt.format(Wl)}createStrategy(){return new Jl(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class To{constructor(e,n){this.module=e,this.config=n,this.editorInstance=e.editorInstance,this.quill=e.quill,this.selection=this.getQuillSelection()}getQuillSelection(){var e=this.quill.getSelection();return e??{index:this.quill.getLength(),length:0}}pasteImage(e,n){}isValid(){return!0}upload(){}}class So extends To{constructor(e,n,P){super(e,n,P),this.shouldKeepAspectRatio=!0}pasteImage(e,n){this.module.saveValueChangeEvent(n),Po(this.quill,this.selection.index,e)}keepAspectRatio(e,n){var{dependentEditor:P,e:X}=n,Et=parseInt(X.value),h=parseInt(X.previousValue),C=parseInt(P.option("value"));e.component.updateData(e.dataField,Et),this.shouldKeepAspectRatio&&C&&h&&!this.preventRecalculating&&(this.preventRecalculating=!0,P.option("value",Math.round(Et*C/parseInt(h)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(e,n,P){return this.editorInstance._createComponent(e,ei,ce(!0,n.editorOptions,{value:n.component.option("formData")[n.dataField],onEnterKey:n.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,n),onValueChanged:X=>{this.keepAspectRatio(n,{dependentEditor:this["".concat(P,"Editor")],e:X})}}))}upload(){var e=this.editorInstance._formDialog._form.validate();return e.isValid}getItemsConfig(){var e=hi()?"text":"outlined";return[{dataField:"src",colSpan:11,label:{text:Qt.format(Ml)},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:Qt.format(jl)},template:n=>{var P=Wt("<div>").addClass(Vl),X=Wt("<div>").appendTo(P);this.widthEditor=this.createKeepAspectRatioEditor(X,n,"height");var Et=Wt("<div>").appendTo(P);return this.editorInstance._createComponent(Et,kn,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:Qt.format($l),focusStateEnabled:!1,keyExpr:"value",stylingMode:e,selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:h=>{this.shouldKeepAspectRatio=!!h.component.option("selectedItems").length}}),P}},{dataField:"height",colSpan:5,label:{text:Qt.format(kl)},template:n=>{var P=Wt("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(P,n,"width"),P}},{dataField:"alt",colSpan:11,label:{text:Qt.format(Dl)}}]}}class Yl extends So{constructor(e,n,P,X){super(e,n,X),this.formData=P,this.modifyFormData()}modifyFormData(){var e,n,{imageSrc:P}=this.quill.getFormat(this.selection.index-1,1);(!P||this.selection.index===0)&&(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,Zi));var X=this.quill.getLeaf(this.selection.index)[0].domNode;X&&(this.formData.width=(e=this.formData.width)!==null&&e!==void 0?e:Lr(Wt(X)),this.formData.height=(n=this.formData.height)!==null&&n!==void 0?n:Br(Wt(X)))}pasteImage(e,n){this.quill.deleteText(this.embedFormatIndex(),1,Zi),this.selection.index-=1,super.pasteImage(e,n)}embedFormatIndex(){var e,n=(e=this.selection)!==null&&e!==void 0?e:this.quill.getSelection();return n?n.length?n.index:n.index-1:this.quill.getLength()}}class Jl extends To{constructor(e,n,P){super(e,n,P),this.useBase64=!be(this.config.fileUploadMode)||this.config.fileUploadMode==="base64",this.isValidInternal=!1,this.onFileSelected=P,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}onUploaded(e){Ao(this.config.uploadDirectory,e.file.name,this.quill,this.selection.index)}base64Upload(e){this.quill.getModule("uploader").upload(this.selection,e.value,!0)}pasteImage(e,n){this.useBase64&&super.pasteImage(e,n)}isBase64Editable(){return this.config.fileUploadMode==="both"}validate(e){var n=e.component;this.isValidInternal=!n._files.some(P=>!P.isValid()),n._files.length===0&&(this.isValidInternal=!1)}getFileUploaderOptions(){var e={uploadUrl:this.config.uploadUrl,onValueChanged:n=>{this.validate(n),this.data=n,this.onFileSelected()},onUploaded:n=>this.onUploaded(n)};return ce({},wo(),e,this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{var e=Wt("<div>");return this.module.editorInstance._createComponent(e,vo,this.getFileUploaderOptions()),e}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:Qt.format(Kl),onValueChanged:e=>{this.isBase64Editable()&&(this.useBase64=e.value)}}}]}}function ts(r){return r[r.length-1]!=="/"?"".concat(r,"/"):r}function wo(){return{value:[],name:Gl,accept:"image/*",uploadMode:"useButtons"}}function Po(r,e,n){r.insertEmbed(e,"extendedImage",n,Ki),r.setSelection(e+1,0,Ki)}function Ao(r,e,n,P){if(r){var X=ts(r)+e;Po(n,P,{src:X})}}var Vn="dxHtmlEditorImageUpload",es="dx-htmleditor-hidden-content",Ro=Ie;fe&&(Ro=class extends Ie{constructor(r,e){super(r,e),this.options=e,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){var r=be(this.options.fileUploadMode)&&this.options.fileUploadMode!=="base64";r?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var r;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),(r=this._fileUploader)===null||r===void 0||r.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){var r=Wt("<div>").addClass(es).appendTo(this._quillContainer),e=ce({},wo(),{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(r,vo,e),r}_onUploaded(r){var e,{index:n}=(e=this.quill.getSelection())!==null&&e!==void 0?e:{index:this.quill.getLength()};Ao(this.options.uploadDirectory,r.file.name,this.quill,n)}_attachEvents(){he.on(this.quill.root,Re("drop",Vn),this._dropHandler.bind(this)),he.on(this.quill.root,Re("paste",Vn),this._pasteHandler.bind(this))}_detachEvents(){he.off(this.quill.root,Vn)}_dropHandler(r){this._handleInsertImages(r,"dataTransfer")}_pasteHandler(r){this._handleInsertImages(r,"clipboardData")}_handleInsertImages(r,e){this.saveValueChangeEvent(r);var n=Array.from(r.originalEvent[e].files||[]),P=n;P.length&&(r.preventDefault(),r.stopPropagation(),this._fileUploader.option("value",P),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(r,e){switch(r){case"imageUpload":this.handleOptionChangeValue(e);break;case"fileUploadMode":this.options.fileUploadMode=e,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(e)}}});const rs=Ro;class ns{constructor(){this._storage={}}set(e,n){var{editorKey:P,marker:X}=e,Et,h;(Et=(h=this._storage)[P])!==null&&Et!==void 0||(h[P]={}),this._storage[P][X]=n}get(e){var{editorKey:n,marker:P}=e,X,Et,h=!be(n);return h?(X=Object.values(this._storage).at(-1))===null||X===void 0?void 0:X[P]:(Et=this._storage[n])===null||Et===void 0?void 0:Et[P]}delete(e){var{editorKey:n,marker:P}=e;this._storage[n]&&(delete this._storage[n][P],Mn(this._storage[n])&&delete this._storage[n])}}var ln={};if(fe){var is=fe.import("blots/embed"),os="dx-mention";ln=class ci extends is{constructor(e,n){super(e,n),this.renderContent(this.contentNode,ci.value(n))}static create(e){var n=super.create();return n.setAttribute("spellcheck",!1),n.dataset.marker=e.marker,n.dataset.mentionValue=e.value,n.dataset.id=e.id,n}static value(e){return{marker:e.dataset.marker,id:e.dataset.id,value:e.dataset.mentionValue}}renderContent(e,n){var P=ci._templatesStorage.get({editorKey:n.keyInTemplateStorage,marker:n.marker});P?P.render({model:n,container:e}):this.baseContentRender(e,n)}baseContentRender(e,n){var P=Wt("<span>").text(n.marker);Wt(e).append(P).append(n.value)}static addTemplate(e,n){this._templatesStorage.set(e,n)}static removeTemplate(e){this._templatesStorage.delete(e)}},ln.blotName="mention",ln.tagName="span",ln.className=os,ln._templatesStorage=new ns}const Gn=ln;var as="dxHtmlEditorPopupModule",xo=Ie;if(fe){var ls="dx-suggestion-list",ss="dx-suggestion-list-wrapper",us="dx-dropdowneditor-overlay",cs=100;xo=class extends Ie{constructor(r,e){super(r,e),this.options=ce({},this._getDefaultOptions(),e),this._popup=this.renderPopup(),this._popup.$wrapper().addClass("".concat(ss," ").concat(us)),this._renderPreventFocusOut()}_getDefaultOptions(){return{dataSource:null}}renderList(r,e){var n=Wt("<div>").addClass(ls).appendTo(r);this._list=this.options.editorInstance._createComponent(n,Ha,e)}renderPopup(){var{editorInstance:r}=this.options,e=Wt("<div>").appendTo(r.$element()),n=this._getPopupConfig();return r._createComponent(e,uo,n)}_getPopupConfig(){return{contentTemplate:r=>{var e=this._getListConfig(this.options);this.renderList(Wt(r),e)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(r){return{dataSource:r.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var r=tn(),e=r&&Br(r)||0;return Math.max(cs,.5*e)}selectionChangedHandler(r){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(r))}_renderPreventFocusOut(){var r=Re("mousedown",as);he.on(this._popup.$wrapper(),r,e=>{e.preventDefault()})}insertEmbedContent(r){}showPopup(){this._popup&&this._popup.show()}savePosition(r){this.caretPosition=r}getPosition(){return this.caretPosition}}}const Io=xo;var No=Ie;if(fe){var fs="user",ds="@",We={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},hs=[We.ARROW_LEFT,We.ARROW_RIGHT,We.PAGE_UP,We.PAGE_DOWN,We.END,We.HOME],ps=[" ",`
`],vs="dx-state-disabled";fe.register({"formats/mention":Gn},!0),No=class extends Io{constructor(r,e){super(r,e),this._mentions={},e.mentions.forEach(n=>{var{marker:P}=n;P||(n.marker=P=ds);var{template:X}=n;if(X){var Et=this.editorInstance._getTemplate(X);Et&&Gn.addTemplate({marker:P,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},Et)}this._mentions[P]=ce({},this._getDefaultOptions(),n)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_getDefaultOptions(){var r=super._getDefaultOptions();return ce(r,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:We.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:We.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[We.ENTER,We.SPACE]},this._selectItemHandler.bind(this));var r=this.quill.keyboard.bindings[We.ENTER];r.unshift(r.pop()),this.quill.keyboard.addBinding({key:We.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[We.ARROW_LEFT,We.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:hs},this._ignoreKeyHandler.bind(this))}_moveToItem(r){var e=this._list.getDataSource();if(this._isMentionActive&&!e.isLoading()){var n=Wt(this._list.option("focusedElement")),P=r==="next"?"first":"last",X=n[r]();X=X.length?X:this._activeListItems[P](),this._list.option("focusedElement",ri(X)),this._list.scrollToItem(X)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(r,e,n){return r>n?e:r<e?n:r}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(r,e){this.compileGetters(this.options),super.renderList(r,e)}compileGetters(r){var{displayExpr:e,valueExpr:n}=r;this._valueGetter=Di(e),this._idGetter=Di(n)}_getListConfig(r){var e=super._getListConfig(r);return ce(e,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var r=this._activeMentionConfig.marker.length,e=r+this._searchValue.length,n=this.getPosition(),P=this._list.option("selectedItem"),X={value:this._valueGetter(P),id:this._idGetter(P),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},Et=fe.import("delta"),h=Math.max(0,n-r),C=this.quill.getFormat(h),t=new Et().retain(h).delete(e).insert({mention:X}).insert(" ",C);this.quill.updateContents(t),this.quill.setSelection(h+2)}_getLastInsertOperation(r){var e=r[r.length-1],n="insert"in e;if(n)return e;var P="delete"in e;if(P&&r.length>=2){var X=r[r.length-2],Et="insert"in X,h=P&&Et;if(h)return X}return null}onTextChange(r,e,n){if(n===fs){var P=r.ops[r.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(P)&&this._filterList(this._searchValue);else{var{ops:X}=r,Et=this._getLastInsertOperation(X);Et&&this.checkMentionRequest(Et,X)}}}get _isPopupVisible(){var r;return(r=this._popup)===null||r===void 0?void 0:r.option("visible")}_processSearchValue(r){var e="insert"in r;if(e)this._searchValue+=r.insert;else{if(!this._searchValue.length||r.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(r,e){var{insert:n}=r,P=this.quill.getSelection();if(!(!n||!pi(n)||!P||this._isMarkerPartOfText(e[0].retain))&&(this._activeMentionConfig=this._mentions[n],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var X=P.index&&this._getCharByIndex(P.index-1)===`
`;this.savePosition(P.index+X),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(r){return!(!r||ps.includes(this._getCharByIndex(r-1)))}_getCharByIndex(r){return this.quill.getContents(r,1).ops[0].insert}_updateList(r){var{dataSource:e,displayExpr:n,valueExpr:P,itemTemplate:X,searchExpr:Et}=r;this.compileGetters({displayExpr:n,valueExpr:P}),this._list.unselectAll(),this._list.option({dataSource:e,displayExpr:n,itemTemplate:X,searchExpr:Et})}_filterList(r){if(!this._isMinSearchLengthExceeded(r)){this._resetFilter();return}var{searchTimeout:e}=this._activeMentionConfig;e?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(r)},e)):this._search(r)}_isMinSearchLengthExceeded(r){return r.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(r){this._hasSearch=!0,this._list.option("searchValue",r)}_focusFirstElement(){if(this._list){var r=this._activeListItems.first();this._list.option("focusedElement",ri(r)),this._list.scrollToItem(r)}}get _popupPosition(){var r=this.getPosition(),{left:e,top:n,height:P}=this.quill.getBounds(r&&r-1),{left:X,top:Et}=Wt(this.quill.root).offset(),h=he.Event("positionEvent",{pageX:X+e,pageY:Et+n});return{of:h,offset:{v:P},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return ce(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat(vs,")"))}clean(){Object.keys(this._mentions).forEach(r=>{this._mentions[r].template&&Gn.removeTemplate({marker:r,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const ms=No;var ys="dx-resize-frame",gs="dx-touch-device",gn="dxHtmlResizingModule",zi=Re("keydown",gn),bs=Re("scroll",gn),_s=Re("mousedown",gn),qn=1;class Os extends Ie{constructor(e,n){super(e,n),this.allowedTargets=n.allowedTargets||["image"],this.enabled=!!n.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){he.on(this.quill.root,Re(ni,gn),this._clickHandler.bind(this)),he.on(this.quill.root,bs,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){he.off(this.quill.root,".".concat(gn)),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(e){if(this._isAllowedTarget(e.target)){if(this._$target===e.target)return;this._$target=e.target;var n=Wt(this._$target),P=Math.max(_e(n)-Lr(n),this.resizable.option("minWidth")),X=Math.max(Er(n)-Br(n),this.resizable.option("minHeight"));this.resizable.option({minWidth:P,minHeight:X}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(e){return this._isImage(e)}_isImage(e){return this.allowedTargets.indexOf("image")!==-1&&e.tagName.toUpperCase()==="IMG"}showFrame(){this._$resizeFrame.show(),he.on(this.quill.root,zi,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(e){var n=Fa(e);(n==="del"||n==="backspace")&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),he.off(this.quill.root,zi)}updateFramePosition(){var{height:e,width:n,top:P,left:X}=yn(this._$target),{top:Et,left:h}=yn(this.quill.root),C=this._getBorderWidth();this._$resizeFrame.css({height:e,width:n,padding:qn,top:P-Et-C-qn,left:X-h-C-qn}),vn(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:e}=sn.current();this._$resizeFrame=Wt("<div>").addClass(ys).toggleClass(gs,e!=="desktop").appendTo(this.editorInstance._getQuillContainer()).hide(),he.on(this._$resizeFrame,_s,n=>{n.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,Ua,{onResize:n=>{this._$target&&(Wt(this._$target).attr({height:n.height,width:n.width}),this.updateFramePosition())}})}}_deleteImage(){var e;this._isAllowedTarget(this._$target)&&((e=fe.find(this._$target))===null||e===void 0||e.deleteAt(0))}option(e,n){if(e==="mediaResizing"){this.handleOptionChangeValue(n);return}if(e==="enabled"){if(this.enabled===n)return;this.enabled=n,n?(this._attachEvents(),this._createResizeFrame()):this.clean()}else e==="allowedTargets"&&Array.isArray(n)&&(this.allowedTargets=n)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var Es=["table","tableHeaderCell"],Cs=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function Lo(r){var e=r.getModule("table");return e!=null&&e.tableFormats?e.tableFormats():Es}function Ts(r,e){return!!e&&r.quill.getText(e).length<e.length}function bn(r,e){var{tableBlot:n,quill:P}=e,X=n??P.scroll.find(r.get(0));X.format("tableWidth","initial")}function Un(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("tr").eq(e).find("th, td")}function _n(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"horizontal",n=[],P=e==="horizontal",X=P?Un(r):mi(r);return X.each((Et,h)=>{var C=Wt(h);C.get(0).style[P?"width":"height"]===""&&n.push(C)}),n}function Ve(r,e){var{elements:n,property:P,value:X}=e,Et=r.quill.getModule("table").tableBlots,h="cell".concat(Fn(P,!0));Pe(n,(C,t)=>{var p=r.quill.scroll.find(t);if(!Et.includes(p.statics.blotName)){var v=p.descendant(m=>Et.includes(m.statics.blotName));p=v?v[0]:null}p==null||p.format(h,"".concat(X,"px"))})}function pr(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"horizontal";return n==="horizontal"?mi(r,e):Un(r,e)}function mi(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.find("th:nth-child(".concat(1+e,"), td:nth-child(").concat(1+e,")"))}function xr(r,e){for(var n=arguments.length,P=new Array(n>2?n-2:0),X=2;X<n;X++)P[X-2]=arguments[X];return()=>{var Et=r.getModule("table");if(Et)return r.focus(),Et[e](...P)}}var Ss="dx-colorview",ws="dx-colorview-container",Nn="dx-colorview-container-row",Ps="dx-colorview-container-cell",As="dx-colorview-palette",Rs="dx-colorview-palette-cell",xs="dx-colorview-palette-handle",Vi="dx-colorview-palette-gradient",Is="dx-colorview-palette-gradient-white",Ns="dx-colorview-palette-gradient-black",Ls="dx-colorview-hue-scale",Bs="dx-colorview-hue-scale-cell",Ms="dx-colorview-hue-scale-handle",Ds="dx-colorview-hue-scale-wrapper",js="dx-colorview-controls-container",ks="dx-colorview-label-red",Hs="dx-colorview-label-green",Fs="dx-colorview-label-blue",Gi="dx-colorview-label-hex",Us="dx-colorview-alpha-channel-scale",Ws="dx-colorview-alpha-channel-row",$s="dx-colorview-alpha-channel-wrapper",Ks="dx-colorview-alpha-channel-label",Zs="dx-colorview-alpha-channel-handle",zs="dx-colorview-alpha-channel-cell",Vs="dx-colorview-alpha-channel-border",qi="dx-colorview-color-preview",Gs="dx-colorview-color-preview-container",qs="dx-colorview-color-preview-container-inner",Xs="dx-colorview-color-preview-color-current",Qs="dx-colorview-color-preview-color-new",Ys="dx-texteditor-input",Xn="#000000",yi=co.inherit({_supportedKeys(){var r=this.option("rtlEnabled"),e=this,n=function(m){var _=100/e._paletteWidth;return m.shiftKey&&(_*=e.option("keyStep")),_=_>1?_:1,Math.round(_)},P=function(m){var _=e._currentColor.hsv.s+m;_>100?_=100:_<0&&(_=0),e._currentColor.hsv.s=_,h()},X=function(m){var _=100/e._paletteHeight;return m.shiftKey&&(_*=e.option("keyStep")),_=_>1?_:1,Math.round(_)},Et=function(m){var _=e._currentColor.hsv.v+m;_>100?_=100:_<0&&(_=0),e._currentColor.hsv.v=_,h()};function h(){e._placePaletteHandle(),e._updateColorFromHsv(e._currentColor.hsv.h,e._currentColor.hsv.s,e._currentColor.hsv.v)}var C=function(m){var _=360/(e._hueScaleWrapperHeight-e._hueScaleHandleHeight);return m.shiftKey&&(_*=e.option("keyStep")),_=_>1?_:1,_},t=function(m){e._currentColor.hsv.h+=m,e._placeHueScaleHandle();var _=fn(e._$hueScaleHandle);e._updateColorHue(_.top+e._hueScaleHandleHeight/2)},p=function(m){var _=1/e._alphaChannelScaleWorkWidth;return m.shiftKey&&(_*=e.option("keyStep")),_=_>.01?_:.01,_=r?-_:_,_},v=function(m){e._currentColor.a+=m,e._placeAlphaChannelHandle();var _=fn(e._$alphaChannelHandle);e._calculateColorTransparencyByScaleWidth(_.left+e._alphaChannelHandleWidth/2)};return ce(this.callBase(),{upArrow(m){m.preventDefault(),m.stopPropagation(),Rn(m)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(m),t(C(m))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(m),Et(X(m)))},downArrow(m){m.preventDefault(),m.stopPropagation(),Rn(m)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(m),t(-C(m))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(m),Et(-X(m)))},rightArrow(m){m.preventDefault(),m.stopPropagation(),Rn(m)?(r?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(m),v(-p(m))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(m),P(n(m)))},leftArrow(m){m.preventDefault(),m.stopPropagation(),Rn(m)?(r?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(m),v(p(m))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(m),P(-n(m)))},enter(m){this._fireEnterKeyPressed(m)}})},_getDefaultOptions(){return ce(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules(){return this.callBase().concat([{device:()=>sn.real().deviceType==="desktop"&&!sn.isSimulator(),options:{focusStateEnabled:!0}}])},_init(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed(r){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:r})},_initColorAndOpacity(){this._setCurrentColor(this.option("value"))},_setCurrentColor(r){r=r||Xn;var e=new nr(r);e.colorIsInvalid?(this._currentColor||(this._currentColor=new nr(Xn)),this.option("value",this._currentColor.baseColor)):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(e))&&(this._currentColor=e,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,e))},_setBaseColor(r){var e=r||Xn,n=new nr(e);if(!n.colorIsInvalid){var P=this._makeRgba(this.option("matchValue")!==this._makeRgba(n));P&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,n)}},_initMarkup(){this.callBase(),this.$element().addClass(Ss),this._renderColorPickerContainer()},_render(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground(r,e){e instanceof nr||(e=new nr(e)),r.css("backgroundColor",this._makeRgba(e))},_makeRgba(r){return r instanceof nr||(r=new nr(r)),"rgba(".concat([r.r,r.g,r.b,r.a].join(", "),")")},_renderValue(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer(){var r=this.$element();this._$colorPickerContainer=Wt("<div>").addClass(ws).appendTo(r),this._renderHtmlRows()},_renderHtmlRows(r){var e=this._$colorPickerContainer.find(".".concat(Nn)),n=e.length,P=this.option("editAlphaChannel")?2:1,X=n-P;if(X>0&&e.eq(-1).remove(),X<0){X=Math.abs(X);var Et=[],h;for(h=0;h<X;h++)Et.push(Wt("<div>").addClass(Nn));if(n)for(h=0;h<Et.length;h++)e.eq(0).after(Et[h]);else this._$colorPickerContainer.append(Et)}},_renderHtmlCellInsideRow:(r,e,n)=>Wt("<div>").addClass(Ps).addClass(n).appendTo(e.find(".".concat(Nn)).eq(r)),_renderPalette(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,Rs),e=Wt("<div>").addClass([Vi,Is].join(" ")),n=Wt("<div>").addClass([Vi,Ns].join(" "));this._$palette=Wt("<div>").addClass(As).css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(r),this._paletteHeight=Br(this._$palette),this._paletteWidth=Lr(this._$palette),this._renderPaletteHandle(),this._$palette.append([e,n])},_renderPaletteHandle(){this._$paletteHandle=Wt("<div>").addClass(xs).appendTo(this._$palette);var r="dx-".concat(new ji),e={id:r,role:"application"};this.setAria(e,this._$paletteHandle),this.setAria("activedescendant",r,this.option("target")),this._createComponent(this._$paletteHandle,Dn,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:(function(){return-this._paletteHandleHeight/2}).bind(this),onDragMove:n=>{var{event:P}=n,X=fn(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(P),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(X),this._calculateColorValue(X))}}),this._paletteHandleWidth=Lr(this._$paletteHandle),this._paletteHandleHeight=Br(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle(){vn(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue(r){var e=Math.floor(r.top+this._paletteHandleHeight/2);return 100-Math.round(100*e/this._paletteHeight)},_calculateColorSaturation(r){var e=Math.floor(r.left+this._paletteHandleWidth/2);return Math.round(100*e/this._paletteWidth)},_updateColorFromHsv(r,e,n){var{a:P}=this._currentColor;this._currentColor=new nr("hsv(".concat([r,e,n].join(","),")")),this._currentColor.a=P,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,Bs);this._$hueScaleWrapper=Wt("<div>").addClass(Ds).appendTo(r),this._$hueScale=Wt("<div>").addClass(Ls).appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Br(this._$hueScale),this._hueScaleWrapperHeight=Er(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle(){this._$hueScaleHandle=Wt("<div>").addClass(Ms).appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,Dn,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:r=>{var{event:e}=r;this._updateByDrag=!0,this._saveValueChangeEvent(e),this._updateColorHue(fn(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Br(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle(){var r=this._hueScaleWrapperHeight,e=this._hueScaleHandleHeight,n=(r-e)*(360-this._currentColor.hsv.h)/360;r<n+e&&(n=r-e),n<0&&(n=0),vn(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue(r){var e=360-Math.round(360*(r-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,P=this._currentColor.hsv.v;this._isTopColorHue=!1,e=e<0?0:e,e>=360&&(this._isTopColorHue=!0,e=0),this._updateColorFromHsv(e,n,P),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Wt("<div>").addClass(js).appendTo(r)},_renderControls(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview(){var r=Wt("<div>").addClass(Gs).appendTo(this._$controlsContainer),e=Wt("<div>").addClass(qs).appendTo(r);this._$currentColor=Wt("<div>").addClass([qi,Qs].join(" ")),this._$baseColor=Wt("<div>").addClass([qi,Xs].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),e.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find(".".concat(Nn)).eq(1).addClass(Ws),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:dn,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:Qt.format("dxColorView-ariaRed"),labelClass:ks}),this._renderEditorWithLabel({editorType:dn,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:Qt.format("dxColorView-ariaGreen"),labelClass:Hs}),this._renderEditorWithLabel({editorType:dn,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:Qt.format("dxColorView-ariaBlue"),labelClass:Fs})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel(r){var e=Wt("<div>"),n=Wt("<label>").addClass(r.labelClass).text("".concat(r.labelText,":")).append(e);he.off(n,ni),he.on(n,ni,h=>{h.preventDefault()});var{editorType:P}=r,X=ce({value:r.value,onValueChanged:r.onValueChanged,onKeyboardHandled:h=>this._keyboardHandler(h)},{stylingMode:this.option("stylingMode")});P===dn&&(X.min=r.min||0,X.max=r.max||255,X.step=r.step||1);var Et=new P(e,X);return Et.registerKeyHandler("enter",h=>{this._fireEnterKeyPressed(h)}),this.setAria("label",r.labelAriaText,e),n},hexInputOptions(){return{editorType:ei,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:Gi,labelText:"#",labelAriaText:Qt.format("dxColorView-ariaHex")}},_renderHexInput(){this._hexInput=ei.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"));var r="dx-".concat(new ji),e=this._$controlsContainer.find(".".concat(Gi)).find(".".concat(Ys));this.setAria("id",r,e),this.setAria("labelledby",r,this._$paletteHandle)},_renderAlphaChannelScale(){var r=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,zs),e=Wt("<div>").addClass(Vs).appendTo(r),n=Wt("<div>").addClass($s).appendTo(e);this._$alphaChannelScale=Wt("<div>").addClass(Us).appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(r)},_makeCSSLinearGradient(r){var e=this._currentColor,n="".concat(e.r,",").concat(e.g,",").concat(e.b),P=this.option("rtlEnabled"),X="rgba(".concat(n,", ").concat(P?"1":"0",")"),Et="rgba(".concat(n,", ").concat(P?"0":"1",")"),h="linear-gradient(-90deg, ".concat(X,", ").concat(Et,")");r.css("backgroundImage",h)},_renderAlphaChannelInput(){var r=this,e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);r._alphaChannelInput=this._renderEditorWithLabel({editorType:dn,value:this._currentColor.a,max:1,step:.1,onValueChanged(n){var{value:P}=n;P=r._currentColor.isValidAlpha(P)?P:r._currentColor.a,n.event&&r._saveValueChangeEvent(n.event),r._updateColorTransparency(P),r._placeAlphaChannelHandle()},labelClass:Ks,labelText:"Alpha",labelAriaText:Qt.format("dxColorView-ariaAlpha")}).appendTo(e).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency(r){this._currentColor.a=r,this.applyColor()},_renderAlphaChannelHandle(r){this._$alphaChannelHandle=Wt("<div>").addClass(Zs).appendTo(r),this._createComponent(this._$alphaChannelHandle,Dn,{contentTemplate:null,boundary:r,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:e=>{var{event:n}=e;this._updateByDrag=!0;var P=this._$alphaChannelHandle,X=fn(P).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(n),this._calculateColorTransparencyByScaleWidth(X)}}),this._alphaChannelHandleWidth=Lr(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=Lr(r)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth(r){var e=(r-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");e=n?e:1-e,r>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?e=n?1:0:e<1&&(e=e.toFixed(2));var P=this._alphaChannelInput.option("value");e=Math.max(e,0),e=Math.min(e,1),e===P?this._updateByDrag=!1:this._alphaChannelInput.option("value",e)},_placeAlphaChannelHandle(){var r=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);r<0&&(r=0),this._alphaChannelScaleWorkWidth<r&&(r=this._alphaChannelScaleWorkWidth),vn(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-r:r})},applyColor(){var r=this.option("value"),e=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),e===r?this._updateByDrag=!1:this.option("value",e)},cancelColor(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor(r,e){var n,P;r?P=this._validateHex("#".concat(this._hexInput.option("value"))):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),P="rgba(".concat(n.join(", "),")")):P="rgb(".concat(n.join(", "),")")),this._suppressEditorsValueUpdating||(this._currentColor=new nr(P),this._saveValueChangeEvent(e.event),this.applyColor(),this._refreshMarkup())},_validateHex(r){return this._currentColor.isValidHex(r)?r:this._currentColor.toHex()},_validateRgb(){var r=this._rgbInputs[0].option("value"),e=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(r,e,n)||(r=this._currentColor.r,e=this._currentColor.g,n=this._currentColor.b),[r,e,n]},_refreshMarkup(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged(r){var{value:e}=r;switch(r.name){case"value":this._setCurrentColor(e),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(r);break;case"matchValue":this._setBaseColor(e);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(r)}}});vi("dxColorView",yi);var En="dx-colorbox",Bo="".concat(En,"-input"),Js="".concat(Bo,"-container"),tu="".concat(En,"-color-result-preview"),Xi="".concat(En,"-color-is-not-defined"),eu="".concat(En,"-overlay"),ru="dx-colorview-container-cell",nu="dx-colorview-button-cell",iu="dx-colorview-buttons-container",ou="dx-colorview-apply-button",au="dx-colorview-cancel-button",Ln=yi.prototype,Ir={makeTransparentBackground:Ln._makeTransparentBackground.bind(Ln),makeRgba:Ln._makeRgba.bind(Ln)},On=Wa.inherit({_supportedKeys(){var r=function(e){if(e.stopPropagation(),this.option("opened"))return e.preventDefault(),!0};return ce(this.callBase(),{enter:this._enterKeyHandler,leftArrow:r,rightArrow:r,upArrow:function(e){return this.option("opened")?e.altKey?(this.close(),!1):!0:(e.preventDefault(),!1)},downArrow:function(e){return!this.option("opened")&&!e.altKey?(e.preventDefault(),!1):!this.option("opened")&&e.altKey?(this._validatedOpening(),!1):!0}})},_getDefaultOptions(){return ce(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler(){this.callBase(),this.option("applyValueMode")==="useButtons"&&this._updateColorViewValue(this.option("value"))},_popupConfig(){return ce(this.callBase(),{width:""})},_contentReadyHandler(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses(){var r=this._popup.bottomToolbar();r&&(r.addClass(ru).addClass(nu).find(".dx-toolbar-items-container").addClass(iu),r.find(".dx-popup-done").addClass(ou),r.find(".dx-popup-cancel").addClass(au))},_createColorView(){this._popup.$overlayContent().addClass(eu);var r=Wt("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(r,yi,this._colorViewConfig())},_applyNewColor(r){this.option("value",r),r&&Ir.makeTransparentBackground(this._$colorResultPreview,r),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig(){var r=this;return{value:r.option("value"),matchValue:r.option("value"),editAlphaChannel:r.option("editAlphaChannel"),applyValueMode:r.option("applyValueMode"),focusStateEnabled:r.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),target:this._input(),onEnterKeyPressed(e){var{event:n}=e;r._colorViewEnterKeyPressed=!0,r._colorView.option("value")!==r.option("value")&&(r._saveValueChangeEvent(n),r._applyNewColor(r._colorView.option("value")),r.close())},onValueChanged(e){var{event:n,value:P,previousValue:X}=e,Et=r.option("applyValueMode")==="instantly",h=Ir.makeRgba(P)===X,C=Et||r._colorViewEnterKeyPressed,t=r._shouldSaveEmptyValue;h||!C||t||(n&&r._saveValueChangeEvent(n),r._applyNewColor(P))}}},_enterKeyHandler(r){var e=this._input().val(),{value:n,editAlphaChannel:P}=this.option(),X=n&&P?Ir.makeRgba(n):n;if(!e)return!1;var Et=new nr(e);if(Et.colorIsInvalid){this._input().val(X);return}if(e!==X&&(this._applyColorFromInput(e),this._saveValueChangeEvent(r),this.option("value",this.option("editAlphaChannel")?Ir.makeRgba(e):e)),this._colorView){var h=this._colorView.option("value");n!==h&&(this._saveValueChangeEvent(r),this.option("value",h))}return this.close(),!1},_applyButtonHandler(r){this._saveValueChangeEvent(r.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init(){this.callBase()},_initMarkup(){this.$element().addClass(En),this.callBase()},_renderInput(){this.callBase(),this._input().addClass(Bo),this._renderColorPreview()},_renderColorPreview(){this.$element().wrapInner(Wt("<div>").addClass(Js)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Wt("<div>").addClass(tu).appendTo(this._$textEditorInputContainer),this.option("value")?Ir.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Xi)},_renderValue(){var{value:r,editAlphaChannel:e}=this.option(),n=r&&e,P=n?Ir.makeRgba(r):r;return this.option("text",P),this.callBase()},_resetInputValue(){var r=this._input(),e=this.option("value");r.val(e),this._updateColorViewValue(e)},_updateColorViewValue(r){this._colorView&&this._colorView.option({value:r,matchValue:r})},_valueChangeEventHandler(r){var e=this._input().val();e&&(e=this._applyColorFromInput(e),this._updateColorViewValue(e)),this.callBase(r,e)},_applyColorFromInput(r){var{editAlphaChannel:e}=this.option(),n=new nr(r);return n.colorIsInvalid?(this._resetInputValue(),this.option("value")):e?Ir.makeRgba(r):r},_clean(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged(r){var{value:e}=r,{name:n}=r;switch(n){case"value":this._$colorBoxInputContainer.toggleClass(Xi,!e),e?Ir.makeTransparentBackground(this._$colorResultPreview,e):this._$colorResultPreview.removeAttr("style"),e===null&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(e),this._shouldSaveEmptyValue=!1,this.callBase(r);break;case"applyButtonText":case"cancelButtonText":this.callBase(r),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(n,e);break;default:this.callBase(r)}}});vi("dxColorBox",On);var lu=400,su=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],Mo=su.map(r=>({id:r,value:Qt.format("dxHtmlEditor-borderStyle".concat(Fn(r,!0)))})),Mr="user",uu="silent",cu="dxHtmlEditor-dialogColorCaption",fu="dxHtmlEditor-dialogBackgroundCaption",du="dxHtmlEditor-dialogLinkCaption",hu="dxHtmlEditor-dialogInsertTableCaption",pu="dxHtmlEditor-dialogLinkUrlField",vu="dxHtmlEditor-dialogLinkTextField",mu="dxHtmlEditor-dialogLinkTargetField",yu="dx-formdialog-field-target",gu="dxHtmlEditor-dialogInsertTableRowsField",bu="dxHtmlEditor-dialogInsertTableColumnsField",Do={insertHeaderRow:"header",clear:"clearformat"};function jo(r){return{clear:e=>{var{event:n}=e,P,X=r.quill.getSelection();X&&(r.saveValueChangeEvent(n),r.quill.removeFormat(X),(P=gi(r))===null||P===void 0||P.updateFormatWidgets())},link:Eu(r),image:Cu(r,r.editorInstance.option("imageUpload")),color:to(r,"color"),background:to(r,"background"),orderedList:Nr(r,"list","ordered"),bulletList:Nr(r,"list","bullet"),alignLeft:Nr(r,"align","left"),alignCenter:Nr(r,"align","center"),alignRight:Nr(r,"align","right"),alignJustify:Nr(r,"align","justify"),codeBlock:bi(r,"code-block"),undo:e=>{var{event:n}=e;r.saveValueChangeEvent(n),r.quill.history.undo()},redo:e=>{var{event:n}=e;r.saveValueChangeEvent(n),r.quill.history.redo()},increaseIndent:e=>{var{event:n}=e;en(r,["indent","+1",Mr],n)},decreaseIndent:e=>{var{event:n}=e;en(r,["indent","-1",Mr],n)},superscript:Nr(r,"script","super"),subscript:Nr(r,"script","sub"),insertTable:wu(r),insertHeaderRow:xr(r.quill,"insertHeaderRow"),insertRowAbove:xr(r.quill,"insertRowAbove"),insertRowBelow:xr(r.quill,"insertRowBelow"),insertColumnLeft:xr(r.quill,"insertColumnLeft"),insertColumnRight:xr(r.quill,"insertColumnRight"),deleteColumn:xr(r.quill,"deleteColumn"),deleteRow:xr(r.quill,"deleteRow"),deleteTable:xr(r.quill,"deleteTable"),cellProperties:Yi(r,"cell"),tableProperties:Yi(r,"table")}}function Qi(r,e){var{contentTemplate:n,title:P,minHeight:X,minWidth:Et,maxWidth:h}=e;r.formDialogOption({contentTemplate:n,title:P,minHeight:X??0,minWidth:Et??0,maxWidth:h??"none"})}function Yi(r,e){return n=>{var P;n!=null&&n.length||(n=Wt(_u(r,e)));var[X,Et]=(P=r.quill.getModule("table").getTable())!==null&&P!==void 0?P:[],h=r.quill.getFormat(r.editorInstance.getSelection(!0)),C=Ru(e)(r,{$element:n,formats:h,tableBlot:X,rowBlot:Et}),{contentTemplate:t,title:p,minHeight:v,minWidth:m,maxWidth:_}=r.editorInstance._formDialog._popup.option(),B={contentTemplate:t,title:p,minHeight:v,minWidth:m,maxWidth:_},M;r.editorInstance.formDialogOption({contentTemplate:A=>{var S=Wt("<div>").appendTo(A),N=Wt("<div>").appendTo(S);return r.editorInstance._createComponent(N,fo,C.formOptions),r.editorInstance._createComponent(S,$a,{}),M=N.dxForm("instance"),S},title:Qt.format("dxHtmlEditor-".concat(e,"Properties")),minHeight:lu,minWidth:Math.min(800,.9*Lr(tn())-1),maxWidth:.9*Lr(tn())});var I=r.editorInstance.showFormDialog();I.done((A,S)=>{r.saveValueChangeEvent(S),C.applyHandler(M),Qi(r.editorInstance,B)}),I.fail(()=>{r.quill.focus(),Qi(r.editorInstance,B)})}}function en(r,e,n){r.saveValueChangeEvent(n),r.quill.format(...e)}function _u(r,e){var n=r.quill.getModule("table").getTable();return e==="table"?n[0].domNode:n[2].domNode}function Ou(r,e){var n=bo(),P=n.import("formats/link"),X,Et;[X,Et]=r.quill.scroll.descendant(P,e.index),!X&&e.length===0&&([X,Et]=r.quill.scroll.descendant(P,e.index-1),X&&(Et+=1));var h=X?{index:e.index-Et,length:X.length()}:null;return h}function Ji(r){return Array.isArray(r)?r[0]:r}function Eu(r){return()=>{r.quill.focus();var e=r.quill.getSelection(),n=e?r.quill.getFormat():{},P=n.link!==void 0&&(e==null?void 0:e.length)===0,X=n.link||"";if(P){var Et=Ou(r,e);Et?e=Et:X=""}var h=Ts(r,e),C={href:X,text:e&&!h?r.quill.getText(e):"",target:Object.prototype.hasOwnProperty.call(n,"target")?!!n.target:!0};r.editorInstance.formDialogOption("title",Qt.format(du));var t=r.editorInstance.showFormDialog({formData:C,items:Tu(h)});t.done((p,v)=>{if(e&&!h){var m=p.text||p.href,{index:_,length:B}=e;p.text=void 0,r.saveValueChangeEvent(v),B&&r.quill.deleteText(_,B,uu),r.quill.insertText(_,m,"link",p,Mr),r.quill.setSelection(_+m.length,0,Mr)}else p.text=!e&&!p.text?p.href:p.text,en(r,["link",p,Mr],v)}),t.fail(()=>{r.quill.focus()})}}function Cu(r,e){var n=new ql(r,e);return()=>{n.render()}}function Tu(r){return[{dataField:"href",label:{text:Qt.format(pu)}},{dataField:"text",label:{text:Qt.format(vu)},visible:!r},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:Qt.format(mu)},cssClass:yu,label:{visible:!1}}]}function to(r,e){return()=>{var n=r.quill.getFormat(),P=e==="color"?cu:fu;r.editorInstance.formDialogOption("title",Qt.format(P));var X=r.editorInstance.showFormDialog({formData:n,items:[{dataField:e,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});X.done((Et,h)=>{en(r,[e,Et[e],Mr],h)}),X.fail(()=>{r.quill.focus()})}}function Nr(r,e,n){return P=>{var{event:X}=P,Et,h=r.quill.getFormat(),C=h[e]===n?!1:n;en(r,[e,C,Mr],X),(Et=gi(r))===null||Et===void 0||Et.updateFormatWidgets(!0)}}function gi(r){return r._updateFormatWidget?r:r.quill.getModule("toolbar")}function bi(r,e){return n=>{var{event:P}=n,X,Et=r.quill.getFormat(),h=Et[e],C=!(Ka(h)?h:be(h));en(r,[e,C,Mr],P),(X=gi(r))===null||X===void 0||X._updateFormatWidget(e,C,Et)}}function Su(){return[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(gu)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Qt.format(bu)}}]}function wu(r){return()=>{var e=r.quill.getFormat(),n=r._tableFormats.some(X=>Object.prototype.hasOwnProperty.call(e,X));if(n){r.quill.focus();return}r.editorInstance.formDialogOption("title",Qt.format(hu));var P=r.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:Su()});P.done((X,Et)=>{r.quill.focus();var h=r.quill.getModule("table");if(h){r.saveValueChangeEvent(Et);var{columns:C,rows:t}=X;h.insertTable(C,t)}}).always(()=>{r.quill.focus()})}}function Pu(r,e){var{$element:n,formats:P,tableBlot:X}=e,Et=tn(),h,C,t,p=n,{editorInstance:v}=r,m=parseInt(P.tableWidth)||_e(p),_=Et.getComputedStyle(p.get(0)),B=_.textAlign==="start"?"left":_.textAlign,M={colCount:2,formData:{width:m,height:be(P.tableHeight)?parseInt(P.tableHeight):Er(p),backgroundColor:P.tableBackgroundColor||_.backgroundColor,borderStyle:P.tableBorderStyle||_.borderTopStyle,borderColor:P.tableBorderColor||_.borderTopColor,borderWidth:parseInt(be(P.tableBorderWidth)?P.tableBorderWidth:_.borderTopWidth),alignment:P.tableAlign||B},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Mo,valueExpr:"id",displayExpr:"value",placeholder:"Select style"}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},colSpan:2,template:I=>{var A=Wt("<div>");return v._createComponent(A,On,{editAlphaChannel:!0,value:I.component.option("formData").borderColor,onInitialized:S=>{C=S.component}}),A}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:I=>{var A=Wt("<div>");return v._createComponent(A,On,{editAlphaChannel:!0,value:I.component.option("formData").backgroundColor,onInitialized:S=>{t=S.component}}),A}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var I=Wt("<div>");return v._createComponent(I,kn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[B],onInitialized:A=>{h=A.component}}),I}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:M,applyHandler:I=>{var A=I.option("formData"),S=A.width===m?void 0:A.width,N=A.height;xu(r,{$table:p,newHeight:N,newWidth:S,tableBlot:X}),r.editorInstance.format("tableBorderStyle",A.borderStyle),r.editorInstance.format("tableBorderWidth","".concat(A.borderWidth,"px")),r.editorInstance.format("tableBorderColor",C.option("value")),r.editorInstance.format("tableBackgroundColor",t.option("value")),r.editorInstance.format("tableTextAlign",h.option("selectedItemKeys")[0])}}}function Au(r,e){var{$element:n,formats:P,tableBlot:X,rowBlot:Et}=e,h=tn(),C,t,p,v,m=n,_=be(P.cellWidth)?parseInt(P.cellWidth):_e(m),{editorInstance:B}=r,M=h.getComputedStyle(m.get(0)),I=M.textAlign==="start"?"left":M.textAlign,A={colCount:2,formData:{width:_,height:be(P.cellHeight)?parseInt(P.cellHeight):Er(m),backgroundColor:Ji(P.cellBackgroundColor)||M.backgroundColor,borderStyle:P.cellBorderStyle||M.borderTopStyle,borderColor:Ji(P.cellBorderColor)||M.borderTopColor,borderWidth:parseInt(be(P.cellBorderWidth)?P.cellBorderWidth:M.borderTopWidth),alignment:P.cellTextAlign||I,verticalAlignment:P.cellVerticalAlign||M.verticalAlign,verticalPadding:parseInt(be(P.cellPaddingTop)?P.cellPaddingTop:M.paddingTop),horizontalPadding:parseInt(be(P.cellPaddingLeft)?P.cellPaddingLeft:M.paddingLeft)},items:[{itemType:"group",caption:Qt.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Qt.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:Mo,valueExpr:"id",displayExpr:"value"}},{dataField:"borderWidth",label:{text:Qt.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:Qt.format("dxHtmlEditor-borderColor")},template:S=>{var N=Wt("<div>");return B._createComponent(N,On,{editAlphaChannel:!0,value:S.component.option("formData").borderColor,onInitialized:x=>{p=x.component}}),N}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:Qt.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Qt.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Qt.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:Qt.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}},{label:{text:Qt.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:Qt.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Qt.format("dxHtmlEditor-borderColor")},template:S=>{var N=Wt("<div>");return B._createComponent(N,On,{editAlphaChannel:!0,value:S.component.option("formData").backgroundColor,onInitialized:x=>{v=x.component}}),N}}]},{itemType:"group",caption:Qt.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-horizontal")},template:()=>{var S=Wt("<div>");return B._createComponent(S,kn,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[I],onInitialized:N=>{C=N.component}}),S}},{itemType:"simple",label:{text:Qt.format("dxHtmlEditor-vertical")},template:()=>{var S=Wt("<div>");return B._createComponent(S,kn,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[M.verticalAlign],onInitialized:N=>{t=N.component}}),S}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400};return{formOptions:A,applyHandler:S=>{var N=S.option("formData"),x=N.width===parseInt(_)?void 0:N.width,D=N.height;Iu(r,{$cell:m,newHeight:D,newWidth:x,tableBlot:X,rowBlot:Et}),r.editorInstance.format("cellBorderWidth","".concat(N.borderWidth,"px")),r.editorInstance.format("cellBorderColor",p.option("value")),r.editorInstance.format("cellBorderStyle",N.borderStyle),r.editorInstance.format("cellBackgroundColor",v.option("value")),r.editorInstance.format("cellTextAlign",C.option("selectedItemKeys")[0]),r.editorInstance.format("cellVerticalAlign",t.option("selectedItemKeys")[0]),r.editorInstance.format("cellPaddingLeft","".concat(N.horizontalPadding,"px")),r.editorInstance.format("cellPaddingRight","".concat(N.horizontalPadding,"px")),r.editorInstance.format("cellPaddingTop","".concat(N.verticalPadding,"px")),r.editorInstance.format("cellPaddingBottom","".concat(N.verticalPadding,"px"))}}}function Ru(r){return r==="cell"?Au:Pu}function xu(r,e){var{$table:n,newHeight:P,newWidth:X,tableBlot:Et}=e;if(be(X)){var h=_n(n);if(h.length>0)r.editorInstance.format("tableWidth","".concat(X,"px"));else{var C=Un(n),t=_e(n);bn(n,{tableBlot:Et}),Pe(C,(_,B)=>{var M=Wt(B),I=X/t*_e(M),A=pr(n,M.index(),"horizontal");Ve(r,{elements:A,property:"width",value:I})})}}var p=_n(n,"vertical");if((p==null?void 0:p.length)>0)Et.format("tableHeight","".concat(P,"px"));else{var v=mi(n),m=Er(n);Pe(v,(_,B)=>{var M=Wt(B),I=P/m*Er(M),A=pr(n,_,"vertical");Ve(r,{elements:A,property:"height",value:I})})}}function Iu(r,e){var{$cell:n,newHeight:P,newWidth:X,tableBlot:Et,rowBlot:h}=e,C=Wt(n.closest("table"));if(be(X)){var t=Wt(n).index(),p=pr(C,t),v=X-_e(n),m=_e(C);X>m&&bn(C,{tableBlot:Et}),Ve(r,{elements:p,property:"width",value:X});var _=n.next(),B=_n(C).length===0;if(B)if(bn(C,{tableBlot:Et}),_.length===1){p=pr(C,t+1);var M=_e(p.eq(0))-v;Ve(r,{elements:p,property:"width",value:Math.max(M,0)})}else{var I=n.prev();if(I.length===1){p=pr(C,t-1);var A=_e(p.eq(0))-v;Ve(r,{elements:p,property:"width",value:Math.max(A,0)})}}}h.children.forEach(N=>{N.format("cellHeight","".concat(P,"px"))});var S=_n(C,"vertical");S.length===0&&C.css("height","auto")}var Nu="dxHtmlEditorTableContextMenu",eo=Re("dxcontextmenu",Nu),ko=Ie,Qn=r=>Qt.format("dxHtmlEditor-".concat(Fn(r)));fe&&(ko=class extends Ie{constructor(r,e){super(r,e),this.enabled=!!e.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=jo(this),this._tableFormats=Lo(r),this.enabled&&this._enableContextMenu(e.items)}_enableContextMenu(r){var e;(e=this._contextMenu)===null||e===void 0||e.dispose(),this._contextMenu=this._createContextMenu(r),this._attachEvents()}_attachEvents(){he.on(this.editorInstance._getContent(),eo,this._prepareContextMenuHandler())}_detachEvents(){he.off(this.editorInstance._getContent(),eo)}_createContextMenu(r){var e=Wt("<div>").appendTo(this.editorInstance.$element()),n=this._getMenuConfig(r);return this.editorInstance._createComponent(e,Za,n)}showPropertiesForm(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cell",e=Wt(this._targetElement).closest(r==="cell"?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(r,"Properties")](e),this._targetElement=null}_isAcceptableItem(r,e){return!r||r===e}_handleObjectItem(r){if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var e=this._prepareMenuItemConfig(r.name),n=ce(!0,e,r);return n}return r.items&&(r.items=this._prepareMenuItems(r.items)),r}_prepareMenuItemConfig(r){var e,n,P=(e=Do[r])!==null&&e!==void 0?e:r,X=jn(r);return{text:Qn(X),icon:P.toLowerCase(),onClick:(n=this._formatHandlers[r])!==null&&n!==void 0?n:bi(this,r)}}_prepareMenuItems(r){var e=[];return Pe(r,(n,P)=>{var X;Jr(P)?X=this._handleObjectItem(P):pi(P)&&(X=this._prepareMenuItemConfig(P)),X&&e.push(X)}),e}_getMenuConfig(r){var e=[{text:Qn("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",ce(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:Qn("delete"),items:["deleteColumn","deleteRow","deleteTable"]},ce(this._prepareMenuItemConfig("cellProperties"),{onClick:()=>{this.showPropertiesForm("cell")}}),ce(this._prepareMenuItemConfig("tableProperties"),{onClick:()=>{this.showPropertiesForm("table")}})],n=this._prepareMenuItems(r!=null&&r.length?r:e);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:n}}_prepareContextMenuHandler(){return r=>{this._isTableTarget(r.target)&&(this._targetElement=r.target,this._setContextMenuPosition(r),this._contextMenu.show(),r.preventDefault())}}_setContextMenuPosition(r){var e=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:r.clientX-e.left,y:r.clientY-e.top}}})}_isTableTarget(r){return!!Wt(r).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(r,e){var n;if(r==="tableContextMenu"){this.handleOptionChangeValue(e);return}r==="enabled"?(this.enabled=e,e?this._enableContextMenu():this.clean()):r==="items"&&((n=this._contextMenu)===null||n===void 0||n.dispose(),this._contextMenu=this._createContextMenu(e))}prepareCleanCallback(){return()=>{this.clean()}}});const Lu=ko;var Bu="dx-table-resize-frame",ro="dx-htmleditor-column-resizer",no="dx-htmleditor-row-resizer",Mu={minColumnWidth:40,minRowHeight:24},Du=2,Yn=3,_i="dxHtmlTableResizingModule",io=Re("dxpointerdown",_i),ju=Re("scroll",_i);class ku extends Ie{constructor(e,n){super(e,n),this.enabled=!!n.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",n.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",n.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(e){e?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=ki.add(this._resizeHandler.bind(this))}_minSizeLimit(e,n){return be(n)?Math.max(n,0):Mu[e]}_applyResizingImpl(){var e=this._findTables();e.length&&(this._fixTablesWidths(e),this._createResizeFrames(e),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){he.on(this.editorInstance._getContent(),ju,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){he.off(this.editorInstance._getContent(),_i),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(e,n,P){return(X,Et,h)=>{if(this._isTableChanging()){var C=this._findTables();this._removeResizeFrames(),h==="api"&&this._fixTablesWidths(C),this._updateTablesColumnsWidth(C),this._createResizeFrames(C),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(e){var n;return(n=this._framesForTables)===null||n===void 0?void 0:n.get(e.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var e=this._findTables();Pe(e,(n,P)=>{var X=Wt(P),Et=this._tableResizeFrames[n],h=_e(X),C=this._tableLastWidth(Et);Math.abs(h-C)>1&&(this._tableLastWidth(Et,h),this._updateColumnsWidth(X,n))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return Wt(this._quillContainer).find("table")}_getWidthStyleValue(e){var n=e[0].style.width;return n!==""?parseInt(n):void 0}_tableLastWidth(e,n){if(be(n))e.lastWidth=n;else return e==null?void 0:e.lastWidth}_fixTablesWidths(e){Pe(e,(n,P)=>{var X,Et=Wt(P),h=this._getTableDeterminantElements(Et,"horizontal");this._tableResizeFrames[n]||(this._tableResizeFrames[n]={lastWidth:void 0});var C=this._getFrameForTable(Et);if(C||this._tableResizeFrames.push({$table:Et}),_n(Et).length===0){var{columnsSum:t}=this._getColumnElementsSum(h);bn(Et,{quill:this.quill});var p=(X=this._tableLastWidth(C))!==null&&X!==void 0?X:_e(Et);C&&this._tableLastWidth(C,Math.max(t,p))}})}_createResizeFrames(e){this._framesForTables=new Map,e.each((n,P)=>{var X,Et=Wt(P),h=(X=this._tableResizeFrames[n])===null||X===void 0?void 0:X.$table,C=this._tableResizeFrames[n].lastWidth;this._tableResizeFrames[n]={$frame:this._createTableResizeFrame(P),$table:Et,index:n,lastWidth:h&&P===h.get(0)?C:void 0,columnsCount:this._getTableDeterminantElements(Et,"horizontal").length,rowsCount:this._getTableDeterminantElements(Et,"vertical").length},this._framesForTables.set(P,this._tableResizeFrames[n])}),this._tableResizeFrames.length=e.length}_isTableChanging(){var e=this._findTables(),n=!1;return e.length!==this._tableResizeFrames.length?n=!0:Pe(e,(P,X)=>{var Et=Wt(X),h=this._tableResizeFrames[P],C=(h==null?void 0:h.columnsCount)!==this._getTableDeterminantElements(Et,"horizontal").length,t=(h==null?void 0:h.rowsCount)!==this._getTableDeterminantElements(Et,"vertical").length;if(C||t)return n=!0,!1}),n}_removeResizeFrames(e){var n;Pe(this._tableResizeFrames,(P,X)=>{var Et;if(X.$frame){var h=".".concat(ro,", .").concat(no);this._detachSeparatorEvents((Et=X.$frame)===null||Et===void 0?void 0:Et.find(h)),X.$frame.remove()}}),(n=this._framesForTables)===null||n===void 0||n.clear(),e&&(this._tableResizeFrames=[])}_detachSeparatorEvents(e){e.each((n,P)=>{he.off(P,io)})}_createTableResizeFrame(e){return Wt("<div>").addClass(Bu).appendTo(this._quillContainer)}_updateFramesPositions(){Pe(this._tableResizeFrames,(e,n)=>{this._updateFramePosition(n.$table,n.$frame)})}_updateFramePosition(e,n){var{height:P,width:X,top:Et,left:h}=yn(e.get(0)),{top:C,left:t}=yn(this.quill.root);n.css({height:P,width:X,top:Et-C,left:h-t}),vn(n,{left:0,top:0})}_updateFramesSeparators(e){Pe(this._tableResizeFrames,(n,P)=>{e?this._updateFrameSeparators(P,e):(this._updateFrameSeparators(P,"vertical"),this._updateFrameSeparators(P,"horizontal"))})}_isDraggable(e){return e.hasClass("dx-draggable")&&e.is(":visible")}_removeDraggable(e,n){if(this._isDraggable(e)){var P=Wt(e).dxDraggable("instance");P.dispose(),Wt(e).addClass(n)}}_getDirectionInfo(e){return e==="vertical"?{lineResizerClass:no,sizeFunction:n=>Er(n),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:ro,sizeFunction:n=>_e(n),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(e,n){return n.sizeFunction(e)}_updateFrameSeparators(e,n){for(var P=this._getTableDeterminantElements(e.$table,n),X=P.length,Et=X-1,h=this._getDirectionInfo(n),C=e.$frame.find(".".concat(h.lineResizerClass)),t={transform:"none"},p=0,v=0;v<=Et;v++){p+=this._getSize(P.eq(v),h),be(C[v])||(C[v]=Wt("<div>").addClass(h.lineResizerClass).appendTo(e.$frame).get(0));var m=Wt(C[v]);this._removeDraggable(m,h.lineResizerClass),t[h.positionCoordinate]=p-Du,Wt(m).css(t);var _={lineSeparator:C[v],index:v,$determinantElements:P,frame:e,direction:n};this._attachColumnSeparatorEvents(_)}}_getTableDeterminantElements(e,n){return n==="vertical"?e.find("th:first-child, td:first-child"):Un(e)}_attachColumnSeparatorEvents(e){he.on(e.lineSeparator,io,()=>{this._createDraggableElement(e)})}_dragStartHandler(e){var{$determinantElements:n,index:P,frame:X,direction:Et,lineSeparator:h}=e,C=this._getDirectionInfo(Et);this._isDragging=!0,this._fixColumnsWidth(X.$table),this._startLineSize=parseInt(this._getSize(Wt(n[P]),C)),this._startTableWidth=_e(X.$table),this._startLineSeparatorPosition=parseInt(Wt(h).css(C.positionCoordinate)),this._nextLineSize=0,n[P+1]?this._nextLineSize=parseInt(this._getSize(Wt(n[P+1]),C)):Et==="horizontal"&&bn(X.$table,{quill:this.quill})}_shouldRevertOffset(e){return e==="horizontal"&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(e,n,P){if(!this._nextLineSize)return!0;if(e>=this._minColumnWidth){var X=this._nextColumnOffsetLimit?P<this._nextColumnOffsetLimit:P<0,Et=Math.abs(this._getWidthStyleValue(n)-_e(n))>Yn;return X||!Et}return!1}_shouldSetNextColumnWidth(e){return this._nextLineSize&&e>0}_horizontalDragHandler(e){var{currentLineNewSize:n,directionInfo:P,eventOffset:X,$determinantElements:Et,index:h,frame:C}=e,t=this._nextLineSize&&this._nextLineSize-X,p=n>=this._minColumnWidth,v=pr(C.$table,h),m=pr(C.$table,h+1),_=_e(v.eq(0))-n;if(p)if(this._isNextColumnWidthEnough(t,Et.eq(h+1),X)){Ve(this,{elements:v,property:P.positionStyleProperty,value:n}),this._shouldSetNextColumnWidth(t)&&Ve(this,{elements:m,property:P.positionStyleProperty,value:t});var B=Math.abs(this._startTableWidth-_e(C.$table))<Yn,M=Math.abs(_)>Yn||!this._nextLineSize&&B;M&&(Ve(this,{elements:v,property:P.positionStyleProperty,value:_e(v.eq(0))}),t+=n-_e(v.eq(0)),this._shouldSetNextColumnWidth(t)&&Ve(this,{elements:m,property:P.positionStyleProperty,value:t}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||X;this._$highlightedElement.css(P.positionCoordinate,"".concat(this._startLineSeparatorPosition+X+_,"px"))}_verticalDragHandler(e){var{currentLineNewSize:n,directionInfo:P,eventOffset:X,$determinantElements:Et,index:h,frame:C}=e,t=Math.max(n,this._minRowHeight),p=pr(C.$table,h,"vertical");Ve(this,{elements:p,property:P.positionStyleProperty,value:t});var v=Er(Et.eq(h))-n;this._$highlightedElement.css(P.positionCoordinate,"".concat(this._startLineSeparatorPosition+X+v,"px"))}_dragMoveHandler(e,n){var{$determinantElements:P,index:X,frame:Et,direction:h}=n,C=this._getDirectionInfo(h),t=e.offset[C.positionCoordinateName];this.editorInstance._saveValueChangeEvent(e),this._shouldRevertOffset(h)&&(t=-t);var p=this._startLineSize+t;h==="horizontal"?this._horizontalDragHandler({currentLineNewSize:p,directionInfo:C,eventOffset:t,$determinantElements:P,index:X,frame:Et}):this._verticalDragHandler({currentLineNewSize:p,directionInfo:C,eventOffset:t,$determinantElements:P,index:X,frame:Et}),this._updateFramePosition(Et.$table,Et.$frame)}_dragEndHandler(e){var n;(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(e.frame,_e(e.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(e){var{$determinantElements:n,index:P}=e;return!be(n[P+1])}_getBoundaryConfig(e){var n={};if(e.direction==="vertical")n.boundary=e.frame.$table,n.boundOffset={bottom:ho()?-Br(tn()):-Er(this._quillContainer),top:0,left:0,right:0};else if(!this._isLastColumnResizing(e))n.boundary=e.frame.$table;else{var P=this.editorInstance._getContent();n.boundary=P,n.boundOffset={bottom:0,top:0,left:P.css("paddingLeft"),right:P.css("paddingRight")}}return n}_createDraggableElement(e){var n,P=this._getBoundaryConfig(e),X=e.direction==="vertical"?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";(n=this._$highlightedElement)===null||n===void 0||n.remove(),this._$highlightedElement=Wt("<div>").addClass("".concat(X)).insertAfter(Wt(e.lineSeparator));var Et={contentTemplate:null,allowMoveByClick:!1,dragDirection:e.direction,onDragMove:h=>{var{component:C,event:t}=h;this._dragMoveHandler(t,e)},onDragStart:()=>{this._dragStartHandler(e)},onDragEnd:()=>{this._dragEndHandler(e)}};ce(Et,P),this._currentDraggableElement=this.editorInstance._createComponent(e.lineSeparator,Dn,Et)}_fixColumnsWidth(e){var n=this._getTableDeterminantElements(e);Pe(n,(P,X)=>{var Et=_e(X),h=pr(e,P);Ve(this,{elements:h,property:"width",value:Math.max(Et,this._minColumnWidth)})})}_getColumnElementsSum(e){var n=[],P=0;return Pe(e,(X,Et)=>{var h=Wt(Et),C=this._getWidthStyleValue(h)||_e(h);n[X]=Math.max(C,this._minColumnWidth),P+=n[X]}),{columnsWidths:n,columnsSum:P}}_setColumnsRatioWidth(e,n,P,X){Pe(e,Et=>{var h=pr(X,Et),C;n>0?C=this._minColumnWidth+Math.round((P[Et]-this._minColumnWidth)*n):C=this._minColumnWidth,Ve(this,{elements:h,property:"width",value:C})})}_updateColumnsWidth(e,n){var P=this._getTableDeterminantElements(e),X=this._tableResizeFrames[n];X||(this._tableResizeFrames[n]={}),X=this._tableResizeFrames[n];var Et=this._tableLastWidth(X)||_e(e),h,{columnsWidths:C,columnsSum:t}=this._getColumnElementsSum(P),p=P.length*this._minColumnWidth;t>p?h=(Et-p)/(t-p):h=-1,this._tableLastWidth(X,h>0?Et:p),this._setColumnsRatioWidth(P,h,C,e)}_updateTablesColumnsWidth(e){Pe(e,(n,P)=>{this._updateColumnsWidth(Wt(P),n)})}option(e,n){if(e==="tableResizing"){this.handleOptionChangeValue(n);return}e==="enabled"?(this.enabled=n,n?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(e)&&(this["_".concat(e)]=this._minSizeLimit(e,n))}clean(){this._removeResizeFrames(!0),this._detachEvents(),ki.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}class Hu{constructor(){this._collection=[]}clear(){this._collection=[]}add(e,n){this._collection.push({name:e,instance:n})}remove(e){this._collection=this._collection.filter(n=>n.name!==e)}getByName(e){var n=null;return Pe(this._collection,(P,X)=>{var{name:Et,instance:h}=X;if(Et===e)return n=h,!1}),n}each(e){this._collection.forEach(n=>{var{name:P,instance:X}=n;return X&&e(P,X)})}}var Ho=Ie;if(fe){var oo="dx-htmleditor-toolbar-wrapper",Fu="dx-htmleditor-toolbar",Uu="dx-htmleditor-toolbar-format",Wu="dx-htmleditor-toolbar-separator",$u="dx-htmleditor-toolbar-menu-separator",ao="dx-format-active",lo="dx-state-selected",Ku="dx-icon",Zu="selection-change",zu="user",Vu="silent",Gu={66:"bold",73:"italic",85:"underline"},Jn={b:66,i:73,u:85},an=r=>Qt.format("dxHtmlEditor-".concat(Fn(r))),qu=(r,e)=>{if(e==="header"){var n=be(r)&&r!==!1;return n?"".concat(an("heading")," ").concat(r):an("normalText")}return an(r)||r};Ho=class extends Ie{constructor(r,e){var n;if(super(r,e),n=this,this._toolbarWidgets=new Hu,this._formatHandlers=jo(this),this._tableFormats=Lo(r),be(e.items)){this._addCallbacks(),this._renderToolbar();var P=this.toolbarInstance._layoutStrategy._menu;if(P){var{_renderPopup:X}=P;P._renderPopup=function(){for(var Et=arguments.length,h=new Array(Et),C=0;C<Et;C++)h[C]=arguments[C];X.apply(P,...h),P._popup.on("showing",()=>{n._updateToolbar(!0)})}}this.quill.on("editor-change",(Et,h,C,t)=>{var p=t===Vu&&Mn(this.quill.getFormat());if(!p){var v=Et===Zu;this._updateToolbar(v)}})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(r){this.updateFormatWidgets(r),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(r,e,n){var P=this._toolbarWidgets.getByName(r);P&&(e?this._markActiveFormatWidget(r,P,n):(this._resetFormatWidget(r,P),Object.prototype.hasOwnProperty.call(r)&&delete n[r]),this._toggleClearFormatting(e||!Mn(n)))}_renderToolbar(){var r=this.options.container||this._getContainer();this._$toolbar=Wt("<div>").addClass(Fu).appendTo(r),this._$toolbarContainer=Wt(r).addClass(oo),he.on(this._$toolbarContainer,Re("mousedown",this.editorInstance.NAME),e=>{e.target.focus(),e.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,za,this.toolbarConfig),this.editorInstance.on("optionChanged",e=>{var{name:n}=e;(n==="readOnly"||n==="disabled")&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var r;return(r=this.options.multiline)!==null&&r!==void 0?r:!0}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(oo)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var r=Wt("<div>");return this.editorInstance.$element().prepend(r),r}_detectRenamedOptions(r){Jr(r)&&Pe([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(e,n)=>{Object.prototype.hasOwnProperty.call(r,n.oldName)&&di.log("W1016",n.oldName,n.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:Jn.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Jn.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:Jn.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(r,e,n){var{which:P}=n,X=Gu[P];this._updateButtonState(X)}_updateButtonState(r){var e=this._toolbarWidgets.getByName(r),n=this.quill.getFormat(),P=n[r];P?this._markActiveFormatWidget(r,e,n):this._resetFormatWidget(r,e)}_prepareToolbarItems(){var r=[];return Pe(this.options.items,(e,n)=>{var P;if(this._detectRenamedOptions(n),Jr(n))P=this._handleObjectItem(n);else if(pi(n)){var X=this._prepareButtonItemConfig(n);P=this._getToolbarItem(X)}P&&r.push(P)}),r}_handleObjectItem(r){if(r.name&&r.acceptedValues&&this._isAcceptableItem(r.widget,"dxSelectBox")){var e=this._prepareSelectItemConfig(r);return this._getToolbarItem(e)}if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var n=this._prepareButtonItemConfig(r.name),P=ce(!0,n,r);return this._getToolbarItem(P)}return this._getToolbarItem(r)}_isAcceptableItem(r,e){return!r||r===e}_prepareButtonItemConfig(r){var e,n=(e=Do[r])!==null&&e!==void 0?e:r,P=jn(r);return{widget:"dxButton",name:r,options:{hint:an(P),text:an(P),icon:n.toLowerCase(),onClick:this._formatHandlers[r]||bi(this,r),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(r){var{name:e,acceptedValues:n}=r;return ce(!0,{widget:"dxSelectBox",name:e,options:{stylingMode:"filled",dataSource:n,displayExpr:P=>qu(P,e),placeholder:an(e),onValueChanged:P=>{this._isReset||(this._hideAdaptiveMenu(),en(this,[e,P.value,zu],P.event),this._setValueSilent(P.component,P.value))}}},r)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(r){var e={options:{onInitialized:n=>{r.name&&(n.component.$element().addClass(Uu),n.component.$element().toggleClass("dx-".concat(r.name.toLowerCase(),"-format"),!!r.name),this._toolbarWidgets.add(r.name,n.component))},onDisposing:()=>{this._toolbarWidgets.remove(r.name)}}};return ce(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(r.name),r,e)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(r,e,n)=>{Wt(n).addClass(Wu)},menuItemTemplate:(r,e,n)=>{Wt(n).addClass($u)}}}}_getDefaultConfig(r){return this._getDefaultItemsConfig()[r]}updateHistoryWidgets(){var r=this.quill.history;if(r){var{undo:e,redo:n}=r.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!e.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!n.length)}}updateTableWidgets(){var r=this.quill.getModule("table");if(r){var e=this.quill.getSelection(),n=e&&this.quill.getFormat(e)||{},P=this._tableFormats.some(X=>!!n[X]);Cs.forEach(X=>{var Et=X==="insertTable",h=this._toolbarWidgets.getByName(X);this._updateManipulationWidget(h,Et?!P:P)})}}_updateManipulationWidget(r,e){r&&r.option("disabled",!e)}updateFormatWidgets(r){var e,n=this.quill.getSelection();if(n){var P=this.quill.getFormat(n),X=!Mn(P);(!X||r)&&this._resetFormatWidgets();for(var Et in P){var h=this._getFormatWidgetName(Et,P),C=(e=this._toolbarWidgets.getByName(h))!==null&&e!==void 0?e:this._toolbarWidgets.getByName(Et);C&&this._markActiveFormatWidget(Et,C,P)}this._toggleClearFormatting(X||n.length>1)}}_markActiveFormatWidget(r,e,n){this._isColorFormat(r)&&this._updateColorWidget(r,n[r]),"value"in e.option()?this._setValueSilent(e,n[r]):(e.$element().addClass(ao),e.$element().addClass(lo))}_toggleClearFormatting(r){var e=this._toolbarWidgets.getByName("clear");e&&e.option("disabled",!r)}_isColorFormat(r){return r==="color"||r==="background"}_updateColorWidget(r,e){var n=this._toolbarWidgets.getByName(r);n&&n.$element().find(".".concat(Ku)).css("borderBottomColor",e||"transparent")}_getFormatWidgetName(r,e){var n;switch(r){case"align":n=r+jn(e[r]);break;case"list":n=e[r]+jn(r);break;case"code-block":n="codeBlock";break;case"script":n=e[r]+r;break;case"imageSrc":n="image";break;default:n=r}return n}_setValueSilent(r,e){this._isReset=!0,r.option("value",e),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((r,e)=>{this._resetFormatWidget(r,e)})}_resetFormatWidget(r,e){e.$element().removeClass(ao),e.$element().removeClass(lo),this._isColorFormat(r)&&this._updateColorWidget(r),r==="clear"&&e.option("disabled",!0),e.NAME==="dxSelectBox"&&this._setValueSilent(e,null)}addClickHandler(r,e){this._formatHandlers[r]=e;var n=this._toolbarWidgets.getByName(r);n&&n.NAME==="dxButton"&&n.option("onClick",e)}}}const Xu=Ho;var pn={};if(fe){var Qu=fe.import("blots/embed"),Yu="dx-variable";pn=class extends Qu{static create(r){var e=super.create(),n,P,X=r.value;return Array.isArray(r.escapeChar)?(n=ii(r.escapeChar[0],""),P=ii(r.escapeChar[1],"")):n=P=r.escapeChar,e.innerText=n+X+P,e.dataset.varStartEscChar=n,e.dataset.varEndEscChar=P,e.dataset.varValue=r.value,e}static value(r){return ce({},{value:r.dataset.varValue,escapeChar:[r.dataset.varStartEscChar||"",r.dataset.varEndEscChar||""]})}},pn.blotName="variable",pn.tagName="span",pn.className=Yu}const Ju=pn;var Fo=Ie;if(fe){var tc="dx-variable-format",ec="dx-format-active",rc="dx-state-selected";fe.register({"formats/variable":Ju},!0),Fo=class extends Io{constructor(r,e){super(r,e);var n=r.getModule("toolbar");n&&n.addClickHandler("variable",this.showPopup.bind(this)),r.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",P=>{var X=Wt(P.component.option("position").of);X.hasClass(tc)&&(X.addClass(ec),X.addClass(rc))})}_getDefaultOptions(){var r=super._getDefaultOptions();return ce(r,{escapeChar:""})}showPopup(r){var e=this.quill.getSelection(!0),n=e?e.index:this.quill.getLength();this.savePosition(n),this._resetPopupPosition(r,n),super.showPopup()}_resetPopupPosition(r,e){if(r&&r.element)this._popup.option("position",{of:r.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var n=this.quill.getBounds(e),P=yn(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:n.left,v:n.bottom-P.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(r){var e=this.getPosition(),n=r.component.option("selectedItem"),P=ce({},{value:n,escapeChar:this.options.escapeChar});setTimeout(()=>{this.quill.insertEmbed(e,"variable",P),this.quill.setSelection(e+1)})}}}const nc=Fo;var fi;if(fe){var ic=fe.import("core/theme");fi=class extends ic{constructor(r,e){super(r,e),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox"),this.quill.root.setAttribute("aria-label","Editor content")}}}else fi={};const oc=fi;class Hn{constructor(){if(this._customModules=[],!Hn.initialized){var e=this.getQuill(),n=e.import("attributors/style/direction");e.register({"formats/align":bl,"formats/direction":n,"formats/font":_l,"formats/size":Sl,"formats/extendedImage":El,"formats/link":Tl,"modules/toolbar":Xu,"modules/dropImage":Al,"modules/variables":nc,"modules/resizing":Os,"modules/tableResizing":ku,"modules/tableContextMenu":Lu,"modules/imageUpload":rs,"modules/imageCursor":xl,"modules/mentions":ms,"themes/basic":oc},!0),this._customModules=[],Hn._initialized=!0}}createEditor(e,n){var P=this.getQuill();return new P(e,n)}registerModules(e){var n=RegExp("modules/*"),P=this.getQuill(),X=h=>!!P.imports[h];for(var Et in e)n.test(Et)&&!X(Et)&&this._customModules.push(Et.slice(8));P.register(e,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return bo()}}function ac(r){var e=r[1];return e.match(/\S+\./)?"ordered":"bullet"}function lc(r){var e=r.getAttribute("style");if(e){var n=e.replace(/\n+/g,"").match(/level(\d+)/);return n?n[1]-1:0}return!1}function sc(r){var e=r[r.length-1];e.insert=e.insert.trim()}var uc=r=>{var e=r.import("delta");return(n,P)=>{var X=P.ops.slice(),Et=X[0];Et.insert=Et.insert.replace(/^\s+/,"");var h=Et.insert.match(/^(\S+)\s+/),C=h&&lc(n);return!h||C===!1?P:(Et.insert=Et.insert.substring(h[0].length,Et.insert.length),sc(X),X.push({insert:`
`,attributes:{list:ac(h),indent:C}}),new e(X))}},so="dx-formdialog",cc="dx-formdialog-form",fc="dx-dropdowneditor-overlay",dc=()=>hi()?{stylingMode:"contained",type:"default"}:{},hc=()=>hi()?{stylingMode:"outlined",type:"normal"}:{};class pc{constructor(e,n){this._editorInstance=e,this._popupUserConfig=n,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var e=this._editorInstance,n=Wt("<div>").addClass(so).appendTo(e.$element()),P=this._getPopupConfig();return e._createComponent(n,uo,P)}_attachOptionChangedHandler(){var e;(e=this._popup)===null||e===void 0||e.on("optionChanged",n=>{var{name:P,value:X}=n;P==="title"&&this._updateFormLabel(X)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(e){e.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var e=ho()?Va():null;return sn.real().deviceType==="phone"||e==="xs"}_getPopupConfig(){return ce({onInitialized:e=>{this._popup=e.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:e=>{var n=Wt("<div>").appendTo(e);this._renderForm(n,{onEditorEnterKey:P=>this.callAddButtonAction(P.event),customizeItem:P=>{P.itemType==="simple"&&(P.editorOptions=ce(!0,{},P.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:mn({onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("OK"),onClick:e=>this.callAddButtonAction(e.event)},dc())},{toolbar:"bottom",location:"after",widget:"dxButton",options:mn({onInitialized:this._addEscapeHandler.bind(this),text:Qt.format("Cancel"),onClick:()=>{this._popup.hide()}},hc())}],_wrapperClassExternal:"".concat(so," ").concat(fc)},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(e){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),e)}_renderForm(e,n){e.addClass(cc),this._form=this._editorInstance._createComponent(e,fo,n),this._updateFormLabel()}_updateFormLabel(e){var n,P=e??this.popupOption("title");(n=this._form)===null||n===void 0||n.$element().attr("aria-label",P)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:Ga()?"top":"left"}}formOption(e,n){return this._form.option.apply(this._form,arguments)}show(e){if(!this._popup.option("visible")){this.deferred=po();var n=ce(this._getDefaultFormOptions(),e);return this._form.option(n),this._popup.show(),this.deferred.promise()}}hide(e,n){this.deferred.resolve(e,n),this._popup.hide()}popupOption(e,n){return this._popup.option.apply(this._popup,arguments)}}var vc="dx-htmleditor",mc="dx-quill-container",yc="ql-clipboard",gc="dx-htmleditor-submit-element",bc="dx-htmleditor-content",Bn="markdown",ti="htmlContent",_c=sn.current().platform==="ios",Oc=0,Uo=co.inherit({_getDefaultOptions(){return ce(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:qa().editorStylingMode||"outlined"})},_init(){this._mentionKeyInTemplateStorage=Oc++,this.callBase(),this._cleanCallback=Hi(),this._contentInitializedCallback=Hi()},_getAnonymousTemplateName:()=>ti,_initTemplates(){this._templateManager.addDefaultTemplates({[ti]:new Xa}),this.callBase()},_focusTarget(){return this._getContent()},_getContent(){return this.$element().find(".".concat(bc))},_focusInHandler(r){var{relatedTarget:e}=r;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler(r){var{relatedTarget:e}=r;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:r=>Wt(r).hasClass(yc),_initMarkup(){this._$htmlContainer=Wt("<div>").addClass(mc),this.$element().attr("role","application").addClass(vc).wrapInner(this._$htmlContainer),this._renderStylingMode();var r=this._getTemplate(ti);this._$templateResult=r&&r.render({container:ri(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderValidationState(){var r=this._getContent();r.length===1&&this.callBase()},_renderSubmitElement(){this._$submitElement=Wt("<textarea>").addClass(gc).attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue(r){this._getSubmitElement().val(r)},_getSubmitElement(){return this._$submitElement},_createNoScriptFrame:()=>Wt("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"}),_removeXSSVulnerableHtml(r){var e=this._createNoScriptFrame().appendTo("body"),n=e.get(0),P=n.contentWindow,X=P.document,Et=X.body;Et.innerHTML=r;var h=t=>{if(t.attributes)for(var p=0;p<t.attributes.length;p++){var{name:v}=t.attributes[p];v.startsWith("on")&&t.removeAttribute(v)}if(t.childNodes)for(var m=0;m<t.childNodes.length;m++)h(t.childNodes[m])};h(Et),Et.querySelectorAll("script").forEach(t=>{t.remove()});var C=Et.innerHTML;return e.remove(),C},_updateContainerMarkup(){var r=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),r=this._markdownConverter.toHtml(r)),r){var e=this._removeXSSVulnerableHtml(r);this._$htmlContainer.html(e)}},_prepareMarkdownConverter(){var r=oi.getConverter("markdown");if(r)this._markdownConverter=new r;else throw di.Error("E1051","markdown")},_render(){this._prepareConverters(),this.callBase(),this._toggleReadOnlyState()},_prepareQuillRegistrator(){this._quillRegistrator||(this._quillRegistrator=new Hn)},_getRegistrator(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters(){if(!this._deltaConverter){var r=oi.getConverter("delta");r&&(this._deltaConverter=new r)}this.option("valueType")===Bn&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl(){this._contentRenderedDeferred=po();var r=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),r},_pointerMoveHandler(r){_c&&r.stopPropagation()},_attachFocusEvents(){Qa(this.callBase.bind(this))},_addKeyPressHandler(){var r=Re("keydown","".concat(this.NAME,"TextChange"));he.on(this._$htmlContainer,r,this._keyDownHandler.bind(this))},_keyDownHandler(r){this._saveValueChangeEvent(r)},_renderHtmlEditor(){var r=this.option("customizeModules"),e=this._getModulesConfig();Ya(r)&&r(e),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:e,theme:"basic"}),this._renderValidationState(),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=Ja(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler(){var r=this._getContent(),e=tl(r);he.on(r,Re(el.init,this.NAME),e,rl),he.on(r,Re(nl.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent(){var r=this.option("value");if(!be(r)){var e=this._deltaConverter.toHtml(),n=this._quillInstance.clipboard.convert({html:e});if(n.ops.length){this._quillInstance.setContents(n);return}}this._finalizeContentRendering()},_hasTranscludedContent(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig(){var r=this._getRegistrator().getQuill(),e=uc(r),n=ce({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:P=>this._saveValueChangeEvent(xn(P)),imageBlot:"extendedImage"},keyboard:{onKeydown:P=>this._saveValueChangeEvent(xn(P))},clipboard:{onPaste:P=>this._saveValueChangeEvent(xn(P)),onCut:P=>this._saveValueChangeEvent(xn(P)),matchers:[["p.MsoListParagraphCxSpFirst",e],["p.MsoListParagraphCxSpMiddle",e],["p.MsoListParagraphCxSpLast",e]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules());return n},_getModuleConfigByOption(r){var e=this.option(r),n={};if(be(e))return Array.isArray(e)?n[r]=e:n=e,ce(this._getBaseModuleConfig(),n)},_getBaseModuleConfig(){return{editorInstance:this}},_getCustomModules(){var r={},e=this._getRegistrator().getRegisteredModuleNames();return e.forEach(n=>{r[n]=this._getBaseModuleConfig()}),r},_textChangeHandler(r,e,n){var P=this._deltaConverter.toHtml(),X=this._isMarkdownValue()?this._updateValueByType(Bn,P):P,Et=this.option("value");Et!==X&&!this._isNullValueConverted(Et,X)&&(this._isEditorUpdating=!0,this.option("value",X)),this._finalizeContentRendering()},_isNullValueConverted:(r,e)=>r===null&&e==="",_finalizeContentRendering(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType(r,e){var n=this._markdownConverter;if(be(n)){var P=ii(e,this.option("value"));return r===Bn?n.toMarkdown(P):n.toHtml(P)}},_isMarkdownValue(){return this.option("valueType")===Bn},_resetEnabledState(){if(this._quillInstance){var r=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(r)}},_renderFormDialog(){var r=ce(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new pc(this,r)},_getStylingModePrefix:()=>"dx-htmleditor-",_getQuillContainer(){return this._$htmlContainer},_prepareModuleOptions(r){var e,n=(e=r.fullName)===null||e===void 0?void 0:e.split("."),{value:P}=r,X=n.length>=2?n[1]:r.name;return n.length===3&&(P={[n[2]]:P}),[X,P]},_moduleOptionChanged(r,e){var n=this.getModule(r),P=!!n;P?n.option(...this._prepareModuleOptions(e)):this._invalidate()},_optionChanged(r){switch(r.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var e=this._isMarkdownValue()?this._updateValueByType("HTML",r.value):r.value;this._suppressValueChangeAction(),this._updateHtmlContent(e),this._resumeValueChangeAction()}else this._$htmlContainer.html(r.value);var n=this.option("value");n!==r.previousValue&&(this._setSubmitValue(n),this.callBase(mn(mn({},r),{value:n})));break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",r);break;case"valueType":this._prepareConverters();var P=this._updateValueByType(r.value);r.value==="html"&&this._quillInstance?this._updateHtmlContent(P):this.option("value",P);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(r),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",r);break;case"mediaResizing":this._moduleOptionChanged("resizing",r);break;case"width":this.callBase(r),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",r);break;default:this.callBase(r)}},_repaintToolbar(){this._applyToolbarMethod("repaint")},_updateHtmlContent(r){var e=this._quillInstance.clipboard.convert({html:r});this._quillInstance.setContents(e)},_clean(){this._quillInstance&&(he.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(r,e){if(this._quillInstance)return this._quillInstance[r].apply(this._quillInstance,e)},_applyQuillHistoryMethod(r){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[r]()},_applyToolbarMethod(r){var e;(e=this.getModule("toolbar"))===null||e===void 0||e[r]()},addCleanCallback(r){this._cleanCallback.add(r)},addContentInitializedCallback(r){this._contentInitializedCallback.add(r)},register(r){this._getRegistrator().registerModules(r),this._quillInstance&&this.repaint()},get(r){return this._getRegistrator().getQuill().import(r)},getModule(r){return this._applyQuillMethod("getModule",arguments)},getQuillInstance(){return this._quillInstance},getSelection(r){return this._applyQuillMethod("getSelection",arguments)},setSelection(r,e){this._applyQuillMethod("setSelection",arguments)},getText(r,e){return this._applyQuillMethod("getText",arguments)},format(r,e){this._applyQuillMethod("format",arguments)},formatText(r,e,n,P){this._applyQuillMethod("formatText",arguments)},formatLine(r,e,n,P){this._applyQuillMethod("formatLine",arguments)},getFormat(r,e){return this._applyQuillMethod("getFormat",arguments)},removeFormat(r,e){return this._applyQuillMethod("removeFormat",arguments)},clearHistory(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")},undo(){this._applyQuillHistoryMethod("undo")},redo(){this._applyQuillHistoryMethod("redo")},getLength(){return this._applyQuillMethod("getLength")},getBounds(r,e){return this._applyQuillMethod("getBounds",arguments)},delete(r,e){this._applyQuillMethod("deleteText",arguments)},insertText(r,e,n){this._applyQuillMethod("insertText",arguments)},insertEmbed(r,e,n){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog(r){return this._formDialog.show(r)},formDialogOption(r,e){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus(){this.callBase(),this._applyQuillMethod("focus")},blur(){this._applyQuillMethod("blur")},getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}});vi("dxHtmlEditor",Uo);/*!
 * devextreme-vue
 * Version: 23.2.10
 * Build date: Mon Oct 28 2024
 *
 * Copyright (c) 2012 - 2024 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */il({props:{accessKey:String,activeStateEnabled:Boolean,allowSoftLineBreak:Boolean,customizeModules:Function,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,imageUpload:Object,isDirty:Boolean,isValid:Boolean,mediaResizing:Object,mentions:Array,name:String,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,tableContextMenu:Object,tableResizing:Object,toolbar:Object,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:{},valueType:String,variables:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSoftLineBreak":null,"update:customizeModules":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:imageUpload":null,"update:isDirty":null,"update:isValid":null,"update:mediaResizing":null,"update:mentions":null,"update:name":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:tableContextMenu":null,"update:tableResizing":null,"update:toolbar":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:valueType":null,"update:variables":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=Uo,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={imageUpload:{isCollectionItem:!1,optionName:"imageUpload"},mediaResizing:{isCollectionItem:!1,optionName:"mediaResizing"},mention:{isCollectionItem:!0,optionName:"mentions"},tableContextMenu:{isCollectionItem:!1,optionName:"tableContextMenu"},tableResizing:{isCollectionItem:!1,optionName:"tableResizing"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},variables:{isCollectionItem:!1,optionName:"variables"}}}});var Ec=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:abortUpload":null,"update:accept":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowCanceling":null,"update:allowedFileExtensions":null,"update:bindingOptions":null,"update:chunkSize":null,"update:dialogTrigger":null,"update:disabled":null,"update:dropZone":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:invalidFileExtensionMessage":null,"update:invalidMaxFileSizeMessage":null,"update:invalidMinFileSizeMessage":null,"update:isDirty":null,"update:isValid":null,"update:labelText":null,"update:maxFileSize":null,"update:minFileSize":null,"update:multiple":null,"update:name":null,"update:onBeforeSend":null,"update:onContentReady":null,"update:onDisposing":null,"update:onDropZoneEnter":null,"update:onDropZoneLeave":null,"update:onFilesUploaded":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onProgress":null,"update:onUploadAborted":null,"update:onUploaded":null,"update:onUploadError":null,"update:onUploadStarted":null,"update:onValueChanged":null,"update:progress":null,"update:readOnly":null,"update:readyToUploadMessage":null,"update:rtlEnabled":null,"update:selectButtonText":null,"update:showFileList":null,"update:tabIndex":null,"update:uploadAbortedMessage":null,"update:uploadButtonText":null,"update:uploadChunk":null,"update:uploadCustomData":null,"update:uploadedMessage":null,"update:uploadFailedMessage":null,"update:uploadFile":null,"update:uploadHeaders":null,"update:uploadMethod":null,"update:uploadMode":null,"update:uploadUrl":null,"update:validationError":null,"update:validationErrors":null,"update:validationStatus":null,"update:value":null,"update:visible":null,"update:width":null},props:{abortUpload:Function,accept:String,accessKey:String,activeStateEnabled:Boolean,allowCanceling:Boolean,allowedFileExtensions:Array,bindingOptions:Object,chunkSize:Number,dialogTrigger:{},disabled:Boolean,dropZone:{},elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},invalidFileExtensionMessage:String,invalidMaxFileSizeMessage:String,invalidMinFileSizeMessage:String,isDirty:Boolean,isValid:Boolean,labelText:String,maxFileSize:Number,minFileSize:Number,multiple:Boolean,name:String,onBeforeSend:Function,onContentReady:Function,onDisposing:Function,onDropZoneEnter:Function,onDropZoneLeave:Function,onFilesUploaded:Function,onInitialized:Function,onOptionChanged:Function,onProgress:Function,onUploadAborted:Function,onUploaded:Function,onUploadError:Function,onUploadStarted:Function,onValueChanged:Function,progress:Number,readOnly:Boolean,readyToUploadMessage:String,rtlEnabled:Boolean,selectButtonText:String,showFileList:Boolean,tabIndex:Number,uploadAbortedMessage:String,uploadButtonText:String,uploadChunk:Function,uploadCustomData:{},uploadedMessage:String,uploadFailedMessage:String,uploadFile:Function,uploadHeaders:{},uploadMethod:String,uploadMode:String,uploadUrl:String,validationError:{},validationErrors:Array,validationStatus:String,value:Array,visible:Boolean,width:[Function,Number,String]}});Ec.$_optionName="fileUploaderOptions";var Wo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:fileUploaderOptions":null,"update:fileUploadMode":null,"update:tabs":null,"update:uploadDirectory":null,"update:uploadUrl":null},props:{fileUploaderOptions:Object,fileUploadMode:String,tabs:Array,uploadDirectory:String,uploadUrl:String}});Wo.$_optionName="imageUpload";Wo.$_expectedChildren={fileUploaderOptions:{isCollectionItem:!1,optionName:"fileUploaderOptions"},tab:{isCollectionItem:!0,optionName:"tabs"}};var $o=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});$o.$_optionName="items";$o.$_isCollectionItem=!0;var Cc=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowedTargets":null,"update:enabled":null},props:{allowedTargets:Array,enabled:Boolean}});Cc.$_optionName="mediaResizing";var Ko=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:displayExpr":null,"update:itemTemplate":null,"update:marker":null,"update:minSearchLength":null,"update:searchExpr":null,"update:searchTimeout":null,"update:template":null,"update:valueExpr":null},props:{dataSource:{},displayExpr:[Function,String],itemTemplate:{},marker:String,minSearchLength:Number,searchExpr:[Array,Function,String],searchTimeout:Number,template:{},valueExpr:[Function,String]}});Ko.$_optionName="mentions";Ko.$_isCollectionItem=!0;var Zo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:name":null},props:{name:String}});Zo.$_optionName="tabs";Zo.$_isCollectionItem=!0;var zo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});zo.$_optionName="tableContextMenu";zo.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},tableContextMenuItem:{isCollectionItem:!0,optionName:"items"}};var Vo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});Vo.$_optionName="items";Vo.$_isCollectionItem=!0;var Tc=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:minColumnWidth":null,"update:minRowHeight":null},props:{enabled:Boolean,minColumnWidth:Number,minRowHeight:Number}});Tc.$_optionName="tableResizing";var Go=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:container":null,"update:items":null,"update:multiline":null},props:{container:{},items:Array,multiline:Boolean}});Go.$_optionName="toolbar";Go.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var qo=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptedValues":null,"update:cssClass":null,"update:disabled":null,"update:formatName":null,"update:formatValues":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{acceptedValues:Array,cssClass:String,disabled:Boolean,formatName:String,formatValues:Array,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});qo.$_optionName="items";qo.$_isCollectionItem=!0;var Sc=Ge({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:escapeChar":null},props:{dataSource:{},escapeChar:[Array,String]}});Sc.$_optionName="variables";const wc={class:"content-block dx-card responsive-paddings"},Bc={__name:"Faqs",setup(r){const e=fl(),{t:n}=ol(),P=zn("mt"),X=zn("mf"),Et=zn("routeHistoryState"),h=Fi(null),C=Fi(null),t=al({gridData:null,validationRules:{topic:[{type:"required",message:n("settings.faqs.topic")+P.validations.required}],question:[{type:"required",message:n("settings.faqs.question")+P.validations.required}],answer:[{type:"required",message:n("settings.faqs.answer")+P.validations.required}]}});e.dispatch("settingFaq/getFaqs"),ll(()=>e.state.settingFaq.faqs,I=>{t.gridData=X.cloneDeep(I)}),sl(()=>e.dispatch("settingFaq/resetState"));function p(I){I.changes.length&&e.dispatch("settingFaq/save",I)}function v(I){h.value.instance.option("editing.form.items[2].editorOptions.value",I.value),h.value.instance.option("editing.form.items[3].visible",!I.value),h.value.instance.option("editing.form.items[4].visible",I.value)}function m(I){h.value.instance.option("editing.popup.title",n("settings.faqs.popup.create"))}function _(I){const A=/<\/?[a-z][\s\S]*>/i.test(I.data.answer);v({value:A}),h.value.instance.option("editing.popup.title",n("settings.faqs.popup.edit"))}function B(I){X.checkPinDataGrid(I,h.value.instance);let A=I.component.option("toolbarItems");A.push({toolbar:"bottom",location:"before",widget:"dxButton",options:{icon:"image",text:n("titles.chooseImage"),onClick:()=>C.value.show({clientPath:"faqs"})}}),I.component.option("toolbarItems",A),X.pushPopupToHistoryState(Et,()=>h.value.instance.cancelEditData())}function M(){X.popRouteHistoryState(Et)}return(I,A)=>{const S=dl("DxToolbar");return hl(),ul("div",wc,[cl("div",null,[Yr(hn(pl),{ref_key:"dataGridRef",ref:h,"data-source":t.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"popup",popup:{showTitle:!0,onShown:B,onHidden:M},form:{labelLocation:I.$screen.getScreenSizeInfo.isXSmall?"top":"left",items:[{dataField:"topic",colSpan:2},{dataField:"question",colSpan:2},{editorType:"dxCheckBox",colSpan:2,editorOptions:{value:!1,onValueChanged:v},label:{text:I.$t("settings.faqs.useHtml")}},{visible:!0,colSpan:2,dataField:"answer",editorType:"dxTextArea",editorOptions:{stylingMode:"filled",height:150}},{visible:!1,dataField:"answer",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{mediaResizing:{enabled:!0},toolbar:{items:["undo","redo","separator","bold","italic","strike","underline","separator","alignLeft","alignCenter","alignRight","alignJustify","separator","orderedList","bulletList","separator","color","background","separator","link","image","separator","clear","insertTable"]}}}]},startEditAction:"dblClick"},onContentReady:A[0]||(A[0]=N=>I.$mf.dataGridPreload(t.gridData,h.value.instance)),onInitNewRow:m,onEditingStart:_,onSaved:p},{commandCellTemplate:Ui(({data:N})=>[Yr(S,{items:[{visible:N.data.status!=4,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"edit",hint:I.$t("buttons.edit"),text:I.$t("buttons.edit"),onClick:()=>{h.value.instance.editRow(N.rowIndex)}}},{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"trash",hint:I.$t("buttons.delete"),text:I.$t("buttons.delete"),onClick:()=>I.$bus.emit("checkPin",()=>h.value.instance.deleteRow(N.rowIndex))}}]},null,8,["items"])]),default:Ui(()=>[Yr(hn(In),{fixed:!0,width:I.$screen.getScreenSizeInfo.isXSmall?35:65,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:I.$t(`titles.commandHeaderTitle${I.$screen.getScreenSizeInfo.isXSmall?"Short":""}`)},null,8,["width","caption"]),Yr(hn(In),{"data-field":"topic","header-filter":{allowSearch:!0},caption:I.$t("settings.faqs.topic"),"validation-rules":t.validationRules.topic},null,8,["caption","validation-rules"]),Yr(hn(In),{"data-field":"question","header-filter":{allowSearch:!0},caption:I.$t("settings.faqs.question"),"validation-rules":t.validationRules.question},null,8,["caption","validation-rules"]),Yr(hn(In),{visible:!1,"data-field":"answer","header-filter":{allowSearch:!0},caption:I.$t("settings.faqs.answer"),"validation-rules":t.validationRules.answer},null,8,["caption","validation-rules"])]),_:1},8,["data-source","editing"]),Yr(vl,{ref_key:"pickImagePopupRef",ref:C},null,512)])])}}};export{Bc as default};
