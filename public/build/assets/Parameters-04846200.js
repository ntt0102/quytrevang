import{m as d,a as c,n as m}from"./app-089c7b72.js";import{D as u,a as p}from"./data-grid-9e4dd793.js";import"./ui.data_grid.row_dragging-13991560.js";import"./dialog-e8748e84.js";function o(){return{parameters:[]}}const g={parameters:t=>t.parameters},h={fetch({commit:t,dispatch:e,getters:a,state:r,rootGetters:l}){return new Promise((s,i)=>{axios.get("settings/parameters").then(n=>{t("setState",n.data),s()})})},save({commit:t,dispatch:e,getters:a,state:r,rootGetters:l},s){return new Promise((i,n)=>{axios.post("settings/parameters",{changes:s.changes}).then(w=>{i(),e("fetch")})})},resetState({commit:t}){t("resetState")}},v={setState(t,e){t.parameters=e},resetState(t){t=Object.assign(t,o())}},f={namespaced:!0,state:o,getters:g,actions:h,mutations:v};const _={components:{DxDataGrid:u,DxColumn:p},data(){return{gridData:null,validationRules:{value:[{type:"required",message:this.$t("settings.parameters.value")+this.$mt.validations.required}]}}},beforeCreate(){this.$store.registerModule("Settings.parameters",f)},created(){this.fetch()},destroyed(){this.$store.unregisterModule("Settings.parameters")},computed:{...d("Settings.parameters",["parameters"]),dataGrid:function(){return this.$refs.dataGrid.instance}},watch:{parameters(){this.cloneDeepData()}},methods:{...c("Settings.parameters",["fetch","save","resetState"]),onSave(t){this.$bus.emit("checkPin",()=>this.save(t))},cloneDeepData(){this.gridData=this.$mf.cloneDeep(this.parameters)}}};var D=function(){var e=this,a=e._self._c;return a("div",{staticClass:"settings-page"},[a("h2",{staticClass:"content-block"},[e._v(" "+e._s(e.$t("settings.parameters.title"))+" ")]),a("div",{staticClass:"content-block dx-card responsive-paddings"},[a("DxDataGrid",{ref:"dataGrid",attrs:{"data-source":e.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"},editing:{allowAdding:!1,allowUpdating:!0,allowDeleting:!1,mode:"batch",startEditAction:"dblClick"}},on:{contentReady:function(r){return e.$mf.dataGridPreload(e.gridData,e.dataGrid)},saved:e.onSave}},[a("DxColumn",{attrs:{"allow-editing":!1,"data-field":"description","header-filter":{allowSearch:!0},caption:e.$t("settings.parameters.description")}}),a("DxColumn",{attrs:{"data-field":"value",caption:e.$t("settings.parameters.value"),"validation-rules":e.validationRules.value}})],1)],1)])},S=[],x=m(_,D,S,!1,null,null,null,null);const P=x.exports;export{P as default};
