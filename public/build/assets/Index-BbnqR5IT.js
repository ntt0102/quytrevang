import{u as y,r as t,c as p,a as k,b as v,e as d,h as w,j as C,k as a,x as f,m as $,o as _}from"./app-CY-mc6BS.js";import"./text-box-4wg96rGl.js";/* empty css                                                        */import"./lightweight-charts.esm.development-DVYvY_FU.js";import"./select-box-Di0L_WIe.js";import x from"./Chart-B21keVkC.js";import"./getUnixTime-DmDx30Nq.js";import"./subYears-CQz-I5Yc.js";const B={class:"share-page content-block dx-card responsive-paddings"},E={__name:"Index",setup(T){const o=w(),i=C(),{t:l}=y();a("devices"),a("mf");const s=a("bus");t(null);const u=t(null);t(null),t(null),t(null),t(null),t(null),t(null),t(null),t(null),t(null),t(null);const g=p(()=>o.state.tradingShare.groups),c=p(()=>o.state.tradingShare.symbols.length),n=k({group:null,symbol:i.query.symbol??"VNINDEX",inputSymbol:i.query.symbol??"VNINDEX",timeframe:"D",chartShift:0,showLineContextMenu:!1,isFullscreen:!1,showTradingView:!1,isSymbolFocus:!1});o.dispatch("tradingShare/getGroups");function m({component:e}){n.group=e.option("value").trim().toUpperCase(),n.group&&o.dispatch("tradingShare/getSymbols",n.group)}function h(){s.emit("checkPin",()=>o.dispatch("tradingShare/deleteWatchlist"))}function b(){const e=n.group,r=u.value.getFilterTimes();if(!e)return f.warning(l("trading.share.filterGroupWarning"));if(r.length!==4)return f.warning(l("trading.share.filterTimeWarning"));s.emit("checkPin",()=>{o.dispatch("tradingShare/filterSymbols",{group:e,filterTimes:r})})}return(e,r)=>{const S=$("DxToolbar");return _(),v("div",B,[d(S,{items:[{visible:e.$mf.isSet(e.$route.query),location:"before",widget:"dxButton",options:{icon:"far fa-arrow-left small",hint:e.$t("buttons.back"),onClick:()=>e.$router.go(-1)}},{location:"before",widget:"dxAutocomplete",options:{width:"100",showClearButton:!0,openOnFieldClick:!0,minSearchLength:0,dataSource:g.value,value:n.group,elementAttr:{class:"symbol-group"},placeholder:e.$t("trading.share.group"),onChange:m,onItemClick:m}},{visible:c.value>0,location:"before",text:`(${c.value})`},{location:"after",widget:"dxButton",options:{icon:"far fa-folder-times small",hint:e.$t("trading.share.deleteWatchList"),onClick:h}},{location:"after",widget:"dxButton",options:{icon:"far fa-filter small",hint:e.$t("trading.share.filterSymbols"),onClick:b}}]},null,8,["items"]),d(x,{ref_key:"chartRef",ref:u},null,512)])}}};export{E as default};
