var Ul=Object.defineProperty;var rs=t=>{throw TypeError(t)};var zl=(t,o,e)=>o in t?Ul(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var ge=(t,o,e)=>zl(t,typeof o!="symbol"?o+"":o,e),Jo=(t,o,e)=>o.has(t)||rs("Cannot "+e);var q=(t,o,e)=>(Jo(t,o,"read from private field"),e?e.call(t):o.get(t)),ee=(t,o,e)=>o.has(t)?rs("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(t):o.set(t,e),Yt=(t,o,e,p)=>(Jo(t,o,"write to private field"),p?p.call(t,e):o.set(t,e),e),Gt=(t,o,e)=>(Jo(t,o,"access private method"),e);var go=(t,o,e,p)=>({set _(d){Yt(t,o,d,e)},get _(){return q(t,o,p)}});import{C as $l,E as qs,G as Vl,H as wr,r as be,c as Ge,y as $o,I as Gl,J as Hl,m as fi,o as Ae,p as Ks,f as Oo,b as Le,e as Oe,d as fe,t as Ir,K as Ve,F as No,A as mi,h as to,u as Ln,k as $r,L as Un,M as zn,N as Ys,w as mo,g as Mo,O as ql,n as Qo,x as Ne,Q as Kl,R as Zo,S as Yl,l as vo,a as Jl,T as bo,U as Ql,j as Zl,V as Xl}from"./app-DTZc933V.js";import{_ as Js,g as Te,c as tp,a as ep,b as rp,d as op,e as ip}from"./lightweight-charts.esm.development-CXq215pE.js";function np(t,o){for(var e=0;e<o.length;e++){const p=o[e];if(typeof p!="string"&&!Array.isArray(p)){for(const d in p)if(d!=="default"&&!(d in t)){const s=Object.getOwnPropertyDescriptor(p,d);s&&Object.defineProperty(t,d,s.get?s:{enumerable:!0,get:()=>p[d]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Qs(t,o,e){return $l(t,+qs(t)+o)}function Dr(t,o,e){return Qs(t,o*Vl)}function sp(t,o,e){return Qs(t,o*1e3)}function yi(t,o){const e=qs(t,o==null?void 0:o.in);if(isNaN(+e))throw new RangeError("Invalid time value");let p="",d="";const s="-",n=":";{const u=wr(e.getDate(),2),l=wr(e.getMonth()+1,2);p=`${wr(e.getFullYear(),4)}${s}${l}${s}${u}`}{const u=e.getTimezoneOffset();if(u!==0){const w=Math.abs(u),E=wr(Math.trunc(w/60),2),O=wr(w%60,2);d=`${u<0?"+":"-"}${E}:${O}`}else d="Z";const l=wr(e.getHours(),2),c=wr(e.getMinutes(),2),m=wr(e.getSeconds(),2),v=p===""?"":"T",b=[l,c,m].join(n);p=`${p}${v}${b}${d}`}return p}function wo(t,o,e){return sp(t,-o)}const ap={key:0},lp={class:"pattern-name"},pp={key:1},up={__name:"ProgressContext",props:["progress","chartHeightEnough"],emits:["refreshPattern"],setup(t,{emit:o}){const e=t,p=o,d=be({}),s=Ge(()=>{var l;return((l=d.value[e.progress.pattern])==null?void 0:l[e.progress.subPattern])||{}});$o(()=>{n()});function n(){Gl(Object.assign({"../../../../../lang/vi/derivative.js":()=>Hl(()=>import("./derivative-DSEE2eV5.js"),[])}),`../../../../../lang/${window.lang}/derivative.js`,8).then(l=>{d.value=l.default||[]})}function u(){p("refreshPattern")}return(l,c)=>{const m=fi("DxButton");return Ae(),Ks(Js,{class:"pattern-context"},{default:Oo(()=>{var v,b;return[t.progress.pattern?(Ae(),Le("div",ap,[Oe(m,{type:"success",stylingMode:"outlined",icon:"refresh",text:l.$t("buttons.refresh"),onClick:u},null,8,["text"]),fe("div",lp,Ir((v=s.value)==null?void 0:v.name),1)])):(Ae(),Le("div",pp,Ir(l.$t("trading.derivative.noPattern")),1)),fe("div",{class:Ve(["steps",{portrait:t.chartHeightEnough}])},[(Ae(!0),Le(No,null,mi((b=s.value)==null?void 0:b.steps,(w,E)=>(Ae(),Le("div",{key:E,class:Ve(["step",[t.progress.step&&t.progress.step===E+1?t.progress.result?"success":"fail":""]])},[fe("div",{class:Ve(["name",[t.progress.steps&&t.progress.steps[E]?t.progress.steps[E].every(Boolean)?"success":"fail":""]])},Ir(E+1)+". "+Ir(w.name),3),fe("div",null,[(Ae(!0),Le(No,null,mi(w.conds,(O,N)=>(Ae(),Le("div",{key:N,class:Ve(["condition",[t.progress.steps&&t.progress.steps[E]?t.progress.steps[E][N]?"success":"fail":""]])},Ir(N+1)+". "+Ir(O),3))),128))])],2))),128))],2)]}),_:1})}}},cp=["title"],dp={__name:"ProgressTool",props:["chartHeightEnough"],emits:["refreshPattern","hideContext"],setup(t,{expose:o,emit:e}){const p=to(),{t:d}=Ln(),s=$r("mf"),n=e,u=be({}),l=be(!1),c=Ge(()=>p.state.tradingDerivative.config.autoRefresh);o({hide:v,set:b}),$o(()=>{window.addEventListener("keydown",$)}),Un(()=>{window.removeEventListener("keydown",$)});function m(){const P=l.value;n("hideContext"),l.value=!P}function v(P=!1){l.value=P}function b(P){O(P,u.value),u.value=P}function w(){n("refreshPattern")}function E(){p.dispatch("tradingDerivative/setAutoRefresh",!c.value)}function O(P,C){if(s.isSet(P)&&(P.step!==C.step||P.step===C.step&&P.result!==C.result)){let H="";P.result?H=d("trading.derivative.toasts.progressSuccess",P):H=d("trading.derivative.toasts.progressFail",P),N(H)}}function N(P){const C=new SpeechSynthesisUtterance(P);C.lang="vi-VN",speechSynthesis.speak(C)}function $(P){P.key==="F3"&&(m(),P.preventDefault())}return(P,C)=>(Ae(),Le("div",{class:Ve(["context command",{green:u.value.result===!0,red:u.value.result===!1}]),title:P.$t("trading.derivative.tools.progress"),onClick:m,onContextmenu:E},[fe("i",{class:Ve(["far",{"fa-badge-check":!u.value.step,[`fa-circle-${u.value.step}`]:u.value.step,blink:c.value}])},null,2),zn(Oe(up,{class:"contextmenu",progress:u.value,chartHeightEnough:t.chartHeightEnough,onRefreshPattern:w},null,8,["progress","chartHeightEnough"]),[[Ys,l.value]])],42,cp))}},hp=["title"],fp=fe("i",{class:"far fa-heart-rate"},null,-1),mp=[fp],yp="VN30F1M",gp=1,ce=1.25,vp={__name:"PatternTool",props:["bars","pickTimeToolRef","timeToIndex","indexToTime"],emits:["setProgress","setPatternOrder","hideContext"],setup(t,{expose:o,emit:e}){const p=to(),d=$r("mf"),s=t,n=e,u=be(null),l=Ge(()=>p.state.tradingDerivative.tools.pattern),c=Ge(()=>p.state.tradingDerivative.config.patternType),m=["C","R"];let v={},b={},w={};const E={yellow:"rgba(255, 255, 0, 0.7)",orange:"rgba(255, 127, 0, 0.7)",red:"rgba(255, 0, 0, 0.7)",pink:"rgba(255, 20, 147, 0.7)",purple:"rgba(128, 0, 255, 0.7)",cyan:"rgba(0, 255, 255, 0.7)",green:"rgba(0, 255, 0, 0.7)",blue:"rgba(0, 127, 255, 0.7)"};o({isSelected:O,createSeries:N,draw:C,refresh:S,remove:ut}),mo(l,rt=>{setTimeout(()=>{tt(rt,{isCheck:!0})},0)});function O(){return u.value.classList.contains("selected")}function N(rt){if(!rt)return!1;w.pattern=rt.addLineSeries({color:"#F5F5F5",lastValueVisible:!1,priceLineVisible:!1}),w.timeMark=rt.addHistogramSeries({priceScaleId:"timeMark",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function $(rt){n("hideContext");const I=rt.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(k=>k.classList.remove("selected")),I||rt.target.classList.add("selected")}function P(rt){rt.target.classList.remove("selected"),n("hideContext"),ut()}function C({time:rt,price:I}){let k={};if(d.isSet(b.X)){k=d.cloneDeep(v);const G=yi(new Date(rt*1e3));k.A={time:{t:rt,d:G},price:I},console.log("points",k)}else{const G=rt?s.bars.filter(at=>!d.cmp(at.time,!0,rt)):s.bars;k=H(G)}tt(k,{isSave:!0}),u.value.classList.remove("selected")}function H(rt){let I,k,[G,at,et,nt]=Array(4).fill({});for(let ht=rt.length-1;ht>=0;ht--){const wt=rt[ht].high,x=rt[ht].low,J=rt[ht].time,Z=rt[ht].date,yt=s.timeToIndex(J),ft={t:J,d:Z,i:yt};if(ht===rt.length-1&&(I={time:ft,high:wt,low:x}),k===void 0){if(wt<=I.high&&x>=I.low||wt>I.high&&x<I.low)continue;wt>I.high&&x>=I.low&&(k=!0),x<I.low&&wt<=I.high&&(k=!1),et={time1:I.time,time:I.time,price:k?I.low:I.high},[at,G,nt]=Array(3).fill(null).map(()=>d.cloneDeep(et))}const U=k?wt:x,ot=k?x:wt;if(d.cmp(U,k,at.price)&&(d.cmp(G.price,!k,et.price)?([et,at]=[at,G].map(W=>d.cloneDeep(W)),G={time1:ft,time:ft,price:U},nt=d.cloneDeep(G),k=!k):at={time1:ft,time:ft,price:U}),d.cmp(ot,!k,G.price,!0)&&(ot===G.price?G.time1=ft:G={time1:ft,time:ft,price:ot},nt={time:G.time1,price:G.price}),d.cmp(U,k,nt.price)&&(nt={time:ft,price:U}),et.time.i>G.time.i&&d.cmp(et.price,k,G.price)){const W=d.fmtNum(at.price-et.price,1,!0);if(W>=gp&&(G.time1.i-nt.time.i>=et.time.i-at.time.i||d.fmtNum(G.price-nt.price,1,!0)>W))break}}return delete G.time1,delete G.time.i,delete at.time.i,delete et.time.i,{A:G,B:at,C:et}}function tt(rt,{isSave:I=!1,isCheck:k=!1}={}){if(!d.isSet(rt))return!1;v=d.cloneDeep(rt),I&&Q(),(k?pt(v.A.time.t):!0)&&(mt(),D())}function D(){let I={lineType:"pattern",lineWidth:1,lineStyle:1,draggable:!1};const{entry:k,target:[[G,at],[et,nt],[ht,wt],[x,J],[Z,yt]]}=K();I.point="O",I.price=k,I.title="O",I.color=E.blue,I.draggable=!1,b[I.point]=w.pattern.createPriceLine(I),I.point="X",I.price=G,I.title=`X ${at}`,I.color=E.pink,I.draggable=!1,b[I.point]=w.pattern.createPriceLine(I),I.point="Y",I.price=et,I.title=`Y ${nt}`,I.color=E.purple,I.draggable=!1,b[I.point]=w.pattern.createPriceLine(I),I.point="Z",I.price=ht,I.title=`Z ${wt}`,I.color=E.red,I.draggable=!1,b[I.point]=w.pattern.createPriceLine(I),I.point="W",I.price=x,I.title=`Z ${J}`,I.color=E.cyan,I.draggable=!1,b[I.point]=w.pattern.createPriceLine(I),I.point="T",I.price=Z,I.title=`T ${yt}`,I.color=E.orange,I.draggable=!1,b[I.point]=w.pattern.createPriceLine(I)}function S(rt=!1){d.isSet(b.X)&&(rt&&Tt(),mt(),D())}function K(){let rt={};switch(c.value){case"C":rt=it();break;case"R":rt=z();break}return n("setProgress",rt.progress),n("setPatternOrder",rt.order),_t(rt.timeMark),w.pattern.setData(rt.points),rt}function it(){const{A:rt,B:I,C:k}=v,G=I.price-k.price;let at=G>0,et=s.pickTimeToolRef.get();et<k.time.t&&(et=void 0);const nt=lt({side:at,start:rt,end:{time:Math.min(et??I.time.t,I.time.t),price:I.price}}),ht=lt({side:!at,start:I,end:{time:Math.min(et??k.time.t,k.time.t),price:k.price}}),wt=s.indexToTime(6*ht.R.time.i-5*nt.S.time.i),x=lt({side:at,start:k,end:{time:et??wt}}),J=A(x.ext,x,!0),Z=J?x.R1:x.ext.R,yt=J?x.S1:x.ext.S,ft=lt({side:!at,start:Z,end:{time:Math.min(et??yt.time.t,yt.time.t),price:yt.price}}),U=lt({side:at,start:yt,end:{time:et??wt}}),ot=A(U.ext,U,!0),W=ot?U.R1:U.ext.R,X=ot?U.S1:U.ext.S,st=lt({side:!at,start:W,end:{time:Math.min(et??X.time.t,X.time.t),price:X.price}}),St=lt({side:at,start:X,end:{time:et??wt}}),h=A(St.ext,St,!0)?St.R1:St.ext.R;console.log("calcContinuePattern",[nt,ht,x,ft,U,st,St]);const g=d.fmtNum(I.price-rt.price,1,!0),R=d.fmtNum(G,1,!0),L=d.fmtNum(nt.R.price1-I.price,1,!0),B=d.fmtNum(Z.price-k.price,1,!0),bt=d.fmtNum(ht.R.price1-k.price,1,!0),Dt=d.fmtNum(yt.price-Z.price,1,!0),j=d.fmtNum(W.price-yt.price,1,!0);d.fmtNum(ft.R.price1-yt.price,1,!0);const Vt=d.fmtNum(X.price-W.price,1,!0),$t=nt.R.time1.i-nt.S.time.i,jt=ht.R.time1.i-ht.S.time.i,Lt=Z.time1.i-x.S.time.i,Qt=yt.time1.i-Z.time.i,Rt=W.time1.i-yt.time.i;X.time1.i-W.time.i;const Xt=J?x.pre.tr:x.tr,re=ot?U.pre.tr:U.tr,vt=nt.R.time.i+nt.tr,Ft=ht.R.time.i+ht.tr,Pt=Z.time.i+Xt,Ut=yt.time.i+ft.tr,Jt=W.time.i+re,Zt=[X.time.i+st.tr,Jt,Ut,Pt,Ft,vt],_e=R/g,ue=B/R,se=bt/R,xe=Dt/B,br=j/Dt,rr=d.cmp(Z.price,at,I.price),Ue=d.cmp(W.price,at,Z.price);let He;jt>$t?He="longOrange":rr?He=Qt>jt?"twoBase":"threeBase":He=Lt>jt?"longRed":Qt>Lt?"longPink":Vt<Dt?"shallowCyan":"deepCyan";let Pe;switch(He){case"longOrange":Pe=[[jt>=nt.tr*ce,R>=nt.pr,_e<=.7,se<.5,ht.pr>nt.pr,ht.pr>L]];break;case"longRed":Pe=[[jt>=nt.tr*ce,R>=nt.pr,se<.5],[Lt>=ht.tr*ce,B>=ht.pr,ue>=.7,Wt(jt,Lt)],[Qt>=Xt*ce,Dt>=x.pr,Wt(Lt,Qt)]];break;case"longPink":Pe=[[jt>=nt.tr*ce,R>=nt.pr,_e>=.5,se<.5],[Lt>=ht.tr*ce,B>=ht.pr,B>bt,Wt(jt,Lt)],[Qt>=Xt*ce,Dt>=x.pr,Wt(Lt,Qt)],[Ue],[Vt<Dt]];break;case"shallowCyan":case"deepCyan":Pe=[[jt>=nt.tr*ce,R>=nt.pr,_e>=.5,se<.5],[Lt>=ht.tr*ce,B>=ht.pr,B>bt,Wt(jt,Lt)],[Qt>=Xt*ce,Dt>=x.pr,xe>=.5,Wt(Lt,Qt)],[Ue],[Vt<Dt]];break;case"twoBase":Pe=[[jt>=nt.tr*ce,R>=nt.pr,se<.5],[Lt>=ht.tr*ce,B>=ht.pr,ue<2,Wt(jt,Lt)],[Qt>=Xt*ce,Dt>=x.pr,Dt>=R,Wt(Lt,Qt),Qt>U.R.time1.i-U.S.time.i]];break;case"threeBase":Pe=[[jt>=nt.tr*ce,R>=nt.pr,se<.5],[Lt>=ht.tr*ce,Lt>=$t-jt,B>=ht.pr,ue<2],[Dt>=x.pr,Dt<R],[Rt>=Lt-Qt,j>=ft.pr,br<2,Ue],[Vt>=U.pr,Vt<Dt]];break}const ze=Et(He,Pe),or=Y([rt,nt.R,ht.R,Z,yt,W,X,h],["yellow","orange","red","pink","purple","cyan","green","green"]),Qe=He==="longOrange",ye=at?1:-1,Nt=Qe?ht.S1.price:Ue?W.price:Z.price,zt=d.fmtNum(Nt+ye*.1),Or=It(Z.price,B,ye),ir=d.fmtNum(Or-zt),we=It(Z.price,2*B,ye),Mr=d.fmtNum(we-zt),F=It(Z.price,4*B,ye),yo=d.fmtNum(F-zt),ae=d.fmtNum(I.price+ye*R),pe=d.fmtNum(ae-zt),Ht=d.fmtNum((Qe||rr&&!Ue?Z.price+yt.price:W.price+X.price)/2,1),io=d.fmtNum(Ht-zt,1);let Br={};if(ze.result){const i=Qe?ae:d.cmp(pe,!at,ir)?Or:d.cmp(pe,at,Mr)?we:ae,a=Qe?k.price:Ue?X.price:yt.price;Br={side:ye,price:zt,tpPrice:i,slPrice:d.fmtNum(a-ye*.1)},console.log("order",Br)}return{timeMark:Zt,progress:ze,order:Br,points:M(or),entry:zt,target:[[Or,ir],[we,Mr],[F,yo],[ae,pe],[Ht,io]]}}function z(){const{A:rt,B:I}=v,k=rt.price-I.price;let G=k>0;const at=s.pickTimeToolRef.get(),et=lt({side:!G,start:rt,end:{time:Math.min(at??I.time.t,I.time.t),price:I.price}}),nt=s.indexToTime(6*et.R.time.i-5*et.S.time.i),ht=lt({side:G,start:{time:I.time},end:{time:at??nt}}),wt=A(ht.ext,ht,!0),x=wt?ht.R1:ht.ext.R,J=wt?ht.S1:ht.ext.S,Z=lt({side:!G,start:x,end:{time:Math.min(at??J.time.t,J.time.t),price:J.price}}),yt=lt({side:G,start:J,end:{time:at??nt}}),ft=A(yt.ext,yt,!0),U=ft?yt.R1:yt.ext.R,ot=ft?yt.S1:yt.ext.S,W=lt({side:!G,start:U,end:{time:Math.min(at??ot.time.t,ot.time.t),price:ot.price}}),X=lt({side:G,start:ot,end:{time:at??nt}}),St=A(X.ext,X,!0)?X.R1:X.ext.R;console.log("calcReversalPattern",[et,ht,Z,yt,W,X]),d.fmtNum(k,1,!0);const f=d.fmtNum(x.price-I.price,1,!0),h=d.fmtNum(J.price-x.price,1,!0),g=d.fmtNum(U.price-J.price,1,!0);d.fmtNum(Z.R.price1-J.price,1,!0),d.fmtNum(ot.price-U.price,1,!0);const R=et.R.time1.i-et.S.time.i,L=x.time1.i-ht.S.time.i,B=J.time1.i-x.time.i,bt=U.time1.i-J.time.i;ot.time1.i-U.time.i;const Dt=wt?ht.pre.tr:ht.tr,j=ft?yt.pre.tr:yt.tr,Vt=et.R.time.i+et.tr,$t=x.time.i+Dt,jt=J.time.i+Z.tr,Lt=U.time.i+j,Rt=[ot.time.i+W.tr,Lt,jt,$t,Vt],Xt=h/f,re=g/h,vt=d.cmp(J.price,!G,I.price),Ft=d.cmp(U.price,G,x.price);let Pt;L>R?Pt=vt?"shakeLongRed":"longRed":vt?Pt=bt>B?"shakeLongPurple":"shakeShortPurple":Pt=B>L?"longPink":"shortPink";let Ut;switch(Pt){case"longRed":Ut=[[L>=et.tr*ce,f>=et.pr],[Ft]];break;case"shakeLongRed":Ut=[[L>=et.tr*ce,f>=et.pr],[Xt<1.5],[Ft]];break;case"longPink":Ut=[[L>=et.tr*ce,f>=et.pr],[B>=Dt*ce,h>=ht.pr,Wt(L,B)],[Ft]];break;case"shortPink":Ut=[[L>=et.tr*ce,f>=et.pr],[B>=Dt*ce,h>=ht.pr,Xt>=.7,Wt(L,B)],[Ft]];break;case"shakeLongPurple":Ut=[[L>=et.tr*ce,f>=et.pr],[B>=Dt*ce,h>=ht.pr,Xt<1.5,Wt(L,B)],[re>=.7]];break;case"shakeShortPurple":Ut=[[L>=et.tr*ce,f>=et.pr],[B>=Dt*ce,h>=ht.pr,Xt<1.5,Wt(L,B)],[Ft]];break}const Jt=Et(Pt,Ut),te=Y([rt,et.R,x,J,U,ot,St],["orange","red","pink","purple","cyan","green","green"]),Zt=G?1:-1,_e=U.price,ue=d.fmtNum(_e+Zt*.1),se=It(x.price,h,Zt),xe=d.fmtNum(se-ue),br=It(x.price,2*h,Zt),rr=d.fmtNum(br-ue),Ue=It(x.price,4*h,Zt),He=d.fmtNum(Ue-ue),Pe=d.fmtNum(x.price+Zt*f),ze=d.fmtNum(Pe-ue),or=d.fmtNum((U.price+ot.price)/2),Qe=d.fmtNum(or-ue);let ye={};if(Jt.result){const Nt=d.cmp(ze,!G,xe)?se:d.cmp(ze,G,rr)?br:Pe,zt=vt?I.price:J.price;ye={side:Zt,price:ue,tpPrice:Nt,slPrice:d.fmtNum(zt-Zt*.1)},console.log("order",ye)}return{timeMark:Rt,progress:Jt,order:ye,points:M(te),entry:ue,target:[[se,xe],[br,rr],[Ue,He],[Pe,ze],[or,Qe]]}}function lt({side:rt,start:I,end:k}){let G=d.cloneDeep(I),at={},et={},nt={},ht={},wt={};G.time.i=s.timeToIndex(G.time.t);const x=s.bars.filter(J=>{let Z=J.time>=I.time.t;return k.time&&(Z=Z&&J.time<=k.time),Z});return x.length>0?(x.every((J,Z)=>{const yt=rt?J.high:J.low,ft=rt?J.low:J.high,U=J.time,ot=J.date,W=s.timeToIndex(U);if((Z===0||I.price&&ft===I.price)&&(et={R:{price:yt,price1:yt,time:{t:U,d:ot,i:W},time1:{t:U,d:ot,i:W}},S:{price:yt,time:{t:U,d:ot,i:W},time1:{t:U,d:ot,i:W}},pr:0,tr:0},nt=d.cloneDeep(et)),I.price&&d.cmp(ft,!rt,I.price)||k.price&&d.cmp(yt,rt,k.price))return!1;if(d.cmp(yt,rt,et.R.price,!0)){et.pr>0&&(!k.price||yt!==k.price)&&A(et,nt)&&(ht=d.cloneDeep(nt),nt=d.cloneDeep(et),nt.tr<ht.tr&&(nt.tr=ht.tr),nt.pr<ht.pr&&(nt.pr=ht.pr));const X=yt===et.R.price,st=rt?Math.min(et.R.price1,et.S.price):Math.max(et.R.price1,et.S.price);et={R:{price:yt,price1:X?st:yt,time:{t:U,d:ot,i:W},time1:X?et.R.time1:{t:U,d:ot,i:W}},S:{price:yt,time:{t:U,d:ot,i:W},time1:{t:U,d:ot,i:W}},pr:0,tr:0}}else d.cmp(ft,!rt,et.S.price,!0)&&(et.S.time={t:U,d:ot,i:W},ft!==et.S.price&&(et.S.price=ft,et.S.time1={t:U,d:ot,i:W},et.pr=d.fmtNum(et.S.price-et.R.price,1,!0),et.tr=et.S.time1.i-et.R.time.i));return!0}),wt=d.cloneDeep(et),at=d.cloneDeep(et.R)):(at=d.cloneDeep(G),nt={R:at,S:{},pr:0,tr:0},ht=d.cloneDeep(nt),wt=d.cloneDeep(nt)),{S:G,R:at,S1:nt.S,R1:nt.R,tr:nt.tr,pr:nt.pr,pre:ht,ext:wt}}function A(rt,I,k=!1){const G=rt.pr>=I.pr&&rt.tr>=.8*I.tr||rt.tr>=I.tr&&rt.pr>=.8*I.pr||rt.pr>=1.5*I.pr&&rt.tr>=.5*I.tr||rt.pr>=2*I.pr;return k?!G:G}function Y(rt,I){const k=[];return rt.forEach((G,at)=>{const et={value:G.price,color:E[I[at]]};at!==0&&k.push({...et,time:G.time1.t}),k.push({...et,time:G.time.t})}),k}function Et(rt,I){let k={pattern:c.value,subPattern:rt,steps:I,step:0,result:!0};return k.steps.map((G,at)=>(k.result&&(k.step=at+1,k.result=G.every(Boolean)),G)),console.log("checkProgress",k),k}function pt(rt){var G,at;if(!s.bars.length)return!1;const I=(G=s.bars[0])==null?void 0:G.time,k=(at=s.bars.at(-1))==null?void 0:at.time;return typeof I!="number"||typeof k!="number"?!1:rt>=I&&rt<=k}function It(rt,I,k){const G=rt+k*I;let at=d.fmtNum(G%1),et=G;return k>0?at>=.1&&at<=.2?et=Math.floor(G):at>=.6&&at<=.7&&(et=Math.floor(G)+.5):at>=.8&&at<=.9?et=Math.ceil(G):at>=.3&&at<=.4&&(et=Math.floor(G)+.5),d.fmtNum(et)}function Tt(){if(s.pickTimeToolRef.get())return!1;const I=v.B.price>v.A.price,k=s.bars.findIndex(at=>at.time===v.C.time.t);let G=d.cloneDeep(v.C);for(let at=k;at<s.bars.length;at++){const et=s.bars[at].time,nt=s.bars[at].date,ht=I?s.bars[at].low:s.bars[at].high;d.cmp(ht,!I,G.price,!0)&&(G.time={t:et,d:nt},G.price=ht)}G.time.t!==v.C.time.t&&(v.C=G,Q())}function Q(rt=!1){let I={isRemove:rt,symbol:yp,name:"pattern",points:[],data:[]};rt?v={}:Object.entries(v).forEach(([k,G])=>{I.points.push(k),I.data.push(G)}),p.dispatch("tradingDerivative/drawTools",I)}function ut(){Q(!0),s.pickTimeToolRef.remove(),mt(),_t([]),n("setProgress",{}),n("setPatternOrder",{}),w.pattern.setData([])}function mt(){d.isSet(b.X)&&(w.pattern.removePriceLine(b.O),w.pattern.removePriceLine(b.X),w.pattern.removePriceLine(b.Y),w.pattern.removePriceLine(b.Z),w.pattern.removePriceLine(b.W),w.pattern.removePriceLine(b.T)),b={}}function _t(rt){const I=[E.green,E.cyan,E.purple,E.pink,E.red,E.orange];let k=[];rt.forEach((G,at)=>{let et=s.indexToTime(G);et&&k.push({time:et,value:1,color:I[at]})}),k.length&&(k=M(k),k.sort((G,at)=>G.time-at.time)),w.timeMark.setData(k)}function M(rt){const I=new Set;return rt.map(k=>{let G={...k};for(;I.has(G.time);)G.time++;return I.add(G.time),G})}function ct({itemData:rt}){p.dispatch("tradingDerivative/setPatternType",rt).then(I=>{I&&S()})}function kt(){const rt=c.value===m[0]?m[1]:m[0];p.dispatch("tradingDerivative/setPatternType",rt).then(I=>{I&&S()})}function Wt(rt,I,k=.9){const G=Math.min(rt,I),at=Math.max(rt,I);if(at===0)return!0;const et=G/at;return console.log("isTimeNotEqual",et),et<=k}return(rt,I)=>(Ae(),Le(No,null,[fe("div",{onContextmenu:kt},[Oe(Mo(ql),{items:m,"drop-down-options":{width:33,wrapperAttr:{class:"select-pattern-popup"},position:{my:"top left",at:"top right",of:".select-pattern"}},icon:`far fa-${c.value==="C"?"copyright":c.value==="R"?"registered":"circle-question"} pattern`,hint:rt.$t("trading.derivative.tools.selectPattern"),stylingMode:"text",showArrowIcon:!1,elementAttr:{class:"select-pattern command"},onItemClick:ct},null,8,["icon","hint"])],32),fe("div",{ref_key:"patternToolRef",ref:u,class:"context command",title:rt.$t("trading.derivative.tools.pattern"),onClick:$,onContextmenu:P},mp,40,hp)],64))}},bp=["title"],wp=fe("i",{class:"far fa-pipe"},null,-1),Ep=[wp],os="VN30F1M",_p={__name:"PickTimeTool",emits:["refreshPattern","hideContext"],setup(t,{expose:o,emit:e}){const p=to(),d=e,s=be(null),n=Ge(()=>p.state.tradingDerivative.tools.pickTime);let u=null,l={};o({isSelected:c,createSeries:m,draw:E,remove:N,get:v}),mo(n,$=>{$&&O($[0])});function c(){return s.value.classList.contains("selected")}function m($){if(!$)return!1;l.pickTime=$.addHistogramSeries({priceScaleId:"pickTime",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function v(){return u}function b($){d("hideContext");const P=$.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(C=>C.classList.remove("selected")),P||$.target.classList.add("selected")}function w($){$.target.classList.remove("selected"),N(),d("refreshPattern")}function E({time:$}){p.dispatch("tradingDerivative/drawTools",{isRemove:!1,symbol:os,name:"pickTime",points:[0],data:[$]}),O($),d("refreshPattern"),s.value.classList.remove("selected")}function O($){u=$,l.pickTime.setData([{time:$,value:1,color:"#007FFF"}])}function N($=!0){$&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:os,name:"pickTime"}),l.pickTime.setData([]),u=null}return($,P)=>(Ae(),Le("div",{ref_key:"pickTimeToolRef",ref:s,class:"command",title:$.$t("trading.derivative.tools.pickTime"),onClick:b,onContextmenu:w},Ep,40,bp))}},Sp=["title"],Tp=fe("i",{class:"far fa-grip-lines-vertical"},null,-1),Ip=[Tp],is="VN30F1M",kp={__name:"TimeRangeTool",props:["timeToIndex","indexToTime"],emits:["hideContext"],setup(t,{expose:o,emit:e}){const p=to(),d=$r("mf"),s=t,n=e,u=be(null),l=Ge(()=>p.state.tradingDerivative.tools.timeRange);let c=[],m={};o({isSelected:v,createSeries:b,draw:O}),mo(l,C=>{C&&N(C)});function v(){return u.value.classList.contains("selected")}function b(C){if(!C)return!1;m.timeRange=C.addHistogramSeries({priceScaleId:"timeRange",scaleMargins:{top:0,bottom:0},lastValueVisible:!1,priceLineVisible:!1})}function w(C){n("hideContext");const H=C.target.classList.contains("selected");document.querySelectorAll(".tool-area > .command:not(.drawless)").forEach(tt=>tt.classList.remove("selected")),H||C.target.classList.add("selected")}function E(C){P(),C.target.classList.remove("selected")}function O({time:C}){let H={isRemove:!1,symbol:is,name:"timeRange",points:[],data:[]},tt={time:C,value:1};switch(c.length){case 0:tt.color="OrangeRed",c[0]=tt,H.points.push(0),H.data.push(C);break;case 1:tt.color="lime",c[1]=tt,H.points.push(1),H.data.push(C),u.value.classList.remove("selected");break;default:const D=s.timeToIndex(c[0].time),S=s.timeToIndex(c[1].time),it=s.timeToIndex(C)+(S-D),z=s.indexToTime(it);tt.color="OrangeRed",c[0]=d.cloneDeep(tt),H.points.push(0),H.data.push(C),tt.time=z,tt.color="lime",c[1]=tt,H.points.push(1),H.data.push(z),u.value.classList.remove("selected");break}m.timeRange.setData(c),p.dispatch("tradingDerivative/drawTools",H)}function N(C){P(!1),$(C)}function $(C){let H,tt;if(C.length===2)H=C[0],tt=C[1];else if(C.length===3){const S=s.timeToIndex(C[0]),K=s.timeToIndex(C[1]),z=s.timeToIndex(C[2])+(K-S);H=C[2],tt=s.indexToTime(z)}else return!1;let D=[{time:H,value:1,color:"OrangeRed"},{time:tt,value:1,color:"lime"}];c=D,m.timeRange.setData(D)}function P(C=!0){C&&p.dispatch("tradingDerivative/drawTools",{isRemove:!0,symbol:is,name:"timeRange"}),m.timeRange.setData([]),c=[]}return(C,H)=>(Ae(),Le("div",{ref_key:"timeRangeToolRef",ref:u,class:"command",title:C.$t("trading.derivative.tools.timeRange"),onClick:w,onContextmenu:E},Ip,40,Sp))}},Op={__name:"OrderContext",props:["orders"],emits:["closeOrder","closeAllOrders","putOrder"],setup(t,{emit:o}){const e=t,p=o,d=Ge(()=>Object.values(e.orders).map(c=>({id:c.id,side:c.side>0?"L":"S",price:c.entry_price}))),s=[{field:"id",minWidth:50},{field:"side",minWidth:90},{field:"price",minWidth:100}];function n(){p("closeAllOrders")}function u(c){const m=e.orders[c];p("closeOrder",m)}function l(){p("putOrder")}return(c,m)=>{const v=fi("DxButton"),b=fi("DxToolbar");return Ae(),Ks(Js,{class:"order-context"},{default:Oo(()=>[Oe(Mo(Qo.DxDataGrid),{"data-source":d.value,"key-expr":"id","show-borders":!0},{commandCellTemplate:Oo(({data:w})=>[Oe(v,{type:"danger",stylingMode:"text",icon:"trash",onClick:()=>u(w.data.id)},null,8,["onClick"])]),default:Oo(()=>[Oe(Mo(Qo.DxColumn),{width:50,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate"}),(Ae(),Le(No,null,mi(s,w=>Oe(Mo(Qo.DxColumn),{"data-field":w.field,minWidth:w.minWidth,caption:c.$t(`trading.derivative.orderContext.${w.field}`)},null,8,["data-field","minWidth","caption"])),64))]),_:1},8,["data-source"]),Oe(b,{items:[{location:"before",widget:"dxButton",options:{type:"danger",stylingMode:"outlined",icon:"far fa-gavel",text:c.$t("trading.derivative.orderContext.putOrder"),onClick:l}},{location:"after",widget:"dxButton",options:{type:"danger",stylingMode:"outlined",icon:"trash",text:c.$t("trading.derivative.orderContext.closeAll"),onClick:n}}]},null,8,["items"])]),_:1})}}},Mp=["title"],Bp={__name:"OrderTool",props:["position","drawPriceLine","inSession","TIME"],emits:["hideContext"],setup(t,{expose:o,emit:e}){const p=to(),{t:d}=Ln(),s=$r("mf"),n=t,u=e,l=be(null),c=be(!1),m=be(!1),v=be({}),b=Ge(()=>p.state.tradingDerivative.config.orders),w=Ge(()=>p.state.tradingDerivative.status.position||p.state.tradingDerivative.status.pendingOrders.length>0||Object.keys(v.value).length>0);let E={},O={},N=!1;o({hide:P,scan:S,drag:lt,closeAllOrders:H,cancelWithoutClose:D,setPatternOrder:$}),$o(()=>{window.addEventListener("keydown",Tt)}),Un(()=>{window.removeEventListener("keydown",Tt)}),mo(b,Q=>{s.isSet(Q)&&K(Q)});function $(Q){E=Q}function P(Q=!1){m.value=Q}function C(){let Q=!1,ut=()=>{};if(n.inSession()){const mt=Te(Dr(new Date,7));if(mt<n.TIME.ATO)Q=!0,ut=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATO"}).then(_t=>{_t.isOk?Ne.success(d("trading.derivative.toasts.atoOrderSuccess")):pt(_t)})};else if(mt>n.TIME.ATC)Q=!0,ut=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"ATC"}).then(_t=>{_t.isOk?Ne.success(d("trading.derivative.toasts.atcOrderSuccess")):pt(_t)})};else if(!n.position)s.isSet(E)&&(Q=!0,ut=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"entry",data:{cmd:"new",...E}}).then(_t=>{_t.isOk?(v.value[_t.order.id]=_t.order,O[_t.order.id]={},it(["entry"],_t.order),Ne.success(d("trading.derivative.toasts.newEntrySuccess"))):pt(_t)})});else{const _t=Et(0);if(_t.length===1){const M=_t[0];Q=!0,ut=()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:M.id}).then(ct=>{ct.isOk?(v.value[M.id]=ct.order,O[M.id].entry.applyOptions({draggable:!1}),it(["tp","sl"],ct.order),Ne.success(d("trading.derivative.toasts.newTpSlSuccess"))):pt(ct)})}}}}Q?Kl(d("trading.derivative.toasts.orderConfirm"),d("titles.confirm")).then(_t=>{_t&&ut()}):Ne.warning(d("trading.derivative.toasts.noPutOrder"))}function H(){const Q=Object.values(v.value);Q.length?Q.forEach(ut=>tt(ut)):p.dispatch("tradingDerivative/executeOrder",{action:"cancel",exit:"MTL"}).then(ut=>{ut.isOk?Ne.success(d("trading.derivative.toasts.cancelSuccess")):pt(ut)})}function tt(Q){p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:Q.id,exit:Q.status===1?"MTL":""}).then(ut=>{ut.isOk?(z(["entry","tp","sl"],Q.id),delete v.value[Q.id],Ne.success(d("trading.derivative.toasts.cancelSuccess"))):pt(ut)})}function D(){if(n.inSession()&&n.position){const Q=Te(Dr(new Date,7));Q>n.TIME.ATC-5*60&&(c.value=!0,Q>n.TIME.ATC-15&&Et(1).forEach(mt=>{p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:mt.id}).then(_t=>{_t.isOk?(z(["entry","tp","sl"],mt.id),delete v.value[mt.id],Ne.success(d("trading.derivative.toasts.cancelNotExitSuccess"))):pt(_t)})}))}}function S(Q){Object.values(v.value).forEach(ut=>{const mt=ut.side>0;switch(ut.status){case 0:s.cmp(Q,mt,ut.entry_price,!0)&&(N||(N=!0,setTimeout(()=>{p.dispatch("tradingDerivative/executeOrder",{action:"tpsl",orderId:ut.id}).then(M=>{M.isOk?(v.value[ut.id]=M.order,O[ut.id].entry.applyOptions({draggable:!1}),it(["tp","sl"],M.order),Object.keys(v.value).forEach(ct=>{Number(ct)!==ut.id&&v.value[ct].status===0&&(z(["entry"],ct),delete v.value[ct])}),Ne.success(d("trading.derivative.toasts.newTpSlSuccess"))):pt(M),N=!1})},1e3)));break;case 1:let _t="";s.cmp(Q,mt,ut.tp_price,!0)&&(_t="sl"),s.cmp(Q,!mt,ut.sl_price,!0)&&(_t="tp"),_t&&(N||(N=!0,p.dispatch("tradingDerivative/executeOrder",{action:"cancel",orderId:ut.id,kind:_t}).then(M=>{M.isOk?(z(["entry","tp","sl"],ut.id),delete v.value[ut.id],Ne.success(d("trading.derivative.toasts.cancelSuccess"))):pt(M),N=!1})));break}})}function K(Q){v.value=s.cloneDeep(Q),Object.values(v.value).forEach(ut=>{let mt=["entry"];ut.status===1&&mt.push("tp","sl"),z(["entry","tp","sl"],ut.id),it(mt,ut)})}function it(Q,ut){let mt,_t;Q.forEach(M=>{switch(M){case"entry":mt="yellow",_t=`${ut.side>0?"LONG":"SHORT"}[${ut.id}]`;break;case"tp":mt="lime",_t=`TP[${ut.id}] ${s.fmtNum(ut.tp_price-ut.entry_price,1)}`;break;case"sl":mt="red",_t=`SL[${ut.id}] ${s.fmtNum(ut.sl_price-ut.entry_price,1)}`;break}if(s.isSet(O[ut.id])||(O[ut.id]={}),s.isSet(O[ut.id][M]))O[ut.id][M].applyOptions({title:_t});else{const ct={lineType:"order",kind:M,price:ut[`${M}_price`],color:mt,lineWidth:1,lineStyle:0,title:_t,draggable:!(M==="entry"&&ut.status===1)};O[ut.id][M]=n.drawPriceLine(ct)}})}function z(Q,ut){s.isSet(O[ut])&&(Q.forEach(mt=>{s.isSet(O[ut][mt])&&n.drawPriceLine(O[ut][mt],!0)}),delete O[ut])}function lt({line:Q,lineOptions:ut,oldPrice:mt,newPrice:_t}){if(_t!==mt){const M=ut.kind;if(M!=="entry"||!n.position){const kt=`change${s.capitalize(M)}Success`,Wt=Y(M,mt);if(!s.isSet(Wt))return!1;p.dispatch("tradingDerivative/executeOrder",{action:M,orderId:Wt.id,data:{cmd:"change",orderNo:String(Wt[`${M}_no`]),price:_t}}).then(rt=>{rt.isOk?(v.value[Wt.id]=rt.order,it([M],rt.order),Ne.success(d(`trading.derivative.toasts.${kt}`))):(Q.applyOptions({price:mt}),pt(rt))})}else Q.applyOptions({price:mt}),Ne.show(d("trading.derivative.toasts.noChangeOrderLine"))}}function A(){p.dispatch("tradingDerivative/cleanOldOrders")}function Y(Q,ut){return Object.values(v.value).find(mt=>mt[`${Q}_price`]===ut)}function Et(Q,ut=!1){const mt=Object.values(v.value).filter(_t=>_t.status===Q);return ut?mt.length>0:mt}function pt(Q){let ut=Q.error??Q.message??"unknown";Ne.error(d(`trading.derivative.toasts.${ut}`))}function It(){const Q=m.value;u("hideContext"),m.value=!Q}function Tt(Q){Q.key==="F4"&&(It(),Q.preventDefault())}return(Q,ut)=>(Ae(),Le("div",{ref_key:"orderToolRef",ref:l,class:Ve(["cancel-order context command",{red:w.value}]),title:Q.$t("trading.derivative.tools.order"),onClick:It,onContextmenu:A},[fe("i",{class:Ve(["far fa-gavel",{blink:c.value}])},null,2),zn(Oe(Op,{class:"contextmenu",orders:v.value,onCloseOrder:tt,onCloseAllOrders:H,onPutOrder:C},null,8,["orders"]),[[Ys,m.value]])],42,Mp))}};var $n=Object.defineProperty,Rp=Object.getOwnPropertyDescriptor,Cp=Object.getOwnPropertyNames,Pp=Object.prototype.hasOwnProperty,Me=(t,o)=>()=>(t&&(o=t(t=0)),o),xt=(t,o)=>()=>(o||t((o={exports:{}}).exports,o),o.exports),qr=(t,o)=>{for(var e in o)$n(t,e,{get:o[e],enumerable:!0})},Ap=(t,o,e,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of Cp(o))!Pp.call(t,d)&&d!==e&&$n(t,d,{get:()=>o[d],enumerable:!(p=Rp(o,d))||p.enumerable});return t},le=t=>Ap($n({},"__esModule",{value:!0}),t),Ot=Me(()=>{}),oe={};qr(oe,{_debugEnd:()=>Yi,_debugProcess:()=>Ki,_events:()=>cn,_eventsCount:()=>dn,_exiting:()=>xi,_fatalExceptions:()=>Gi,_getActiveHandles:()=>ia,_getActiveRequests:()=>oa,_kill:()=>Ni,_linkedBinding:()=>ea,_maxListeners:()=>un,_preload_modules:()=>ln,_rawDebug:()=>Ci,_startProfilerIdleNotifier:()=>Ji,_stopProfilerIdleNotifier:()=>Qi,_tickCallback:()=>qi,abort:()=>en,addListener:()=>hn,allowedNodeEnvironmentFlags:()=>$i,arch:()=>vi,argv:()=>Ei,argv0:()=>an,assert:()=>na,binding:()=>ki,chdir:()=>Bi,config:()=>Fi,cpuUsage:()=>po,cwd:()=>Mi,debugPort:()=>sn,default:()=>Gn,dlopen:()=>ra,domain:()=>Ai,emit:()=>vn,emitWarning:()=>Ii,env:()=>wi,execArgv:()=>_i,execPath:()=>nn,exit:()=>Ui,features:()=>Vi,hasUncaughtExceptionCaptureCallback:()=>sa,hrtime:()=>Bo,kill:()=>Li,listeners:()=>la,memoryUsage:()=>Di,moduleLoadList:()=>Pi,nextTick:()=>Xs,off:()=>mn,on:()=>sr,once:()=>fn,openStdin:()=>zi,pid:()=>rn,platform:()=>bi,ppid:()=>on,prependListener:()=>bn,prependOnceListener:()=>wn,reallyExit:()=>Wi,release:()=>Ri,removeAllListeners:()=>gn,removeListener:()=>yn,resourceUsage:()=>ji,setSourceMapsEnabled:()=>pn,setUncaughtExceptionCaptureCallback:()=>Hi,stderr:()=>Xi,stdin:()=>tn,stdout:()=>Zi,title:()=>gi,umask:()=>Oi,uptime:()=>aa,version:()=>Si,versions:()=>Ti});function Vn(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function xp(){!Vr||!Ur||(Vr=!1,Ur.length?tr=Ur.concat(tr):ho=-1,tr.length&&Zs())}function Zs(){if(!Vr){var t=setTimeout(xp,0);Vr=!0;for(var o=tr.length;o;){for(Ur=tr,tr=[];++ho<o;)Ur&&Ur[ho].run();ho=-1,o=tr.length}Ur=null,Vr=!1,clearTimeout(t)}}function Xs(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];tr.push(new ta(t,o)),tr.length===1&&!Vr&&setTimeout(Zs,0)}function ta(t,o){this.fun=t,this.array=o}function Ce(){}function ea(t){Vn("_linkedBinding")}function ra(t){Vn("dlopen")}function oa(){return[]}function ia(){return[]}function na(t,o){if(!t)throw new Error(o||"assertion error")}function sa(){return!1}function aa(){return ur.now()/1e3}function Bo(t){var o=Math.floor((Date.now()-ur.now())*.001),e=ur.now()*.001,p=Math.floor(e)+o,d=Math.floor(e%1*1e9);return t&&(p=p-t[0],d=d-t[1],d<0&&(p--,d+=Ro)),[p,d]}function sr(){return Gn}function la(t){return[]}var tr,Vr,Ur,ho,gi,vi,bi,wi,Ei,_i,Si,Ti,Ii,ki,Oi,Mi,Bi,Ri,Ci,Pi,Ai,xi,Fi,Wi,Ni,po,ji,Di,Li,Ui,zi,$i,Vi,Gi,Hi,qi,Ki,Yi,Ji,Qi,Zi,Xi,tn,en,rn,on,nn,sn,an,ln,pn,ur,Xo,Ro,un,cn,dn,hn,fn,mn,yn,gn,vn,bn,wn,Gn,Fp=Me(()=>{Ot(),Bt(),Mt(),tr=[],Vr=!1,ho=-1,ta.prototype.run=function(){this.fun.apply(null,this.array)},gi="browser",vi="x64",bi="browser",wi={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Ei=["/usr/bin/node"],_i=[],Si="v16.8.0",Ti={},Ii=function(t,o){console.warn((o?o+": ":"")+t)},ki=function(t){Vn("binding")},Oi=function(t){return 0},Mi=function(){return"/"},Bi=function(t){},Ri={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Ci=Ce,Pi=[],Ai={},xi=!1,Fi={},Wi=Ce,Ni=Ce,po=function(){return{}},ji=po,Di=po,Li=Ce,Ui=Ce,zi=Ce,$i={},Vi={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Gi=Ce,Hi=Ce,qi=Ce,Ki=Ce,Yi=Ce,Ji=Ce,Qi=Ce,Zi=void 0,Xi=void 0,tn=void 0,en=Ce,rn=2,on=1,nn="/bin/usr/node",sn=9229,an="node",ln=[],pn=Ce,ur={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ur.now===void 0&&(Xo=Date.now(),ur.timing&&ur.timing.navigationStart&&(Xo=ur.timing.navigationStart),ur.now=()=>Date.now()-Xo),Ro=1e9,Bo.bigint=function(t){var o=Bo(t);return typeof BigInt>"u"?o[0]*Ro+o[1]:BigInt(o[0]*Ro)+BigInt(o[1])},un=10,cn={},dn=0,hn=sr,fn=sr,mn=sr,yn=sr,gn=sr,vn=Ce,bn=sr,wn=sr,Gn={version:Si,versions:Ti,arch:vi,platform:bi,release:Ri,_rawDebug:Ci,moduleLoadList:Pi,binding:ki,_linkedBinding:ea,_events:cn,_eventsCount:dn,_maxListeners:un,on:sr,addListener:hn,once:fn,off:mn,removeListener:yn,removeAllListeners:gn,emit:vn,prependListener:bn,prependOnceListener:wn,listeners:la,domain:Ai,_exiting:xi,config:Fi,dlopen:ra,uptime:aa,_getActiveRequests:oa,_getActiveHandles:ia,reallyExit:Wi,_kill:Ni,cpuUsage:po,resourceUsage:ji,memoryUsage:Di,kill:Li,exit:Ui,openStdin:zi,allowedNodeEnvironmentFlags:$i,assert:na,features:Vi,_fatalExceptions:Gi,setUncaughtExceptionCaptureCallback:Hi,hasUncaughtExceptionCaptureCallback:sa,emitWarning:Ii,nextTick:Xs,_tickCallback:qi,_debugProcess:Ki,_debugEnd:Yi,_startProfilerIdleNotifier:Ji,_stopProfilerIdleNotifier:Qi,stdout:Zi,stdin:tn,stderr:Xi,abort:en,umask:Oi,chdir:Bi,cwd:Mi,env:wi,title:gi,argv:Ei,execArgv:_i,pid:rn,ppid:on,execPath:nn,debugPort:sn,hrtime:Bo,argv0:an,_preload_modules:ln,setSourceMapsEnabled:pn}}),Mt=Me(()=>{Fp()}),Be={};qr(Be,{Buffer:()=>jo,INSPECT_MAX_BYTES:()=>pa,default:()=>ar,kMaxLength:()=>ua});function Wp(){if(En)return Zr;En=!0,Zr.byteLength=u,Zr.toByteArray=c,Zr.fromByteArray=b;for(var t=[],o=[],e=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,s=p.length;d<s;++d)t[d]=p[d],o[p.charCodeAt(d)]=d;o[45]=62,o[95]=63;function n(w){var E=w.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=w.indexOf("=");O===-1&&(O=E);var N=O===E?0:4-O%4;return[O,N]}function u(w){var E=n(w),O=E[0],N=E[1];return(O+N)*3/4-N}function l(w,E,O){return(E+O)*3/4-O}function c(w){var E,O=n(w),N=O[0],$=O[1],P=new e(l(w,N,$)),C=0,H=$>0?N-4:N,tt;for(tt=0;tt<H;tt+=4)E=o[w.charCodeAt(tt)]<<18|o[w.charCodeAt(tt+1)]<<12|o[w.charCodeAt(tt+2)]<<6|o[w.charCodeAt(tt+3)],P[C++]=E>>16&255,P[C++]=E>>8&255,P[C++]=E&255;return $===2&&(E=o[w.charCodeAt(tt)]<<2|o[w.charCodeAt(tt+1)]>>4,P[C++]=E&255),$===1&&(E=o[w.charCodeAt(tt)]<<10|o[w.charCodeAt(tt+1)]<<4|o[w.charCodeAt(tt+2)]>>2,P[C++]=E>>8&255,P[C++]=E&255),P}function m(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function v(w,E,O){for(var N,$=[],P=E;P<O;P+=3)N=(w[P]<<16&16711680)+(w[P+1]<<8&65280)+(w[P+2]&255),$.push(m(N));return $.join("")}function b(w){for(var E,O=w.length,N=O%3,$=[],P=16383,C=0,H=O-N;C<H;C+=P)$.push(v(w,C,C+P>H?H:C+P));return N===1?(E=w[O-1],$.push(t[E>>2]+t[E<<4&63]+"==")):N===2&&(E=(w[O-2]<<8)+w[O-1],$.push(t[E>>10]+t[E>>4&63]+t[E<<2&63]+"=")),$.join("")}return Zr}function Np(){return _n?uo:(_n=!0,uo.read=function(t,o,e,p,d){var s,n,u=d*8-p-1,l=(1<<u)-1,c=l>>1,m=-7,v=e?d-1:0,b=e?-1:1,w=t[o+v];for(v+=b,s=w&(1<<-m)-1,w>>=-m,m+=u;m>0;s=s*256+t[o+v],v+=b,m-=8);for(n=s&(1<<-m)-1,s>>=-m,m+=p;m>0;n=n*256+t[o+v],v+=b,m-=8);if(s===0)s=1-c;else{if(s===l)return n?NaN:(w?-1:1)*(1/0);n=n+Math.pow(2,p),s=s-c}return(w?-1:1)*n*Math.pow(2,s-p)},uo.write=function(t,o,e,p,d,s){var n,u,l,c=s*8-d-1,m=(1<<c)-1,v=m>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:s-1,E=p?1:-1,O=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,n=m):(n=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-n))<1&&(n--,l*=2),n+v>=1?o+=b/l:o+=b*Math.pow(2,1-v),o*l>=2&&(n++,l/=2),n+v>=m?(u=0,n=m):n+v>=1?(u=(o*l-1)*Math.pow(2,d),n=n+v):(u=o*Math.pow(2,v-1)*Math.pow(2,d),n=0));d>=8;t[e+w]=u&255,w+=E,u/=256,d-=8);for(n=n<<d|u,c+=d;c>0;t[e+w]=n&255,w+=E,n/=256,c-=8);t[e+w-E]|=O*128},uo)}function jp(){if(Sn)return Er;Sn=!0;let t=Wp(),o=Np(),e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Er.Buffer=n,Er.SlowBuffer=$,Er.INSPECT_MAX_BYTES=50;let p=2147483647;Er.kMaxLength=p,n.TYPED_ARRAY_SUPPORT=d(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{let f=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(f,h),f.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function s(f){if(f>p)throw new RangeError('The value "'+f+'" is invalid for option "size"');let h=new Uint8Array(f);return Object.setPrototypeOf(h,n.prototype),h}function n(f,h,g){if(typeof f=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(f)}return u(f,h,g)}n.poolSize=8192;function u(f,h,g){if(typeof f=="string")return v(f,h);if(ArrayBuffer.isView(f))return w(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(ot(f,ArrayBuffer)||f&&ot(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(f,SharedArrayBuffer)||f&&ot(f.buffer,SharedArrayBuffer)))return E(f,h,g);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let R=f.valueOf&&f.valueOf();if(R!=null&&R!==f)return n.from(R,h,g);let L=O(f);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return n.from(f[Symbol.toPrimitive]("string"),h,g);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}n.from=function(f,h,g){return u(f,h,g)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function l(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function c(f,h,g){return l(f),f<=0?s(f):h!==void 0?typeof g=="string"?s(f).fill(h,g):s(f).fill(h):s(f)}n.alloc=function(f,h,g){return c(f,h,g)};function m(f){return l(f),s(f<0?0:N(f)|0)}n.allocUnsafe=function(f){return m(f)},n.allocUnsafeSlow=function(f){return m(f)};function v(f,h){if((typeof h!="string"||h==="")&&(h="utf8"),!n.isEncoding(h))throw new TypeError("Unknown encoding: "+h);let g=P(f,h)|0,R=s(g),L=R.write(f,h);return L!==g&&(R=R.slice(0,L)),R}function b(f){let h=f.length<0?0:N(f.length)|0,g=s(h);for(let R=0;R<h;R+=1)g[R]=f[R]&255;return g}function w(f){if(ot(f,Uint8Array)){let h=new Uint8Array(f);return E(h.buffer,h.byteOffset,h.byteLength)}return b(f)}function E(f,h,g){if(h<0||f.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<h+(g||0))throw new RangeError('"length" is outside of buffer bounds');let R;return h===void 0&&g===void 0?R=new Uint8Array(f):g===void 0?R=new Uint8Array(f,h):R=new Uint8Array(f,h,g),Object.setPrototypeOf(R,n.prototype),R}function O(f){if(n.isBuffer(f)){let h=N(f.length)|0,g=s(h);return g.length===0||f.copy(g,0,0,h),g}if(f.length!==void 0)return typeof f.length!="number"||W(f.length)?s(0):b(f);if(f.type==="Buffer"&&Array.isArray(f.data))return b(f.data)}function N(f){if(f>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return f|0}function $(f){return+f!=f&&(f=0),n.alloc(+f)}n.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==n.prototype},n.compare=function(f,h){if(ot(f,Uint8Array)&&(f=n.from(f,f.offset,f.byteLength)),ot(h,Uint8Array)&&(h=n.from(h,h.offset,h.byteLength)),!n.isBuffer(f)||!n.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let g=f.length,R=h.length;for(let L=0,B=Math.min(g,R);L<B;++L)if(f[L]!==h[L]){g=f[L],R=h[L];break}return g<R?-1:R<g?1:0},n.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return n.alloc(0);let g;if(h===void 0)for(h=0,g=0;g<f.length;++g)h+=f[g].length;let R=n.allocUnsafe(h),L=0;for(g=0;g<f.length;++g){let B=f[g];if(ot(B,Uint8Array))L+B.length>R.length?(n.isBuffer(B)||(B=n.from(B)),B.copy(R,L)):Uint8Array.prototype.set.call(R,B,L);else if(n.isBuffer(B))B.copy(R,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=B.length}return R};function P(f,h){if(n.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||ot(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);let g=f.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&g===0)return 0;let L=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return g;case"utf8":case"utf-8":return J(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g*2;case"hex":return g>>>1;case"base64":return ft(f).length;default:if(L)return R?-1:J(f).length;h=(""+h).toLowerCase(),L=!0}}n.byteLength=P;function C(f,h,g){let R=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((g===void 0||g>this.length)&&(g=this.length),g<=0)||(g>>>=0,h>>>=0,g<=h))return"";for(f||(f="utf8");;)switch(f){case"hex":return Q(this,h,g);case"utf8":case"utf-8":return Y(this,h,g);case"ascii":return It(this,h,g);case"latin1":case"binary":return Tt(this,h,g);case"base64":return A(this,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ut(this,h,g);default:if(R)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),R=!0}}n.prototype._isBuffer=!0;function H(f,h,g){let R=f[h];f[h]=f[g],f[g]=R}n.prototype.swap16=function(){let f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)H(this,h,h+1);return this},n.prototype.swap32=function(){let f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)H(this,h,h+3),H(this,h+1,h+2);return this},n.prototype.swap64=function(){let f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)H(this,h,h+7),H(this,h+1,h+6),H(this,h+2,h+5),H(this,h+3,h+4);return this},n.prototype.toString=function(){let f=this.length;return f===0?"":arguments.length===0?Y(this,0,f):C.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(f){if(!n.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:n.compare(this,f)===0},n.prototype.inspect=function(){let f="",h=Er.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},e&&(n.prototype[e]=n.prototype.inspect),n.prototype.compare=function(f,h,g,R,L){if(ot(f,Uint8Array)&&(f=n.from(f,f.offset,f.byteLength)),!n.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),g===void 0&&(g=f?f.length:0),R===void 0&&(R=0),L===void 0&&(L=this.length),h<0||g>f.length||R<0||L>this.length)throw new RangeError("out of range index");if(R>=L&&h>=g)return 0;if(R>=L)return-1;if(h>=g)return 1;if(h>>>=0,g>>>=0,R>>>=0,L>>>=0,this===f)return 0;let B=L-R,bt=g-h,Dt=Math.min(B,bt),j=this.slice(R,L),Vt=f.slice(h,g);for(let $t=0;$t<Dt;++$t)if(j[$t]!==Vt[$t]){B=j[$t],bt=Vt[$t];break}return B<bt?-1:bt<B?1:0};function tt(f,h,g,R,L){if(f.length===0)return-1;if(typeof g=="string"?(R=g,g=0):g>2147483647?g=2147483647:g<-2147483648&&(g=-2147483648),g=+g,W(g)&&(g=L?0:f.length-1),g<0&&(g=f.length+g),g>=f.length){if(L)return-1;g=f.length-1}else if(g<0)if(L)g=0;else return-1;if(typeof h=="string"&&(h=n.from(h,R)),n.isBuffer(h))return h.length===0?-1:D(f,h,g,R,L);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(f,h,g):Uint8Array.prototype.lastIndexOf.call(f,h,g):D(f,[h],g,R,L);throw new TypeError("val must be string, number or Buffer")}function D(f,h,g,R,L){let B=1,bt=f.length,Dt=h.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(f.length<2||h.length<2)return-1;B=2,bt/=2,Dt/=2,g/=2}function j($t,jt){return B===1?$t[jt]:$t.readUInt16BE(jt*B)}let Vt;if(L){let $t=-1;for(Vt=g;Vt<bt;Vt++)if(j(f,Vt)===j(h,$t===-1?0:Vt-$t)){if($t===-1&&($t=Vt),Vt-$t+1===Dt)return $t*B}else $t!==-1&&(Vt-=Vt-$t),$t=-1}else for(g+Dt>bt&&(g=bt-Dt),Vt=g;Vt>=0;Vt--){let $t=!0;for(let jt=0;jt<Dt;jt++)if(j(f,Vt+jt)!==j(h,jt)){$t=!1;break}if($t)return Vt}return-1}n.prototype.includes=function(f,h,g){return this.indexOf(f,h,g)!==-1},n.prototype.indexOf=function(f,h,g){return tt(this,f,h,g,!0)},n.prototype.lastIndexOf=function(f,h,g){return tt(this,f,h,g,!1)};function S(f,h,g,R){g=Number(g)||0;let L=f.length-g;R?(R=Number(R),R>L&&(R=L)):R=L;let B=h.length;R>B/2&&(R=B/2);let bt;for(bt=0;bt<R;++bt){let Dt=parseInt(h.substr(bt*2,2),16);if(W(Dt))return bt;f[g+bt]=Dt}return bt}function K(f,h,g,R){return U(J(h,f.length-g),f,g,R)}function it(f,h,g,R){return U(Z(h),f,g,R)}function z(f,h,g,R){return U(ft(h),f,g,R)}function lt(f,h,g,R){return U(yt(h,f.length-g),f,g,R)}n.prototype.write=function(f,h,g,R){if(h===void 0)R="utf8",g=this.length,h=0;else if(g===void 0&&typeof h=="string")R=h,g=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(g)?(g=g>>>0,R===void 0&&(R="utf8")):(R=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let L=this.length-h;if((g===void 0||g>L)&&(g=L),f.length>0&&(g<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let B=!1;for(;;)switch(R){case"hex":return S(this,f,h,g);case"utf8":case"utf-8":return K(this,f,h,g);case"ascii":case"latin1":case"binary":return it(this,f,h,g);case"base64":return z(this,f,h,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,f,h,g);default:if(B)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),B=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(f,h,g){return h===0&&g===f.length?t.fromByteArray(f):t.fromByteArray(f.slice(h,g))}function Y(f,h,g){g=Math.min(f.length,g);let R=[],L=h;for(;L<g;){let B=f[L],bt=null,Dt=B>239?4:B>223?3:B>191?2:1;if(L+Dt<=g){let j,Vt,$t,jt;switch(Dt){case 1:B<128&&(bt=B);break;case 2:j=f[L+1],(j&192)===128&&(jt=(B&31)<<6|j&63,jt>127&&(bt=jt));break;case 3:j=f[L+1],Vt=f[L+2],(j&192)===128&&(Vt&192)===128&&(jt=(B&15)<<12|(j&63)<<6|Vt&63,jt>2047&&(jt<55296||jt>57343)&&(bt=jt));break;case 4:j=f[L+1],Vt=f[L+2],$t=f[L+3],(j&192)===128&&(Vt&192)===128&&($t&192)===128&&(jt=(B&15)<<18|(j&63)<<12|(Vt&63)<<6|$t&63,jt>65535&&jt<1114112&&(bt=jt))}}bt===null?(bt=65533,Dt=1):bt>65535&&(bt-=65536,R.push(bt>>>10&1023|55296),bt=56320|bt&1023),R.push(bt),L+=Dt}return pt(R)}let Et=4096;function pt(f){let h=f.length;if(h<=Et)return String.fromCharCode.apply(String,f);let g="",R=0;for(;R<h;)g+=String.fromCharCode.apply(String,f.slice(R,R+=Et));return g}function It(f,h,g){let R="";g=Math.min(f.length,g);for(let L=h;L<g;++L)R+=String.fromCharCode(f[L]&127);return R}function Tt(f,h,g){let R="";g=Math.min(f.length,g);for(let L=h;L<g;++L)R+=String.fromCharCode(f[L]);return R}function Q(f,h,g){let R=f.length;(!h||h<0)&&(h=0),(!g||g<0||g>R)&&(g=R);let L="";for(let B=h;B<g;++B)L+=X[f[B]];return L}function ut(f,h,g){let R=f.slice(h,g),L="";for(let B=0;B<R.length-1;B+=2)L+=String.fromCharCode(R[B]+R[B+1]*256);return L}n.prototype.slice=function(f,h){let g=this.length;f=~~f,h=h===void 0?g:~~h,f<0?(f+=g,f<0&&(f=0)):f>g&&(f=g),h<0?(h+=g,h<0&&(h=0)):h>g&&(h=g),h<f&&(h=f);let R=this.subarray(f,h);return Object.setPrototypeOf(R,n.prototype),R};function mt(f,h,g){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+h>g)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(f,h,g){f=f>>>0,h=h>>>0,g||mt(f,h,this.length);let R=this[f],L=1,B=0;for(;++B<h&&(L*=256);)R+=this[f+B]*L;return R},n.prototype.readUintBE=n.prototype.readUIntBE=function(f,h,g){f=f>>>0,h=h>>>0,g||mt(f,h,this.length);let R=this[f+--h],L=1;for(;h>0&&(L*=256);)R+=this[f+--h]*L;return R},n.prototype.readUint8=n.prototype.readUInt8=function(f,h){return f=f>>>0,h||mt(f,1,this.length),this[f]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||mt(f,2,this.length),this[f]|this[f+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||mt(f,2,this.length),this[f]<<8|this[f+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||mt(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||mt(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},n.prototype.readBigUInt64LE=st(function(f){f=f>>>0,nt(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&ht(f,this.length-8);let R=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,L=this[++f]+this[++f]*2**8+this[++f]*2**16+g*2**24;return BigInt(R)+(BigInt(L)<<BigInt(32))}),n.prototype.readBigUInt64BE=st(function(f){f=f>>>0,nt(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&ht(f,this.length-8);let R=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],L=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g;return(BigInt(R)<<BigInt(32))+BigInt(L)}),n.prototype.readIntLE=function(f,h,g){f=f>>>0,h=h>>>0,g||mt(f,h,this.length);let R=this[f],L=1,B=0;for(;++B<h&&(L*=256);)R+=this[f+B]*L;return L*=128,R>=L&&(R-=Math.pow(2,8*h)),R},n.prototype.readIntBE=function(f,h,g){f=f>>>0,h=h>>>0,g||mt(f,h,this.length);let R=h,L=1,B=this[f+--R];for(;R>0&&(L*=256);)B+=this[f+--R]*L;return L*=128,B>=L&&(B-=Math.pow(2,8*h)),B},n.prototype.readInt8=function(f,h){return f=f>>>0,h||mt(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},n.prototype.readInt16LE=function(f,h){f=f>>>0,h||mt(f,2,this.length);let g=this[f]|this[f+1]<<8;return g&32768?g|4294901760:g},n.prototype.readInt16BE=function(f,h){f=f>>>0,h||mt(f,2,this.length);let g=this[f+1]|this[f]<<8;return g&32768?g|4294901760:g},n.prototype.readInt32LE=function(f,h){return f=f>>>0,h||mt(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},n.prototype.readInt32BE=function(f,h){return f=f>>>0,h||mt(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},n.prototype.readBigInt64LE=st(function(f){f=f>>>0,nt(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&ht(f,this.length-8);let R=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(g<<24);return(BigInt(R)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),n.prototype.readBigInt64BE=st(function(f){f=f>>>0,nt(f,"offset");let h=this[f],g=this[f+7];(h===void 0||g===void 0)&&ht(f,this.length-8);let R=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(R)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+g)}),n.prototype.readFloatLE=function(f,h){return f=f>>>0,h||mt(f,4,this.length),o.read(this,f,!0,23,4)},n.prototype.readFloatBE=function(f,h){return f=f>>>0,h||mt(f,4,this.length),o.read(this,f,!1,23,4)},n.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||mt(f,8,this.length),o.read(this,f,!0,52,8)},n.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||mt(f,8,this.length),o.read(this,f,!1,52,8)};function _t(f,h,g,R,L,B){if(!n.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>L||h<B)throw new RangeError('"value" argument is out of bounds');if(g+R>f.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(f,h,g,R){if(f=+f,h=h>>>0,g=g>>>0,!R){let bt=Math.pow(2,8*g)-1;_t(this,f,h,g,bt,0)}let L=1,B=0;for(this[h]=f&255;++B<g&&(L*=256);)this[h+B]=f/L&255;return h+g},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(f,h,g,R){if(f=+f,h=h>>>0,g=g>>>0,!R){let bt=Math.pow(2,8*g)-1;_t(this,f,h,g,bt,0)}let L=g-1,B=1;for(this[h+L]=f&255;--L>=0&&(B*=256);)this[h+L]=f/B&255;return h+g},n.prototype.writeUint8=n.prototype.writeUInt8=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,1,255,0),this[h]=f&255,h+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function M(f,h,g,R,L){et(h,R,L,f,g,7);let B=Number(h&BigInt(4294967295));f[g++]=B,B=B>>8,f[g++]=B,B=B>>8,f[g++]=B,B=B>>8,f[g++]=B;let bt=Number(h>>BigInt(32)&BigInt(4294967295));return f[g++]=bt,bt=bt>>8,f[g++]=bt,bt=bt>>8,f[g++]=bt,bt=bt>>8,f[g++]=bt,g}function ct(f,h,g,R,L){et(h,R,L,f,g,7);let B=Number(h&BigInt(4294967295));f[g+7]=B,B=B>>8,f[g+6]=B,B=B>>8,f[g+5]=B,B=B>>8,f[g+4]=B;let bt=Number(h>>BigInt(32)&BigInt(4294967295));return f[g+3]=bt,bt=bt>>8,f[g+2]=bt,bt=bt>>8,f[g+1]=bt,bt=bt>>8,f[g]=bt,g+8}n.prototype.writeBigUInt64LE=st(function(f,h=0){return M(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=st(function(f,h=0){return ct(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(f,h,g,R){if(f=+f,h=h>>>0,!R){let Dt=Math.pow(2,8*g-1);_t(this,f,h,g,Dt-1,-Dt)}let L=0,B=1,bt=0;for(this[h]=f&255;++L<g&&(B*=256);)f<0&&bt===0&&this[h+L-1]!==0&&(bt=1),this[h+L]=(f/B>>0)-bt&255;return h+g},n.prototype.writeIntBE=function(f,h,g,R){if(f=+f,h=h>>>0,!R){let Dt=Math.pow(2,8*g-1);_t(this,f,h,g,Dt-1,-Dt)}let L=g-1,B=1,bt=0;for(this[h+L]=f&255;--L>=0&&(B*=256);)f<0&&bt===0&&this[h+L+1]!==0&&(bt=1),this[h+L]=(f/B>>0)-bt&255;return h+g},n.prototype.writeInt8=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},n.prototype.writeInt16LE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},n.prototype.writeInt16BE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},n.prototype.writeInt32LE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},n.prototype.writeInt32BE=function(f,h,g){return f=+f,h=h>>>0,g||_t(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},n.prototype.writeBigInt64LE=st(function(f,h=0){return M(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=st(function(f,h=0){return ct(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function kt(f,h,g,R,L,B){if(g+R>f.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("Index out of range")}function Wt(f,h,g,R,L){return h=+h,g=g>>>0,L||kt(f,h,g,4),o.write(f,h,g,R,23,4),g+4}n.prototype.writeFloatLE=function(f,h,g){return Wt(this,f,h,!0,g)},n.prototype.writeFloatBE=function(f,h,g){return Wt(this,f,h,!1,g)};function rt(f,h,g,R,L){return h=+h,g=g>>>0,L||kt(f,h,g,8),o.write(f,h,g,R,52,8),g+8}n.prototype.writeDoubleLE=function(f,h,g){return rt(this,f,h,!0,g)},n.prototype.writeDoubleBE=function(f,h,g){return rt(this,f,h,!1,g)},n.prototype.copy=function(f,h,g,R){if(!n.isBuffer(f))throw new TypeError("argument should be a Buffer");if(g||(g=0),!R&&R!==0&&(R=this.length),h>=f.length&&(h=f.length),h||(h=0),R>0&&R<g&&(R=g),R===g||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),f.length-h<R-g&&(R=f.length-h+g);let L=R-g;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,g,R):Uint8Array.prototype.set.call(f,this.subarray(g,R),h),L},n.prototype.fill=function(f,h,g,R){if(typeof f=="string"){if(typeof h=="string"?(R=h,h=0,g=this.length):typeof g=="string"&&(R=g,g=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!n.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(f.length===1){let B=f.charCodeAt(0);(R==="utf8"&&B<128||R==="latin1")&&(f=B)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<g)throw new RangeError("Out of range index");if(g<=h)return this;h=h>>>0,g=g===void 0?this.length:g>>>0,f||(f=0);let L;if(typeof f=="number")for(L=h;L<g;++L)this[L]=f;else{let B=n.isBuffer(f)?f:n.from(f,R),bt=B.length;if(bt===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(L=0;L<g-h;++L)this[L+h]=B[L%bt]}return this};let I={};function k(f,h,g){I[f]=class extends g{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}k("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(f,h){return`The "${f}" argument must be of type number. Received type ${typeof h}`},TypeError),k("ERR_OUT_OF_RANGE",function(f,h,g){let R=`The value of "${f}" is out of range.`,L=g;return Number.isInteger(g)&&Math.abs(g)>2**32?L=G(String(g)):typeof g=="bigint"&&(L=String(g),(g>BigInt(2)**BigInt(32)||g<-(BigInt(2)**BigInt(32)))&&(L=G(L)),L+="n"),R+=` It must be ${h}. Received ${L}`,R},RangeError);function G(f){let h="",g=f.length,R=f[0]==="-"?1:0;for(;g>=R+4;g-=3)h=`_${f.slice(g-3,g)}${h}`;return`${f.slice(0,g)}${h}`}function at(f,h,g){nt(h,"offset"),(f[h]===void 0||f[h+g]===void 0)&&ht(h,f.length-(g+1))}function et(f,h,g,R,L,B){if(f>g||f<h){let bt=typeof h=="bigint"?"n":"",Dt;throw h===0||h===BigInt(0)?Dt=`>= 0${bt} and < 2${bt} ** ${(B+1)*8}${bt}`:Dt=`>= -(2${bt} ** ${(B+1)*8-1}${bt}) and < 2 ** ${(B+1)*8-1}${bt}`,new I.ERR_OUT_OF_RANGE("value",Dt,f)}at(R,L,B)}function nt(f,h){if(typeof f!="number")throw new I.ERR_INVALID_ARG_TYPE(h,"number",f)}function ht(f,h,g){throw Math.floor(f)!==f?(nt(f,g),new I.ERR_OUT_OF_RANGE("offset","an integer",f)):h<0?new I.ERR_BUFFER_OUT_OF_BOUNDS:new I.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,f)}let wt=/[^+/0-9A-Za-z-_]/g;function x(f){if(f=f.split("=")[0],f=f.trim().replace(wt,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function J(f,h){h=h||1/0;let g,R=f.length,L=null,B=[];for(let bt=0;bt<R;++bt){if(g=f.charCodeAt(bt),g>55295&&g<57344){if(!L){if(g>56319){(h-=3)>-1&&B.push(239,191,189);continue}else if(bt+1===R){(h-=3)>-1&&B.push(239,191,189);continue}L=g;continue}if(g<56320){(h-=3)>-1&&B.push(239,191,189),L=g;continue}g=(L-55296<<10|g-56320)+65536}else L&&(h-=3)>-1&&B.push(239,191,189);if(L=null,g<128){if((h-=1)<0)break;B.push(g)}else if(g<2048){if((h-=2)<0)break;B.push(g>>6|192,g&63|128)}else if(g<65536){if((h-=3)<0)break;B.push(g>>12|224,g>>6&63|128,g&63|128)}else if(g<1114112){if((h-=4)<0)break;B.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}else throw new Error("Invalid code point")}return B}function Z(f){let h=[];for(let g=0;g<f.length;++g)h.push(f.charCodeAt(g)&255);return h}function yt(f,h){let g,R,L,B=[];for(let bt=0;bt<f.length&&!((h-=2)<0);++bt)g=f.charCodeAt(bt),R=g>>8,L=g%256,B.push(L),B.push(R);return B}function ft(f){return t.toByteArray(x(f))}function U(f,h,g,R){let L;for(L=0;L<R&&!(L+g>=h.length||L>=f.length);++L)h[L+g]=f[L];return L}function ot(f,h){return f instanceof h||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===h.name}function W(f){return f!==f}let X=function(){let f="0123456789abcdef",h=new Array(256);for(let g=0;g<16;++g){let R=g*16;for(let L=0;L<16;++L)h[R+L]=f[g]+f[L]}return h}();function st(f){return typeof BigInt>"u"?St:f}function St(){throw new Error("BigInt not supported")}return Er}var Zr,En,uo,_n,Er,Sn,ar,jo,pa,ua,Re=Me(()=>{Ot(),Bt(),Mt(),Zr={},En=!1,uo={},_n=!1,Er={},Sn=!1,ar=jp(),ar.Buffer,ar.SlowBuffer,ar.INSPECT_MAX_BYTES,ar.kMaxLength,jo=ar.Buffer,pa=ar.INSPECT_MAX_BYTES,ua=ar.kMaxLength}),Bt=Me(()=>{Re()}),Dp=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(e){this.aliasToTopic={},this.max=e}put(e,p){return p===0||p>this.max?!1:(this.aliasToTopic[p]=e,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(e){return this.aliasToTopic[e]}clear(){this.aliasToTopic={}}};t.default=o}),Ie=xt((t,o)=>{Ot(),Bt(),Mt(),o.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,p){return e.includes(p)},ArrayPrototypeIndexOf(e,p){return e.indexOf(p)},ArrayPrototypeJoin(e,p){return e.join(p)},ArrayPrototypeMap(e,p){return e.map(p)},ArrayPrototypePop(e,p){return e.pop(p)},ArrayPrototypePush(e,p){return e.push(p)},ArrayPrototypeSlice(e,p,d){return e.slice(p,d)},Error,FunctionPrototypeCall(e,p,...d){return e.call(p,...d)},FunctionPrototypeSymbolHasInstance(e,p){return Function.prototype[Symbol.hasInstance].call(e,p)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,p){return Object.defineProperties(e,p)},ObjectDefineProperty(e,p,d){return Object.defineProperty(e,p,d)},ObjectGetOwnPropertyDescriptor(e,p){return Object.getOwnPropertyDescriptor(e,p)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,p){return Object.setPrototypeOf(e,p)},Promise,PromisePrototypeCatch(e,p){return e.catch(p)},PromisePrototypeThen(e,p,d){return e.then(p,d)},PromiseReject(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,p){return e.test(p)},SafeSet:Set,String,StringPrototypeSlice(e,p,d){return e.slice(p,d)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(e,p,d){return e.set(p,d)},Uint8Array}}),hr=xt((t,o)=>{Ot(),Bt(),Mt();var e=(Re(),le(Be)),p=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||e.Blob,s=typeof d<"u"?function(u){return u instanceof d}:function(u){return!1},n=class extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let l="";for(let c=0;c<u.length;c++)l+=`    ${u[c].stack}
`;super(l),this.name="AggregateError",this.errors=u}};o.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(u){let l=!1;return function(...c){l||(l=!0,u.apply(this,c))}},createDeferredPromise:function(){let u,l;return{promise:new Promise((c,m)=>{u=c,l=m}),resolve:u,reject:l}},promisify(u){return new Promise((l,c)=>{u((m,...v)=>m?c(m):l(...v))})},debuglog(){return function(){}},format(u,...l){return u.replace(/%([sdifj])/g,function(...[c,m]){let v=l.shift();return m==="f"?v.toFixed(6):m==="j"?JSON.stringify(v):m==="s"&&typeof v=="object"?`${v.constructor!==Object?v.constructor.name:""} {}`.trim():v.toString()})},inspect(u){switch(typeof u){case"string":if(u.includes("'"))if(u.includes('"')){if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}else return`"${u}"`;return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}},types:{isAsyncFunction(u){return u instanceof p},isArrayBufferView(u){return ArrayBuffer.isView(u)}},isBlob:s},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Hn=xt((t,o)=>{Ot(),Bt(),Mt();var{AbortController:e,AbortSignal:p}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=e,o.exports.AbortSignal=p,o.exports.default=e}),We=xt((t,o)=>{Ot(),Bt(),Mt();var{format:e,inspect:p,AggregateError:d}=hr(),s=globalThis.AggregateError||d,n=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,c="__node_internal_",m={};function v(P,C){if(!P)throw new m.ERR_INTERNAL_ASSERTION(C)}function b(P){let C="",H=P.length,tt=P[0]==="-"?1:0;for(;H>=tt+4;H-=3)C=`_${P.slice(H-3,H)}${C}`;return`${P.slice(0,H)}${C}`}function w(P,C,H){if(typeof C=="function")return v(C.length<=H.length,`Code: ${P}; The provided arguments length (${H.length}) does not match the required ones (${C.length}).`),C(...H);let tt=(C.match(/%[dfijoOs]/g)||[]).length;return v(tt===H.length,`Code: ${P}; The provided arguments length (${H.length}) does not match the required ones (${tt}).`),H.length===0?C:e(C,...H)}function E(P,C,H){H||(H=Error);class tt extends H{constructor(...S){super(w(P,C,S))}toString(){return`${this.name} [${P}]: ${this.message}`}}Object.defineProperties(tt.prototype,{name:{value:H.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${P}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),tt.prototype.code=P,tt.prototype[n]=!0,m[P]=tt}function O(P){let C=c+P.name;return Object.defineProperty(P,"name",{value:C}),P}function N(P,C){if(P&&C&&P!==C){if(Array.isArray(C.errors))return C.errors.push(P),C;let H=new s([C,P],C.message);return H.code=C.code,H}return P||C}var $=class extends Error{constructor(P="The operation was aborted",C=void 0){if(C!==void 0&&typeof C!="object")throw new m.ERR_INVALID_ARG_TYPE("options","Object",C);super(P,C),this.code="ABORT_ERR",this.name="AbortError"}};E("ERR_ASSERTION","%s",Error),E("ERR_INVALID_ARG_TYPE",(P,C,H)=>{v(typeof P=="string","'name' must be a string"),Array.isArray(C)||(C=[C]);let tt="The ";P.endsWith(" argument")?tt+=`${P} `:tt+=`"${P}" ${P.includes(".")?"property":"argument"} `,tt+="must be ";let D=[],S=[],K=[];for(let z of C)v(typeof z=="string","All expected entries have to be of type string"),u.includes(z)?D.push(z.toLowerCase()):l.test(z)?S.push(z):(v(z!=="object",'The value "object" should be written as "Object"'),K.push(z));if(S.length>0){let z=D.indexOf("object");z!==-1&&(D.splice(D,z,1),S.push("Object"))}if(D.length>0){switch(D.length){case 1:tt+=`of type ${D[0]}`;break;case 2:tt+=`one of type ${D[0]} or ${D[1]}`;break;default:{let z=D.pop();tt+=`one of type ${D.join(", ")}, or ${z}`}}(S.length>0||K.length>0)&&(tt+=" or ")}if(S.length>0){switch(S.length){case 1:tt+=`an instance of ${S[0]}`;break;case 2:tt+=`an instance of ${S[0]} or ${S[1]}`;break;default:{let z=S.pop();tt+=`an instance of ${S.join(", ")}, or ${z}`}}K.length>0&&(tt+=" or ")}switch(K.length){case 0:break;case 1:K[0].toLowerCase()!==K[0]&&(tt+="an "),tt+=`${K[0]}`;break;case 2:tt+=`one of ${K[0]} or ${K[1]}`;break;default:{let z=K.pop();tt+=`one of ${K.join(", ")}, or ${z}`}}if(H==null)tt+=`. Received ${H}`;else if(typeof H=="function"&&H.name)tt+=`. Received function ${H.name}`;else if(typeof H=="object"){var it;if((it=H.constructor)!==null&&it!==void 0&&it.name)tt+=`. Received an instance of ${H.constructor.name}`;else{let z=p(H,{depth:-1});tt+=`. Received ${z}`}}else{let z=p(H,{colors:!1});z.length>25&&(z=`${z.slice(0,25)}...`),tt+=`. Received type ${typeof H} (${z})`}return tt},TypeError),E("ERR_INVALID_ARG_VALUE",(P,C,H="is invalid")=>{let tt=p(C);return tt.length>128&&(tt=tt.slice(0,128)+"..."),`The ${P.includes(".")?"property":"argument"} '${P}' ${H}. Received ${tt}`},TypeError),E("ERR_INVALID_RETURN_VALUE",(P,C,H)=>{var tt;let D=H!=null&&(tt=H.constructor)!==null&&tt!==void 0&&tt.name?`instance of ${H.constructor.name}`:`type ${typeof H}`;return`Expected ${P} to be returned from the "${C}" function but got ${D}.`},TypeError),E("ERR_MISSING_ARGS",(...P)=>{v(P.length>0,"At least one arg needs to be specified");let C,H=P.length;switch(P=(Array.isArray(P)?P:[P]).map(tt=>`"${tt}"`).join(" or "),H){case 1:C+=`The ${P[0]} argument`;break;case 2:C+=`The ${P[0]} and ${P[1]} arguments`;break;default:{let tt=P.pop();C+=`The ${P.join(", ")}, and ${tt} arguments`}break}return`${C} must be specified`},TypeError),E("ERR_OUT_OF_RANGE",(P,C,H)=>{v(C,'Missing "range" argument');let tt;return Number.isInteger(H)&&Math.abs(H)>2**32?tt=b(String(H)):typeof H=="bigint"?(tt=String(H),(H>2n**32n||H<-(2n**32n))&&(tt=b(tt)),tt+="n"):tt=p(H),`The value of "${P}" is out of range. It must be ${C}. Received ${tt}`},RangeError),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),E("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),E("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),E("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),E("ERR_STREAM_WRITE_AFTER_END","write after end",Error),E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:$,aggregateTwoErrors:O(N),hideStackFrames:O,codes:m}}),Vo=xt((t,o)=>{Ot(),Bt(),Mt();var{ArrayIsArray:e,ArrayPrototypeIncludes:p,ArrayPrototypeJoin:d,ArrayPrototypeMap:s,NumberIsInteger:n,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:c,NumberParseInt:m,ObjectPrototypeHasOwnProperty:v,RegExpPrototypeExec:b,String:w,StringPrototypeToUpperCase:E,StringPrototypeTrim:O}=Ie(),{hideStackFrames:N,codes:{ERR_SOCKET_BAD_PORT:$,ERR_INVALID_ARG_TYPE:P,ERR_INVALID_ARG_VALUE:C,ERR_OUT_OF_RANGE:H,ERR_UNKNOWN_SIGNAL:tt}}=We(),{normalizeEncoding:D}=hr(),{isAsyncFunction:S,isArrayBufferView:K}=hr().types,it={};function z(U){return U===(U|0)}function lt(U){return U===U>>>0}var A=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function Et(U,ot,W){if(typeof U>"u"&&(U=W),typeof U=="string"){if(b(A,U)===null)throw new C(ot,U,Y);U=m(U,8)}return Tt(U,ot),U}var pt=N((U,ot,W=c,X=l)=>{if(typeof U!="number")throw new P(ot,"number",U);if(!n(U))throw new H(ot,"an integer",U);if(U<W||U>X)throw new H(ot,`>= ${W} && <= ${X}`,U)}),It=N((U,ot,W=-2147483648,X=2147483647)=>{if(typeof U!="number")throw new P(ot,"number",U);if(!n(U))throw new H(ot,"an integer",U);if(U<W||U>X)throw new H(ot,`>= ${W} && <= ${X}`,U)}),Tt=N((U,ot,W=!1)=>{if(typeof U!="number")throw new P(ot,"number",U);if(!n(U))throw new H(ot,"an integer",U);let X=W?1:0,st=4294967295;if(U<X||U>st)throw new H(ot,`>= ${X} && <= ${st}`,U)});function Q(U,ot){if(typeof U!="string")throw new P(ot,"string",U)}function ut(U,ot,W=void 0,X){if(typeof U!="number")throw new P(ot,"number",U);if(W!=null&&U<W||X!=null&&U>X||(W!=null||X!=null)&&u(U))throw new H(ot,`${W!=null?`>= ${W}`:""}${W!=null&&X!=null?" && ":""}${X!=null?`<= ${X}`:""}`,U)}var mt=N((U,ot,W)=>{if(!p(W,U)){let X="must be one of: "+d(s(W,st=>typeof st=="string"?`'${st}'`:w(st)),", ");throw new C(ot,U,X)}});function _t(U,ot){if(typeof U!="boolean")throw new P(ot,"boolean",U)}function M(U,ot,W){return U==null||!v(U,ot)?W:U[ot]}var ct=N((U,ot,W=null)=>{let X=M(W,"allowArray",!1),st=M(W,"allowFunction",!1);if(!M(W,"nullable",!1)&&U===null||!X&&e(U)||typeof U!="object"&&(!st||typeof U!="function"))throw new P(ot,"Object",U)}),kt=N((U,ot)=>{if(U!=null&&typeof U!="object"&&typeof U!="function")throw new P(ot,"a dictionary",U)}),Wt=N((U,ot,W=0)=>{if(!e(U))throw new P(ot,"Array",U);if(U.length<W){let X=`must be longer than ${W}`;throw new C(ot,U,X)}});function rt(U,ot){Wt(U,ot);for(let W=0;W<U.length;W++)Q(U[W],`${ot}[${W}]`)}function I(U,ot){Wt(U,ot);for(let W=0;W<U.length;W++)_t(U[W],`${ot}[${W}]`)}function k(U,ot="signal"){if(Q(U,ot),it[U]===void 0)throw it[E(U)]!==void 0?new tt(U+" (signals must use all capital letters)"):new tt(U)}var G=N((U,ot="buffer")=>{if(!K(U))throw new P(ot,["Buffer","TypedArray","DataView"],U)});function at(U,ot){let W=D(ot),X=U.length;if(W==="hex"&&X%2!==0)throw new C("encoding",ot,`is invalid for data of length ${X}`)}function et(U,ot="Port",W=!0){if(typeof U!="number"&&typeof U!="string"||typeof U=="string"&&O(U).length===0||+U!==+U>>>0||U>65535||U===0&&!W)throw new $(ot,U,W);return U|0}var nt=N((U,ot)=>{if(U!==void 0&&(U===null||typeof U!="object"||!("aborted"in U)))throw new P(ot,"AbortSignal",U)}),ht=N((U,ot)=>{if(typeof U!="function")throw new P(ot,"Function",U)}),wt=N((U,ot)=>{if(typeof U!="function"||S(U))throw new P(ot,"Function",U)}),x=N((U,ot)=>{if(U!==void 0)throw new P(ot,"undefined",U)});function J(U,ot,W){if(!p(W,U))throw new P(ot,`('${d(W,"|")}')`,U)}var Z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function yt(U,ot){if(typeof U>"u"||!b(Z,U))throw new C(ot,U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ft(U){if(typeof U=="string")return yt(U,"hints"),U;if(e(U)){let ot=U.length,W="";if(ot===0)return W;for(let X=0;X<ot;X++){let st=U[X];yt(st,"hints"),W+=st,X!==ot-1&&(W+=", ")}return W}throw new C("hints",U,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:z,isUint32:lt,parseFileMode:Et,validateArray:Wt,validateStringArray:rt,validateBooleanArray:I,validateBoolean:_t,validateBuffer:G,validateDictionary:kt,validateEncoding:at,validateFunction:ht,validateInt32:It,validateInteger:pt,validateNumber:ut,validateObject:ct,validateOneOf:mt,validatePlainFunction:wt,validatePort:et,validateSignalName:k,validateString:Q,validateUint32:Tt,validateUndefined:x,validateUnion:J,validateAbortSignal:nt,validateLinkHeaderValue:ft}}),Kr=xt((t,o)=>{Ot(),Bt(),Mt();var e=o.exports={},p,d;function s(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=s}catch{p=s}try{typeof clearTimeout=="function"?d=clearTimeout:d=n}catch{d=n}})();function u($){if(p===setTimeout)return setTimeout($,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout($,0);try{return p($,0)}catch{try{return p.call(null,$,0)}catch{return p.call(this,$,0)}}}function l($){if(d===clearTimeout)return clearTimeout($);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout($);try{return d($)}catch{try{return d.call(null,$)}catch{return d.call(this,$)}}}var c=[],m=!1,v,b=-1;function w(){!m||!v||(m=!1,v.length?c=v.concat(c):b=-1,c.length&&E())}function E(){if(!m){var $=u(w);m=!0;for(var P=c.length;P;){for(v=c,c=[];++b<P;)v&&v[b].run();b=-1,P=c.length}v=null,m=!1,l($)}}e.nextTick=function($){var P=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)P[C-1]=arguments[C];c.push(new O($,P)),c.length===1&&!m&&u(E)};function O($,P){this.fun=$,this.array=P}O.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function N(){}e.on=N,e.addListener=N,e.once=N,e.off=N,e.removeListener=N,e.removeAllListeners=N,e.emit=N,e.prependListener=N,e.prependOnceListener=N,e.listeners=function($){return[]},e.binding=function($){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function($){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}}),yr=xt((t,o)=>{Ot(),Bt(),Mt();var{Symbol:e,SymbolAsyncIterator:p,SymbolIterator:d,SymbolFor:s}=Ie(),n=e("kDestroyed"),u=e("kIsErrored"),l=e("kIsReadable"),c=e("kIsDisturbed"),m=s("nodejs.webstream.isClosedPromise"),v=s("nodejs.webstream.controllerErrorFunction");function b(M,ct=!1){var kt;return!!(M&&typeof M.pipe=="function"&&typeof M.on=="function"&&(!ct||typeof M.pause=="function"&&typeof M.resume=="function")&&(!M._writableState||((kt=M._readableState)===null||kt===void 0?void 0:kt.readable)!==!1)&&(!M._writableState||M._readableState))}function w(M){var ct;return!!(M&&typeof M.write=="function"&&typeof M.on=="function"&&(!M._readableState||((ct=M._writableState)===null||ct===void 0?void 0:ct.writable)!==!1))}function E(M){return!!(M&&typeof M.pipe=="function"&&M._readableState&&typeof M.on=="function"&&typeof M.write=="function")}function O(M){return M&&(M._readableState||M._writableState||typeof M.write=="function"&&typeof M.on=="function"||typeof M.pipe=="function"&&typeof M.on=="function")}function N(M){return!!(M&&!O(M)&&typeof M.pipeThrough=="function"&&typeof M.getReader=="function"&&typeof M.cancel=="function")}function $(M){return!!(M&&!O(M)&&typeof M.getWriter=="function"&&typeof M.abort=="function")}function P(M){return!!(M&&!O(M)&&typeof M.readable=="object"&&typeof M.writable=="object")}function C(M){return N(M)||$(M)||P(M)}function H(M,ct){return M==null?!1:ct===!0?typeof M[p]=="function":ct===!1?typeof M[d]=="function":typeof M[p]=="function"||typeof M[d]=="function"}function tt(M){if(!O(M))return null;let ct=M._writableState,kt=M._readableState,Wt=ct||kt;return!!(M.destroyed||M[n]||Wt!=null&&Wt.destroyed)}function D(M){if(!w(M))return null;if(M.writableEnded===!0)return!0;let ct=M._writableState;return ct!=null&&ct.errored?!1:typeof(ct==null?void 0:ct.ended)!="boolean"?null:ct.ended}function S(M,ct){if(!w(M))return null;if(M.writableFinished===!0)return!0;let kt=M._writableState;return kt!=null&&kt.errored?!1:typeof(kt==null?void 0:kt.finished)!="boolean"?null:!!(kt.finished||ct===!1&&kt.ended===!0&&kt.length===0)}function K(M){if(!b(M))return null;if(M.readableEnded===!0)return!0;let ct=M._readableState;return!ct||ct.errored?!1:typeof(ct==null?void 0:ct.ended)!="boolean"?null:ct.ended}function it(M,ct){if(!b(M))return null;let kt=M._readableState;return kt!=null&&kt.errored?!1:typeof(kt==null?void 0:kt.endEmitted)!="boolean"?null:!!(kt.endEmitted||ct===!1&&kt.ended===!0&&kt.length===0)}function z(M){return M&&M[l]!=null?M[l]:typeof(M==null?void 0:M.readable)!="boolean"?null:tt(M)?!1:b(M)&&M.readable&&!it(M)}function lt(M){return typeof(M==null?void 0:M.writable)!="boolean"?null:tt(M)?!1:w(M)&&M.writable&&!D(M)}function A(M,ct){return O(M)?tt(M)?!0:!((ct==null?void 0:ct.readable)!==!1&&z(M)||(ct==null?void 0:ct.writable)!==!1&&lt(M)):null}function Y(M){var ct,kt;return O(M)?M.writableErrored?M.writableErrored:(ct=(kt=M._writableState)===null||kt===void 0?void 0:kt.errored)!==null&&ct!==void 0?ct:null:null}function Et(M){var ct,kt;return O(M)?M.readableErrored?M.readableErrored:(ct=(kt=M._readableState)===null||kt===void 0?void 0:kt.errored)!==null&&ct!==void 0?ct:null:null}function pt(M){if(!O(M))return null;if(typeof M.closed=="boolean")return M.closed;let ct=M._writableState,kt=M._readableState;return typeof(ct==null?void 0:ct.closed)=="boolean"||typeof(kt==null?void 0:kt.closed)=="boolean"?(ct==null?void 0:ct.closed)||(kt==null?void 0:kt.closed):typeof M._closed=="boolean"&&It(M)?M._closed:null}function It(M){return typeof M._closed=="boolean"&&typeof M._defaultKeepAlive=="boolean"&&typeof M._removedConnection=="boolean"&&typeof M._removedContLen=="boolean"}function Tt(M){return typeof M._sent100=="boolean"&&It(M)}function Q(M){var ct;return typeof M._consuming=="boolean"&&typeof M._dumped=="boolean"&&((ct=M.req)===null||ct===void 0?void 0:ct.upgradeOrConnect)===void 0}function ut(M){if(!O(M))return null;let ct=M._writableState,kt=M._readableState,Wt=ct||kt;return!Wt&&Tt(M)||!!(Wt&&Wt.autoDestroy&&Wt.emitClose&&Wt.closed===!1)}function mt(M){var ct;return!!(M&&((ct=M[c])!==null&&ct!==void 0?ct:M.readableDidRead||M.readableAborted))}function _t(M){var ct,kt,Wt,rt,I,k,G,at,et,nt;return!!(M&&((ct=(kt=(Wt=(rt=(I=(k=M[u])!==null&&k!==void 0?k:M.readableErrored)!==null&&I!==void 0?I:M.writableErrored)!==null&&rt!==void 0?rt:(G=M._readableState)===null||G===void 0?void 0:G.errorEmitted)!==null&&Wt!==void 0?Wt:(at=M._writableState)===null||at===void 0?void 0:at.errorEmitted)!==null&&kt!==void 0?kt:(et=M._readableState)===null||et===void 0?void 0:et.errored)!==null&&ct!==void 0?ct:!((nt=M._writableState)===null||nt===void 0)&&nt.errored))}o.exports={kDestroyed:n,isDisturbed:mt,kIsDisturbed:c,isErrored:_t,kIsErrored:u,isReadable:z,kIsReadable:l,kIsClosedPromise:m,kControllerErrorFunction:v,isClosed:pt,isDestroyed:tt,isDuplexNodeStream:E,isFinished:A,isIterable:H,isReadableNodeStream:b,isReadableStream:N,isReadableEnded:K,isReadableFinished:it,isReadableErrored:Et,isNodeStream:O,isWebStream:C,isWritable:lt,isWritableNodeStream:w,isWritableStream:$,isWritableEnded:D,isWritableFinished:S,isWritableErrored:Y,isServerRequest:Q,isServerResponse:Tt,willEmitClose:ut,isTransformStream:P}}),kr=xt((t,o)=>{Ot(),Bt(),Mt();var e=Kr(),{AbortError:p,codes:d}=We(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:n}=d,{kEmptyObject:u,once:l}=hr(),{validateAbortSignal:c,validateFunction:m,validateObject:v,validateBoolean:b}=Vo(),{Promise:w,PromisePrototypeThen:E}=Ie(),{isClosed:O,isReadable:N,isReadableNodeStream:$,isReadableStream:P,isReadableFinished:C,isReadableErrored:H,isWritable:tt,isWritableNodeStream:D,isWritableStream:S,isWritableFinished:K,isWritableErrored:it,isNodeStream:z,willEmitClose:lt,kIsClosedPromise:A}=yr();function Y(Q){return Q.setHeader&&typeof Q.abort=="function"}var Et=()=>{};function pt(Q,ut,mt){var _t,M;if(arguments.length===2?(mt=ut,ut=u):ut==null?ut=u:v(ut,"options"),m(mt,"callback"),c(ut.signal,"options.signal"),mt=l(mt),P(Q)||S(Q))return It(Q,ut,mt);if(!z(Q))throw new s("stream",["ReadableStream","WritableStream","Stream"],Q);let ct=(_t=ut.readable)!==null&&_t!==void 0?_t:$(Q),kt=(M=ut.writable)!==null&&M!==void 0?M:D(Q),Wt=Q._writableState,rt=Q._readableState,I=()=>{Q.writable||at()},k=lt(Q)&&$(Q)===ct&&D(Q)===kt,G=K(Q,!1),at=()=>{G=!0,Q.destroyed&&(k=!1),!(k&&(!Q.readable||ct))&&(!ct||et)&&mt.call(Q)},et=C(Q,!1),nt=()=>{et=!0,Q.destroyed&&(k=!1),!(k&&(!Q.writable||kt))&&(!kt||G)&&mt.call(Q)},ht=ft=>{mt.call(Q,ft)},wt=O(Q),x=()=>{wt=!0;let ft=it(Q)||H(Q);if(ft&&typeof ft!="boolean")return mt.call(Q,ft);if(ct&&!et&&$(Q,!0)&&!C(Q,!1))return mt.call(Q,new n);if(kt&&!G&&!K(Q,!1))return mt.call(Q,new n);mt.call(Q)},J=()=>{wt=!0;let ft=it(Q)||H(Q);if(ft&&typeof ft!="boolean")return mt.call(Q,ft);mt.call(Q)},Z=()=>{Q.req.on("finish",at)};Y(Q)?(Q.on("complete",at),k||Q.on("abort",x),Q.req?Z():Q.on("request",Z)):kt&&!Wt&&(Q.on("end",I),Q.on("close",I)),!k&&typeof Q.aborted=="boolean"&&Q.on("aborted",x),Q.on("end",nt),Q.on("finish",at),ut.error!==!1&&Q.on("error",ht),Q.on("close",x),wt?e.nextTick(x):Wt!=null&&Wt.errorEmitted||rt!=null&&rt.errorEmitted?k||e.nextTick(J):(!ct&&(!k||N(Q))&&(G||tt(Q)===!1)||!kt&&(!k||tt(Q))&&(et||N(Q)===!1)||rt&&Q.req&&Q.aborted)&&e.nextTick(J);let yt=()=>{mt=Et,Q.removeListener("aborted",x),Q.removeListener("complete",at),Q.removeListener("abort",x),Q.removeListener("request",Z),Q.req&&Q.req.removeListener("finish",at),Q.removeListener("end",I),Q.removeListener("close",I),Q.removeListener("finish",at),Q.removeListener("end",nt),Q.removeListener("error",ht),Q.removeListener("close",x)};if(ut.signal&&!wt){let ft=()=>{let U=mt;yt(),U.call(Q,new p(void 0,{cause:ut.signal.reason}))};if(ut.signal.aborted)e.nextTick(ft);else{let U=mt;mt=l((...ot)=>{ut.signal.removeEventListener("abort",ft),U.apply(Q,ot)}),ut.signal.addEventListener("abort",ft)}}return yt}function It(Q,ut,mt){let _t=!1,M=Et;if(ut.signal)if(M=()=>{_t=!0,mt.call(Q,new p(void 0,{cause:ut.signal.reason}))},ut.signal.aborted)e.nextTick(M);else{let kt=mt;mt=l((...Wt)=>{ut.signal.removeEventListener("abort",M),kt.apply(Q,Wt)}),ut.signal.addEventListener("abort",M)}let ct=(...kt)=>{_t||e.nextTick(()=>mt.apply(Q,kt))};return E(Q[A].promise,ct,ct),Et}function Tt(Q,ut){var mt;let _t=!1;return ut===null&&(ut=u),(mt=ut)!==null&&mt!==void 0&&mt.cleanup&&(b(ut.cleanup,"cleanup"),_t=ut.cleanup),new w((M,ct)=>{let kt=pt(Q,ut,Wt=>{_t&&kt(),Wt?ct(Wt):M()})})}o.exports=pt,o.exports.finished=Tt}),eo=xt((t,o)=>{Ot(),Bt(),Mt();var e=Kr(),{aggregateTwoErrors:p,codes:{ERR_MULTIPLE_CALLBACK:d},AbortError:s}=We(),{Symbol:n}=Ie(),{kDestroyed:u,isDestroyed:l,isFinished:c,isServerRequest:m}=yr(),v=n("kDestroy"),b=n("kConstruct");function w(A,Y,Et){A&&(A.stack,Y&&!Y.errored&&(Y.errored=A),Et&&!Et.errored&&(Et.errored=A))}function E(A,Y){let Et=this._readableState,pt=this._writableState,It=pt||Et;return pt!=null&&pt.destroyed||Et!=null&&Et.destroyed?(typeof Y=="function"&&Y(),this):(w(A,pt,Et),pt&&(pt.destroyed=!0),Et&&(Et.destroyed=!0),It.constructed?O(this,A,Y):this.once(v,function(Tt){O(this,p(Tt,A),Y)}),this)}function O(A,Y,Et){let pt=!1;function It(Tt){if(pt)return;pt=!0;let Q=A._readableState,ut=A._writableState;w(Tt,ut,Q),ut&&(ut.closed=!0),Q&&(Q.closed=!0),typeof Et=="function"&&Et(Tt),Tt?e.nextTick(N,A,Tt):e.nextTick($,A)}try{A._destroy(Y||null,It)}catch(Tt){It(Tt)}}function N(A,Y){P(A,Y),$(A)}function $(A){let Y=A._readableState,Et=A._writableState;Et&&(Et.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(Et!=null&&Et.emitClose||Y!=null&&Y.emitClose)&&A.emit("close")}function P(A,Y){let Et=A._readableState,pt=A._writableState;pt!=null&&pt.errorEmitted||Et!=null&&Et.errorEmitted||(pt&&(pt.errorEmitted=!0),Et&&(Et.errorEmitted=!0),A.emit("error",Y))}function C(){let A=this._readableState,Y=this._writableState;A&&(A.constructed=!0,A.closed=!1,A.closeEmitted=!1,A.destroyed=!1,A.errored=null,A.errorEmitted=!1,A.reading=!1,A.ended=A.readable===!1,A.endEmitted=A.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function H(A,Y,Et){let pt=A._readableState,It=A._writableState;if(It!=null&&It.destroyed||pt!=null&&pt.destroyed)return this;pt!=null&&pt.autoDestroy||It!=null&&It.autoDestroy?A.destroy(Y):Y&&(Y.stack,It&&!It.errored&&(It.errored=Y),pt&&!pt.errored&&(pt.errored=Y),Et?e.nextTick(P,A,Y):P(A,Y))}function tt(A,Y){if(typeof A._construct!="function")return;let Et=A._readableState,pt=A._writableState;Et&&(Et.constructed=!1),pt&&(pt.constructed=!1),A.once(b,Y),!(A.listenerCount(b)>1)&&e.nextTick(D,A)}function D(A){let Y=!1;function Et(pt){if(Y){H(A,pt??new d);return}Y=!0;let It=A._readableState,Tt=A._writableState,Q=Tt||It;It&&(It.constructed=!0),Tt&&(Tt.constructed=!0),Q.destroyed?A.emit(v,pt):pt?H(A,pt,!0):e.nextTick(S,A)}try{A._construct(pt=>{e.nextTick(Et,pt)})}catch(pt){e.nextTick(Et,pt)}}function S(A){A.emit(b)}function K(A){return(A==null?void 0:A.setHeader)&&typeof A.abort=="function"}function it(A){A.emit("close")}function z(A,Y){A.emit("error",Y),e.nextTick(it,A)}function lt(A,Y){!A||l(A)||(!Y&&!c(A)&&(Y=new s),m(A)?(A.socket=null,A.destroy(Y)):K(A)?A.abort():K(A.req)?A.req.abort():typeof A.destroy=="function"?A.destroy(Y):typeof A.close=="function"?A.close():Y?e.nextTick(z,A,Y):e.nextTick(it,A),A.destroyed||(A[u]=!0))}o.exports={construct:tt,destroyer:lt,destroy:E,undestroy:C,errorOrDestroy:H}});function ne(){ne.init.call(this)}function Co(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function ca(t){return t._maxListeners===void 0?ne.defaultMaxListeners:t._maxListeners}function ns(t,o,e,p){var d,s,n,u;if(Co(e),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",o,e.listener?e.listener:e),s=t._events),n=s[o]),n===void 0)n=s[o]=e,++t._eventsCount;else if(typeof n=="function"?n=s[o]=p?[e,n]:[n,e]:p?n.unshift(e):n.push(e),(d=ca(t))>0&&n.length>d&&!n.warned){n.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(o)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=o,l.count=n.length,u=l,console&&console.warn&&console.warn(u)}return t}function Lp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ss(t,o,e){var p={fired:!1,wrapFn:void 0,target:t,type:o,listener:e},d=Lp.bind(p);return d.listener=e,p.wrapFn=d,d}function as(t,o,e){var p=t._events;if(p===void 0)return[];var d=p[o];return d===void 0?[]:typeof d=="function"?e?[d.listener||d]:[d]:e?function(s){for(var n=new Array(s.length),u=0;u<n.length;++u)n[u]=s[u].listener||s[u];return n}(d):da(d,d.length)}function ls(t){var o=this._events;if(o!==void 0){var e=o[t];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}function da(t,o){for(var e=new Array(o),p=0;p<o;++p)e[p]=t[p];return e}var ps,us,Cr,ti,ei,ri,De,cs=Me(()=>{Ot(),Bt(),Mt(),Cr=typeof Reflect=="object"?Reflect:null,ti=Cr&&typeof Cr.apply=="function"?Cr.apply:function(t,o,e){return Function.prototype.apply.call(t,o,e)},us=Cr&&typeof Cr.ownKeys=="function"?Cr.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},ei=Number.isNaN||function(t){return t!=t},ps=ne,ne.EventEmitter=ne,ne.prototype._events=void 0,ne.prototype._eventsCount=0,ne.prototype._maxListeners=void 0,ri=10,Object.defineProperty(ne,"defaultMaxListeners",{enumerable:!0,get:function(){return ri},set:function(t){if(typeof t!="number"||t<0||ei(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ri=t}}),ne.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ne.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ei(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},ne.prototype.getMaxListeners=function(){return ca(this)},ne.prototype.emit=function(t){for(var o=[],e=1;e<arguments.length;e++)o.push(arguments[e]);var p=t==="error",d=this._events;if(d!==void 0)p=p&&d.error===void 0;else if(!p)return!1;if(p){var s;if(o.length>0&&(s=o[0]),s instanceof Error)throw s;var n=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw n.context=s,n}var u=d[t];if(u===void 0)return!1;if(typeof u=="function")ti(u,this,o);else{var l=u.length,c=da(u,l);for(e=0;e<l;++e)ti(c[e],this,o)}return!0},ne.prototype.addListener=function(t,o){return ns(this,t,o,!1)},ne.prototype.on=ne.prototype.addListener,ne.prototype.prependListener=function(t,o){return ns(this,t,o,!0)},ne.prototype.once=function(t,o){return Co(o),this.on(t,ss(this,t,o)),this},ne.prototype.prependOnceListener=function(t,o){return Co(o),this.prependListener(t,ss(this,t,o)),this},ne.prototype.removeListener=function(t,o){var e,p,d,s,n;if(Co(o),(p=this._events)===void 0)return this;if((e=p[t])===void 0)return this;if(e===o||e.listener===o)--this._eventsCount==0?this._events=Object.create(null):(delete p[t],p.removeListener&&this.emit("removeListener",t,e.listener||o));else if(typeof e!="function"){for(d=-1,s=e.length-1;s>=0;s--)if(e[s]===o||e[s].listener===o){n=e[s].listener,d=s;break}if(d<0)return this;d===0?e.shift():function(u,l){for(;l+1<u.length;l++)u[l]=u[l+1];u.pop()}(e,d),e.length===1&&(p[t]=e[0]),p.removeListener!==void 0&&this.emit("removeListener",t,n||o)}return this},ne.prototype.off=ne.prototype.removeListener,ne.prototype.removeAllListeners=function(t){var o,e,p;if((e=this._events)===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var d,s=Object.keys(e);for(p=0;p<s.length;++p)(d=s[p])!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(o=e[t])=="function")this.removeListener(t,o);else if(o!==void 0)for(p=o.length-1;p>=0;p--)this.removeListener(t,o[p]);return this},ne.prototype.listeners=function(t){return as(this,t,!0)},ne.prototype.rawListeners=function(t){return as(this,t,!1)},ne.listenerCount=function(t,o){return typeof t.listenerCount=="function"?t.listenerCount(o):ls.call(t,o)},ne.prototype.listenerCount=ls,ne.prototype.eventNames=function(){return this._eventsCount>0?us(this._events):[]},De=ps,De.EventEmitter,De.defaultMaxListeners,De.init,De.listenerCount,De.EventEmitter,De.defaultMaxListeners,De.init,De.listenerCount}),Yr={};qr(Yr,{EventEmitter:()=>ha,default:()=>De,defaultMaxListeners:()=>fa,init:()=>ma,listenerCount:()=>ya,on:()=>ga,once:()=>va});var ha,fa,ma,ya,ga,va,ro=Me(()=>{Ot(),Bt(),Mt(),cs(),cs(),De.once=function(t,o){return new Promise((e,p)=>{function d(...n){s!==void 0&&t.removeListener("error",s),e(n)}let s;o!=="error"&&(s=n=>{t.removeListener(name,d),p(n)},t.once("error",s)),t.once(o,d)})},De.on=function(t,o){let e=[],p=[],d=null,s=!1,n={async next(){let c=e.shift();if(c)return createIterResult(c,!1);if(d){let m=Promise.reject(d);return d=null,m}return s?createIterResult(void 0,!0):new Promise((m,v)=>p.push({resolve:m,reject:v}))},async return(){t.removeListener(o,u),t.removeListener("error",l),s=!0;for(let c of p)c.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(c){d=c,t.removeListener(o,u),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(o,u),t.on("error",l),n;function u(...c){let m=p.shift();m?m.resolve(createIterResult(c,!1)):e.push(c)}function l(c){s=!0;let m=p.shift();m?m.reject(c):d=c,n.return()}},{EventEmitter:ha,defaultMaxListeners:fa,init:ma,listenerCount:ya,on:ga,once:va}=De}),qn=xt((t,o)=>{Ot(),Bt(),Mt();var{ArrayIsArray:e,ObjectSetPrototypeOf:p}=Ie(),{EventEmitter:d}=(ro(),le(Yr));function s(u){d.call(this,u)}p(s.prototype,d.prototype),p(s,d),s.prototype.pipe=function(u,l){let c=this;function m($){u.writable&&u.write($)===!1&&c.pause&&c.pause()}c.on("data",m);function v(){c.readable&&c.resume&&c.resume()}u.on("drain",v),!u._isStdio&&(!l||l.end!==!1)&&(c.on("end",w),c.on("close",E));let b=!1;function w(){b||(b=!0,u.end())}function E(){b||(b=!0,typeof u.destroy=="function"&&u.destroy())}function O($){N(),d.listenerCount(this,"error")===0&&this.emit("error",$)}n(c,"error",O),n(u,"error",O);function N(){c.removeListener("data",m),u.removeListener("drain",v),c.removeListener("end",w),c.removeListener("close",E),c.removeListener("error",O),u.removeListener("error",O),c.removeListener("end",N),c.removeListener("close",N),u.removeListener("close",N)}return c.on("end",N),c.on("close",N),u.on("close",N),u.emit("pipe",c),u};function n(u,l,c){if(typeof u.prependListener=="function")return u.prependListener(l,c);!u._events||!u._events[l]?u.on(l,c):e(u._events[l])?u._events[l].unshift(c):u._events[l]=[c,u._events[l]]}o.exports={Stream:s,prependListener:n}}),Go=xt((t,o)=>{Ot(),Bt(),Mt();var{AbortError:e,codes:p}=We(),{isNodeStream:d,isWebStream:s,kControllerErrorFunction:n}=yr(),u=kr(),{ERR_INVALID_ARG_TYPE:l}=p,c=(m,v)=>{if(typeof m!="object"||!("aborted"in m))throw new l(v,"AbortSignal",m)};o.exports.addAbortSignal=function(m,v){if(c(m,"signal"),!d(v)&&!s(v))throw new l("stream",["ReadableStream","WritableStream","Stream"],v);return o.exports.addAbortSignalNoValidate(m,v)},o.exports.addAbortSignalNoValidate=function(m,v){if(typeof m!="object"||!("aborted"in m))return v;let b=d(v)?()=>{v.destroy(new e(void 0,{cause:m.reason}))}:()=>{v[n](new e(void 0,{cause:m.reason}))};return m.aborted?b():(m.addEventListener("abort",b),u(v,()=>m.removeEventListener("abort",b))),v}}),Up=xt((t,o)=>{Ot(),Bt(),Mt();var{StringPrototypeSlice:e,SymbolIterator:p,TypedArrayPrototypeSet:d,Uint8Array:s}=Ie(),{Buffer:n}=(Re(),le(Be)),{inspect:u}=hr();o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let c={data:l,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(l){let c={data:l,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let c=this.head,m=""+c.data;for(;(c=c.next)!==null;)m+=l+c.data;return m}concat(l){if(this.length===0)return n.alloc(0);let c=n.allocUnsafe(l>>>0),m=this.head,v=0;for(;m;)d(c,m.data,v),v+=m.data.length,m=m.next;return c}consume(l,c){let m=this.head.data;if(l<m.length){let v=m.slice(0,l);return this.head.data=m.slice(l),v}return l===m.length?this.shift():c?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[p](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let c="",m=this.head,v=0;do{let b=m.data;if(l>b.length)c+=b,l-=b.length;else{l===b.length?(c+=b,++v,m.next?this.head=m.next:this.head=this.tail=null):(c+=e(b,0,l),this.head=m,m.data=e(b,l));break}++v}while((m=m.next)!==null);return this.length-=v,c}_getBuffer(l){let c=n.allocUnsafe(l),m=l,v=this.head,b=0;do{let w=v.data;if(l>w.length)d(c,w,m-l),l-=w.length;else{l===w.length?(d(c,w,m-l),++b,v.next?this.head=v.next:this.head=this.tail=null):(d(c,new s(w.buffer,w.byteOffset,l),m-l),this.head=v,v.data=w.slice(l));break}++b}while((v=v.next)!==null);return this.length-=b,c}[Symbol.for("nodejs.util.inspect.custom")](l,c){return u(this,{...c,depth:0,customInspect:!1})}}}),Kn=xt((t,o)=>{Ot(),Bt(),Mt();var{MathFloor:e,NumberIsInteger:p}=Ie(),{ERR_INVALID_ARG_VALUE:d}=We().codes;function s(l,c,m){return l.highWaterMark!=null?l.highWaterMark:c?l[m]:null}function n(l){return l?16:16*1024}function u(l,c,m,v){let b=s(c,v,m);if(b!=null){if(!p(b)||b<0){let w=v?`options.${m}`:"options.highWaterMark";throw new d(w,b)}return e(b)}return n(l.objectMode)}o.exports={getHighWaterMark:u,getDefaultHighWaterMark:n}});function ds(t){var o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return e===-1&&(e=o),[e,e===o?0:4-e%4]}function zp(t,o,e){for(var p,d,s=[],n=o;n<e;n+=3)p=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(255&t[n+2]),s.push(Je[(d=p)>>18&63]+Je[d>>12&63]+Je[d>>6&63]+Je[63&d]);return s.join("")}function cr(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var o=new Uint8Array(t);return Object.setPrototypeOf(o,Ct.prototype),o}function Ct(t,o,e){if(typeof t=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Tn(t)}return ba(t,o,e)}function ba(t,o,e){if(typeof t=="string")return function(s,n){if(typeof n=="string"&&n!==""||(n="utf8"),!Ct.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var u=0|Ea(s,n),l=cr(u),c=l.write(s,n);return c!==u&&(l=l.slice(0,c)),l}(t,o);if(ArrayBuffer.isView(t))return oi(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(dr(t,ArrayBuffer)||t&&dr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dr(t,SharedArrayBuffer)||t&&dr(t.buffer,SharedArrayBuffer)))return $p(t,o,e);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=t.valueOf&&t.valueOf();if(p!=null&&p!==t)return Ct.from(p,o,e);var d=function(s){if(Ct.isBuffer(s)){var n=0|Yn(s.length),u=cr(n);return u.length===0||s.copy(u,0,0,n),u}if(s.length!==void 0)return typeof s.length!="number"||Jn(s.length)?cr(0):oi(s);if(s.type==="Buffer"&&Array.isArray(s.data))return oi(s.data)}(t);if(d)return d;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Ct.from(t[Symbol.toPrimitive]("string"),o,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function wa(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Tn(t){return wa(t),cr(t<0?0:0|Yn(t))}function oi(t){for(var o=t.length<0?0:0|Yn(t.length),e=cr(o),p=0;p<o;p+=1)e[p]=255&t[p];return e}function $p(t,o,e){if(o<0||t.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<o+(e||0))throw new RangeError('"length" is outside of buffer bounds');var p;return p=o===void 0&&e===void 0?new Uint8Array(t):e===void 0?new Uint8Array(t,o):new Uint8Array(t,o,e),Object.setPrototypeOf(p,Ct.prototype),p}function Yn(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function Ea(t,o){if(Ct.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||dr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&e===0)return 0;for(var d=!1;;)switch(o){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return In(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return Ia(t).length;default:if(d)return p?-1:In(t).length;o=(""+o).toLowerCase(),d=!0}}function Vp(t,o,e){var p=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0)<=(o>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Xp(this,o,e);case"utf8":case"utf-8":return Sa(this,o,e);case"ascii":return Qp(this,o,e);case"latin1":case"binary":return Zp(this,o,e);case"base64":return Jp(this,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tu(this,o,e);default:if(p)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),p=!0}}function Pr(t,o,e){var p=t[o];t[o]=t[e],t[e]=p}function hs(t,o,e,p,d){if(t.length===0)return-1;if(typeof e=="string"?(p=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),Jn(e=+e)&&(e=d?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(d)return-1;e=t.length-1}else if(e<0){if(!d)return-1;e=0}if(typeof o=="string"&&(o=Ct.from(o,p)),Ct.isBuffer(o))return o.length===0?-1:fs(t,o,e,p,d);if(typeof o=="number")return o&=255,typeof Uint8Array.prototype.indexOf=="function"?d?Uint8Array.prototype.indexOf.call(t,o,e):Uint8Array.prototype.lastIndexOf.call(t,o,e):fs(t,[o],e,p,d);throw new TypeError("val must be string, number or Buffer")}function fs(t,o,e,p,d){var s,n=1,u=t.length,l=o.length;if(p!==void 0&&((p=String(p).toLowerCase())==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(t.length<2||o.length<2)return-1;n=2,u/=2,l/=2,e/=2}function c(w,E){return n===1?w[E]:w.readUInt16BE(E*n)}if(d){var m=-1;for(s=e;s<u;s++)if(c(t,s)===c(o,m===-1?0:s-m)){if(m===-1&&(m=s),s-m+1===l)return m*n}else m!==-1&&(s-=s-m),m=-1}else for(e+l>u&&(e=u-l),s=e;s>=0;s--){for(var v=!0,b=0;b<l;b++)if(c(t,s+b)!==c(o,b)){v=!1;break}if(v)return s}return-1}function Gp(t,o,e,p){e=Number(e)||0;var d=t.length-e;p?(p=Number(p))>d&&(p=d):p=d;var s=o.length;p>s/2&&(p=s/2);for(var n=0;n<p;++n){var u=parseInt(o.substr(2*n,2),16);if(Jn(u))return n;t[e+n]=u}return n}function Hp(t,o,e,p){return Ho(In(o,t.length-e),t,e,p)}function _a(t,o,e,p){return Ho(function(d){for(var s=[],n=0;n<d.length;++n)s.push(255&d.charCodeAt(n));return s}(o),t,e,p)}function qp(t,o,e,p){return _a(t,o,e,p)}function Kp(t,o,e,p){return Ho(Ia(o),t,e,p)}function Yp(t,o,e,p){return Ho(function(d,s){for(var n,u,l,c=[],m=0;m<d.length&&!((s-=2)<0);++m)n=d.charCodeAt(m),u=n>>8,l=n%256,c.push(l),c.push(u);return c}(o,t.length-e),t,e,p)}function Jp(t,o,e){return o===0&&e===t.length?Do.fromByteArray(t):Do.fromByteArray(t.slice(o,e))}function Sa(t,o,e){e=Math.min(t.length,e);for(var p=[],d=o;d<e;){var s,n,u,l,c=t[d],m=null,v=c>239?4:c>223?3:c>191?2:1;if(d+v<=e)switch(v){case 1:c<128&&(m=c);break;case 2:(192&(s=t[d+1]))==128&&(l=(31&c)<<6|63&s)>127&&(m=l);break;case 3:s=t[d+1],n=t[d+2],(192&s)==128&&(192&n)==128&&(l=(15&c)<<12|(63&s)<<6|63&n)>2047&&(l<55296||l>57343)&&(m=l);break;case 4:s=t[d+1],n=t[d+2],u=t[d+3],(192&s)==128&&(192&n)==128&&(192&u)==128&&(l=(15&c)<<18|(63&s)<<12|(63&n)<<6|63&u)>65535&&l<1114112&&(m=l)}m===null?(m=65533,v=1):m>65535&&(m-=65536,p.push(m>>>10&1023|55296),m=56320|1023&m),p.push(m),d+=v}return function(b){var w=b.length;if(w<=4096)return String.fromCharCode.apply(String,b);for(var E="",O=0;O<w;)E+=String.fromCharCode.apply(String,b.slice(O,O+=4096));return E}(p)}function Qp(t,o,e){var p="";e=Math.min(t.length,e);for(var d=o;d<e;++d)p+=String.fromCharCode(127&t[d]);return p}function Zp(t,o,e){var p="";e=Math.min(t.length,e);for(var d=o;d<e;++d)p+=String.fromCharCode(t[d]);return p}function Xp(t,o,e){var p=t.length;(!o||o<0)&&(o=0),(!e||e<0||e>p)&&(e=p);for(var d="",s=o;s<e;++s)d+=Oa[t[s]];return d}function tu(t,o,e){for(var p=t.slice(o,e),d="",s=0;s<p.length;s+=2)d+=String.fromCharCode(p[s]+256*p[s+1]);return d}function ke(t,o,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+o>e)throw new RangeError("Trying to access beyond buffer length")}function Fe(t,o,e,p,d,s){if(!Ct.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>d||o<s)throw new RangeError('"value" argument is out of bounds');if(e+p>t.length)throw new RangeError("Index out of range")}function Ta(t,o,e,p,d,s){if(e+p>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function ms(t,o,e,p,d){return o=+o,e>>>=0,d||Ta(t,0,e,4),Lr.write(t,o,e,p,23,4),e+4}function ys(t,o,e,p,d){return o=+o,e>>>=0,d||Ta(t,0,e,8),Lr.write(t,o,e,p,52,8),e+8}function In(t,o){var e;o=o||1/0;for(var p=t.length,d=null,s=[],n=0;n<p;++n){if((e=t.charCodeAt(n))>55295&&e<57344){if(!d){if(e>56319){(o-=3)>-1&&s.push(239,191,189);continue}if(n+1===p){(o-=3)>-1&&s.push(239,191,189);continue}d=e;continue}if(e<56320){(o-=3)>-1&&s.push(239,191,189),d=e;continue}e=65536+(d-55296<<10|e-56320)}else d&&(o-=3)>-1&&s.push(239,191,189);if(d=null,e<128){if((o-=1)<0)break;s.push(e)}else if(e<2048){if((o-=2)<0)break;s.push(e>>6|192,63&e|128)}else if(e<65536){if((o-=3)<0)break;s.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((o-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return s}function Ia(t){return Do.toByteArray(function(o){if((o=(o=o.split("=")[0]).trim().replace(ka,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(t))}function Ho(t,o,e,p){for(var d=0;d<p&&!(d+e>=o.length||d>=t.length);++d)o[d+e]=t[d];return d}function dr(t,o){return t instanceof o||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===o.name}function Jn(t){return t!=t}function gs(t,o){for(var e in t)o[e]=t[e]}function Ar(t,o,e){return Ke(t,o,e)}function no(t){var o;switch(this.encoding=function(e){var p=function(d){if(!d)return"utf8";for(var s;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(s)return;d=(""+d).toLowerCase(),s=!0}}(e);if(typeof p!="string"&&(Lo.isEncoding===kn||!kn(e)))throw new Error("Unknown encoding: "+e);return p||e}(t),this.encoding){case"utf16le":this.text=ru,this.end=ou,o=4;break;case"utf8":this.fillLast=eu,o=4;break;case"base64":this.text=iu,this.end=nu,o=3;break;default:return this.write=su,this.end=au,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Lo.allocUnsafe(o)}function ii(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function eu(t){var o=this.lastTotal-this.lastNeed,e=function(p,d,s){if((192&d[0])!=128)return p.lastNeed=0,"";if(p.lastNeed>1&&d.length>1){if((192&d[1])!=128)return p.lastNeed=1,"";if(p.lastNeed>2&&d.length>2&&(192&d[2])!=128)return p.lastNeed=2,""}}(this,t);return e!==void 0?e:this.lastNeed<=t.length?(t.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,o,0,t.length),this.lastNeed-=t.length,void 0)}function ru(t,o){if((t.length-o)%2==0){var e=t.toString("utf16le",o);if(e){var p=e.charCodeAt(e.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",o,t.length-1)}function ou(t){var o=t&&t.length?this.write(t):"";if(this.lastNeed){var e=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,e)}return o}function iu(t,o){var e=(t.length-o)%3;return e===0?t.toString("base64",o):(this.lastNeed=3-e,this.lastTotal=3,e===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",o,t.length-e))}function nu(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function su(t){return t.toString(this.encoding)}function au(t){return t&&t.length?this.write(t):""}var vs,Je,je,bs,Eo,xr,ws,Es,Ze,Do,Lr,ni,ka,Oa,so,ao,Ke,_s,Xr,Lo,kn,Ss=Me(()=>{for(Ot(),Bt(),Mt(),vs={byteLength:function(t){var o=ds(t),e=o[0],p=o[1];return 3*(e+p)/4-p},toByteArray:function(t){var o,e,p=ds(t),d=p[0],s=p[1],n=new bs(function(c,m,v){return 3*(m+v)/4-v}(0,d,s)),u=0,l=s>0?d-4:d;for(e=0;e<l;e+=4)o=je[t.charCodeAt(e)]<<18|je[t.charCodeAt(e+1)]<<12|je[t.charCodeAt(e+2)]<<6|je[t.charCodeAt(e+3)],n[u++]=o>>16&255,n[u++]=o>>8&255,n[u++]=255&o;return s===2&&(o=je[t.charCodeAt(e)]<<2|je[t.charCodeAt(e+1)]>>4,n[u++]=255&o),s===1&&(o=je[t.charCodeAt(e)]<<10|je[t.charCodeAt(e+1)]<<4|je[t.charCodeAt(e+2)]>>2,n[u++]=o>>8&255,n[u++]=255&o),n},fromByteArray:function(t){for(var o,e=t.length,p=e%3,d=[],s=0,n=e-p;s<n;s+=16383)d.push(zp(t,s,s+16383>n?n:s+16383));return p===1?(o=t[e-1],d.push(Je[o>>2]+Je[o<<4&63]+"==")):p===2&&(o=(t[e-2]<<8)+t[e-1],d.push(Je[o>>10]+Je[o>>4&63]+Je[o<<2&63]+"=")),d.join("")}},Je=[],je=[],bs=typeof Uint8Array<"u"?Uint8Array:Array,Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xr=0,ws=Eo.length;xr<ws;++xr)Je[xr]=Eo[xr],je[Eo.charCodeAt(xr)]=xr;je[45]=62,je[95]=63,Es={read:function(t,o,e,p,d){var s,n,u=8*d-p-1,l=(1<<u)-1,c=l>>1,m=-7,v=e?d-1:0,b=e?-1:1,w=t[o+v];for(v+=b,s=w&(1<<-m)-1,w>>=-m,m+=u;m>0;s=256*s+t[o+v],v+=b,m-=8);for(n=s&(1<<-m)-1,s>>=-m,m+=p;m>0;n=256*n+t[o+v],v+=b,m-=8);if(s===0)s=1-c;else{if(s===l)return n?NaN:1/0*(w?-1:1);n+=Math.pow(2,p),s-=c}return(w?-1:1)*n*Math.pow(2,s-p)},write:function(t,o,e,p,d,s){var n,u,l,c=8*s-d-1,m=(1<<c)-1,v=m>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=p?0:s-1,E=p?1:-1,O=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,n=m):(n=Math.floor(Math.log(o)/Math.LN2),o*(l=Math.pow(2,-n))<1&&(n--,l*=2),(o+=n+v>=1?b/l:b*Math.pow(2,1-v))*l>=2&&(n++,l/=2),n+v>=m?(u=0,n=m):n+v>=1?(u=(o*l-1)*Math.pow(2,d),n+=v):(u=o*Math.pow(2,v-1)*Math.pow(2,d),n=0));d>=8;t[e+w]=255&u,w+=E,u/=256,d-=8);for(n=n<<d|u,c+=d;c>0;t[e+w]=255&n,w+=E,n/=256,c-=8);t[e+w-E]|=128*O}},Ze={},Do=vs,Lr=Es,ni=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,Ze.Buffer=Ct,Ze.SlowBuffer=function(t){return+t!=t&&(t=0),Ct.alloc(+t)},Ze.INSPECT_MAX_BYTES=50,Ze.kMaxLength=2147483647,Ct.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(t,o),t.foo()===42}catch{return!1}}(),Ct.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Ct.prototype,"parent",{enumerable:!0,get:function(){if(Ct.isBuffer(this))return this.buffer}}),Object.defineProperty(Ct.prototype,"offset",{enumerable:!0,get:function(){if(Ct.isBuffer(this))return this.byteOffset}}),Ct.poolSize=8192,Ct.from=function(t,o,e){return ba(t,o,e)},Object.setPrototypeOf(Ct.prototype,Uint8Array.prototype),Object.setPrototypeOf(Ct,Uint8Array),Ct.alloc=function(t,o,e){return function(p,d,s){return wa(p),p<=0?cr(p):d!==void 0?typeof s=="string"?cr(p).fill(d,s):cr(p).fill(d):cr(p)}(t,o,e)},Ct.allocUnsafe=function(t){return Tn(t)},Ct.allocUnsafeSlow=function(t){return Tn(t)},Ct.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==Ct.prototype},Ct.compare=function(t,o){if(dr(t,Uint8Array)&&(t=Ct.from(t,t.offset,t.byteLength)),dr(o,Uint8Array)&&(o=Ct.from(o,o.offset,o.byteLength)),!Ct.isBuffer(t)||!Ct.isBuffer(o))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===o)return 0;for(var e=t.length,p=o.length,d=0,s=Math.min(e,p);d<s;++d)if(t[d]!==o[d]){e=t[d],p=o[d];break}return e<p?-1:p<e?1:0},Ct.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ct.concat=function(t,o){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Ct.alloc(0);var e;if(o===void 0)for(o=0,e=0;e<t.length;++e)o+=t[e].length;var p=Ct.allocUnsafe(o),d=0;for(e=0;e<t.length;++e){var s=t[e];if(dr(s,Uint8Array)&&(s=Ct.from(s)),!Ct.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(p,d),d+=s.length}return p},Ct.byteLength=Ea,Ct.prototype._isBuffer=!0,Ct.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<t;o+=2)Pr(this,o,o+1);return this},Ct.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<t;o+=4)Pr(this,o,o+3),Pr(this,o+1,o+2);return this},Ct.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<t;o+=8)Pr(this,o,o+7),Pr(this,o+1,o+6),Pr(this,o+2,o+5),Pr(this,o+3,o+4);return this},Ct.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Sa(this,0,t):Vp.apply(this,arguments)},Ct.prototype.toLocaleString=Ct.prototype.toString,Ct.prototype.equals=function(t){if(!Ct.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||Ct.compare(this,t)===0},Ct.prototype.inspect=function(){var t="",o=Ze.INSPECT_MAX_BYTES;return t=this.toString("hex",0,o).replace(/(.{2})/g,"$1 ").trim(),this.length>o&&(t+=" ... "),"<Buffer "+t+">"},ni&&(Ct.prototype[ni]=Ct.prototype.inspect),Ct.prototype.compare=function(t,o,e,p,d){if(dr(t,Uint8Array)&&(t=Ct.from(t,t.offset,t.byteLength)),!Ct.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(o===void 0&&(o=0),e===void 0&&(e=t?t.length:0),p===void 0&&(p=0),d===void 0&&(d=this.length),o<0||e>t.length||p<0||d>this.length)throw new RangeError("out of range index");if(p>=d&&o>=e)return 0;if(p>=d)return-1;if(o>=e)return 1;if(this===t)return 0;for(var s=(d>>>=0)-(p>>>=0),n=(e>>>=0)-(o>>>=0),u=Math.min(s,n),l=this.slice(p,d),c=t.slice(o,e),m=0;m<u;++m)if(l[m]!==c[m]){s=l[m],n=c[m];break}return s<n?-1:n<s?1:0},Ct.prototype.includes=function(t,o,e){return this.indexOf(t,o,e)!==-1},Ct.prototype.indexOf=function(t,o,e){return hs(this,t,o,e,!0)},Ct.prototype.lastIndexOf=function(t,o,e){return hs(this,t,o,e,!1)},Ct.prototype.write=function(t,o,e,p){if(o===void 0)p="utf8",e=this.length,o=0;else if(e===void 0&&typeof o=="string")p=o,e=this.length,o=0;else{if(!isFinite(o))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");o>>>=0,isFinite(e)?(e>>>=0,p===void 0&&(p="utf8")):(p=e,e=void 0)}var d=this.length-o;if((e===void 0||e>d)&&(e=d),t.length>0&&(e<0||o<0)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");for(var s=!1;;)switch(p){case"hex":return Gp(this,t,o,e);case"utf8":case"utf-8":return Hp(this,t,o,e);case"ascii":return _a(this,t,o,e);case"latin1":case"binary":return qp(this,t,o,e);case"base64":return Kp(this,t,o,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yp(this,t,o,e);default:if(s)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),s=!0}},Ct.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Ct.prototype.slice=function(t,o){var e=this.length;(t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(o=o===void 0?e:~~o)<0?(o+=e)<0&&(o=0):o>e&&(o=e),o<t&&(o=t);var p=this.subarray(t,o);return Object.setPrototypeOf(p,Ct.prototype),p},Ct.prototype.readUIntLE=function(t,o,e){t>>>=0,o>>>=0,e||ke(t,o,this.length);for(var p=this[t],d=1,s=0;++s<o&&(d*=256);)p+=this[t+s]*d;return p},Ct.prototype.readUIntBE=function(t,o,e){t>>>=0,o>>>=0,e||ke(t,o,this.length);for(var p=this[t+--o],d=1;o>0&&(d*=256);)p+=this[t+--o]*d;return p},Ct.prototype.readUInt8=function(t,o){return t>>>=0,o||ke(t,1,this.length),this[t]},Ct.prototype.readUInt16LE=function(t,o){return t>>>=0,o||ke(t,2,this.length),this[t]|this[t+1]<<8},Ct.prototype.readUInt16BE=function(t,o){return t>>>=0,o||ke(t,2,this.length),this[t]<<8|this[t+1]},Ct.prototype.readUInt32LE=function(t,o){return t>>>=0,o||ke(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Ct.prototype.readUInt32BE=function(t,o){return t>>>=0,o||ke(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ct.prototype.readIntLE=function(t,o,e){t>>>=0,o>>>=0,e||ke(t,o,this.length);for(var p=this[t],d=1,s=0;++s<o&&(d*=256);)p+=this[t+s]*d;return p>=(d*=128)&&(p-=Math.pow(2,8*o)),p},Ct.prototype.readIntBE=function(t,o,e){t>>>=0,o>>>=0,e||ke(t,o,this.length);for(var p=o,d=1,s=this[t+--p];p>0&&(d*=256);)s+=this[t+--p]*d;return s>=(d*=128)&&(s-=Math.pow(2,8*o)),s},Ct.prototype.readInt8=function(t,o){return t>>>=0,o||ke(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Ct.prototype.readInt16LE=function(t,o){t>>>=0,o||ke(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},Ct.prototype.readInt16BE=function(t,o){t>>>=0,o||ke(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},Ct.prototype.readInt32LE=function(t,o){return t>>>=0,o||ke(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ct.prototype.readInt32BE=function(t,o){return t>>>=0,o||ke(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ct.prototype.readFloatLE=function(t,o){return t>>>=0,o||ke(t,4,this.length),Lr.read(this,t,!0,23,4)},Ct.prototype.readFloatBE=function(t,o){return t>>>=0,o||ke(t,4,this.length),Lr.read(this,t,!1,23,4)},Ct.prototype.readDoubleLE=function(t,o){return t>>>=0,o||ke(t,8,this.length),Lr.read(this,t,!0,52,8)},Ct.prototype.readDoubleBE=function(t,o){return t>>>=0,o||ke(t,8,this.length),Lr.read(this,t,!1,52,8)},Ct.prototype.writeUIntLE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||Fe(this,t,o,e,Math.pow(2,8*e)-1,0);var d=1,s=0;for(this[o]=255&t;++s<e&&(d*=256);)this[o+s]=t/d&255;return o+e},Ct.prototype.writeUIntBE=function(t,o,e,p){t=+t,o>>>=0,e>>>=0,p||Fe(this,t,o,e,Math.pow(2,8*e)-1,0);var d=e-1,s=1;for(this[o+d]=255&t;--d>=0&&(s*=256);)this[o+d]=t/s&255;return o+e},Ct.prototype.writeUInt8=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,1,255,0),this[o]=255&t,o+1},Ct.prototype.writeUInt16LE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,2,65535,0),this[o]=255&t,this[o+1]=t>>>8,o+2},Ct.prototype.writeUInt16BE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,2,65535,0),this[o]=t>>>8,this[o+1]=255&t,o+2},Ct.prototype.writeUInt32LE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,4,4294967295,0),this[o+3]=t>>>24,this[o+2]=t>>>16,this[o+1]=t>>>8,this[o]=255&t,o+4},Ct.prototype.writeUInt32BE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,4,4294967295,0),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},Ct.prototype.writeIntLE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var d=Math.pow(2,8*e-1);Fe(this,t,o,e,d-1,-d)}var s=0,n=1,u=0;for(this[o]=255&t;++s<e&&(n*=256);)t<0&&u===0&&this[o+s-1]!==0&&(u=1),this[o+s]=(t/n>>0)-u&255;return o+e},Ct.prototype.writeIntBE=function(t,o,e,p){if(t=+t,o>>>=0,!p){var d=Math.pow(2,8*e-1);Fe(this,t,o,e,d-1,-d)}var s=e-1,n=1,u=0;for(this[o+s]=255&t;--s>=0&&(n*=256);)t<0&&u===0&&this[o+s+1]!==0&&(u=1),this[o+s]=(t/n>>0)-u&255;return o+e},Ct.prototype.writeInt8=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,1,127,-128),t<0&&(t=255+t+1),this[o]=255&t,o+1},Ct.prototype.writeInt16LE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,2,32767,-32768),this[o]=255&t,this[o+1]=t>>>8,o+2},Ct.prototype.writeInt16BE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,2,32767,-32768),this[o]=t>>>8,this[o+1]=255&t,o+2},Ct.prototype.writeInt32LE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,4,2147483647,-2147483648),this[o]=255&t,this[o+1]=t>>>8,this[o+2]=t>>>16,this[o+3]=t>>>24,o+4},Ct.prototype.writeInt32BE=function(t,o,e){return t=+t,o>>>=0,e||Fe(this,t,o,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[o]=t>>>24,this[o+1]=t>>>16,this[o+2]=t>>>8,this[o+3]=255&t,o+4},Ct.prototype.writeFloatLE=function(t,o,e){return ms(this,t,o,!0,e)},Ct.prototype.writeFloatBE=function(t,o,e){return ms(this,t,o,!1,e)},Ct.prototype.writeDoubleLE=function(t,o,e){return ys(this,t,o,!0,e)},Ct.prototype.writeDoubleBE=function(t,o,e){return ys(this,t,o,!1,e)},Ct.prototype.copy=function(t,o,e,p){if(!Ct.isBuffer(t))throw new TypeError("argument should be a Buffer");if(e||(e=0),p||p===0||(p=this.length),o>=t.length&&(o=t.length),o||(o=0),p>0&&p<e&&(p=e),p===e||t.length===0||this.length===0)return 0;if(o<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),t.length-o<p-e&&(p=t.length-o+e);var d=p-e;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(o,e,p);else if(this===t&&e<o&&o<p)for(var s=d-1;s>=0;--s)t[s+o]=this[s+e];else Uint8Array.prototype.set.call(t,this.subarray(e,p),o);return d},Ct.prototype.fill=function(t,o,e,p){if(typeof t=="string"){if(typeof o=="string"?(p=o,o=0,e=this.length):typeof e=="string"&&(p=e,e=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!Ct.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(t.length===1){var d=t.charCodeAt(0);(p==="utf8"&&d<128||p==="latin1")&&(t=d)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(o<0||this.length<o||this.length<e)throw new RangeError("Out of range index");if(e<=o)return this;var s;if(o>>>=0,e=e===void 0?this.length:e>>>0,t||(t=0),typeof t=="number")for(s=o;s<e;++s)this[s]=t;else{var n=Ct.isBuffer(t)?t:Ct.from(t,p),u=n.length;if(u===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<e-o;++s)this[s+o]=n[s%u]}return this},ka=/[^+/0-9A-Za-z-_]/g,Oa=function(){for(var t=new Array(256),o=0;o<16;++o)for(var e=16*o,p=0;p<16;++p)t[e+p]="0123456789abcdef"[o]+"0123456789abcdef"[p];return t}(),Ze.Buffer,Ze.INSPECT_MAX_BYTES,Ze.kMaxLength,so={},ao=Ze,Ke=ao.Buffer,Ke.from&&Ke.alloc&&Ke.allocUnsafe&&Ke.allocUnsafeSlow?so=ao:(gs(ao,so),so.Buffer=Ar),Ar.prototype=Object.create(Ke.prototype),gs(Ke,Ar),Ar.from=function(t,o,e){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ke(t,o,e)},Ar.alloc=function(t,o,e){if(typeof t!="number")throw new TypeError("Argument must be a number");var p=Ke(t);return o!==void 0?typeof e=="string"?p.fill(o,e):p.fill(o):p.fill(0),p},Ar.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ke(t)},Ar.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ao.SlowBuffer(t)},_s=so,Xr={},Lo=_s.Buffer,kn=Lo.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Xr.StringDecoder=no,no.prototype.write=function(t){if(t.length===0)return"";var o,e;if(this.lastNeed){if((o=this.fillLast(t))===void 0)return"";e=this.lastNeed,this.lastNeed=0}else e=0;return e<t.length?o?o+this.text(t,e):this.text(t,e):o||""},no.prototype.end=function(t){var o=t&&t.length?this.write(t):"";return this.lastNeed?o+"":o},no.prototype.text=function(t,o){var e=function(d,s,n){var u=s.length-1;if(u<n)return 0;var l=ii(s[u]);return l>=0?(l>0&&(d.lastNeed=l-1),l):--u<n||l===-2?0:(l=ii(s[u]))>=0?(l>0&&(d.lastNeed=l-2),l):--u<n||l===-2?0:(l=ii(s[u]))>=0?(l>0&&(l===2?l=0:d.lastNeed=l-3),l):0}(this,t,o);if(!this.lastNeed)return t.toString("utf8",o);this.lastTotal=e;var p=t.length-(e-this.lastNeed);return t.copy(this.lastChar,0,p),t.toString("utf8",o,p)},no.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},Xr.StringDecoder,Xr.StringDecoder}),Ma={};qr(Ma,{StringDecoder:()=>Ba,default:()=>Xr});var Ba,lu=Me(()=>{Ot(),Bt(),Mt(),Ss(),Ss(),Ba=Xr.StringDecoder}),Ra=xt((t,o)=>{Ot(),Bt(),Mt();var e=Kr(),{PromisePrototypeThen:p,SymbolAsyncIterator:d,SymbolIterator:s}=Ie(),{Buffer:n}=(Re(),le(Be)),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:l}=We().codes;function c(m,v,b){let w;if(typeof v=="string"||v instanceof n)return new m({objectMode:!0,...b,read(){this.push(v),this.push(null)}});let E;if(v&&v[d])E=!0,w=v[d]();else if(v&&v[s])E=!1,w=v[s]();else throw new u("iterable",["Iterable"],v);let O=new m({objectMode:!0,highWaterMark:1,...b}),N=!1;O._read=function(){N||(N=!0,P())},O._destroy=function(C,H){p($(C),()=>e.nextTick(H,C),tt=>e.nextTick(H,tt||C))};async function $(C){let H=C!=null,tt=typeof w.throw=="function";if(H&&tt){let{value:D,done:S}=await w.throw(C);if(await D,S)return}if(typeof w.return=="function"){let{value:D}=await w.return();await D}}async function P(){for(;;){try{let{value:C,done:H}=E?await w.next():w.next();if(H)O.push(null);else{let tt=C&&typeof C.then=="function"?await C:C;if(tt===null)throw N=!1,new l;if(O.push(tt))continue;N=!1}}catch(C){O.destroy(C)}break}}return O}o.exports=c}),qo=xt((t,o)=>{Ot(),Bt(),Mt();var e=Kr(),{ArrayPrototypeIndexOf:p,NumberIsInteger:d,NumberIsNaN:s,NumberParseInt:n,ObjectDefineProperties:u,ObjectKeys:l,ObjectSetPrototypeOf:c,Promise:m,SafeSet:v,SymbolAsyncIterator:b,Symbol:w}=Ie();o.exports=M,M.ReadableState=_t;var{EventEmitter:E}=(ro(),le(Yr)),{Stream:O,prependListener:N}=qn(),{Buffer:$}=(Re(),le(Be)),{addAbortSignal:P}=Go(),C=kr(),H=hr().debuglog("stream",h=>{H=h}),tt=Up(),D=eo(),{getHighWaterMark:S,getDefaultHighWaterMark:K}=Kn(),{aggregateTwoErrors:it,codes:{ERR_INVALID_ARG_TYPE:z,ERR_METHOD_NOT_IMPLEMENTED:lt,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:Y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Et}}=We(),{validateObject:pt}=Vo(),It=w("kPaused"),{StringDecoder:Tt}=(lu(),le(Ma)),Q=Ra();c(M.prototype,O.prototype),c(M,O);var ut=()=>{},{errorOrDestroy:mt}=D;function _t(h,g,R){typeof R!="boolean"&&(R=g instanceof fr()),this.objectMode=!!(h&&h.objectMode),R&&(this.objectMode=this.objectMode||!!(h&&h.readableObjectMode)),this.highWaterMark=h?S(this,h,"readableHighWaterMark",R):K(!1),this.buffer=new tt,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[It]=null,this.errorEmitted=!1,this.emitClose=!h||h.emitClose!==!1,this.autoDestroy=!h||h.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=h&&h.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,h&&h.encoding&&(this.decoder=new Tt(h.encoding),this.encoding=h.encoding)}function M(h){if(!(this instanceof M))return new M(h);let g=this instanceof fr();this._readableState=new _t(h,this,g),h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy),typeof h.construct=="function"&&(this._construct=h.construct),h.signal&&!g&&P(h.signal,this)),O.call(this,h),D.construct(this,()=>{this._readableState.needReadable&&et(this,this._readableState)})}M.prototype.destroy=D.destroy,M.prototype._undestroy=D.undestroy,M.prototype._destroy=function(h,g){g(h)},M.prototype[E.captureRejectionSymbol]=function(h){this.destroy(h)},M.prototype.push=function(h,g){return ct(this,h,g,!1)},M.prototype.unshift=function(h,g){return ct(this,h,g,!0)};function ct(h,g,R,L){H("readableAddChunk",g);let B=h._readableState,bt;if(B.objectMode||(typeof g=="string"?(R=R||B.defaultEncoding,B.encoding!==R&&(L&&B.encoding?g=$.from(g,R).toString(B.encoding):(g=$.from(g,R),R=""))):g instanceof $?R="":O._isUint8Array(g)?(g=O._uint8ArrayToBuffer(g),R=""):g!=null&&(bt=new z("chunk",["string","Buffer","Uint8Array"],g))),bt)mt(h,bt);else if(g===null)B.reading=!1,k(h,B);else if(B.objectMode||g&&g.length>0)if(L)if(B.endEmitted)mt(h,new Et);else{if(B.destroyed||B.errored)return!1;kt(h,B,g,!0)}else if(B.ended)mt(h,new Y);else{if(B.destroyed||B.errored)return!1;B.reading=!1,B.decoder&&!R?(g=B.decoder.write(g),B.objectMode||g.length!==0?kt(h,B,g,!1):et(h,B)):kt(h,B,g,!1)}else L||(B.reading=!1,et(h,B));return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function kt(h,g,R,L){g.flowing&&g.length===0&&!g.sync&&h.listenerCount("data")>0?(g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null,g.dataEmitted=!0,h.emit("data",R)):(g.length+=g.objectMode?1:R.length,L?g.buffer.unshift(R):g.buffer.push(R),g.needReadable&&G(h)),et(h,g)}M.prototype.isPaused=function(){let h=this._readableState;return h[It]===!0||h.flowing===!1},M.prototype.setEncoding=function(h){let g=new Tt(h);this._readableState.decoder=g,this._readableState.encoding=this._readableState.decoder.encoding;let R=this._readableState.buffer,L="";for(let B of R)L+=g.write(B);return R.clear(),L!==""&&R.push(L),this._readableState.length=L.length,this};var Wt=1073741824;function rt(h){if(h>Wt)throw new A("size","<= 1GiB",h);return h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++,h}function I(h,g){return h<=0||g.length===0&&g.ended?0:g.objectMode?1:s(h)?g.flowing&&g.length?g.buffer.first().length:g.length:h<=g.length?h:g.ended?g.length:0}M.prototype.read=function(h){H("read",h),h===void 0?h=NaN:d(h)||(h=n(h,10));let g=this._readableState,R=h;if(h>g.highWaterMark&&(g.highWaterMark=rt(h)),h!==0&&(g.emittedReadable=!1),h===0&&g.needReadable&&((g.highWaterMark!==0?g.length>=g.highWaterMark:g.length>0)||g.ended))return H("read: emitReadable",g.length,g.ended),g.length===0&&g.ended?W(this):G(this),null;if(h=I(h,g),h===0&&g.ended)return g.length===0&&W(this),null;let L=g.needReadable;if(H("need readable",L),(g.length===0||g.length-h<g.highWaterMark)&&(L=!0,H("length less than watermark",L)),g.ended||g.reading||g.destroyed||g.errored||!g.constructed)L=!1,H("reading, ended or constructing",L);else if(L){H("do read"),g.reading=!0,g.sync=!0,g.length===0&&(g.needReadable=!0);try{this._read(g.highWaterMark)}catch(bt){mt(this,bt)}g.sync=!1,g.reading||(h=I(R,g))}let B;return h>0?B=ot(h,g):B=null,B===null?(g.needReadable=g.length<=g.highWaterMark,h=0):(g.length-=h,g.multiAwaitDrain?g.awaitDrainWriters.clear():g.awaitDrainWriters=null),g.length===0&&(g.ended||(g.needReadable=!0),R!==h&&g.ended&&W(this)),B!==null&&!g.errorEmitted&&!g.closeEmitted&&(g.dataEmitted=!0,this.emit("data",B)),B};function k(h,g){if(H("onEofChunk"),!g.ended){if(g.decoder){let R=g.decoder.end();R&&R.length&&(g.buffer.push(R),g.length+=g.objectMode?1:R.length)}g.ended=!0,g.sync?G(h):(g.needReadable=!1,g.emittedReadable=!0,at(h))}}function G(h){let g=h._readableState;H("emitReadable",g.needReadable,g.emittedReadable),g.needReadable=!1,g.emittedReadable||(H("emitReadable",g.flowing),g.emittedReadable=!0,e.nextTick(at,h))}function at(h){let g=h._readableState;H("emitReadable_",g.destroyed,g.length,g.ended),!g.destroyed&&!g.errored&&(g.length||g.ended)&&(h.emit("readable"),g.emittedReadable=!1),g.needReadable=!g.flowing&&!g.ended&&g.length<=g.highWaterMark,yt(h)}function et(h,g){!g.readingMore&&g.constructed&&(g.readingMore=!0,e.nextTick(nt,h,g))}function nt(h,g){for(;!g.reading&&!g.ended&&(g.length<g.highWaterMark||g.flowing&&g.length===0);){let R=g.length;if(H("maybeReadMore read 0"),h.read(0),R===g.length)break}g.readingMore=!1}M.prototype._read=function(h){throw new lt("_read()")},M.prototype.pipe=function(h,g){let R=this,L=this._readableState;L.pipes.length===1&&(L.multiAwaitDrain||(L.multiAwaitDrain=!0,L.awaitDrainWriters=new v(L.awaitDrainWriters?[L.awaitDrainWriters]:[]))),L.pipes.push(h),H("pipe count=%d opts=%j",L.pipes.length,g);let B=(!g||g.end!==!1)&&h!==e.stdout&&h!==e.stderr?Dt:re;L.endEmitted?e.nextTick(B):R.once("end",B),h.on("unpipe",bt);function bt(vt,Ft){H("onunpipe"),vt===R&&Ft&&Ft.hasUnpiped===!1&&(Ft.hasUnpiped=!0,$t())}function Dt(){H("onend"),h.end()}let j,Vt=!1;function $t(){H("cleanup"),h.removeListener("close",Rt),h.removeListener("finish",Xt),j&&h.removeListener("drain",j),h.removeListener("error",Qt),h.removeListener("unpipe",bt),R.removeListener("end",Dt),R.removeListener("end",re),R.removeListener("data",Lt),Vt=!0,j&&L.awaitDrainWriters&&(!h._writableState||h._writableState.needDrain)&&j()}function jt(){Vt||(L.pipes.length===1&&L.pipes[0]===h?(H("false write response, pause",0),L.awaitDrainWriters=h,L.multiAwaitDrain=!1):L.pipes.length>1&&L.pipes.includes(h)&&(H("false write response, pause",L.awaitDrainWriters.size),L.awaitDrainWriters.add(h)),R.pause()),j||(j=ht(R,h),h.on("drain",j))}R.on("data",Lt);function Lt(vt){H("ondata");let Ft=h.write(vt);H("dest.write",Ft),Ft===!1&&jt()}function Qt(vt){if(H("onerror",vt),re(),h.removeListener("error",Qt),h.listenerCount("error")===0){let Ft=h._writableState||h._readableState;Ft&&!Ft.errorEmitted?mt(h,vt):h.emit("error",vt)}}N(h,"error",Qt);function Rt(){h.removeListener("finish",Xt),re()}h.once("close",Rt);function Xt(){H("onfinish"),h.removeListener("close",Rt),re()}h.once("finish",Xt);function re(){H("unpipe"),R.unpipe(h)}return h.emit("pipe",R),h.writableNeedDrain===!0?L.flowing&&jt():L.flowing||(H("pipe resume"),R.resume()),h};function ht(h,g){return function(){let R=h._readableState;R.awaitDrainWriters===g?(H("pipeOnDrain",1),R.awaitDrainWriters=null):R.multiAwaitDrain&&(H("pipeOnDrain",R.awaitDrainWriters.size),R.awaitDrainWriters.delete(g)),(!R.awaitDrainWriters||R.awaitDrainWriters.size===0)&&h.listenerCount("data")&&h.resume()}}M.prototype.unpipe=function(h){let g=this._readableState,R={hasUnpiped:!1};if(g.pipes.length===0)return this;if(!h){let B=g.pipes;g.pipes=[],this.pause();for(let bt=0;bt<B.length;bt++)B[bt].emit("unpipe",this,{hasUnpiped:!1});return this}let L=p(g.pipes,h);return L===-1?this:(g.pipes.splice(L,1),g.pipes.length===0&&this.pause(),h.emit("unpipe",this,R),this)},M.prototype.on=function(h,g){let R=O.prototype.on.call(this,h,g),L=this._readableState;return h==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):h==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,H("on readable",L.length,L.reading),L.length?G(this):L.reading||e.nextTick(x,this)),R},M.prototype.addListener=M.prototype.on,M.prototype.removeListener=function(h,g){let R=O.prototype.removeListener.call(this,h,g);return h==="readable"&&e.nextTick(wt,this),R},M.prototype.off=M.prototype.removeListener,M.prototype.removeAllListeners=function(h){let g=O.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&e.nextTick(wt,this),g};function wt(h){let g=h._readableState;g.readableListening=h.listenerCount("readable")>0,g.resumeScheduled&&g[It]===!1?g.flowing=!0:h.listenerCount("data")>0?h.resume():g.readableListening||(g.flowing=null)}function x(h){H("readable nexttick read 0"),h.read(0)}M.prototype.resume=function(){let h=this._readableState;return h.flowing||(H("resume"),h.flowing=!h.readableListening,J(this,h)),h[It]=!1,this};function J(h,g){g.resumeScheduled||(g.resumeScheduled=!0,e.nextTick(Z,h,g))}function Z(h,g){H("resume",g.reading),g.reading||h.read(0),g.resumeScheduled=!1,h.emit("resume"),yt(h),g.flowing&&!g.reading&&h.read(0)}M.prototype.pause=function(){return H("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(H("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[It]=!0,this};function yt(h){let g=h._readableState;for(H("flow",g.flowing);g.flowing&&h.read()!==null;);}M.prototype.wrap=function(h){let g=!1;h.on("data",L=>{!this.push(L)&&h.pause&&(g=!0,h.pause())}),h.on("end",()=>{this.push(null)}),h.on("error",L=>{mt(this,L)}),h.on("close",()=>{this.destroy()}),h.on("destroy",()=>{this.destroy()}),this._read=()=>{g&&h.resume&&(g=!1,h.resume())};let R=l(h);for(let L=1;L<R.length;L++){let B=R[L];this[B]===void 0&&typeof h[B]=="function"&&(this[B]=h[B].bind(h))}return this},M.prototype[b]=function(){return ft(this)},M.prototype.iterator=function(h){return h!==void 0&&pt(h,"options"),ft(this,h)};function ft(h,g){typeof h.read!="function"&&(h=M.wrap(h,{objectMode:!0}));let R=U(h,g);return R.stream=h,R}async function*U(h,g){let R=ut;function L(Dt){this===h?(R(),R=ut):R=Dt}h.on("readable",L);let B,bt=C(h,{writable:!1},Dt=>{B=Dt?it(B,Dt):null,R(),R=ut});try{for(;;){let Dt=h.destroyed?null:h.read();if(Dt!==null)yield Dt;else{if(B)throw B;if(B===null)return;await new m(L)}}}catch(Dt){throw B=it(B,Dt),B}finally{(B||(g==null?void 0:g.destroyOnReturn)!==!1)&&(B===void 0||h._readableState.autoDestroy)?D.destroyer(h,null):(h.off("readable",L),bt())}}u(M.prototype,{readable:{__proto__:null,get(){let h=this._readableState;return!!h&&h.readable!==!1&&!h.destroyed&&!h.errorEmitted&&!h.endEmitted},set(h){this._readableState&&(this._readableState.readable=!!h)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(h){this._readableState&&(this._readableState.destroyed=h)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(_t.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[It]!==!1},set(h){this[It]=!!h}}}),M._fromList=ot;function ot(h,g){if(g.length===0)return null;let R;return g.objectMode?R=g.buffer.shift():!h||h>=g.length?(g.decoder?R=g.buffer.join(""):g.buffer.length===1?R=g.buffer.first():R=g.buffer.concat(g.length),g.buffer.clear()):R=g.buffer.consume(h,g.decoder),R}function W(h){let g=h._readableState;H("endReadable",g.endEmitted),g.endEmitted||(g.ended=!0,e.nextTick(X,g,h))}function X(h,g){if(H("endReadableNT",h.endEmitted,h.length),!h.errored&&!h.closeEmitted&&!h.endEmitted&&h.length===0){if(h.endEmitted=!0,g.emit("end"),g.writable&&g.allowHalfOpen===!1)e.nextTick(st,g);else if(h.autoDestroy){let R=g._writableState;(!R||R.autoDestroy&&(R.finished||R.writable===!1))&&g.destroy()}}}function st(h){h.writable&&!h.writableEnded&&!h.destroyed&&h.end()}M.from=function(h,g){return Q(M,h,g)};var St;function f(){return St===void 0&&(St={}),St}M.fromWeb=function(h,g){return f().newStreamReadableFromReadableStream(h,g)},M.toWeb=function(h,g){return f().newReadableStreamFromStreamReadable(h,g)},M.wrap=function(h,g){var R,L;return new M({objectMode:(R=(L=h.readableObjectMode)!==null&&L!==void 0?L:h.objectMode)!==null&&R!==void 0?R:!0,...g,destroy(B,bt){D.destroyer(h,B),bt(B)}}).wrap(h)}}),Ca=xt((t,o)=>{Ot(),Bt(),Mt();var e=Kr(),{ArrayPrototypeSlice:p,Error:d,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:n,ObjectDefineProperties:u,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:c,Symbol:m,SymbolHasInstance:v}=Ie();o.exports=Tt,Tt.WritableState=pt;var{EventEmitter:b}=(ro(),le(Yr)),w=qn().Stream,{Buffer:E}=(Re(),le(Be)),O=eo(),{addAbortSignal:N}=Go(),{getHighWaterMark:$,getDefaultHighWaterMark:P}=Kn(),{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:H,ERR_MULTIPLE_CALLBACK:tt,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:K,ERR_STREAM_NULL_VALUES:it,ERR_STREAM_WRITE_AFTER_END:z,ERR_UNKNOWN_ENCODING:lt}=We().codes,{errorOrDestroy:A}=O;l(Tt.prototype,w.prototype),l(Tt,w);function Y(){}var Et=m("kOnFinished");function pt(x,J,Z){typeof Z!="boolean"&&(Z=J instanceof fr()),this.objectMode=!!(x&&x.objectMode),Z&&(this.objectMode=this.objectMode||!!(x&&x.writableObjectMode)),this.highWaterMark=x?$(this,x,"writableHighWaterMark",Z):P(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let yt=!!(x&&x.decodeStrings===!1);this.decodeStrings=!yt,this.defaultEncoding=x&&x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,J),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,It(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!x||x.emitClose!==!1,this.autoDestroy=!x||x.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Et]=[]}function It(x){x.buffered=[],x.bufferedIndex=0,x.allBuffers=!0,x.allNoop=!0}pt.prototype.getBuffer=function(){return p(this.buffered,this.bufferedIndex)},n(pt.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Tt(x){let J=this instanceof fr();if(!J&&!s(Tt,this))return new Tt(x);this._writableState=new pt(x,this,J),x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final),typeof x.construct=="function"&&(this._construct=x.construct),x.signal&&N(x.signal,this)),w.call(this,x),O.construct(this,()=>{let Z=this._writableState;Z.writing||rt(this,Z),at(this,Z)})}n(Tt,v,{__proto__:null,value:function(x){return s(this,x)?!0:this!==Tt?!1:x&&x._writableState instanceof pt}}),Tt.prototype.pipe=function(){A(this,new D)};function Q(x,J,Z,yt){let ft=x._writableState;if(typeof Z=="function")yt=Z,Z=ft.defaultEncoding;else{if(!Z)Z=ft.defaultEncoding;else if(Z!=="buffer"&&!E.isEncoding(Z))throw new lt(Z);typeof yt!="function"&&(yt=Y)}if(J===null)throw new it;if(!ft.objectMode)if(typeof J=="string")ft.decodeStrings!==!1&&(J=E.from(J,Z),Z="buffer");else if(J instanceof E)Z="buffer";else if(w._isUint8Array(J))J=w._uint8ArrayToBuffer(J),Z="buffer";else throw new C("chunk",["string","Buffer","Uint8Array"],J);let U;return ft.ending?U=new z:ft.destroyed&&(U=new S("write")),U?(e.nextTick(yt,U),A(x,U,!0),U):(ft.pendingcb++,ut(x,ft,J,Z,yt))}Tt.prototype.write=function(x,J,Z){return Q(this,x,J,Z)===!0},Tt.prototype.cork=function(){this._writableState.corked++},Tt.prototype.uncork=function(){let x=this._writableState;x.corked&&(x.corked--,x.writing||rt(this,x))},Tt.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=c(x)),!E.isEncoding(x))throw new lt(x);return this._writableState.defaultEncoding=x,this};function ut(x,J,Z,yt,ft){let U=J.objectMode?1:Z.length;J.length+=U;let ot=J.length<J.highWaterMark;return ot||(J.needDrain=!0),J.writing||J.corked||J.errored||!J.constructed?(J.buffered.push({chunk:Z,encoding:yt,callback:ft}),J.allBuffers&&yt!=="buffer"&&(J.allBuffers=!1),J.allNoop&&ft!==Y&&(J.allNoop=!1)):(J.writelen=U,J.writecb=ft,J.writing=!0,J.sync=!0,x._write(Z,yt,J.onwrite),J.sync=!1),ot&&!J.errored&&!J.destroyed}function mt(x,J,Z,yt,ft,U,ot){J.writelen=yt,J.writecb=ot,J.writing=!0,J.sync=!0,J.destroyed?J.onwrite(new S("write")):Z?x._writev(ft,J.onwrite):x._write(ft,U,J.onwrite),J.sync=!1}function _t(x,J,Z,yt){--J.pendingcb,yt(Z),Wt(J),A(x,Z)}function M(x,J){let Z=x._writableState,yt=Z.sync,ft=Z.writecb;if(typeof ft!="function"){A(x,new tt);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,J?(J.stack,Z.errored||(Z.errored=J),x._readableState&&!x._readableState.errored&&(x._readableState.errored=J),yt?e.nextTick(_t,x,Z,J,ft):_t(x,Z,J,ft)):(Z.buffered.length>Z.bufferedIndex&&rt(x,Z),yt?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===ft?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:ft,stream:x,state:Z},e.nextTick(ct,Z.afterWriteTickInfo)):kt(x,Z,1,ft))}function ct({stream:x,state:J,count:Z,cb:yt}){return J.afterWriteTickInfo=null,kt(x,J,Z,yt)}function kt(x,J,Z,yt){for(!J.ending&&!x.destroyed&&J.length===0&&J.needDrain&&(J.needDrain=!1,x.emit("drain"));Z-- >0;)J.pendingcb--,yt();J.destroyed&&Wt(J),at(x,J)}function Wt(x){if(x.writing)return;for(let ft=x.bufferedIndex;ft<x.buffered.length;++ft){var J;let{chunk:U,callback:ot}=x.buffered[ft],W=x.objectMode?1:U.length;x.length-=W,ot((J=x.errored)!==null&&J!==void 0?J:new S("write"))}let Z=x[Et].splice(0);for(let ft=0;ft<Z.length;ft++){var yt;Z[ft]((yt=x.errored)!==null&&yt!==void 0?yt:new S("end"))}It(x)}function rt(x,J){if(J.corked||J.bufferProcessing||J.destroyed||!J.constructed)return;let{buffered:Z,bufferedIndex:yt,objectMode:ft}=J,U=Z.length-yt;if(!U)return;let ot=yt;if(J.bufferProcessing=!0,U>1&&x._writev){J.pendingcb-=U-1;let W=J.allNoop?Y:st=>{for(let St=ot;St<Z.length;++St)Z[St].callback(st)},X=J.allNoop&&ot===0?Z:p(Z,ot);X.allBuffers=J.allBuffers,mt(x,J,!0,J.length,X,"",W),It(J)}else{do{let{chunk:W,encoding:X,callback:st}=Z[ot];Z[ot++]=null;let St=ft?1:W.length;mt(x,J,!1,St,W,X,st)}while(ot<Z.length&&!J.writing);ot===Z.length?It(J):ot>256?(Z.splice(0,ot),J.bufferedIndex=0):J.bufferedIndex=ot}J.bufferProcessing=!1}Tt.prototype._write=function(x,J,Z){if(this._writev)this._writev([{chunk:x,encoding:J}],Z);else throw new H("_write()")},Tt.prototype._writev=null,Tt.prototype.end=function(x,J,Z){let yt=this._writableState;typeof x=="function"?(Z=x,x=null,J=null):typeof J=="function"&&(Z=J,J=null);let ft;if(x!=null){let U=Q(this,x,J);U instanceof d&&(ft=U)}return yt.corked&&(yt.corked=1,this.uncork()),ft||(!yt.errored&&!yt.ending?(yt.ending=!0,at(this,yt,!0),yt.ended=!0):yt.finished?ft=new K("end"):yt.destroyed&&(ft=new S("end"))),typeof Z=="function"&&(ft||yt.finished?e.nextTick(Z,ft):yt[Et].push(Z)),this};function I(x){return x.ending&&!x.destroyed&&x.constructed&&x.length===0&&!x.errored&&x.buffered.length===0&&!x.finished&&!x.writing&&!x.errorEmitted&&!x.closeEmitted}function k(x,J){let Z=!1;function yt(ft){if(Z){A(x,ft??tt());return}if(Z=!0,J.pendingcb--,ft){let U=J[Et].splice(0);for(let ot=0;ot<U.length;ot++)U[ot](ft);A(x,ft,J.sync)}else I(J)&&(J.prefinished=!0,x.emit("prefinish"),J.pendingcb++,e.nextTick(et,x,J))}J.sync=!0,J.pendingcb++;try{x._final(yt)}catch(ft){yt(ft)}J.sync=!1}function G(x,J){!J.prefinished&&!J.finalCalled&&(typeof x._final=="function"&&!J.destroyed?(J.finalCalled=!0,k(x,J)):(J.prefinished=!0,x.emit("prefinish")))}function at(x,J,Z){I(J)&&(G(x,J),J.pendingcb===0&&(Z?(J.pendingcb++,e.nextTick((yt,ft)=>{I(ft)?et(yt,ft):ft.pendingcb--},x,J)):I(J)&&(J.pendingcb++,et(x,J))))}function et(x,J){J.pendingcb--,J.finished=!0;let Z=J[Et].splice(0);for(let yt=0;yt<Z.length;yt++)Z[yt]();if(x.emit("finish"),J.autoDestroy){let yt=x._readableState;(!yt||yt.autoDestroy&&(yt.endEmitted||yt.readable===!1))&&x.destroy()}}u(Tt.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(x){this._writableState&&(this._writableState.destroyed=x)}},writable:{__proto__:null,get(){let x=this._writableState;return!!x&&x.writable!==!1&&!x.destroyed&&!x.errored&&!x.ending&&!x.ended},set(x){this._writableState&&(this._writableState.writable=!!x)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let x=this._writableState;return x?!x.destroyed&&!x.ending&&x.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var nt=O.destroy;Tt.prototype.destroy=function(x,J){let Z=this._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[Et].length)&&e.nextTick(Wt,Z),nt.call(this,x,J),this},Tt.prototype._undestroy=O.undestroy,Tt.prototype._destroy=function(x,J){J(x)},Tt.prototype[b.captureRejectionSymbol]=function(x){this.destroy(x)};var ht;function wt(){return ht===void 0&&(ht={}),ht}Tt.fromWeb=function(x,J){return wt().newStreamWritableFromWritableStream(x,J)},Tt.toWeb=function(x){return wt().newWritableStreamFromStreamWritable(x)}}),pu=xt((t,o)=>{Ot(),Bt(),Mt();var e=Kr(),p=(Re(),le(Be)),{isReadable:d,isWritable:s,isIterable:n,isNodeStream:u,isReadableNodeStream:l,isWritableNodeStream:c,isDuplexNodeStream:m}=yr(),v=kr(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:w,ERR_INVALID_RETURN_VALUE:E}}=We(),{destroyer:O}=eo(),N=fr(),$=qo(),{createDeferredPromise:P}=hr(),C=Ra(),H=globalThis.Blob||p.Blob,tt=typeof H<"u"?function(lt){return lt instanceof H}:function(lt){return!1},D=globalThis.AbortController||Hn().AbortController,{FunctionPrototypeCall:S}=Ie(),K=class extends N{constructor(lt){super(lt),(lt==null?void 0:lt.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(lt==null?void 0:lt.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};o.exports=function lt(A,Y){if(m(A))return A;if(l(A))return z({readable:A});if(c(A))return z({writable:A});if(u(A))return z({writable:!1,readable:!1});if(typeof A=="function"){let{value:pt,write:It,final:Tt,destroy:Q}=it(A);if(n(pt))return C(K,pt,{objectMode:!0,write:It,final:Tt,destroy:Q});let ut=pt==null?void 0:pt.then;if(typeof ut=="function"){let mt,_t=S(ut,pt,M=>{if(M!=null)throw new E("nully","body",M)},M=>{O(mt,M)});return mt=new K({objectMode:!0,readable:!1,write:It,final(M){Tt(async()=>{try{await _t,e.nextTick(M,null)}catch(ct){e.nextTick(M,ct)}})},destroy:Q})}throw new E("Iterable, AsyncIterable or AsyncFunction",Y,pt)}if(tt(A))return lt(A.arrayBuffer());if(n(A))return C(K,A,{objectMode:!0,writable:!1});if(typeof(A==null?void 0:A.writable)=="object"||typeof(A==null?void 0:A.readable)=="object"){let pt=A!=null&&A.readable?l(A==null?void 0:A.readable)?A==null?void 0:A.readable:lt(A.readable):void 0,It=A!=null&&A.writable?c(A==null?void 0:A.writable)?A==null?void 0:A.writable:lt(A.writable):void 0;return z({readable:pt,writable:It})}let Et=A==null?void 0:A.then;if(typeof Et=="function"){let pt;return S(Et,A,It=>{It!=null&&pt.push(It),pt.push(null)},It=>{O(pt,It)}),pt=new K({objectMode:!0,writable:!1,read(){}})}throw new w(Y,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],A)};function it(lt){let{promise:A,resolve:Y}=P(),Et=new D,pt=Et.signal;return{value:lt(async function*(){for(;;){let It=A;A=null;let{chunk:Tt,done:Q,cb:ut}=await It;if(e.nextTick(ut),Q)return;if(pt.aborted)throw new b(void 0,{cause:pt.reason});({promise:A,resolve:Y}=P()),yield Tt}}(),{signal:pt}),write(It,Tt,Q){let ut=Y;Y=null,ut({chunk:It,done:!1,cb:Q})},final(It){let Tt=Y;Y=null,Tt({done:!0,cb:It})},destroy(It,Tt){Et.abort(),Tt(It)}}}function z(lt){let A=lt.readable&&typeof lt.readable.read!="function"?$.wrap(lt.readable):lt.readable,Y=lt.writable,Et=!!d(A),pt=!!s(Y),It,Tt,Q,ut,mt;function _t(M){let ct=ut;ut=null,ct?ct(M):M&&mt.destroy(M)}return mt=new K({readableObjectMode:!!(A!=null&&A.readableObjectMode),writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readable:Et,writable:pt}),pt&&(v(Y,M=>{pt=!1,M&&O(A,M),_t(M)}),mt._write=function(M,ct,kt){Y.write(M,ct)?kt():It=kt},mt._final=function(M){Y.end(),Tt=M},Y.on("drain",function(){if(It){let M=It;It=null,M()}}),Y.on("finish",function(){if(Tt){let M=Tt;Tt=null,M()}})),Et&&(v(A,M=>{Et=!1,M&&O(A,M),_t(M)}),A.on("readable",function(){if(Q){let M=Q;Q=null,M()}}),A.on("end",function(){mt.push(null)}),mt._read=function(){for(;;){let M=A.read();if(M===null){Q=mt._read;return}if(!mt.push(M))return}}),mt._destroy=function(M,ct){!M&&ut!==null&&(M=new b),Q=null,It=null,Tt=null,ut===null?ct(M):(ut=ct,O(Y,M),O(A,M))},mt}}),fr=xt((t,o)=>{Ot(),Bt(),Mt();var{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:p,ObjectKeys:d,ObjectSetPrototypeOf:s}=Ie();o.exports=l;var n=qo(),u=Ca();s(l.prototype,n.prototype),s(l,n);{let b=d(u.prototype);for(let w=0;w<b.length;w++){let E=b[w];l.prototype[E]||(l.prototype[E]=u.prototype[E])}}function l(b){if(!(this instanceof l))return new l(b);n.call(this,b),u.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(l.prototype,{writable:{__proto__:null,...p(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...p(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...p(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...p(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...p(u.prototype,"writableLength")},writableFinished:{__proto__:null,...p(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...p(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...p(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...p(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});var c;function m(){return c===void 0&&(c={}),c}l.fromWeb=function(b,w){return m().newStreamDuplexFromReadableWritablePair(b,w)},l.toWeb=function(b){return m().newReadableWritablePairFromDuplex(b)};var v;l.from=function(b){return v||(v=pu()),v(b,"body")}}),Pa=xt((t,o)=>{Ot(),Bt(),Mt();var{ObjectSetPrototypeOf:e,Symbol:p}=Ie();o.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:d}=We().codes,s=fr(),{getHighWaterMark:n}=Kn();e(l.prototype,s.prototype),e(l,s);var u=p("kCallback");function l(v){if(!(this instanceof l))return new l(v);let b=v?n(this,v,"readableHighWaterMark",!0):null;b===0&&(v={...v,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:v.writableHighWaterMark||0}),s.call(this,v),this._readableState.sync=!1,this[u]=null,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",m)}function c(v){typeof this._flush=="function"&&!this.destroyed?this._flush((b,w)=>{if(b){v?v(b):this.destroy(b);return}w!=null&&this.push(w),this.push(null),v&&v()}):(this.push(null),v&&v())}function m(){this._final!==c&&c.call(this)}l.prototype._final=c,l.prototype._transform=function(v,b,w){throw new d("_transform()")},l.prototype._write=function(v,b,w){let E=this._readableState,O=this._writableState,N=E.length;this._transform(v,b,($,P)=>{if($){w($);return}P!=null&&this.push(P),O.ended||N===E.length||E.length<E.highWaterMark?w():this[u]=w})},l.prototype._read=function(){if(this[u]){let v=this[u];this[u]=null,v()}}}),Aa=xt((t,o)=>{Ot(),Bt(),Mt();var{ObjectSetPrototypeOf:e}=Ie();o.exports=d;var p=Pa();e(d.prototype,p.prototype),e(d,p);function d(s){if(!(this instanceof d))return new d(s);p.call(this,s)}d.prototype._transform=function(s,n,u){u(null,s)}}),Qn=xt((t,o)=>{Ot(),Bt(),Mt();var e=Kr(),{ArrayIsArray:p,Promise:d,SymbolAsyncIterator:s}=Ie(),n=kr(),{once:u}=hr(),l=eo(),c=fr(),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:O},AbortError:N}=We(),{validateFunction:$,validateAbortSignal:P}=Vo(),{isIterable:C,isReadable:H,isReadableNodeStream:tt,isNodeStream:D,isTransformStream:S,isWebStream:K,isReadableStream:it,isReadableEnded:z}=yr(),lt=globalThis.AbortController||Hn().AbortController,A,Y;function Et(ct,kt,Wt){let rt=!1;ct.on("close",()=>{rt=!0});let I=n(ct,{readable:kt,writable:Wt},k=>{rt=!k});return{destroy:k=>{rt||(rt=!0,l.destroyer(ct,k||new E("pipe")))},cleanup:I}}function pt(ct){return $(ct[ct.length-1],"streams[stream.length - 1]"),ct.pop()}function It(ct){if(C(ct))return ct;if(tt(ct))return Tt(ct);throw new v("val",["Readable","Iterable","AsyncIterable"],ct)}async function*Tt(ct){Y||(Y=qo()),yield*Y.prototype[s].call(ct)}async function Q(ct,kt,Wt,{end:rt}){let I,k=null,G=nt=>{if(nt&&(I=nt),k){let ht=k;k=null,ht()}},at=()=>new d((nt,ht)=>{I?ht(I):k=()=>{I?ht(I):nt()}});kt.on("drain",G);let et=n(kt,{readable:!1},G);try{kt.writableNeedDrain&&await at();for await(let nt of ct)kt.write(nt)||await at();rt&&kt.end(),await at(),Wt()}catch(nt){Wt(I!==nt?m(I,nt):nt)}finally{et(),kt.off("drain",G)}}async function ut(ct,kt,Wt,{end:rt}){S(kt)&&(kt=kt.writable);let I=kt.getWriter();try{for await(let k of ct)await I.ready,I.write(k).catch(()=>{});await I.ready,rt&&await I.close(),Wt()}catch(k){try{await I.abort(k),Wt(k)}catch(G){Wt(G)}}}function mt(...ct){return _t(ct,u(pt(ct)))}function _t(ct,kt,Wt){if(ct.length===1&&p(ct[0])&&(ct=ct[0]),ct.length<2)throw new w("streams");let rt=new lt,I=rt.signal,k=Wt==null?void 0:Wt.signal,G=[];P(k,"options.signal");function at(){J(new N)}k==null||k.addEventListener("abort",at);let et,nt,ht=[],wt=0;function x(U){J(U,--wt===0)}function J(U,ot){if(U&&(!et||et.code==="ERR_STREAM_PREMATURE_CLOSE")&&(et=U),!(!et&&!ot)){for(;ht.length;)ht.shift()(et);k==null||k.removeEventListener("abort",at),rt.abort(),ot&&(et||G.forEach(W=>W()),e.nextTick(kt,et,nt))}}let Z;for(let U=0;U<ct.length;U++){let ot=ct[U],W=U<ct.length-1,X=U>0,st=W||(Wt==null?void 0:Wt.end)!==!1,St=U===ct.length-1;if(D(ot)){let f=function(h){h&&h.name!=="AbortError"&&h.code!=="ERR_STREAM_PREMATURE_CLOSE"&&x(h)};if(st){let{destroy:h,cleanup:g}=Et(ot,W,X);ht.push(h),H(ot)&&St&&G.push(g)}ot.on("error",f),H(ot)&&St&&G.push(()=>{ot.removeListener("error",f)})}if(U===0)if(typeof ot=="function"){if(Z=ot({signal:I}),!C(Z))throw new b("Iterable, AsyncIterable or Stream","source",Z)}else C(ot)||tt(ot)||S(ot)?Z=ot:Z=c.from(ot);else if(typeof ot=="function"){if(S(Z)){var yt;Z=It((yt=Z)===null||yt===void 0?void 0:yt.readable)}else Z=It(Z);if(Z=ot(Z,{signal:I}),W){if(!C(Z,!0))throw new b("AsyncIterable",`transform[${U-1}]`,Z)}else{var ft;A||(A=Aa());let f=new A({objectMode:!0}),h=(ft=Z)===null||ft===void 0?void 0:ft.then;if(typeof h=="function")wt++,h.call(Z,L=>{nt=L,L!=null&&f.write(L),st&&f.end(),e.nextTick(x)},L=>{f.destroy(L),e.nextTick(x,L)});else if(C(Z,!0))wt++,Q(Z,f,x,{end:st});else if(it(Z)||S(Z)){let L=Z.readable||Z;wt++,Q(L,f,x,{end:st})}else throw new b("AsyncIterable or Promise","destination",Z);Z=f;let{destroy:g,cleanup:R}=Et(Z,!1,!0);ht.push(g),St&&G.push(R)}}else if(D(ot)){if(tt(Z)){wt+=2;let f=M(Z,ot,x,{end:st});H(ot)&&St&&G.push(f)}else if(S(Z)||it(Z)){let f=Z.readable||Z;wt++,Q(f,ot,x,{end:st})}else if(C(Z))wt++,Q(Z,ot,x,{end:st});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Z);Z=ot}else if(K(ot)){if(tt(Z))wt++,ut(It(Z),ot,x,{end:st});else if(it(Z)||C(Z))wt++,ut(Z,ot,x,{end:st});else if(S(Z))wt++,ut(Z.readable,ot,x,{end:st});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Z);Z=ot}else Z=c.from(ot)}return(I!=null&&I.aborted||k!=null&&k.aborted)&&e.nextTick(at),Z}function M(ct,kt,Wt,{end:rt}){let I=!1;if(kt.on("close",()=>{I||Wt(new O)}),ct.pipe(kt,{end:!1}),rt){let k=function(){I=!0,kt.end()};z(ct)?e.nextTick(k):ct.once("end",k)}else Wt();return n(ct,{readable:!0,writable:!1},k=>{let G=ct._readableState;k&&k.code==="ERR_STREAM_PREMATURE_CLOSE"&&G&&G.ended&&!G.errored&&!G.errorEmitted?ct.once("end",Wt).once("error",Wt):Wt(k)}),n(kt,{readable:!1,writable:!0},Wt)}o.exports={pipelineImpl:_t,pipeline:mt}}),xa=xt((t,o)=>{Ot(),Bt(),Mt();var{pipeline:e}=Qn(),p=fr(),{destroyer:d}=eo(),{isNodeStream:s,isReadable:n,isWritable:u,isWebStream:l,isTransformStream:c,isWritableStream:m,isReadableStream:v}=yr(),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:w,ERR_MISSING_ARGS:E}}=We(),O=kr();o.exports=function(...N){if(N.length===0)throw new E("streams");if(N.length===1)return p.from(N[0]);let $=[...N];if(typeof N[0]=="function"&&(N[0]=p.from(N[0])),typeof N[N.length-1]=="function"){let A=N.length-1;N[A]=p.from(N[A])}for(let A=0;A<N.length;++A)if(!(!s(N[A])&&!l(N[A]))){if(A<N.length-1&&!(n(N[A])||v(N[A])||c(N[A])))throw new w(`streams[${A}]`,$[A],"must be readable");if(A>0&&!(u(N[A])||m(N[A])||c(N[A])))throw new w(`streams[${A}]`,$[A],"must be writable")}let P,C,H,tt,D;function S(A){let Y=tt;tt=null,Y?Y(A):A?D.destroy(A):!lt&&!z&&D.destroy()}let K=N[0],it=e(N,S),z=!!(u(K)||m(K)||c(K)),lt=!!(n(it)||v(it)||c(it));if(D=new p({writableObjectMode:!!(K!=null&&K.writableObjectMode),readableObjectMode:!!(it!=null&&it.writableObjectMode),writable:z,readable:lt}),z){if(s(K))D._write=function(Y,Et,pt){K.write(Y,Et)?pt():P=pt},D._final=function(Y){K.end(),C=Y},K.on("drain",function(){if(P){let Y=P;P=null,Y()}});else if(l(K)){let Y=(c(K)?K.writable:K).getWriter();D._write=async function(Et,pt,It){try{await Y.ready,Y.write(Et).catch(()=>{}),It()}catch(Tt){It(Tt)}},D._final=async function(Et){try{await Y.ready,Y.close().catch(()=>{}),C=Et}catch(pt){Et(pt)}}}let A=c(it)?it.readable:it;O(A,()=>{if(C){let Y=C;C=null,Y()}})}if(lt){if(s(it))it.on("readable",function(){if(H){let A=H;H=null,A()}}),it.on("end",function(){D.push(null)}),D._read=function(){for(;;){let A=it.read();if(A===null){H=D._read;return}if(!D.push(A))return}};else if(l(it)){let A=(c(it)?it.readable:it).getReader();D._read=async function(){for(;;)try{let{value:Y,done:Et}=await A.read();if(!D.push(Y))return;if(Et){D.push(null);return}}catch{return}}}}return D._destroy=function(A,Y){!A&&tt!==null&&(A=new b),H=null,P=null,C=null,tt===null?Y(A):(tt=Y,s(it)&&d(it,A))},D}}),uu=xt((t,o)=>{Ot(),Bt(),Mt();var e=globalThis.AbortController||Hn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:p,ERR_INVALID_ARG_TYPE:d,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:n},AbortError:u}=We(),{validateAbortSignal:l,validateInteger:c,validateObject:m}=Vo(),v=Ie().Symbol("kWeak"),{finished:b}=kr(),w=xa(),{addAbortSignalNoValidate:E}=Go(),{isWritable:O,isNodeStream:N}=yr(),{ArrayPrototypePush:$,MathFloor:P,Number:C,NumberIsNaN:H,Promise:tt,PromiseReject:D,PromisePrototypeThen:S,Symbol:K}=Ie(),it=K("kEmpty"),z=K("kEof");function lt(rt,I){if(I!=null&&m(I,"options"),(I==null?void 0:I.signal)!=null&&l(I.signal,"options.signal"),N(rt)&&!O(rt))throw new p("stream",rt,"must be writable");let k=w(this,rt);return I!=null&&I.signal&&E(I.signal,k),k}function A(rt,I){if(typeof rt!="function")throw new d("fn",["Function","AsyncFunction"],rt);I!=null&&m(I,"options"),(I==null?void 0:I.signal)!=null&&l(I.signal,"options.signal");let k=1;return(I==null?void 0:I.concurrency)!=null&&(k=P(I.concurrency)),c(k,"concurrency",1),(async function*(){var G,at;let et=new e,nt=this,ht=[],wt=et.signal,x={signal:wt},J=()=>et.abort();I!=null&&(G=I.signal)!==null&&G!==void 0&&G.aborted&&J(),I==null||(at=I.signal)===null||at===void 0||at.addEventListener("abort",J);let Z,yt,ft=!1;function U(){ft=!0}async function ot(){try{for await(let st of nt){var W;if(ft)return;if(wt.aborted)throw new u;try{st=rt(st,x)}catch(St){st=D(St)}st!==it&&(typeof((W=st)===null||W===void 0?void 0:W.catch)=="function"&&st.catch(U),ht.push(st),Z&&(Z(),Z=null),!ft&&ht.length&&ht.length>=k&&await new tt(St=>{yt=St}))}ht.push(z)}catch(st){let St=D(st);S(St,void 0,U),ht.push(St)}finally{var X;ft=!0,Z&&(Z(),Z=null),I==null||(X=I.signal)===null||X===void 0||X.removeEventListener("abort",J)}}ot();try{for(;;){for(;ht.length>0;){let W=await ht[0];if(W===z)return;if(wt.aborted)throw new u;W!==it&&(yield W),ht.shift(),yt&&(yt(),yt=null)}await new tt(W=>{Z=W})}}finally{et.abort(),ft=!0,yt&&(yt(),yt=null)}}).call(this)}function Y(rt=void 0){return rt!=null&&m(rt,"options"),(rt==null?void 0:rt.signal)!=null&&l(rt.signal,"options.signal"),(async function*(){let I=0;for await(let G of this){var k;if(rt!=null&&(k=rt.signal)!==null&&k!==void 0&&k.aborted)throw new u({cause:rt.signal.reason});yield[I++,G]}}).call(this)}async function Et(rt,I=void 0){for await(let k of Q.call(this,rt,I))return!0;return!1}async function pt(rt,I=void 0){if(typeof rt!="function")throw new d("fn",["Function","AsyncFunction"],rt);return!await Et.call(this,async(...k)=>!await rt(...k),I)}async function It(rt,I){for await(let k of Q.call(this,rt,I))return k}async function Tt(rt,I){if(typeof rt!="function")throw new d("fn",["Function","AsyncFunction"],rt);async function k(G,at){return await rt(G,at),it}for await(let G of A.call(this,k,I));}function Q(rt,I){if(typeof rt!="function")throw new d("fn",["Function","AsyncFunction"],rt);async function k(G,at){return await rt(G,at)?G:it}return A.call(this,k,I)}var ut=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function mt(rt,I,k){var G;if(typeof rt!="function")throw new d("reducer",["Function","AsyncFunction"],rt);k!=null&&m(k,"options"),(k==null?void 0:k.signal)!=null&&l(k.signal,"options.signal");let at=arguments.length>1;if(k!=null&&(G=k.signal)!==null&&G!==void 0&&G.aborted){let x=new u(void 0,{cause:k.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(x)),x}let et=new e,nt=et.signal;if(k!=null&&k.signal){let x={once:!0,[v]:this};k.signal.addEventListener("abort",()=>et.abort(),x)}let ht=!1;try{for await(let x of this){var wt;if(ht=!0,k!=null&&(wt=k.signal)!==null&&wt!==void 0&&wt.aborted)throw new u;at?I=await rt(I,x,{signal:nt}):(I=x,at=!0)}if(!ht&&!at)throw new ut}finally{et.abort()}return I}async function _t(rt){rt!=null&&m(rt,"options"),(rt==null?void 0:rt.signal)!=null&&l(rt.signal,"options.signal");let I=[];for await(let G of this){var k;if(rt!=null&&(k=rt.signal)!==null&&k!==void 0&&k.aborted)throw new u(void 0,{cause:rt.signal.reason});$(I,G)}return I}function M(rt,I){let k=A.call(this,rt,I);return(async function*(){for await(let G of k)yield*G}).call(this)}function ct(rt){if(rt=C(rt),H(rt))return 0;if(rt<0)throw new n("number",">= 0",rt);return rt}function kt(rt,I=void 0){return I!=null&&m(I,"options"),(I==null?void 0:I.signal)!=null&&l(I.signal,"options.signal"),rt=ct(rt),(async function*(){var k;if(I!=null&&(k=I.signal)!==null&&k!==void 0&&k.aborted)throw new u;for await(let at of this){var G;if(I!=null&&(G=I.signal)!==null&&G!==void 0&&G.aborted)throw new u;rt--<=0&&(yield at)}}).call(this)}function Wt(rt,I=void 0){return I!=null&&m(I,"options"),(I==null?void 0:I.signal)!=null&&l(I.signal,"options.signal"),rt=ct(rt),(async function*(){var k;if(I!=null&&(k=I.signal)!==null&&k!==void 0&&k.aborted)throw new u;for await(let at of this){var G;if(I!=null&&(G=I.signal)!==null&&G!==void 0&&G.aborted)throw new u;if(rt-- >0)yield at;else return}}).call(this)}o.exports.streamReturningOperators={asIndexedPairs:Y,drop:kt,filter:Q,flatMap:M,map:A,take:Wt,compose:lt},o.exports.promiseReturningOperators={every:pt,forEach:Tt,reduce:mt,toArray:_t,some:Et,find:It}}),Fa=xt((t,o)=>{Ot(),Bt(),Mt();var{ArrayPrototypePop:e,Promise:p}=Ie(),{isIterable:d,isNodeStream:s,isWebStream:n}=yr(),{pipelineImpl:u}=Qn(),{finished:l}=kr();Wa();function c(...m){return new p((v,b)=>{let w,E,O=m[m.length-1];if(O&&typeof O=="object"&&!s(O)&&!d(O)&&!n(O)){let N=e(m);w=N.signal,E=N.end}u(m,(N,$)=>{N?b(N):v($)},{signal:w,end:E})})}o.exports={finished:l,pipeline:c}}),Wa=xt((t,o)=>{Ot(),Bt(),Mt();var{Buffer:e}=(Re(),le(Be)),{ObjectDefineProperty:p,ObjectKeys:d,ReflectApply:s}=Ie(),{promisify:{custom:n}}=hr(),{streamReturningOperators:u,promiseReturningOperators:l}=uu(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=We(),m=xa(),{pipeline:v}=Qn(),{destroyer:b}=eo(),w=kr(),E=Fa(),O=yr(),N=o.exports=qn().Stream;N.isDisturbed=O.isDisturbed,N.isErrored=O.isErrored,N.isReadable=O.isReadable,N.Readable=qo();for(let P of d(u)){let C=function(...tt){if(new.target)throw c();return N.Readable.from(s(H,this,tt))},H=u[P];p(C,"name",{__proto__:null,value:H.name}),p(C,"length",{__proto__:null,value:H.length}),p(N.Readable.prototype,P,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}for(let P of d(l)){let C=function(...tt){if(new.target)throw c();return s(H,this,tt)},H=l[P];p(C,"name",{__proto__:null,value:H.name}),p(C,"length",{__proto__:null,value:H.length}),p(N.Readable.prototype,P,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}N.Writable=Ca(),N.Duplex=fr(),N.Transform=Pa(),N.PassThrough=Aa(),N.pipeline=v;var{addAbortSignal:$}=Go();N.addAbortSignal=$,N.finished=w,N.destroy=b,N.compose=m,p(N,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return E}}),p(v,n,{__proto__:null,enumerable:!0,get(){return E.pipeline}}),p(w,n,{__proto__:null,enumerable:!0,get(){return E.finished}}),N.Stream=N,N._isUint8Array=function(P){return P instanceof Uint8Array},N._uint8ArrayToBuffer=function(P){return e.from(P.buffer,P.byteOffset,P.byteLength)}}),Jr=xt((t,o)=>{Ot(),Bt(),Mt();var e=Wa(),p=Fa(),d=e.Readable.destroy;o.exports=e.Readable,o.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,o.exports._isUint8Array=e._isUint8Array,o.exports.isDisturbed=e.isDisturbed,o.exports.isErrored=e.isErrored,o.exports.isReadable=e.isReadable,o.exports.Readable=e.Readable,o.exports.Writable=e.Writable,o.exports.Duplex=e.Duplex,o.exports.Transform=e.Transform,o.exports.PassThrough=e.PassThrough,o.exports.addAbortSignal=e.addAbortSignal,o.exports.finished=e.finished,o.exports.destroy=e.destroy,o.exports.destroy=d,o.exports.pipeline=e.pipeline,o.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return p}}),o.exports.Stream=e.Stream,o.exports.default=o.exports}),cu=xt((t,o)=>{Ot(),Bt(),Mt(),typeof Object.create=="function"?o.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(e,p){if(p){e.super_=p;var d=function(){};d.prototype=p.prototype,e.prototype=new d,e.prototype.constructor=e}}}),du=xt((t,o)=>{Ot(),Bt(),Mt();var{Buffer:e}=(Re(),le(Be)),p=Symbol.for("BufferList");function d(s){if(!(this instanceof d))return new d(s);d._init.call(this,s)}d._init=function(s){Object.defineProperty(this,p,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},d.prototype._new=function(s){return new d(s)},d.prototype._offset=function(s){if(s===0)return[0,0];let n=0;for(let u=0;u<this._bufs.length;u++){let l=n+this._bufs[u].length;if(s<l||u===this._bufs.length-1)return[u,s-n];n=l}},d.prototype._reverseOffset=function(s){let n=s[0],u=s[1];for(let l=0;l<n;l++)u+=this._bufs[l].length;return u},d.prototype.get=function(s){if(s>this.length||s<0)return;let n=this._offset(s);return this._bufs[n[0]][n[1]]},d.prototype.slice=function(s,n){return typeof s=="number"&&s<0&&(s+=this.length),typeof n=="number"&&n<0&&(n+=this.length),this.copy(null,0,s,n)},d.prototype.copy=function(s,n,u,l){if((typeof u!="number"||u<0)&&(u=0),(typeof l!="number"||l>this.length)&&(l=this.length),u>=this.length||l<=0)return s||e.alloc(0);let c=!!s,m=this._offset(u),v=l-u,b=v,w=c&&n||0,E=m[1];if(u===0&&l===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:e.concat(this._bufs,this.length);for(let O=0;O<this._bufs.length;O++)this._bufs[O].copy(s,w),w+=this._bufs[O].length;return s}if(b<=this._bufs[m[0]].length-E)return c?this._bufs[m[0]].copy(s,n,E,E+b):this._bufs[m[0]].slice(E,E+b);c||(s=e.allocUnsafe(v));for(let O=m[0];O<this._bufs.length;O++){let N=this._bufs[O].length-E;if(b>N)this._bufs[O].copy(s,w,E),w+=N;else{this._bufs[O].copy(s,w,E,E+b),w+=N;break}b-=N,E&&(E=0)}return s.length>w?s.slice(0,w):s},d.prototype.shallowSlice=function(s,n){if(s=s||0,n=typeof n!="number"?this.length:n,s<0&&(s+=this.length),n<0&&(n+=this.length),s===n)return this._new();let u=this._offset(s),l=this._offset(n),c=this._bufs.slice(u[0],l[0]+1);return l[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,l[1]),u[1]!==0&&(c[0]=c[0].slice(u[1])),this._new(c)},d.prototype.toString=function(s,n,u){return this.slice(n,u).toString(s)},d.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},d.prototype.duplicate=function(){let s=this._new();for(let n=0;n<this._bufs.length;n++)s.append(this._bufs[n]);return s},d.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(e.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let n=0;n<s.length;n++)this.append(s[n]);else if(this._isBufferList(s))for(let n=0;n<s._bufs.length;n++)this.append(s._bufs[n]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(e.from(s));return this},d.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},d.prototype.indexOf=function(s,n,u){if(u===void 0&&typeof n=="string"&&(u=n,n=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=e.from([s]):typeof s=="string"?s=e.from(s,u):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=e.from(s.buffer,s.byteOffset,s.byteLength):e.isBuffer(s)||(s=e.from(s)),n=Number(n||0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),s.length===0)return n>this.length?this.length:n;let l=this._offset(n),c=l[0],m=l[1];for(;c<this._bufs.length;c++){let v=this._bufs[c];for(;m<v.length;)if(v.length-m>=s.length){let b=v.indexOf(s,m);if(b!==-1)return this._reverseOffset([c,b]);m=v.length-s.length+1}else{let b=this._reverseOffset([c,m]);if(this._match(b,s))return b;m++}m=0}return-1},d.prototype._match=function(s,n){if(this.length-s<n.length)return!1;for(let u=0;u<n.length;u++)if(this.get(s+u)!==n[u])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let n in s)(function(u){s[u]===null?d.prototype[u]=function(l,c){return this.slice(l,l+c)[u](0,c)}:d.prototype[u]=function(l=0){return this.slice(l,l+s[u])[u](0)}})(n)}(),d.prototype._isBufferList=function(s){return s instanceof d||d.isBufferList(s)},d.isBufferList=function(s){return s!=null&&s[p]},o.exports=d}),hu=xt((t,o)=>{Ot(),Bt(),Mt();var e=Jr().Duplex,p=cu(),d=du();function s(n){if(!(this instanceof s))return new s(n);if(typeof n=="function"){this._callback=n;let u=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",u)}),this.on("unpipe",function(l){l.removeListener("error",u)}),n=null}d._init.call(this,n),e.call(this)}p(s,e),Object.assign(s.prototype,d.prototype),s.prototype._new=function(n){return new s(n)},s.prototype._write=function(n,u,l){this._appendBuffer(n),typeof l=="function"&&l()},s.prototype._read=function(n){if(!this.length)return this.push(null);n=Math.min(n,this.length),this.push(this.slice(0,n)),this.consume(n)},s.prototype.end=function(n){e.prototype.end.call(this,n),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(n,u){this._bufs.length=0,this.length=0,u(n)},s.prototype._isBufferList=function(n){return n instanceof s||n instanceof d||s.isBufferList(n)},s.isBufferList=d.isBufferList,o.exports=s,o.exports.BufferListStream=s,o.exports.BufferList=d}),fu=xt((t,o)=>{Ot(),Bt(),Mt();var e=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};o.exports=e}),Na=xt((t,o)=>{Ot(),Bt(),Mt();var e=o.exports,{Buffer:p}=(Re(),le(Be));e.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},e.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},e.requiredHeaderFlagsErrors={};for(let s in e.requiredHeaderFlags){let n=e.requiredHeaderFlags[s];e.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+n.toString(16)+" for "+e.types[s]+" packet"}e.codes={};for(let s in e.types){let n=e.types[s];e.codes[n]=s}e.CMD_SHIFT=4,e.CMD_MASK=240,e.DUP_MASK=8,e.QOS_MASK=3,e.QOS_SHIFT=1,e.RETAIN_MASK=1,e.VARBYTEINT_MASK=127,e.VARBYTEINT_FIN_MASK=128,e.VARBYTEINT_MAX=268435455,e.SESSIONPRESENT_MASK=1,e.SESSIONPRESENT_HEADER=p.from([e.SESSIONPRESENT_MASK]),e.CONNACK_HEADER=p.from([e.codes.connack<<e.CMD_SHIFT]),e.USERNAME_MASK=128,e.PASSWORD_MASK=64,e.WILL_RETAIN_MASK=32,e.WILL_QOS_MASK=24,e.WILL_QOS_SHIFT=3,e.WILL_FLAG_MASK=4,e.CLEAN_SESSION_MASK=2,e.CONNECT_HEADER=p.from([e.codes.connect<<e.CMD_SHIFT]),e.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},e.propertiesCodes={};for(let s in e.properties){let n=e.properties[s];e.propertiesCodes[n]=s}e.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function d(s){return[0,1,2].map(n=>[0,1].map(u=>[0,1].map(l=>{let c=p.alloc(1);return c.writeUInt8(e.codes[s]<<e.CMD_SHIFT|(u?e.DUP_MASK:0)|n<<e.QOS_SHIFT|l,0,!0),c})))}e.PUBLISH_HEADER=d("publish"),e.SUBSCRIBE_HEADER=d("subscribe"),e.SUBSCRIBE_OPTIONS_QOS_MASK=3,e.SUBSCRIBE_OPTIONS_NL_MASK=1,e.SUBSCRIBE_OPTIONS_NL_SHIFT=2,e.SUBSCRIBE_OPTIONS_RAP_MASK=1,e.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,e.SUBSCRIBE_OPTIONS_RH_MASK=3,e.SUBSCRIBE_OPTIONS_RH_SHIFT=4,e.SUBSCRIBE_OPTIONS_RH=[0,16,32],e.SUBSCRIBE_OPTIONS_NL=4,e.SUBSCRIBE_OPTIONS_RAP=8,e.SUBSCRIBE_OPTIONS_QOS=[0,1,2],e.UNSUBSCRIBE_HEADER=d("unsubscribe"),e.ACKS={unsuback:d("unsuback"),puback:d("puback"),pubcomp:d("pubcomp"),pubrel:d("pubrel"),pubrec:d("pubrec")},e.SUBACK_HEADER=p.from([e.codes.suback<<e.CMD_SHIFT]),e.VERSION3=p.from([3]),e.VERSION4=p.from([4]),e.VERSION5=p.from([5]),e.VERSION131=p.from([131]),e.VERSION132=p.from([132]),e.QOS=[0,1,2].map(s=>p.from([s])),e.EMPTY={pingreq:p.from([e.codes.pingreq<<4,0]),pingresp:p.from([e.codes.pingresp<<4,0]),disconnect:p.from([e.codes.disconnect<<4,0])},e.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},e.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},e.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},e.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},e.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),mu=xt((t,o)=>{Ot(),Bt(),Mt();var e=1e3,p=e*60,d=p*60,s=d*24,n=s*7,u=s*365.25;o.exports=function(b,w){w=w||{};var E=typeof b;if(E==="string"&&b.length>0)return l(b);if(E==="number"&&isFinite(b))return w.long?m(b):c(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function l(b){if(b=String(b),!(b.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(w){var E=parseFloat(w[1]),O=(w[2]||"ms").toLowerCase();switch(O){case"years":case"year":case"yrs":case"yr":case"y":return E*u;case"weeks":case"week":case"w":return E*n;case"days":case"day":case"d":return E*s;case"hours":case"hour":case"hrs":case"hr":case"h":return E*d;case"minutes":case"minute":case"mins":case"min":case"m":return E*p;case"seconds":case"second":case"secs":case"sec":case"s":return E*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function c(b){var w=Math.abs(b);return w>=s?Math.round(b/s)+"d":w>=d?Math.round(b/d)+"h":w>=p?Math.round(b/p)+"m":w>=e?Math.round(b/e)+"s":b+"ms"}function m(b){var w=Math.abs(b);return w>=s?v(b,w,s,"day"):w>=d?v(b,w,d,"hour"):w>=p?v(b,w,p,"minute"):w>=e?v(b,w,e,"second"):b+" ms"}function v(b,w,E,O){var N=w>=E*1.5;return Math.round(b/E)+" "+O+(N?"s":"")}}),yu=xt((t,o)=>{Ot(),Bt(),Mt();function e(p){s.debug=s,s.default=s,s.coerce=v,s.disable=l,s.enable=u,s.enabled=c,s.humanize=mu(),s.destroy=b,Object.keys(p).forEach(w=>{s[w]=p[w]}),s.names=[],s.skips=[],s.formatters={};function d(w){let E=0;for(let O=0;O<w.length;O++)E=(E<<5)-E+w.charCodeAt(O),E|=0;return s.colors[Math.abs(E)%s.colors.length]}s.selectColor=d;function s(w){let E,O=null,N,$;function P(...C){if(!P.enabled)return;let H=P,tt=Number(new Date),D=tt-(E||tt);H.diff=D,H.prev=E,H.curr=tt,E=tt,C[0]=s.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let S=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(K,it)=>{if(K==="%%")return"%";S++;let z=s.formatters[it];if(typeof z=="function"){let lt=C[S];K=z.call(H,lt),C.splice(S,1),S--}return K}),s.formatArgs.call(H,C),(H.log||s.log).apply(H,C)}return P.namespace=w,P.useColors=s.useColors(),P.color=s.selectColor(w),P.extend=n,P.destroy=s.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>O!==null?O:(N!==s.namespaces&&(N=s.namespaces,$=s.enabled(w)),$),set:C=>{O=C}}),typeof s.init=="function"&&s.init(P),P}function n(w,E){let O=s(this.namespace+(typeof E>"u"?":":E)+w);return O.log=this.log,O}function u(w){s.save(w),s.namespaces=w,s.names=[],s.skips=[];let E,O=(typeof w=="string"?w:"").split(/[\s,]+/),N=O.length;for(E=0;E<N;E++)O[E]&&(w=O[E].replace(/\*/g,".*?"),w[0]==="-"?s.skips.push(new RegExp("^"+w.slice(1)+"$")):s.names.push(new RegExp("^"+w+"$")))}function l(){let w=[...s.names.map(m),...s.skips.map(m).map(E=>"-"+E)].join(",");return s.enable(""),w}function c(w){if(w[w.length-1]==="*")return!0;let E,O;for(E=0,O=s.skips.length;E<O;E++)if(s.skips[E].test(w))return!1;for(E=0,O=s.names.length;E<O;E++)if(s.names[E].test(w))return!0;return!1}function m(w){return w.toString().substring(2,w.toString().length-2).replace(/\.\*\?$/,"*")}function v(w){return w instanceof Error?w.stack||w.message:w}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}o.exports=e}),mr=xt((t,o)=>{Ot(),Bt(),Mt(),t.formatArgs=p,t.save=d,t.load=s,t.useColors=e,t.storage=n(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;l.splice(1,0,c,"color: inherit");let m=0,v=0;l[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(m++,b==="%c"&&(v=m))}),l.splice(v,0,c)}t.log=console.debug||console.log||(()=>{});function d(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof oe<"u"&&"env"in oe&&(l=oe.env.DEBUG),l}function n(){try{return localStorage}catch{}}o.exports=yu()(t);var{formatters:u}=o.exports;u.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}),gu=xt((t,o)=>{Ot(),Bt(),Mt();var e=hu(),{EventEmitter:p}=(ro(),le(Yr)),d=fu(),s=Na(),n=mr()("mqtt-packet:parser"),u=class On extends p{constructor(){super(),this.parser=this.constructor.parser}static parser(c){return this instanceof On?(this.settings=c||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new On().parser(c)}_resetState(){n("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new d,this.error=null,this._list=e(),this._stateCounter=0}parse(c){for(this.error&&this._resetState(),this._list.append(c),n("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,n("parse: state complete. _stateCounter is now: %d",this._stateCounter),n("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return n("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let c=this._list.readUInt8(0),m=c>>s.CMD_SHIFT;this.packet.cmd=s.types[m];let v=c&15,b=s.requiredHeaderFlags[m];return b!=null&&v!==b?this._emitError(new Error(s.requiredHeaderFlagsErrors[m])):(this.packet.retain=(c&s.RETAIN_MASK)!==0,this.packet.qos=c>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(c&s.DUP_MASK)!==0,n("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let c=this._parseVarByteNum(!0);return c&&(this.packet.length=c.value,this._list.consume(c.bytes)),n("_parseLength %d",c.value),!!c}_parsePayload(){n("_parsePayload: payload %O",this._list);let c=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}c=!0}return n("_parsePayload complete result: %s",c),c}_parseConnect(){n("_parseConnect");let c,m,v,b,w={},E=this.packet,O=this._parseString();if(O===null)return this._emitError(new Error("Cannot parse protocolId"));if(O!=="MQTT"&&O!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(E.protocolId=O,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(E.protocolVersion=this._list.readUInt8(this._pos),E.protocolVersion>=128&&(E.bridgeMode=!0,E.protocolVersion=E.protocolVersion-128),E.protocolVersion!==3&&E.protocolVersion!==4&&E.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));w.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,w.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,w.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let N=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),$=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(w.will)E.will={},E.will.retain=N,E.will.qos=$;else{if(N)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if($)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(E.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,E.keepalive=this._parseNum(),E.keepalive===-1)return this._emitError(new Error("Packet too short"));if(E.protocolVersion===5){let C=this._parseProperties();Object.getOwnPropertyNames(C).length&&(E.properties=C)}let P=this._parseString();if(P===null)return this._emitError(new Error("Packet too short"));if(E.clientId=P,n("_parseConnect: packet.clientId: %s",E.clientId),w.will){if(E.protocolVersion===5){let C=this._parseProperties();Object.getOwnPropertyNames(C).length&&(E.will.properties=C)}if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse will topic"));if(E.will.topic=c,n("_parseConnect: packet.will.topic: %s",E.will.topic),m=this._parseBuffer(),m===null)return this._emitError(new Error("Cannot parse will payload"));E.will.payload=m,n("_parseConnect: packet.will.paylaod: %s",E.will.payload)}if(w.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));E.username=b,n("_parseConnect: packet.username: %s",E.username)}if(w.password){if(v=this._parseBuffer(),v===null)return this._emitError(new Error("Cannot parse password"));E.password=v}return this.settings=E,n("_parseConnect: complete"),E}_parseConnack(){n("_parseConnack");let c=this.packet;if(this._list.length<1)return null;let m=this._list.readUInt8(this._pos++);if(m>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(c.sessionPresent=!!(m&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?c.reasonCode=this._list.readUInt8(this._pos++):c.reasonCode=0;else{if(this._list.length<2)return null;c.returnCode=this._list.readUInt8(this._pos++)}if(c.returnCode===-1||c.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(c.properties=v)}n("_parseConnack: complete")}_parsePublish(){n("_parsePublish");let c=this.packet;if(c.topic=this._parseString(),c.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(c.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}c.payload=this._list.slice(this._pos,c.length),n("_parsePublish: payload from buffer list: %o",c.payload)}}_parseSubscribe(){n("_parseSubscribe");let c=this.packet,m,v,b,w,E,O,N;if(c.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let $=this._parseProperties();Object.getOwnPropertyNames($).length&&(c.properties=$)}if(c.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<c.length;){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=c.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(v=this._parseByte(),this.settings.protocolVersion===5){if(v&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(v&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=v&s.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(O=(v>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,E=(v>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,w=v>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,w>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));N={topic:m,qos:b},this.settings.protocolVersion===5?(N.nl=O,N.rap=E,N.rh=w):this.settings.bridgeMode&&(N.rh=0,N.rap=!0,N.nl=!0),n("_parseSubscribe: push subscription `%s` to subscription",N),c.subscriptions.push(N)}}}_parseSuback(){n("_parseSuback");let c=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}if(c.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let m=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[m])return this._emitError(new Error("Invalid suback code"))}else if(m>2&&m!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(m)}}}_parseUnsubscribe(){n("_parseUnsubscribe");let c=this.packet;if(c.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}if(c.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<c.length;){let m=this._parseString();if(m===null)return this._emitError(new Error("Cannot parse topic"));n("_parseUnsubscribe: push topic `%s` to unsubscriptions",m),c.unsubscriptions.push(m)}}}_parseUnsuback(){n("_parseUnsuback");let c=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&c.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(c.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let m=this._parseProperties();for(Object.getOwnPropertyNames(m).length&&(c.properties=m),c.granted=[];this._pos<this.packet.length;){let v=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[v])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(v)}}}_parseConfirmation(){n("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let c=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(c.length>2){switch(c.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[c.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}n("_parseConfirmation: packet.reasonCode `%d`",c.reasonCode)}else c.reasonCode=0;if(c.length>3){let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}}return!0}_parseDisconnect(){let c=this.packet;if(n("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(c.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[c.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):c.reasonCode=0;let m=this._parseProperties();Object.getOwnPropertyNames(m).length&&(c.properties=m)}return n("_parseDisconnect result: true"),!0}_parseAuth(){n("_parseAuth");let c=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(c.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[c.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let m=this._parseProperties();return Object.getOwnPropertyNames(m).length&&(c.properties=m),n("_parseAuth: result: true"),!0}_parseMessageId(){let c=this.packet;return c.messageId=this._parseNum(),c.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(n("_parseMessageId: packet.messageId %d",c.messageId),!0)}_parseString(c){let m=this._parseNum(),v=m+this._pos;if(m===-1||v>this._list.length||v>this.packet.length)return null;let b=this._list.toString("utf8",this._pos,v);return this._pos+=m,n("_parseString: result: %s",b),b}_parseStringPair(){return n("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let c=this._parseNum(),m=c+this._pos;if(c===-1||m>this._list.length||m>this.packet.length)return null;let v=this._list.slice(this._pos,m);return this._pos+=c,n("_parseBuffer: result: %o",v),v}_parseNum(){if(this._list.length-this._pos<2)return-1;let c=this._list.readUInt16BE(this._pos);return this._pos+=2,n("_parseNum: result: %s",c),c}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let c=this._list.readUInt32BE(this._pos);return this._pos+=4,n("_parse4ByteNum: result: %s",c),c}_parseVarByteNum(c){n("_parseVarByteNum");let m=4,v=0,b=1,w=0,E=!1,O,N=this._pos?this._pos:0;for(;v<m&&N+v<this._list.length;){if(O=this._list.readUInt8(N+v++),w+=b*(O&s.VARBYTEINT_MASK),b*=128,!(O&s.VARBYTEINT_FIN_MASK)){E=!0;break}if(this._list.length<=v)break}return!E&&v===m&&this._list.length>=v&&this._emitError(new Error("Invalid variable byte integer")),N&&(this._pos+=v),E?c?E={bytes:v,value:w}:E=w:E=!1,n("_parseVarByteNum: result: %o",E),E}_parseByte(){let c;return this._pos<this._list.length&&(c=this._list.readUInt8(this._pos),this._pos++),n("_parseByte: result: %o",c),c}_parseByType(c){switch(n("_parseByType: type: %s",c),c){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){n("_parseProperties");let c=this._parseVarByteNum(),m=this._pos+c,v={};for(;this._pos<m;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let w=s.propertiesCodes[b];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){v[w]||(v[w]=Object.create(null));let E=this._parseByType(s.propertiesTypes[w]);if(v[w][E.name])if(Array.isArray(v[w][E.name]))v[w][E.name].push(E.value);else{let O=v[w][E.name];v[w][E.name]=[O],v[w][E.name].push(E.value)}else v[w][E.name]=E.value;continue}v[w]?Array.isArray(v[w])?v[w].push(this._parseByType(s.propertiesTypes[w])):(v[w]=[v[w]],v[w].push(this._parseByType(s.propertiesTypes[w]))):v[w]=this._parseByType(s.propertiesTypes[w])}return v}_newPacket(){return n("_newPacket"),this.packet&&(this._list.consume(this.packet.length),n("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),n("_newPacket: new packet"),this.packet=new d,this._pos=0,!0}_emitError(c){n("_emitError",c),this.error=c,this.emit("error",c)}};o.exports=u}),vu=xt((t,o)=>{Ot(),Bt(),Mt();var{Buffer:e}=(Re(),le(Be)),p=65536,d={},s=e.isBuffer(e.from([1,2]).subarray(0,1));function n(m){let v=e.allocUnsafe(2);return v.writeUInt8(m>>8,0),v.writeUInt8(m&255,1),v}function u(){for(let m=0;m<p;m++)d[m]=n(m)}function l(m){let v=0,b=0,w=e.allocUnsafe(4);do v=m%128|0,m=m/128|0,m>0&&(v=v|128),w.writeUInt8(v,b++);while(m>0&&b<4);return m>0&&(b=0),s?w.subarray(0,b):w.slice(0,b)}function c(m){let v=e.allocUnsafe(4);return v.writeUInt32BE(m,0),v}o.exports={cache:d,generateCache:u,generateNumber:n,genBufVariableByteInt:l,generate4ByteBuffer:c}}),bu=xt((t,o)=>{Ot(),Bt(),Mt(),typeof oe>"u"||!oe.version||oe.version.indexOf("v0.")===0||oe.version.indexOf("v1.")===0&&oe.version.indexOf("v1.8.")!==0?o.exports={nextTick:e}:o.exports=oe;function e(p,d,s,n){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,l,c;switch(u){case 0:case 1:return oe.nextTick(p);case 2:return oe.nextTick(function(){p.call(null,d)});case 3:return oe.nextTick(function(){p.call(null,d,s)});case 4:return oe.nextTick(function(){p.call(null,d,s,n)});default:for(l=new Array(u-1),c=0;c<l.length;)l[c++]=arguments[c];return oe.nextTick(function(){p.apply(null,l)})}}}),ja=xt((t,o)=>{Ot(),Bt(),Mt();var e=Na(),{Buffer:p}=(Re(),le(Be)),d=p.allocUnsafe(0),s=p.from([0]),n=vu(),u=bu().nextTick,l=mr()("mqtt-packet:writeToStream"),c=n.cache,m=n.generateNumber,v=n.generateCache,b=n.genBufVariableByteInt,w=n.generate4ByteBuffer,E=Tt,O=!0;function N(I,k,G){switch(l("generate called"),k.cork&&(k.cork(),u($,k)),O&&(O=!1,v()),l("generate: packet.cmd: %s",I.cmd),I.cmd){case"connect":return P(I,k);case"connack":return C(I,k,G);case"publish":return H(I,k,G);case"puback":case"pubrec":case"pubrel":case"pubcomp":return tt(I,k,G);case"subscribe":return D(I,k,G);case"suback":return S(I,k,G);case"unsubscribe":return K(I,k,G);case"unsuback":return it(I,k,G);case"pingreq":case"pingresp":return z(I,k);case"disconnect":return lt(I,k,G);case"auth":return A(I,k,G);default:return k.destroy(new Error("Unknown command")),!1}}Object.defineProperty(N,"cacheNumbers",{get(){return E===Tt},set(I){I?((!c||Object.keys(c).length===0)&&(O=!0),E=Tt):(O=!1,E=Q)}});function $(I){I.uncork()}function P(I,k,G){let at=I||{},et=at.protocolId||"MQTT",nt=at.protocolVersion||4,ht=at.will,wt=at.clean,x=at.keepalive||0,J=at.clientId||"",Z=at.username,yt=at.password,ft=at.properties;wt===void 0&&(wt=!0);let U=0;if(!et||typeof et!="string"&&!p.isBuffer(et))return k.destroy(new Error("Invalid protocolId")),!1;if(U+=et.length+2,nt!==3&&nt!==4&&nt!==5)return k.destroy(new Error("Invalid protocol version")),!1;if(U+=1,(typeof J=="string"||p.isBuffer(J))&&(J||nt>=4)&&(J||wt))U+=p.byteLength(J)+2;else{if(nt<4)return k.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(wt*1===0)return k.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof x!="number"||x<0||x>65535||x%1!==0)return k.destroy(new Error("Invalid keepalive")),!1;U+=2,U+=1;let ot,W;if(nt===5){if(ot=_t(k,ft),!ot)return!1;U+=ot.length}if(ht){if(typeof ht!="object")return k.destroy(new Error("Invalid will")),!1;if(!ht.topic||typeof ht.topic!="string")return k.destroy(new Error("Invalid will topic")),!1;if(U+=p.byteLength(ht.topic)+2,U+=2,ht.payload)if(ht.payload.length>=0)typeof ht.payload=="string"?U+=p.byteLength(ht.payload):U+=ht.payload.length;else return k.destroy(new Error("Invalid will payload")),!1;if(W={},nt===5){if(W=_t(k,ht.properties),!W)return!1;U+=W.length}}let X=!1;if(Z!=null)if(rt(Z))X=!0,U+=p.byteLength(Z)+2;else return k.destroy(new Error("Invalid username")),!1;if(yt!=null){if(!X)return k.destroy(new Error("Username is required to use password")),!1;if(rt(yt))U+=Wt(yt)+2;else return k.destroy(new Error("Invalid password")),!1}k.write(e.CONNECT_HEADER),Et(k,U),mt(k,et),at.bridgeMode&&(nt+=128),k.write(nt===131?e.VERSION131:nt===132?e.VERSION132:nt===4?e.VERSION4:nt===5?e.VERSION5:e.VERSION3);let st=0;return st|=Z!=null?e.USERNAME_MASK:0,st|=yt!=null?e.PASSWORD_MASK:0,st|=ht&&ht.retain?e.WILL_RETAIN_MASK:0,st|=ht&&ht.qos?ht.qos<<e.WILL_QOS_SHIFT:0,st|=ht?e.WILL_FLAG_MASK:0,st|=wt?e.CLEAN_SESSION_MASK:0,k.write(p.from([st])),E(k,x),nt===5&&ot.write(),mt(k,J),ht&&(nt===5&&W.write(),pt(k,ht.topic),mt(k,ht.payload)),Z!=null&&mt(k,Z),yt!=null&&mt(k,yt),!0}function C(I,k,G){let at=G?G.protocolVersion:4,et=I||{},nt=at===5?et.reasonCode:et.returnCode,ht=et.properties,wt=2;if(typeof nt!="number")return k.destroy(new Error("Invalid return code")),!1;let x=null;if(at===5){if(x=_t(k,ht),!x)return!1;wt+=x.length}return k.write(e.CONNACK_HEADER),Et(k,wt),k.write(et.sessionPresent?e.SESSIONPRESENT_HEADER:s),k.write(p.from([nt])),x==null||x.write(),!0}function H(I,k,G){l("publish: packet: %o",I);let at=G?G.protocolVersion:4,et=I||{},nt=et.qos||0,ht=et.retain?e.RETAIN_MASK:0,wt=et.topic,x=et.payload||d,J=et.messageId,Z=et.properties,yt=0;if(typeof wt=="string")yt+=p.byteLength(wt)+2;else if(p.isBuffer(wt))yt+=wt.length+2;else return k.destroy(new Error("Invalid topic")),!1;if(p.isBuffer(x)?yt+=x.length:yt+=p.byteLength(x),nt&&typeof J!="number")return k.destroy(new Error("Invalid messageId")),!1;nt&&(yt+=2);let ft=null;if(at===5){if(ft=_t(k,Z),!ft)return!1;yt+=ft.length}return k.write(e.PUBLISH_HEADER[nt][et.dup?1:0][ht?1:0]),Et(k,yt),E(k,Wt(wt)),k.write(wt),nt>0&&E(k,J),ft==null||ft.write(),l("publish: payload: %o",x),k.write(x)}function tt(I,k,G){let at=G?G.protocolVersion:4,et=I||{},nt=et.cmd||"puback",ht=et.messageId,wt=et.dup&&nt==="pubrel"?e.DUP_MASK:0,x=0,J=et.reasonCode,Z=et.properties,yt=at===5?3:2;if(nt==="pubrel"&&(x=1),typeof ht!="number")return k.destroy(new Error("Invalid messageId")),!1;let ft=null;if(at===5&&typeof Z=="object"){if(ft=M(k,Z,G,yt),!ft)return!1;yt+=ft.length}return k.write(e.ACKS[nt][x][wt][0]),yt===3&&(yt+=J!==0?1:-1),Et(k,yt),E(k,ht),at===5&&yt!==2&&k.write(p.from([J])),ft!==null?ft.write():yt===4&&k.write(p.from([0])),!0}function D(I,k,G){l("subscribe: packet: ");let at=G?G.protocolVersion:4,et=I||{},nt=et.dup?e.DUP_MASK:0,ht=et.messageId,wt=et.subscriptions,x=et.properties,J=0;if(typeof ht!="number")return k.destroy(new Error("Invalid messageId")),!1;J+=2;let Z=null;if(at===5){if(Z=_t(k,x),!Z)return!1;J+=Z.length}if(typeof wt=="object"&&wt.length)for(let ft=0;ft<wt.length;ft+=1){let U=wt[ft].topic,ot=wt[ft].qos;if(typeof U!="string")return k.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof ot!="number")return k.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(at===5){if(typeof(wt[ft].nl||!1)!="boolean")return k.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(wt[ft].rap||!1)!="boolean")return k.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let W=wt[ft].rh||0;if(typeof W!="number"||W>2)return k.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}J+=p.byteLength(U)+2+1}else return k.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",e.SUBSCRIBE_HEADER),k.write(e.SUBSCRIBE_HEADER[1][nt?1:0][0]),Et(k,J),E(k,ht),Z!==null&&Z.write();let yt=!0;for(let ft of wt){let U=ft.topic,ot=ft.qos,W=+ft.nl,X=+ft.rap,st=ft.rh,St;pt(k,U),St=e.SUBSCRIBE_OPTIONS_QOS[ot],at===5&&(St|=W?e.SUBSCRIBE_OPTIONS_NL:0,St|=X?e.SUBSCRIBE_OPTIONS_RAP:0,St|=st?e.SUBSCRIBE_OPTIONS_RH[st]:0),yt=k.write(p.from([St]))}return yt}function S(I,k,G){let at=G?G.protocolVersion:4,et=I||{},nt=et.messageId,ht=et.granted,wt=et.properties,x=0;if(typeof nt!="number")return k.destroy(new Error("Invalid messageId")),!1;if(x+=2,typeof ht=="object"&&ht.length)for(let Z=0;Z<ht.length;Z+=1){if(typeof ht[Z]!="number")return k.destroy(new Error("Invalid qos vector")),!1;x+=1}else return k.destroy(new Error("Invalid qos vector")),!1;let J=null;if(at===5){if(J=M(k,wt,G,x),!J)return!1;x+=J.length}return k.write(e.SUBACK_HEADER),Et(k,x),E(k,nt),J!==null&&J.write(),k.write(p.from(ht))}function K(I,k,G){let at=G?G.protocolVersion:4,et=I||{},nt=et.messageId,ht=et.dup?e.DUP_MASK:0,wt=et.unsubscriptions,x=et.properties,J=0;if(typeof nt!="number")return k.destroy(new Error("Invalid messageId")),!1;if(J+=2,typeof wt=="object"&&wt.length)for(let ft=0;ft<wt.length;ft+=1){if(typeof wt[ft]!="string")return k.destroy(new Error("Invalid unsubscriptions")),!1;J+=p.byteLength(wt[ft])+2}else return k.destroy(new Error("Invalid unsubscriptions")),!1;let Z=null;if(at===5){if(Z=_t(k,x),!Z)return!1;J+=Z.length}k.write(e.UNSUBSCRIBE_HEADER[1][ht?1:0][0]),Et(k,J),E(k,nt),Z!==null&&Z.write();let yt=!0;for(let ft=0;ft<wt.length;ft++)yt=pt(k,wt[ft]);return yt}function it(I,k,G){let at=G?G.protocolVersion:4,et=I||{},nt=et.messageId,ht=et.dup?e.DUP_MASK:0,wt=et.granted,x=et.properties,J=et.cmd,Z=0,yt=2;if(typeof nt!="number")return k.destroy(new Error("Invalid messageId")),!1;if(at===5)if(typeof wt=="object"&&wt.length)for(let U=0;U<wt.length;U+=1){if(typeof wt[U]!="number")return k.destroy(new Error("Invalid qos vector")),!1;yt+=1}else return k.destroy(new Error("Invalid qos vector")),!1;let ft=null;if(at===5){if(ft=M(k,x,G,yt),!ft)return!1;yt+=ft.length}return k.write(e.ACKS[J][Z][ht][0]),Et(k,yt),E(k,nt),ft!==null&&ft.write(),at===5&&k.write(p.from(wt)),!0}function z(I,k,G){return k.write(e.EMPTY[I.cmd])}function lt(I,k,G){let at=G?G.protocolVersion:4,et=I||{},nt=et.reasonCode,ht=et.properties,wt=at===5?1:0,x=null;if(at===5){if(x=M(k,ht,G,wt),!x)return!1;wt+=x.length}return k.write(p.from([e.codes.disconnect<<4])),Et(k,wt),at===5&&k.write(p.from([nt])),x!==null&&x.write(),!0}function A(I,k,G){let at=G?G.protocolVersion:4,et=I||{},nt=et.reasonCode,ht=et.properties,wt=at===5?1:0;at!==5&&k.destroy(new Error("Invalid mqtt version for auth packet"));let x=M(k,ht,G,wt);return x?(wt+=x.length,k.write(p.from([e.codes.auth<<4])),Et(k,wt),k.write(p.from([nt])),x!==null&&x.write(),!0):!1}var Y={};function Et(I,k){if(k>e.VARBYTEINT_MAX)return I.destroy(new Error(`Invalid variable byte integer: ${k}`)),!1;let G=Y[k];return G||(G=b(k),k<16384&&(Y[k]=G)),l("writeVarByteInt: writing to stream: %o",G),I.write(G)}function pt(I,k){let G=p.byteLength(k);return E(I,G),l("writeString: %s",k),I.write(k,"utf8")}function It(I,k,G){pt(I,k),pt(I,G)}function Tt(I,k){return l("writeNumberCached: number: %d",k),l("writeNumberCached: %o",c[k]),I.write(c[k])}function Q(I,k){let G=m(k);return l("writeNumberGenerated: %o",G),I.write(G)}function ut(I,k){let G=w(k);return l("write4ByteNumber: %o",G),I.write(G)}function mt(I,k){typeof k=="string"?pt(I,k):k?(E(I,k.length),I.write(k)):E(I,0)}function _t(I,k){if(typeof k!="object"||k.length!=null)return{length:1,write(){kt(I,{},0)}};let G=0;function at(et,nt){let ht=e.propertiesTypes[et],wt=0;switch(ht){case"byte":{if(typeof nt!="boolean")return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=2;break}case"int8":{if(typeof nt!="number"||nt<0||nt>255)return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=2;break}case"binary":{if(nt&&nt===null)return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=1+p.byteLength(nt)+2;break}case"int16":{if(typeof nt!="number"||nt<0||nt>65535)return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=3;break}case"int32":{if(typeof nt!="number"||nt<0||nt>4294967295)return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=5;break}case"var":{if(typeof nt!="number"||nt<0||nt>268435455)return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=1+p.byteLength(b(nt));break}case"string":{if(typeof nt!="string")return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=3+p.byteLength(nt.toString());break}case"pair":{if(typeof nt!="object")return I.destroy(new Error(`Invalid ${et}: ${nt}`)),!1;wt+=Object.getOwnPropertyNames(nt).reduce((x,J)=>{let Z=nt[J];return Array.isArray(Z)?x+=Z.reduce((yt,ft)=>(yt+=3+p.byteLength(J.toString())+2+p.byteLength(ft.toString()),yt),0):x+=3+p.byteLength(J.toString())+2+p.byteLength(nt[J].toString()),x},0);break}default:return I.destroy(new Error(`Invalid property ${et}: ${nt}`)),!1}return wt}if(k)for(let et in k){let nt=0,ht=0,wt=k[et];if(Array.isArray(wt))for(let x=0;x<wt.length;x++){if(ht=at(et,wt[x]),!ht)return!1;nt+=ht}else{if(ht=at(et,wt),!ht)return!1;nt=ht}if(!nt)return!1;G+=nt}return{length:p.byteLength(b(G))+G,write(){kt(I,k,G)}}}function M(I,k,G,at){let et=["reasonString","userProperties"],nt=G&&G.properties&&G.properties.maximumPacketSize?G.properties.maximumPacketSize:0,ht=_t(I,k);if(nt)for(;at+ht.length>nt;){let wt=et.shift();if(wt&&k[wt])delete k[wt],ht=_t(I,k);else return!1}return ht}function ct(I,k,G){switch(e.propertiesTypes[k]){case"byte":{I.write(p.from([e.properties[k]])),I.write(p.from([+G]));break}case"int8":{I.write(p.from([e.properties[k]])),I.write(p.from([G]));break}case"binary":{I.write(p.from([e.properties[k]])),mt(I,G);break}case"int16":{I.write(p.from([e.properties[k]])),E(I,G);break}case"int32":{I.write(p.from([e.properties[k]])),ut(I,G);break}case"var":{I.write(p.from([e.properties[k]])),Et(I,G);break}case"string":{I.write(p.from([e.properties[k]])),pt(I,G);break}case"pair":{Object.getOwnPropertyNames(G).forEach(at=>{let et=G[at];Array.isArray(et)?et.forEach(nt=>{I.write(p.from([e.properties[k]])),It(I,at.toString(),nt.toString())}):(I.write(p.from([e.properties[k]])),It(I,at.toString(),et.toString()))});break}default:return I.destroy(new Error(`Invalid property ${k} value: ${G}`)),!1}}function kt(I,k,G){Et(I,G);for(let at in k)if(Object.prototype.hasOwnProperty.call(k,at)&&k[at]!==null){let et=k[at];if(Array.isArray(et))for(let nt=0;nt<et.length;nt++)ct(I,at,et[nt]);else ct(I,at,et)}}function Wt(I){return I?I instanceof p?I.length:p.byteLength(I):0}function rt(I){return typeof I=="string"||I instanceof p}o.exports=N}),wu=xt((t,o)=>{Ot(),Bt(),Mt();var e=ja(),{EventEmitter:p}=(ro(),le(Yr)),{Buffer:d}=(Re(),le(Be));function s(u,l){let c=new n;return e(u,c,l),c.concat()}var n=class extends p{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0,l=new Array(this._array.length),c=this._array,m=0,v;for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?l[v]=c[v].length:l[v]=d.byteLength(c[v]),u+=l[v];let b=d.allocUnsafe(u);for(v=0;v<c.length&&c[v]!==void 0;v++)typeof c[v]!="string"?(c[v].copy(b,m),m+=l[v]):(b.write(c[v],m),m+=l[v]);return b}destroy(u){u&&this.emit("error",u)}};o.exports=s}),Eu=xt(t=>{Ot(),Bt(),Mt(),t.parser=gu().parser,t.generate=wu(),t.writeToStream=ja()}),Da=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let e=this.nextId++;return this.nextId===65536&&(this.nextId=1),e}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(e){return!0}deallocate(e){}clear(){}};t.default=o}),_u=xt((t,o)=>{Ot(),Bt(),Mt(),o.exports=p;function e(s){return s instanceof jo?jo.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function p(s){if(s=s||{},s.circles)return d(s);return s.proto?l:u;function n(c,m){for(var v=Object.keys(c),b=new Array(v.length),w=0;w<v.length;w++){var E=v[w],O=c[E];typeof O!="object"||O===null?b[E]=O:O instanceof Date?b[E]=new Date(O):ArrayBuffer.isView(O)?b[E]=e(O):b[E]=m(O)}return b}function u(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return n(c,u);if(c instanceof Map)return new Map(n(Array.from(c),u));if(c instanceof Set)return new Set(n(Array.from(c),u));var m={};for(var v in c)if(Object.hasOwnProperty.call(c,v)!==!1){var b=c[v];typeof b!="object"||b===null?m[v]=b:b instanceof Date?m[v]=new Date(b):b instanceof Map?m[v]=new Map(n(Array.from(b),u)):b instanceof Set?m[v]=new Set(n(Array.from(b),u)):ArrayBuffer.isView(b)?m[v]=e(b):m[v]=u(b)}return m}function l(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return n(c,l);if(c instanceof Map)return new Map(n(Array.from(c),l));if(c instanceof Set)return new Set(n(Array.from(c),l));var m={};for(var v in c){var b=c[v];typeof b!="object"||b===null?m[v]=b:b instanceof Date?m[v]=new Date(b):b instanceof Map?m[v]=new Map(n(Array.from(b),l)):b instanceof Set?m[v]=new Set(n(Array.from(b),l)):ArrayBuffer.isView(b)?m[v]=e(b):m[v]=l(b)}return m}}function d(s){var n=[],u=[];return s.proto?m:c;function l(v,b){for(var w=Object.keys(v),E=new Array(w.length),O=0;O<w.length;O++){var N=w[O],$=v[N];if(typeof $!="object"||$===null)E[N]=$;else if($ instanceof Date)E[N]=new Date($);else if(ArrayBuffer.isView($))E[N]=e($);else{var P=n.indexOf($);P!==-1?E[N]=u[P]:E[N]=b($)}}return E}function c(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,c);if(v instanceof Map)return new Map(l(Array.from(v),c));if(v instanceof Set)return new Set(l(Array.from(v),c));var b={};n.push(v),u.push(b);for(var w in v)if(Object.hasOwnProperty.call(v,w)!==!1){var E=v[w];if(typeof E!="object"||E===null)b[w]=E;else if(E instanceof Date)b[w]=new Date(E);else if(E instanceof Map)b[w]=new Map(l(Array.from(E),c));else if(E instanceof Set)b[w]=new Set(l(Array.from(E),c));else if(ArrayBuffer.isView(E))b[w]=e(E);else{var O=n.indexOf(E);O!==-1?b[w]=u[O]:b[w]=c(E)}}return n.pop(),u.pop(),b}function m(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return l(v,m);if(v instanceof Map)return new Map(l(Array.from(v),m));if(v instanceof Set)return new Set(l(Array.from(v),m));var b={};n.push(v),u.push(b);for(var w in v){var E=v[w];if(typeof E!="object"||E===null)b[w]=E;else if(E instanceof Date)b[w]=new Date(E);else if(E instanceof Map)b[w]=new Map(l(Array.from(E),m));else if(E instanceof Set)b[w]=new Set(l(Array.from(E),m));else if(ArrayBuffer.isView(E))b[w]=e(E);else{var O=n.indexOf(E);O!==-1?b[w]=u[O]:b[w]=m(E)}}return n.pop(),u.pop(),b}}}),Su=xt((t,o)=>{Ot(),Bt(),Mt(),o.exports=_u()()}),Tu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopics=t.validateTopic=void 0;function o(p){let d=p.split("/");for(let s=0;s<d.length;s++)if(d[s]!=="+"){if(d[s]==="#")return s===d.length-1;if(d[s].indexOf("+")!==-1||d[s].indexOf("#")!==-1)return!1}return!0}t.validateTopic=o;function e(p){if(p.length===0)return"empty_topic_list";for(let d=0;d<p.length;d++)if(!o(p[d]))return p[d];return null}t.validateTopics=e}),La=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=Jr(),e={objectMode:!0},p={clean:!0},d=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},p),s),this._inflights=new Map}put(s,n){return this._inflights.set(s.messageId,s),n&&n(),this}createStream(){let s=new o.Readable(e),n=[],u=!1,l=0;return this._inflights.forEach((c,m)=>{n.push(c)}),s._read=()=>{!u&&l<n.length?s.push(n[l++]):s.push(null)},s.destroy=c=>{if(!u)return u=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,n){let u=this._inflights.get(s.messageId);return u?(this._inflights.delete(s.messageId),n(null,u)):n&&n(new Error("missing packet")),this}get(s,n){let u=this._inflights.get(s.messageId);return u?n(null,u):n&&n(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};t.default=d}),Iu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=[0,16,128,131,135,144,145,151,153],e=(p,d,s)=>{p.log("handlePublish: packet %o",d),s=typeof s<"u"?s:p.noop;let n=d.topic.toString(),u=d.payload,{qos:l}=d,{messageId:c}=d,{options:m}=p;if(p.options.protocolVersion===5){let v;if(d.properties&&(v=d.properties.topicAlias),typeof v<"u")if(n.length===0)if(v>0&&v<=65535){let b=p.topicAliasRecv.getTopicByAlias(v);if(b)n=b,p.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",n,v);else{p.log("handlePublish :: unregistered topic alias. alias: %d",v),p.emit("error",new Error("Received unregistered Topic Alias"));return}}else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}else if(p.topicAliasRecv.put(n,v))p.log("handlePublish :: registered topic: %s - alias: %d",n,v);else{p.log("handlePublish :: topic alias out of range. alias: %d",v),p.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(p.log("handlePublish: qos %d",l),l){case 2:{m.customHandleAcks(n,u,d,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for pubrec"));b?p._sendPacket({cmd:"pubrec",messageId:c,reasonCode:b},s):p.incomingStore.put(d,()=>{p._sendPacket({cmd:"pubrec",messageId:c},s)})});break}case 1:{m.customHandleAcks(n,u,d,(v,b)=>{if(typeof v=="number"&&(b=v,v=null),v)return p.emit("error",v);if(o.indexOf(b)===-1)return p.emit("error",new Error("Wrong reason code for puback"));b||p.emit("message",n,u,d),p.handleMessage(d,w=>{if(w)return s&&s(w);p._sendPacket({cmd:"puback",messageId:c,reasonCode:b},s)})});break}case 0:p.emit("message",n,u,d),p.handleMessage(d,s);break;default:p.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=e}),ku=xt((t,o)=>{o.exports={version:"5.10.3"}}),oo=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.MQTTJS_VERSION=t.nextTick=t.applyMixin=t.ErrorWithReasonCode=void 0;var o=class Ua extends Error{constructor(d,s){super(d),this.code=s,Object.setPrototypeOf(this,Ua.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=o;function e(p,d,s=!1){var n;let u=[d];for(;;){let l=u[0],c=Object.getPrototypeOf(l);if(c!=null&&c.prototype)u.unshift(c);else break}for(let l of u)for(let c of Object.getOwnPropertyNames(l.prototype))(s||c!=="constructor")&&Object.defineProperty(p.prototype,c,(n=Object.getOwnPropertyDescriptor(l.prototype,c))!==null&&n!==void 0?n:Object.create(null))}t.applyMixin=e,t.nextTick=typeof(oe==null?void 0:oe.nextTick)=="function"?oe.nextTick:p=>{setTimeout(p,0)},t.MQTTJS_VERSION=ku().version}),Ko=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0;var o=oo();t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(p,d)=>{let{messageId:s}=d,n=d.cmd,u=null,l=p.outgoing[s]?p.outgoing[s].cb:null,c=null;if(!l){p.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(p.log("_handleAck :: packet type",n),n){case"pubcomp":case"puback":{let m=d.reasonCode;m&&m>0&&m!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[m]}`,m),p._removeOutgoingAndStoreMessage(s,()=>{l(c,d)})):p._removeOutgoingAndStoreMessage(s,l);break}case"pubrec":{u={cmd:"pubrel",qos:2,messageId:s};let m=d.reasonCode;m&&m>0&&m!==16?(c=new o.ErrorWithReasonCode(`Publish error: ${t.ReasonCodes[m]}`,m),p._removeOutgoingAndStoreMessage(s,()=>{l(c,d)})):p._sendPacket(u);break}case"suback":{delete p.outgoing[s],p.messageIdProvider.deallocate(s);let m=d.granted;for(let v=0;v<m.length;v++){let b=m[v];if(b&128){c=new Error(`Subscribe error: ${t.ReasonCodes[b]}`),c.code=b;let w=p.messageIdToTopic[s];w&&w.forEach(E=>{delete p._resubscribeTopics[E]})}}delete p.messageIdToTopic[s],p._invokeStoreProcessingQueue(),l(c,d);break}case"unsuback":{delete p.outgoing[s],p.messageIdProvider.deallocate(s),p._invokeStoreProcessingQueue(),l(null,d);break}default:p.emit("error",new Error("unrecognized packet type"))}p.disconnecting&&Object.keys(p.outgoing).length===0&&p.emit("outgoingEmpty")};t.default=e}),Ou=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=oo(),e=Ko(),p=(d,s)=>{let{options:n}=d,u=n.protocolVersion,l=u===5?s.reasonCode:s.returnCode;if(u!==5){let c=new o.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${u}`,l);d.emit("error",c);return}d.handleAuth(s,(c,m)=>{if(c){d.emit("error",c);return}if(l===24)d.reconnecting=!1,d._sendPacket(m);else{let v=new o.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[l]}`,l);d.emit("error",v)}})};t.default=p}),Mu=xt(t=>{var w,E,O,N,$,P,C,H,tt,D,S,K,it,z,lt,A,Y,Et,pt,It,Tt,Q,ut,mt,_t,M,Mn,kt,Wt,rt,I,za,G,at,et,_r,Sr,Bn,Po,Ao,de,Rn,co,U;Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var o=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,e=new Set,p=typeof oe=="object"&&oe?oe:{},d=(ot,W,X,st)=>{typeof p.emitWarning=="function"?p.emitWarning(ot,W,X,st):console.error(`[${X}] ${W}: ${ot}`)},s=globalThis.AbortController,n=globalThis.AbortSignal;if(typeof s>"u"){n=class{constructor(){ge(this,"onabort");ge(this,"_onabort",[]);ge(this,"reason");ge(this,"aborted",!1)}addEventListener(X,st){this._onabort.push(st)}},s=class{constructor(){ge(this,"signal",new n);W()}abort(X){var st,St;if(!this.signal.aborted){this.signal.reason=X,this.signal.aborted=!0;for(let f of this.signal._onabort)f(X);(St=(st=this.signal).onabort)==null||St.call(st,X)}}};let ot=((w=p.env)==null?void 0:w.LRU_CACHE_IGNORE_AC_WARNING)!=="1",W=()=>{ot&&(ot=!1,d("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",W))}}var u=ot=>!e.has(ot),l=ot=>ot&&ot===Math.floor(ot)&&ot>0&&isFinite(ot),c=ot=>l(ot)?ot<=Math.pow(2,8)?Uint8Array:ot<=Math.pow(2,16)?Uint16Array:ot<=Math.pow(2,32)?Uint32Array:ot<=Number.MAX_SAFE_INTEGER?m:null:null,m=class extends Array{constructor(ot){super(ot),this.fill(0)}},v=(E=class{constructor(W,X){ge(this,"heap");ge(this,"length");if(!q(E,O))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new X(W),this.length=0}static create(W){let X=c(W);if(!X)return[];Yt(E,O,!0);let st=new E(W,X);return Yt(E,O,!1),st}push(W){this.heap[this.length++]=W}pop(){return this.heap[--this.length]}},O=new WeakMap,ee(E,O,!1),E),b=(U=class{constructor(W){ee(this,M);ee(this,N);ee(this,$);ee(this,P);ee(this,C);ee(this,H);ge(this,"ttl");ge(this,"ttlResolution");ge(this,"ttlAutopurge");ge(this,"updateAgeOnGet");ge(this,"updateAgeOnHas");ge(this,"allowStale");ge(this,"noDisposeOnSet");ge(this,"noUpdateTTL");ge(this,"maxEntrySize");ge(this,"sizeCalculation");ge(this,"noDeleteOnFetchRejection");ge(this,"noDeleteOnStaleGet");ge(this,"allowStaleOnFetchAbort");ge(this,"allowStaleOnFetchRejection");ge(this,"ignoreFetchAbort");ee(this,tt);ee(this,D);ee(this,S);ee(this,K);ee(this,it);ee(this,z);ee(this,lt);ee(this,A);ee(this,Y);ee(this,Et);ee(this,pt);ee(this,It);ee(this,Tt);ee(this,Q);ee(this,ut);ee(this,mt);ee(this,_t);ee(this,kt,()=>{});ee(this,Wt,()=>{});ee(this,rt,()=>{});ee(this,I,()=>!1);ee(this,G,W=>{});ee(this,at,(W,X,st)=>{});ee(this,et,(W,X,st,St)=>{if(st||St)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:X=0,ttl:st,ttlResolution:St=1,ttlAutopurge:f,updateAgeOnGet:h,updateAgeOnHas:g,allowStale:R,dispose:L,disposeAfter:B,noDisposeOnSet:bt,noUpdateTTL:Dt,maxSize:j=0,maxEntrySize:Vt=0,sizeCalculation:$t,fetchMethod:jt,noDeleteOnFetchRejection:Lt,noDeleteOnStaleGet:Qt,allowStaleOnFetchRejection:Rt,allowStaleOnFetchAbort:Xt,ignoreFetchAbort:re}=W;if(X!==0&&!l(X))throw new TypeError("max option must be a nonnegative integer");let vt=X?c(X):Array;if(!vt)throw new Error("invalid max value: "+X);if(Yt(this,N,X),Yt(this,$,j),this.maxEntrySize=Vt||q(this,$),this.sizeCalculation=$t,this.sizeCalculation){if(!q(this,$)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(jt!==void 0&&typeof jt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Yt(this,H,jt),Yt(this,mt,!!jt),Yt(this,S,new Map),Yt(this,K,new Array(X).fill(void 0)),Yt(this,it,new Array(X).fill(void 0)),Yt(this,z,new vt(X)),Yt(this,lt,new vt(X)),Yt(this,A,0),Yt(this,Y,0),Yt(this,Et,v.create(X)),Yt(this,tt,0),Yt(this,D,0),typeof L=="function"&&Yt(this,P,L),typeof B=="function"?(Yt(this,C,B),Yt(this,pt,[])):(Yt(this,C,void 0),Yt(this,pt,void 0)),Yt(this,ut,!!q(this,P)),Yt(this,_t,!!q(this,C)),this.noDisposeOnSet=!!bt,this.noUpdateTTL=!!Dt,this.noDeleteOnFetchRejection=!!Lt,this.allowStaleOnFetchRejection=!!Rt,this.allowStaleOnFetchAbort=!!Xt,this.ignoreFetchAbort=!!re,this.maxEntrySize!==0){if(q(this,$)!==0&&!l(q(this,$)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Gt(this,M,za).call(this)}if(this.allowStale=!!R,this.noDeleteOnStaleGet=!!Qt,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!g,this.ttlResolution=l(St)||St===0?St:1,this.ttlAutopurge=!!f,this.ttl=st||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Gt(this,M,Mn).call(this)}if(q(this,N)===0&&this.ttl===0&&q(this,$)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!q(this,N)&&!q(this,$)){let Ft="LRU_CACHE_UNBOUNDED";u(Ft)&&(e.add(Ft),d("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Ft,U))}}static unsafeExposeInternals(W){return{starts:q(W,Tt),ttls:q(W,Q),sizes:q(W,It),keyMap:q(W,S),keyList:q(W,K),valList:q(W,it),next:q(W,z),prev:q(W,lt),get head(){return q(W,A)},get tail(){return q(W,Y)},free:q(W,Et),isBackgroundFetch:X=>{var st;return Gt(st=W,M,de).call(st,X)},backgroundFetch:(X,st,St,f)=>{var h;return Gt(h=W,M,Ao).call(h,X,st,St,f)},moveToTail:X=>{var st;return Gt(st=W,M,co).call(st,X)},indexes:X=>{var st;return Gt(st=W,M,_r).call(st,X)},rindexes:X=>{var st;return Gt(st=W,M,Sr).call(st,X)},isStale:X=>{var st;return q(st=W,I).call(st,X)}}}get max(){return q(this,N)}get maxSize(){return q(this,$)}get calculatedSize(){return q(this,D)}get size(){return q(this,tt)}get fetchMethod(){return q(this,H)}get dispose(){return q(this,P)}get disposeAfter(){return q(this,C)}getRemainingTTL(W){return q(this,S).has(W)?1/0:0}*entries(){for(let W of Gt(this,M,_r).call(this))q(this,it)[W]!==void 0&&q(this,K)[W]!==void 0&&!Gt(this,M,de).call(this,q(this,it)[W])&&(yield[q(this,K)[W],q(this,it)[W]])}*rentries(){for(let W of Gt(this,M,Sr).call(this))q(this,it)[W]!==void 0&&q(this,K)[W]!==void 0&&!Gt(this,M,de).call(this,q(this,it)[W])&&(yield[q(this,K)[W],q(this,it)[W]])}*keys(){for(let W of Gt(this,M,_r).call(this)){let X=q(this,K)[W];X!==void 0&&!Gt(this,M,de).call(this,q(this,it)[W])&&(yield X)}}*rkeys(){for(let W of Gt(this,M,Sr).call(this)){let X=q(this,K)[W];X!==void 0&&!Gt(this,M,de).call(this,q(this,it)[W])&&(yield X)}}*values(){for(let W of Gt(this,M,_r).call(this))q(this,it)[W]!==void 0&&!Gt(this,M,de).call(this,q(this,it)[W])&&(yield q(this,it)[W])}*rvalues(){for(let W of Gt(this,M,Sr).call(this))q(this,it)[W]!==void 0&&!Gt(this,M,de).call(this,q(this,it)[W])&&(yield q(this,it)[W])}[Symbol.iterator](){return this.entries()}find(W,X={}){for(let st of Gt(this,M,_r).call(this)){let St=q(this,it)[st],f=Gt(this,M,de).call(this,St)?St.__staleWhileFetching:St;if(f!==void 0&&W(f,q(this,K)[st],this))return this.get(q(this,K)[st],X)}}forEach(W,X=this){for(let st of Gt(this,M,_r).call(this)){let St=q(this,it)[st],f=Gt(this,M,de).call(this,St)?St.__staleWhileFetching:St;f!==void 0&&W.call(X,f,q(this,K)[st],this)}}rforEach(W,X=this){for(let st of Gt(this,M,Sr).call(this)){let St=q(this,it)[st],f=Gt(this,M,de).call(this,St)?St.__staleWhileFetching:St;f!==void 0&&W.call(X,f,q(this,K)[st],this)}}purgeStale(){let W=!1;for(let X of Gt(this,M,Sr).call(this,{allowStale:!0}))q(this,I).call(this,X)&&(this.delete(q(this,K)[X]),W=!0);return W}dump(){let W=[];for(let X of Gt(this,M,_r).call(this,{allowStale:!0})){let st=q(this,K)[X],St=q(this,it)[X],f=Gt(this,M,de).call(this,St)?St.__staleWhileFetching:St;if(f===void 0||st===void 0)continue;let h={value:f};if(q(this,Q)&&q(this,Tt)){h.ttl=q(this,Q)[X];let g=o.now()-q(this,Tt)[X];h.start=Math.floor(Date.now()-g)}q(this,It)&&(h.size=q(this,It)[X]),W.unshift([st,h])}return W}load(W){this.clear();for(let[X,st]of W){if(st.start){let St=Date.now()-st.start;st.start=o.now()-St}this.set(X,st.value,st)}}set(W,X,st={}){var Dt,j,Vt,$t,jt;if(X===void 0)return this.delete(W),this;let{ttl:St=this.ttl,start:f,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:g=this.sizeCalculation,status:R}=st,{noUpdateTTL:L=this.noUpdateTTL}=st,B=q(this,et).call(this,W,X,st.size||0,g);if(this.maxEntrySize&&B>this.maxEntrySize)return R&&(R.set="miss",R.maxEntrySizeExceeded=!0),this.delete(W),this;let bt=q(this,tt)===0?void 0:q(this,S).get(W);if(bt===void 0)bt=q(this,tt)===0?q(this,Y):q(this,Et).length!==0?q(this,Et).pop():q(this,tt)===q(this,N)?Gt(this,M,Po).call(this,!1):q(this,tt),q(this,K)[bt]=W,q(this,it)[bt]=X,q(this,S).set(W,bt),q(this,z)[q(this,Y)]=bt,q(this,lt)[bt]=q(this,Y),Yt(this,Y,bt),go(this,tt)._++,q(this,at).call(this,bt,B,R),R&&(R.set="add"),L=!1;else{Gt(this,M,co).call(this,bt);let Lt=q(this,it)[bt];if(X!==Lt){if(q(this,mt)&&Gt(this,M,de).call(this,Lt)){Lt.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Qt}=Lt;Qt!==void 0&&!h&&(q(this,ut)&&((Dt=q(this,P))==null||Dt.call(this,Qt,W,"set")),q(this,_t)&&((j=q(this,pt))==null||j.push([Qt,W,"set"])))}else h||(q(this,ut)&&((Vt=q(this,P))==null||Vt.call(this,Lt,W,"set")),q(this,_t)&&(($t=q(this,pt))==null||$t.push([Lt,W,"set"])));if(q(this,G).call(this,bt),q(this,at).call(this,bt,B,R),q(this,it)[bt]=X,R){R.set="replace";let Qt=Lt&&Gt(this,M,de).call(this,Lt)?Lt.__staleWhileFetching:Lt;Qt!==void 0&&(R.oldValue=Qt)}}else R&&(R.set="update")}if(St!==0&&!q(this,Q)&&Gt(this,M,Mn).call(this),q(this,Q)&&(L||q(this,rt).call(this,bt,St,f),R&&q(this,Wt).call(this,R,bt)),!h&&q(this,_t)&&q(this,pt)){let Lt=q(this,pt),Qt;for(;Qt=Lt==null?void 0:Lt.shift();)(jt=q(this,C))==null||jt.call(this,...Qt)}return this}pop(){var W;try{for(;q(this,tt);){let X=q(this,it)[q(this,A)];if(Gt(this,M,Po).call(this,!0),Gt(this,M,de).call(this,X)){if(X.__staleWhileFetching)return X.__staleWhileFetching}else if(X!==void 0)return X}}finally{if(q(this,_t)&&q(this,pt)){let X=q(this,pt),st;for(;st=X==null?void 0:X.shift();)(W=q(this,C))==null||W.call(this,...st)}}}has(W,X={}){let{updateAgeOnHas:st=this.updateAgeOnHas,status:St}=X,f=q(this,S).get(W);if(f!==void 0){let h=q(this,it)[f];if(Gt(this,M,de).call(this,h)&&h.__staleWhileFetching===void 0)return!1;if(q(this,I).call(this,f))St&&(St.has="stale",q(this,Wt).call(this,St,f));else return st&&q(this,kt).call(this,f),St&&(St.has="hit",q(this,Wt).call(this,St,f)),!0}else St&&(St.has="miss");return!1}peek(W,X={}){let{allowStale:st=this.allowStale}=X,St=q(this,S).get(W);if(St!==void 0&&(st||!q(this,I).call(this,St))){let f=q(this,it)[St];return Gt(this,M,de).call(this,f)?f.__staleWhileFetching:f}}async fetch(W,X={}){let{allowStale:st=this.allowStale,updateAgeOnGet:St=this.updateAgeOnGet,noDeleteOnStaleGet:f=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:g=this.noDisposeOnSet,size:R=0,sizeCalculation:L=this.sizeCalculation,noUpdateTTL:B=this.noUpdateTTL,noDeleteOnFetchRejection:bt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Dt=this.allowStaleOnFetchRejection,ignoreFetchAbort:j=this.ignoreFetchAbort,allowStaleOnFetchAbort:Vt=this.allowStaleOnFetchAbort,context:$t,forceRefresh:jt=!1,status:Lt,signal:Qt}=X;if(!q(this,mt))return Lt&&(Lt.fetch="get"),this.get(W,{allowStale:st,updateAgeOnGet:St,noDeleteOnStaleGet:f,status:Lt});let Rt={allowStale:st,updateAgeOnGet:St,noDeleteOnStaleGet:f,ttl:h,noDisposeOnSet:g,size:R,sizeCalculation:L,noUpdateTTL:B,noDeleteOnFetchRejection:bt,allowStaleOnFetchRejection:Dt,allowStaleOnFetchAbort:Vt,ignoreFetchAbort:j,status:Lt,signal:Qt},Xt=q(this,S).get(W);if(Xt===void 0){Lt&&(Lt.fetch="miss");let re=Gt(this,M,Ao).call(this,W,Xt,Rt,$t);return re.__returned=re}else{let re=q(this,it)[Xt];if(Gt(this,M,de).call(this,re)){let Ut=st&&re.__staleWhileFetching!==void 0;return Lt&&(Lt.fetch="inflight",Ut&&(Lt.returnedStale=!0)),Ut?re.__staleWhileFetching:re.__returned=re}let vt=q(this,I).call(this,Xt);if(!jt&&!vt)return Lt&&(Lt.fetch="hit"),Gt(this,M,co).call(this,Xt),St&&q(this,kt).call(this,Xt),Lt&&q(this,Wt).call(this,Lt,Xt),re;let Ft=Gt(this,M,Ao).call(this,W,Xt,Rt,$t),Pt=Ft.__staleWhileFetching!==void 0&&st;return Lt&&(Lt.fetch=vt?"stale":"refresh",Pt&&vt&&(Lt.returnedStale=!0)),Pt?Ft.__staleWhileFetching:Ft.__returned=Ft}}get(W,X={}){let{allowStale:st=this.allowStale,updateAgeOnGet:St=this.updateAgeOnGet,noDeleteOnStaleGet:f=this.noDeleteOnStaleGet,status:h}=X,g=q(this,S).get(W);if(g!==void 0){let R=q(this,it)[g],L=Gt(this,M,de).call(this,R);return h&&q(this,Wt).call(this,h,g),q(this,I).call(this,g)?(h&&(h.get="stale"),L?(h&&st&&R.__staleWhileFetching!==void 0&&(h.returnedStale=!0),st?R.__staleWhileFetching:void 0):(f||this.delete(W),h&&st&&(h.returnedStale=!0),st?R:void 0)):(h&&(h.get="hit"),L?R.__staleWhileFetching:(Gt(this,M,co).call(this,g),St&&q(this,kt).call(this,g),R))}else h&&(h.get="miss")}delete(W){var st,St,f,h;let X=!1;if(q(this,tt)!==0){let g=q(this,S).get(W);if(g!==void 0)if(X=!0,q(this,tt)===1)this.clear();else{q(this,G).call(this,g);let R=q(this,it)[g];Gt(this,M,de).call(this,R)?R.__abortController.abort(new Error("deleted")):(q(this,ut)||q(this,_t))&&(q(this,ut)&&((st=q(this,P))==null||st.call(this,R,W,"delete")),q(this,_t)&&((St=q(this,pt))==null||St.push([R,W,"delete"]))),q(this,S).delete(W),q(this,K)[g]=void 0,q(this,it)[g]=void 0,g===q(this,Y)?Yt(this,Y,q(this,lt)[g]):g===q(this,A)?Yt(this,A,q(this,z)[g]):(q(this,z)[q(this,lt)[g]]=q(this,z)[g],q(this,lt)[q(this,z)[g]]=q(this,lt)[g]),go(this,tt)._--,q(this,Et).push(g)}}if(q(this,_t)&&((f=q(this,pt))!=null&&f.length)){let g=q(this,pt),R;for(;R=g==null?void 0:g.shift();)(h=q(this,C))==null||h.call(this,...R)}return X}clear(){var W,X,st;for(let St of Gt(this,M,Sr).call(this,{allowStale:!0})){let f=q(this,it)[St];if(Gt(this,M,de).call(this,f))f.__abortController.abort(new Error("deleted"));else{let h=q(this,K)[St];q(this,ut)&&((W=q(this,P))==null||W.call(this,f,h,"delete")),q(this,_t)&&((X=q(this,pt))==null||X.push([f,h,"delete"]))}}if(q(this,S).clear(),q(this,it).fill(void 0),q(this,K).fill(void 0),q(this,Q)&&q(this,Tt)&&(q(this,Q).fill(0),q(this,Tt).fill(0)),q(this,It)&&q(this,It).fill(0),Yt(this,A,0),Yt(this,Y,0),q(this,Et).length=0,Yt(this,D,0),Yt(this,tt,0),q(this,_t)&&q(this,pt)){let St=q(this,pt),f;for(;f=St==null?void 0:St.shift();)(st=q(this,C))==null||st.call(this,...f)}}},N=new WeakMap,$=new WeakMap,P=new WeakMap,C=new WeakMap,H=new WeakMap,tt=new WeakMap,D=new WeakMap,S=new WeakMap,K=new WeakMap,it=new WeakMap,z=new WeakMap,lt=new WeakMap,A=new WeakMap,Y=new WeakMap,Et=new WeakMap,pt=new WeakMap,It=new WeakMap,Tt=new WeakMap,Q=new WeakMap,ut=new WeakMap,mt=new WeakMap,_t=new WeakMap,M=new WeakSet,Mn=function(){let W=new m(q(this,N)),X=new m(q(this,N));Yt(this,Q,W),Yt(this,Tt,X),Yt(this,rt,(f,h,g=o.now())=>{if(X[f]=h!==0?g:0,W[f]=h,h!==0&&this.ttlAutopurge){let R=setTimeout(()=>{q(this,I).call(this,f)&&this.delete(q(this,K)[f])},h+1);R.unref&&R.unref()}}),Yt(this,kt,f=>{X[f]=W[f]!==0?o.now():0}),Yt(this,Wt,(f,h)=>{if(W[h]){let g=W[h],R=X[h];f.ttl=g,f.start=R,f.now=st||St();let L=f.now-R;f.remainingTTL=g-L}});let st=0,St=()=>{let f=o.now();if(this.ttlResolution>0){st=f;let h=setTimeout(()=>st=0,this.ttlResolution);h.unref&&h.unref()}return f};this.getRemainingTTL=f=>{let h=q(this,S).get(f);if(h===void 0)return 0;let g=W[h],R=X[h];if(g===0||R===0)return 1/0;let L=(st||St())-R;return g-L},Yt(this,I,f=>W[f]!==0&&X[f]!==0&&(st||St())-X[f]>W[f])},kt=new WeakMap,Wt=new WeakMap,rt=new WeakMap,I=new WeakMap,za=function(){let W=new m(q(this,N));Yt(this,D,0),Yt(this,It,W),Yt(this,G,X=>{Yt(this,D,q(this,D)-W[X]),W[X]=0}),Yt(this,et,(X,st,St,f)=>{if(Gt(this,M,de).call(this,st))return 0;if(!l(St))if(f){if(typeof f!="function")throw new TypeError("sizeCalculation must be a function");if(St=f(st,X),!l(St))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return St}),Yt(this,at,(X,st,St)=>{if(W[X]=st,q(this,$)){let f=q(this,$)-W[X];for(;q(this,D)>f;)Gt(this,M,Po).call(this,!0)}Yt(this,D,q(this,D)+W[X]),St&&(St.entrySize=st,St.totalCalculatedSize=q(this,D))})},G=new WeakMap,at=new WeakMap,et=new WeakMap,_r=function*({allowStale:W=this.allowStale}={}){if(q(this,tt))for(let X=q(this,Y);!(!Gt(this,M,Bn).call(this,X)||((W||!q(this,I).call(this,X))&&(yield X),X===q(this,A)));)X=q(this,lt)[X]},Sr=function*({allowStale:W=this.allowStale}={}){if(q(this,tt))for(let X=q(this,A);!(!Gt(this,M,Bn).call(this,X)||((W||!q(this,I).call(this,X))&&(yield X),X===q(this,Y)));)X=q(this,z)[X]},Bn=function(W){return W!==void 0&&q(this,S).get(q(this,K)[W])===W},Po=function(W){var f,h;let X=q(this,A),st=q(this,K)[X],St=q(this,it)[X];return q(this,mt)&&Gt(this,M,de).call(this,St)?St.__abortController.abort(new Error("evicted")):(q(this,ut)||q(this,_t))&&(q(this,ut)&&((f=q(this,P))==null||f.call(this,St,st,"evict")),q(this,_t)&&((h=q(this,pt))==null||h.push([St,st,"evict"]))),q(this,G).call(this,X),W&&(q(this,K)[X]=void 0,q(this,it)[X]=void 0,q(this,Et).push(X)),q(this,tt)===1?(Yt(this,A,Yt(this,Y,0)),q(this,Et).length=0):Yt(this,A,q(this,z)[X]),q(this,S).delete(st),go(this,tt)._--,X},Ao=function(W,X,st,St){let f=X===void 0?void 0:q(this,it)[X];if(Gt(this,M,de).call(this,f))return f;let h=new s,{signal:g}=st;g==null||g.addEventListener("abort",()=>h.abort(g.reason),{signal:h.signal});let R={signal:h.signal,options:st,context:St},L=($t,jt=!1)=>{let{aborted:Lt}=h.signal,Qt=st.ignoreFetchAbort&&$t!==void 0;if(st.status&&(Lt&&!jt?(st.status.fetchAborted=!0,st.status.fetchError=h.signal.reason,Qt&&(st.status.fetchAbortIgnored=!0)):st.status.fetchResolved=!0),Lt&&!Qt&&!jt)return bt(h.signal.reason);let Rt=j;return q(this,it)[X]===j&&($t===void 0?Rt.__staleWhileFetching?q(this,it)[X]=Rt.__staleWhileFetching:this.delete(W):(st.status&&(st.status.fetchUpdated=!0),this.set(W,$t,R.options))),$t},B=$t=>(st.status&&(st.status.fetchRejected=!0,st.status.fetchError=$t),bt($t)),bt=$t=>{let{aborted:jt}=h.signal,Lt=jt&&st.allowStaleOnFetchAbort,Qt=Lt||st.allowStaleOnFetchRejection,Rt=Qt||st.noDeleteOnFetchRejection,Xt=j;if(q(this,it)[X]===j&&(!Rt||Xt.__staleWhileFetching===void 0?this.delete(W):Lt||(q(this,it)[X]=Xt.__staleWhileFetching)),Qt)return st.status&&Xt.__staleWhileFetching!==void 0&&(st.status.returnedStale=!0),Xt.__staleWhileFetching;if(Xt.__returned===Xt)throw $t},Dt=($t,jt)=>{var Qt;let Lt=(Qt=q(this,H))==null?void 0:Qt.call(this,W,f,R);Lt&&Lt instanceof Promise&&Lt.then(Rt=>$t(Rt===void 0?void 0:Rt),jt),h.signal.addEventListener("abort",()=>{(!st.ignoreFetchAbort||st.allowStaleOnFetchAbort)&&($t(void 0),st.allowStaleOnFetchAbort&&($t=Rt=>L(Rt,!0)))})};st.status&&(st.status.fetchDispatched=!0);let j=new Promise(Dt).then(L,B),Vt=Object.assign(j,{__abortController:h,__staleWhileFetching:f,__returned:void 0});return X===void 0?(this.set(W,Vt,{...R.options,status:void 0}),X=q(this,S).get(W)):q(this,it)[X]=Vt,Vt},de=function(W){if(!q(this,mt))return!1;let X=W;return!!X&&X instanceof Promise&&X.hasOwnProperty("__staleWhileFetching")&&X.__abortController instanceof s},Rn=function(W,X){q(this,lt)[X]=W,q(this,z)[W]=X},co=function(W){W!==q(this,Y)&&(W===q(this,A)?Yt(this,A,q(this,z)[W]):Gt(this,M,Rn).call(this,q(this,lt)[W],q(this,z)[W]),Gt(this,M,Rn).call(this,q(this,Y),W),Yt(this,Y,W))},U);t.LRUCache=b}),gr=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var o=class{constructor(d=0){this.iteratorType=d}equals(d){return this.o===d.o}};t.ContainerIterator=o;var e=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=e;var p=class extends e{};t.Container=p}),Bu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=gr(),e=class extends o.Base{constructor(d=[]){super(),this.S=[];let s=this;d.forEach(function(n){s.push(n)})}clear(){this.i=0,this.S=[]}push(d){return this.S.push(d),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},p=e;t.default=p}),Ru=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=gr(),e=class extends o.Base{constructor(d=[]){super(),this.j=0,this.q=[];let s=this;d.forEach(function(n){s.push(n)})}clear(){this.q=[],this.i=this.j=0}push(d){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let n=this.i;for(let u=0;u<n;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=d}else this.q[this.j+this.i]=d;return++this.i}pop(){if(this.i===0)return;let d=this.q[this.j++];return this.i-=1,d}front(){if(this.i!==0)return this.q[this.j]}},p=e;t.default=p}),Cu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=gr(),e=class extends o.Base{constructor(d=[],s=function(u,l){return u>l?-1:u<l?1:0},n=!0){if(super(),this.v=s,Array.isArray(d))this.C=n?[...d]:d;else{this.C=[];let l=this;d.forEach(function(c){l.C.push(c)})}this.i=this.C.length;let u=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,u)}m(d){let s=this.C[d];for(;d>0;){let n=d-1>>1,u=this.C[n];if(this.v(u,s)<=0)break;this.C[d]=u,d=n}this.C[d]=s}k(d,s){let n=this.C[d];for(;d<s;){let u=d<<1|1,l=u+1,c=this.C[u];if(l<this.i&&this.v(c,this.C[l])>0&&(u=l,c=this.C[l]),this.v(c,n)>=0)break;this.C[d]=c,d=u}this.C[d]=n}clear(){this.i=0,this.C.length=0}push(d){this.C.push(d),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let d=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),d}top(){return this.C[0]}find(d){return this.C.indexOf(d)>=0}remove(d){let s=this.C.indexOf(d);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(d){let s=this.C.indexOf(d);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},p=e;t.default=p}),Zn=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=gr(),e=class extends o.Container{},p=e;t.default=p}),vr=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=o;function o(){throw new RangeError("Iterator access denied!")}}),$a=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var o=gr(),e=vr(),p=class extends o.ContainerIterator{constructor(d,s){super(s),this.o=d,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,e.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,e.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,e.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,e.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(d){this.container.setElementByPos(this.o,d)}};t.RandomIterator=p}),Pu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(Zn()),e=$a();function p(u){return u&&u.t?u:{default:u}}var d=class Va extends e.RandomIterator{constructor(l,c,m){super(l,m),this.container=c}copy(){return new Va(this.o,this.container,this.iteratorType)}},s=class extends o.default{constructor(u=[],l=!0){if(super(),Array.isArray(u))this.J=l?[...u]:u,this.i=u.length;else{this.J=[];let c=this;u.forEach(function(m){c.pushBack(m)})}}clear(){this.i=0,this.J.length=0}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let l=0;for(let c=0;c<this.i;++c)this.J[c]!==u&&(this.J[l++]=this.J[c]);return this.i=this.J.length=l,this.i}eraseElementByIterator(u){let l=u.o;return u=u.next(),this.eraseElementByPos(l),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(c).fill(l)),this.i+=c,this.i}find(u){for(let l=0;l<this.i;++l)if(this.J[l]===u)return new d(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[u++]=this.J[l]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let l=0;l<this.i;++l)u(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},n=s;t.default=n}),Au=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(Zn()),e=gr(),p=vr();function d(l){return l&&l.t?l:{default:l}}var s=class Ga extends e.ContainerIterator{constructor(c,m,v,b){super(b),this.o=c,this.h=m,this.container=v,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l=c}copy(){return new Ga(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let c=this;l.forEach(function(m){c.pushBack(m)})}V(l){let{L:c,B:m}=l;c.B=m,m.L=c,l===this.p&&(this.p=m),l===this._&&(this._=c),this.i-=1}G(l,c){let m=c.B,v={l,L:c,B:m};c.B=v,m.L=v,c===this.h&&(this.p=v),m===this.h&&(this._=v),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return c.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return this.V(c),this.i}eraseElementByValue(l){let c=this.p;for(;c!==this.h;)c.l===l&&this.V(c),c=c.B;return this.i}eraseElementByIterator(l){let c=l.o;return c===this.h&&(0,p.throwIteratorAccessError)(),l=l.next(),this.V(c),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,c){if(l<0||l>this.i-1)throw new RangeError;let m=this.p;for(;l--;)m=m.B;m.l=c}insert(l,c,m=1){if(l<0||l>this.i)throw new RangeError;if(m<=0)return this.i;if(l===0)for(;m--;)this.pushFront(c);else if(l===this.i)for(;m--;)this.pushBack(c);else{let v=this.p;for(let w=1;w<l;++w)v=v.B;let b=v.B;for(this.i+=m;m--;)v.B={l:c,L:v},v.B.L=v,v=v.B;v.B=b,b.L=v}return this.i}find(l){let c=this.p;for(;c!==this.h;){if(c.l===l)return new s(c,this.h,this);c=c.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,c=this._,m=0;for(;m<<1<this.i;){let v=l.l;l.l=c.l,c.l=v,l=l.B,c=c.L,m+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let c=l;for(;c.B!==this.h&&c.l===c.B.l;)c=c.B,this.i-=1;l.B=c.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let c=[];this.forEach(function(v){c.push(v)}),c.sort(l);let m=this.p;c.forEach(function(v){m.l=v,m=m.B})}merge(l){let c=this;if(this.i===0)l.forEach(function(m){c.pushBack(m)});else{let m=this.p;l.forEach(function(v){for(;m!==c.h&&m.l<=v;)m=m.B;c.G(v,m.L)})}return this.i}forEach(l){let c=this.p,m=0;for(;c!==this.h;)l(c.l,m++,this),c=c.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},u=n;t.default=u}),xu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=p(Zn()),e=$a();function p(u){return u&&u.t?u:{default:u}}var d=class Ha extends e.RandomIterator{constructor(l,c,m){super(l,m),this.container=c}copy(){return new Ha(this.o,this.container,this.iteratorType)}},s=class extends o.default{constructor(u=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let c=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(c/this.F),1);for(let b=0;b<this.P;++b)this.A.push(new Array(this.F));let m=Math.ceil(c/this.F);this.j=this.R=(this.P>>1)-(m>>1),this.D=this.N=this.F-c%this.F>>1;let v=this;u.forEach(function(b){v.pushBack(b)})}T(){let u=[],l=Math.max(this.P>>1,1);for(let c=0;c<l;++c)u[c]=new Array(this.F);for(let c=this.j;c<this.P;++c)u[u.length]=this.A[c];for(let c=0;c<this.R;++c)u[u.length]=this.A[c];u[u.length]=[...this.A[this.R]],this.j=l,this.R=u.length-1;for(let c=0;c<l;++c)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let l=this.D+u+1,c=l%this.F,m=c-1,v=this.j+(l-c)/this.F;return c===0&&(v-=1),v%=this.P,m<0&&(m+=this.F),{curNodeBucketIndex:v,curNodePointerIndex:m}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new d(0,this)}end(){return new d(this.i,this)}rBegin(){return new d(this.i-1,this,1)}rEnd(){return new d(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.A[l][c]}setElementByPos(u,l){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:m}=this.O(u);this.A[c][m]=l}insert(u,l,c=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;c--;)this.pushFront(l);else if(u===this.i)for(;c--;)this.pushBack(l);else{let m=[];for(let v=u;v<this.i;++v)m.push(this.getElementByPos(v));this.cut(u-1);for(let v=0;v<c;++v)this.pushBack(l);for(let v=0;v<m.length;++v)this.pushBack(m[v])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:c}=this.O(u);return this.R=l,this.N=c,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let l=[];for(let m=u+1;m<this.i;++m)l.push(this.getElementByPos(m));this.cut(u),this.popBack();let c=this;l.forEach(function(m){c.pushBack(m)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let l=[];for(let m=0;m<this.i;++m){let v=this.getElementByPos(m);v!==u&&l.push(v)}let c=l.length;for(let m=0;m<c;++m)this.setElementByPos(m,l[m]);return this.cut(c-1)}eraseElementByIterator(u){let l=u.o;return this.eraseElementByPos(l),u=u.next(),u}find(u){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===u)return new d(l,this);return this.end()}reverse(){let u=0,l=this.i-1;for(;u<l;){let c=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(l)),this.setElementByPos(l,c),u+=1,l-=1}}unique(){if(this.i<=1)return this.i;let u=1,l=this.getElementByPos(0);for(let c=1;c<this.i;++c){let m=this.getElementByPos(c);m!==l&&(l=m,this.setElementByPos(u++,m))}for(;this.i>u;)this.popBack();return this.i}sort(u){let l=[];for(let c=0;c<this.i;++c)l.push(this.getElementByPos(c));l.sort(u);for(let c=0;c<this.i;++c)this.setElementByPos(c,l[c])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(l){u.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<u.length;++l)this.pushBack(u[l])}forEach(u){for(let l=0;l<this.i;++l)u(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}},n=s;t.default=n}),Fu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var o=class{constructor(p,d){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=p,this.l=d}L(){let p=this;if(p.ee===1&&p.tt.tt===p)p=p.W;else if(p.U)for(p=p.U;p.W;)p=p.W;else{let d=p.tt;for(;d.U===p;)p=d,d=p.tt;p=d}return p}B(){let p=this;if(p.W){for(p=p.W;p.U;)p=p.U;return p}else{let d=p.tt;for(;d.W===p;)p=d,d=p.tt;return p.W!==d?d:p}}te(){let p=this.tt,d=this.W,s=d.U;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.U=this,this.tt=d,this.W=s,s&&(s.tt=this),d}se(){let p=this.tt,d=this.U,s=d.W;return p.tt===this?p.tt=d:p.U===this?p.U=d:p.W=d,d.tt=p,d.W=this,this.tt=d,this.U=s,s&&(s.tt=this),d}};t.TreeNode=o;var e=class extends o{constructor(){super(...arguments),this.rt=1}te(){let p=super.te();return this.ie(),p.ie(),p}se(){let p=super.se();return this.ie(),p.ie(),p}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=e}),qa=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Fu(),e=gr(),p=vr(),d=class extends e.Container{constructor(n=function(l,c){return l<c?-1:l>c?1:0},u=!1){super(),this.Y=void 0,this.v=n,u?(this.re=o.TreeNodeEnableIndex,this.M=function(l,c,m){let v=this.ne(l,c,m);if(v){let b=v.tt;for(;b!==this.h;)b.rt+=1,b=b.tt;let w=this.he(v);if(w){let{parentNode:E,grandParent:O,curNode:N}=w;E.ie(),O.ie(),N.ie()}}return this.i},this.V=function(l){let c=this.fe(l);for(;c!==this.h;)c.rt-=1,c=c.tt}):(this.re=o.TreeNode,this.M=function(l,c,m){let v=this.ne(l,c,m);return v&&this.he(v),this.i},this.V=this.fe),this.h=new this.re}X(n,u){let l=this.h;for(;n;){let c=this.v(n.u,u);if(c<0)n=n.W;else if(c>0)l=n,n=n.U;else return n}return l}Z(n,u){let l=this.h;for(;n;)this.v(n.u,u)<=0?n=n.W:(l=n,n=n.U);return l}$(n,u){let l=this.h;for(;n;){let c=this.v(n.u,u);if(c<0)l=n,n=n.W;else if(c>0)n=n.U;else return n}return l}rr(n,u){let l=this.h;for(;n;)this.v(n.u,u)<0?(l=n,n=n.W):n=n.U;return l}ue(n){for(;;){let u=n.tt;if(u===this.h)return;if(n.ee===1){n.ee=0;return}if(n===u.U){let l=u.W;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(l.W&&l.W.ee===1){l.ee=u.ee,u.ee=0,l.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,n=u)}else{let l=u.U;if(l.ee===1)l.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(l.U&&l.U.ee===1){l.ee=u.ee,u.ee=0,l.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,n=u)}}}fe(n){if(this.i===1)return this.clear(),this.h;let u=n;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[n.u,u.u]=[u.u,n.u],[n.l,u.l]=[u.l,n.l],n=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let l=u.tt;return u===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(n,u){return n===void 0?!1:this.oe(n.U,u)||u(n)?!0:this.oe(n.W,u)}he(n){for(;;){let u=n.tt;if(u.ee===0)return;let l=u.tt;if(u===l.U){let c=l.W;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,n=l;continue}else if(n===u.W){if(n.ee=0,n.U&&(n.U.tt=u),n.W&&(n.W.tt=l),u.W=n.U,l.U=n.W,n.U=u,n.W=l,l===this.Y)this.Y=n,this.h.tt=n;else{let m=l.tt;m.U===l?m.U=n:m.W=n}return n.tt=l.tt,u.tt=n,l.tt=n,l.ee=1,{parentNode:u,grandParent:l,curNode:n}}else u.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let c=l.U;if(c&&c.ee===1){if(c.ee=u.ee=0,l===this.Y)return;l.ee=1,n=l;continue}else if(n===u.U){if(n.ee=0,n.U&&(n.U.tt=l),n.W&&(n.W.tt=u),l.W=n.U,u.U=n.W,n.U=l,n.W=u,l===this.Y)this.Y=n,this.h.tt=n;else{let m=l.tt;m.U===l?m.U=n:m.W=n}return n.tt=l.tt,u.tt=n,l.tt=n,l.ee=1,{parentNode:u,grandParent:l,curNode:n}}else u.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(n,u,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(n,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let c,m=this.h.U,v=this.v(m.u,n);if(v===0){m.l=u;return}else if(v>0)m.U=new this.re(n,u),m.U.tt=m,c=m.U,this.h.U=c;else{let b=this.h.W,w=this.v(b.u,n);if(w===0){b.l=u;return}else if(w<0)b.W=new this.re(n,u),b.W.tt=b,c=b.W,this.h.W=c;else{if(l!==void 0){let E=l.o;if(E!==this.h){let O=this.v(E.u,n);if(O===0){E.l=u;return}else if(O>0){let N=E.L(),$=this.v(N.u,n);if($===0){N.l=u;return}else $<0&&(c=new this.re(n,u),N.W===void 0?(N.W=c,c.tt=N):(E.U=c,c.tt=E))}}}if(c===void 0)for(c=this.Y;;){let E=this.v(c.u,n);if(E>0){if(c.U===void 0){c.U=new this.re(n,u),c.U.tt=c,c=c.U;break}c=c.U}else if(E<0){if(c.W===void 0){c.W=new this.re(n,u),c.W.tt=c,c=c.W;break}c=c.W}else{c.l=u;return}}}}return this.i+=1,c}I(n,u){for(;n;){let l=this.v(n.u,u);if(l<0)n=n.W;else if(l>0)n=n.U;else return n}return n||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(n,u){let l=n.o;if(l===this.h&&(0,p.throwIteratorAccessError)(),this.i===1)return l.u=u,!0;if(l===this.h.U)return this.v(l.B().u,u)>0?(l.u=u,!0):!1;if(l===this.h.W)return this.v(l.L().u,u)<0?(l.u=u,!0):!1;let c=l.L().u;if(this.v(c,u)>=0)return!1;let m=l.B().u;return this.v(m,u)<=0?!1:(l.u=u,!0)}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u=0,l=this;return this.oe(this.Y,function(c){return n===u?(l.V(c),!0):(u+=1,!1)}),this.i}eraseElementByKey(n){if(this.i===0)return!1;let u=this.I(this.Y,n);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(n){let u=n.o;u===this.h&&(0,p.throwIteratorAccessError)();let l=u.W===void 0;return n.iteratorType===0?l&&n.next():(!l||u.U===void 0)&&n.next(),this.V(u),n}forEach(n){let u=0;for(let l of this)n(l,u++,this)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u,l=0;for(let c of this){if(l===n){u=c;break}l+=1}return u}getHeight(){if(this.i===0)return 0;let n=function(u){return u?Math.max(n(u.U),n(u.W))+1:0};return n(this.Y)}},s=d;t.default=s}),Ka=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=gr(),e=vr(),p=class extends o.ContainerIterator{constructor(s,n,u){super(u),this.o=s,this.h=n,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,e.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,n=this.h.tt;if(s===this.h)return n?n.rt-1:0;let u=0;for(s.U&&(u+=s.U.rt);s!==n;){let l=s.tt;s===l.W&&(u+=1,l.U&&(u+=l.U.rt)),s=l}return u}},d=p;t.default=d}),Wu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(qa()),e=d(Ka()),p=vr();function d(l){return l&&l.t?l:{default:l}}var s=class Ya extends e.default{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.u}copy(){return new Ya(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[],c,m){super(c,m);let v=this;l.forEach(function(b){v.insert(b)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,c){return this.M(l,void 0,c)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}union(l){let c=this;return l.forEach(function(m){c.insert(m)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=n;t.default=u}),Nu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=d(qa()),e=d(Ka()),p=vr();function d(l){return l&&l.t?l:{default:l}}var s=class Ja extends e.default{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(m,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(m,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new Ja(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(l=[],c,m){super(c,m);let v=this;l.forEach(function(b){v.setElement(b[0],b[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let c=this.X(this.Y,l);return new s(c,this.h,this)}upperBound(l){let c=this.Z(this.Y,l);return new s(c,this.h,this)}reverseLowerBound(l){let c=this.$(this.Y,l);return new s(c,this.h,this)}reverseUpperBound(l){let c=this.rr(this.Y,l);return new s(c,this.h,this)}setElement(l,c,m){return this.M(l,c,m)}find(l){let c=this.I(this.Y,l);return new s(c,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let c=this;return l.forEach(function(m){c.setElement(m[0],m[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=n;t.default=u}),Qa=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=o;function o(e){let p=typeof e;return p==="object"&&e!==null||p==="function"}}),Za=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var o=gr(),e=d(Qa()),p=vr();function d(u){return u&&u.t?u:{default:u}}var s=class extends o.ContainerIterator{constructor(u,l,c){super(c),this.o=u,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=s;var n=class extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:l,B:c}=u;l.B=c,c.L=l,u===this.p&&(this.p=c),u===this._&&(this._=l),this.i-=1}M(u,l,c){c===void 0&&(c=(0,e.default)(u));let m;if(c){let v=u[this.HASH_TAG];if(v!==void 0)return this.H[v].l=l,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),m={u,l,L:this._,B:this.h},this.H.push(m)}else{let v=this.g[u];if(v)return v.l=l,this.i;m={u,l,L:this._,B:this.h},this.g[u]=m}return this.i===0?(this.p=m,this.h.B=m):this._.B=m,this._=m,this.h.L=m,++this.i}I(u,l){if(l===void 0&&(l=(0,e.default)(u)),l){let c=u[this.HASH_TAG];return c===void 0?this.h:this.H[c]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(l){delete l.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,l){let c;if(l===void 0&&(l=(0,e.default)(u)),l){let m=u[this.HASH_TAG];if(m===void 0)return!1;delete u[this.HASH_TAG],c=this.H[m],delete this.H[m]}else{if(c=this.g[u],c===void 0)return!1;delete this.g[u]}return this.V(c),!0}eraseElementByIterator(u){let l=u.o;return l===this.h&&(0,p.throwIteratorAccessError)(),this.V(l),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let l=this.p;for(;u--;)l=l.B;return this.V(l),this.i}};t.HashContainer=n}),ju=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Za(),e=vr(),p=class Xa extends o.HashContainerIterator{constructor(u,l,c,m){super(u,l,m),this.container=c}get pointer(){return this.o===this.h&&(0,e.throwIteratorAccessError)(),this.o.u}copy(){return new Xa(this.o,this.h,this.container,this.iteratorType)}},d=class extends o.HashContainer{constructor(n=[]){super();let u=this;n.forEach(function(l){u.insert(l)})}begin(){return new p(this.p,this.h,this)}end(){return new p(this.h,this.h,this)}rBegin(){return new p(this._,this.h,this,1)}rEnd(){return new p(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(n,u){return this.M(n,void 0,u)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let u=this.p;for(;n--;)u=u.B;return u.u}find(n,u){let l=this.I(n,u);return new p(l,this.h,this)}forEach(n){let u=0,l=this.p;for(;l!==this.h;)n(l.u,u++,this),l=l.B}[Symbol.iterator](){return(function*(){let n=this.p;for(;n!==this.h;)yield n.u,n=n.B}).bind(this)()}},s=d;t.default=s}),Du=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var o=Za(),e=d(Qa()),p=vr();function d(l){return l&&l.t?l:{default:l}}var s=class tl extends o.HashContainerIterator{constructor(c,m,v,b){super(c,m,b),this.container=v}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(m,v){if(v==="0")return c.o.u;if(v==="1")return c.o.l},set(m,v,b){if(v!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new tl(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.HashContainer{constructor(l=[]){super();let c=this;l.forEach(function(m){c.setElement(m[0],m[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,c,m){return this.M(l,c,m)}getElementByKey(l,c){if(c===void 0&&(c=(0,e.default)(l)),c){let v=l[this.HASH_TAG];return v!==void 0?this.H[v].l:void 0}let m=this.g[l];return m?m.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let c=this.p;for(;l--;)c=c.B;return[c.u,c.l]}find(l,c){let m=this.I(l,c);return new s(m,this.h,this)}forEach(l){let c=0,m=this.p;for(;m!==this.h;)l([m.u,m.l],c++,this),m=m.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},u=n;t.default=u}),Lu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return d.default}});var o=v(Bu()),e=v(Ru()),p=v(Cu()),d=v(Pu()),s=v(Au()),n=v(xu()),u=v(Wu()),l=v(Nu()),c=v(ju()),m=v(Du());function v(b){return b&&b.t?b:{default:b}}}),Uu=xt((t,o)=>{Ot(),Bt(),Mt();var e=Lu().OrderedSet,p=mr()("number-allocator:trace"),d=mr()("number-allocator:error");function s(u,l){this.low=u,this.high=l}s.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},s.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0};function n(u,l){if(!(this instanceof n))return new n(u,l);this.min=u,this.max=l,this.ss=new e([],(c,m)=>c.compare(m)),p("Create"),this.clear()}n.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},n.prototype.alloc=function(){if(this.ss.size()===0)return p("alloc():empty"),null;let u=this.ss.begin(),l=u.pointer.low,c=u.pointer.high,m=l;return m+1<=c?this.ss.updateKeyByIterator(u,new s(l+1,c)):this.ss.eraseElementByPos(0),p("alloc():"+m),m},n.prototype.use=function(u){let l=new s(u,u),c=this.ss.lowerBound(l);if(!c.equals(this.ss.end())){let m=c.pointer.low,v=c.pointer.high;return c.pointer.equals(l)?(this.ss.eraseElementByIterator(c),p("use():"+u),!0):m>u?!1:m===u?(this.ss.updateKeyByIterator(c,new s(m+1,v)),p("use():"+u),!0):v===u?(this.ss.updateKeyByIterator(c,new s(m,v-1)),p("use():"+u),!0):(this.ss.updateKeyByIterator(c,new s(u+1,v)),this.ss.insert(new s(m,u-1)),p("use():"+u),!0)}return p("use():failed"),!1},n.prototype.free=function(u){if(u<this.min||u>this.max){d("free():"+u+" is out of range");return}let l=new s(u,u),c=this.ss.upperBound(l);if(c.equals(this.ss.end())){if(c.equals(this.ss.begin())){this.ss.insert(l);return}c.pre();let m=c.pointer.high;c.pointer.high+1===u?this.ss.updateKeyByIterator(c,new s(m,u)):this.ss.insert(l)}else if(c.equals(this.ss.begin()))if(u+1===c.pointer.low){let m=c.pointer.high;this.ss.updateKeyByIterator(c,new s(u,m))}else this.ss.insert(l);else{let m=c.pointer.low,v=c.pointer.high;c.pre();let b=c.pointer.low;c.pointer.high+1===u?u+1===m?(this.ss.eraseElementByIterator(c),this.ss.updateKeyByIterator(c,new s(b,v))):this.ss.updateKeyByIterator(c,new s(b,u)):u+1===m?(this.ss.eraseElementByIterator(c.next()),this.ss.insert(new s(u,v))):this.ss.insert(l)}p("free():"+u)},n.prototype.clear=function(){p("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},n.prototype.intervalCount=function(){return this.ss.size()},n.prototype.dump=function(){console.log("length:"+this.ss.size());for(let u of this.ss)console.log(u)},o.exports=n}),el=xt((t,o)=>{Ot(),Bt(),Mt();var e=Uu();o.exports.NumberAllocator=e}),zu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=Mu(),e=el(),p=class{constructor(d){d>0&&(this.aliasToTopic=new o.LRUCache({max:d}),this.topicToAlias={},this.numberAllocator=new e.NumberAllocator(1,d),this.max=d,this.length=0)}put(d,s){if(s===0||s>this.max)return!1;let n=this.aliasToTopic.get(s);return n&&delete this.topicToAlias[n],this.aliasToTopic.set(s,d),this.topicToAlias[d]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(d){return this.aliasToTopic.get(d)}getAliasByTopic(d){let s=this.topicToAlias[d];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=p}),$u=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});var e=Ko(),p=o(zu()),d=oo(),s=(n,u)=>{n.log("_handleConnack");let{options:l}=n,c=l.protocolVersion===5?u.reasonCode:u.returnCode;if(clearTimeout(n.connackTimer),delete n.topicAliasSend,u.properties){if(u.properties.topicAliasMaximum){if(u.properties.topicAliasMaximum>65535){n.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}u.properties.topicAliasMaximum>0&&(n.topicAliasSend=new p.default(u.properties.topicAliasMaximum))}u.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=u.properties.serverKeepAlive),u.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=u.properties.maximumPacketSize)}if(c===0)n.reconnecting=!1,n._onConnect(u);else if(c>0){let m=new d.ErrorWithReasonCode(`Connection refused: ${e.ReasonCodes[c]}`,c);n.emit("error",m),n.options.reconnectOnConnackError&&n._cleanUp(!0)}};t.default=s}),Vu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(e,p,d)=>{e.log("handling pubrel packet");let s=typeof d<"u"?d:e.noop,{messageId:n}=p,u={cmd:"pubcomp",messageId:n};e.incomingStore.get(p,(l,c)=>{l?e._sendPacket(u,s):(e.emit("message",c.topic,c.payload,c),e.handleMessage(c,m=>{if(m)return s(m);e.incomingStore.del(c,e.noop),e._sendPacket(u,s)}))})};t.default=o}),Gu=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(Iu()),p=o(Ou()),d=o($u()),s=o(Ko()),n=o(Vu()),u=(l,c,m)=>{let{options:v}=l;if(v.protocolVersion===5&&v.properties&&v.properties.maximumPacketSize&&v.properties.maximumPacketSize<c.length)return l.emit("error",new Error(`exceeding packets size ${c.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",c),c.cmd){case"publish":(0,e.default)(l,c,m);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":l.reschedulePing(),(0,s.default)(l,c),m();break;case"pubrel":l.reschedulePing(),(0,n.default)(l,c,m);break;case"connack":(0,d.default)(l,c),m();break;case"auth":l.reschedulePing(),(0,p.default)(l,c),m();break;case"pingresp":l.log("_handlePacket :: received pingresp"),l.reschedulePing(!0),m();break;case"disconnect":l.emit("disconnect",c),m();break;default:l.log("_handlePacket :: unknown command"),m();break}};t.default=u}),Hu=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var e=o((ro(),le(Yr))),p=oo(),d=class{};t.TypedEventEmitter=d,(0,p.applyMixin)(d,e.default)}),Yo=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.isReactNativeBrowser=t.isWebWorker=void 0;var o=()=>{var s;return typeof window<"u"?typeof navigator<"u"&&((s=navigator.userAgent)===null||s===void 0?void 0:s.toLowerCase().indexOf(" electron/"))>-1&&oe!=null&&oe.versions?!Object.prototype.hasOwnProperty.call(oe.versions,"electron"):typeof window.document<"u":!1},e=()=>{var s,n;return!!(typeof self=="object"&&!((n=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||n===void 0)&&n.includes("WorkerGlobalScope"))},p=()=>typeof navigator<"u"&&navigator.product==="ReactNative",d=o()||e()||p();t.isWebWorker=e(),t.isReactNativeBrowser=p(),t.default=d}),qu=xt((t,o)=>{Ot(),Bt(),Mt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t):typeof define=="function"&&define.amd?define(["exports"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.fastUniqueNumbers={}))}(t,function(e){var p=function(w){return function(E){var O=w(E);return E.add(O),O}},d=function(w){return function(E,O){return w.set(E,O),O}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,u=n*2,l=function(w,E){return function(O){var N=E.get(O),$=N===void 0?O.size:N<u?N+1:0;if(!O.has($))return w(O,$);if(O.size<n){for(;O.has($);)$=Math.floor(Math.random()*u);return w(O,$)}if(O.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;O.has($);)$=Math.floor(Math.random()*s);return w(O,$)}},c=new WeakMap,m=d(c),v=l(m,c),b=p(v);e.addUniqueNumber=b,e.generateUniqueNumber=v})}),Ku=xt((t,o)=>{Ot(),Bt(),Mt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,qu()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimersBroker={},e.fastUniqueNumbers))}(t,function(e,p){var d=function(u){return u.method!==void 0&&u.method==="call"},s=function(u){return u.error===null&&typeof u.id=="number"},n=function(u){var l=new Map([[0,function(){}]]),c=new Map([[0,function(){}]]),m=new Map,v=new Worker(u);v.addEventListener("message",function(N){var $=N.data;if(d($)){var P=$.params,C=P.timerId,H=P.timerType;if(H==="interval"){var tt=l.get(C);if(typeof tt=="number"){var D=m.get(tt);if(D===void 0||D.timerId!==C||D.timerType!==H)throw new Error("The timer is in an undefined state.")}else if(typeof tt<"u")tt();else throw new Error("The timer is in an undefined state.")}else if(H==="timeout"){var S=c.get(C);if(typeof S=="number"){var K=m.get(S);if(K===void 0||K.timerId!==C||K.timerType!==H)throw new Error("The timer is in an undefined state.")}else if(typeof S<"u")S(),c.delete(C);else throw new Error("The timer is in an undefined state.")}}else if(s($)){var it=$.id,z=m.get(it);if(z===void 0)throw new Error("The timer is in an undefined state.");var lt=z.timerId,A=z.timerType;m.delete(it),A==="interval"?l.delete(lt):c.delete(lt)}else{var Y=$.error.message;throw new Error(Y)}});var b=function(N){var $=p.generateUniqueNumber(m);m.set($,{timerId:N,timerType:"interval"}),l.set(N,$),v.postMessage({id:$,method:"clear",params:{timerId:N,timerType:"interval"}})},w=function(N){var $=p.generateUniqueNumber(m);m.set($,{timerId:N,timerType:"timeout"}),c.set(N,$),v.postMessage({id:$,method:"clear",params:{timerId:N,timerType:"timeout"}})},E=function(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=p.generateUniqueNumber(l);return l.set(P,function(){N(),typeof l.get(P)=="function"&&v.postMessage({id:null,method:"set",params:{delay:$,now:performance.now(),timerId:P,timerType:"interval"}})}),v.postMessage({id:null,method:"set",params:{delay:$,now:performance.now(),timerId:P,timerType:"interval"}}),P},O=function(N){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=p.generateUniqueNumber(c);return c.set(P,N),v.postMessage({id:null,method:"set",params:{delay:$,now:performance.now(),timerId:P,timerType:"timeout"}}),P};return{clearInterval:b,clearTimeout:w,setInterval:E,setTimeout:O}};e.load=n})}),Yu=xt((t,o)=>{Ot(),Bt(),Mt(),function(e,p){typeof t=="object"&&typeof o<"u"?p(t,Ku()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],p):(e=typeof globalThis<"u"?globalThis:e||self,p(e.workerTimers={},e.workerTimersBroker))}(t,function(e,p){var d=function(v,b){var w=null;return function(){if(w!==null)return w;var E=new Blob([b],{type:"application/javascript; charset=utf-8"}),O=URL.createObjectURL(E);return w=v(O),setTimeout(function(){return URL.revokeObjectURL(O)}),w}},s=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,n=d(p.load,s),u=function(v){return n().clearInterval(v)},l=function(v){return n().clearTimeout(v)},c=function(){var v;return(v=n()).setInterval.apply(v,arguments)},m=function(){var v;return(v=n()).setTimeout.apply(v,arguments)};e.clearInterval=u,e.clearTimeout=l,e.setInterval=c,e.setTimeout=m})}),Ju=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(c,m,v,b){b===void 0&&(b=v);var w=Object.getOwnPropertyDescriptor(m,v);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(c,b,w)}:function(c,m,v,b){b===void 0&&(b=v),c[b]=m[v]}),e=t&&t.__setModuleDefault||(Object.create?function(c,m){Object.defineProperty(c,"default",{enumerable:!0,value:m})}:function(c,m){c.default=m}),p=t&&t.__importStar||function(c){if(c&&c.__esModule)return c;var m={};if(c!=null)for(var v in c)v!=="default"&&Object.prototype.hasOwnProperty.call(c,v)&&o(m,c,v);return e(m,c),m};Object.defineProperty(t,"__esModule",{value:!0});var d=p(Yo()),s=Yu(),n={set:s.setInterval,clear:s.clearInterval},u={set:(c,m)=>setInterval(c,m),clear:c=>clearInterval(c)},l=c=>{switch(c){case"native":return u;case"worker":return n;case"auto":default:return d.default&&!d.isWebWorker&&!d.isReactNativeBrowser?n:u}};t.default=l}),rl=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0});var e=o(Ju()),p=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(d,s){this.destroyed=!1,this.client=d,this.timer=typeof s=="object"&&"set"in s&&"clear"in s?s:(0,e.default)(s),this.setKeepalive(d.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(d){if(d*=1e3,isNaN(d)||d<=0||d>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${d}`);this._keepalive=d,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${d}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let d=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+d,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};t.default=p}),Cn=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(tt,D,S,K){K===void 0&&(K=S);var it=Object.getOwnPropertyDescriptor(D,S);(!it||("get"in it?!D.__esModule:it.writable||it.configurable))&&(it={enumerable:!0,get:function(){return D[S]}}),Object.defineProperty(tt,K,it)}:function(tt,D,S,K){K===void 0&&(K=S),tt[K]=D[S]}),e=t&&t.__setModuleDefault||(Object.create?function(tt,D){Object.defineProperty(tt,"default",{enumerable:!0,value:D})}:function(tt,D){tt.default=D}),p=t&&t.__importStar||function(tt){if(tt&&tt.__esModule)return tt;var D={};if(tt!=null)for(var S in tt)S!=="default"&&Object.prototype.hasOwnProperty.call(tt,S)&&o(D,tt,S);return e(D,tt),D},d=t&&t.__importDefault||function(tt){return tt&&tt.__esModule?tt:{default:tt}};Object.defineProperty(t,"__esModule",{value:!0});var s=d(Dp()),n=d(Eu()),u=d(Da()),l=Jr(),c=d(Su()),m=p(Tu()),v=d(mr()),b=d(La()),w=d(Gu()),E=oo(),O=Hu(),N=d(rl()),$=p(Yo()),P=globalThis.setImmediate||((...tt)=>{let D=tt.shift();(0,E.nextTick)(()=>{D(...tt)})}),C={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},H=class Pn extends O.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(D,S){super(),this.options=S||{};for(let K in C)typeof this.options[K]>"u"?this.options[K]=C[K]:this.options[K]=S[K];this.log=this.options.log||(0,v.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Pn.VERSION),$.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",$.default?"browser":"node"),this.log("MqttClient :: options.protocol",S.protocol),this.log("MqttClient :: options.protocolVersion",S.protocolVersion),this.log("MqttClient :: options.username",S.username),this.log("MqttClient :: options.keepalive",S.keepalive),this.log("MqttClient :: options.reconnectPeriod",S.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",S.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",S.properties?S.properties.topicAliasMaximum:void 0),this.options.clientId=typeof S.clientId=="string"?S.clientId:Pn.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=S.protocolVersion===5&&S.customHandleAcks?S.customHandleAcks:(...K)=>{K[3](null,0)},this.options.writeCache||(n.default.writeToStream.cacheNumbers=!1),this.streamBuilder=D,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new u.default:this.options.messageIdProvider,this.outgoingStore=S.outgoingStore||new b.default,this.incomingStore=S.incomingStore||new b.default,this.queueQoSZero=S.queueQoSZero===void 0?!0:S.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,S.properties&&S.properties.topicAliasMaximum>0&&(S.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(S.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:K}=this,it=()=>{let z=K.shift();this.log("deliver :: entry %o",z);let lt=null;if(!z){this._resubscribe();return}lt=z.packet,this.log("deliver :: call _sendPacket for %o",lt);let A=!0;lt.messageId&&lt.messageId!==0&&(this.messageIdProvider.register(lt.messageId)||(A=!1)),A?this._sendPacket(lt,Y=>{z.cb&&z.cb(Y),it()}):(this.log("messageId: %d has already used. The message is skipped and removed.",lt.messageId),it())};this.log("connect :: sending queued packets"),it()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(D,S){S()}handleMessage(D,S){S()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var D;let S=new l.Writable,K=n.default.parser(this.options),it=null,z=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),K.on("packet",pt=>{this.log("parser :: on packet push to packets array."),z.push(pt)});let lt=()=>{this.log("work :: getting next packet in queue");let pt=z.shift();if(pt)this.log("work :: packet pulled from queue"),(0,w.default)(this,pt,A);else{this.log("work :: no packets in queue");let It=it;it=null,this.log("work :: done flag is %s",!!It),It&&It()}},A=()=>{if(z.length)(0,E.nextTick)(lt);else{let pt=it;it=null,pt()}};S._write=(pt,It,Tt)=>{it=Tt,this.log("writable stream :: parsing buffer"),K.parse(pt),lt()};let Y=pt=>{this.log("streamErrorHandler :: error",pt.message),pt.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",pt)):this.noop(pt)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(S),this.stream.on("error",Y),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let Et={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(Et.will=Object.assign(Object.assign({},this.options.will),{payload:(D=this.options.will)===null||D===void 0?void 0:D.payload})),this.topicAliasRecv&&(Et.properties||(Et.properties={}),this.topicAliasRecv&&(Et.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(Et),K.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let pt=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(pt)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(D,S,K,it){this.log("publish :: message `%s` to topic `%s`",S,D);let{options:z}=this;typeof K=="function"&&(it=K,K=null),K=K||{},K=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),K);let{qos:lt,retain:A,dup:Y,properties:Et,cbStorePut:pt}=K;if(this._checkDisconnecting(it))return this;let It=()=>{let Tt=0;if((lt===1||lt===2)&&(Tt=this._nextId(),Tt===null))return this.log("No messageId left"),!1;let Q={cmd:"publish",topic:D,payload:S,qos:lt,retain:A,messageId:Tt,dup:Y};switch(z.protocolVersion===5&&(Q.properties=Et),this.log("publish :: qos",lt),lt){case 1:case 2:this.outgoing[Q.messageId]={volatile:!1,cb:it||this.noop},this.log("MqttClient:publish: packet cmd: %s",Q.cmd),this._sendPacket(Q,void 0,pt);break;default:this.log("MqttClient:publish: packet cmd: %s",Q.cmd),this._sendPacket(Q,it,pt);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!It())&&this._storeProcessingQueue.push({invoke:It,cbStorePut:K.cbStorePut,callback:it}),this}publishAsync(D,S,K){return new Promise((it,z)=>{this.publish(D,S,K,(lt,A)=>{lt?z(lt):it(A)})})}subscribe(D,S,K){let it=this.options.protocolVersion;typeof S=="function"&&(K=S),K=K||this.noop;let z=!1,lt=[];typeof D=="string"?(D=[D],lt=D):Array.isArray(D)?lt=D:typeof D=="object"&&(z=D.resubscribe,delete D.resubscribe,lt=Object.keys(D));let A=m.validateTopics(lt);if(A!==null)return P(K,new Error(`Invalid topic ${A}`)),this;if(this._checkDisconnecting(K))return this.log("subscribe: discconecting true"),this;let Y={qos:0};it===5&&(Y.nl=!1,Y.rap=!1,Y.rh=0),S=Object.assign(Object.assign({},Y),S);let Et=S.properties,pt=[],It=(Q,ut)=>{if(ut=ut||S,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Q)||this._resubscribeTopics[Q].qos<ut.qos||z){let mt={topic:Q,qos:ut.qos};it===5&&(mt.nl=ut.nl,mt.rap=ut.rap,mt.rh=ut.rh,mt.properties=Et),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",mt.topic,mt.qos),pt.push(mt)}};if(Array.isArray(D)?D.forEach(Q=>{this.log("subscribe: array topic %s",Q),It(Q)}):Object.keys(D).forEach(Q=>{this.log("subscribe: object topic %s, %o",Q,D[Q]),It(Q,D[Q])}),!pt.length)return K(null,[]),this;let Tt=()=>{let Q=this._nextId();if(Q===null)return this.log("No messageId left"),!1;let ut={cmd:"subscribe",subscriptions:pt,messageId:Q};if(Et&&(ut.properties=Et),this.options.resubscribe){this.log("subscribe :: resubscribe true");let mt=[];pt.forEach(_t=>{if(this.options.reconnectPeriod>0){let M={qos:_t.qos};it===5&&(M.nl=_t.nl||!1,M.rap=_t.rap||!1,M.rh=_t.rh||0,M.properties=_t.properties),this._resubscribeTopics[_t.topic]=M,mt.push(_t.topic)}}),this.messageIdToTopic[ut.messageId]=mt}return this.outgoing[ut.messageId]={volatile:!0,cb(mt,_t){if(!mt){let{granted:M}=_t;for(let ct=0;ct<M.length;ct+=1)pt[ct].qos=M[ct]}K(mt,pt,_t)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(ut),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Tt())&&this._storeProcessingQueue.push({invoke:Tt,callback:K}),this}subscribeAsync(D,S){return new Promise((K,it)=>{this.subscribe(D,S,(z,lt)=>{z?it(z):K(lt)})})}unsubscribe(D,S,K){typeof D=="string"&&(D=[D]),typeof S=="function"&&(K=S),K=K||this.noop;let it=m.validateTopics(D);if(it!==null)return P(K,new Error(`Invalid topic ${it}`)),this;if(this._checkDisconnecting(K))return this;let z=()=>{let lt=this._nextId();if(lt===null)return this.log("No messageId left"),!1;let A={cmd:"unsubscribe",messageId:lt,unsubscriptions:[]};return typeof D=="string"?A.unsubscriptions=[D]:Array.isArray(D)&&(A.unsubscriptions=D),this.options.resubscribe&&A.unsubscriptions.forEach(Y=>{delete this._resubscribeTopics[Y]}),typeof S=="object"&&S.properties&&(A.properties=S.properties),this.outgoing[A.messageId]={volatile:!0,cb:K},this.log("unsubscribe: call _sendPacket"),this._sendPacket(A),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!z())&&this._storeProcessingQueue.push({invoke:z,callback:K}),this}unsubscribeAsync(D,S){return new Promise((K,it)=>{this.unsubscribe(D,S,(z,lt)=>{z?it(z):K(lt)})})}end(D,S,K){this.log("end :: (%s)",this.options.clientId),(D==null||typeof D!="boolean")&&(K=K||S,S=D,D=!1),typeof S!="object"&&(K=K||S,S=null),this.log("end :: cb? %s",!!K),(!K||typeof K!="function")&&(K=this.noop);let it=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(lt=>{this.outgoingStore.close(A=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),K){let Y=lt||A;this.log("end :: closeStores: invoking callback with args"),K(Y)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},z=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,D),this._cleanUp(D,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,E.nextTick)(it)},S)};return this.disconnecting?(K(),this):(this._clearReconnect(),this.disconnecting=!0,!D&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,z,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),z()),this)}endAsync(D,S){return new Promise((K,it)=>{this.end(D,S,z=>{z?it(z):K()})})}removeOutgoingMessage(D){if(this.outgoing[D]){let{cb:S}=this.outgoing[D];this._removeOutgoingAndStoreMessage(D,()=>{S(new Error("Message removed"))})}return this}reconnect(D){this.log("client reconnect");let S=()=>{D?(this.options.incomingStore=D.incomingStore,this.options.outgoingStore=D.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new b.default,this.outgoingStore=this.options.outgoingStore||new b.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=S:S(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(D=>{this.outgoing[D].volatile&&typeof this.outgoing[D].cb=="function"&&(this.outgoing[D].cb(new Error("Connection closed")),delete this.outgoing[D])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(D=>{typeof this.outgoing[D].cb=="function"&&(this.outgoing[D].cb(new Error("Connection closed")),delete this.outgoing[D])}))}_removeTopicAliasAndRecoverTopicName(D){let S;D.properties&&(S=D.properties.topicAlias);let K=D.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",S,K),K.length===0){if(typeof S>"u")return new Error("Unregistered Topic Alias");if(K=this.topicAliasSend.getTopicByAlias(S),typeof K>"u")return new Error("Unregistered Topic Alias");D.topic=K}S&&delete D.properties.topicAlias}_checkDisconnecting(D){return this.disconnecting&&(D&&D!==this.noop?D(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(D,S,K={}){if(S&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",S)),this.log("_cleanUp :: forced? %s",D),D)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let it=Object.assign({cmd:"disconnect"},K);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(it,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),P(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),S&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",S),S())}_storeAndSend(D,S,K){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",D.cmd);let it=D,z;if(it.cmd==="publish"&&(it=(0,c.default)(D),z=this._removeTopicAliasAndRecoverTopicName(it),z))return S&&S(z);this.outgoingStore.put(it,lt=>{if(lt)return S&&S(lt);K(),this._writePacket(D,S)})}_applyTopicAlias(D){if(this.options.protocolVersion===5&&D.cmd==="publish"){let S;D.properties&&(S=D.properties.topicAlias);let K=D.topic.toString();if(this.topicAliasSend)if(S){if(K.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",K,S),!this.topicAliasSend.put(K,S)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,S),new Error("Sending Topic Alias out of range")}else K.length!==0&&(this.options.autoAssignTopicAlias?(S=this.topicAliasSend.getAliasByTopic(K),S?(D.topic="",D.properties=Object.assign(Object.assign({},D.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",K,S)):(S=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(K,S),D.properties=Object.assign(Object.assign({},D.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",K,S))):this.options.autoUseTopicAlias&&(S=this.topicAliasSend.getAliasByTopic(K),S&&(D.topic="",D.properties=Object.assign(Object.assign({},D.properties),{topicAlias:S}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",K,S))));else if(S)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",K,S),new Error("Sending Topic Alias out of range")}}_noop(D){this.log("noop ::",D)}_writePacket(D,S){this.log("_writePacket :: packet: %O",D),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",D),this.log("_writePacket :: writing to stream");let K=n.default.writeToStream(D,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",K),!K&&S&&S!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",S)):S&&(this.log("_writePacket :: invoking cb"),S())}_sendPacket(D,S,K,it){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),K=K||this.noop,S=S||this.noop;let z=this._applyTopicAlias(D);if(z){S(z);return}if(!this.connected){if(D.cmd==="auth"){this._writePacket(D,S);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(D,S,K);return}if(it){this._writePacket(D,S);return}switch(D.cmd){case"publish":break;case"pubrel":this._storeAndSend(D,S,K);return;default:this._writePacket(D,S);return}switch(D.qos){case 2:case 1:this._storeAndSend(D,S,K);break;case 0:default:this._writePacket(D,S);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(D,S,K){this.log("_storePacket :: packet: %o",D),this.log("_storePacket :: cb? %s",!!S),K=K||this.noop;let it=D;if(it.cmd==="publish"){it=(0,c.default)(D);let lt=this._removeTopicAliasAndRecoverTopicName(it);if(lt)return S&&S(lt)}let z=it.qos||0;z===0&&this.queueQoSZero||it.cmd!=="publish"?this.queue.push({packet:it,cb:S}):z>0?(S=this.outgoing[it.messageId]?this.outgoing[it.messageId].cb:null,this.outgoingStore.put(it,lt=>{if(lt)return S&&S(lt);K()})):S&&S(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new N.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(D=!1){this.keepaliveManager&&this.options.keepalive&&(D||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let D=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&D.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let S=0;S<D.length;S++){let K={};K[D[S]]=this._resubscribeTopics[D[S]],K.resubscribe=!0,this.subscribe(K,{properties:K[D[S]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(D){if(this.disconnected){this.emit("connect",D);return}this.connackPacket=D,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let S=()=>{let K=this.outgoingStore.createStream(),it=()=>{K.destroy(),K=null,this._flushStoreProcessingQueue(),z()},z=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",it),K.on("error",A=>{z(),this._flushStoreProcessingQueue(),this.removeListener("close",it),this.emit("error",A)});let lt=()=>{if(!K)return;let A=K.read(1),Y;if(!A){K.once("readable",lt);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[A.messageId]){lt();return}!this.disconnecting&&!this.reconnectTimer?(Y=this.outgoing[A.messageId]?this.outgoing[A.messageId].cb:null,this.outgoing[A.messageId]={volatile:!1,cb(Et,pt){Y&&Y(Et,pt),lt()}},this._packetIdsDuringStoreProcessing[A.messageId]=!0,this.messageIdProvider.register(A.messageId)?this._sendPacket(A,void 0,void 0,!0):this.log("messageId: %d has already used.",A.messageId)):K.destroy&&K.destroy()};K.on("end",()=>{let A=!0;for(let Y in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Y]){A=!1;break}this.removeListener("close",it),A?(z(),this._invokeAllStoreProcessingQueue(),this.emit("connect",D)):S()}),lt()};S()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let D=this._storeProcessingQueue[0];if(D&&D.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let D of this._storeProcessingQueue)D.cbStorePut&&D.cbStorePut(new Error("Connection closed")),D.callback&&D.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(D,S){delete this.outgoing[D],this.outgoingStore.del({messageId:D},(K,it)=>{S(K,it),this.messageIdProvider.deallocate(D),this._invokeStoreProcessingQueue()})}};H.VERSION=E.MQTTJS_VERSION,t.default=H}),Qu=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=el(),e=class{constructor(){this.numberAllocator=new o.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(p){return this.numberAllocator.use(p)}deallocate(p){this.numberAllocator.free(p)}clear(){this.numberAllocator.clear()}};t.default=e});function Fr(t){throw new RangeError(il[t])}function Ts(t,o){let e=t.split("@"),p="";e.length>1&&(p=e[0]+"@",t=e[1]);let d=function(s,n){let u=[],l=s.length;for(;l--;)u[l]=n(s[l]);return u}((t=t.replace(ol,".")).split("."),o).join(".");return p+d}function Is(t){let o=[],e=0,p=t.length;for(;e<p;){let d=t.charCodeAt(e++);if(d>=55296&&d<=56319&&e<p){let s=t.charCodeAt(e++);(64512&s)==56320?o.push(((1023&d)<<10)+(1023&s)+65536):(o.push(d),e--)}else o.push(d)}return o}var ks,Os,ol,il,qe,_o,si,ai,li,pi,Tr,Zu=Me(()=>{Ot(),Bt(),Mt(),ks=/^xn--/,Os=/[^\0-\x7E]/,ol=/[\x2E\u3002\uFF0E\uFF61]/g,il={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},qe=Math.floor,_o=String.fromCharCode,si=function(t,o){return t+22+75*(t<26)-((o!=0)<<5)},ai=function(t,o,e){let p=0;for(t=e?qe(t/700):t>>1,t+=qe(t/o);t>455;p+=36)t=qe(t/35);return qe(p+36*t/(t+38))},li=function(t){let o=[],e=t.length,p=0,d=128,s=72,n=t.lastIndexOf("-");n<0&&(n=0);for(let l=0;l<n;++l)t.charCodeAt(l)>=128&&Fr("not-basic"),o.push(t.charCodeAt(l));for(let l=n>0?n+1:0;l<e;){let c=p;for(let v=1,b=36;;b+=36){l>=e&&Fr("invalid-input");let w=(u=t.charCodeAt(l++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(w>=36||w>qe((2147483647-p)/v))&&Fr("overflow"),p+=w*v;let E=b<=s?1:b>=s+26?26:b-s;if(w<E)break;let O=36-E;v>qe(2147483647/O)&&Fr("overflow"),v*=O}let m=o.length+1;s=ai(p-c,m,c==0),qe(p/m)>2147483647-d&&Fr("overflow"),d+=qe(p/m),p%=m,o.splice(p++,0,d)}var u;return String.fromCodePoint(...o)},pi=function(t){let o=[],e=(t=Is(t)).length,p=128,d=0,s=72;for(let l of t)l<128&&o.push(_o(l));let n=o.length,u=n;for(n&&o.push("-");u<e;){let l=2147483647;for(let m of t)m>=p&&m<l&&(l=m);let c=u+1;l-p>qe((2147483647-d)/c)&&Fr("overflow"),d+=(l-p)*c,p=l;for(let m of t)if(m<p&&++d>2147483647&&Fr("overflow"),m==p){let v=d;for(let b=36;;b+=36){let w=b<=s?1:b>=s+26?26:b-s;if(v<w)break;let E=v-w,O=36-w;o.push(_o(si(w+E%O,0))),v=qe(E/O)}o.push(_o(si(v,0))),s=ai(d,c,u==n),d=0,++u}++d,++p}return o.join("")},Tr={version:"2.1.0",ucs2:{decode:Is,encode:t=>String.fromCodePoint(...t)},decode:li,encode:pi,toASCII:function(t){return Ts(t,function(o){return Os.test(o)?"xn--"+pi(o):o})},toUnicode:function(t){return Ts(t,function(o){return ks.test(o)?li(o.slice(4).toLowerCase()):o})}},Tr.decode,Tr.encode,Tr.toASCII,Tr.toUnicode,Tr.ucs2,Tr.version});function Xu(t,o){return Object.prototype.hasOwnProperty.call(t,o)}var Ms,Qr,Bs,Xe,tc=Me(()=>{Ot(),Bt(),Mt(),Ms=function(t,o,e,p){o=o||"&",e=e||"=";var d={};if(typeof t!="string"||t.length===0)return d;var s=/\+/g;t=t.split(o);var n=1e3;p&&typeof p.maxKeys=="number"&&(n=p.maxKeys);var u=t.length;n>0&&u>n&&(u=n);for(var l=0;l<u;++l){var c,m,v,b,w=t[l].replace(s,"%20"),E=w.indexOf(e);E>=0?(c=w.substr(0,E),m=w.substr(E+1)):(c=w,m=""),v=decodeURIComponent(c),b=decodeURIComponent(m),Xu(d,v)?Array.isArray(d[v])?d[v].push(b):d[v]=[d[v],b]:d[v]=b}return d},Qr=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Bs=function(t,o,e,p){return o=o||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(d){var s=encodeURIComponent(Qr(d))+e;return Array.isArray(t[d])?t[d].map(function(n){return s+encodeURIComponent(Qr(n))}).join(o):s+encodeURIComponent(Qr(t[d]))}).join(o):p?encodeURIComponent(Qr(p))+e+encodeURIComponent(Qr(t)):""},Xe={},Xe.decode=Xe.parse=Ms,Xe.encode=Xe.stringify=Bs,Xe.decode,Xe.encode,Xe.parse,Xe.stringify});function An(){throw new Error("setTimeout has not been defined")}function xn(){throw new Error("clearTimeout has not been defined")}function nl(t){if(lr===setTimeout)return setTimeout(t,0);if((lr===An||!lr)&&setTimeout)return lr=setTimeout,setTimeout(t,0);try{return lr(t,0)}catch{try{return lr.call(null,t,0)}catch{return lr.call(this||Gr,t,0)}}}function ec(){Hr&&zr&&(Hr=!1,zr.length?er=zr.concat(er):fo=-1,er.length&&sl())}function sl(){if(!Hr){var t=nl(ec);Hr=!0;for(var o=er.length;o;){for(zr=er,er=[];++fo<o;)zr&&zr[fo].run();fo=-1,o=er.length}zr=null,Hr=!1,function(e){if(pr===clearTimeout)return clearTimeout(e);if((pr===xn||!pr)&&clearTimeout)return pr=clearTimeout,clearTimeout(e);try{pr(e)}catch{try{return pr.call(null,e)}catch{return pr.call(this||Gr,e)}}}(t)}}function Rs(t,o){(this||Gr).fun=t,(this||Gr).array=o}function nr(){}var Cs,lr,pr,Gr,Ee,zr,er,Hr,fo,ve,rc=Me(()=>{Ot(),Bt(),Mt(),Gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ee=Cs={},function(){try{lr=typeof setTimeout=="function"?setTimeout:An}catch{lr=An}try{pr=typeof clearTimeout=="function"?clearTimeout:xn}catch{pr=xn}}(),er=[],Hr=!1,fo=-1,Ee.nextTick=function(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)o[e-1]=arguments[e];er.push(new Rs(t,o)),er.length!==1||Hr||nl(sl)},Rs.prototype.run=function(){(this||Gr).fun.apply(null,(this||Gr).array)},Ee.title="browser",Ee.browser=!0,Ee.env={},Ee.argv=[],Ee.version="",Ee.versions={},Ee.on=nr,Ee.addListener=nr,Ee.once=nr,Ee.off=nr,Ee.removeListener=nr,Ee.removeAllListeners=nr,Ee.emit=nr,Ee.prependListener=nr,Ee.prependOnceListener=nr,Ee.listeners=function(t){return[]},Ee.binding=function(t){throw new Error("process.binding is not supported")},Ee.cwd=function(){return"/"},Ee.chdir=function(t){throw new Error("process.chdir is not supported")},Ee.umask=function(){return 0},ve=Cs,ve.addListener,ve.argv,ve.binding,ve.browser,ve.chdir,ve.cwd,ve.emit,ve.env,ve.listeners,ve.nextTick,ve.off,ve.on,ve.once,ve.prependListener,ve.prependOnceListener,ve.removeAllListeners,ve.removeListener,ve.title,ve.umask,ve.version,ve.versions});function oc(){if(Fn)return xo;Fn=!0;var t=xo={},o,e;function p(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=p}catch{o=p}try{typeof clearTimeout=="function"?e=clearTimeout:e=d}catch{e=d}})();function s(O){if(o===setTimeout)return setTimeout(O,0);if((o===p||!o)&&setTimeout)return o=setTimeout,setTimeout(O,0);try{return o(O,0)}catch{try{return o.call(null,O,0)}catch{return o.call(this||jr,O,0)}}}function n(O){if(e===clearTimeout)return clearTimeout(O);if((e===d||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(O);try{return e(O)}catch{try{return e.call(null,O)}catch{return e.call(this||jr,O)}}}var u=[],l=!1,c,m=-1;function v(){!l||!c||(l=!1,c.length?u=c.concat(u):m=-1,u.length&&b())}function b(){if(!l){var O=s(v);l=!0;for(var N=u.length;N;){for(c=u,u=[];++m<N;)c&&c[m].run();m=-1,N=u.length}c=null,l=!1,n(O)}}t.nextTick=function(O){var N=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)N[$-1]=arguments[$];u.push(new w(O,N)),u.length===1&&!l&&s(b)};function w(O,N){(this||jr).fun=O,(this||jr).array=N}w.prototype.run=function(){(this||jr).fun.apply(null,(this||jr).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function E(){}return t.on=E,t.addListener=E,t.once=E,t.off=E,t.removeListener=E,t.removeAllListeners=E,t.emit=E,t.prependListener=E,t.prependOnceListener=E,t.listeners=function(O){return[]},t.binding=function(O){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(O){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},xo}var xo,Fn,jr,he,al=Me(()=>{Ot(),Bt(),Mt(),xo={},Fn=!1,jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,he=oc(),he.platform="browser",he.addListener,he.argv,he.binding,he.browser,he.chdir,he.cwd,he.emit,he.env,he.listeners,he.nextTick,he.off,he.on,he.once,he.prependListener,he.prependOnceListener,he.removeAllListeners,he.removeListener,he.title,he.umask,he.version,he.versions});function ic(){if(Wn)return Fo;Wn=!0;var t=he;function o(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function e(s,n){for(var u="",l=0,c=-1,m=0,v,b=0;b<=s.length;++b){if(b<s.length)v=s.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||m===1))if(c!==b-1&&m===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,m=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,m=0;continue}}n&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+s.slice(c+1,b):u=s.slice(c+1,b),l=b-c-1;c=b,m=0}else v===46&&m!==-1?++m:m=-1}return u}function p(s,n){var u=n.dir||n.root,l=n.base||(n.name||"")+(n.ext||"");return u?u===n.root?u+l:u+s+l:l}var d={resolve:function(){for(var s="",n=!1,u,l=arguments.length-1;l>=-1&&!n;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(s=c+"/"+s,n=c.charCodeAt(0)===47)}return s=e(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(o(s),s.length===0)return".";var n=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=e(s,!n),s.length===0&&!n&&(s="."),s.length>0&&u&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return o(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var u=arguments[n];o(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":d.normalize(s)},relative:function(s,n){if(o(s),o(n),s===n||(s=d.resolve(s),n=d.resolve(n),s===n))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var l=s.length,c=l-u,m=1;m<n.length&&n.charCodeAt(m)===47;++m);for(var v=n.length,b=v-m,w=c<b?c:b,E=-1,O=0;O<=w;++O){if(O===w){if(b>w){if(n.charCodeAt(m+O)===47)return n.slice(m+O+1);if(O===0)return n.slice(m+O)}else c>w&&(s.charCodeAt(u+O)===47?E=O:O===0&&(E=0));break}var N=s.charCodeAt(u+O),$=n.charCodeAt(m+O);if(N!==$)break;N===47&&(E=O)}var P="";for(O=u+E+1;O<=l;++O)(O===l||s.charCodeAt(O)===47)&&(P.length===0?P+="..":P+="/..");return P.length>0?P+n.slice(m+E):(m+=E,n.charCodeAt(m)===47&&++m,n.slice(m))},_makeLong:function(s){return s},dirname:function(s){if(o(s),s.length===0)return".";for(var n=s.charCodeAt(0),u=n===47,l=-1,c=!0,m=s.length-1;m>=1;--m)if(n=s.charCodeAt(m),n===47){if(!c){l=m;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":s.slice(0,l)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');o(s);var u=0,l=-1,c=!0,m;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var v=n.length-1,b=-1;for(m=s.length-1;m>=0;--m){var w=s.charCodeAt(m);if(w===47){if(!c){u=m+1;break}}else b===-1&&(c=!1,b=m+1),v>=0&&(w===n.charCodeAt(v)?--v===-1&&(l=m):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=s.length),s.slice(u,l)}else{for(m=s.length-1;m>=0;--m)if(s.charCodeAt(m)===47){if(!c){u=m+1;break}}else l===-1&&(c=!1,l=m+1);return l===-1?"":s.slice(u,l)}},extname:function(s){o(s);for(var n=-1,u=0,l=-1,c=!0,m=0,v=s.length-1;v>=0;--v){var b=s.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?n===-1?n=v:m!==1&&(m=1):n!==-1&&(m=-1)}return n===-1||l===-1||m===0||m===1&&n===l-1&&n===u+1?"":s.slice(n,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return p("/",s)},parse:function(s){o(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var u=s.charCodeAt(0),l=u===47,c;l?(n.root="/",c=1):c=0;for(var m=-1,v=0,b=-1,w=!0,E=s.length-1,O=0;E>=c;--E){if(u=s.charCodeAt(E),u===47){if(!w){v=E+1;break}continue}b===-1&&(w=!1,b=E+1),u===46?m===-1?m=E:O!==1&&(O=1):m!==-1&&(O=-1)}return m===-1||b===-1||O===0||O===1&&m===b-1&&m===v+1?b!==-1&&(v===0&&l?n.base=n.name=s.slice(1,b):n.base=n.name=s.slice(v,b)):(v===0&&l?(n.name=s.slice(1,m),n.base=s.slice(1,b)):(n.name=s.slice(v,m),n.base=s.slice(v,b)),n.ext=s.slice(m,b)),v>0?n.dir=s.slice(0,v-1):l&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,Fo=d,Fo}var Fo,Wn,Nn,nc=Me(()=>{Ot(),Bt(),Mt(),al(),Fo={},Wn=!1,Nn=ic()}),ll={};qr(ll,{URL:()=>kl,Url:()=>El,default:()=>ie,fileURLToPath:()=>pl,format:()=>_l,parse:()=>Il,pathToFileURL:()=>ul,resolve:()=>Sl,resolveObject:()=>Tl});function $e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function lo(t,o,e){if(t&&Ye.isObject(t)&&t instanceof $e)return t;var p=new $e;return p.parse(t,o,e),p}function sc(){if(jn)return Wo;jn=!0;var t=ve;function o(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function e(s,n){for(var u="",l=0,c=-1,m=0,v,b=0;b<=s.length;++b){if(b<s.length)v=s.charCodeAt(b);else{if(v===47)break;v=47}if(v===47){if(!(c===b-1||m===1))if(c!==b-1&&m===2){if(u.length<2||l!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var w=u.lastIndexOf("/");if(w!==u.length-1){w===-1?(u="",l=0):(u=u.slice(0,w),l=u.length-1-u.lastIndexOf("/")),c=b,m=0;continue}}else if(u.length===2||u.length===1){u="",l=0,c=b,m=0;continue}}n&&(u.length>0?u+="/..":u="..",l=2)}else u.length>0?u+="/"+s.slice(c+1,b):u=s.slice(c+1,b),l=b-c-1;c=b,m=0}else v===46&&m!==-1?++m:m=-1}return u}function p(s,n){var u=n.dir||n.root,l=n.base||(n.name||"")+(n.ext||"");return u?u===n.root?u+l:u+s+l:l}var d={resolve:function(){for(var s="",n=!1,u,l=arguments.length-1;l>=-1&&!n;l--){var c;l>=0?c=arguments[l]:(u===void 0&&(u=t.cwd()),c=u),o(c),c.length!==0&&(s=c+"/"+s,n=c.charCodeAt(0)===47)}return s=e(s,!n),n?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(o(s),s.length===0)return".";var n=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=e(s,!n),s.length===0&&!n&&(s="."),s.length>0&&u&&(s+="/"),n?"/"+s:s},isAbsolute:function(s){return o(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,n=0;n<arguments.length;++n){var u=arguments[n];o(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":d.normalize(s)},relative:function(s,n){if(o(s),o(n),s===n||(s=d.resolve(s),n=d.resolve(n),s===n))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var l=s.length,c=l-u,m=1;m<n.length&&n.charCodeAt(m)===47;++m);for(var v=n.length,b=v-m,w=c<b?c:b,E=-1,O=0;O<=w;++O){if(O===w){if(b>w){if(n.charCodeAt(m+O)===47)return n.slice(m+O+1);if(O===0)return n.slice(m+O)}else c>w&&(s.charCodeAt(u+O)===47?E=O:O===0&&(E=0));break}var N=s.charCodeAt(u+O),$=n.charCodeAt(m+O);if(N!==$)break;N===47&&(E=O)}var P="";for(O=u+E+1;O<=l;++O)(O===l||s.charCodeAt(O)===47)&&(P.length===0?P+="..":P+="/..");return P.length>0?P+n.slice(m+E):(m+=E,n.charCodeAt(m)===47&&++m,n.slice(m))},_makeLong:function(s){return s},dirname:function(s){if(o(s),s.length===0)return".";for(var n=s.charCodeAt(0),u=n===47,l=-1,c=!0,m=s.length-1;m>=1;--m)if(n=s.charCodeAt(m),n===47){if(!c){l=m;break}}else c=!1;return l===-1?u?"/":".":u&&l===1?"//":s.slice(0,l)},basename:function(s,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');o(s);var u=0,l=-1,c=!0,m;if(n!==void 0&&n.length>0&&n.length<=s.length){if(n.length===s.length&&n===s)return"";var v=n.length-1,b=-1;for(m=s.length-1;m>=0;--m){var w=s.charCodeAt(m);if(w===47){if(!c){u=m+1;break}}else b===-1&&(c=!1,b=m+1),v>=0&&(w===n.charCodeAt(v)?--v===-1&&(l=m):(v=-1,l=b))}return u===l?l=b:l===-1&&(l=s.length),s.slice(u,l)}else{for(m=s.length-1;m>=0;--m)if(s.charCodeAt(m)===47){if(!c){u=m+1;break}}else l===-1&&(c=!1,l=m+1);return l===-1?"":s.slice(u,l)}},extname:function(s){o(s);for(var n=-1,u=0,l=-1,c=!0,m=0,v=s.length-1;v>=0;--v){var b=s.charCodeAt(v);if(b===47){if(!c){u=v+1;break}continue}l===-1&&(c=!1,l=v+1),b===46?n===-1?n=v:m!==1&&(m=1):n!==-1&&(m=-1)}return n===-1||l===-1||m===0||m===1&&n===l-1&&n===u+1?"":s.slice(n,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return p("/",s)},parse:function(s){o(s);var n={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return n;var u=s.charCodeAt(0),l=u===47,c;l?(n.root="/",c=1):c=0;for(var m=-1,v=0,b=-1,w=!0,E=s.length-1,O=0;E>=c;--E){if(u=s.charCodeAt(E),u===47){if(!w){v=E+1;break}continue}b===-1&&(w=!1,b=E+1),u===46?m===-1?m=E:O!==1&&(O=1):m!==-1&&(O=-1)}return m===-1||b===-1||O===0||O===1&&m===b-1&&m===v+1?b!==-1&&(v===0&&l?n.base=n.name=s.slice(1,b):n.base=n.name=s.slice(v,b)):(v===0&&l?(n.name=s.slice(1,m),n.base=s.slice(1,b)):(n.name=s.slice(v,m),n.base=s.slice(v,b)),n.ext=s.slice(m,b)),v>0?n.dir=s.slice(0,v-1):l&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,Wo=d,Wo}function ac(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Uo?lc(t):pc(t)}function lc(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let d=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&d===102||e[p+1]==="5"&&d===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(ml,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,d=e[2];if(p<hl||p>fl||d!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function pc(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function uc(t){let o=Dn.resolve(t),e=t.charCodeAt(t.length-1);(e===dl||Uo&&e===cl)&&o[o.length-1]!==Dn.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(yl,"%25")),!Uo&&o.includes("\\")&&(o=o.replace(gl,"%5C")),o.includes(`
`)&&(o=o.replace(vl,"%0A")),o.includes("\r")&&(o=o.replace(bl,"%0D")),o.includes("	")&&(o=o.replace(wl,"%09")),p.pathname=o,p}function pl(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return zo?cc(t):dc(t)}function cc(t){let o=t.hostname,e=t.pathname;for(let p=0;p<e.length;p++)if(e[p]==="%"){let d=e.codePointAt(p+2)||32;if(e[p+1]==="2"&&d===102||e[p+1]==="5"&&d===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(e=e.replace(Cl,"\\"),e=decodeURIComponent(e),o!=="")return`\\\\${o}${e}`;{let p=e.codePointAt(1)|32,d=e[2];if(p<Bl||p>Rl||d!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return e.slice(1)}}function dc(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=t.pathname;for(let e=0;e<o.length;e++)if(o[e]==="%"){let p=o.codePointAt(e+2)||32;if(o[e+1]==="2"&&p===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function ul(t){let o=Nn.resolve(t),e=t.charCodeAt(t.length-1);(e===Ml||zo&&e===Ol)&&o[o.length-1]!==Nn.sep&&(o+="/");let p=new URL("file://");return o.includes("%")&&(o=o.replace(Pl,"%25")),!zo&&o.includes("\\")&&(o=o.replace(Al,"%5C")),o.includes(`
`)&&(o=o.replace(xl,"%0A")),o.includes("\r")&&(o=o.replace(Fl,"%0D")),o.includes("	")&&(o=o.replace(Wl,"%09")),p.pathname=o,p}var ie,Ps,Ye,As,xs,Fs,Ws,So,ui,ci,di,Ns,js,To,Wr,Io,Wo,jn,Dn,Ds,cl,dl,hl,fl,Uo,ml,yl,gl,vl,bl,wl,Ls,El,_l,Sl,Tl,Il,kl,Ol,Ml,Bl,Rl,zo,Cl,Pl,Al,xl,Fl,Wl,hc=Me(()=>{Ot(),Bt(),Mt(),Zu(),tc(),rc(),nc(),al(),ie={},Ps=Tr,Ye={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},ie.parse=lo,ie.resolve=function(t,o){return lo(t,!1,!0).resolve(o)},ie.resolveObject=function(t,o){return t?lo(t,!1,!0).resolveObject(o):o},ie.format=function(t){return Ye.isString(t)&&(t=lo(t)),t instanceof $e?t.format():$e.prototype.format.call(t)},ie.Url=$e,As=/^([a-z0-9.+-]+:)/i,xs=/:[0-9]*$/,Fs=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ws=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),So=["'"].concat(Ws),ui=["%","/","?",";","#"].concat(So),ci=["/","?","#"],di=/^[+a-z0-9A-Z_-]{0,63}$/,Ns=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,js={javascript:!0,"javascript:":!0},To={javascript:!0,"javascript:":!0},Wr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Io=Xe,$e.prototype.parse=function(t,o,e){if(!Ye.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var p=t.indexOf("?"),d=p!==-1&&p<t.indexOf("#")?"?":"#",s=t.split(d);s[0]=s[0].replace(/\\/g,"/");var n=t=s.join(d);if(n=n.trim(),!e&&t.split("#").length===1){var u=Fs.exec(n);if(u)return this.path=n,this.href=n,this.pathname=u[1],u[2]?(this.search=u[2],this.query=o?Io.parse(this.search.substr(1)):this.search.substr(1)):o&&(this.search="",this.query={}),this}var l=As.exec(n);if(l){var c=(l=l[0]).toLowerCase();this.protocol=c,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var m=n.substr(0,2)==="//";!m||l&&To[l]||(n=n.substr(2),this.slashes=!0)}if(!To[l]&&(m||l&&!Wr[l])){for(var v,b,w=-1,E=0;E<ci.length;E++)(O=n.indexOf(ci[E]))!==-1&&(w===-1||O<w)&&(w=O);for((b=w===-1?n.lastIndexOf("@"):n.lastIndexOf("@",w))!==-1&&(v=n.slice(0,b),n=n.slice(b+1),this.auth=decodeURIComponent(v)),w=-1,E=0;E<ui.length;E++){var O;(O=n.indexOf(ui[E]))!==-1&&(w===-1||O<w)&&(w=O)}w===-1&&(w=n.length),this.host=n.slice(0,w),n=n.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N)for(var $=this.hostname.split(/\./),P=(E=0,$.length);E<P;E++){var C=$[E];if(C&&!C.match(di)){for(var H="",tt=0,D=C.length;tt<D;tt++)C.charCodeAt(tt)>127?H+="x":H+=C[tt];if(!H.match(di)){var S=$.slice(0,E),K=$.slice(E+1),it=C.match(Ns);it&&(S.push(it[1]),K.unshift(it[2])),K.length&&(n="/"+K.join(".")+n),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=Ps.toASCII(this.hostname));var z=this.port?":"+this.port:"",lt=this.hostname||"";this.host=lt+z,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),n[0]!=="/"&&(n="/"+n))}if(!js[c])for(E=0,P=So.length;E<P;E++){var A=So[E];if(n.indexOf(A)!==-1){var Y=encodeURIComponent(A);Y===A&&(Y=escape(A)),n=n.split(A).join(Y)}}var Et=n.indexOf("#");Et!==-1&&(this.hash=n.substr(Et),n=n.slice(0,Et));var pt=n.indexOf("?");if(pt!==-1?(this.search=n.substr(pt),this.query=n.substr(pt+1),o&&(this.query=Io.parse(this.query)),n=n.slice(0,pt)):o&&(this.search="",this.query={}),n&&(this.pathname=n),Wr[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){z=this.pathname||"";var It=this.search||"";this.path=z+It}return this.href=this.format(),this},$e.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var o=this.protocol||"",e=this.pathname||"",p=this.hash||"",d=!1,s="";this.host?d=t+this.host:this.hostname&&(d=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(d+=":"+this.port)),this.query&&Ye.isObject(this.query)&&Object.keys(this.query).length&&(s=Io.stringify(this.query));var n=this.search||s&&"?"+s||"";return o&&o.substr(-1)!==":"&&(o+=":"),this.slashes||(!o||Wr[o])&&d!==!1?(d="//"+(d||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):d||(d=""),p&&p.charAt(0)!=="#"&&(p="#"+p),n&&n.charAt(0)!=="?"&&(n="?"+n),o+d+(e=e.replace(/[?#]/g,function(u){return encodeURIComponent(u)}))+(n=n.replace("#","%23"))+p},$e.prototype.resolve=function(t){return this.resolveObject(lo(t,!1,!0)).format()},$e.prototype.resolveObject=function(t){if(Ye.isString(t)){var o=new $e;o.parse(t,!1,!0),t=o}for(var e=new $e,p=Object.keys(this),d=0;d<p.length;d++){var s=p[d];e[s]=this[s]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var n=Object.keys(t),u=0;u<n.length;u++){var l=n[u];l!=="protocol"&&(e[l]=t[l])}return Wr[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!Wr[t.protocol]){for(var c=Object.keys(t),m=0;m<c.length;m++){var v=c[m];e[v]=t[v]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||To[t.protocol])e.pathname=t.pathname;else{for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),e.pathname=b.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var w=e.pathname||"",E=e.search||"";e.path=w+E}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var O=e.pathname&&e.pathname.charAt(0)==="/",N=t.host||t.pathname&&t.pathname.charAt(0)==="/",$=N||O||e.host&&t.pathname,P=$,C=e.pathname&&e.pathname.split("/")||[],H=(b=t.pathname&&t.pathname.split("/")||[],e.protocol&&!Wr[e.protocol]);if(H&&(e.hostname="",e.port=null,e.host&&(C[0]===""?C[0]=e.host:C.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),$=$&&(b[0]===""||C[0]==="")),N)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,C=b;else if(b.length)C||(C=[]),C.pop(),C=C.concat(b),e.search=t.search,e.query=t.query;else if(!Ye.isNullOrUndefined(t.search))return H&&(e.hostname=e.host=C.shift(),(it=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=it.shift(),e.host=e.hostname=it.shift())),e.search=t.search,e.query=t.query,Ye.isNull(e.pathname)&&Ye.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!C.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var tt=C.slice(-1)[0],D=(e.host||t.host||C.length>1)&&(tt==="."||tt==="..")||tt==="",S=0,K=C.length;K>=0;K--)(tt=C[K])==="."?C.splice(K,1):tt===".."?(C.splice(K,1),S++):S&&(C.splice(K,1),S--);if(!$&&!P)for(;S--;S)C.unshift("..");!$||C[0]===""||C[0]&&C[0].charAt(0)==="/"||C.unshift(""),D&&C.join("/").substr(-1)!=="/"&&C.push("");var it,z=C[0]===""||C[0]&&C[0].charAt(0)==="/";return H&&(e.hostname=e.host=z?"":C.length?C.shift():"",(it=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=it.shift(),e.host=e.hostname=it.shift())),($=$||e.host&&C.length)&&!z&&C.unshift(""),C.length?e.pathname=C.join("/"):(e.pathname=null,e.path=null),Ye.isNull(e.pathname)&&Ye.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},$e.prototype.parseHost=function(){var t=this.host,o=xs.exec(t);o&&((o=o[0])!==":"&&(this.port=o.substr(1)),t=t.substr(0,t.length-o.length)),t&&(this.hostname=t)},ie.Url,ie.format,ie.resolve,ie.resolveObject,Wo={},jn=!1,Dn=sc(),Ds=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ie.URL=typeof URL<"u"?URL:null,ie.pathToFileURL=uc,ie.fileURLToPath=ac,ie.Url,ie.format,ie.resolve,ie.resolveObject,ie.URL,cl=92,dl=47,hl=97,fl=122,Uo=Ds==="win32",ml=/\//g,yl=/%/g,gl=/\\/g,vl=/\n/g,bl=/\r/g,wl=/\t/g,Ls=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ie.URL=typeof URL<"u"?URL:null,ie.pathToFileURL=ul,ie.fileURLToPath=pl,El=ie.Url,_l=ie.format,Sl=ie.resolve,Tl=ie.resolveObject,Il=ie.parse,kl=ie.URL,Ol=92,Ml=47,Bl=97,Rl=122,zo=Ls==="win32",Cl=/\//g,Pl=/%/g,Al=/\\/g,xl=/\n/g,Fl=/\r/g,Wl=/\t/g}),fc=xt((t,o)=>{Ot(),Bt(),Mt(),o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Xn=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=t.writev=void 0;var o=Jr(),e=(Re(),le(Be));function p(s,n){let u=new Array(s.length);for(let l=0;l<s.length;l++)typeof s[l].chunk=="string"?u[l]=e.Buffer.from(s[l].chunk,"utf8"):u[l]=s[l].chunk;this._write(e.Buffer.concat(u),"binary",n)}t.writev=p;var d=class extends o.Duplex{constructor(s,n,u){super({objectMode:!0}),this.proxy=n,this.socket=u,this.writeQueue=[],s.objectMode||(this._writev=p.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",l=>{this.destroyed||this.push(l)})}_read(s){this.proxy.read(s)}_write(s,n,u){this.isSocketOpen?this.writeToProxy(s,n,u):this.writeQueue.push({chunk:s,encoding:n,cb:u})}_final(s){this.writeQueue=[],this.proxy.end(s)}_destroy(s,n){this.writeQueue=[],this.proxy.destroy(),n(s)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(s,n,u){this.proxy.write(s,n)===!1?this.proxy.once("drain",u):u()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:s,encoding:n,cb:u}=this.writeQueue.shift();this.writeToProxy(s,n,u)}}};t.BufferedDuplex=d}),ko=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(t,"__esModule",{value:!0}),t.streamBuilder=t.browserStreamBuilder=void 0;var e=(Re(),le(Be)),p=o(fc()),d=o(mr()),s=Jr(),n=o(Yo()),u=Xn(),l=(0,d.default)("mqttjs:ws"),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function m($,P){let C=`${$.protocol}://${$.hostname}:${$.port}${$.path}`;return typeof $.transformWsUrl=="function"&&(C=$.transformWsUrl(C,$,P)),C}function v($){let P=$;return $.port||($.protocol==="wss"?P.port=443:P.port=80),$.path||(P.path="/"),$.wsOptions||(P.wsOptions={}),!n.default&&!$.forceNativeWebSocket&&$.protocol==="wss"&&c.forEach(C=>{Object.prototype.hasOwnProperty.call($,C)&&!Object.prototype.hasOwnProperty.call($.wsOptions,C)&&(P.wsOptions[C]=$[C])}),P}function b($){let P=v($);if(P.hostname||(P.hostname=P.host),!P.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let C=new URL(document.URL);P.hostname=C.hostname,P.port||(P.port=Number(C.port))}return P.objectMode===void 0&&(P.objectMode=!(P.binary===!0||P.binary===void 0)),P}function w($,P,C){l("createWebSocket"),l(`protocol: ${C.protocolId} ${C.protocolVersion}`);let H=C.protocolId==="MQIsdp"&&C.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${P} and protocol: ${H}`);let tt;return C.createWebsocket?tt=C.createWebsocket(P,[H],C):tt=new p.default(P,[H],C.wsOptions),tt}function E($,P){let C=P.protocolId==="MQIsdp"&&P.protocolVersion===3?"mqttv3.1":"mqtt",H=m(P,$),tt;return P.createWebsocket?tt=P.createWebsocket(H,[C],P):tt=new WebSocket(H,[C]),tt.binaryType="arraybuffer",tt}var O=($,P)=>{l("streamBuilder");let C=v(P);C.hostname=C.hostname||C.host||"localhost";let H=m(C,$),tt=w($,H,C),D=p.default.createWebSocketStream(tt,C.wsOptions);return D.url=H,tt.on("close",()=>{D.destroy()}),D};t.streamBuilder=O;var N=($,P)=>{l("browserStreamBuilder");let C,H=b(P).browserBufferSize||1024*512,tt=P.browserBufferTimeout||1e3,D=!P.objectMode,S=E($,P),K=z(P,pt,It);P.objectMode||(K._writev=u.writev.bind(K)),K.on("close",()=>{S.close()});let it=typeof S.addEventListener<"u";S.readyState===S.OPEN?(C=K,C.socket=S):(C=new u.BufferedDuplex(P,K,S),it?S.addEventListener("open",lt):S.onopen=lt),it?(S.addEventListener("close",A),S.addEventListener("error",Y),S.addEventListener("message",Et)):(S.onclose=A,S.onerror=Y,S.onmessage=Et);function z(Tt,Q,ut){let mt=new s.Transform({objectMode:Tt.objectMode});return mt._write=Q,mt._flush=ut,mt}function lt(){l("WebSocket onOpen"),C instanceof u.BufferedDuplex&&C.socketReady()}function A(Tt){l("WebSocket onClose",Tt),C.end(),C.destroy()}function Y(Tt){l("WebSocket onError",Tt);let Q=new Error("WebSocket error");Q.event=Tt,C.destroy(Q)}async function Et(Tt){let{data:Q}=Tt;Q instanceof ArrayBuffer?Q=e.Buffer.from(Q):Q instanceof Blob?Q=e.Buffer.from(await new Response(Q).arrayBuffer()):Q=e.Buffer.from(Q,"utf8"),K&&!K.destroyed&&K.push(Q)}function pt(Tt,Q,ut){if(S.bufferedAmount>H){setTimeout(pt,tt,Tt,Q,ut);return}D&&typeof Tt=="string"&&(Tt=e.Buffer.from(Tt,"utf8"));try{S.send(Tt)}catch(mt){return ut(mt)}ut()}function It(Tt){S.close(),Tt()}return C};t.browserStreamBuilder=N}),ts={};qr(ts,{Server:()=>me,Socket:()=>me,Stream:()=>me,_createServerHandle:()=>me,_normalizeArgs:()=>me,_setSimultaneousAccepts:()=>me,connect:()=>me,createConnection:()=>me,createServer:()=>me,default:()=>Nl,isIP:()=>me,isIPv4:()=>me,isIPv6:()=>me});function me(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var Nl,jl=Me(()=>{Ot(),Bt(),Mt(),Nl={_createServerHandle:me,_normalizeArgs:me,_setSimultaneousAccepts:me,connect:me,createConnection:me,createServer:me,isIP:me,isIPv4:me,isIPv6:me,Server:me,Socket:me,Stream:me}}),Us=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((jl(),le(ts))),p=o(mr()),d=(0,p.default)("mqttjs:tcp"),s=(n,u)=>{u.port=u.port||1883,u.hostname=u.hostname||u.host||"localhost";let{port:l,path:c}=u,m=u.hostname;return d("port %d and host %s",l,m),e.default.createConnection({port:l,host:m,path:c})};t.default=s}),Dl={};qr(Dl,{default:()=>Ll});var Ll,mc=Me(()=>{Ot(),Bt(),Mt(),Ll={}}),zs=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0});var e=o((mc(),le(Dl))),p=o((jl(),le(ts))),d=o(mr()),s=(0,d.default)("mqttjs:tls"),n=(u,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",p.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,s("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let c=e.default.connect(l);c.on("secureConnect",()=>{l.rejectUnauthorized&&!c.authorized?c.emit("error",new Error("TLS not authorized")):c.removeListener("error",m)});function m(v){l.rejectUnauthorized&&u.emit("error",v),c.end()}return c.on("error",m),c};t.default=n}),$s=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(Re(),le(Be)),e=Jr(),p=Xn(),d,s,n;function u(){let b=new e.Transform;return b._write=(w,E,O)=>{d.send({data:w.buffer,success(){O()},fail(N){O(new Error(N))}})},b._flush=w=>{d.close({success(){w()}})},b}function l(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,w){let E=b.protocol==="wxs"?"wss":"ws",O=`${E}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(O=`${E}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(O=b.transformWsUrl(O,b,w)),O}function m(){d.onOpen(()=>{n.socketReady()}),d.onMessage(b=>{let{data:w}=b;w instanceof ArrayBuffer?w=o.Buffer.from(w):w=o.Buffer.from(w,"utf8"),s.push(w)}),d.onClose(()=>{n.emit("close"),n.end(),n.destroy()}),d.onError(b=>{let w=new Error(b.errMsg);n.destroy(w)})}var v=(b,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let E=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";l(w);let O=c(w,b);d=wx.connectSocket({url:O,protocols:[E]}),s=u(),n=new p.BufferedDuplex(w,s,d),n._destroy=($,P)=>{d.close({success(){P&&P($)}})};let N=n.destroy;return n.destroy=($,P)=>(n.destroy=N,setTimeout(()=>{d.close({fail(){n._destroy($,P)}})},0),n),m(),n};t.default=v}),Vs=xt(t=>{Ot(),Bt(),Mt(),Object.defineProperty(t,"__esModule",{value:!0});var o=(Re(),le(Be)),e=Jr(),p=Xn(),d,s,n,u=!1;function l(){let w=new e.Transform;return w._write=(E,O,N)=>{d.sendSocketMessage({data:E.buffer,success(){N()},fail(){N(new Error)}})},w._flush=E=>{d.closeSocket({success(){E()}})},w}function c(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function m(w,E){let O=w.protocol==="alis"?"wss":"ws",N=`${O}://${w.hostname}${w.path}`;return w.port&&w.port!==80&&w.port!==443&&(N=`${O}://${w.hostname}:${w.port}${w.path}`),typeof w.transformWsUrl=="function"&&(N=w.transformWsUrl(N,w,E)),N}function v(){u||(u=!0,d.onSocketOpen(()=>{n.socketReady()}),d.onSocketMessage(w=>{if(typeof w.data=="string"){let E=o.Buffer.from(w.data,"base64");s.push(E)}else{let E=new FileReader;E.addEventListener("load",()=>{let O=E.result;O instanceof ArrayBuffer?O=o.Buffer.from(O):O=o.Buffer.from(O,"utf8"),s.push(O)}),E.readAsArrayBuffer(w.data)}}),d.onSocketClose(()=>{n.end(),n.destroy()}),d.onSocketError(w=>{n.destroy(w)}))}var b=(w,E)=>{if(E.hostname=E.hostname||E.host,!E.hostname)throw new Error("Could not determine host. Specify host manually.");let O=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt";c(E);let N=m(E,w);return d=E.my,d.connectSocket({url:N,protocols:O}),s=l(),n=new p.BufferedDuplex(E,s,d),v(),n};t.default=b}),yc=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=void 0;var e=o(mr()),p=o((hc(),le(ll))),d=o(Cn()),s=o(Yo());typeof(oe==null?void 0:oe.nextTick)!="function"&&(oe.nextTick=setImmediate);var n=(0,e.default)("mqttjs"),u=null;function l(v){let b;v.auth&&(b=v.auth.match(/^(.+):(.+)$/),b?(v.username=b[1],v.password=b[2]):v.username=v.auth)}function c(v,b){var w,E,O,N;if(n("connecting to an MQTT broker..."),typeof v=="object"&&!b&&(b=v,v=""),b=b||{},v&&typeof v=="string"){let C=p.default.parse(v,!0),H={};if(C.port!=null&&(H.port=Number(C.port)),H.host=C.hostname,H.query=C.query,H.auth=C.auth,H.protocol=C.protocol,H.path=C.path,H.protocol=(w=H.protocol)===null||w===void 0?void 0:w.replace(/:$/,""),b=Object.assign(Object.assign({},H),b),!b.protocol)throw new Error("Missing protocol")}if(b.unixSocket=b.unixSocket||((E=b.protocol)===null||E===void 0?void 0:E.includes("+unix")),b.unixSocket?b.protocol=b.protocol.replace("+unix",""):!(!((O=b.protocol)===null||O===void 0)&&O.startsWith("ws"))&&!(!((N=b.protocol)===null||N===void 0)&&N.startsWith("wx"))&&delete b.path,l(b),b.query&&typeof b.query.clientId=="string"&&(b.clientId=b.query.clientId),b.cert&&b.key)if(b.protocol){if(["mqtts","wss","wxs","alis"].indexOf(b.protocol)===-1)switch(b.protocol){case"mqtt":b.protocol="mqtts";break;case"ws":b.protocol="wss";break;case"wx":b.protocol="wxs";break;case"ali":b.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${b.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(u||(u={},!s.default&&!b.forceNativeWebSocket?(u.ws=ko().streamBuilder,u.wss=ko().streamBuilder,u.mqtt=Us().default,u.tcp=Us().default,u.ssl=zs().default,u.tls=u.ssl,u.mqtts=zs().default):(u.ws=ko().browserStreamBuilder,u.wss=ko().browserStreamBuilder,u.wx=$s().default,u.wxs=$s().default,u.ali=Vs().default,u.alis=Vs().default)),!u[b.protocol]){let C=["mqtts","wss"].indexOf(b.protocol)!==-1;b.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((H,tt)=>C&&tt%2===0?!1:typeof u[H]=="function")[0]}if(b.clean===!1&&!b.clientId)throw new Error("Missing clientId for unclean clients");b.protocol&&(b.defaultProtocol=b.protocol);function $(C){return b.servers&&((!C._reconnectCount||C._reconnectCount===b.servers.length)&&(C._reconnectCount=0),b.host=b.servers[C._reconnectCount].host,b.port=b.servers[C._reconnectCount].port,b.protocol=b.servers[C._reconnectCount].protocol?b.servers[C._reconnectCount].protocol:b.defaultProtocol,b.hostname=b.host,C._reconnectCount++),n("calling streambuilder for",b.protocol),u[b.protocol](C,b)}let P=new d.default($,b);return P.on("error",()=>{}),P}function m(v,b,w=!0){return new Promise((E,O)=>{let N=c(v,b),$={connect:C=>{P(),E(N)},end:()=>{P(),E(N)},error:C=>{P(),N.end(),O(C)}};w===!1&&($.close=()=>{$.error(new Error("Couldn't connect to server"))});function P(){Object.keys($).forEach(C=>{N.off(C,$[C])})}Object.keys($).forEach(C=>{N.on(C,$[C])})})}t.connectAsync=m,t.default=c}),Gs=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(w,E,O,N){N===void 0&&(N=O);var $=Object.getOwnPropertyDescriptor(E,O);(!$||("get"in $?!E.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return E[O]}}),Object.defineProperty(w,N,$)}:function(w,E,O,N){N===void 0&&(N=O),w[N]=E[O]}),e=t&&t.__setModuleDefault||(Object.create?function(w,E){Object.defineProperty(w,"default",{enumerable:!0,value:E})}:function(w,E){w.default=E}),p=t&&t.__importStar||function(w){if(w&&w.__esModule)return w;var E={};if(w!=null)for(var O in w)O!=="default"&&Object.prototype.hasOwnProperty.call(w,O)&&o(E,w,O);return e(E,w),E},d=t&&t.__exportStar||function(w,E){for(var O in w)O!=="default"&&!Object.prototype.hasOwnProperty.call(E,O)&&o(E,w,O)},s=t&&t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.KeepaliveManager=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var n=s(Cn());t.MqttClient=n.default;var u=s(Da());t.DefaultMessageIdProvider=u.default;var l=s(Qu());t.UniqueMessageIdProvider=l.default;var c=s(La());t.Store=c.default;var m=p(yc());t.connect=m.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return m.connectAsync}});var v=s(rl());t.KeepaliveManager=v.default,t.Client=n.default,d(Cn(),t),d(oo(),t);var b=Ko();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})}),gc=xt(t=>{Ot(),Bt(),Mt();var o=t&&t.__createBinding||(Object.create?function(n,u,l,c){c===void 0&&(c=l);var m=Object.getOwnPropertyDescriptor(u,l);(!m||("get"in m?!u.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(n,c,m)}:function(n,u,l,c){c===void 0&&(c=l),n[c]=u[l]}),e=t&&t.__setModuleDefault||(Object.create?function(n,u){Object.defineProperty(n,"default",{enumerable:!0,value:u})}:function(n,u){n.default=u}),p=t&&t.__importStar||function(n){if(n&&n.__esModule)return n;var u={};if(n!=null)for(var l in n)l!=="default"&&Object.prototype.hasOwnProperty.call(n,l)&&o(u,n,l);return e(u,n),u},d=t&&t.__exportStar||function(n,u){for(var l in n)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&o(u,n,l)};Object.defineProperty(t,"__esModule",{value:!0});var s=p(Gs());t.default=s,d(Gs(),t)});const vc=gc();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/var Nr={},Hs;function bc(){return Hs||(Hs=1,function(t){var o=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,y){i!=Array.prototype&&i!=Object.prototype&&(i[a]=y.value)},e=typeof window<"u"&&window===Nr?Nr:typeof Zo<"u"&&Zo!=null?Zo:Nr;function p(i,a){if(a){var y=e;i=i.split(".");for(var T=0;T<i.length-1;T++){var V=i[T];V in y||(y[V]={}),y=y[V]}i=i[i.length-1],T=y[i],a=a(T),a!=T&&a!=null&&o(y,i,{configurable:!0,writable:!0,value:a})}}function d(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function s(){s=function(){},e.Symbol||(e.Symbol=u)}function n(i,a){this.a=i,o(this,"description",{configurable:!0,writable:!0,value:a})}n.prototype.toString=function(){return this.a};var u=function(){function i(y){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(y||"")+"_"+a++,y)}var a=0;return i}();function l(){s();var i=e.Symbol.iterator;i||(i=e.Symbol.iterator=e.Symbol("Symbol.iterator")),typeof Array.prototype[i]!="function"&&o(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return c(d(this))}}),l=function(){}}function c(i){return l(),i={next:i},i[e.Symbol.iterator]=function(){return this},i}function m(i,a){l(),i instanceof String&&(i+="");var y=0,T={next:function(){if(y<i.length){var V=y++;return{value:a(V,i[V]),done:!1}}return T.next=function(){return{done:!0,value:void 0}},T.next()}};return T[Symbol.iterator]=function(){return T},T}p("Array.prototype.entries",function(i){return i||function(){return m(this,function(a,y){return[a,y]})}});var v=Nr||self;function b(i,a,y){i=i.split("."),y=y||v,i[0]in y||typeof y.execScript>"u"||y.execScript("var "+i[0]);for(var T;i.length&&(T=i.shift());)i.length||a===void 0?y[T]&&y[T]!==Object.prototype[T]?y=y[T]:y=y[T]={}:y[T]=a}function w(i){var a=typeof i;if(a=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return a;var y=Object.prototype.toString.call(i);if(y=="[object Window]")return"object";if(y=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(y=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof i.call>"u")return"object";return a}function E(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function O(i,a,y){b(i,a,y)}function N(i,a){function y(){}y.prototype=a.prototype,i.prototype=new y,i.prototype.constructor=i}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(i,a){for(var y,T,V=1;V<arguments.length;V++){T=arguments[V];for(y in T)i[y]=T[y];for(var dt=0;dt<$.length;dt++)y=$[dt],Object.prototype.hasOwnProperty.call(T,y)&&(i[y]=T[y])}}var C=Array.prototype.forEach?function(i,a){Array.prototype.forEach.call(i,a,void 0)}:function(i,a){for(var y=i.length,T=typeof i=="string"?i.split(""):i,V=0;V<y;V++)V in T&&a.call(void 0,T[V],V,i)},H=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var y=i.length,T=Array(y),V=typeof i=="string"?i.split(""):i,dt=0;dt<y;dt++)dt in V&&(T[dt]=a.call(void 0,V[dt],dt,i));return T};function tt(i,a,y){return 2>=arguments.length?Array.prototype.slice.call(i,a):Array.prototype.slice.call(i,a,y)}function D(i,a,y,T){var V="Assertion failed";if(y){V+=": "+y;var dt=T}else i&&(V+=": "+i,dt=a);throw Error(V,dt||[])}function S(i,a,y){for(var T=[],V=2;V<arguments.length;++V)T[V-2]=arguments[V];return i||D("",null,a,T),i}function K(i,a,y){for(var T=[],V=2;V<arguments.length;++V)T[V-2]=arguments[V];typeof i!="string"&&D("Expected string but got %s: %s.",[w(i),i],a,T)}function it(i,a,y){for(var T=[],V=2;V<arguments.length;++V)T[V-2]=arguments[V];Array.isArray(i)||D("Expected array but got %s: %s.",[w(i),i],a,T)}function z(i,a){for(var y=[],T=1;T<arguments.length;++T)y[T-1]=arguments[T];throw Error("Failure"+(i?": "+i:""),y)}function lt(i,a,y,T){for(var V=[],dt=3;dt<arguments.length;++dt)V[dt-3]=arguments[dt];i instanceof a||D("Expected instanceof %s but got %s.",[A(a),A(i)],y,V)}function A(i){return i instanceof Function?i.displayName||i.name||"unknown type name":i instanceof Object?i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i):i===null?"null":typeof i}function Y(i,a){if(this.c=i,this.b=a,this.a={},this.arrClean=!0,0<this.c.length){for(i=0;i<this.c.length;i++){a=this.c[i];var y=a[0];this.a[y.toString()]=new Tt(y,a[1])}this.arrClean=!0}}b("jspb.Map",Y,void 0),Y.prototype.g=function(){if(this.arrClean){if(this.b){var i=this.a,a;for(a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var y=i[a].a;y&&y.g()}}}else{for(this.c.length=0,i=It(this),i.sort(),a=0;a<i.length;a++){var T=this.a[i[a]];(y=T.a)&&y.g(),this.c.push([T.key,T.value])}this.arrClean=!0}return this.c},Y.prototype.toArray=Y.prototype.g,Y.prototype.Mc=function(i,a){for(var y=this.g(),T=[],V=0;V<y.length;V++){var dt=this.a[y[V][0].toString()];pt(this,dt);var At=dt.a;At?(S(a),T.push([dt.key,a(i,At)])):T.push([dt.key,dt.value])}return T},Y.prototype.toObject=Y.prototype.Mc,Y.fromObject=function(i,a,y){a=new Y([],a);for(var T=0;T<i.length;T++){var V=i[T][0],dt=y(i[T][1]);a.set(V,dt)}return a};function Et(i){this.a=0,this.b=i}Et.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(Et.prototype[Symbol.iterator]=function(){return this}),Y.prototype.Jb=function(){return It(this).length},Y.prototype.getLength=Y.prototype.Jb,Y.prototype.clear=function(){this.a={},this.arrClean=!1},Y.prototype.clear=Y.prototype.clear,Y.prototype.Cb=function(i){i=i.toString();var a=this.a.hasOwnProperty(i);return delete this.a[i],this.arrClean=!1,a},Y.prototype.del=Y.prototype.Cb,Y.prototype.Eb=function(){var i=[],a=It(this);a.sort();for(var y=0;y<a.length;y++){var T=this.a[a[y]];i.push([T.key,T.value])}return i},Y.prototype.getEntryList=Y.prototype.Eb,Y.prototype.entries=function(){var i=[],a=It(this);a.sort();for(var y=0;y<a.length;y++){var T=this.a[a[y]];i.push([T.key,pt(this,T)])}return new Et(i)},Y.prototype.entries=Y.prototype.entries,Y.prototype.keys=function(){var i=[],a=It(this);a.sort();for(var y=0;y<a.length;y++)i.push(this.a[a[y]].key);return new Et(i)},Y.prototype.keys=Y.prototype.keys,Y.prototype.values=function(){var i=[],a=It(this);a.sort();for(var y=0;y<a.length;y++)i.push(pt(this,this.a[a[y]]));return new Et(i)},Y.prototype.values=Y.prototype.values,Y.prototype.forEach=function(i,a){var y=It(this);y.sort();for(var T=0;T<y.length;T++){var V=this.a[y[T]];i.call(a,pt(this,V),V.key,this)}},Y.prototype.forEach=Y.prototype.forEach,Y.prototype.set=function(i,a){var y=new Tt(i);return this.b?(y.a=a,y.value=a.g()):y.value=a,this.a[i.toString()]=y,this.arrClean=!1,this},Y.prototype.set=Y.prototype.set;function pt(i,a){return i.b?(a.a||(a.a=new i.b(a.value)),a.a):a.value}Y.prototype.get=function(i){if(i=this.a[i.toString()])return pt(this,i)},Y.prototype.get=Y.prototype.get,Y.prototype.has=function(i){return i.toString()in this.a},Y.prototype.has=Y.prototype.has,Y.prototype.Jc=function(i,a,y,T,V){var dt=It(this);dt.sort();for(var At=0;At<dt.length;At++){var qt=this.a[dt[At]];a.Va(i),y.call(a,1,qt.key),this.b?T.call(a,2,pt(this,qt),V):T.call(a,2,qt.value),a.Ya()}},Y.prototype.serializeBinary=Y.prototype.Jc,Y.deserializeBinary=function(i,a,y,T,V,dt,At){for(;a.oa()&&!a.bb();){var qt=a.c;qt==1?dt=y.call(a):qt==2&&(i.b?(S(V),At||(At=new i.b),T.call(a,At,V)):At=T.call(a))}S(dt!=null),S(At!=null),i.set(dt,At)};function It(i){i=i.a;var a=[],y;for(y in i)Object.prototype.hasOwnProperty.call(i,y)&&a.push(y);return a}function Tt(i,a){this.key=i,this.value=a,this.a=void 0}function Q(i){if(8192>=i.length)return String.fromCharCode.apply(null,i);for(var a="",y=0;y<i.length;y+=8192)a+=String.fromCharCode.apply(null,tt(i,y,y+8192));return a}var ut={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},mt={"'":"\\'"},_t={},M=null;function ct(i,a){a===void 0&&(a=0),rt(),a=_t[a];for(var y=[],T=0;T<i.length;T+=3){var V=i[T],dt=T+1<i.length,At=dt?i[T+1]:0,qt=T+2<i.length,Se=qt?i[T+2]:0,Rr=V>>2;V=(V&3)<<4|At>>4,At=(At&15)<<2|Se>>6,Se&=63,qt||(Se=64,dt||(At=64)),y.push(a[Rr],a[V],a[At]||"",a[Se]||"")}return y.join("")}function kt(i){var a=i.length,y=3*a/4;y%3?y=Math.floor(y):"=.".indexOf(i[a-1])!=-1&&(y="=.".indexOf(i[a-2])!=-1?y-2:y-1);var T=new Uint8Array(y),V=0;return Wt(i,function(dt){T[V++]=dt}),T.subarray(0,V)}function Wt(i,a){function y(Se){for(;T<i.length;){var Rr=i.charAt(T++),es=M[Rr];if(es!=null)return es;if(!/^[\s\xa0]*$/.test(Rr))throw Error("Unknown base64 encoding at char: "+Rr)}return Se}rt();for(var T=0;;){var V=y(-1),dt=y(0),At=y(64),qt=y(64);if(qt===64&&V===-1)break;a(V<<2|dt>>4),At!=64&&(a(dt<<4&240|At>>2),qt!=64&&a(At<<6&192|qt))}}function rt(){if(!M){M={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],y=0;5>y;y++){var T=i.concat(a[y].split(""));_t[y]=T;for(var V=0;V<T.length;V++){var dt=T[V];M[dt]===void 0&&(M[dt]=V)}}}}b("jspb.ConstBinaryMessage",function(){},void 0),b("jspb.BinaryMessage",function(){},void 0),b("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),b("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),b("jspb.BinaryConstants.FieldTypeToWireType",function(i){switch(i){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),b("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),b("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),b("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),b("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),b("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),b("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),b("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),b("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),b("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),b("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),b("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),b("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),b("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),b("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var I=0,k=0;b("jspb.utils.getSplit64Low",function(){return I},void 0),b("jspb.utils.getSplit64High",function(){return k},void 0);function G(i){var a=i>>>0;i=Math.floor((i-a)/4294967296)>>>0,I=a,k=i}b("jspb.utils.splitUint64",G,void 0);function at(i){var a=0>i;i=Math.abs(i);var y=i>>>0;i=Math.floor((i-y)/4294967296),i>>>=0,a&&(i=~i>>>0,y=(~y>>>0)+1,4294967295<y&&(y=0,i++,4294967295<i&&(i=0))),I=y,k=i}b("jspb.utils.splitInt64",at,void 0);function et(i){var a=0>i;i=2*Math.abs(i),G(i),i=I;var y=k;a&&(i==0?y==0?y=i=4294967295:(y--,i=4294967295):i--),I=i,k=y}b("jspb.utils.splitZigzag64",et,void 0);function nt(i){var a=0>i?1:0;if(i=a?-i:i,i===0)0<1/i?I=k=0:(k=0,I=2147483648);else if(isNaN(i))k=0,I=2147483647;else if(34028234663852886e22<i)k=0,I=(a<<31|2139095040)>>>0;else if(11754943508222875e-54>i)i=Math.round(i/Math.pow(2,-149)),k=0,I=(a<<31|i)>>>0;else{var y=Math.floor(Math.log(i)/Math.LN2);i*=Math.pow(2,-y),i=Math.round(8388608*i),16777216<=i&&++y,k=0,I=(a<<31|y+127<<23|i&8388607)>>>0}}b("jspb.utils.splitFloat32",nt,void 0);function ht(i){var a=0>i?1:0;if(i=a?-i:i,i===0)k=0<1/i?0:2147483648,I=0;else if(isNaN(i))k=2147483647,I=4294967295;else if(17976931348623157e292<i)k=(a<<31|2146435072)>>>0,I=0;else if(22250738585072014e-324>i)i/=Math.pow(2,-1074),k=(a<<31|i/4294967296)>>>0,I=i>>>0;else{var y=i,T=0;if(2<=y)for(;2<=y&&1023>T;)T++,y/=2;else for(;1>y&&-1022<T;)y*=2,T--;i*=Math.pow(2,-T),k=(a<<31|T+1023<<20|1048576*i&1048575)>>>0,I=4503599627370496*i>>>0}}b("jspb.utils.splitFloat64",ht,void 0);function wt(i){var a=i.charCodeAt(4),y=i.charCodeAt(5),T=i.charCodeAt(6),V=i.charCodeAt(7);I=i.charCodeAt(0)+(i.charCodeAt(1)<<8)+(i.charCodeAt(2)<<16)+(i.charCodeAt(3)<<24)>>>0,k=a+(y<<8)+(T<<16)+(V<<24)>>>0}b("jspb.utils.splitHash64",wt,void 0);function x(i,a){return 4294967296*a+(i>>>0)}b("jspb.utils.joinUint64",x,void 0);function J(i,a){var y=a&2147483648;return y&&(i=~i+1>>>0,a=~a>>>0,i==0&&(a=a+1>>>0)),i=x(i,a),y?-i:i}b("jspb.utils.joinInt64",J,void 0);function Z(i,a,y){var T=a>>31;return y(i<<1^T,(a<<1|i>>>31)^T)}b("jspb.utils.toZigzag64",Z,void 0);function yt(i,a){return ft(i,a,J)}b("jspb.utils.joinZigzag64",yt,void 0);function ft(i,a,y){var T=-(i&1);return y((i>>>1|a<<31)^T,a>>>1^T)}b("jspb.utils.fromZigzag64",ft,void 0);function U(i){var a=2*(i>>31)+1,y=i>>>23&255;return i&=8388607,y==255?i?NaN:1/0*a:y==0?a*Math.pow(2,-149)*i:a*Math.pow(2,y-150)*(i+Math.pow(2,23))}b("jspb.utils.joinFloat32",U,void 0);function ot(i,a){var y=2*(a>>31)+1,T=a>>>20&2047;return i=4294967296*(a&1048575)+i,T==2047?i?NaN:1/0*y:T==0?y*Math.pow(2,-1074)*i:y*Math.pow(2,T-1075)*(i+4503599627370496)}b("jspb.utils.joinFloat64",ot,void 0);function W(i,a){return String.fromCharCode(i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255,a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255)}b("jspb.utils.joinHash64",W,void 0),b("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function X(i,a){function y(V,dt){return V=V?String(V):"",dt?"0000000".slice(V.length)+V:V}if(2097151>=a)return""+x(i,a);var T=(i>>>24|a<<8)>>>0&16777215;return a=a>>16&65535,i=(i&16777215)+6777216*T+6710656*a,T+=8147497*a,a*=2,1e7<=i&&(T+=Math.floor(i/1e7),i%=1e7),1e7<=T&&(a+=Math.floor(T/1e7),T%=1e7),y(a,0)+y(T,a)+y(i,1)}b("jspb.utils.joinUnsignedDecimalString",X,void 0);function st(i,a){var y=a&2147483648;return y&&(i=~i+1>>>0,a=~a+(i==0?1:0)>>>0),i=X(i,a),y?"-"+i:i}b("jspb.utils.joinSignedDecimalString",st,void 0);function St(i,a){wt(i),i=I;var y=k;return a?st(i,y):X(i,y)}b("jspb.utils.hash64ToDecimalString",St,void 0),b("jspb.utils.hash64ArrayToDecimalStrings",function(i,a){for(var y=Array(i.length),T=0;T<i.length;T++)y[T]=St(i[T],a);return y},void 0);function f(i){function a(At,qt){for(var Se=0;8>Se&&(At!==1||0<qt);Se++)qt=At*V[Se]+qt,V[Se]=qt&255,qt>>>=8}function y(){for(var At=0;8>At;At++)V[At]=~V[At]&255}S(0<i.length);var T=!1;i[0]==="-"&&(T=!0,i=i.slice(1));for(var V=[0,0,0,0,0,0,0,0],dt=0;dt<i.length;dt++)a(10,i.charCodeAt(dt)-48);return T&&(y(),a(1,1)),Q(V)}b("jspb.utils.decimalStringToHash64",f,void 0),b("jspb.utils.splitDecimalString",function(i){wt(f(i))},void 0);function h(i){return String.fromCharCode(10>i?48+i:87+i)}function g(i){return 97<=i?i-97+10:i-48}b("jspb.utils.hash64ToHexString",function(i){var a=Array(18);a[0]="0",a[1]="x";for(var y=0;8>y;y++){var T=i.charCodeAt(7-y);a[2*y+2]=h(T>>4),a[2*y+3]=h(T&15)}return a.join("")},void 0),b("jspb.utils.hexStringToHash64",function(i){i=i.toLowerCase(),S(i.length==18),S(i[0]=="0"),S(i[1]=="x");for(var a="",y=0;8>y;y++)a=String.fromCharCode(16*g(i.charCodeAt(2*y+2))+g(i.charCodeAt(2*y+3)))+a;return a},void 0),b("jspb.utils.hash64ToNumber",function(i,a){wt(i),i=I;var y=k;return a?J(i,y):x(i,y)},void 0),b("jspb.utils.numberToHash64",function(i){return at(i),W(I,k)},void 0),b("jspb.utils.countVarints",function(i,a,y){for(var T=0,V=a;V<y;V++)T+=i[V]>>7;return y-a-T},void 0),b("jspb.utils.countVarintFields",function(i,a,y,T){var V=0;if(T*=8,128>T)for(;a<y&&i[a++]==T;)for(V++;;){var dt=i[a++];if(!(dt&128))break}else for(;a<y;){for(dt=T;128<dt;){if(i[a]!=(dt&127|128))return V;a++,dt>>=7}if(i[a++]!=dt)break;for(V++;dt=i[a++],(dt&128)!=0;);}return V},void 0);function R(i,a,y,T,V){var dt=0;if(128>T)for(;a<y&&i[a++]==T;)dt++,a+=V;else for(;a<y;){for(var At=T;128<At;){if(i[a++]!=(At&127|128))return dt;At>>=7}if(i[a++]!=At)break;dt++,a+=V}return dt}b("jspb.utils.countFixed32Fields",function(i,a,y,T){return R(i,a,y,8*T+5,4)},void 0),b("jspb.utils.countFixed64Fields",function(i,a,y,T){return R(i,a,y,8*T+1,8)},void 0),b("jspb.utils.countDelimitedFields",function(i,a,y,T){var V=0;for(T=8*T+2;a<y;){for(var dt=T;128<dt;){if(i[a++]!=(dt&127|128))return V;dt>>=7}if(i[a++]!=dt)break;V++;for(var At=0,qt=1;dt=i[a++],At+=(dt&127)*qt,qt*=128,(dt&128)!=0;);a+=At}return V},void 0),b("jspb.utils.debugBytesToTextFormat",function(i){var a='"';if(i){i=L(i);for(var y=0;y<i.length;y++)a+="\\x",16>i[y]&&(a+="0"),a+=i[y].toString(16)}return a+'"'},void 0),b("jspb.utils.debugScalarToTextFormat",function(i){if(typeof i=="string"){i=String(i);for(var a=['"'],y=0;y<i.length;y++){var T=i.charAt(y),V=T.charCodeAt(0),dt=y+1,At;(At=ut[T])||(31<V&&127>V||(V=T,V in mt?T=mt[V]:V in ut?T=mt[V]=ut[V]:(At=V.charCodeAt(0),31<At&&127>At?T=V:(256>At?(T="\\x",(16>At||256<At)&&(T+="0")):(T="\\u",4096>At&&(T+="0")),T+=At.toString(16).toUpperCase()),T=mt[V]=T)),At=T),a[dt]=At}a.push('"'),i=a.join("")}else i=i.toString();return i},void 0),b("jspb.utils.stringToByteArray",function(i){for(var a=new Uint8Array(i.length),y=0;y<i.length;y++){var T=i.charCodeAt(y);if(255<T)throw Error("Conversion error: string contains codepoint outside of byte range");a[y]=T}return a},void 0);function L(i){return i.constructor===Uint8Array?i:i.constructor===ArrayBuffer?new Uint8Array(i):i.constructor===Array?new Uint8Array(i):i.constructor===String?kt(i):i instanceof Uint8Array?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):(z("Type not convertible to Uint8Array."),new Uint8Array(0))}b("jspb.utils.byteSourceToUint8Array",L,void 0);function B(i,a,y){this.b=null,this.a=this.c=this.h=0,this.v=!1,i&&this.H(i,a,y)}b("jspb.BinaryDecoder",B,void 0);var bt=[];B.getInstanceCacheLength=function(){return bt.length};function Dt(i,a,y){if(bt.length){var T=bt.pop();return i&&T.H(i,a,y),T}return new B(i,a,y)}B.alloc=Dt,B.prototype.Ca=function(){this.clear(),100>bt.length&&bt.push(this)},B.prototype.free=B.prototype.Ca,B.prototype.clone=function(){return Dt(this.b,this.h,this.c-this.h)},B.prototype.clone=B.prototype.clone,B.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},B.prototype.clear=B.prototype.clear,B.prototype.Y=function(){return this.b},B.prototype.getBuffer=B.prototype.Y,B.prototype.H=function(i,a,y){this.b=L(i),this.h=a!==void 0?a:0,this.c=y!==void 0?this.h+y:this.b.length,this.a=this.h},B.prototype.setBlock=B.prototype.H,B.prototype.Db=function(){return this.c},B.prototype.getEnd=B.prototype.Db,B.prototype.setEnd=function(i){this.c=i},B.prototype.setEnd=B.prototype.setEnd,B.prototype.reset=function(){this.a=this.h},B.prototype.reset=B.prototype.reset,B.prototype.B=function(){return this.a},B.prototype.getCursor=B.prototype.B,B.prototype.Ma=function(i){this.a=i},B.prototype.setCursor=B.prototype.Ma,B.prototype.advance=function(i){this.a+=i,S(this.a<=this.c)},B.prototype.advance=B.prototype.advance,B.prototype.ya=function(){return this.a==this.c},B.prototype.atEnd=B.prototype.ya,B.prototype.Qb=function(){return this.a>this.c},B.prototype.pastEnd=B.prototype.Qb,B.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},B.prototype.getError=B.prototype.getError,B.prototype.w=function(i){for(var a=128,y=0,T=0,V=0;4>V&&128<=a;V++)a=this.b[this.a++],y|=(a&127)<<7*V;if(128<=a&&(a=this.b[this.a++],y|=(a&127)<<28,T|=(a&127)>>4),128<=a)for(V=0;5>V&&128<=a;V++)a=this.b[this.a++],T|=(a&127)<<7*V+3;if(128>a)return i(y>>>0,T>>>0);z("Failed to read varint, encoding is invalid."),this.v=!0},B.prototype.readSplitVarint64=B.prototype.w,B.prototype.ea=function(i){return this.w(function(a,y){return ft(a,y,i)})},B.prototype.readSplitZigzagVarint64=B.prototype.ea,B.prototype.ta=function(i){var a=this.b,y=this.a;this.a+=8;for(var T=0,V=0,dt=y+7;dt>=y;dt--)T=T<<8|a[dt],V=V<<8|a[dt+4];return i(T,V)},B.prototype.readSplitFixed64=B.prototype.ta,B.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},B.prototype.skipVarint=B.prototype.kb,B.prototype.mb=function(i){for(;128<i;)this.a--,i>>>=7;this.a--},B.prototype.unskipVarint=B.prototype.mb,B.prototype.o=function(){var i=this.b,a=i[this.a],y=a&127;return 128>a?(this.a+=1,S(this.a<=this.c),y):(a=i[this.a+1],y|=(a&127)<<7,128>a?(this.a+=2,S(this.a<=this.c),y):(a=i[this.a+2],y|=(a&127)<<14,128>a?(this.a+=3,S(this.a<=this.c),y):(a=i[this.a+3],y|=(a&127)<<21,128>a?(this.a+=4,S(this.a<=this.c),y):(a=i[this.a+4],y|=(a&15)<<28,128>a?(this.a+=5,S(this.a<=this.c),y>>>0):(this.a+=5,128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&128<=i[this.a++]&&S(!1),S(this.a<=this.c),y)))))},B.prototype.readUnsignedVarint32=B.prototype.o,B.prototype.da=function(){return~~this.o()},B.prototype.readSignedVarint32=B.prototype.da,B.prototype.O=function(){return this.o().toString()},B.prototype.Ea=function(){return this.da().toString()},B.prototype.readSignedVarint32String=B.prototype.Ea,B.prototype.Ia=function(){var i=this.o();return i>>>1^-(i&1)},B.prototype.readZigzagVarint32=B.prototype.Ia,B.prototype.Ga=function(){return this.w(x)},B.prototype.readUnsignedVarint64=B.prototype.Ga,B.prototype.Ha=function(){return this.w(X)},B.prototype.readUnsignedVarint64String=B.prototype.Ha,B.prototype.sa=function(){return this.w(J)},B.prototype.readSignedVarint64=B.prototype.sa,B.prototype.Fa=function(){return this.w(st)},B.prototype.readSignedVarint64String=B.prototype.Fa,B.prototype.Ja=function(){return this.w(yt)},B.prototype.readZigzagVarint64=B.prototype.Ja,B.prototype.fb=function(){return this.ea(W)},B.prototype.readZigzagVarintHash64=B.prototype.fb,B.prototype.Ka=function(){return this.ea(st)},B.prototype.readZigzagVarint64String=B.prototype.Ka,B.prototype.Gc=function(){var i=this.b[this.a];return this.a+=1,S(this.a<=this.c),i},B.prototype.readUint8=B.prototype.Gc,B.prototype.Ec=function(){var i=this.b[this.a],a=this.b[this.a+1];return this.a+=2,S(this.a<=this.c),i<<0|a<<8},B.prototype.readUint16=B.prototype.Ec,B.prototype.m=function(){var i=this.b[this.a],a=this.b[this.a+1],y=this.b[this.a+2],T=this.b[this.a+3];return this.a+=4,S(this.a<=this.c),(i<<0|a<<8|y<<16|T<<24)>>>0},B.prototype.readUint32=B.prototype.m,B.prototype.ga=function(){var i=this.m(),a=this.m();return x(i,a)},B.prototype.readUint64=B.prototype.ga,B.prototype.ha=function(){var i=this.m(),a=this.m();return X(i,a)},B.prototype.readUint64String=B.prototype.ha,B.prototype.Xb=function(){var i=this.b[this.a];return this.a+=1,S(this.a<=this.c),i<<24>>24},B.prototype.readInt8=B.prototype.Xb,B.prototype.Vb=function(){var i=this.b[this.a],a=this.b[this.a+1];return this.a+=2,S(this.a<=this.c),(i<<0|a<<8)<<16>>16},B.prototype.readInt16=B.prototype.Vb,B.prototype.P=function(){var i=this.b[this.a],a=this.b[this.a+1],y=this.b[this.a+2],T=this.b[this.a+3];return this.a+=4,S(this.a<=this.c),i<<0|a<<8|y<<16|T<<24},B.prototype.readInt32=B.prototype.P,B.prototype.ba=function(){var i=this.m(),a=this.m();return J(i,a)},B.prototype.readInt64=B.prototype.ba,B.prototype.ca=function(){var i=this.m(),a=this.m();return st(i,a)},B.prototype.readInt64String=B.prototype.ca,B.prototype.aa=function(){var i=this.m();return U(i)},B.prototype.readFloat=B.prototype.aa,B.prototype.Z=function(){var i=this.m(),a=this.m();return ot(i,a)},B.prototype.readDouble=B.prototype.Z,B.prototype.pa=function(){return!!this.b[this.a++]},B.prototype.readBool=B.prototype.pa,B.prototype.ra=function(){return this.da()},B.prototype.readEnum=B.prototype.ra,B.prototype.fa=function(i){var a=this.b,y=this.a;i=y+i;for(var T=[],V="";y<i;){var dt=a[y++];if(128>dt)T.push(dt);else{if(192>dt)continue;if(224>dt){var At=a[y++];T.push((dt&31)<<6|At&63)}else if(240>dt){At=a[y++];var qt=a[y++];T.push((dt&15)<<12|(At&63)<<6|qt&63)}else if(248>dt){At=a[y++],qt=a[y++];var Se=a[y++];dt=(dt&7)<<18|(At&63)<<12|(qt&63)<<6|Se&63,dt-=65536,T.push((dt>>10&1023)+55296,(dt&1023)+56320)}}8192<=T.length&&(V+=String.fromCharCode.apply(null,T),T.length=0)}return V+=Q(T),this.a=y,V},B.prototype.readString=B.prototype.fa,B.prototype.Dc=function(){var i=this.o();return this.fa(i)},B.prototype.readStringWithLength=B.prototype.Dc,B.prototype.qa=function(i){if(0>i||this.a+i>this.b.length)return this.v=!0,z("Invalid byte length!"),new Uint8Array(0);var a=this.b.subarray(this.a,this.a+i);return this.a+=i,S(this.a<=this.c),a},B.prototype.readBytes=B.prototype.qa,B.prototype.ia=function(){return this.w(W)},B.prototype.readVarintHash64=B.prototype.ia,B.prototype.$=function(){var i=this.b,a=this.a,y=i[a],T=i[a+1],V=i[a+2],dt=i[a+3],At=i[a+4],qt=i[a+5],Se=i[a+6];return i=i[a+7],this.a+=8,String.fromCharCode(y,T,V,dt,At,qt,Se,i)},B.prototype.readFixedHash64=B.prototype.$;function j(i,a,y){this.a=Dt(i,a,y),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}b("jspb.BinaryReader",j,void 0);var Vt=[];j.clearInstanceCache=function(){Vt=[]},j.getInstanceCacheLength=function(){return Vt.length};function $t(i,a,y){if(Vt.length){var T=Vt.pop();return i&&T.a.H(i,a,y),T}return new j(i,a,y)}j.alloc=$t,j.prototype.zb=$t,j.prototype.alloc=j.prototype.zb,j.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>Vt.length&&Vt.push(this)},j.prototype.free=j.prototype.Ca,j.prototype.Fb=function(){return this.O},j.prototype.getFieldCursor=j.prototype.Fb,j.prototype.B=function(){return this.a.B()},j.prototype.getCursor=j.prototype.B,j.prototype.Y=function(){return this.a.Y()},j.prototype.getBuffer=j.prototype.Y,j.prototype.Hb=function(){return this.c},j.prototype.getFieldNumber=j.prototype.Hb,j.prototype.Lb=function(){return this.b},j.prototype.getWireType=j.prototype.Lb,j.prototype.Mb=function(){return this.b==2},j.prototype.isDelimited=j.prototype.Mb,j.prototype.bb=function(){return this.b==4},j.prototype.isEndGroup=j.prototype.bb,j.prototype.getError=function(){return this.h||this.a.getError()},j.prototype.getError=j.prototype.getError,j.prototype.H=function(i,a,y){this.a.H(i,a,y),this.b=this.c=-1},j.prototype.setBlock=j.prototype.H,j.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},j.prototype.reset=j.prototype.reset,j.prototype.advance=function(i){this.a.advance(i)},j.prototype.advance=j.prototype.advance,j.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return z("Decoder hit an error"),!1;this.O=this.a.B();var i=this.a.o(),a=i>>>3;return i&=7,i!=0&&i!=5&&i!=1&&i!=2&&i!=3&&i!=4?(z("Invalid wire type: %s (at position %s)",i,this.O),this.h=!0,!1):(this.c=a,this.b=i,!0)},j.prototype.nextField=j.prototype.oa,j.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},j.prototype.unskipHeader=j.prototype.Oa,j.prototype.Lc=function(){var i=this.c;for(this.Oa();this.oa()&&this.c==i;)this.C();this.a.ya()||this.Oa()},j.prototype.skipMatchingFields=j.prototype.Lc,j.prototype.lb=function(){this.b!=0?(z("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},j.prototype.skipVarintField=j.prototype.lb,j.prototype.gb=function(){if(this.b!=2)z("Invalid wire type for skipDelimitedField"),this.C();else{var i=this.a.o();this.a.advance(i)}},j.prototype.skipDelimitedField=j.prototype.gb,j.prototype.hb=function(){this.b!=5?(z("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},j.prototype.skipFixed32Field=j.prototype.hb,j.prototype.ib=function(){this.b!=1?(z("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},j.prototype.skipFixed64Field=j.prototype.ib,j.prototype.jb=function(){var i=this.c;do{if(!this.oa()){z("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=i&&(z("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},j.prototype.skipGroup=j.prototype.jb,j.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:z("Invalid wire encoding for field.")}},j.prototype.skipField=j.prototype.C,j.prototype.Hc=function(i,a){this.v===null&&(this.v={}),S(!this.v[i]),this.v[i]=a},j.prototype.registerReadCallback=j.prototype.Hc,j.prototype.Ic=function(i){return S(this.v!==null),i=this.v[i],S(i),i(this)},j.prototype.runReadCallback=j.prototype.Ic,j.prototype.Yb=function(i,a){S(this.b==2);var y=this.a.c,T=this.a.o();T=this.a.B()+T,this.a.setEnd(T),a(i,this),this.a.Ma(T),this.a.setEnd(y)},j.prototype.readMessage=j.prototype.Yb,j.prototype.Ub=function(i,a,y){S(this.b==3),S(this.c==i),y(a,this),this.h||this.b==4||(z("Group submessage did not end with an END_GROUP tag"),this.h=!0)},j.prototype.readGroup=j.prototype.Ub,j.prototype.Gb=function(){S(this.b==2);var i=this.a.o(),a=this.a.B(),y=a+i;return i=Dt(this.a.Y(),a,i),this.a.Ma(y),i},j.prototype.getFieldDecoder=j.prototype.Gb,j.prototype.P=function(){return S(this.b==0),this.a.da()},j.prototype.readInt32=j.prototype.P,j.prototype.Wb=function(){return S(this.b==0),this.a.Ea()},j.prototype.readInt32String=j.prototype.Wb,j.prototype.ba=function(){return S(this.b==0),this.a.sa()},j.prototype.readInt64=j.prototype.ba,j.prototype.ca=function(){return S(this.b==0),this.a.Fa()},j.prototype.readInt64String=j.prototype.ca,j.prototype.m=function(){return S(this.b==0),this.a.o()},j.prototype.readUint32=j.prototype.m,j.prototype.Fc=function(){return S(this.b==0),this.a.O()},j.prototype.readUint32String=j.prototype.Fc,j.prototype.ga=function(){return S(this.b==0),this.a.Ga()},j.prototype.readUint64=j.prototype.ga,j.prototype.ha=function(){return S(this.b==0),this.a.Ha()},j.prototype.readUint64String=j.prototype.ha,j.prototype.zc=function(){return S(this.b==0),this.a.Ia()},j.prototype.readSint32=j.prototype.zc,j.prototype.Ac=function(){return S(this.b==0),this.a.Ja()},j.prototype.readSint64=j.prototype.Ac,j.prototype.Bc=function(){return S(this.b==0),this.a.Ka()},j.prototype.readSint64String=j.prototype.Bc,j.prototype.Rb=function(){return S(this.b==5),this.a.m()},j.prototype.readFixed32=j.prototype.Rb,j.prototype.Sb=function(){return S(this.b==1),this.a.ga()},j.prototype.readFixed64=j.prototype.Sb,j.prototype.Tb=function(){return S(this.b==1),this.a.ha()},j.prototype.readFixed64String=j.prototype.Tb,j.prototype.vc=function(){return S(this.b==5),this.a.P()},j.prototype.readSfixed32=j.prototype.vc,j.prototype.wc=function(){return S(this.b==5),this.a.P().toString()},j.prototype.readSfixed32String=j.prototype.wc,j.prototype.xc=function(){return S(this.b==1),this.a.ba()},j.prototype.readSfixed64=j.prototype.xc,j.prototype.yc=function(){return S(this.b==1),this.a.ca()},j.prototype.readSfixed64String=j.prototype.yc,j.prototype.aa=function(){return S(this.b==5),this.a.aa()},j.prototype.readFloat=j.prototype.aa,j.prototype.Z=function(){return S(this.b==1),this.a.Z()},j.prototype.readDouble=j.prototype.Z,j.prototype.pa=function(){return S(this.b==0),!!this.a.o()},j.prototype.readBool=j.prototype.pa,j.prototype.ra=function(){return S(this.b==0),this.a.sa()},j.prototype.readEnum=j.prototype.ra,j.prototype.fa=function(){S(this.b==2);var i=this.a.o();return this.a.fa(i)},j.prototype.readString=j.prototype.fa,j.prototype.qa=function(){S(this.b==2);var i=this.a.o();return this.a.qa(i)},j.prototype.readBytes=j.prototype.qa,j.prototype.ia=function(){return S(this.b==0),this.a.ia()},j.prototype.readVarintHash64=j.prototype.ia,j.prototype.Cc=function(){return S(this.b==0),this.a.fb()},j.prototype.readSintHash64=j.prototype.Cc,j.prototype.w=function(i){return S(this.b==0),this.a.w(i)},j.prototype.readSplitVarint64=j.prototype.w,j.prototype.ea=function(i){return S(this.b==0),this.a.w(function(a,y){return ft(a,y,i)})},j.prototype.readSplitZigzagVarint64=j.prototype.ea,j.prototype.$=function(){return S(this.b==1),this.a.$()},j.prototype.readFixedHash64=j.prototype.$,j.prototype.ta=function(i){return S(this.b==1),this.a.ta(i)},j.prototype.readSplitFixed64=j.prototype.ta;function jt(i,a){S(i.b==2);var y=i.a.o();y=i.a.B()+y;for(var T=[];i.a.B()<y;)T.push(a.call(i.a));return T}j.prototype.gc=function(){return jt(this,this.a.da)},j.prototype.readPackedInt32=j.prototype.gc,j.prototype.hc=function(){return jt(this,this.a.Ea)},j.prototype.readPackedInt32String=j.prototype.hc,j.prototype.ic=function(){return jt(this,this.a.sa)},j.prototype.readPackedInt64=j.prototype.ic,j.prototype.jc=function(){return jt(this,this.a.Fa)},j.prototype.readPackedInt64String=j.prototype.jc,j.prototype.qc=function(){return jt(this,this.a.o)},j.prototype.readPackedUint32=j.prototype.qc,j.prototype.rc=function(){return jt(this,this.a.O)},j.prototype.readPackedUint32String=j.prototype.rc,j.prototype.sc=function(){return jt(this,this.a.Ga)},j.prototype.readPackedUint64=j.prototype.sc,j.prototype.tc=function(){return jt(this,this.a.Ha)},j.prototype.readPackedUint64String=j.prototype.tc,j.prototype.nc=function(){return jt(this,this.a.Ia)},j.prototype.readPackedSint32=j.prototype.nc,j.prototype.oc=function(){return jt(this,this.a.Ja)},j.prototype.readPackedSint64=j.prototype.oc,j.prototype.pc=function(){return jt(this,this.a.Ka)},j.prototype.readPackedSint64String=j.prototype.pc,j.prototype.bc=function(){return jt(this,this.a.m)},j.prototype.readPackedFixed32=j.prototype.bc,j.prototype.cc=function(){return jt(this,this.a.ga)},j.prototype.readPackedFixed64=j.prototype.cc,j.prototype.dc=function(){return jt(this,this.a.ha)},j.prototype.readPackedFixed64String=j.prototype.dc,j.prototype.kc=function(){return jt(this,this.a.P)},j.prototype.readPackedSfixed32=j.prototype.kc,j.prototype.lc=function(){return jt(this,this.a.ba)},j.prototype.readPackedSfixed64=j.prototype.lc,j.prototype.mc=function(){return jt(this,this.a.ca)},j.prototype.readPackedSfixed64String=j.prototype.mc,j.prototype.fc=function(){return jt(this,this.a.aa)},j.prototype.readPackedFloat=j.prototype.fc,j.prototype.$b=function(){return jt(this,this.a.Z)},j.prototype.readPackedDouble=j.prototype.$b,j.prototype.Zb=function(){return jt(this,this.a.pa)},j.prototype.readPackedBool=j.prototype.Zb,j.prototype.ac=function(){return jt(this,this.a.ra)},j.prototype.readPackedEnum=j.prototype.ac,j.prototype.uc=function(){return jt(this,this.a.ia)},j.prototype.readPackedVarintHash64=j.prototype.uc,j.prototype.ec=function(){return jt(this,this.a.$)},j.prototype.readPackedFixedHash64=j.prototype.ec;function Lt(i,a,y,T,V){this.ma=i,this.Ba=a,this.la=y,this.Na=T,this.na=V}b("jspb.ExtensionFieldInfo",Lt,void 0);function Qt(i,a,y,T,V,dt){this.Za=i,this.za=a,this.Aa=y,this.Wa=T,this.Ab=V,this.Nb=dt}b("jspb.ExtensionFieldBinaryInfo",Qt,void 0),Lt.prototype.F=function(){return!!this.la},Lt.prototype.isMessageType=Lt.prototype.F;function Rt(){}b("jspb.Message",Rt,void 0),Rt.GENERATE_TO_OBJECT=!0,Rt.GENERATE_FROM_OBJECT=!0;var Xt=typeof Uint8Array=="function";Rt.prototype.Ib=function(){return this.b},Rt.prototype.getJsPbMessageId=Rt.prototype.Ib,Rt.initialize=function(i,a,y,T,V,dt){i.f=null,a||(a=y?[y]:[]),i.b=y?String(y):void 0,i.D=y===0?-1:0,i.u=a;t:{if(y=i.u.length,a=-1,y&&(a=y-1,y=i.u[a],!(y===null||typeof y!="object"||Array.isArray(y)||Xt&&y instanceof Uint8Array))){i.G=a-i.D,i.i=y;break t}-1<T?(i.G=Math.max(T,a+1-i.D),i.i=null):i.G=Number.MAX_VALUE}if(i.a={},V)for(T=0;T<V.length;T++)a=V[T],a<i.G?(a+=i.D,i.u[a]=i.u[a]||re):(vt(i),i.i[a]=i.i[a]||re);if(dt&&dt.length)for(T=0;T<dt.length;T++)rr(i,dt[T])};var re=Object.freeze?Object.freeze([]):[];function vt(i){var a=i.G+i.D;i.u[a]||(i.i=i.u[a]={})}function Ft(i,a,y){for(var T=[],V=0;V<i.length;V++)T[V]=a.call(i[V],y,i[V]);return T}Rt.toObjectList=Ft,Rt.toObjectExtension=function(i,a,y,T,V){for(var dt in y){var At=y[dt],qt=T.call(i,At);if(qt!=null){for(var Se in At.Ba)if(At.Ba.hasOwnProperty(Se))break;a[Se]=At.Na?At.na?Ft(qt,At.Na,V):At.Na(V,qt):qt}}},Rt.serializeBinaryExtensions=function(i,a,y,T){for(var V in y){var dt=y[V],At=dt.Za;if(!dt.Aa)throw Error("Message extension present that was generated without binary serialization support");var qt=T.call(i,At);if(qt!=null)if(At.F())if(dt.Wa)dt.Aa.call(a,At.ma,qt,dt.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else dt.Aa.call(a,At.ma,qt)}},Rt.readBinaryExtension=function(i,a,y,T,V){var dt=y[a.c];if(dt){if(y=dt.Za,!dt.za)throw Error("Deserializing extension whose generated code does not support binary format");if(y.F()){var At=new y.la;dt.za.call(a,At,dt.Ab)}else At=dt.za.call(a);y.na&&!dt.Nb?(a=T.call(i,y))?a.push(At):V.call(i,y,[At]):V.call(i,y,At)}else a.C()};function Pt(i,a){if(a<i.G){a+=i.D;var y=i.u[a];return y===re?i.u[a]=[]:y}if(i.i)return y=i.i[a],y===re?i.i[a]=[]:y}Rt.getField=Pt,Rt.getRepeatedField=function(i,a){return Pt(i,a)};function Ut(i,a){return i=Pt(i,a),i==null?i:+i}Rt.getOptionalFloatingPointField=Ut;function Jt(i,a){return i=Pt(i,a),i==null?i:!!i}Rt.getBooleanField=Jt,Rt.getRepeatedFloatingPointField=function(i,a){var y=Pt(i,a);if(i.a||(i.a={}),!i.a[a]){for(var T=0;T<y.length;T++)y[T]=+y[T];i.a[a]=!0}return y},Rt.getRepeatedBooleanField=function(i,a){var y=Pt(i,a);if(i.a||(i.a={}),!i.a[a]){for(var T=0;T<y.length;T++)y[T]=!!y[T];i.a[a]=!0}return y};function te(i){return i==null||typeof i=="string"?i:Xt&&i instanceof Uint8Array?ct(i):(z("Cannot coerce to b64 string: "+w(i)),null)}Rt.bytesAsB64=te;function Zt(i){return i==null||i instanceof Uint8Array?i:typeof i=="string"?kt(i):(z("Cannot coerce to Uint8Array: "+w(i)),null)}Rt.bytesAsU8=Zt,Rt.bytesListAsB64=function(i){return _e(i),i.length&&typeof i[0]!="string"?H(i,te):i},Rt.bytesListAsU8=function(i){return _e(i),!i.length||i[0]instanceof Uint8Array?i:H(i,Zt)};function _e(i){if(i&&1<i.length){var a=w(i[0]);C(i,function(y){w(y)!=a&&z("Inconsistent type in JSPB repeated field array. Got "+w(y)+" expected "+a)})}}function ue(i,a,y){return i=Pt(i,a),i??y}Rt.getFieldWithDefault=ue,Rt.getBooleanFieldWithDefault=function(i,a,y){return i=Jt(i,a),i??y},Rt.getFloatingPointFieldWithDefault=function(i,a,y){return i=Ut(i,a),i??y},Rt.getFieldProto3=ue,Rt.getMapField=function(i,a,y,T){if(i.f||(i.f={}),a in i.f)return i.f[a];var V=Pt(i,a);if(!V){if(y)return;V=[],se(i,a,V)}return i.f[a]=new Y(V,T)};function se(i,a,y){return lt(i,Rt),a<i.G?i.u[a+i.D]=y:(vt(i),i.i[a]=y),i}Rt.setField=se,Rt.setProto3IntField=function(i,a,y){return xe(i,a,y,0)},Rt.setProto3FloatField=function(i,a,y){return xe(i,a,y,0)},Rt.setProto3BooleanField=function(i,a,y){return xe(i,a,y,!1)},Rt.setProto3StringField=function(i,a,y){return xe(i,a,y,"")},Rt.setProto3BytesField=function(i,a,y){return xe(i,a,y,"")},Rt.setProto3EnumField=function(i,a,y){return xe(i,a,y,0)},Rt.setProto3StringIntField=function(i,a,y){return xe(i,a,y,"0")};function xe(i,a,y,T){return lt(i,Rt),y!==T?se(i,a,y):a<i.G?i.u[a+i.D]=null:(vt(i),delete i.i[a]),i}Rt.addToRepeatedField=function(i,a,y,T){return lt(i,Rt),a=Pt(i,a),T!=null?a.splice(T,0,y):a.push(y),i};function br(i,a,y,T){return lt(i,Rt),(y=rr(i,y))&&y!==a&&T!==void 0&&(i.f&&y in i.f&&(i.f[y]=void 0),se(i,y,void 0)),se(i,a,T)}Rt.setOneofField=br;function rr(i,a){for(var y,T,V=0;V<a.length;V++){var dt=a[V],At=Pt(i,dt);At!=null&&(y=dt,T=At,se(i,dt,void 0))}return y?(se(i,y,T),y):0}Rt.computeOneofCase=rr,Rt.getWrapperField=function(i,a,y,T){if(i.f||(i.f={}),!i.f[y]){var V=Pt(i,y);(T||V)&&(i.f[y]=new a(V))}return i.f[y]},Rt.getRepeatedWrapperField=function(i,a,y){return Ue(i,a,y),a=i.f[y],a==re&&(a=i.f[y]=[]),a};function Ue(i,a,y){if(i.f||(i.f={}),!i.f[y]){for(var T=Pt(i,y),V=[],dt=0;dt<T.length;dt++)V[dt]=new a(T[dt]);i.f[y]=V}}Rt.setWrapperField=function(i,a,y){lt(i,Rt),i.f||(i.f={});var T=y&&y.g();return i.f[a]=y,se(i,a,T)},Rt.setOneofWrapperField=function(i,a,y,T){lt(i,Rt),i.f||(i.f={});var V=T&&T.g();return i.f[a]=T,br(i,a,y,V)},Rt.setRepeatedWrapperField=function(i,a,y){lt(i,Rt),i.f||(i.f={}),y=y||[];for(var T=[],V=0;V<y.length;V++)T[V]=y[V].g();return i.f[a]=y,se(i,a,T)},Rt.addToRepeatedWrapperField=function(i,a,y,T,V){Ue(i,T,a);var dt=i.f[a];return dt||(dt=i.f[a]=[]),y=y||new T,i=Pt(i,a),V!=null?(dt.splice(V,0,y),i.splice(V,0,y.g())):(dt.push(y),i.push(y.g())),y},Rt.toMap=function(i,a,y,T){for(var V={},dt=0;dt<i.length;dt++)V[a.call(i[dt])]=y?y.call(i[dt],T,i[dt]):i[dt];return V};function He(i){if(i.f)for(var a in i.f){var y=i.f[a];if(Array.isArray(y))for(var T=0;T<y.length;T++)y[T]&&y[T].g();else y&&y.g()}}Rt.prototype.g=function(){return He(this),this.u},Rt.prototype.toArray=Rt.prototype.g,Rt.prototype.toString=function(){return He(this),this.u.toString()},Rt.prototype.getExtension=function(i){if(this.i){this.f||(this.f={});var a=i.ma;if(i.na){if(i.F())return this.f[a]||(this.f[a]=H(this.i[a]||[],function(y){return new i.la(y)})),this.f[a]}else if(i.F())return!this.f[a]&&this.i[a]&&(this.f[a]=new i.la(this.i[a])),this.f[a];return this.i[a]}},Rt.prototype.getExtension=Rt.prototype.getExtension,Rt.prototype.Kc=function(i,a){this.f||(this.f={}),vt(this);var y=i.ma;return i.na?(a=a||[],i.F()?(this.f[y]=a,this.i[y]=H(a,function(T){return T.g()})):this.i[y]=a):i.F()?(this.f[y]=a,this.i[y]=a&&a.g()):this.i[y]=a,this},Rt.prototype.setExtension=Rt.prototype.Kc,Rt.difference=function(i,a){if(!(i instanceof a.constructor))throw Error("Messages have different types.");var y=i.g();a=a.g();var T=[],V=0,dt=y.length>a.length?y.length:a.length;for(i.b&&(T[0]=i.b,V=1);V<dt;V++)ze(y[V],a[V])||(T[V]=a[V]);return new i.constructor(T)},Rt.equals=function(i,a){return i==a||!(!i||!a)&&i instanceof a.constructor&&ze(i.g(),a.g())};function Pe(i,a){i=i||{},a=a||{};var y={},T;for(T in i)y[T]=0;for(T in a)y[T]=0;for(T in y)if(!ze(i[T],a[T]))return!1;return!0}Rt.compareExtensions=Pe;function ze(i,a){if(i==a)return!0;if(!E(i)||!E(a))return typeof i=="number"&&isNaN(i)||typeof a=="number"&&isNaN(a)?String(i)==String(a):!1;if(i.constructor!=a.constructor)return!1;if(Xt&&i.constructor===Uint8Array){if(i.length!=a.length)return!1;for(var y=0;y<i.length;y++)if(i[y]!=a[y])return!1;return!0}if(i.constructor===Array){var T=void 0,V=void 0,dt=Math.max(i.length,a.length);for(y=0;y<dt;y++){var At=i[y],qt=a[y];if(At&&At.constructor==Object&&(S(T===void 0),S(y===i.length-1),T=At,At=void 0),qt&&qt.constructor==Object&&(S(V===void 0),S(y===a.length-1),V=qt,qt=void 0),!ze(At,qt))return!1}return T||V?(T=T||{},V=V||{},Pe(T,V)):!0}if(i.constructor===Object)return Pe(i,a);throw Error("Invalid type in JSPB array")}Rt.compareFields=ze,Rt.prototype.Bb=function(){return or(this)},Rt.prototype.cloneMessage=Rt.prototype.Bb,Rt.prototype.clone=function(){return or(this)},Rt.prototype.clone=Rt.prototype.clone,Rt.clone=function(i){return or(i)};function or(i){return new i.constructor(Qe(i.g()))}Rt.copyInto=function(i,a){lt(i,Rt),lt(a,Rt),S(i.constructor==a.constructor,"Copy source and target message should have the same type."),i=or(i);for(var y=a.g(),T=i.g(),V=y.length=0;V<T.length;V++)y[V]=T[V];a.f=i.f,a.i=i.i};function Qe(i){if(Array.isArray(i)){for(var a=Array(i.length),y=0;y<i.length;y++){var T=i[y];T!=null&&(a[y]=typeof T=="object"?Qe(S(T)):T)}return a}if(Xt&&i instanceof Uint8Array)return new Uint8Array(i);a={};for(y in i)T=i[y],T!=null&&(a[y]=typeof T=="object"?Qe(S(T)):T);return a}Rt.registerMessageType=function(i,a){a.we=i};var ye={dump:function(i){return lt(i,Rt,"jspb.Message instance expected"),S(i.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),ye.X(i)}};b("jspb.debug.dump",ye.dump,void 0),ye.X=function(i){var a=w(i);if(a=="number"||a=="string"||a=="boolean"||a=="null"||a=="undefined"||typeof Uint8Array<"u"&&i instanceof Uint8Array)return i;if(a=="array")return it(i),H(i,ye.X);if(i instanceof Y){var y={};i=i.entries();for(var T=i.next();!T.done;T=i.next())y[T.value[0]]=ye.X(T.value[1]);return y}lt(i,Rt,"Only messages expected: "+i),a=i.constructor;var V={$name:a.name||a.displayName};for(qt in a.prototype){var dt=/^get([A-Z]\w*)/.exec(qt);if(dt&&qt!="getExtension"&&qt!="getJsPbMessageId"){var At="has"+dt[1];(!i[At]||i[At]())&&(At=i[qt](),V[ye.$a(dt[1])]=ye.X(At))}}if(i.extensionObject_)return V.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",V;for(T in a.extensions)if(/^\d+$/.test(T)){At=a.extensions[T];var qt=i.getExtension(At);dt=void 0,At=At.Ba;var Se=[],Rr=0;for(dt in At)Se[Rr++]=dt;dt=Se[0],qt!=null&&(y||(y=V.$extensions={}),y[ye.$a(dt)]=ye.X(qt))}return V},ye.$a=function(i){return i.replace(/^[A-Z]/,function(a){return a.toLowerCase()})};function Nt(){this.a=[]}b("jspb.BinaryEncoder",Nt,void 0),Nt.prototype.length=function(){return this.a.length},Nt.prototype.length=Nt.prototype.length,Nt.prototype.end=function(){var i=this.a;return this.a=[],i},Nt.prototype.end=Nt.prototype.end,Nt.prototype.l=function(i,a){for(S(i==Math.floor(i)),S(a==Math.floor(a)),S(0<=i&&4294967296>i),S(0<=a&&4294967296>a);0<a||127<i;)this.a.push(i&127|128),i=(i>>>7|a<<25)>>>0,a>>>=7;this.a.push(i)},Nt.prototype.writeSplitVarint64=Nt.prototype.l,Nt.prototype.A=function(i,a){S(i==Math.floor(i)),S(a==Math.floor(a)),S(0<=i&&4294967296>i),S(0<=a&&4294967296>a),this.s(i),this.s(a)},Nt.prototype.writeSplitFixed64=Nt.prototype.A,Nt.prototype.j=function(i){for(S(i==Math.floor(i)),S(0<=i&&4294967296>i);127<i;)this.a.push(i&127|128),i>>>=7;this.a.push(i)},Nt.prototype.writeUnsignedVarint32=Nt.prototype.j,Nt.prototype.M=function(i){if(S(i==Math.floor(i)),S(-2147483648<=i&&2147483648>i),0<=i)this.j(i);else{for(var a=0;9>a;a++)this.a.push(i&127|128),i>>=7;this.a.push(1)}},Nt.prototype.writeSignedVarint32=Nt.prototype.M,Nt.prototype.va=function(i){S(i==Math.floor(i)),S(0<=i&&18446744073709552e3>i),at(i),this.l(I,k)},Nt.prototype.writeUnsignedVarint64=Nt.prototype.va,Nt.prototype.ua=function(i){S(i==Math.floor(i)),S(-9223372036854776e3<=i&&9223372036854776e3>i),at(i),this.l(I,k)},Nt.prototype.writeSignedVarint64=Nt.prototype.ua,Nt.prototype.wa=function(i){S(i==Math.floor(i)),S(-2147483648<=i&&2147483648>i),this.j((i<<1^i>>31)>>>0)},Nt.prototype.writeZigzagVarint32=Nt.prototype.wa,Nt.prototype.xa=function(i){S(i==Math.floor(i)),S(-9223372036854776e3<=i&&9223372036854776e3>i),et(i),this.l(I,k)},Nt.prototype.writeZigzagVarint64=Nt.prototype.xa,Nt.prototype.Ta=function(i){this.W(f(i))},Nt.prototype.writeZigzagVarint64String=Nt.prototype.Ta,Nt.prototype.W=function(i){var a=this;wt(i),Z(I,k,function(y,T){a.l(y>>>0,T>>>0)})},Nt.prototype.writeZigzagVarintHash64=Nt.prototype.W,Nt.prototype.be=function(i){S(i==Math.floor(i)),S(0<=i&&256>i),this.a.push(i>>>0&255)},Nt.prototype.writeUint8=Nt.prototype.be,Nt.prototype.ae=function(i){S(i==Math.floor(i)),S(0<=i&&65536>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Nt.prototype.writeUint16=Nt.prototype.ae,Nt.prototype.s=function(i){S(i==Math.floor(i)),S(0<=i&&4294967296>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Nt.prototype.writeUint32=Nt.prototype.s,Nt.prototype.V=function(i){S(i==Math.floor(i)),S(0<=i&&18446744073709552e3>i),G(i),this.s(I),this.s(k)},Nt.prototype.writeUint64=Nt.prototype.V,Nt.prototype.Qc=function(i){S(i==Math.floor(i)),S(-128<=i&&128>i),this.a.push(i>>>0&255)},Nt.prototype.writeInt8=Nt.prototype.Qc,Nt.prototype.Pc=function(i){S(i==Math.floor(i)),S(-32768<=i&&32768>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255)},Nt.prototype.writeInt16=Nt.prototype.Pc,Nt.prototype.S=function(i){S(i==Math.floor(i)),S(-2147483648<=i&&2147483648>i),this.a.push(i>>>0&255),this.a.push(i>>>8&255),this.a.push(i>>>16&255),this.a.push(i>>>24&255)},Nt.prototype.writeInt32=Nt.prototype.S,Nt.prototype.T=function(i){S(i==Math.floor(i)),S(-9223372036854776e3<=i&&9223372036854776e3>i),at(i),this.A(I,k)},Nt.prototype.writeInt64=Nt.prototype.T,Nt.prototype.ka=function(i){S(i==Math.floor(i)),S(-9223372036854776e3<=+i&&9223372036854776e3>+i),wt(f(i)),this.A(I,k)},Nt.prototype.writeInt64String=Nt.prototype.ka,Nt.prototype.L=function(i){S(i===1/0||i===-1/0||isNaN(i)||-34028234663852886e22<=i&&34028234663852886e22>=i),nt(i),this.s(I)},Nt.prototype.writeFloat=Nt.prototype.L,Nt.prototype.J=function(i){S(i===1/0||i===-1/0||isNaN(i)||-17976931348623157e292<=i&&17976931348623157e292>=i),ht(i),this.s(I),this.s(k)},Nt.prototype.writeDouble=Nt.prototype.J,Nt.prototype.I=function(i){S(typeof i=="boolean"||typeof i=="number"),this.a.push(i?1:0)},Nt.prototype.writeBool=Nt.prototype.I,Nt.prototype.R=function(i){S(i==Math.floor(i)),S(-2147483648<=i&&2147483648>i),this.M(i)},Nt.prototype.writeEnum=Nt.prototype.R,Nt.prototype.ja=function(i){this.a.push.apply(this.a,i)},Nt.prototype.writeBytes=Nt.prototype.ja,Nt.prototype.N=function(i){wt(i),this.l(I,k)},Nt.prototype.writeVarintHash64=Nt.prototype.N,Nt.prototype.K=function(i){wt(i),this.s(I),this.s(k)},Nt.prototype.writeFixedHash64=Nt.prototype.K,Nt.prototype.U=function(i){var a=this.a.length;K(i);for(var y=0;y<i.length;y++){var T=i.charCodeAt(y);if(128>T)this.a.push(T);else if(2048>T)this.a.push(T>>6|192),this.a.push(T&63|128);else if(65536>T)if(55296<=T&&56319>=T&&y+1<i.length){var V=i.charCodeAt(y+1);56320<=V&&57343>=V&&(T=1024*(T-55296)+V-56320+65536,this.a.push(T>>18|240),this.a.push(T>>12&63|128),this.a.push(T>>6&63|128),this.a.push(T&63|128),y++)}else this.a.push(T>>12|224),this.a.push(T>>6&63|128),this.a.push(T&63|128)}return this.a.length-a},Nt.prototype.writeString=Nt.prototype.U;function zt(i,a){this.lo=i,this.hi=a}b("jspb.arith.UInt64",zt,void 0),zt.prototype.cmp=function(i){return this.hi<i.hi||this.hi==i.hi&&this.lo<i.lo?-1:this.hi==i.hi&&this.lo==i.lo?0:1},zt.prototype.cmp=zt.prototype.cmp,zt.prototype.La=function(){return new zt((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},zt.prototype.rightShift=zt.prototype.La,zt.prototype.Da=function(){return new zt(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},zt.prototype.leftShift=zt.prototype.Da,zt.prototype.cb=function(){return!!(this.hi&2147483648)},zt.prototype.msb=zt.prototype.cb,zt.prototype.Ob=function(){return!!(this.lo&1)},zt.prototype.lsb=zt.prototype.Ob,zt.prototype.Ua=function(){return this.lo==0&&this.hi==0},zt.prototype.zero=zt.prototype.Ua,zt.prototype.add=function(i){return new zt((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},zt.prototype.add=zt.prototype.add,zt.prototype.sub=function(i){return new zt((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},zt.prototype.sub=zt.prototype.sub;function Or(i,a){var y=i&65535;i>>>=16;var T=a&65535,V=a>>>16;for(a=y*T+65536*(y*V&65535)+65536*(i*T&65535),y=i*V+(y*V>>>16)+(i*T>>>16);4294967296<=a;)a-=4294967296,y+=1;return new zt(a>>>0,y>>>0)}zt.mul32x32=Or,zt.prototype.eb=function(i){var a=Or(this.lo,i);return i=Or(this.hi,i),i.hi=i.lo,i.lo=0,a.add(i)},zt.prototype.mul=zt.prototype.eb,zt.prototype.Xa=function(i){if(i==0)return[];var a=new zt(0,0),y=new zt(this.lo,this.hi);i=new zt(i,0);for(var T=new zt(1,0);!i.cb();)i=i.Da(),T=T.Da();for(;!T.Ua();)0>=i.cmp(y)&&(a=a.add(T),y=y.sub(i)),i=i.La(),T=T.La();return[a,y]},zt.prototype.div=zt.prototype.Xa,zt.prototype.toString=function(){for(var i="",a=this;!a.Ua();){a=a.Xa(10);var y=a[0];i=a[1].lo+i,a=y}return i==""&&(i="0"),i},zt.prototype.toString=zt.prototype.toString;function ir(i){for(var a=new zt(0,0),y=new zt(0,0),T=0;T<i.length;T++){if("0">i[T]||"9"<i[T])return null;y.lo=parseInt(i[T],10),a=a.eb(10).add(y)}return a}zt.fromString=ir,zt.prototype.clone=function(){return new zt(this.lo,this.hi)},zt.prototype.clone=zt.prototype.clone;function we(i,a){this.lo=i,this.hi=a}b("jspb.arith.Int64",we,void 0),we.prototype.add=function(i){return new we((this.lo+i.lo&4294967295)>>>0>>>0,((this.hi+i.hi&4294967295)>>>0)+(4294967296<=this.lo+i.lo?1:0)>>>0)},we.prototype.add=we.prototype.add,we.prototype.sub=function(i){return new we((this.lo-i.lo&4294967295)>>>0>>>0,((this.hi-i.hi&4294967295)>>>0)-(0>this.lo-i.lo?1:0)>>>0)},we.prototype.sub=we.prototype.sub,we.prototype.clone=function(){return new we(this.lo,this.hi)},we.prototype.clone=we.prototype.clone,we.prototype.toString=function(){var i=(this.hi&2147483648)!=0,a=new zt(this.lo,this.hi);return i&&(a=new zt(0,0).sub(a)),(i?"-":"")+a.toString()},we.prototype.toString=we.prototype.toString;function Mr(i){var a=0<i.length&&i[0]=="-";return a&&(i=i.substring(1)),i=ir(i),i===null?null:(a&&(i=new zt(0,0).sub(i)),new we(i.lo,i.hi))}we.fromString=Mr;function F(){this.c=[],this.b=0,this.a=new Nt,this.h=[]}b("jspb.BinaryWriter",F,void 0);function yo(i,a){var y=i.a.end();i.c.push(y),i.c.push(a),i.b+=y.length+a.length}function ae(i,a){return Ht(i,a,2),a=i.a.end(),i.c.push(a),i.b+=a.length,a.push(i.b),a}function pe(i,a){var y=a.pop();for(y=i.b+i.a.length()-y,S(0<=y);127<y;)a.push(y&127|128),y>>>=7,i.b++;a.push(y),i.b++}F.prototype.pb=function(i,a,y){yo(this,i.subarray(a,y))},F.prototype.writeSerializedMessage=F.prototype.pb,F.prototype.Pb=function(i,a,y){i!=null&&a!=null&&y!=null&&this.pb(i,a,y)},F.prototype.maybeWriteSerializedMessage=F.prototype.Pb,F.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},F.prototype.reset=F.prototype.reset,F.prototype.ab=function(){S(this.h.length==0);for(var i=new Uint8Array(this.b+this.a.length()),a=this.c,y=a.length,T=0,V=0;V<y;V++){var dt=a[V];i.set(dt,T),T+=dt.length}return a=this.a.end(),i.set(a,T),T+=a.length,S(T==i.length),this.c=[i],i},F.prototype.getResultBuffer=F.prototype.ab,F.prototype.Kb=function(i){return ct(this.ab(),i)},F.prototype.getResultBase64String=F.prototype.Kb,F.prototype.Va=function(i){this.h.push(ae(this,i))},F.prototype.beginSubMessage=F.prototype.Va,F.prototype.Ya=function(){S(0<=this.h.length),pe(this,this.h.pop())},F.prototype.endSubMessage=F.prototype.Ya;function Ht(i,a,y){S(1<=a&&a==Math.floor(a)),i.a.j(8*a+y)}F.prototype.Nc=function(i,a,y){switch(i){case 1:this.J(a,y);break;case 2:this.L(a,y);break;case 3:this.T(a,y);break;case 4:this.V(a,y);break;case 5:this.S(a,y);break;case 6:this.Qa(a,y);break;case 7:this.Pa(a,y);break;case 8:this.I(a,y);break;case 9:this.U(a,y);break;case 10:z("Group field type not supported in writeAny()");break;case 11:z("Message field type not supported in writeAny()");break;case 12:this.ja(a,y);break;case 13:this.s(a,y);break;case 14:this.R(a,y);break;case 15:this.Ra(a,y);break;case 16:this.Sa(a,y);break;case 17:this.rb(a,y);break;case 18:this.sb(a,y);break;case 30:this.K(a,y);break;case 31:this.N(a,y);break;default:z("Invalid field type in writeAny()")}},F.prototype.writeAny=F.prototype.Nc;function io(i,a,y){y!=null&&(Ht(i,a,0),i.a.j(y))}function Br(i,a,y){y!=null&&(Ht(i,a,0),i.a.M(y))}F.prototype.S=function(i,a){a!=null&&(S(-2147483648<=a&&2147483648>a),Br(this,i,a))},F.prototype.writeInt32=F.prototype.S,F.prototype.ob=function(i,a){a!=null&&(a=parseInt(a,10),S(-2147483648<=a&&2147483648>a),Br(this,i,a))},F.prototype.writeInt32String=F.prototype.ob,F.prototype.T=function(i,a){a!=null&&(S(-9223372036854776e3<=a&&9223372036854776e3>a),a!=null&&(Ht(this,i,0),this.a.ua(a)))},F.prototype.writeInt64=F.prototype.T,F.prototype.ka=function(i,a){a!=null&&(a=Mr(a),Ht(this,i,0),this.a.l(a.lo,a.hi))},F.prototype.writeInt64String=F.prototype.ka,F.prototype.s=function(i,a){a!=null&&(S(0<=a&&4294967296>a),io(this,i,a))},F.prototype.writeUint32=F.prototype.s,F.prototype.ub=function(i,a){a!=null&&(a=parseInt(a,10),S(0<=a&&4294967296>a),io(this,i,a))},F.prototype.writeUint32String=F.prototype.ub,F.prototype.V=function(i,a){a!=null&&(S(0<=a&&18446744073709552e3>a),a!=null&&(Ht(this,i,0),this.a.va(a)))},F.prototype.writeUint64=F.prototype.V,F.prototype.vb=function(i,a){a!=null&&(a=ir(a),Ht(this,i,0),this.a.l(a.lo,a.hi))},F.prototype.writeUint64String=F.prototype.vb,F.prototype.rb=function(i,a){a!=null&&(S(-2147483648<=a&&2147483648>a),a!=null&&(Ht(this,i,0),this.a.wa(a)))},F.prototype.writeSint32=F.prototype.rb,F.prototype.sb=function(i,a){a!=null&&(S(-9223372036854776e3<=a&&9223372036854776e3>a),a!=null&&(Ht(this,i,0),this.a.xa(a)))},F.prototype.writeSint64=F.prototype.sb,F.prototype.$d=function(i,a){a!=null&&a!=null&&(Ht(this,i,0),this.a.W(a))},F.prototype.writeSintHash64=F.prototype.$d,F.prototype.Zd=function(i,a){a!=null&&a!=null&&(Ht(this,i,0),this.a.Ta(a))},F.prototype.writeSint64String=F.prototype.Zd,F.prototype.Pa=function(i,a){a!=null&&(S(0<=a&&4294967296>a),Ht(this,i,5),this.a.s(a))},F.prototype.writeFixed32=F.prototype.Pa,F.prototype.Qa=function(i,a){a!=null&&(S(0<=a&&18446744073709552e3>a),Ht(this,i,1),this.a.V(a))},F.prototype.writeFixed64=F.prototype.Qa,F.prototype.nb=function(i,a){a!=null&&(a=ir(a),Ht(this,i,1),this.a.A(a.lo,a.hi))},F.prototype.writeFixed64String=F.prototype.nb,F.prototype.Ra=function(i,a){a!=null&&(S(-2147483648<=a&&2147483648>a),Ht(this,i,5),this.a.S(a))},F.prototype.writeSfixed32=F.prototype.Ra,F.prototype.Sa=function(i,a){a!=null&&(S(-9223372036854776e3<=a&&9223372036854776e3>a),Ht(this,i,1),this.a.T(a))},F.prototype.writeSfixed64=F.prototype.Sa,F.prototype.qb=function(i,a){a!=null&&(a=Mr(a),Ht(this,i,1),this.a.A(a.lo,a.hi))},F.prototype.writeSfixed64String=F.prototype.qb,F.prototype.L=function(i,a){a!=null&&(Ht(this,i,5),this.a.L(a))},F.prototype.writeFloat=F.prototype.L,F.prototype.J=function(i,a){a!=null&&(Ht(this,i,1),this.a.J(a))},F.prototype.writeDouble=F.prototype.J,F.prototype.I=function(i,a){a!=null&&(S(typeof a=="boolean"||typeof a=="number"),Ht(this,i,0),this.a.I(a))},F.prototype.writeBool=F.prototype.I,F.prototype.R=function(i,a){a!=null&&(S(-2147483648<=a&&2147483648>a),Ht(this,i,0),this.a.M(a))},F.prototype.writeEnum=F.prototype.R,F.prototype.U=function(i,a){a!=null&&(i=ae(this,i),this.a.U(a),pe(this,i))},F.prototype.writeString=F.prototype.U,F.prototype.ja=function(i,a){a!=null&&(a=L(a),Ht(this,i,2),this.a.j(a.length),yo(this,a))},F.prototype.writeBytes=F.prototype.ja,F.prototype.Rc=function(i,a,y){a!=null&&(i=ae(this,i),y(a,this),pe(this,i))},F.prototype.writeMessage=F.prototype.Rc,F.prototype.Sc=function(i,a,y){a!=null&&(Ht(this,1,3),Ht(this,2,0),this.a.M(i),i=ae(this,3),y(a,this),pe(this,i),Ht(this,1,4))},F.prototype.writeMessageSet=F.prototype.Sc,F.prototype.Oc=function(i,a,y){a!=null&&(Ht(this,i,3),y(a,this),Ht(this,i,4))},F.prototype.writeGroup=F.prototype.Oc,F.prototype.K=function(i,a){a!=null&&(S(a.length==8),Ht(this,i,1),this.a.K(a))},F.prototype.writeFixedHash64=F.prototype.K,F.prototype.N=function(i,a){a!=null&&(S(a.length==8),Ht(this,i,0),this.a.N(a))},F.prototype.writeVarintHash64=F.prototype.N,F.prototype.A=function(i,a,y){Ht(this,i,1),this.a.A(a,y)},F.prototype.writeSplitFixed64=F.prototype.A,F.prototype.l=function(i,a,y){Ht(this,i,0),this.a.l(a,y)},F.prototype.writeSplitVarint64=F.prototype.l,F.prototype.tb=function(i,a,y){Ht(this,i,0);var T=this.a;Z(a,y,function(V,dt){T.l(V>>>0,dt>>>0)})},F.prototype.writeSplitZigzagVarint64=F.prototype.tb,F.prototype.Ed=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)Br(this,i,a[y])},F.prototype.writeRepeatedInt32=F.prototype.Ed,F.prototype.Fd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ob(i,a[y])},F.prototype.writeRepeatedInt32String=F.prototype.Fd,F.prototype.Gd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var T=a[y];T!=null&&(Ht(this,i,0),this.a.ua(T))}},F.prototype.writeRepeatedInt64=F.prototype.Gd,F.prototype.Qd=function(i,a,y,T){if(a!=null)for(var V=0;V<a.length;V++)this.A(i,y(a[V]),T(a[V]))},F.prototype.writeRepeatedSplitFixed64=F.prototype.Qd,F.prototype.Rd=function(i,a,y,T){if(a!=null)for(var V=0;V<a.length;V++)this.l(i,y(a[V]),T(a[V]))},F.prototype.writeRepeatedSplitVarint64=F.prototype.Rd,F.prototype.Sd=function(i,a,y,T){if(a!=null)for(var V=0;V<a.length;V++)this.tb(i,y(a[V]),T(a[V]))},F.prototype.writeRepeatedSplitZigzagVarint64=F.prototype.Sd,F.prototype.Hd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ka(i,a[y])},F.prototype.writeRepeatedInt64String=F.prototype.Hd,F.prototype.Ud=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)io(this,i,a[y])},F.prototype.writeRepeatedUint32=F.prototype.Ud,F.prototype.Vd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ub(i,a[y])},F.prototype.writeRepeatedUint32String=F.prototype.Vd,F.prototype.Wd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var T=a[y];T!=null&&(Ht(this,i,0),this.a.va(T))}},F.prototype.writeRepeatedUint64=F.prototype.Wd,F.prototype.Xd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.vb(i,a[y])},F.prototype.writeRepeatedUint64String=F.prototype.Xd,F.prototype.Md=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var T=a[y];T!=null&&(Ht(this,i,0),this.a.wa(T))}},F.prototype.writeRepeatedSint32=F.prototype.Md,F.prototype.Nd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var T=a[y];T!=null&&(Ht(this,i,0),this.a.xa(T))}},F.prototype.writeRepeatedSint64=F.prototype.Nd,F.prototype.Od=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var T=a[y];T!=null&&(Ht(this,i,0),this.a.Ta(T))}},F.prototype.writeRepeatedSint64String=F.prototype.Od,F.prototype.Pd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++){var T=a[y];T!=null&&(Ht(this,i,0),this.a.W(T))}},F.prototype.writeRepeatedSintHash64=F.prototype.Pd,F.prototype.yd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Pa(i,a[y])},F.prototype.writeRepeatedFixed32=F.prototype.yd,F.prototype.zd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Qa(i,a[y])},F.prototype.writeRepeatedFixed64=F.prototype.zd,F.prototype.Ad=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.nb(i,a[y])},F.prototype.writeRepeatedFixed64String=F.prototype.Ad,F.prototype.Jd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Ra(i,a[y])},F.prototype.writeRepeatedSfixed32=F.prototype.Jd,F.prototype.Kd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.Sa(i,a[y])},F.prototype.writeRepeatedSfixed64=F.prototype.Kd,F.prototype.Ld=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.qb(i,a[y])},F.prototype.writeRepeatedSfixed64String=F.prototype.Ld,F.prototype.Cd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.L(i,a[y])},F.prototype.writeRepeatedFloat=F.prototype.Cd,F.prototype.wd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.J(i,a[y])},F.prototype.writeRepeatedDouble=F.prototype.wd,F.prototype.ud=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.I(i,a[y])},F.prototype.writeRepeatedBool=F.prototype.ud,F.prototype.xd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.R(i,a[y])},F.prototype.writeRepeatedEnum=F.prototype.xd,F.prototype.Td=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.U(i,a[y])},F.prototype.writeRepeatedString=F.prototype.Td,F.prototype.vd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.ja(i,a[y])},F.prototype.writeRepeatedBytes=F.prototype.vd,F.prototype.Id=function(i,a,y){if(a!=null)for(var T=0;T<a.length;T++){var V=ae(this,i);y(a[T],this),pe(this,V)}},F.prototype.writeRepeatedMessage=F.prototype.Id,F.prototype.Dd=function(i,a,y){if(a!=null)for(var T=0;T<a.length;T++)Ht(this,i,3),y(a[T],this),Ht(this,i,4)},F.prototype.writeRepeatedGroup=F.prototype.Dd,F.prototype.Bd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.K(i,a[y])},F.prototype.writeRepeatedFixedHash64=F.prototype.Bd,F.prototype.Yd=function(i,a){if(a!=null)for(var y=0;y<a.length;y++)this.N(i,a[y])},F.prototype.writeRepeatedVarintHash64=F.prototype.Yd,F.prototype.ad=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.M(a[y]);pe(this,i)}},F.prototype.writePackedInt32=F.prototype.ad,F.prototype.bd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.M(parseInt(a[y],10));pe(this,i)}},F.prototype.writePackedInt32String=F.prototype.bd,F.prototype.cd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.ua(a[y]);pe(this,i)}},F.prototype.writePackedInt64=F.prototype.cd,F.prototype.md=function(i,a,y,T){if(a!=null){i=ae(this,i);for(var V=0;V<a.length;V++)this.a.A(y(a[V]),T(a[V]));pe(this,i)}},F.prototype.writePackedSplitFixed64=F.prototype.md,F.prototype.nd=function(i,a,y,T){if(a!=null){i=ae(this,i);for(var V=0;V<a.length;V++)this.a.l(y(a[V]),T(a[V]));pe(this,i)}},F.prototype.writePackedSplitVarint64=F.prototype.nd,F.prototype.od=function(i,a,y,T){if(a!=null){i=ae(this,i);for(var V=this.a,dt=0;dt<a.length;dt++)Z(y(a[dt]),T(a[dt]),function(At,qt){V.l(At>>>0,qt>>>0)});pe(this,i)}},F.prototype.writePackedSplitZigzagVarint64=F.prototype.od,F.prototype.dd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++){var T=Mr(a[y]);this.a.l(T.lo,T.hi)}pe(this,i)}},F.prototype.writePackedInt64String=F.prototype.dd,F.prototype.pd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.j(a[y]);pe(this,i)}},F.prototype.writePackedUint32=F.prototype.pd,F.prototype.qd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.j(parseInt(a[y],10));pe(this,i)}},F.prototype.writePackedUint32String=F.prototype.qd,F.prototype.rd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.va(a[y]);pe(this,i)}},F.prototype.writePackedUint64=F.prototype.rd,F.prototype.sd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++){var T=ir(a[y]);this.a.l(T.lo,T.hi)}pe(this,i)}},F.prototype.writePackedUint64String=F.prototype.sd,F.prototype.hd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.wa(a[y]);pe(this,i)}},F.prototype.writePackedSint32=F.prototype.hd,F.prototype.jd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.xa(a[y]);pe(this,i)}},F.prototype.writePackedSint64=F.prototype.jd,F.prototype.kd=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.W(f(a[y]));pe(this,i)}},F.prototype.writePackedSint64String=F.prototype.kd,F.prototype.ld=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.W(a[y]);pe(this,i)}},F.prototype.writePackedSintHash64=F.prototype.ld,F.prototype.Wc=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.s(a[i])},F.prototype.writePackedFixed32=F.prototype.Wc,F.prototype.Xc=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.V(a[i])},F.prototype.writePackedFixed64=F.prototype.Xc,F.prototype.Yc=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++){var y=ir(a[i]);this.a.A(y.lo,y.hi)}},F.prototype.writePackedFixed64String=F.prototype.Yc,F.prototype.ed=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.S(a[i])},F.prototype.writePackedSfixed32=F.prototype.ed,F.prototype.fd=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.T(a[i])},F.prototype.writePackedSfixed64=F.prototype.fd,F.prototype.gd=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.ka(a[i])},F.prototype.writePackedSfixed64String=F.prototype.gd,F.prototype.$c=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(4*a.length),i=0;i<a.length;i++)this.a.L(a[i])},F.prototype.writePackedFloat=F.prototype.$c,F.prototype.Uc=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.J(a[i])},F.prototype.writePackedDouble=F.prototype.Uc,F.prototype.Tc=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(a.length),i=0;i<a.length;i++)this.a.I(a[i])},F.prototype.writePackedBool=F.prototype.Tc,F.prototype.Vc=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.R(a[y]);pe(this,i)}},F.prototype.writePackedEnum=F.prototype.Vc,F.prototype.Zc=function(i,a){if(a!=null&&a.length)for(Ht(this,i,2),this.a.j(8*a.length),i=0;i<a.length;i++)this.a.K(a[i])},F.prototype.writePackedFixedHash64=F.prototype.Zc,F.prototype.td=function(i,a){if(a!=null&&a.length){i=ae(this,i);for(var y=0;y<a.length;y++)this.a.N(a[y]);pe(this,i)}},F.prototype.writePackedVarintHash64=F.prototype.td,t.debug=ye,t.Map=Y,t.Message=Rt,t.BinaryReader=j,t.BinaryWriter=F,t.ExtensionFieldInfo=Lt,t.ExtensionFieldBinaryInfo=Qt,t.exportSymbol=O,t.inherits=N,t.object={extend:P},t.typeOf=w}(Nr)),Nr}var _=bc();const wc=Yl(_),Ec=np({__proto__:null,default:wc},[_]);var gt=Ec,Kt=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||typeof Kt<"u"&&Kt||typeof self<"u"&&self||(function(){return this}).call(null)||Function("return this")();gt.exportSymbol("proto.proto.mdds.v1.BoardEvent",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.ChangeOfContract",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.CouponPaymentDate",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.DeemTradePrice",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.DelistedInstrument",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Disclosure",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.ELWUnderlyingAssets",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.ETFIndexComposition",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.ETFTrackingError",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.ETFiIndex",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.ETFiNav",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.ForeignerOrderLimit",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Holiday",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Index",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.IndexConstituentsInformation",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.InstrumentDerivatives",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.InstrumentSBR",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.InvestorPerIndustry",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.InvestorPerSymbol",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.MarketIndex",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.MarketMakerInformation",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.MarketMakingContract",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.MemberTrader",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.OpenInterest",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Price",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.PriceLimitExpansion",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.PriceRecovery",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.RandomEnd",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.SecurityDefinition",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.SecurityInformationNotification",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.SecurityStatus",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.StockInfo",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.SymbolBoardEvent",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.SymbolClosingInformation",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.SymbolEvent",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Tick",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Tick.Side",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Timestamp",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TopNMembersPerSymbol",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TopPrice",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TradingResultOfForeignInvestor",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.TradingSchedule",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.VolatilityInterruption",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Wrapper",null,Kt);gt.exportSymbol("proto.proto.mdds.v1.Wrapper.KindCase",null,Kt);proto.proto.mdds.v1.Wrapper=function(t){_.Message.initialize(this,t,0,-1,null,proto.proto.mdds.v1.Wrapper.oneofGroups_)};gt.inherits(proto.proto.mdds.v1.Wrapper,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Wrapper.displayName="proto.proto.mdds.v1.Wrapper");proto.proto.mdds.v1.SecurityDefinition=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.SecurityDefinition,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityDefinition.displayName="proto.proto.mdds.v1.SecurityDefinition");proto.proto.mdds.v1.SecurityStatus=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.SecurityStatus,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityStatus.displayName="proto.proto.mdds.v1.SecurityStatus");proto.proto.mdds.v1.SecurityInformationNotification=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.SecurityInformationNotification,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SecurityInformationNotification.displayName="proto.proto.mdds.v1.SecurityInformationNotification");proto.proto.mdds.v1.SymbolClosingInformation=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.SymbolClosingInformation,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolClosingInformation.displayName="proto.proto.mdds.v1.SymbolClosingInformation");proto.proto.mdds.v1.VolatilityInterruption=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.VolatilityInterruption,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.VolatilityInterruption.displayName="proto.proto.mdds.v1.VolatilityInterruption");proto.proto.mdds.v1.MarketMakerInformation=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.MarketMakerInformation,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakerInformation.displayName="proto.proto.mdds.v1.MarketMakerInformation");proto.proto.mdds.v1.SymbolEvent=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.SymbolEvent,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolEvent.displayName="proto.proto.mdds.v1.SymbolEvent");proto.proto.mdds.v1.IndexConstituentsInformation=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.IndexConstituentsInformation,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.IndexConstituentsInformation.displayName="proto.proto.mdds.v1.IndexConstituentsInformation");proto.proto.mdds.v1.RandomEnd=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.RandomEnd,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.RandomEnd.displayName="proto.proto.mdds.v1.RandomEnd");proto.proto.mdds.v1.Price=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.Price,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Price.displayName="proto.proto.mdds.v1.Price");proto.proto.mdds.v1.PriceRecovery=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.PriceRecovery,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceRecovery.displayName="proto.proto.mdds.v1.PriceRecovery");proto.proto.mdds.v1.Index=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.Index,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Index.displayName="proto.proto.mdds.v1.Index");proto.proto.mdds.v1.InvestorPerIndustry=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.InvestorPerIndustry,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerIndustry.displayName="proto.proto.mdds.v1.InvestorPerIndustry");proto.proto.mdds.v1.InvestorPerSymbol=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.InvestorPerSymbol,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InvestorPerSymbol.displayName="proto.proto.mdds.v1.InvestorPerSymbol");proto.proto.mdds.v1.TopNMembersPerSymbol=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TopNMembersPerSymbol,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNMembersPerSymbol.displayName="proto.proto.mdds.v1.TopNMembersPerSymbol");proto.proto.mdds.v1.OpenInterest=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.OpenInterest,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.OpenInterest.displayName="proto.proto.mdds.v1.OpenInterest");proto.proto.mdds.v1.DeemTradePrice=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.DeemTradePrice,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DeemTradePrice.displayName="proto.proto.mdds.v1.DeemTradePrice");proto.proto.mdds.v1.ForeignerOrderLimit=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.ForeignerOrderLimit,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ForeignerOrderLimit.displayName="proto.proto.mdds.v1.ForeignerOrderLimit");proto.proto.mdds.v1.PriceLimitExpansion=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.PriceLimitExpansion,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.PriceLimitExpansion.displayName="proto.proto.mdds.v1.PriceLimitExpansion");proto.proto.mdds.v1.ETFiNav=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.ETFiNav,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiNav.displayName="proto.proto.mdds.v1.ETFiNav");proto.proto.mdds.v1.ETFiIndex=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.ETFiIndex,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFiIndex.displayName="proto.proto.mdds.v1.ETFiIndex");proto.proto.mdds.v1.ETFTrackingError=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.ETFTrackingError,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFTrackingError.displayName="proto.proto.mdds.v1.ETFTrackingError");proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.displayName="proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity");proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice");proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice");proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.displayName="proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice");proto.proto.mdds.v1.TradingResultOfForeignInvestor=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TradingResultOfForeignInvestor,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.displayName="proto.proto.mdds.v1.TradingResultOfForeignInvestor");proto.proto.mdds.v1.Disclosure=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.Disclosure,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Disclosure.displayName="proto.proto.mdds.v1.Disclosure");proto.proto.mdds.v1.DelistedInstrument=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.DelistedInstrument,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.DelistedInstrument.displayName="proto.proto.mdds.v1.DelistedInstrument");proto.proto.mdds.v1.CouponPaymentDate=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.CouponPaymentDate,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.CouponPaymentDate.displayName="proto.proto.mdds.v1.CouponPaymentDate");proto.proto.mdds.v1.ChangeOfContract=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.ChangeOfContract,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ChangeOfContract.displayName="proto.proto.mdds.v1.ChangeOfContract");proto.proto.mdds.v1.InstrumentDerivatives=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.InstrumentDerivatives,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentDerivatives.displayName="proto.proto.mdds.v1.InstrumentDerivatives");proto.proto.mdds.v1.InstrumentSBR=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.InstrumentSBR,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.InstrumentSBR.displayName="proto.proto.mdds.v1.InstrumentSBR");proto.proto.mdds.v1.TradingSchedule=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TradingSchedule,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TradingSchedule.displayName="proto.proto.mdds.v1.TradingSchedule");proto.proto.mdds.v1.Holiday=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.Holiday,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Holiday.displayName="proto.proto.mdds.v1.Holiday");proto.proto.mdds.v1.MemberTrader=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.MemberTrader,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MemberTrader.displayName="proto.proto.mdds.v1.MemberTrader");proto.proto.mdds.v1.MarketMakingContract=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.MarketMakingContract,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketMakingContract.displayName="proto.proto.mdds.v1.MarketMakingContract");proto.proto.mdds.v1.ETFIndexComposition=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.ETFIndexComposition,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ETFIndexComposition.displayName="proto.proto.mdds.v1.ETFIndexComposition");proto.proto.mdds.v1.ELWUnderlyingAssets=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.ELWUnderlyingAssets,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.ELWUnderlyingAssets.displayName="proto.proto.mdds.v1.ELWUnderlyingAssets");proto.proto.mdds.v1.StockInfo=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.StockInfo,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.StockInfo.displayName="proto.proto.mdds.v1.StockInfo");proto.proto.mdds.v1.MarketIndex=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.MarketIndex,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.MarketIndex.displayName="proto.proto.mdds.v1.MarketIndex");proto.proto.mdds.v1.BoardEvent=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.BoardEvent,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.BoardEvent.displayName="proto.proto.mdds.v1.BoardEvent");proto.proto.mdds.v1.SymbolBoardEvent=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.SymbolBoardEvent,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.SymbolBoardEvent.displayName="proto.proto.mdds.v1.SymbolBoardEvent");proto.proto.mdds.v1.Tick=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.Tick,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Tick.displayName="proto.proto.mdds.v1.Tick");proto.proto.mdds.v1.TopPrice=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.TopPrice,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.TopPrice.displayName="proto.proto.mdds.v1.TopPrice");proto.proto.mdds.v1.Timestamp=function(t){_.Message.initialize(this,t,0,-1,null,null)};gt.inherits(proto.proto.mdds.v1.Timestamp,_.Message);gt.DEBUG&&!COMPILED&&(proto.proto.mdds.v1.Timestamp.displayName="proto.proto.mdds.v1.Timestamp");proto.proto.mdds.v1.Wrapper.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]];proto.proto.mdds.v1.Wrapper.KindCase={KIND_NOT_SET:0,SECURITYDEFINITION:1,SECURITYSTATUS:2,SECURITYINFORMATIONNOTIFICATION:3,SYMBOLCLOSINGINFORMATION:4,VOLATILITYINTERRUPTION:5,MARKETMAKERINFORMATION:6,SYMBOLEVENT:7,INDEXCONSTITUENTSINFORMATION:8,RANDOMEND:9,PRICE:10,PRICERECOVERY:11,INDEX:12,INVESTORPERINDUSTRY:13,INVESTORPERSYMBOL:14,TOPNMEMBERSPERSYMBOL:15,OPENINTEREST:16,DEEMTRADEPRICE:17,FOREIGNERORDERLIMIT:18,PRICELIMITEXPANSION:19,ETFINAV:20,ETFIINDEX:21,ETFTRACKINGERROR:22,TOPNSYMBOLSWITHTRADINGQUANTITY:23,TOPNSYMBOLSWITHCURRENTPRICE:24,TOPNSYMBOLSWITHHIGHRATIOOFPRICE:25,TOPNSYMBOLSWITHLOWRATIOOFPRICE:26,TRADINGRESULTOFFOREIGNINVESTOR:27,DISCLOSURE:28,TIMESTAMP:29,DELISTEDINSTRUMENT:30,COUPONPAYMENTDATE:31,CHANGEOFCONTRACT:32,INSTRUMENTDERIVATIVES:33,INSTRUMENTSBR:34,TRADINGSCHEDULE:35,HOLIDAY:36,MEMBERTRADER:37,MARKETMAKINGCONTRACT:38,ETFINDEXCOMPOSITION:39,ELWUNDERLYINGASSETS:40,STOCKINFO:41,MARKETINDEX:42,BOARDEVENT:43,SYMBOLBOARDEVENT:44,TICK:45,TOPPRICE:46};proto.proto.mdds.v1.Wrapper.prototype.getKindCase=function(){return _.Message.computeOneofCase(this,proto.proto.mdds.v1.Wrapper.oneofGroups_[0])};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Wrapper.prototype.toObject=function(t){return proto.proto.mdds.v1.Wrapper.toObject(t,this)},proto.proto.mdds.v1.Wrapper.toObject=function(t,o){var e,p={securitydefinition:(e=o.getSecuritydefinition())&&proto.proto.mdds.v1.SecurityDefinition.toObject(t,e),securitystatus:(e=o.getSecuritystatus())&&proto.proto.mdds.v1.SecurityStatus.toObject(t,e),securityinformationnotification:(e=o.getSecurityinformationnotification())&&proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,e),symbolclosinginformation:(e=o.getSymbolclosinginformation())&&proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,e),volatilityinterruption:(e=o.getVolatilityinterruption())&&proto.proto.mdds.v1.VolatilityInterruption.toObject(t,e),marketmakerinformation:(e=o.getMarketmakerinformation())&&proto.proto.mdds.v1.MarketMakerInformation.toObject(t,e),symbolevent:(e=o.getSymbolevent())&&proto.proto.mdds.v1.SymbolEvent.toObject(t,e),indexconstituentsinformation:(e=o.getIndexconstituentsinformation())&&proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,e),randomend:(e=o.getRandomend())&&proto.proto.mdds.v1.RandomEnd.toObject(t,e),price:(e=o.getPrice())&&proto.proto.mdds.v1.Price.toObject(t,e),pricerecovery:(e=o.getPricerecovery())&&proto.proto.mdds.v1.PriceRecovery.toObject(t,e),index:(e=o.getIndex())&&proto.proto.mdds.v1.Index.toObject(t,e),investorperindustry:(e=o.getInvestorperindustry())&&proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,e),investorpersymbol:(e=o.getInvestorpersymbol())&&proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,e),topnmemberspersymbol:(e=o.getTopnmemberspersymbol())&&proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,e),openinterest:(e=o.getOpeninterest())&&proto.proto.mdds.v1.OpenInterest.toObject(t,e),deemtradeprice:(e=o.getDeemtradeprice())&&proto.proto.mdds.v1.DeemTradePrice.toObject(t,e),foreignerorderlimit:(e=o.getForeignerorderlimit())&&proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,e),pricelimitexpansion:(e=o.getPricelimitexpansion())&&proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,e),etfinav:(e=o.getEtfinav())&&proto.proto.mdds.v1.ETFiNav.toObject(t,e),etfiindex:(e=o.getEtfiindex())&&proto.proto.mdds.v1.ETFiIndex.toObject(t,e),etftrackingerror:(e=o.getEtftrackingerror())&&proto.proto.mdds.v1.ETFTrackingError.toObject(t,e),topnsymbolswithtradingquantity:(e=o.getTopnsymbolswithtradingquantity())&&proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,e),topnsymbolswithcurrentprice:(e=o.getTopnsymbolswithcurrentprice())&&proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,e),topnsymbolswithhighratioofprice:(e=o.getTopnsymbolswithhighratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,e),topnsymbolswithlowratioofprice:(e=o.getTopnsymbolswithlowratioofprice())&&proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,e),tradingresultofforeigninvestor:(e=o.getTradingresultofforeigninvestor())&&proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,e),disclosure:(e=o.getDisclosure())&&proto.proto.mdds.v1.Disclosure.toObject(t,e),timestamp:(e=o.getTimestamp())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),delistedinstrument:(e=o.getDelistedinstrument())&&proto.proto.mdds.v1.DelistedInstrument.toObject(t,e),couponpaymentdate:(e=o.getCouponpaymentdate())&&proto.proto.mdds.v1.CouponPaymentDate.toObject(t,e),changeofcontract:(e=o.getChangeofcontract())&&proto.proto.mdds.v1.ChangeOfContract.toObject(t,e),instrumentderivatives:(e=o.getInstrumentderivatives())&&proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,e),instrumentsbr:(e=o.getInstrumentsbr())&&proto.proto.mdds.v1.InstrumentSBR.toObject(t,e),tradingschedule:(e=o.getTradingschedule())&&proto.proto.mdds.v1.TradingSchedule.toObject(t,e),holiday:(e=o.getHoliday())&&proto.proto.mdds.v1.Holiday.toObject(t,e),membertrader:(e=o.getMembertrader())&&proto.proto.mdds.v1.MemberTrader.toObject(t,e),marketmakingcontract:(e=o.getMarketmakingcontract())&&proto.proto.mdds.v1.MarketMakingContract.toObject(t,e),etfindexcomposition:(e=o.getEtfindexcomposition())&&proto.proto.mdds.v1.ETFIndexComposition.toObject(t,e),elwunderlyingassets:(e=o.getElwunderlyingassets())&&proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,e),stockinfo:(e=o.getStockinfo())&&proto.proto.mdds.v1.StockInfo.toObject(t,e),marketindex:(e=o.getMarketindex())&&proto.proto.mdds.v1.MarketIndex.toObject(t,e),boardevent:(e=o.getBoardevent())&&proto.proto.mdds.v1.BoardEvent.toObject(t,e),symbolboardevent:(e=o.getSymbolboardevent())&&proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,e),tick:(e=o.getTick())&&proto.proto.mdds.v1.Tick.toObject(t,e),topprice:(e=o.getTopprice())&&proto.proto.mdds.v1.TopPrice.toObject(t,e)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Wrapper.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.Wrapper;return proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Wrapper.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=new proto.proto.mdds.v1.SecurityDefinition;o.readMessage(p,proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader),t.setSecuritydefinition(p);break;case 2:var p=new proto.proto.mdds.v1.SecurityStatus;o.readMessage(p,proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader),t.setSecuritystatus(p);break;case 3:var p=new proto.proto.mdds.v1.SecurityInformationNotification;o.readMessage(p,proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader),t.setSecurityinformationnotification(p);break;case 4:var p=new proto.proto.mdds.v1.SymbolClosingInformation;o.readMessage(p,proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader),t.setSymbolclosinginformation(p);break;case 5:var p=new proto.proto.mdds.v1.VolatilityInterruption;o.readMessage(p,proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader),t.setVolatilityinterruption(p);break;case 6:var p=new proto.proto.mdds.v1.MarketMakerInformation;o.readMessage(p,proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader),t.setMarketmakerinformation(p);break;case 7:var p=new proto.proto.mdds.v1.SymbolEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader),t.setSymbolevent(p);break;case 8:var p=new proto.proto.mdds.v1.IndexConstituentsInformation;o.readMessage(p,proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader),t.setIndexconstituentsinformation(p);break;case 9:var p=new proto.proto.mdds.v1.RandomEnd;o.readMessage(p,proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader),t.setRandomend(p);break;case 10:var p=new proto.proto.mdds.v1.Price;o.readMessage(p,proto.proto.mdds.v1.Price.deserializeBinaryFromReader),t.setPrice(p);break;case 11:var p=new proto.proto.mdds.v1.PriceRecovery;o.readMessage(p,proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader),t.setPricerecovery(p);break;case 12:var p=new proto.proto.mdds.v1.Index;o.readMessage(p,proto.proto.mdds.v1.Index.deserializeBinaryFromReader),t.setIndex(p);break;case 13:var p=new proto.proto.mdds.v1.InvestorPerIndustry;o.readMessage(p,proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader),t.setInvestorperindustry(p);break;case 14:var p=new proto.proto.mdds.v1.InvestorPerSymbol;o.readMessage(p,proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader),t.setInvestorpersymbol(p);break;case 15:var p=new proto.proto.mdds.v1.TopNMembersPerSymbol;o.readMessage(p,proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader),t.setTopnmemberspersymbol(p);break;case 16:var p=new proto.proto.mdds.v1.OpenInterest;o.readMessage(p,proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader),t.setOpeninterest(p);break;case 17:var p=new proto.proto.mdds.v1.DeemTradePrice;o.readMessage(p,proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader),t.setDeemtradeprice(p);break;case 18:var p=new proto.proto.mdds.v1.ForeignerOrderLimit;o.readMessage(p,proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader),t.setForeignerorderlimit(p);break;case 19:var p=new proto.proto.mdds.v1.PriceLimitExpansion;o.readMessage(p,proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader),t.setPricelimitexpansion(p);break;case 20:var p=new proto.proto.mdds.v1.ETFiNav;o.readMessage(p,proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader),t.setEtfinav(p);break;case 21:var p=new proto.proto.mdds.v1.ETFiIndex;o.readMessage(p,proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader),t.setEtfiindex(p);break;case 22:var p=new proto.proto.mdds.v1.ETFTrackingError;o.readMessage(p,proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader),t.setEtftrackingerror(p);break;case 23:var p=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader),t.setTopnsymbolswithtradingquantity(p);break;case 24:var p=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader),t.setTopnsymbolswithcurrentprice(p);break;case 25:var p=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithhighratioofprice(p);break;case 26:var p=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;o.readMessage(p,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader),t.setTopnsymbolswithlowratioofprice(p);break;case 27:var p=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;o.readMessage(p,proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader),t.setTradingresultofforeigninvestor(p);break;case 28:var p=new proto.proto.mdds.v1.Disclosure;o.readMessage(p,proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader),t.setDisclosure(p);break;case 29:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setTimestamp(p);break;case 30:var p=new proto.proto.mdds.v1.DelistedInstrument;o.readMessage(p,proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader),t.setDelistedinstrument(p);break;case 31:var p=new proto.proto.mdds.v1.CouponPaymentDate;o.readMessage(p,proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader),t.setCouponpaymentdate(p);break;case 32:var p=new proto.proto.mdds.v1.ChangeOfContract;o.readMessage(p,proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader),t.setChangeofcontract(p);break;case 33:var p=new proto.proto.mdds.v1.InstrumentDerivatives;o.readMessage(p,proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader),t.setInstrumentderivatives(p);break;case 34:var p=new proto.proto.mdds.v1.InstrumentSBR;o.readMessage(p,proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader),t.setInstrumentsbr(p);break;case 35:var p=new proto.proto.mdds.v1.TradingSchedule;o.readMessage(p,proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader),t.setTradingschedule(p);break;case 36:var p=new proto.proto.mdds.v1.Holiday;o.readMessage(p,proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader),t.setHoliday(p);break;case 37:var p=new proto.proto.mdds.v1.MemberTrader;o.readMessage(p,proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader),t.setMembertrader(p);break;case 38:var p=new proto.proto.mdds.v1.MarketMakingContract;o.readMessage(p,proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader),t.setMarketmakingcontract(p);break;case 39:var p=new proto.proto.mdds.v1.ETFIndexComposition;o.readMessage(p,proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader),t.setEtfindexcomposition(p);break;case 40:var p=new proto.proto.mdds.v1.ELWUnderlyingAssets;o.readMessage(p,proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader),t.setElwunderlyingassets(p);break;case 41:var p=new proto.proto.mdds.v1.StockInfo;o.readMessage(p,proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader),t.setStockinfo(p);break;case 42:var p=new proto.proto.mdds.v1.MarketIndex;o.readMessage(p,proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader),t.setMarketindex(p);break;case 43:var p=new proto.proto.mdds.v1.BoardEvent;o.readMessage(p,proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader),t.setBoardevent(p);break;case 44:var p=new proto.proto.mdds.v1.SymbolBoardEvent;o.readMessage(p,proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader),t.setSymbolboardevent(p);break;case 45:var p=new proto.proto.mdds.v1.Tick;o.readMessage(p,proto.proto.mdds.v1.Tick.deserializeBinaryFromReader),t.setTick(p);break;case 46:var p=new proto.proto.mdds.v1.TopPrice;o.readMessage(p,proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader),t.setTopprice(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Wrapper.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Wrapper.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSecuritydefinition(),e!=null&&o.writeMessage(1,e,proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter),e=t.getSecuritystatus(),e!=null&&o.writeMessage(2,e,proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter),e=t.getSecurityinformationnotification(),e!=null&&o.writeMessage(3,e,proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter),e=t.getSymbolclosinginformation(),e!=null&&o.writeMessage(4,e,proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter),e=t.getVolatilityinterruption(),e!=null&&o.writeMessage(5,e,proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter),e=t.getMarketmakerinformation(),e!=null&&o.writeMessage(6,e,proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter),e=t.getSymbolevent(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter),e=t.getIndexconstituentsinformation(),e!=null&&o.writeMessage(8,e,proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter),e=t.getRandomend(),e!=null&&o.writeMessage(9,e,proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter),e=t.getPrice(),e!=null&&o.writeMessage(10,e,proto.proto.mdds.v1.Price.serializeBinaryToWriter),e=t.getPricerecovery(),e!=null&&o.writeMessage(11,e,proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter),e=t.getIndex(),e!=null&&o.writeMessage(12,e,proto.proto.mdds.v1.Index.serializeBinaryToWriter),e=t.getInvestorperindustry(),e!=null&&o.writeMessage(13,e,proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter),e=t.getInvestorpersymbol(),e!=null&&o.writeMessage(14,e,proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter),e=t.getTopnmemberspersymbol(),e!=null&&o.writeMessage(15,e,proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter),e=t.getOpeninterest(),e!=null&&o.writeMessage(16,e,proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter),e=t.getDeemtradeprice(),e!=null&&o.writeMessage(17,e,proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter),e=t.getForeignerorderlimit(),e!=null&&o.writeMessage(18,e,proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter),e=t.getPricelimitexpansion(),e!=null&&o.writeMessage(19,e,proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter),e=t.getEtfinav(),e!=null&&o.writeMessage(20,e,proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter),e=t.getEtfiindex(),e!=null&&o.writeMessage(21,e,proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter),e=t.getEtftrackingerror(),e!=null&&o.writeMessage(22,e,proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter),e=t.getTopnsymbolswithtradingquantity(),e!=null&&o.writeMessage(23,e,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter),e=t.getTopnsymbolswithcurrentprice(),e!=null&&o.writeMessage(24,e,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithhighratioofprice(),e!=null&&o.writeMessage(25,e,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter),e=t.getTopnsymbolswithlowratioofprice(),e!=null&&o.writeMessage(26,e,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter),e=t.getTradingresultofforeigninvestor(),e!=null&&o.writeMessage(27,e,proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter),e=t.getDisclosure(),e!=null&&o.writeMessage(28,e,proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter),e=t.getTimestamp(),e!=null&&o.writeMessage(29,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getDelistedinstrument(),e!=null&&o.writeMessage(30,e,proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter),e=t.getCouponpaymentdate(),e!=null&&o.writeMessage(31,e,proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter),e=t.getChangeofcontract(),e!=null&&o.writeMessage(32,e,proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter),e=t.getInstrumentderivatives(),e!=null&&o.writeMessage(33,e,proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter),e=t.getInstrumentsbr(),e!=null&&o.writeMessage(34,e,proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter),e=t.getTradingschedule(),e!=null&&o.writeMessage(35,e,proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter),e=t.getHoliday(),e!=null&&o.writeMessage(36,e,proto.proto.mdds.v1.Holiday.serializeBinaryToWriter),e=t.getMembertrader(),e!=null&&o.writeMessage(37,e,proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter),e=t.getMarketmakingcontract(),e!=null&&o.writeMessage(38,e,proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter),e=t.getEtfindexcomposition(),e!=null&&o.writeMessage(39,e,proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter),e=t.getElwunderlyingassets(),e!=null&&o.writeMessage(40,e,proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter),e=t.getStockinfo(),e!=null&&o.writeMessage(41,e,proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter),e=t.getMarketindex(),e!=null&&o.writeMessage(42,e,proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter),e=t.getBoardevent(),e!=null&&o.writeMessage(43,e,proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter),e=t.getSymbolboardevent(),e!=null&&o.writeMessage(44,e,proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter),e=t.getTick(),e!=null&&o.writeMessage(45,e,proto.proto.mdds.v1.Tick.serializeBinaryToWriter),e=t.getTopprice(),e!=null&&o.writeMessage(46,e,proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter)};proto.proto.mdds.v1.Wrapper.prototype.getSecuritydefinition=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityDefinition,1)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritydefinition=function(t){return _.Message.setOneofWrapperField(this,1,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritydefinition=function(){return this.setSecuritydefinition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritydefinition=function(){return _.Message.getField(this,1)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecuritystatus=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityStatus,2)};proto.proto.mdds.v1.Wrapper.prototype.setSecuritystatus=function(t){return _.Message.setOneofWrapperField(this,2,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecuritystatus=function(){return this.setSecuritystatus(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecuritystatus=function(){return _.Message.getField(this,2)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSecurityinformationnotification=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.SecurityInformationNotification,3)};proto.proto.mdds.v1.Wrapper.prototype.setSecurityinformationnotification=function(t){return _.Message.setOneofWrapperField(this,3,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSecurityinformationnotification=function(){return this.setSecurityinformationnotification(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSecurityinformationnotification=function(){return _.Message.getField(this,3)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolclosinginformation=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolClosingInformation,4)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolclosinginformation=function(t){return _.Message.setOneofWrapperField(this,4,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolclosinginformation=function(){return this.setSymbolclosinginformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolclosinginformation=function(){return _.Message.getField(this,4)!=null};proto.proto.mdds.v1.Wrapper.prototype.getVolatilityinterruption=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.VolatilityInterruption,5)};proto.proto.mdds.v1.Wrapper.prototype.setVolatilityinterruption=function(t){return _.Message.setOneofWrapperField(this,5,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearVolatilityinterruption=function(){return this.setVolatilityinterruption(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasVolatilityinterruption=function(){return _.Message.getField(this,5)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakerinformation=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakerInformation,6)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakerinformation=function(t){return _.Message.setOneofWrapperField(this,6,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakerinformation=function(){return this.setMarketmakerinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakerinformation=function(){return _.Message.getField(this,6)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolevent=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolEvent,7)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolevent=function(t){return _.Message.setOneofWrapperField(this,7,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolevent=function(){return this.setSymbolevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolevent=function(){return _.Message.getField(this,7)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndexconstituentsinformation=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.IndexConstituentsInformation,8)};proto.proto.mdds.v1.Wrapper.prototype.setIndexconstituentsinformation=function(t){return _.Message.setOneofWrapperField(this,8,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndexconstituentsinformation=function(){return this.setIndexconstituentsinformation(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndexconstituentsinformation=function(){return _.Message.getField(this,8)!=null};proto.proto.mdds.v1.Wrapper.prototype.getRandomend=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.RandomEnd,9)};proto.proto.mdds.v1.Wrapper.prototype.setRandomend=function(t){return _.Message.setOneofWrapperField(this,9,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearRandomend=function(){return this.setRandomend(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasRandomend=function(){return _.Message.getField(this,9)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPrice=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.Price,10)};proto.proto.mdds.v1.Wrapper.prototype.setPrice=function(t){return _.Message.setOneofWrapperField(this,10,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPrice=function(){return this.setPrice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPrice=function(){return _.Message.getField(this,10)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricerecovery=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.PriceRecovery,11)};proto.proto.mdds.v1.Wrapper.prototype.setPricerecovery=function(t){return _.Message.setOneofWrapperField(this,11,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricerecovery=function(){return this.setPricerecovery(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricerecovery=function(){return _.Message.getField(this,11)!=null};proto.proto.mdds.v1.Wrapper.prototype.getIndex=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.Index,12)};proto.proto.mdds.v1.Wrapper.prototype.setIndex=function(t){return _.Message.setOneofWrapperField(this,12,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearIndex=function(){return this.setIndex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasIndex=function(){return _.Message.getField(this,12)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorperindustry=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerIndustry,13)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorperindustry=function(t){return _.Message.setOneofWrapperField(this,13,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorperindustry=function(){return this.setInvestorperindustry(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorperindustry=function(){return _.Message.getField(this,13)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInvestorpersymbol=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.InvestorPerSymbol,14)};proto.proto.mdds.v1.Wrapper.prototype.setInvestorpersymbol=function(t){return _.Message.setOneofWrapperField(this,14,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInvestorpersymbol=function(){return this.setInvestorpersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInvestorpersymbol=function(){return _.Message.getField(this,14)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnmemberspersymbol=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TopNMembersPerSymbol,15)};proto.proto.mdds.v1.Wrapper.prototype.setTopnmemberspersymbol=function(t){return _.Message.setOneofWrapperField(this,15,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnmemberspersymbol=function(){return this.setTopnmemberspersymbol(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnmemberspersymbol=function(){return _.Message.getField(this,15)!=null};proto.proto.mdds.v1.Wrapper.prototype.getOpeninterest=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.OpenInterest,16)};proto.proto.mdds.v1.Wrapper.prototype.setOpeninterest=function(t){return _.Message.setOneofWrapperField(this,16,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearOpeninterest=function(){return this.setOpeninterest(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasOpeninterest=function(){return _.Message.getField(this,16)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDeemtradeprice=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.DeemTradePrice,17)};proto.proto.mdds.v1.Wrapper.prototype.setDeemtradeprice=function(t){return _.Message.setOneofWrapperField(this,17,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDeemtradeprice=function(){return this.setDeemtradeprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDeemtradeprice=function(){return _.Message.getField(this,17)!=null};proto.proto.mdds.v1.Wrapper.prototype.getForeignerorderlimit=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.ForeignerOrderLimit,18)};proto.proto.mdds.v1.Wrapper.prototype.setForeignerorderlimit=function(t){return _.Message.setOneofWrapperField(this,18,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearForeignerorderlimit=function(){return this.setForeignerorderlimit(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasForeignerorderlimit=function(){return _.Message.getField(this,18)!=null};proto.proto.mdds.v1.Wrapper.prototype.getPricelimitexpansion=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.PriceLimitExpansion,19)};proto.proto.mdds.v1.Wrapper.prototype.setPricelimitexpansion=function(t){return _.Message.setOneofWrapperField(this,19,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearPricelimitexpansion=function(){return this.setPricelimitexpansion(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasPricelimitexpansion=function(){return _.Message.getField(this,19)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfinav=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiNav,20)};proto.proto.mdds.v1.Wrapper.prototype.setEtfinav=function(t){return _.Message.setOneofWrapperField(this,20,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfinav=function(){return this.setEtfinav(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfinav=function(){return _.Message.getField(this,20)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfiindex=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.ETFiIndex,21)};proto.proto.mdds.v1.Wrapper.prototype.setEtfiindex=function(t){return _.Message.setOneofWrapperField(this,21,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfiindex=function(){return this.setEtfiindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfiindex=function(){return _.Message.getField(this,21)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtftrackingerror=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.ETFTrackingError,22)};proto.proto.mdds.v1.Wrapper.prototype.setEtftrackingerror=function(t){return _.Message.setOneofWrapperField(this,22,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtftrackingerror=function(){return this.setEtftrackingerror(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtftrackingerror=function(){return _.Message.getField(this,22)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithtradingquantity=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity,23)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithtradingquantity=function(t){return _.Message.setOneofWrapperField(this,23,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithtradingquantity=function(){return this.setTopnsymbolswithtradingquantity(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithtradingquantity=function(){return _.Message.getField(this,23)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithcurrentprice=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice,24)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithcurrentprice=function(t){return _.Message.setOneofWrapperField(this,24,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithcurrentprice=function(){return this.setTopnsymbolswithcurrentprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithcurrentprice=function(){return _.Message.getField(this,24)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithhighratioofprice=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice,25)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithhighratioofprice=function(t){return _.Message.setOneofWrapperField(this,25,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithhighratioofprice=function(){return this.setTopnsymbolswithhighratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithhighratioofprice=function(){return _.Message.getField(this,25)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopnsymbolswithlowratioofprice=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice,26)};proto.proto.mdds.v1.Wrapper.prototype.setTopnsymbolswithlowratioofprice=function(t){return _.Message.setOneofWrapperField(this,26,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopnsymbolswithlowratioofprice=function(){return this.setTopnsymbolswithlowratioofprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopnsymbolswithlowratioofprice=function(){return _.Message.getField(this,26)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingresultofforeigninvestor=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TradingResultOfForeignInvestor,27)};proto.proto.mdds.v1.Wrapper.prototype.setTradingresultofforeigninvestor=function(t){return _.Message.setOneofWrapperField(this,27,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingresultofforeigninvestor=function(){return this.setTradingresultofforeigninvestor(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingresultofforeigninvestor=function(){return _.Message.getField(this,27)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDisclosure=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.Disclosure,28)};proto.proto.mdds.v1.Wrapper.prototype.setDisclosure=function(t){return _.Message.setOneofWrapperField(this,28,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDisclosure=function(){return this.setDisclosure(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDisclosure=function(){return _.Message.getField(this,28)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTimestamp=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,29)};proto.proto.mdds.v1.Wrapper.prototype.setTimestamp=function(t){return _.Message.setOneofWrapperField(this,29,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTimestamp=function(){return this.setTimestamp(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTimestamp=function(){return _.Message.getField(this,29)!=null};proto.proto.mdds.v1.Wrapper.prototype.getDelistedinstrument=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.DelistedInstrument,30)};proto.proto.mdds.v1.Wrapper.prototype.setDelistedinstrument=function(t){return _.Message.setOneofWrapperField(this,30,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearDelistedinstrument=function(){return this.setDelistedinstrument(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasDelistedinstrument=function(){return _.Message.getField(this,30)!=null};proto.proto.mdds.v1.Wrapper.prototype.getCouponpaymentdate=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.CouponPaymentDate,31)};proto.proto.mdds.v1.Wrapper.prototype.setCouponpaymentdate=function(t){return _.Message.setOneofWrapperField(this,31,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearCouponpaymentdate=function(){return this.setCouponpaymentdate(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasCouponpaymentdate=function(){return _.Message.getField(this,31)!=null};proto.proto.mdds.v1.Wrapper.prototype.getChangeofcontract=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.ChangeOfContract,32)};proto.proto.mdds.v1.Wrapper.prototype.setChangeofcontract=function(t){return _.Message.setOneofWrapperField(this,32,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearChangeofcontract=function(){return this.setChangeofcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasChangeofcontract=function(){return _.Message.getField(this,32)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentderivatives=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentDerivatives,33)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentderivatives=function(t){return _.Message.setOneofWrapperField(this,33,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentderivatives=function(){return this.setInstrumentderivatives(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentderivatives=function(){return _.Message.getField(this,33)!=null};proto.proto.mdds.v1.Wrapper.prototype.getInstrumentsbr=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.InstrumentSBR,34)};proto.proto.mdds.v1.Wrapper.prototype.setInstrumentsbr=function(t){return _.Message.setOneofWrapperField(this,34,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearInstrumentsbr=function(){return this.setInstrumentsbr(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasInstrumentsbr=function(){return _.Message.getField(this,34)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTradingschedule=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TradingSchedule,35)};proto.proto.mdds.v1.Wrapper.prototype.setTradingschedule=function(t){return _.Message.setOneofWrapperField(this,35,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTradingschedule=function(){return this.setTradingschedule(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTradingschedule=function(){return _.Message.getField(this,35)!=null};proto.proto.mdds.v1.Wrapper.prototype.getHoliday=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.Holiday,36)};proto.proto.mdds.v1.Wrapper.prototype.setHoliday=function(t){return _.Message.setOneofWrapperField(this,36,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearHoliday=function(){return this.setHoliday(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasHoliday=function(){return _.Message.getField(this,36)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMembertrader=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.MemberTrader,37)};proto.proto.mdds.v1.Wrapper.prototype.setMembertrader=function(t){return _.Message.setOneofWrapperField(this,37,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMembertrader=function(){return this.setMembertrader(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMembertrader=function(){return _.Message.getField(this,37)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketmakingcontract=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.MarketMakingContract,38)};proto.proto.mdds.v1.Wrapper.prototype.setMarketmakingcontract=function(t){return _.Message.setOneofWrapperField(this,38,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketmakingcontract=function(){return this.setMarketmakingcontract(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketmakingcontract=function(){return _.Message.getField(this,38)!=null};proto.proto.mdds.v1.Wrapper.prototype.getEtfindexcomposition=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.ETFIndexComposition,39)};proto.proto.mdds.v1.Wrapper.prototype.setEtfindexcomposition=function(t){return _.Message.setOneofWrapperField(this,39,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearEtfindexcomposition=function(){return this.setEtfindexcomposition(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasEtfindexcomposition=function(){return _.Message.getField(this,39)!=null};proto.proto.mdds.v1.Wrapper.prototype.getElwunderlyingassets=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.ELWUnderlyingAssets,40)};proto.proto.mdds.v1.Wrapper.prototype.setElwunderlyingassets=function(t){return _.Message.setOneofWrapperField(this,40,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearElwunderlyingassets=function(){return this.setElwunderlyingassets(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasElwunderlyingassets=function(){return _.Message.getField(this,40)!=null};proto.proto.mdds.v1.Wrapper.prototype.getStockinfo=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.StockInfo,41)};proto.proto.mdds.v1.Wrapper.prototype.setStockinfo=function(t){return _.Message.setOneofWrapperField(this,41,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearStockinfo=function(){return this.setStockinfo(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasStockinfo=function(){return _.Message.getField(this,41)!=null};proto.proto.mdds.v1.Wrapper.prototype.getMarketindex=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.MarketIndex,42)};proto.proto.mdds.v1.Wrapper.prototype.setMarketindex=function(t){return _.Message.setOneofWrapperField(this,42,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearMarketindex=function(){return this.setMarketindex(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasMarketindex=function(){return _.Message.getField(this,42)!=null};proto.proto.mdds.v1.Wrapper.prototype.getBoardevent=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.BoardEvent,43)};proto.proto.mdds.v1.Wrapper.prototype.setBoardevent=function(t){return _.Message.setOneofWrapperField(this,43,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearBoardevent=function(){return this.setBoardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasBoardevent=function(){return _.Message.getField(this,43)!=null};proto.proto.mdds.v1.Wrapper.prototype.getSymbolboardevent=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.SymbolBoardEvent,44)};proto.proto.mdds.v1.Wrapper.prototype.setSymbolboardevent=function(t){return _.Message.setOneofWrapperField(this,44,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearSymbolboardevent=function(){return this.setSymbolboardevent(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasSymbolboardevent=function(){return _.Message.getField(this,44)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTick=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.Tick,45)};proto.proto.mdds.v1.Wrapper.prototype.setTick=function(t){return _.Message.setOneofWrapperField(this,45,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTick=function(){return this.setTick(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTick=function(){return _.Message.getField(this,45)!=null};proto.proto.mdds.v1.Wrapper.prototype.getTopprice=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.TopPrice,46)};proto.proto.mdds.v1.Wrapper.prototype.setTopprice=function(t){return _.Message.setOneofWrapperField(this,46,proto.proto.mdds.v1.Wrapper.oneofGroups_[0],t)};proto.proto.mdds.v1.Wrapper.prototype.clearTopprice=function(){return this.setTopprice(void 0)};proto.proto.mdds.v1.Wrapper.prototype.hasTopprice=function(){return _.Message.getField(this,46)!=null};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityDefinition.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityDefinition.toObject(t,this)},proto.proto.mdds.v1.SecurityDefinition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityDefinition.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityDefinition;return proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityDefinition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityDefinition.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityDefinition.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityStatus.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityStatus.toObject(t,this)},proto.proto.mdds.v1.SecurityStatus.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityStatus.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityStatus;return proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityStatus.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityStatus.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityStatus.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SecurityInformationNotification.prototype.toObject=function(t){return proto.proto.mdds.v1.SecurityInformationNotification.toObject(t,this)},proto.proto.mdds.v1.SecurityInformationNotification.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.SecurityInformationNotification;return proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SecurityInformationNotification.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SecurityInformationNotification.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SecurityInformationNotification.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolClosingInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolClosingInformation.toObject(t,this)},proto.proto.mdds.v1.SymbolClosingInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolClosingInformation;return proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolClosingInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolClosingInformation.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolClosingInformation.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.VolatilityInterruption.prototype.toObject=function(t){return proto.proto.mdds.v1.VolatilityInterruption.toObject(t,this)},proto.proto.mdds.v1.VolatilityInterruption.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.VolatilityInterruption.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.VolatilityInterruption;return proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.VolatilityInterruption.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.VolatilityInterruption.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.VolatilityInterruption.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakerInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakerInformation.toObject(t,this)},proto.proto.mdds.v1.MarketMakerInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakerInformation.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakerInformation;return proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakerInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakerInformation.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakerInformation.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolEvent.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolEvent;return proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolEvent.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolEvent.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.IndexConstituentsInformation.prototype.toObject=function(t){return proto.proto.mdds.v1.IndexConstituentsInformation.toObject(t,this)},proto.proto.mdds.v1.IndexConstituentsInformation.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.IndexConstituentsInformation;return proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.IndexConstituentsInformation.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.IndexConstituentsInformation.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.IndexConstituentsInformation.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.RandomEnd.prototype.toObject=function(t){return proto.proto.mdds.v1.RandomEnd.toObject(t,this)},proto.proto.mdds.v1.RandomEnd.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.RandomEnd.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.RandomEnd;return proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.RandomEnd.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.RandomEnd.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.RandomEnd.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Price.prototype.toObject=function(t){return proto.proto.mdds.v1.Price.toObject(t,this)},proto.proto.mdds.v1.Price.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Price.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.Price;return proto.proto.mdds.v1.Price.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Price.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Price.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.Price.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Price.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceRecovery.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceRecovery.toObject(t,this)},proto.proto.mdds.v1.PriceRecovery.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceRecovery.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.PriceRecovery;return proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceRecovery.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceRecovery.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceRecovery.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Index.prototype.toObject=function(t){return proto.proto.mdds.v1.Index.toObject(t,this)},proto.proto.mdds.v1.Index.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Index.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.Index;return proto.proto.mdds.v1.Index.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Index.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Index.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.Index.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Index.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerIndustry.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerIndustry.toObject(t,this)},proto.proto.mdds.v1.InvestorPerIndustry.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerIndustry;return proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerIndustry.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerIndustry.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerIndustry.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InvestorPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.InvestorPerSymbol.toObject(t,this)},proto.proto.mdds.v1.InvestorPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.InvestorPerSymbol;return proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InvestorPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InvestorPerSymbol.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InvestorPerSymbol.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNMembersPerSymbol.toObject(t,this)},proto.proto.mdds.v1.TopNMembersPerSymbol.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TopNMembersPerSymbol;return proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNMembersPerSymbol.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNMembersPerSymbol.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNMembersPerSymbol.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.OpenInterest.prototype.toObject=function(t){return proto.proto.mdds.v1.OpenInterest.toObject(t,this)},proto.proto.mdds.v1.OpenInterest.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.OpenInterest.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.OpenInterest;return proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.OpenInterest.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.OpenInterest.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.OpenInterest.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DeemTradePrice.prototype.toObject=function(t){return proto.proto.mdds.v1.DeemTradePrice.toObject(t,this)},proto.proto.mdds.v1.DeemTradePrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DeemTradePrice.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.DeemTradePrice;return proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DeemTradePrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DeemTradePrice.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DeemTradePrice.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ForeignerOrderLimit.prototype.toObject=function(t){return proto.proto.mdds.v1.ForeignerOrderLimit.toObject(t,this)},proto.proto.mdds.v1.ForeignerOrderLimit.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.ForeignerOrderLimit;return proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ForeignerOrderLimit.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ForeignerOrderLimit.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ForeignerOrderLimit.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.PriceLimitExpansion.prototype.toObject=function(t){return proto.proto.mdds.v1.PriceLimitExpansion.toObject(t,this)},proto.proto.mdds.v1.PriceLimitExpansion.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.PriceLimitExpansion;return proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.PriceLimitExpansion.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.PriceLimitExpansion.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.PriceLimitExpansion.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiNav.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiNav.toObject(t,this)},proto.proto.mdds.v1.ETFiNav.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiNav.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiNav;return proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiNav.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiNav.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiNav.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFiIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFiIndex.toObject(t,this)},proto.proto.mdds.v1.ETFiIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFiIndex.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.ETFiIndex;return proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFiIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFiIndex.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFiIndex.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFTrackingError.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFTrackingError.toObject(t,this)},proto.proto.mdds.v1.ETFTrackingError.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFTrackingError.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.ETFTrackingError;return proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFTrackingError.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFTrackingError.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFTrackingError.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithTradingQuantity.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithCurrentPrice.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithHighRatioOfPrice.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject(t,this)},proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopNSymbolsWithLowRatioOfPrice.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject(t,this)},proto.proto.mdds.v1.TradingResultOfForeignInvestor.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TradingResultOfForeignInvestor;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingResultOfForeignInvestor.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingResultOfForeignInvestor.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingResultOfForeignInvestor.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Disclosure.prototype.toObject=function(t){return proto.proto.mdds.v1.Disclosure.toObject(t,this)},proto.proto.mdds.v1.Disclosure.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Disclosure.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.Disclosure;return proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Disclosure.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Disclosure.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Disclosure.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.DelistedInstrument.prototype.toObject=function(t){return proto.proto.mdds.v1.DelistedInstrument.toObject(t,this)},proto.proto.mdds.v1.DelistedInstrument.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.DelistedInstrument.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.DelistedInstrument;return proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.DelistedInstrument.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.DelistedInstrument.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.DelistedInstrument.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.CouponPaymentDate.prototype.toObject=function(t){return proto.proto.mdds.v1.CouponPaymentDate.toObject(t,this)},proto.proto.mdds.v1.CouponPaymentDate.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.CouponPaymentDate.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.CouponPaymentDate;return proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.CouponPaymentDate.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.CouponPaymentDate.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.CouponPaymentDate.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ChangeOfContract.prototype.toObject=function(t){return proto.proto.mdds.v1.ChangeOfContract.toObject(t,this)},proto.proto.mdds.v1.ChangeOfContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ChangeOfContract.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.ChangeOfContract;return proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ChangeOfContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ChangeOfContract.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ChangeOfContract.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentDerivatives.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentDerivatives.toObject(t,this)},proto.proto.mdds.v1.InstrumentDerivatives.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentDerivatives;return proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentDerivatives.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentDerivatives.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentDerivatives.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.InstrumentSBR.prototype.toObject=function(t){return proto.proto.mdds.v1.InstrumentSBR.toObject(t,this)},proto.proto.mdds.v1.InstrumentSBR.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.InstrumentSBR.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.InstrumentSBR;return proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.InstrumentSBR.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.InstrumentSBR.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.InstrumentSBR.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TradingSchedule.prototype.toObject=function(t){return proto.proto.mdds.v1.TradingSchedule.toObject(t,this)},proto.proto.mdds.v1.TradingSchedule.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TradingSchedule.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TradingSchedule;return proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TradingSchedule.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TradingSchedule.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TradingSchedule.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Holiday.prototype.toObject=function(t){return proto.proto.mdds.v1.Holiday.toObject(t,this)},proto.proto.mdds.v1.Holiday.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Holiday.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.Holiday;return proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Holiday.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.Holiday.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.Holiday.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Holiday.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MemberTrader.prototype.toObject=function(t){return proto.proto.mdds.v1.MemberTrader.toObject(t,this)},proto.proto.mdds.v1.MemberTrader.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MemberTrader.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.MemberTrader;return proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MemberTrader.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MemberTrader.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MemberTrader.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketMakingContract.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketMakingContract.toObject(t,this)},proto.proto.mdds.v1.MarketMakingContract.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketMakingContract.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.MarketMakingContract;return proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketMakingContract.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketMakingContract.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketMakingContract.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ETFIndexComposition.prototype.toObject=function(t){return proto.proto.mdds.v1.ETFIndexComposition.toObject(t,this)},proto.proto.mdds.v1.ETFIndexComposition.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ETFIndexComposition.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.ETFIndexComposition;return proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ETFIndexComposition.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ETFIndexComposition.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ETFIndexComposition.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.toObject=function(t){return proto.proto.mdds.v1.ELWUnderlyingAssets.toObject(t,this)},proto.proto.mdds.v1.ELWUnderlyingAssets.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.ELWUnderlyingAssets;return proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.ELWUnderlyingAssets.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.ELWUnderlyingAssets.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.ELWUnderlyingAssets.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.StockInfo.prototype.toObject=function(t){return proto.proto.mdds.v1.StockInfo.toObject(t,this)},proto.proto.mdds.v1.StockInfo.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.StockInfo.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.StockInfo;return proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.StockInfo.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.StockInfo.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.StockInfo.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.MarketIndex.prototype.toObject=function(t){return proto.proto.mdds.v1.MarketIndex.toObject(t,this)},proto.proto.mdds.v1.MarketIndex.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.MarketIndex.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.MarketIndex;return proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.MarketIndex.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.MarketIndex.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.MarketIndex.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.BoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.BoardEvent.toObject(t,this)},proto.proto.mdds.v1.BoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.BoardEvent.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.BoardEvent;return proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.BoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.BoardEvent.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.BoardEvent.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.SymbolBoardEvent.prototype.toObject=function(t){return proto.proto.mdds.v1.SymbolBoardEvent.toObject(t,this)},proto.proto.mdds.v1.SymbolBoardEvent.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.SymbolBoardEvent;return proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.SymbolBoardEvent.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.SymbolBoardEvent.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.SymbolBoardEvent.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Tick.prototype.toObject=function(t){return proto.proto.mdds.v1.Tick.toObject(t,this)},proto.proto.mdds.v1.Tick.toObject=function(t,o){var e,p={marketid:_.Message.getFieldWithDefault(o,1,0),boardid:_.Message.getFieldWithDefault(o,2,0),isin:_.Message.getFieldWithDefault(o,3,""),symbol:_.Message.getFieldWithDefault(o,4,""),matchprice:_.Message.getFloatingPointFieldWithDefault(o,5,0),matchqtty:_.Message.getFloatingPointFieldWithDefault(o,6,0),sendingtime:(e=o.getSendingtime())&&proto.proto.mdds.v1.Timestamp.toObject(t,e),boardidoriginal:_.Message.getFieldWithDefault(o,8,0),tradingsessionid:_.Message.getFieldWithDefault(o,9,0),totalvolumetraded:_.Message.getFieldWithDefault(o,10,0),grosstradeamount:_.Message.getFloatingPointFieldWithDefault(o,11,0),side:_.Message.getFieldWithDefault(o,12,0)};return t&&(p.$jspbMessageInstance=o),p});proto.proto.mdds.v1.Tick.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.Tick;return proto.proto.mdds.v1.Tick.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Tick.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt32();t.setMarketid(p);break;case 2:var p=o.readInt32();t.setBoardid(p);break;case 3:var p=o.readString();t.setIsin(p);break;case 4:var p=o.readString();t.setSymbol(p);break;case 5:var p=o.readDouble();t.setMatchprice(p);break;case 6:var p=o.readDouble();t.setMatchqtty(p);break;case 7:var p=new proto.proto.mdds.v1.Timestamp;o.readMessage(p,proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader),t.setSendingtime(p);break;case 8:var p=o.readInt32();t.setBoardidoriginal(p);break;case 9:var p=o.readInt32();t.setTradingsessionid(p);break;case 10:var p=o.readUint64();t.setTotalvolumetraded(p);break;case 11:var p=o.readDouble();t.setGrosstradeamount(p);break;case 12:var p=o.readEnum();t.setSide(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Tick.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.Tick.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Tick.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getMarketid(),e!==0&&o.writeInt32(1,e),e=t.getBoardid(),e!==0&&o.writeInt32(2,e),e=t.getIsin(),e.length>0&&o.writeString(3,e),e=t.getSymbol(),e.length>0&&o.writeString(4,e),e=t.getMatchprice(),e!==0&&o.writeDouble(5,e),e=t.getMatchqtty(),e!==0&&o.writeDouble(6,e),e=t.getSendingtime(),e!=null&&o.writeMessage(7,e,proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter),e=t.getBoardidoriginal(),e!==0&&o.writeInt32(8,e),e=t.getTradingsessionid(),e!==0&&o.writeInt32(9,e),e=t.getTotalvolumetraded(),e!==0&&o.writeUint64(10,e),e=t.getGrosstradeamount(),e!==0&&o.writeDouble(11,e),e=t.getSide(),e!==0&&o.writeEnum(12,e)};proto.proto.mdds.v1.Tick.Side={SIDE_UNSPECIFIED:0,SIDE_BUY:1,SIDE_SELL:2};proto.proto.mdds.v1.Tick.prototype.getMarketid=function(){return _.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Tick.prototype.setMarketid=function(t){return _.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Tick.prototype.getBoardid=function(){return _.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Tick.prototype.setBoardid=function(t){return _.Message.setProto3IntField(this,2,t)};proto.proto.mdds.v1.Tick.prototype.getIsin=function(){return _.Message.getFieldWithDefault(this,3,"")};proto.proto.mdds.v1.Tick.prototype.setIsin=function(t){return _.Message.setProto3StringField(this,3,t)};proto.proto.mdds.v1.Tick.prototype.getSymbol=function(){return _.Message.getFieldWithDefault(this,4,"")};proto.proto.mdds.v1.Tick.prototype.setSymbol=function(t){return _.Message.setProto3StringField(this,4,t)};proto.proto.mdds.v1.Tick.prototype.getMatchprice=function(){return _.Message.getFloatingPointFieldWithDefault(this,5,0)};proto.proto.mdds.v1.Tick.prototype.setMatchprice=function(t){return _.Message.setProto3FloatField(this,5,t)};proto.proto.mdds.v1.Tick.prototype.getMatchqtty=function(){return _.Message.getFloatingPointFieldWithDefault(this,6,0)};proto.proto.mdds.v1.Tick.prototype.setMatchqtty=function(t){return _.Message.setProto3FloatField(this,6,t)};proto.proto.mdds.v1.Tick.prototype.getSendingtime=function(){return _.Message.getWrapperField(this,proto.proto.mdds.v1.Timestamp,7)};proto.proto.mdds.v1.Tick.prototype.setSendingtime=function(t){return _.Message.setWrapperField(this,7,t)};proto.proto.mdds.v1.Tick.prototype.clearSendingtime=function(){return this.setSendingtime(void 0)};proto.proto.mdds.v1.Tick.prototype.hasSendingtime=function(){return _.Message.getField(this,7)!=null};proto.proto.mdds.v1.Tick.prototype.getBoardidoriginal=function(){return _.Message.getFieldWithDefault(this,8,0)};proto.proto.mdds.v1.Tick.prototype.setBoardidoriginal=function(t){return _.Message.setProto3IntField(this,8,t)};proto.proto.mdds.v1.Tick.prototype.getTradingsessionid=function(){return _.Message.getFieldWithDefault(this,9,0)};proto.proto.mdds.v1.Tick.prototype.setTradingsessionid=function(t){return _.Message.setProto3IntField(this,9,t)};proto.proto.mdds.v1.Tick.prototype.getTotalvolumetraded=function(){return _.Message.getFieldWithDefault(this,10,0)};proto.proto.mdds.v1.Tick.prototype.setTotalvolumetraded=function(t){return _.Message.setProto3IntField(this,10,t)};proto.proto.mdds.v1.Tick.prototype.getGrosstradeamount=function(){return _.Message.getFloatingPointFieldWithDefault(this,11,0)};proto.proto.mdds.v1.Tick.prototype.setGrosstradeamount=function(t){return _.Message.setProto3FloatField(this,11,t)};proto.proto.mdds.v1.Tick.prototype.getSide=function(){return _.Message.getFieldWithDefault(this,12,0)};proto.proto.mdds.v1.Tick.prototype.setSide=function(t){return _.Message.setProto3EnumField(this,12,t)};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.TopPrice.prototype.toObject=function(t){return proto.proto.mdds.v1.TopPrice.toObject(t,this)},proto.proto.mdds.v1.TopPrice.toObject=function(t,o){var e={};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.TopPrice.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.TopPrice;return proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.TopPrice.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){default:o.skipField();break}}return t};proto.proto.mdds.v1.TopPrice.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.TopPrice.serializeBinaryToWriter=function(t,o){};_.Message.GENERATE_TO_OBJECT&&(proto.proto.mdds.v1.Timestamp.prototype.toObject=function(t){return proto.proto.mdds.v1.Timestamp.toObject(t,this)},proto.proto.mdds.v1.Timestamp.toObject=function(t,o){var e={seconds:_.Message.getFieldWithDefault(o,1,0),nanos:_.Message.getFieldWithDefault(o,2,0)};return t&&(e.$jspbMessageInstance=o),e});proto.proto.mdds.v1.Timestamp.deserializeBinary=function(t){var o=new _.BinaryReader(t),e=new proto.proto.mdds.v1.Timestamp;return proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader(e,o)};proto.proto.mdds.v1.Timestamp.deserializeBinaryFromReader=function(t,o){for(;o.nextField()&&!o.isEndGroup();){var e=o.getFieldNumber();switch(e){case 1:var p=o.readInt64();t.setSeconds(p);break;case 2:var p=o.readInt32();t.setNanos(p);break;default:o.skipField();break}}return t};proto.proto.mdds.v1.Timestamp.prototype.serializeBinary=function(){var t=new _.BinaryWriter;return proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter(this,t),t.getResultBuffer()};proto.proto.mdds.v1.Timestamp.serializeBinaryToWriter=function(t,o){var e=void 0;e=t.getSeconds(),e!==0&&o.writeInt64(1,e),e=t.getNanos(),e!==0&&o.writeInt32(2,e)};proto.proto.mdds.v1.Timestamp.prototype.getSeconds=function(){return _.Message.getFieldWithDefault(this,1,0)};proto.proto.mdds.v1.Timestamp.prototype.setSeconds=function(t){return _.Message.setProto3IntField(this,1,t)};proto.proto.mdds.v1.Timestamp.prototype.getNanos=function(){return _.Message.getFieldWithDefault(this,2,0)};proto.proto.mdds.v1.Timestamp.prototype.setNanos=function(t){return _.Message.setProto3IntField(this,2,t)};const hi=proto.proto.mdds.v1,_c=["title"],Sc=["title"],Tc=["title"],Ic=["title"],kc=fe("i",{class:"far fa-angle-double-right"},null,-1),Oc=[kc],Cc={__name:"Chart",emits:["showPendingOrders","showMatchedOrders","showVpsOtpPopup"],setup(t,{expose:o,emit:e}){const p=to(),d=Zl(),{t:s}=Ln(),n=$r("mf"),u=$r("devices"),l=$r("filters"),c=e,m=be(null),v=be(null),b=be(null),w=be(null),E=be(null),O=be(null),N=be(null),$=be(null),P=be(null),C=be(null),H=be(null),tt=be(null),D=be(null),S=vo(new Date,"yyyy-MM-dd"),K={START:Te(new Date(`${S}T08:45:00Z`)),ATO:Te(new Date(`${S}T09:00:00Z`)),ATC:Te(new Date(`${S}T14:30:00Z`)),END:Te(new Date(`${S}T14:45:00Z`))},it={FIREANT:"wss://tradestation.fireant.vn/quote-lite?access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSIsImtpZCI6IkdYdExONzViZlZQakdvNERWdjV4QkRITHpnSSJ9.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4iLCJhdWQiOiJodHRwczovL2FjY291bnRzLmZpcmVhbnQudm4vcmVzb3VyY2VzIiwiZXhwIjoxODg5NjIyNTMwLCJuYmYiOjE1ODk2MjI1MzAsImNsaWVudF9pZCI6ImZpcmVhbnQudHJhZGVzdGF0aW9uIiwic2NvcGUiOlsiYWNhZGVteS1yZWFkIiwiYWNhZGVteS13cml0ZSIsImFjY291bnRzLXJlYWQiLCJhY2NvdW50cy13cml0ZSIsImJsb2ctcmVhZCIsImNvbXBhbmllcy1yZWFkIiwiZmluYW5jZS1yZWFkIiwiaW5kaXZpZHVhbHMtcmVhZCIsImludmVzdG9wZWRpYS1yZWFkIiwib3JkZXJzLXJlYWQiLCJvcmRlcnMtd3JpdGUiLCJwb3N0cy1yZWFkIiwicG9zdHMtd3JpdGUiLCJzZWFyY2giLCJzeW1ib2xzLXJlYWQiLCJ1c2VyLWRhdGEtcmVhZCIsInVzZXItZGF0YS13cml0ZSIsInVzZXJzLXJlYWQiXSwianRpIjoiMjYxYTZhYWQ2MTQ5Njk1ZmJiYzcwODM5MjM0Njc1NWQifQ.dA5-HVzWv-BRfEiAd24uNBiBxASO-PAyWeWESovZm_hj4aXMAZA1-bWNZeXt88dqogo18AwpDQ-h6gefLPdZSFrG5umC1dVWaeYvUnGm62g4XS29fj6p01dhKNNqrsu5KrhnhdnKYVv9VdmbmqDfWR8wDgglk5cJFqalzq6dJWJInFQEPmUs9BW_Zs8tQDn-i5r4tYq2U8vCdqptXoM7YgPllXaPVDeccC9QNu2Xlp9WUvoROzoQXg25lFub1IYkTrM66gJ6t9fJRZToewCt495WNEOQFa_rwLCZ1QwzvL0iYkONHS_jZ0BOhBCdW9dWSawD6iF1SIQaFROvMDH1rg",VPS:"wss://datafeed.vps.com.vn/socket.io/?EIO=3&transport=websocket",DNSE:"wss://datafeed-krx.dnse.com.vn/wss"};let z={ohlcMap:new Map,chart:{},series:{},whitespaces:[],crosshair:{},interval:null,refreshAt:wo(new Date,11),statusAt:wo(new Date,21),websocket:null,socketStop:!1,socketUpdatedAt:wo(new Date,61),hasProgress:!1};const lt=Jl({prices:[],chartDate:d.query.date??S,clock:vo(new Date,"HH:mm:ss"),chartHeightEnough:!1,isSocketWarning:!1,TIME:K}),A=Ge(()=>p.state.tradingDerivative.status),Y=Ge(()=>p.state.tradingDerivative.config),Et=Ge(()=>p.state.tradingDerivative.isLoading);z.interval=setInterval(()=>{lt.clock=vo(new Date,"HH:mm:ss"),f()&&(D.value&&D.value.cancelWithoutClose(),bo(new Date,new Date(z.refreshAt))>10&&(Y.value.autoRefresh&&$.value.refresh(),z.refreshAt=new Date),bo(new Date,new Date(z.statusAt))>20&&(Vt(),z.statusAt=new Date))},1e3),B(),$o(()=>{M(),pt(),$.value.createSeries(z.chart),H.value.createSeries(z.chart),P.value.createSeries(z.chart),new ResizeObserver(_t).observe(m.value),document.addEventListener("keydown",Wt)}),Un(()=>{It(),document.removeEventListener("keydown",Wt),clearInterval(z.interval),ht(),z.socketStop=!0}),mo(()=>p.state.tradingDerivative.chartData,rt),o({connectSocket:nt,closeAllOrders:Lt});function pt(){const vt={localization:{dateFormat:"dd/MM/yyyy",locale:"vi-VN"},rightPriceScale:{visible:!0,scaleMargins:{top:.25,bottom:.25}},leftPriceScale:{visible:!1},layout:{backgroundColor:"#000000",textColor:"#CCCCCC"},grid:{vertLines:{color:"#1B1E27",style:2},horzLines:{color:"#1B1E27",style:2}},crosshair:{mode:0},timeScale:{timeVisible:!0,rightOffset:1e3,minBarSpacing:.01,barSpacing:.05}};z.chart=tp(v.value,vt),z.chart.subscribeCrosshairMove(ct),z.chart.subscribeCustomPriceLineDragged(kt),z.series.whitespace=z.chart.addHistogramSeries({priceScaleId:"whitespace",scaleMargins:{top:0,bottom:0},color:"#808080",lastValueVisible:!1,priceLineVisible:!1}),z.series.price=z.chart.addCandlestickSeries({upColor:"#F5F5F5",downColor:"#F5F5F5",borderVisible:!1,wickUpColor:"#F5F5F5",wickDownColor:"#F5F5F5",priceFormat:{minMove:.1}})}function It(){z.chart&&(z.chart.remove(),z.chart=null)}function Tt(vt){W(z.hasProgress),$.value.isSelected()?$.value.draw(z.crosshair):P.value.isSelected()?P.value.draw(z.crosshair):C.value.isSelected()?C.value.draw(z.crosshair):H.value.isSelected()?H.value.draw(z.crosshair):tt.value.isSelected()&&tt.value.draw(z.crosshair)}function Q(vt){vt.preventDefault()}function ut(vt){vt.stopPropagation()}function mt(vt){vt.preventDefault(),vt.stopPropagation()}function _t(){m.value&&(M(),z.chart.resize(m.value.offsetWidth,m.value.offsetHeight),E.value.checkFullscreen())}function M(){lt.chartHeightEnough=m.value.offsetHeight>700}function ct(vt){if(vt.time){let Ft=Qt(vt.point.y);z.crosshair.time=vt.time,z.crosshair.price=Ft}else u.phone||(z.crosshair.time=null,z.crosshair.price=null);vt.point!==void 0&&(z.crosshair.x=vt.point.x,z.crosshair.y=vt.point.y)}function kt(vt){let Ft=vt.customPriceLine,Pt=Ft.options();Pt.price=n.fmtNum(Pt.price);const Ut=+vt.fromPriceString,Jt=Pt.price;switch(Pt.lineType){case"order":D.value.drag({line:Ft,lineOptions:Pt,oldPrice:Ut,newPrice:Jt});break;case"line":C.value.drag({lineOptions:Pt,oldPrice:Ut,newPrice:Jt});break;case"target":tt.value.drag({lineOptions:Pt,newPrice:Jt});break;case"pattern":$.value.drag({lineOptions:Pt});break}}function Wt(vt){const Ft=z.chart.timeScale(),Pt=z.chart.options().timeScale.barSpacing;switch(vt.key){case"[":vt.ctrlKey?Ft.applyOptions({barSpacing:Pt-.01}):vt.altKey&&Ft.scrollToPosition(Ft.scrollPosition()-50);break;case"]":vt.ctrlKey?Ft.applyOptions({barSpacing:Pt+.01}):vt.altKey&&Ft.scrollToPosition(Ft.scrollPosition()+50);break}}function rt(vt){lt.chartDate===S&&f()||(vt.ticks.length>0&&(z.whitespaces=et(z.whitespaces,at(lt.chartDate))),z.series.whitespace.setData(z.whitespaces),k(vt.ticks,"FIREANT"),$t())}function I(vt,Ft){Ft?(z.whitespaces=et(z.whitespaces,at(S)),z.series.whitespace.setData(z.whitespaces),k(vt),$t()):G(vt)}function k(vt,Ft=null){Ft||(Ft=Y.value.source),vt.forEach(Ut=>{let Jt,te,Zt;switch(Ft){case"FIREANT":Jt=Dr(new Date(Ut.date),7),Zt=Ut.price;break;case"VPS":Jt=new Date(`${S}T${Ut.time}Z`),Zt=Ut.lastPrice;break;case"DNSE":Jt=Dr(new Date(Ut.sendingTime),7),Zt=Ut.matchPrice;break}if(te=Te(Jt),Jt=yi(Jt),z.ohlcMap.has(te)){const _e=z.ohlcMap.get(te);_e.high=Math.max(_e.high,Zt),_e.low=Math.min(_e.low,Zt),_e.open=Zt,_e.close=Zt}else{const _e={date:Jt,time:te,open:Zt,high:Zt,low:Zt,close:Zt};z.ohlcMap.set(te,_e)}});const Pt=Array.from(z.ohlcMap.values()).sort((Ut,Jt)=>new Date(Ut.time)-new Date(Jt.time));z.series.price.setData(Pt),lt.bars=Pt}function G(vt){if(z.ohlcMap.size===0)return!1;Y.value.source==="FIREANT"&&vt.sort((Pt,Ut)=>Pt.date===Ut.date?Pt.id-Ut.id:new Date(Pt.date)-new Date(Ut.date)),vt.forEach(Pt=>{let Ut,Jt,te;switch(Y.value.source){case"FIREANT":Ut=Dr(new Date(Pt.date),7),te=Pt.price;break;case"VPS":Ut=new Date(`${S}T${Pt.time}Z`),te=Pt.lastPrice;break;case"DNSE":Ut=Dr(new Date(Pt.sendingtime),7),te=Pt.matchprice;break}if(Jt=Te(Ut),Ut=yi(Ut),z.ohlcMap.has(Jt))try{const Zt=z.ohlcMap.get(Jt);Zt.high=Math.max(Zt.high,te),Zt.low=Math.min(Zt.low,te),Zt.open=te,Zt.close=te,z.series.price.update(Zt)}catch{return}else{const Zt={date:Ut,time:Jt,open:te,high:te,low:te,close:te};z.series.price.update(Zt),z.ohlcMap.set(Jt,Zt)}});const Ft=Array.from(z.ohlcMap.values());lt.bars=Ft}function at(vt){const Ft=Te(new Date(`${vt}T09:00:00Z`)),Pt=Te(new Date(`${vt}T11:30:00Z`)),Ut=Te(new Date(`${vt}T13:00:00Z`)),Jt=Te(new Date(`${vt}T14:30:00Z`)),te=Te(new Date(`${vt}T13:00:00Z`)),Zt=Te(new Date(`${vt}T14:00:00Z`));let _e=[];for(let ue=Ft;ue<=Jt;ue++){if(ue>Pt&&ue<Ut)continue;let se={time:ue};(ue===te||ue===Zt||ue===Jt)&&(se.value=1),_e.push(se)}if(lt.chartDate===S){const ue=Te(new Date(`${vt}T17:00:00Z`));for(let se=Jt+1;se<=ue;se++){let xe={time:se};_e.push(xe)}}return _e}function et(vt,Ft){return Array.from(new Map([...vt,...Ft].sort((Pt,Ut)=>Pt.time-Ut.time).map(Pt=>[Pt.time,Pt])).values())}async function nt(){if(f()){await ht();const vt=Y.value.source,Ft=it[vt],Pt=()=>{z.socketStop||(lt.isSocketWarning=!0,nt())};vt==="DNSE"?(z.websocket=vc.connect(Ft,{username:"entrade",password:"entrade"}),z.websocket.on("close",Pt),yt(),U()):(z.websocket=new WebSocket(Ft),z.websocket.onclose=Pt,vt==="FIREANT"?wt():(J(),Z()))}}async function ht(){const vt=Y.value.source;z.websocket&&(vt==="DNSE"?z.websocket.connected:z.websocket.readyState===WebSocket.OPEN)?(vt==="DNSE"?z.websocket.end():z.websocket.close(),await new Promise(Pt=>{const Ut=setInterval(()=>{(!z.websocket||(vt==="DNSE"?z.websocket.disconnected:z.websocket.readyState===WebSocket.CLOSED))&&(z.websocket=null,clearInterval(Ut),Pt())},100)})):z.websocket=null}function wt(){p.dispatch("tradingDerivative/setLoading",!0),z.websocket.onopen=vt=>{if(z.websocket.readyState===WebSocket.OPEN){let Ft='{"protocol":"json","version":1}';z.websocket.send(Ft),Ft='{"arguments":["VN30F1M"],"invocationId":"0","target":"SubscribeTrades","type":1}',z.websocket.send(Ft)}},z.websocket.onmessage=vt=>{lt.isSocketWarning=!1,x(vt.data).forEach(Pt=>{if(!Pt)return!1;if(Pt.type===3)Pt.result[0].date.slice(0,10)===S&&(console.log("FIREANT-first",Pt.result),I(Pt.result,!0)),p.dispatch("tradingDerivative/setLoading",!1);else if(Pt.type===1&&Pt.target==="UpdateTrades"&&Pt.arguments[0]==="VN30F1M"){console.log("FIREANT",Pt.arguments[1]),D.value.scan(Pt.arguments[1].at(-1).price);let Ut=Pt.arguments[1];Ut.sort((Jt,te)=>Jt.date===te.date?Jt.id-te.id:new Date(Jt.date)-new Date(te.date)),I(Ut)}})}}function x(vt){let Ft=[];return vt.split("").forEach(Pt=>{const Ut=Pt.indexOf("{"),Jt=Pt.lastIndexOf("}");let te=null;if(Ut!==-1&&Jt!==-1&&Jt>Ut){const Zt=Pt.substring(Ut,Jt+1);Zt!=="{}"&&(te=JSON.parse(Zt))}Ft.push(te)}),Ft}function J(){z.websocket.onopen=vt=>{if(z.websocket.readyState===WebSocket.OPEN){const Ft={action:"join",list:Y.value.vn30f1m},Pt=`42${JSON.stringify(["regs",JSON.stringify(Ft)])}`;z.websocket.send(Pt)}},z.websocket.onmessage=vt=>{if(lt.isSocketWarning=!1,vt.data.substr(0,1)==="4"&&vt.data.substr(1,1)==="2"){const Ft=JSON.parse(vt.data.substr(2));if(Ft[0]==="stockps"){const Pt=Ft[1].data;Pt.id===3220&&(console.log("VPS",Pt),D.value.scan(Pt.lastPrice),I([Pt]))}}}}function Z(){bo(new Date,new Date(z.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getVpsData").then(vt=>{I(vt,!0),console.log("VPS-first: ",vt)}),z.socketUpdatedAt=new Date)}function yt(){z.websocket.on("connect",()=>{if(z.websocket.connected){const vt=[`quotes/krx/mdds/tick/v1/roundlot/symbol/${Y.value.vn30f1m}`];z.websocket.subscribe(vt),console.log("DNSE connected")}}),z.websocket.on("message",(vt,Ft)=>{lt.isSocketWarning=!1;const Pt=ft(Ft);if(Pt.type===hi.Wrapper.KindCase.TICK){let Ut=Pt.payload;D.value.scan(Ut.matchprice);const Jt=new Date(Ut.sendingtime.seconds*1e3);Ut.sendingtime=Jt.toISOString(),console.log("DNSE: ",Ut),I([Ut])}})}function ft(vt){var Ft;try{const Pt=new Uint8Array(vt),Ut=hi.Wrapper.deserializeBinary(Pt);if(!Ut)return;const Jt=Ut.getKindCase(),te={[hi.Wrapper.KindCase.TICK]:(Ft=Ut.getTick())==null?void 0:Ft.toObject()};return Jt in te?{type:Jt,payload:te[Jt]}:void 0}catch(Pt){console.error("An error occurred while parsing the message:",r,Pt);return}}function U(){bo(new Date,new Date(z.socketUpdatedAt))>60&&(p.dispatch("tradingDerivative/getDnseData").then(vt=>{I(vt,!0),console.log("DNSE-first: ",vt)}),z.socketUpdatedAt=new Date)}function ot(vt=!1){$.value.refresh(vt)}function W(vt=!1){vt||N.value.hide(),C.value.hide(),D.value.hide()}function X(vt){u.phone||N.value.hide(n.isSet(vt)),N.value.set(vt),z.hasProgress=!!vt.step}function st(vt){D.value.setPatternOrder(vt)}function St(){z.chart.timeScale().scrollToRealTime()}function f(){const vt=Te(Dr(new Date,7));return Y.value.openingMarket&&vt>=K.START&&vt<=K.END}function h(){if(!lt.chartDate)return!1;bt()}function g(){z.whitespaces=[],lt.bars=[],z.socketUpdatedAt=wo(new Date,61),nt(),bt()}function R(){c("showPendingOrders")}function L(){c("showMatchedOrders")}function B(){p.dispatch("tradingDerivative/initChart").then(()=>{nt(),!d.query.date&&Y.value.lastOpeningDate&&(lt.chartDate=Y.value.lastOpeningDate),bt()})}function bt(){p.dispatch("tradingDerivative/getChartData",lt.chartDate)}function Dt(){A.value.connection?Vt():j()}function j(){c("showVpsOtpPopup")}function Vt(){p.dispatch("tradingDerivative/getStatus")}function $t(){p.dispatch("tradingDerivative/getTools")}function jt(){p.dispatch("tradingDerivative/getAccountInfo").then(vt=>{let Ft="";Ft+='<div style="width: 200px;">',Ft+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.nav")}</div><div>: ${l.currency(vt.nav)}</div></div>`,Ft+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.maxVol")}</div><div>: ${l.numberVnFormat(vt.maxVol)}</div></div>`,Ft+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.vm")}</div><div>: ${l.currency(vt.vm)}</div></div>`,Ft+=`<div style="display: flex;"><div style="flex: 0 0 75px;">${s("trading.derivative.accountInfoPopup.fee")}</div><div>: ${l.currency(vt.fee)}</div></div>`,Ft+="</div>",Xl(Ft,s("trading.derivative.accountInfoPopup.title"))})}function Lt(){D.value.closeAllOrders()}function Qt(vt){return n.fmtNum(z.series.price.coordinateToPrice(vt))}function Rt(vt){let Ft=z.whitespaces.findIndex(Pt=>Pt.time===vt);if(Ft===-1)try{const Pt=vo(new Date(vt*1e3),"yyyy-MM-dd"),Ut=Te(new Date(`${Pt}T11:30:00Z`)),Jt=Te(new Date(`${Pt}T13:00:00Z`)),te=Te(new Date(`${Pt}T14:30:00Z`));vt>Ut&&vt<Jt?vt=Ut:vt>te&&(vt=te),Ft=z.whitespaces.findIndex(Zt=>Zt.time===vt)}catch(Pt){console.log("error",Pt)}return Ft}function Xt(vt){return vt<z.whitespaces.length?z.whitespaces[vt].time:z.whitespaces.at(-1).time}function re(vt,Ft=!1){if(Ft)z.series.price.removePriceLine(vt);else return z.series.price.createPriceLine(vt)}return(vt,Ft)=>(Ae(),Le("div",{ref_key:"chartContainerRef",ref:m,class:"derivative-chart",onClick:Tt,onContextmenu:Q},[fe("div",{ref_key:"chartRef",ref:v},null,512),fe("div",{class:"area data-area",onClick:ut,onContextmenu:mt},[fe("div",{ref_key:"connectionRef",ref:b,class:Ve(["command",{yellow:A.value.pendingOrders.length>0,red:Y.value.volInvalid}]),title:vt.$t("trading.derivative.connection"),onClick:Dt,onContextmenu:R},[fe("i",{class:Ve(["far",{"fa-link-simple":A.value.connection,"fa-link-simple-slash":!A.value.connection,blink:lt.isSocketWarning}])},null,2)],42,_c),fe("div",{class:Ve(["command status",{green:A.value.position>0,red:A.value.position<0}]),title:vt.$t("trading.derivative.position"),onClick:jt,onContextmenu:L},Ir(A.value.position),43,Sc),fe("div",{class:"command clock",onClick:nt},Ir(lt.clock),1),zn(fe("input",{type:"date",class:"chart-date command",title:vt.$t("trading.derivative.date"),"onUpdate:modelValue":Ft[0]||(Ft[0]=Pt=>lt.chartDate=Pt),onChange:h},null,40,Tc),[[Ql,lt.chartDate]]),fe("div",{ref_key:"reloadToolRef",ref:w,class:"command",title:vt.$t("trading.derivative.reload"),onClick:g,onContextmenu:$t},[fe("i",{class:Ve(["far fa-sync-alt",{"fa-spin":Et.value}])},null,2)],40,Ic)],32),fe("div",{class:"area tool-area",onClick:ut,onContextmenu:mt},[Oe(ep,{ref_key:"fullscreenToolRef",ref:E,chartContainerRef:m.value},null,8,["chartContainerRef"]),Oe(rp,{ref_key:"tradingviewToolRef",ref:O,vpsUser:Y.value.vpsUser,vpsSession:Y.value.vpsSession,chartContainerRef:m.value,symbol:"VN30F1M",timeframe:"15"},null,8,["vpsUser","vpsSession","chartContainerRef"]),Oe(dp,{ref_key:"progressToolRef",ref:N,chartHeightEnough:lt.chartHeightEnough,onRefreshPattern:Ft[1]||(Ft[1]=()=>ot(!0)),onHideContext:W},null,8,["chartHeightEnough"]),Oe(vp,{ref_key:"patternToolRef",ref:$,bars:lt.bars,pickTimeToolRef:P.value,timeToIndex:Rt,indexToTime:Xt,onSetProgress:X,onSetPatternOrder:st,onHideContext:W},null,8,["bars","pickTimeToolRef"]),Oe(_p,{ref_key:"pickTimeToolRef",ref:P,onRefreshPattern:Ft[2]||(Ft[2]=()=>ot()),onHideContext:W},null,512),Oe(kp,{ref_key:"timeRangeToolRef",ref:H,timeToIndex:Rt,indexToTime:Xt,onHideContext:W},null,512),Oe(op,{ref_key:"lineToolRef",ref:C,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:re,onHideContext:W},null,512),Oe(ip,{ref_key:"targetToolRef",ref:tt,symbol:"VN30F1M",storeModule:"tradingDerivative",drawPriceLine:re,levels:[.5,1,2,4],isPercent:!1,showPercent:!0,onHideContext:W},null,512),Oe(Bp,{ref_key:"orderToolRef",ref:D,position:A.value.position,drawPriceLine:re,inSession:f,TIME:lt.TIME,onHideContext:W},null,8,["position","TIME"])],32),fe("div",null,[fe("div",{class:"chart-top",onClick:St},Oc)])],544))}};export{Cc as default};
