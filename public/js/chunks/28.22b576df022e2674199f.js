(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"82+Q":function(t,e,o){var n=o("yWny");"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(n,r);n.locals&&(t.exports=n.locals)},YtBK:function(t,e,o){"use strict";o("82+Q")},a1bN:function(t,e,o){"use strict";o.r(e);var n=o("L2JU");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function c(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){u(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function u(t,e,o){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function b(t,e){var o=l(t),n=l(e);t.length<e.length&&(o=e,n=t);var r=o.length;return 0==r?1:(r-function(t,e){for(var o=new Array,n=0;n<=t.length;n++){for(var r=n,i=0;i<=e.length;i++)if(0==n)o[i]=i;else if(i>0){var s=o[i-1];t.charAt(n-1)!=e.charAt(i-1)&&(s=Math.min(Math.min(s,r),o[i])+1),o[i-1]=r,r=s}n>0&&(o[e.length]=r)}return o[e.length]}(o,n))/parseFloat(r)}function l(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").replace("gi","").replace("bang cach nao","").replace("nhu the nao","").replace("bao nhieu","").replace("dau","").replace("o dau","").replace("lam gi","").replace("?","").toLowerCase().trim()}var p={components:{VueBotUI:o("dl9I").VueBotUI},data:function(){return{data:[],topics:[],messageData:[],botTyping:!1,botOptions:{botTitle:this.$t("components.chatbot.botTitle"),colorScheme:this.$scss.baseAccent,bubbleBtnSize:50,botAvatarImg:"../../images/android-chrome-512x512.png",inputPlaceholder:this.$t("components.chatbot.inputPlaceholder")},voiceApi:"https://api.voicerss.org/?key=".concat("bd4aed0104b049429786e1ea43ce7a43","&hl=vi-vn&src="),resizeObserver:null}},mounted:function(){this.resizeObserver=new ResizeObserver(this.showLatestMessage)},computed:c(c(c({},Object(n.c)(["faqs","contact"])),Object(n.c)("Auth",["name","sex","isLoggedin"])),{},{userName:function(){return this.name?" "+this.name.split(" ").pop():""},userTitle:function(){return this.$t("components.chatbot.title.user".concat(this.sex||""))}}),watch:{isLoggedin:function(){this.messageData=[]},faqs:function(){var t=this;o("ylDa")("./".concat(window.lang)).then((function(e){t.data=[].concat(i(t.faqs),i(e.default)),t.topics=t.faqs.reduce((function(t,e){return t.includes(e.topic)||t.push(e.topic),t}),[])}))}},methods:{onInit:function(){var t=this;if(console.log("onInit"),this.$mf.isEmpty(this.messageData)){this.botTyping=!0;var e=this.$t("components.chatbot.hello").replace("{name}",this.userName).replaceAll("{title}",this.userTitle);new Audio("".concat(this.voiceApi).concat(e)).play(),setTimeout((function(){t.botTyping=!1,t.messageData.push({agent:"bot",type:"text",text:e})}),500)}setTimeout((function(){t.showLatestMessage(),t.resizeObserver.observe(document.querySelector(".qkb-board-content"))}),0)},onMsgSend:function(t){var e=this;this.messageData.push({agent:"user",type:"text",text:t.text}),this.botTyping=!0;var o=this.getResponse(t);o.text&&new Audio("".concat(this.voiceApi).concat(o.text)).play();setTimeout((function(){e.messageData.push(o),e.botTyping=!1}),500)},getResponse:function(t){var e={agent:"bot"};if("postback"==t.action)switch(t.value){case"question":var o=this.faqs.filter((function(e){return e.question==t.text}))[0];/<\/?[a-z][\s\S]*>/i.test(o.answer)?(e.type="button",e.text=this.$t("components.chatbot.detail"),e.options=[{text:this.$t("components.chatbot.more"),value:this.$router.resolve({name:"policy",hash:"#faq",query:{search:o.question}}).href,action:"url"}]):(e.type="text",e.text=o.answer);break;case"topic":e.type="button",e.text=this.$t("components.chatbot.questionsInTopic")+" "+t.text;var n=this.faqs.filter((function(e){return e.topic==t.text}));e.options=[],n.forEach((function(t){e.options.push({text:t.question,value:"question",action:"postback"})}))}else{var r=this.data.reduce((function(e,o){var n=b(o.question,t.text);return n>e.point&&(e={msg:o,point:n}),e}),{msg:{},point:0});r.point>=.6?/<\/?[a-z][\s\S]*>/i.test(r.msg.answer)?(e.type="button",e.text=this.$t("components.chatbot.detail"),e.options=[{text:this.$t("components.chatbot.more"),value:this.$router.resolve({name:"policy",hash:"#faq",query:{search:r.msg.question}}).href,action:"url"}]):(e.text=r.msg.answer,r.msg.url?(e.type="button",e.options=[{text:this.$t("components.chatbot.more"),value:r.msg.url,action:"url"}]):e.type="text"):(e.type="button",e.text=this.$t("components.chatbot.topicConfirm").replaceAll("{title}",this.userTitle),e.options=[],this.topics.forEach((function(t){e.options.push({text:t,value:"topic",action:"postback"})})),e.options.push({text:this.$t("components.chatbot.sendZalo"),value:"https://zalo.me/".concat(this.contact.phone),action:"url"}))}return e},showLatestMessage:function(){document.querySelector(".qkb-board-content .qkb-msg-bubble:last-child").scrollIntoView()},onDestroy:function(){this.resizeObserver.unobserve(document.querySelector(".qkb-board-content"))}}},h=(o("YtBK"),o("KHd+")),f=Object(h.a)(p,(function(){return(0,this._self._c)("VueBotUI",{attrs:{options:this.botOptions,messages:this.messageData,"bot-typing":this.botTyping,"input-disable":!1,"is-open":!1},on:{init:this.onInit,"msg-send":this.onMsgSend,destroy:this.onDestroy}})}),[],!1,null,null,null);e.default=f.exports},yWny:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".qkb-bot-ui{left:1.5rem;right:auto!important}.qkb-bot-ui .qkb-board{left:0;right:auto!important}.qkb-bot-ui .qkb-bubble-btn{opacity:.5}.qkb-bot-ui .qkb-bubble-btn:hover{opacity:1}.qkb-bot-ui .qkb-board-action__disable-text{color:#000}.qkb-bot-ui .qkb-mb-button-options__btn{text-overflow:ellipsis;white-space:nowrap;max-width:270px}.qkb-bot-ui .qkb-board-header__title,.qkb-bot-ui .qkb-msg-bubble-component{font-size:unset}.qkb-bot-ui .qkb-msg-bubble-component__text{white-space:pre-line}.qkb-bot-ui .qkb-board-content::-webkit-scrollbar{width:6px;background-color:#f5f5f5}.qkb-bot-ui .qkb-board-content::-webkit-scrollbar-thumb{background-color:#c1c1c1}.qkb-bot-ui .qkb-board-content::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #fff;background-color:#f5f5f5}body[screen-size=small] .qkb-bot-ui .qkb-board{left:-1rem!important}",""])},ylDa:function(t,e,o){var n={"./vi":["MkWC",4],"./vi/":["MkWC",4],"./vi/greeting":["rgJ4",7],"./vi/greeting.js":["rgJ4",7],"./vi/index":["MkWC",4],"./vi/index.js":["MkWC",4],"./vi/me":["L1Ut",8],"./vi/me.js":["L1Ut",8],"./vi/vkiu":["pAFO",9],"./vi/vkiu.js":["pAFO",9]};function r(t){if(!o.o(n,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],r=e[0];return o.e(e[1]).then((function(){return o(r)}))}r.keys=function(){return Object.keys(n)},r.id="ylDa",t.exports=r}}]);