(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"F9O+":function(e,t,o){"use strict";var i=o("L2JU"),r=o("Ztyd"),n=o("uPXb"),a=o.n(n);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){c(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d={components:{DxForm:r.DxForm,DxItem:r.DxItem,DxTextArea:a.a},data:function(){return{isLoading:!1,formData:null,banks:[],validationRules:{name:[{type:"required",message:this.$t("models.user.name")+this.$mt.validations.required},{type:"stringLength",max:50,message:this.$t("models.user.validations.name")}],sex:[{type:"required",message:this.$t("models.user.sex")+this.$mt.validations.required}],birthday:[{type:"required",message:this.$t("models.user.birthday")+this.$mt.validations.required},{type:"custom",validationCallback:this.validateBirthday,message:this.$t("models.user.validations.birthday")}],idNumber:[{type:"required",message:this.$t("models.user.idNumber")+this.$mt.validations.required},{type:"async",validationCallback:this.validateDuplicateIdNumber,message:this.$t("models.user.idNumber")+this.$mt.validations.duplicate}],idIssuedOn:[{type:"required",message:this.$t("models.user.idIssuedOn")+this.$mt.validations.required},{type:"custom",validationCallback:this.validateIdIssuedOn,message:this.$t("models.user.validations.idIssuedOn")}],phone:[{type:"required",message:this.$t("models.user.phone")+this.$mt.validations.required},{type:"async",validationCallback:this.validateDuplicatePhone,message:this.$t("models.user.phone")+this.$mt.validations.duplicate}],email:[{type:"required",message:this.$t("models.user.email")+this.$mt.validations.required},{type:"email",message:this.$t("models.user.email")+this.$mt.validations.email},{type:"async",validationCallback:this.validateDuplicateEmail,message:this.$t("models.user.email")+this.$mt.validations.duplicate}],address:[{type:"required",message:this.$t("models.user.address")+this.$mt.validations.required},{type:"stringLength",max:100,message:this.$t("models.user.validations.address")}],bankAccount:{bankName:[{type:"required",message:this.$t("models.user.bankName")+this.$mt.validations.required}],accountName:[{type:"required",message:this.$t("models.user.accountName")+this.$mt.validations.required}],accountNumber:[{type:"required",message:this.$t("models.user.accountNumber")+this.$mt.validations.required},{type:"numeric",message:this.$t("models.user.accountNumber")+this.$mt.validations.numeric}]}}}},computed:u(u({},Object(i.c)("User.profile",["profile"])),{},{popup:function(){return this.$refs.popup.instance},form:function(){return this.$refs.form.instance}}),methods:u(u({},Object(i.b)("User.profile",["fetch","save","validateDuplicateEmail","validateDuplicateIdNumber","validateDuplicatePhone"])),{},{show:function(){var e=this;this.isLoading=!0,this.popup.show(),this.fetch().then((function(){e.formData=e.$mf.cloneDeep(e.profile),setTimeout((function(){return e.form.getEditor("name").focus()}),500),e.$mf.getBanks().then((function(t){return e.banks=t})),e.isLoading=!1})),this.$mf.pushPopupToHistoryState((function(){return e.popup.hide()}))},onSubmit:function(){var e=this;this.$bus.emit("checkPin",(function(){e.save(e.formData).then((function(t){t&&e.popup.hide()}))}))},validateBirthday:function(e){return moment(e.value).isBefore(moment().subtract(18,"years"))},validateIdIssuedOn:function(e){return moment(e.value).isBefore(moment().subtract(1,"day"))},saveClick:function(){this.form.getButton("submit").element().click()}})},p=o("KHd+"),m=Object(p.a)(d,(function(){var e=this,t=e._self._c;return t("div",[t("DxPopup",{ref:"popup",attrs:{showCloseButton:!0,fullScreen:!!e.$devices.phone,"show-title":!0,title:e.$t("components.editProfile.title"),toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:e.$t("buttons.save"),onClick:function(){return e.form.getButton("submit").element().click()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:e.$t("buttons.cancel"),onClick:function(){return e.popup.hide()}}}]},on:{hiding:e.$mf.popRouteHistoryState},scopedSlots:e._u([{key:"content",fn:function(){return[t("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("button",{ref:"submit",staticClass:"display-none"}),e._v(" "),t("DxForm",{ref:"form",staticClass:"profile-form",attrs:{"form-data":e.formData,labelMode:"floating","col-count":2,"label-location":e.$devices.phone?"top":"left","scrolling-enabled":!0}},[t("DxItem",{attrs:{"item-type":"group",caption:e.$t("models.user.groups.personalInfo")}},[t("DxItem",{attrs:{"data-field":"name","validation-rules":e.validationRules.name,label:{text:e.$t("models.user.name")}}}),e._v(" "),t("DxItem",{attrs:{"data-field":"sex","editor-type":"dxSelectBox","editor-options":{searchEnabled:!1,items:e.$mf.getSexList(),displayExpr:"name",valueExpr:"value",placeholder:e.$t("titles.dxSelectPlacehoder")},"validation-rules":e.validationRules.sex,label:{text:e.$t("models.user.sex")}}}),e._v(" "),t("DxItem",{attrs:{"data-field":"birthday","editor-type":"dxDateBox","editor-options":{dateSerializationFormat:e.$mc.DX_SERVER_DATE_FORMAT,showClearButton:"true",useMaskBehavior:"true"},"validation-rules":e.validationRules.birthday,label:{text:e.$t("models.user.birthday")}}})],1),e._v(" "),t("DxItem",{attrs:{"item-type":"group",caption:e.$t("models.user.groups.idInfo")}},[t("DxItem",{attrs:{"data-field":"identity.number",editorOptions:{mask:"000000000000"},"validation-rules":e.validationRules.idNumber,label:{text:e.$t("models.user.idNumber")}}}),e._v(" "),t("DxItem",{attrs:{"data-field":"identity.issued_on","editor-type":"dxDateBox","editor-options":{dateSerializationFormat:e.$mc.DX_SERVER_DATE_FORMAT,showClearButton:"true",useMaskBehavior:"true"},"validation-rules":e.validationRules.idIssuedOn,label:{text:e.$t("models.user.idIssuedOn")}}}),e._v(" "),t("DxItem",{attrs:{"data-field":"",editorOptions:{value:e.$mt.idIssuedAtValue,readOnly:!0},label:{text:e.$t("models.user.idIssuedAt")}}})],1),e._v(" "),t("DxItem",{attrs:{"item-type":"group","col-span":2,"col-count":2,caption:e.$t("models.user.groups.contactInfo")}},[t("DxItem",{attrs:{"data-field":"phone",editorOptions:{mask:"0000.000.000"},"validation-rules":e.validationRules.phone,label:{text:e.$t("models.user.phone")}}}),e._v(" "),t("DxItem",{attrs:{"data-field":"email","validation-rules":e.validationRules.email,label:{text:e.$t("models.user.email")}}}),e._v(" "),t("DxItem",{attrs:{"col-span":2,"data-field":"address","editor-type":"dxTextArea","validation-rules":e.validationRules.address,label:{text:e.$t("models.user.address")}}})],1),e._v(" "),t("DxItem",{attrs:{"item-type":"group","col-span":2,"col-count":2,caption:e.$t("models.user.groups.bankInfo")}},[t("DxItem",{attrs:{"data-field":"bank_account.bank_name","editor-type":"dxSelectBox","editor-options":{searchEnabled:!0,items:e.banks,displayExpr:"short_name",searchExpr:"short_name",valueExpr:"short_name",placeholder:e.$t("titles.dxSelectPlacehoder")},"validation-rules":e.validationRules.bankAccount.bankName,label:{text:e.$t("models.user.bankName")}}}),e._v(" "),t("DxItem",{attrs:{"data-field":"bank_account.account_number","validation-rules":e.validationRules.bankAccount.accountNumber,label:{text:e.$t("models.user.accountNumber")}}}),e._v(" "),t("DxItem",{attrs:{"data-field":"bank_account.account_name","editor-type":"dxTextBox","editor-options":{inputAttr:{style:"text-transform: uppercase"}},"validation-rules":e.validationRules.bankAccount.accountName,label:{text:e.$t("models.user.accountName")}}})],1),e._v(" "),t("DxItem",{attrs:{name:"submit",cssClass:"display-none","item-type":"button","button-options":{useSubmitBehavior:!0}}})],1),e._v(" "),t("DxLoadPanel",{attrs:{position:{of:".profile-form"},visible:e.isLoading,shading:!1}})],1)]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=m.exports},LMYG:function(e,t,o){var i=o("whfZ");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,r);i.locals&&(e.exports=i.locals)},Mt5x:function(e,t,o){"use strict";o("y1bL")},RpIu:function(e,t,o){(e.exports=o("I1BE")(!1)).push([e.i,".description{margin-bottom:30px}",""])},Ugxn:function(e,t,o){"use strict";o.d(t,"a",(function(){return _})),o.d(t,"b",(function(){return C}));var i=o("+dKZ"),r=o("W2II"),n=o("mUQo"),a=o("P6tt"),s=o("TE0E"),l=o("OIHa"),u=o("VNvn"),c=o("zAdP"),d=o("v5W6"),p=o("sUSw"),m=o("ua+q"),f=o("RfjA"),b=o("xPQU"),v=o("demn"),h=o("3CDA"),y=o("s6U3"),g=o("oHs6"),x=o("a8dJ"),O=Object(f.d)(),w={text:"OK",onClick:function(){return!0}},$="".concat("dx-dialog","-wrapper"),j="".concat("dx-dialog","-root"),P="".concat("dx-dialog","-content"),k="".concat("dx-dialog","-message"),D="".concat("dx-dialog","-buttons"),S="".concat("dx-dialog","-button"),I=n.a.inherit({ctor:function(e,t){this.callBase(t)},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{width:276}}])}}),E=function(e){var t,o=new c.a,n=(new I).option();e=Object(m.a)(n,e);var d=Object(r.a)("<div>").addClass("dx-dialog").appendTo(Object(v.c)()),f="messageHtml"in e;"message"in e&&y.a.log("W1013");var h=String(f?e.messageHtml:e.message),E=Object(r.a)("<div>").addClass(k).html(h),_=[];Object(p.a)(e.buttons||[w],(function(){var e=new a.a(this.onClick,{context:C});_.push({toolbar:"bottom",location:s.a.current().android?"after":"center",widget:"dxButton",options:Object(m.a)({},this,{onClick:function(){var t=e.execute(...arguments);B(t)}})})}));var C=new g.default(d,Object(m.a)({title:null!==(t=e.title)&&void 0!==t?t:"",showTitle:Object(x.g)(e.showTitle,!0),dragEnabled:Object(x.g)(e.dragEnabled,!0),height:"auto",width:e.width,showCloseButton:e.showCloseButton||!1,ignoreChildEvents:!1,onContentReady:function(e){e.component.$content().addClass(P).append(E)},onShowing:function(e){e.component.bottomToolbar().addClass(D).find(".".concat("dx-button")).addClass(S),Object(u.i)()},onShown:function(e){var t=e.component.bottomToolbar().find(".".concat("dx-button")).first();b.a.trigger(t,"focus")},onHiding:function(){o.reject()},toolbarItems:_,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:Object(l.a)().rtlEnabled,position:{boundaryOffset:{h:10,v:0}}},e.popupOptions));function B(e){o.resolve(e),C.hide().done((function(){C.$element().remove()}))}return C.$wrapper().addClass($),e.position&&C.option("position",e.position),C.$wrapper().addClass(j),{show:function(){if("android"===s.a.real().platform){var e=Object(i.d)(O)>Object(i.l)(O)?"80%":"60%";C.option({width:e})}return C.show(),o.promise()},hide:B}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,i=Object(d.k)(e)?e:{title:t,messageHtml:e,showTitle:o,dragEnabled:o};return E(i).show()},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,i=Object(d.k)(e)?e:{title:t,messageHtml:e,showTitle:o,buttons:[{text:h.a.format("Yes"),onClick:function(){return!0}},{text:h.a.format("No"),onClick:function(){return!1}}],dragEnabled:o};return E(i).show()}},ZiVN:function(e,t,o){"use strict";o.r(t);var i=o("L2JU"),r=o("Ugxn"),n=o("Ztyd");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){u(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function u(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={components:{DxForm:o.n(n).a,DxItem:n.DxItem},data:function(){return{}},computed:l(l({},Object(i.c)("Auth",["email"])),{},{popup:function(){return this.$refs.popup.instance}}),methods:l(l({},Object(i.b)("Auth",["resendEmail"])),{},{show:function(){var e=this;this.popup.show(),this.$mf.pushPopupToHistoryState((function(){return e.popup.hide()}))},onSubmit:function(){var e=this;this.resendEmail().then((function(){e.popup.hide()}))}})},d=(o("Mt5x"),o("KHd+")),p=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("DxPopup",{ref:"popup",attrs:{width:300,height:270,showCloseButton:!0,title:e.$t("components.resendVerifyEmail.title"),"show-title":!0},on:{hiding:e.$mf.popRouteHistoryState},scopedSlots:e._u([{key:"content",fn:function(){return[t("form",{staticClass:"resend-email-form",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"description"},[e._v("\n          "+e._s(e.$t("components.resendVerifyEmail.description").format(e.email))+"\n        ")]),e._v(" "),t("DxForm",[t("DxItem",{attrs:{"item-type":"button","button-options":{width:"100%",type:"default",text:e.$t("components.resendVerifyEmail.resend"),useSubmitBehavior:!0}}})],1)],1)]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,m=o("F9O+"),f=o("uJsO");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function h(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!==b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var y={components:{ResendVerifyEmailPopup:p,EditProfilePopup:m.a,ChangePinPopup:f.a},computed:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){h(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},Object(i.c)("Auth",["level"])),methods:{onLevelClick:function(e){switch(e){case 2:this.$refs.resendVerifyEmailPopup.show();break;case 3:this.$refs.changePinPopup.show();break;case 4:this.$refs.editProfilePopup.show();break;case 5:Object(r.a)(this.$t("user.overview.signContractGuide"),this.$t("user.overview.levels.signContract"));break;case 6:this.$router.push({name:"contract",query:{redirect:this.$router.currentRoute.name}})}}}},g=(o("fYJn"),Object(d.a)(y,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"level-bar content-block"},[t("center",[t("ul",{style:{counterReset:"levelNumber 0"}},e._l(e.$mf.getAccountLevelList(),(function(o){return t("li",{key:o.level,class:{"is-active":o.level==e.level+1,"guiding-step-1":2==o.level,"guiding-step-2":3==o.level,"guiding-step-3":4==o.level},on:{click:function(t){o.level==e.level+1&&e.onLevelClick(o.level)}}},[e._v("\n                "+e._s(o.text)+"\n            ")])})),0)]),e._v(" "),t("ResendVerifyEmailPopup",{ref:"resendVerifyEmailPopup"}),e._v(" "),t("EditProfilePopup",{ref:"editProfilePopup"}),e._v(" "),t("ChangePinPopup",{ref:"changePinPopup"})],1)}),[],!1,null,null,null));t.default=g.exports},fYJn:function(e,t,o){"use strict";o("LMYG")},whfZ:function(e,t,o){(t=e.exports=o("I1BE")(!1)).push([e.i,'@charset "UTF-8";.level-bar{text-align:center}.level-bar ul>li.is-active:before,.level-bar ul>li.is-active~li:before{content:counter(levelNumber);font-family:inherit;font-weight:700}.level-bar ul>li.is-active:after,.level-bar ul>li.is-active~li:after{background-color:#ededed}.level-bar ul{display:table;table-layout:fixed;list-style:none;width:100%;margin-left:-40px}.level-bar ul>li{counter-increment:levelNumber;text-align:center;display:table-cell;position:relative;color:#ff5722;cursor:pointer}.level-bar ul>li:before{content:"\\2713";display:block;margin:0 auto 4px;background-color:#ff5722;color:#fff;width:36px;height:36px;line-height:32px;text-align:center;font-weight:700;border:3px solid #ff5722;border-radius:50%}.level-bar ul>li:after{content:"";height:5px;width:calc(100% - 36px);background-color:#ff5722;position:absolute;top:16px;left:calc(50% + 18px)}.level-bar ul>li:last-child:after{display:none}.level-bar ul>li.is-active:before{background-color:#fff;color:#ff5722;border-color:#ff5722}.level-bar ul>li.is-active:hover:before{background-color:#ff5722;color:#fff}.level-bar ul>li.is-active~li{color:#666}.level-bar ul>li.is-active~li:before{color:#999;background-color:#ededed;border-color:#ededed}body[screen-size=small] .level-bar ul{width:180px;margin-left:0}body[screen-size=small] .level-bar ul>li{display:list-item!important;text-align:left!important;margin-left:-40px}body[screen-size=small] .level-bar ul>li:not(:last-child){padding-bottom:22px}body[screen-size=small] .level-bar ul>li:before{display:inline-block;margin-right:20px}body[screen-size=small] .level-bar ul>li:after{width:5px;height:calc(100% - 36px);left:16px;top:calc(50% + 5px)}',""]),t.locals={baseAccent:"#ff5722"}},y1bL:function(e,t,o){var i=o("RpIu");"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(i,r);i.locals&&(e.exports=i.locals)}}]);