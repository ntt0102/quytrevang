(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"0/Vb":function(t,e,n){"use strict";function o(){return{}}var r={backupDatabase:function(t,e){t.commit,t.dispatch,t.getters,t.state,t.rootGetters;return new Promise((function(t,n){axios.post("settings/database/backup",e).then((function(n){if(0==n.data.isOk)t(!1);else{if(e.download){var o=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=o;var a=n.headers["content-disposition"].split("=").pop();r.setAttribute("download",a),document.body.appendChild(r),r.click()}t(!0)}}))}))},restoreDatabase:function(t,e){t.commit;var n=t.dispatch;t.getters,t.state,t.rootGetters;return new Promise((function(t,o){axios.post("settings/database/restore",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data.isOk),e.data.isOk&&n("Auth/fetch",!0,{root:!0})}))}))},runCommand:function(t,e){t.commit;var n=t.dispatch;t.getters,t.state,t.rootGetters;return new Promise((function(t,o){axios.post("settings/command/run",{commands:e}).then((function(e){t(e.data),e.data.isOk&&n("Auth/fetch",!0,{root:!0})}))}))},sendNotification:function(t,e){t.commit,t.dispatch,t.getters,t.state,t.rootGetters;return new Promise((function(t,n){axios.post("settings/notification/send",e).then((function(e){t()}))}))},fetchLog:function(t,e){t.commit,t.dispatch,t.getters,t.state,t.rootGetters;return new Promise((function(t,e){axios.get("settings/log").then((function(e){t(e.data)}))}))},resetState:function(t){(0,t.commit)("resetState")}},a={setState:function(t,e){t.parameters=e.parameters},resetState:function(t){t=Object.assign(t,{})}};e.a={namespaced:!0,state:o,getters:{},actions:r,mutations:a}},"2U18":function(t,e,n){"use strict";n("DP2g")},ACFT:function(t,e,n){"use strict";n.r(e);var o=n("L2JU"),r=n("0woa"),a=n("Ugxn"),i=n("0/Vb");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d={components:{DxDataGrid:r.DxDataGrid,DxColumn:r.DxColumn},data:function(){return{gridData:null}},beforeCreate:function(){this.$store.registerModule("Settings",i.a)},created:function(){var t=this;this.fetchLog().then((function(e){return t.gridData=e}))},destroyed:function(){this.$store.unregisterModule("Settings")},computed:{dataGrid:function(){return this.$refs.dataGrid.instance}},methods:u(u({},Object(o.b)("Settings",["fetchLog"])),{},{showProperties:function(t){var e=this;this.$bus.emit("checkPin",(function(){var n=JSON.stringify(t.attributes,void 0,4);Object(a.a)("<pre>".concat(e.syntaxHighlight(n),"</pre>"),e.$t("settings.log.propertiesTitle"))}))},syntaxHighlight:function(t){return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,(function(t){var e="number";return/^"/.test(t)?e=/:$/.test(t)?"key":"string":/true|false/.test(t)?e="boolean":/null/.test(t)&&(e="null"),'<span class="'+e+'">'+t+"</span>"}))}})},f=(n("2U18"),n("KHd+")),p=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-page"},[e("h2",{staticClass:"content-block"},[t._v("\n        "+t._s(t.$t("settings.log.title"))+"\n    ")]),t._v(" "),e("div",{staticClass:"content-block dx-card responsive-paddings"},[e("div",[e("DxDataGrid",{ref:"dataGrid",attrs:{"data-source":t.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"single"}},on:{contentReady:function(e){return t.$mf.dataGridPreload(t.gridData,t.dataGrid)}},scopedSlots:t._u([{key:"commandCellTemplate",fn:function(n){var o=n.data;return[e("DxToolbar",{attrs:{items:[{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"info",hint:t.$t("settings.log.propertiesBtn"),text:t.$t("settings.log.propertiesBtn"),onClick:function(){return t.showProperties(o.data.properties)}}}]}})]}}])},[e("DxColumn",{attrs:{fixed:!0,width:35,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:t.$t("titles.commandHeaderTitleShort")}}),t._v(" "),e("DxColumn",{attrs:{"data-field":"created_at","data-type":"date",caption:t.$t("settings.log.createdAt")}}),t._v(" "),e("DxColumn",{attrs:{"data-field":"causer",caption:t.$t("settings.log.causer")}}),t._v(" "),e("DxColumn",{attrs:{"data-field":"subject",caption:t.$t("settings.log.subject")}}),t._v(" "),e("DxColumn",{attrs:{"data-field":"description",caption:t.$t("settings.log.description")}})],1)],1)])])}),[],!1,null,"22235f70",null);e.default=p.exports},DP2g:function(t,e,n){var o=n("HSG9");"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(t.exports=o.locals)},HSG9:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,"pre .string[data-v-22235f70]{color:#82a055}pre .number[data-v-22235f70]{color:#47a68a}pre .boolean[data-v-22235f70]{color:#86a9f7}pre .null[data-v-22235f70]{color:#9f68b3}pre .key[data-v-22235f70]{color:#e0ac6b}",""])}}]);