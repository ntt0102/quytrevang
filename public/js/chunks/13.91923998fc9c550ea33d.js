/*! For license information please see 13.91923998fc9c550ea33d.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/6+a":function(t,e,n){var i=n("S9JT");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},"0TQy":function(t,e,n){"use strict";var i=n("wMWa"),o={components:{DxTagBox:n.n(i).a},props:{width:{type:Number,default:function(){return 300}},height:{type:Number,default:function(){return 400}},value:{type:Array,default:function(){return[]}},onValueChanged:{type:Function,default:function(){return function(){}}},dataSource:{type:Array,default:function(){return[]}},dataGridComponent:{type:Object,default:function(){}}},data:function(){return{currentValue:this.value}},methods:{onSelectionChanged:function(){this.dataGridComponent.updateDimensions()}}},r=n("KHd+"),a=Object(r.a)(o,(function(){var t=this;return(0,t._self._c)("DxTagBox",{attrs:{"data-source":t.dataSource,value:t.currentValue,"show-selection-controls":!0,"max-displayed-tags":3,"show-multi-tag-only":!1,"on-value-changed":function(e){return t.onValueChanged(e.value)},"on-selection-changed":t.onSelectionChanged,"search-enabled":!0,dropDownOptions:{width:t.width,height:t.height}}})}),[],!1,null,"4e06e37a",null);e.a=a.exports},"3hlI":function(t,e,n){var i=n("m46l");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},AGG9:function(t,e,n){var i=n("zYUm");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},DJpE:function(t,e,n){var i=n("YgWV");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},DSjN:function(t,e,n){"use strict";var i=n("L2JU"),o=n("ZICV"),r=[function(){var t=this._self._c;return t("div",{staticClass:"basis"},[t("div",[this._v("\n      - Căn cứ quy định tại Bộ luật dân sự năm 2015 do Quốc hội nước CHXHCN\n      Việt Nam ban hành;\n    ")]),this._v(" "),t("div",[this._v("- Căn cứ vào tình hình thực tế năng lực và nhu cầu của hai bên;")]),this._v(" "),t("div",[this._v("\n      - Dựa trên tinh thần trung thực và thiện chí hợp tác của các bên;\n    ")])])},function(){var t=this._self._c;return t("div",{staticClass:"terms"},[t("div",{staticClass:"title"},[this._v("Điều 1: Mục đích hợp đồng")]),this._v(" "),t("div",[this._v("\n          Để tận dụng nguồn vốn sẵn có của mình, bên A đồng ý cho bên B sử\n          dụng nguồn vốn đó để đầu tư trong lĩnh vực chứng khoán.\n        ")])])},function(){var t=this._self._c;return t("div",{staticClass:"formula"},[t("img",{attrs:{src:n("rsfB")}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 4: Phí và thanh toán")]),t._v(" "),e("div",[t._v("\n          4.1 Phí chuyển khoản do bên chuyển chi trả. Nội dung chuyển khoản\n          theo cú pháp: QTV <Mã Hợp đồng>.\n        ")]),t._v(" "),e("div",[t._v("\n          4.2 Bên B sẽ không yêu cầu bên A phải nộp bất kỳ khoản phí nào trong\n          quá trình đầu tư.\n        ")]),t._v(" "),e("div",[t._v("\n          4.3 Ngày mở Hợp đồng được tính là ngày bên A chuyển khoản cho bên B.\n        ")]),t._v(" "),e("div",[t._v("\n          4.4 Ngày đóng Hợp đồng được tính là ngày bên A gửi yêu cầu rút tiền.\n          Bên B sẽ chuyển khoản cho bên A trong vòng 24 giờ làm việc.\n        ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 5: Quyền và nghĩa vụ hai bên")]),t._v(" "),e("div",{staticClass:"title"},[t._v("5.1 Quyền và nghĩa vụ bên A")]),t._v(" "),e("div",[t._v("Bên A có quyền được tùy chọn thời điểm kết thúc Hợp đồng.")]),t._v(" "),e("div",[t._v("Bên A không có quyền giám sát các hoạt động đầu tư.")]),t._v(" "),e("div",[t._v("\n          Bên A có nghĩa vụ chuyển khoản đúng số tiền trong Hợp đồng đã tạo.\n        ")]),t._v(" "),e("div",{staticClass:"title"},[t._v("5.2. Quyền và nghĩa vụ bên B")]),t._v(" "),e("div",[t._v("\n          Bên B có quyền được tự do thực hiện việc đầu tư mà không phải chịu\n          sự giám sát của bất kỳ bên nào.\n        ")]),t._v(" "),e("div",[t._v("\n          Bên B có nghĩa vụ bảo mật các thông tin của bên A, nhanh chóng xử lý\n          yêu cầu của bên A.\n        ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 6: Điều khoản chung")]),t._v(" "),e("div",[t._v("\n          6.1. Hợp đồng này đã được hai bên hiểu về quyền, nghĩa vụ và lợi ích\n          hợp pháp của mình, chịu sự điều chỉnh của pháp luật nước Cộng hòa Xã\n          hội Chủ nghĩa Việt Nam.\n        ")]),t._v(" "),e("div",[t._v("\n          6.2. Hai bên cam kết thực hiện tất cả những điều khoản đã cam kết\n          trong hợp đồng.\n        ")]),t._v(" "),e("div",[t._v("\n          6.3.Trong quá trình hợp tác đầu tư, nếu xuất hiện vấn đề thì phải\n          báo cho bên còn lại để cùng nhau giải quyết.\n        ")]),t._v(" "),e("div",[t._v("\n          6.4. Hợp đồng này được lập thành 02 (hai) bản giống nhau và có giá\n          trị như nhau, mỗi bên giữ 01 (một) bản để thi hành. Hai bên theo đây\n          cùng ký xác nhận đã đọc và chấp thuận mọi nội dung và điều khoản như\n          đã nêu trên.\n        ")])])}];function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{enabled:!1,user:null,representUser:null,interestRate:null,principalMin:null,holdWeeksMin:null}},methods:c(c({},Object(i.b)("Admin.users",["getContractInfo"])),{},{create:function(t){var e=this,n=t.user;this.user=n,this.getContractInfo().then((function(t){e.representUser=t.representUser,e.interestRate=t.interestRate,e.principalMin=t.principalMin,e.holdWeeksMin=t.holdWeeksMin,e.enabled=!0;var n="QTV_HDHTDT_"+(e.user.code||"template")+"_"+moment().format("YYYYMMDDHHmmss");e.$emit("generatePdf",n)}))},done:function(){this.enabled=!1}})},d=(n("Hrr4"),n("KHd+")),p=Object(d.a)(u,(function(){var t=this,e=t._self._c;return t.enabled?e("div",[e("div",{staticClass:"contract-name"},[t._v("HỢP ĐỒNG HỢP TÁC ĐẦU TƯ")]),t._v(" "),e("div",{staticClass:"code"},[t._v("\n    Số:"),e("b",[t._v(t._s(t.user.code))]),t._v("/HDHTDT\n  ")]),t._v(" "),e("div",{staticClass:"place-and-date"},[t._v("……………, ngày……tháng……năm………")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"parties-info"},[e("div",{staticClass:"include"},[t._v("Chúng tôi gồm có:")]),t._v(" "),e("div",{staticClass:"side"},[e("div",{staticClass:"name"},[t._v("\n        1. "+t._s(void 0===t.user.sex?"Ông/Bà":t.user.sex?"Ông":"Bà")+"\n        "+t._s(t.user.name)+" (gọi tắt là bên A)\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.idNumber"))+": "+t._s(t.user.identity.number)+"  \n        "+t._s(t.$t("models.user.idIssuedOn"))+":\n        "+t._s(t._f("formatDate")(t.user.identity.issued_on))+"  \n        "+t._s(t.$t("models.user.idIssuedAt"))+":\n        "+t._s(t.$mt.idIssuedAtValue)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.birthday"))+":\n        "+t._s(t._f("formatDate")(t.user.birthday))+"\n      ")]),t._v(" "),e("div",[t._v("- "+t._s(t.$t("models.user.address"))+": "+t._s(t.user.address))]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.phone"))+":\n        "+t._s(t._f("phone")(t.user.phone))+"\n      ")]),t._v(" "),e("div",[t._v("- "+t._s(t.$t("models.user.email"))+": "+t._s(t.user.email))]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.groups.bankInfo"))+":\n        "+t._s(t.user.bank_account.bank_name)+"  \n        "+t._s(t.$t("models.user.accountNumber"))+":\n        "+t._s(t.user.bank_account.account_number)+"  \n        "+t._s(t.$t("models.user.accountName"))+":\n        "+t._s(t.user.bank_account.account_name)+"\n      ")]),t._v("\n      - Mã tài khoản tại trang web "+t._s(t.$appName)+": "+t._s(t.user.code)+"\n    ")]),t._v(" "),e("div",{staticClass:"side"},[e("div",{staticClass:"name"},[t._v("\n        2. "+t._s(t.representUser.sex?"Ông":"Bà")+"\n        "+t._s(t.representUser.name)+" (gọi tắt là bên B)\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.idNumber"))+":\n        "+t._s(t.representUser.identity.number)+"  \n        "+t._s(t.$t("models.user.idIssuedOn"))+":\n        "+t._s(t._f("formatDate")(t.representUser.identity.issued_on))+"  \n        "+t._s(t.$t("models.user.idIssuedAt"))+":\n        "+t._s(t.$mt.idIssuedAtValue)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.address"))+":\n        "+t._s(t.representUser.address)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.phone"))+":\n        "+t._s(t._f("phone")(t.representUser.phone))+"\n      ")]),t._v(" "),t.representUser.email?e("div",[t._v("\n        - "+t._s(t.$t("models.user.email"))+":\n        "+t._s(t.representUser.email)+"\n      ")]):t._e(),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.groups.bankInfo"))+":\n        "+t._s(t.representUser.bank_account.bank_name)+"  \n        "+t._s(t.$t("models.user.accountNumber"))+":\n        "+t._s(t.representUser.bank_account.account_number)+"  \n        "+t._s(t.$t("models.user.accountName"))+":\n        "+t._s(t.representUser.bank_account.account_name)+"\n      ")])]),t._v(" "),e("div",{staticClass:"main"},[e("div",[t._v("\n        Hai bên thỏa thuận hợp đồng hợp tác đầu tư với các điều khoản sau đây:\n      ")]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 2: Thực hiện đầu tư")]),t._v(" "),e("div",[t._v("\n          2.1 Bên A sẽ bàn giao tiền vốn bằng cách tạo Hợp đồng trên trang web\n          "+t._s(t.$appName)+" (Tiền vốn tối thiểu mỗi Hợp đồng là\n          "+t._s(t._f("currency")(t.principalMin))+") và chuyển khoản cho bên B.\n        ")]),t._v(" "),e("div",[t._v("\n          2.2 Bên B sẽ tiếp nhận tiền vốn của bên A và thực hiện việc đầu tư\n          trên sàn chứng khoán Việt Nam.\n        ")]),t._v(" "),e("div",[t._v("\n          2.3 Khi bên A đóng Hợp đồng (Thời gian nắm giữ tối thiểu là\n          "+t._s(t.holdWeeksMin)+" tuần), bên B sẽ hoàn trả tiền vốn và tiền lãi cho\n          bên A.\n        ")]),t._v(" "),e("div",[t._v("\n          2.4 Mọi biên lai hoặc bằng chứng xác minh giao dịch tiền sẽ được\n          đăng tải trên trang web "+t._s(t.$appName)+" và hai bên có thể giám sát.\n        ")])]),t._v(" "),e("div",{staticClass:"html2pdf__page-break"}),t._v(" "),e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 3: Chia lãi từ hoạt động đầu tư")]),t._v(" "),e("div",{staticClass:"title"},[t._v("3.1 Công thức tính lãi")]),t._v(" "),t._m(2),t._v(" "),e("div",[t._v("\n          trong đó, I: là tiền lãi, P: là tiền gốc, i: là lãi suất theo tuần\n          ("+t._s(t._f("percentInterestRate")(t.interestRate))+"), n: là số tuần nắm giữ.\n        ")]),t._v(" "),e("div",{staticClass:"title"},[t._v("3.2 Phân chia kết quả đầu tư")]),t._v(" "),e("div",[t._v("\n          Bên A sẽ luôn được chia tiền lãi căn cứ theo số vốn quy định tại\n          Điều 3.1.\n        ")]),t._v(" "),e("div",[t._v("\n          Bên B sẽ nhận phần còn lại sau khi chia cho bên A. Trong trường hợp\n          kết quả đầu tư lỗ, bên B sẽ chịu hoàn toàn.\n        ")]),t._v(" "),e("div")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5)])])]):t._e()}),r,!1,null,null,null).exports;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={data:function(){return{enabled:!1,contract:null,representUser:null,user:null}},methods:h(h({},Object(i.b)("Admin.contracts",["getReceiptInfo"])),{},{create:function(t){var e=this,n=t.contract;this.contract=n,this.getReceiptInfo(n.user_code).then((function(t){e.representUser=t.representUser,e.user=t.user,e.enabled=!0;var n="QTV_BLNT_"+e.contract.code+"_"+moment().format("YYYYMMDDHHmmss");e.$emit("generatePdf",n)}))},done:function(){this.enabled=!1}})},y=(n("dTZ1"),Object(d.a)(g,(function(){var t=this,e=t._self._c;return t.enabled?e("div",[e("div",{staticClass:"contract-name"},[t._v("BIÊN LAI NỘP TIỀN")]),t._v(" "),e("div",{staticClass:"code"},[t._v("\n    Số:"),e("b",[t._v(t._s(t.contract.code))]),t._v("/BLNT\n  ")]),t._v(" "),e("div",{staticClass:"place-and-date"},[t._v("……………, ngày……tháng……năm………")]),t._v(" "),e("div",{staticClass:"parties-info"},[e("div",{staticClass:"include"},[t._v("Chúng tôi gồm có:")]),t._v(" "),e("div",{staticClass:"side"},[e("div",{staticClass:"name"},[t._v("\n        1. BÊN GIAO TIỀN (gọi tắt là bên A): "+t._s(t.user.sex?"Ông":"Bà")+"\n        "+t._s(t.user.name)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.idNumber"))+": "+t._s(t.user.identity.number)+"  \n        "+t._s(t.$t("models.user.idIssuedOn"))+":\n        "+t._s(t._f("formatDate")(t.user.identity.issued_on))+"  \n        "+t._s(t.$t("models.user.idIssuedAt"))+": "+t._s(t.$mt.idIssuedAtValue)+"\n      ")]),t._v(" "),e("div",[t._v("- "+t._s(t.$t("models.user.address"))+": "+t._s(t.user.address))])]),t._v(" "),e("div",{staticClass:"side"},[e("div",{staticClass:"name"},[t._v("\n        2. BÊN NHẬN TIỀN (gọi tắt là bên B):\n        "+t._s(t.representUser.sex?"Ông":"Bà")+"\n        "+t._s(t.representUser.name)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.idNumber"))+":\n        "+t._s(t.representUser.identity.number)+"  \n        "+t._s(t.$t("models.user.idIssuedOn"))+":\n        "+t._s(t._f("formatDate")(t.representUser.identity.issued_on))+"  \n        "+t._s(t.$t("models.user.idIssuedAt"))+":\n        "+t._s(t.$mt.idIssuedAtValue)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.address"))+":\n        "+t._s(t.representUser.address)+"\n      ")])]),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 1: Thông tin Hợp đồng")]),t._v(" "),e("div",[t._v("\n          Căn cứ theo Hợp đồng hợp tác đầu tư số "),e("b",[t._v(t._s(t.user.code))]),t._v("/HDHTDT, bên A đã mở Hợp đồng như sau:\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.code"))+":\n          "+t._s(t.contract.code)+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.paidAt"))+":\n          "+t._s(t._f("formatDate")(t.contract.paid_at))+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.interestRate"))+":\n          "+t._s(t._f("percentInterestRate")(t.contract.interest_rate))+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.principal"))+":\n          "+t._s(t._f("currency")(t.contract.principal))+"\n          ("+t._s(t._f("readCurrency")(t.contract.principal))+")\n        ")])]),t._v(" "),e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 2: Xác nhận nộp tiền")]),t._v(" "),e("div",[t._v("\n          Bên A đã bàn giao cho bên B đầy đủ\n          "+t._s(t.$t("models.contract.principal"))+" là\n          "+t._s(t._f("currency")(t.contract.principal))+".\n        ")])]),t._v(" "),t._m(0)])])]):t._e()}),[function(){var t=this._self._c;return t("div",{staticClass:"terms"},[t("div",{staticClass:"title"},[this._v("Điều 3: Điều khoản chung")]),this._v(" "),t("div",[this._v("\n          Biên lai này được lập thành 02 (hai) bản giống nhau và có giá trị\n          như nhau, mỗi bên giữ 01 (một) bản. Hai bên cùng ký xác nhận đã đọc\n          và xác nhận mọi nội dung và điều khoản như đã nêu trên.\n        ")])])}],!1,null,null,null).exports);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==b(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===b(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D={data:function(){return{enabled:!1,contract:null,representUser:null,user:null}},methods:x(x({},Object(i.b)("Admin.contracts",["getReceiptInfo"])),{},{create:function(t){var e=this,n=t.contract;this.contract=n,this.getReceiptInfo(n.user_code).then((function(t){e.representUser=t.representUser,e.user=t.user,e.enabled=!0;var n="QTV_BLRT_"+e.contract.code+"_"+moment().format("YYYYMMDDHHmmss");e.$emit("generatePdf",n)}))},done:function(){this.enabled=!1}})},$=(n("qI8z"),Object(d.a)(D,(function(){var t=this,e=t._self._c;return t.enabled?e("div",[e("div",{staticClass:"contract-name"},[t._v("BIÊN LAI RÚT TIỀN")]),t._v(" "),e("div",{staticClass:"code"},[t._v("\n    Số:"),e("b",[t._v(t._s(t.contract.code))]),t._v("/BLRT\n  ")]),t._v(" "),e("div",{staticClass:"place-and-date"},[t._v("……………, ngày……tháng……năm………")]),t._v(" "),e("div",{staticClass:"parties-info"},[e("div",{staticClass:"include"},[t._v("Chúng tôi gồm có:")]),t._v(" "),e("div",{staticClass:"side"},[e("div",{staticClass:"name"},[t._v("\n        1. BÊN NHẬN TIỀN (gọi tắt là bên A): "+t._s(t.user.sex?"Ông":"Bà")+"\n        "+t._s(t.user.name)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.idNumber"))+": "+t._s(t.user.identity.number)+"  \n        "+t._s(t.$t("models.user.idIssuedOn"))+":\n        "+t._s(t._f("formatDate")(t.user.identity.issued_on))+"  \n        "+t._s(t.$t("models.user.idIssuedAt"))+": "+t._s(t.$mt.idIssuedAtValue)+"\n      ")]),t._v(" "),e("div",[t._v("- "+t._s(t.$t("models.user.address"))+": "+t._s(t.user.address))])]),t._v(" "),e("div",{staticClass:"side"},[e("div",{staticClass:"name"},[t._v("\n        2. BÊN GIAO TIỀN (gọi tắt là bên B):\n        "+t._s(t.representUser.sex?"Ông":"Bà")+"\n        "+t._s(t.representUser.name)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.idNumber"))+":\n        "+t._s(t.representUser.identity.number)+"  \n        "+t._s(t.$t("models.user.idIssuedOn"))+":\n        "+t._s(t._f("formatDate")(t.representUser.identity.issued_on))+"  \n        "+t._s(t.$t("models.user.idIssuedAt"))+":\n        "+t._s(t.$mt.idIssuedAtValue)+"\n      ")]),t._v(" "),e("div",[t._v("\n        - "+t._s(t.$t("models.user.address"))+":\n        "+t._s(t.representUser.address)+"\n      ")])]),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 1: Thông tin Hợp đồng")]),t._v(" "),e("div",[t._v("\n          Căn cứ theo Hợp đồng hợp tác đầu tư số "),e("b",[t._v(t._s(t.user.code))]),t._v("/HDHTDT, bên A đã đóng Hợp đồng như sau:\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.code"))+":\n          "+t._s(t.contract.code)+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.paidAt"))+":\n          "+t._s(t._f("formatDate")(t.contract.paid_at))+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.withdrawnAt"))+":\n          "+t._s(t._f("formatDate")(t.contract.withdrawn_at))+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.duration"))+":\n          "+t._s(t.contract.duration)+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.interestRate"))+":\n          "+t._s(t._f("percentInterestRate")(t.contract.interest_rate))+"\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.principal"))+":\n          "+t._s(t._f("currency")(t.contract.principal))+"\n          ("+t._s(t._f("readCurrency")(t.contract.principal))+")\n        ")]),t._v(" "),e("div",[t._v("\n          - "+t._s(t.$t("models.contract.interest"))+":\n          "+t._s(t._f("currency")(t.contract.interest))+"\n          ("+t._s(t._f("readCurrency")(t.contract.interest))+")\n        ")])]),t._v(" "),e("div",{staticClass:"terms"},[e("div",{staticClass:"title"},[t._v("Điều 2: Xác nhận nộp tiền")]),t._v(" "),e("div",[t._v("\n          Bên A đã bàn giao cho bên B đầy đủ\n          "+t._s(t.$t("models.contract.principal"))+" và\n          "+t._s(t.$t("models.contract.interest"))+" là\n          "+t._s(t._f("currency")(t.contract.principal+t.contract.interest))+" (\n          "+t._s(t._f("readCurrency")(t.contract.principal+t.contract.interest))+").\n        ")])]),t._v(" "),t._m(0)])])]):t._e()}),[function(){var t=this._self._c;return t("div",{staticClass:"terms"},[t("div",{staticClass:"title"},[this._v("Điều 3: Điều khoản chung")]),this._v(" "),t("div",[this._v("\n          Biên lai này được lập thành 02 (hai) bản giống nhau và có giá trị\n          như nhau, mỗi bên giữ 01 (một) bản. Hai bên cùng ký xác nhận đã đọc\n          và xác nhận mọi nội dung và điều khoản như đã nêu trên.\n        ")])])}],!1,null,null,null).exports);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===C(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k={components:{VueHtml2Pdf:o.a,ContractPdf:p,PayReceiptPdf:y,WithdrawReceiptPdf:$},data:function(){return{componentName:null,filename:null,isPreview:!1}},methods:O(O({},Object(i.b)(["setSyncing"])),{},{download:function(t){var e=this;this.setSyncing(!0),this.componentName=t.component,this.isPreview=t.isPreview,setTimeout((function(){return e.$refs.componentRef.create(t)}),0)},generatePdf:function(t){var e=this;this.setSyncing(!0),this.filename=t,setTimeout((function(){return e.$refs.html2Pdf.generatePdf()}),0)},onHasDownloaded:function(){var t=this;setTimeout((function(){return t.$refs.componentRef.done()}),0),this.setSyncing(!1)}})},I=(n("jDKk"),Object(d.a)(k,(function(){var t=this,e=t._self._c;return e("VueHtml2Pdf",{ref:"html2Pdf",attrs:{"show-layout":!1,"float-layout":!0,"enable-download":!t.isPreview,"preview-modal":t.isPreview,filename:t.filename,"pdf-quality":2,"manual-pagination":!0,"pdf-format":"a4","pdf-orientation":"portrait"},on:{hasDownloaded:t.onHasDownloaded}},[e("section",{class:"pdf-content ".concat(t.componentName),attrs:{slot:"pdf-content"},slot:"pdf-content"},[e("section",{staticClass:"pdf-layer3"},[e("img",{attrs:{src:n("mDhn"),alt:t.$appName}})]),t._v(" "),e("section",{staticClass:"pdf-layer2"},t._l(56,(function(i){return e("img",{key:i,attrs:{src:n("gZlo"),alt:t.$appName}})})),0),t._v(" "),e("section",{staticClass:"pdf-layer1"},t._l(2,(function(i){return e("img",{key:i,attrs:{src:n("LuB8"),alt:t.$appName}})})),0),t._v(" "),e("section",{staticClass:"pdf-text"},[e("section",{staticClass:"pdf-header"},[e("div",{staticClass:"national-brand"},[t._v("CỘNG HÒA XÃ HỘI CHỦ NGHĨA VIỆT NAM")]),t._v(" "),e("div",{staticClass:"slogans"},[t._v("Độc lập – Tự do – Hạnh phúc")]),t._v(" "),e("div",[t._v("————o0o————")])]),t._v(" "),e("section",{staticClass:"pdf-body"},[e(t.componentName,{ref:"componentRef",tag:"component",on:{generatePdf:t.generatePdf}})],1),t._v(" "),e("section",{staticClass:"pdf-footer"},[e("div",{staticClass:"signature"},[e("div",[t._v("Bên A"),e("br"),t._v("(Ký, ghi rõ họ tên)")]),t._v(" "),e("div",[t._v("Bên B"),e("br"),t._v("(Ký, ghi rõ họ tên)")])])])])])])}),[],!1,null,null,null));e.a=I.exports},EDU6:function(t,e,n){"use strict";n.r(e);var i=n("L2JU"),o=n("0woa"),r=n("0TQy");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={components:{DxDataGrid:o.DxDataGrid,DxColumn:o.DxColumn},data:function(){return{gridData:null}},computed:c(c({},Object(i.c)("Admin.users",["deletedUsers"])),{},{dataGrid:function(){return this.$refs.dataGrid.instance},popup:function(){return this.$refs.popup.instance}}),watch:{deletedUsers:function(){this.cloneDeepData()}},methods:c(c({},Object(i.b)("Admin.users",["save"])),{},{show:function(){var t=this;this.popup.show(),this.cloneDeepData(),this.$mf.pushPopupToHistoryState((function(){return t.popup.hide()}))},onSavedDeletedUser:function(t){var e=this;this.$bus.emit("checkPin",(function(){t.isDeleted=!0,e.save(t)}))},cloneDeepData:function(){this.gridData=this.$mf.cloneDeep(this.deletedUsers)},isRowRestored:function(t){var e=this.dataGrid.option("editing.changes").find((function(e){return"update"==e.type&&e.key==t}));return this.$mf.isSet(e)},unrestore:function(t){var e=this.dataGrid.option("editing.changes");e=e.filter((function(e){return!("update"==e.type&&e.key==t)})),this.dataGrid.option("editing.changes",e)},isRowDeleted:function(t){var e=this.dataGrid.option("editing.changes").find((function(e){return"remove"==e.type&&e.key==t}));return this.$mf.isSet(e)}})},d=n("KHd+"),p=Object(d.a)(u,(function(){var t=this,e=t._self._c;return e("DxPopup",{ref:"popup",attrs:{showCloseButton:!0,fullScreen:!!t.$devices.phone,"show-title":!0,title:t.$t("admin.users.deletedUsers")},on:{hiding:t.$mf.popRouteHistoryState},scopedSlots:t._u([{key:"content",fn:function(){return[e("DxDataGrid",{ref:"dataGrid",attrs:{"data-source":t.gridData,"key-expr":"id","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget",paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},editing:{allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"batch"}},on:{contentReady:function(e){return t.$mf.dataGridPreload(t.gridData,t.dataGrid)},saved:t.onSavedDeletedUser},scopedSlots:t._u([{key:"commandCellTemplate",fn:function(n){var i=n.data;return[e("DxToolbar",{attrs:{items:[{locateInMenu:"auto",showText:"inMenu",location:"before",widget:"dxButton",options:{disabled:t.isRowDeleted(i.key),type:"default",icon:t.isRowRestored(i.key)?"undo":"repeat",hint:t.$t("admin.users.buttons.revert"),text:t.$t("admin.users.buttons.revert"),onClick:function(){t.isRowRestored(i.key)?t.unrestore(i.key):t.dataGrid.cellValue(i.rowIndex,"deleted_at",null),t.dataGrid.repaintRows(i.rowIndex)}}},{locateInMenu:"auto",showText:"inMenu",location:"before",widget:"dxButton",options:{type:"default",icon:t.isRowDeleted(i.key)?"undo":"clearsquare",hint:t.$t("admin.users.buttons.remove"),text:t.$t("admin.users.buttons.remove"),onClick:function(){t.isRowDeleted(i.key)?t.dataGrid.undeleteRow(i.rowIndex):t.dataGrid.deleteRow(i.rowIndex)}}}]}})]}}])},[e("DxColumn",{attrs:{fixed:!0,width:t.$devices.phone?35:75,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:t.$t("titles.commandHeaderTitle".concat(t.$devices.phone?"Short":""))}}),t._v(" "),e("DxColumn",{attrs:{"allow-editing":!1,"data-field":"code","data-type":"string",caption:t.$t("models.user.codeShort")}}),t._v(" "),e("DxColumn",{attrs:{"allow-editing":!1,"data-field":"name",caption:t.$t("models.user.name")}}),t._v(" "),e("DxColumn",{attrs:{"allow-editing":!1,"data-field":"phone",caption:t.$t("models.user.phone")}}),t._v(" "),e("DxColumn",{attrs:{"allow-editing":!1,visible:!1,"data-field":"deleted_at"}})],1)]},proxy:!0}])})}),[],!1,null,null,null).exports,f=n("liG9"),m=n.n(f),h=n("DSjN");function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(){g=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var r=e&&e.prototype instanceof p?e:p,a=Object.create(r.prototype),s=new O(o||[]);return i(a,"_invoke",{value:D(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function p(){}function f(){}function m(){}var h={};c(h,r,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==e&&n.call(b,r)&&(h=b);var _=m.prototype=p.prototype=Object.create(h);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;i(this,"_invoke",{value:function(i,r){function a(){return new e((function(o,a){!function i(o,r,a,s){var c=u(t[o],t,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==v(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}(i,r,o,a)}))}return o=o?o.then(a,a):a()}})}function D(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return k()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=$(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function $(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,$(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function S(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=m,i(_,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:f,configurable:!0}),f.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new w(l(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(_),c(_,s,"Generator"),c(_,r,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function y(t,e,n,i,o,r,a){try{var s=t[r](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,o)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){y(r,i,o,a,s,"next",t)}function s(t){y(r,i,o,a,s,"throw",t)}a(void 0)}))}}function _(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==v(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C={components:{DxAccordion:m.a,Pdf:h.a},data:function(){return{refreshKey:0,user:{},formData:{},backupDocuments:[]}},mounted:function(){this.initFormData()},computed:{popup:function(){return this.$refs.popup.instance},accordion:function(){return this.$refs.accordion.instance},submit:function(){return this.$refs.submit.instance}},methods:D(D({},Object(i.b)("Admin.users",["uploadDocuments"])),{},{show:function(t){var e=this,n=t.user;this.popup.option("title",this.$t("components.confirmUser.".concat(4==n.level?"title":"confirmedTitle"))+" #"+n.code),this.user=n,this.popup.show(),setTimeout((function(){return e.accordion.option("selectedIndex",4==n.level?0:1)}),0),this.backupDocuments=n.url_documents.map((function(t){return D(D({},t),{isUpload:!1})})),this.formData.documents=this.backupDocuments,this.$mf.pushPopupToHistoryState((function(){return e.popup.hide()}))},onUploadImageChange:function(t){var e=this,n=t.target.id.replace("Image","");this.formData.documents=this.formData.documents.filter((function(t){return!(t.type==n&&t.isUpload)})),console.log("onUploadImageChange",t.target.files),_(t.target.files).forEach((function(t){return e.formData.documents.push({type:n,file:URL.createObjectURL(t),isUpload:!0})}))},onCheckBoxDeleteChange:function(t){var e=t.element.id.replace("Delete","");t.value?this.formData.documents=this.formData.documents.filter((function(t){return!(t.type==e&&!t.isUpload)})):this.formData.documents=this.backupDocuments.filter((function(t){return t.type==e})).concat(this.formData.documents)},saveClick:function(){this.formData.isContractDelete||this.formData.isIdentityDelete||0!=this.$refs.contractImage.files.length||0!=this.$refs.identityImage.files.length?0==this.formData.documents.length?this.$toasted.show(this.$t("messages.warning.imageEmpty")):this.submit.element().click():this.$toasted.info(this.$t("messages.info.noChangedData"))},onSubmit:function(){var t=this;this.$bus.emit("checkPin",b(g().mark((function e(){var n,i,o,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("userId",t.user.id),n.append("isContractDelete",t.formData.isContractDelete),n.append("isIdentityDelete",t.formData.isIdentityDelete),i=0;case 5:if(!(i<t.$refs.contractImage.files.length)){e.next=13;break}return e.next=8,t.$mf.resizeImage({file:t.$refs.contractImage.files[i],maxSize:t.$mc.MAX_SIZE_IMAGE_UPLOAD});case 8:o=e.sent,n.append("contractImages[".concat(i,"]"),o);case 10:i++,e.next=5;break;case 13:i=0;case 14:if(!(i<t.$refs.identityImage.files.length)){e.next=22;break}return e.next=17,t.$mf.resizeImage({file:t.$refs.identityImage.files[i],maxSize:t.$mc.MAX_SIZE_IMAGE_UPLOAD});case 17:r=e.sent,n.append("identityImages[".concat(i,"]"),r);case 19:i++,e.next=14;break;case 22:t.uploadDocuments(n).then((function(e){e&&t.popup.hide()}));case 23:case"end":return e.stop()}}),e)}))))},initFormData:function(){this.formData={isPdfPreview:!1,isContractDelete:!1,isIdentityDelete:!1,documents:[]}},onHiding:function(){this.initFormData(),this.refreshKey++,this.$mf.popRouteHistoryState()}})},P=(n("HT4u"),Object(d.a)(C,(function(){var t=this,e=t._self._c;return e("div",[e("DxPopup",{ref:"popup",attrs:{showCloseButton:!0,fullScreen:!!t.$devices.phone,"show-title":!0,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:t.$t("buttons.save"),onClick:t.saveClick}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:t.$t("buttons.cancel"),onClick:function(){return t.$refs.submit.click()}}}],wrapperAttr:{class:"confirm-user-popup"}},on:{hiding:t.onHiding},scopedSlots:t._u([{key:"content",fn:function(){return[e("DxScrollView",[e("DxAccordion",{ref:"accordion",attrs:{collapsible:!0,items:[{title:t.$t("components.confirmUser.step1"),template:"step1Template"},{title:t.$t("components.confirmUser.step2"),template:"step2Template"}]},scopedSlots:t._u([{key:"step1Template",fn:function(){return[e("div",{staticClass:"download"},[e("DxButton",{attrs:{text:t.$t("buttons.download"),icon:"download",type:"default","styling-mode":"contained"},on:{click:function(){return t.$refs.pdf.download({component:"ContractPdf",user:t.user,isPreview:t.formData.isPdfPreview})}}}),t._v(" "),t.$devices.phone?t._e():e("DxCheckBox",{attrs:{text:t.$t("components.confirmUser.preview")},model:{value:t.formData.isPdfPreview,callback:function(e){t.$set(t.formData,"isPdfPreview",e)},expression:"formData.isPdfPreview"}})],1)]},proxy:!0},{key:"step2Template",fn:function(){return[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("DxButton",{ref:"submit",staticClass:"display-none",attrs:{useSubmitBehavior:!0}}),t._v(" "),e("div",{key:t.refreshKey,staticClass:"upload"},[e("div",{staticClass:"upload-browser"},[e("input",{ref:"contractImage",attrs:{type:"file",id:"contractImage",multiple:"multiple",accept:"images/*"},on:{change:t.onUploadImageChange}}),t._v(" "),e("label",{attrs:{for:"contractImage"}},[e("i",{staticClass:"far fa-file-upload"}),t._v("\n                                        "+t._s(t.$t("components.confirmUser.chooseContractImage")))]),t._v(" "),e("DxCheckBox",{attrs:{id:"contractDelete",text:t.$t("titles.deleteOldImage")},on:{valueChanged:t.onCheckBoxDeleteChange},model:{value:t.formData.isContractDelete,callback:function(e){t.$set(t.formData,"isContractDelete",e)},expression:"formData.isContractDelete"}})],1),t._v(" "),e("div",{staticClass:"upload-browser"},[e("input",{ref:"identityImage",attrs:{type:"file",id:"identityImage",multiple:"multiple",accept:"images/*"},on:{change:t.onUploadImageChange}}),t._v(" "),e("label",{attrs:{for:"identityImage"}},[e("i",{staticClass:"far fa-file-upload"}),t._v("\n                                        "+t._s(t.$t("components.confirmUser.chooseIdentityImage")))]),t._v(" "),e("DxCheckBox",{attrs:{id:"identityDelete",text:t.$t("titles.deleteOldImage")},on:{valueChanged:t.onCheckBoxDeleteChange},model:{value:t.formData.isIdentityDelete,callback:function(e){t.$set(t.formData,"isIdentityDelete",e)},expression:"formData.isIdentityDelete"}})],1),t._v(" "),t.formData.documents.length?e("Photoswipe",{on:{opened:t.$mf.pushPhotoswipeToHistoryState,close:t.$mf.popRouteHistoryState}},t._l(t.formData.documents,(function(n,i){return e("div",{key:i},[e("img",{directives:[{name:"pswp",rawName:"v-pswp",value:n.file,expression:"image.file"}],attrs:{src:n.file,alt:t.$appName}})])})),0):t._e()],1)],1)]},proxy:!0}])})],1)]},proxy:!0}])}),t._v(" "),t.$mf.isSet(t.user)?e("Pdf",{ref:"pdf"}):t._e()],1)}),[],!1,null,null,null).exports),O=n("e+zl");function S(){return{users:[],deletedUsers:[],allRolesName:[],allPermissionsName:[],updatedAt:null}}var k={namespaced:!0,state:S,getters:{users:function(t){return t.users},deletedUsers:function(t){return t.deletedUsers},allRolesName:function(t){return t.allRolesName},allPermissionsName:function(t){return t.allPermissionsName}},actions:{validateDuplicateEmail:function(t,e){var n=t.state,i=(t.rootGetters,n.users.find((function(t){return t.id===e.data.id})));return i&&e.value==i.email?Promise.resolve(!0):new Promise((function(t,n){axios.post("users/validate-duplicate",{field:"email",email:e.value},{noLoading:!0}).then((function(e){t(e.data)}))}))},validateDuplicateIdNumber:function(t,e){var n=t.state,i=(t.rootGetters,n.users.find((function(t){return t.id===e.data.id})));return i&&e.value==i.identity.number?Promise.resolve(!0):new Promise((function(t,n){axios.post("users/validate-duplicate",{field:"id_number",id_number:e.value},{noLoading:!0}).then((function(e){t(e.data)}))}))},validateDuplicatePhone:function(t,e){var n=t.state,i=(t.rootGetters,n.users.find((function(t){return t.id===e.data.id})));return i&&e.value==i.phone?Promise.resolve(!0):new Promise((function(t,n){axios.post("users/validate-duplicate",{field:"phone",phone:e.value},{noLoading:!0}).then((function(e){t(e.data)}))}))},fetch:function(t){var e=t.commit,n=(t.dispatch,t.getters,t.state);t.rootGetters;return!(moment().diff(n.updatedAt,"seconds")<3)&&new Promise((function(t,n){axios.get("users").then((function(n){e("setState",n.data),t()}))}))},save:function(t,e){t.commit;var n=t.dispatch;t.getters,t.state,t.rootGetters;return new Promise((function(t,i){axios.post("users"+(e.isDeleted?"/deleted":""),{changes:e.changes}).then((function(e){t(),n("fetch"),n("User.layout/initLayout",["users"],{root:!0})}))}))},uploadDocuments:function(t,e){t.commit;var n=t.dispatch;t.getters,t.state,t.rootGetters;return new Promise((function(t,i){axios.post("users/documents",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data.isOk),n("fetch"),n("User.layout/initLayout",["users"],{root:!0})}))}))},getContractInfo:function(t){t.commit,t.dispatch,t.getters,t.state,t.rootGetters;return new Promise((function(t,e){axios.get("users/contract-info",{noLoading:!0}).then((function(e){console.log(e.data),t(e.data)}))}))},resetState:function(t){(0,t.commit)("resetState")}},mutations:{setState:function(t,e){t.users=e.users,t.deletedUsers=e.deletedUsers,t.allRolesName=e.allRolesName,t.allPermissionsName=e.allPermissionsName,t.updatedAt=moment()},resetState:function(t){t=Object.assign(t,{users:[],deletedUsers:[],allRolesName:[],allPermissionsName:[],updatedAt:null})}}};function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){B(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function B(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==I(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===I(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N={components:{DxDataGrid:o.DxDataGrid,DxColumn:o.DxColumn,ListTagBox:r.a,DeletedUsersPopup:p,ConfirmUserPopup:P,UserDetailPopup:O.a},data:function(){return{gridData:null,banks:[],rolesCalculateFilterExpression:function(t,e,n){return"search"===n&&"string"==typeof t?[this.dataField,"contains",t]:function(e){return-1!==(e.roles||[]).indexOf(t)}},permissionsCalculateFilterExpression:function(t,e,n){return"search"===n&&"string"==typeof t?[this.dataField,"contains",t]:function(e){return-1!==(e.permissions||[]).indexOf(t)}},validationRules:{name:[{type:"required",message:this.$t("models.user.name")+this.$mt.validations.required},{type:"stringLength",max:50,message:this.$t("models.user.validations.name")}],sex:[{type:"required",message:this.$t("models.user.sex")+this.$mt.validations.required}],role:[{type:"required",message:this.$t("models.user.roles")+this.$mt.validations.required}],birthday:[{type:"required",message:this.$t("models.user.birthday")+this.$mt.validations.required},{type:"custom",validationCallback:this.validateBirthday,message:this.$t("models.user.validations.birthday")}],idNumber:[{type:"required",message:this.$t("models.user.idNumber")+this.$mt.validations.required},{type:"async",validationCallback:this.validateDuplicateIdNumber,message:this.$t("models.user.idNumber")+this.$mt.validations.duplicate}],idIssuedOn:[{type:"required",message:this.$t("models.user.idIssuedOn")+this.$mt.validations.required},{type:"custom",validationCallback:this.validateIdIssuedOn,message:this.$t("models.user.validations.idIssuedOn")}],phone:[{type:"required",message:this.$t("models.user.phone")+this.$mt.validations.required},{type:"async",validationCallback:this.validateDuplicatePhone,message:this.$t("models.user.phone")+this.$mt.validations.duplicate}],email:[{type:"required",message:this.$t("models.user.email")+this.$mt.validations.required},{type:"email",message:this.$t("models.user.email")+this.$mt.validations.email},{type:"async",validationCallback:this.validateDuplicateEmail,message:this.$t("models.user.email")+this.$mt.validations.duplicate}],address:[{type:"required",message:this.$t("models.user.address")+this.$mt.validations.required},{type:"stringLength",max:100,message:this.$t("models.user.validations.address")}]}}},beforeCreate:function(){this.$store.registerModule("Admin.users",k)},created:function(){var t=this;this.fetch().then((function(){return t.$mf.getBanks()})).then((function(e){return t.banks=e}))},destroyed:function(){this.$store.unregisterModule("Admin.users")},computed:T(T(T({},Object(i.c)("Auth",["permissions","code"])),Object(i.c)("Admin.users",["users","allRolesName","allPermissionsName"])),{},{dataGrid:function(){return this.$refs.dataGrid.instance},contextMenu:function(){return this.$refs.contextMenu.instance}}),watch:{users:function(){this.cloneDeepData()}},methods:T(T(T({},Object(i.b)("Admin.users",["fetch","save","validateDuplicateEmail","validateDuplicateIdNumber","validateDuplicatePhone","resetState"])),Object(i.b)("User.layout",["initLayout"])),{},{onSaved:function(t){t.isDeleted=!1,this.save(t)},onToolbarPreparing:function(t){var e=this;t.toolbarOptions.items.unshift({visible:this.$mf.isSet(this.$route.query),location:"before",widget:"dxButton",options:{icon:"far fa-arrow-left small",hint:this.$t("buttons.back"),onClick:function(){e.$router.go(-1)}}},{locateInMenu:"auto",showText:"inMenu",location:"before",widget:"dxButton",options:{icon:"far fa-share-square small",hint:this.$t("admin.users.buttons.sendNotification"),text:this.$t("admin.users.buttons.sendNotification"),onClick:function(){e.dataGrid.getSelectedRowKeys().length>0?e.$router.push({name:"setting-notification",query:{codes:e.dataGrid.getSelectedRowKeys().join(",")}}):e.$toasted.show(e.$t("messages.info.noSelectedRow"))}}},{locateInMenu:"auto",showText:"inMenu",location:"before",widget:"dxButton",options:{icon:"far fa-trash small",hint:this.$t("admin.users.buttons.selectedDelete"),text:this.$t("admin.users.buttons.selectedDelete"),onClick:function(){var t=e.dataGrid.getSelectedRowKeys();t.length>0?(e.$bus.emit("checkPin",(function(){e.dataGrid.option("editing.mode","batch"),t.forEach((function(t){e.dataGrid.deleteRow(e.dataGrid.getRowIndexByKey(t))})),e.dataGrid.saveEditData()})),e.dataGrid.option("editing.mode","popup")):e.$toasted.show(e.$t("messages.info.noSelectedRow"))}}},{locateInMenu:"auto",showText:"inMenu",location:"before",widget:"dxButton",options:{icon:"far fa-user-times small",hint:this.$t("admin.users.deletedUsers"),text:this.$t("admin.users.deletedUsers"),onClick:function(){return e.$refs.deletedUsersPopup.show()}}})},tagBoxCellTemplate:function(t,e){var n=(e.value||[]).map((function(t){return e.column.lookup.calculateCellValue(t)})).join(", ");t.textContent=n||" ",t.title=n},onValueChanged:function(t,e){e.setValue(t),e.component.updateDimensions()},validateBirthday:function(t){return moment(t.value).isBefore(moment().subtract(18,"years"))},validateIdIssuedOn:function(t){return moment(t.value).isBefore(moment().subtract(1,"day"))},onInitNewRow:function(t){t.data.roles=["user"],t.data.bank_account={},this.dataGrid.option("editing.popup.title",this.$t("models.user.popup.create"))},onEditingStart:function(t){this.dataGrid.option("editing.popup.title","".concat(this.$t("models.user.popup.edit")," #").concat(t.data.code))},cloneDeepData:function(){var t=this;this.gridData=this.$mf.cloneDeep(this.users),this.$route.query.code&&this.dataGrid.columnOption("code","filterValues",[+this.$route.query.code]),this.$route.query.selected&&setTimeout((function(){return t.dataGrid.selectRows(t.$route.query.selected.split(","),!0)}),0)},onShown:function(t){var e=this;this.$mf.checkPinDataGrid(t,this),this.$mf.pushPopupToHistoryState((function(){return e.dataGrid.cancelEditData()}))},onCellPrepared:function(t){if("data"===t.rowType){var e;if("level"===t.column.dataField)e=t.value<4?"#adadad":4==t.value?"#edc578":"#86c285",t.cellElement.style.color=e;"phone"===t.column.dataField&&(t.cellElement.innerHTML=this.$options.filters.phone(t.value))}},onCellDblClick:function(t){"data"==t.rowType&&5==t.columnIndex&&this.$mf.openLink("https://zalo.me/".concat(t.data.phone))}})},R=(n("ieel"),Object(d.a)(N,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"users-page"},[e("h2",{staticClass:"content-block"},[t._v("\n        "+t._s(t.$t("admin.users.title"))+"\n    ")]),t._v(" "),e("div",{staticClass:"content-block dx-card responsive-paddings"},[e("DxDataGrid",{ref:"dataGrid",attrs:{"data-source":t.gridData,"key-expr":"code","show-borders":!0,"column-auto-width":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-resizing-mode":"widget","column-chooser":{enabled:!0,mode:"select",allowSearch:!0},paging:{pageSize:10},headerFilter:{visible:!0},loadPanel:{enabled:!0},selection:{mode:"multiple",showCheckBoxesMode:"always"},editing:{allowAdding:!0,allowUpdating:!0,allowDeleting:!0,confirmDelete:!1,mode:"popup",popup:{showTitle:!0,onShown:t.onShown,onHiding:t.$mf.popRouteHistoryState},form:{colCount:2,labelLocation:t.$devices.phone?"top":"left",items:[{itemType:"group",caption:t.$t("models.user.groups.personalInfo"),items:[{dataField:"name"},{dataField:"sex"},{dataField:"birthday"}]},{itemType:"group",caption:t.$t("models.user.groups.idInfo"),items:[{dataField:"identity.number"},{dataField:"identity.issued_on"},{dataField:"",editorOptions:{value:t.$mt.idIssuedAtValue,readOnly:!0},label:{text:t.$t("models.user.idIssuedAt")}}]},{colCount:2,colSpan:2,itemType:"group",caption:t.$t("models.user.groups.contactInfo"),items:[{dataField:"phone"},{dataField:"email"},{dataField:"address",colSpan:2}]},{colCount:2,colSpan:2,itemType:"group",caption:t.$t("models.user.groups.bankInfo"),items:[{dataField:"bank_account.bank_name"},{dataField:"bank_account.account_name"},{dataField:"bank_account.account_number"}]},{visible:t.permissions.includes("system@control"),colCount:2,colSpan:2,itemType:"group",caption:t.$t("models.user.groups.permission"),items:[{dataField:"roles",colSpan:2},{dataField:"permissions",colSpan:2}]}]}}},on:{"cell-prepared":t.onCellPrepared,contentReady:function(e){return t.$mf.dataGridPreload(t.gridData,t.dataGrid)},"toolbar-preparing":t.onToolbarPreparing,"init-new-row":t.onInitNewRow,"editing-start":t.onEditingStart,cellDblClick:t.onCellDblClick,saved:t.onSaved},scopedSlots:t._u([{key:"avatarCellTemplate",fn:function(n){var i=n.data;return[e("Photoswipe",{on:{opened:t.$mf.pushPhotoswipeToHistoryState,close:t.$mf.popRouteHistoryState}},[e("img",{directives:[{name:"pswp",rawName:"v-pswp",value:i.value,expression:"data.value"}],staticStyle:{"border-radius":"50%"},attrs:{src:i.value,width:"40",alt:t.$appName}})])]}},{key:"roleTagBoxEditor",fn:function(n){var i=n.data;return[e("ListTagBox",{attrs:{value:i.value,"on-value-changed":function(e){return t.onValueChanged(e,i)},"data-source":t.allRolesName,"data-grid-component":i.component}})]}},{key:"permissionTagBoxEditor",fn:function(n){var i=n.data;return[e("ListTagBox",{attrs:{value:i.value,"on-value-changed":function(e){return t.onValueChanged(e,i)},"data-source":t.allPermissionsName,"data-grid-component":i.component}})]}},{key:"commandCellTemplate",fn:function(n){var i=n.data;return[e("DxToolbar",{attrs:{items:[{visible:[4,5].includes(i.data.level)||t.permissions.includes("system@control")&&i.data.level>5,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"far fa-".concat(4==i.data.level?"check":"file-check"," small"),hint:t.$t("components.confirmUser.".concat(4==i.data.level?"title":"confirmedTitle")),text:t.$t("components.confirmUser.".concat(4==i.data.level?"title":"confirmedTitle")),onClick:function(){return t.$refs.confirmUserPopup.show({user:i.data})}}},{visible:i.data.level>=6,locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"far fa-usd-circle small",hint:t.$t("admin.users.buttons.viewContract"),text:t.$t("admin.users.buttons.viewContract"),onClick:function(){return t.$router.push({name:"contracts",query:{userCode:i.data.code}})}}},{visible:!i.data.permissions.includes("system@control")||t.permissions.includes("system@control"),locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"edit",hint:t.$t("buttons.edit"),text:t.$t("buttons.edit"),onClick:function(){return t.dataGrid.editRow(i.rowIndex)}}},{visible:i.data.level<=6&&i.data.code!=t.code&&!i.data.permissions.includes("system@control"),locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"trash",hint:t.$t("buttons.delete"),text:t.$t("buttons.delete"),onClick:function(){return t.$bus.emit("checkPin",(function(){return t.dataGrid.deleteRow(i.rowIndex)}))}}},{locateInMenu:"auto",showText:"inMenu",location:"center",widget:"dxButton",options:{type:"default",icon:"info",hint:t.$t("admin.users.detailUser"),text:t.$t("admin.users.detailUser"),onClick:function(){return t.$refs.userDetailPopup.show({user:i.data})}}}]}})]}}])},[e("DxColumn",{attrs:{fixed:!0,width:t.$devices.phone?35:125,type:"buttons",cssClass:"dx-datagrid-command-column","cell-template":"commandCellTemplate",caption:t.$t("titles.commandHeaderTitle".concat(t.$devices.phone?"Short":""))}}),t._v(" "),e("DxColumn",{attrs:{width:60,"allow-sorting":!1,allowFiltering:!1,"data-field":"url_avatar","cell-template":"avatarCellTemplate",cssClass:"avatar-column",caption:t.$t("models.user.avatar")}}),t._v(" "),e("DxColumn",{attrs:{"allow-editing":!1,"data-field":"code","data-type":"string","header-filter":{allowSearch:!0},name:"code",caption:t.$t("models.user.codeShort")}}),t._v(" "),e("DxColumn",{attrs:{"allow-editing":!1,"data-field":"level",dataType:"number",caption:t.$t("models.user.status"),lookup:{dataSource:t.$mf.getUserLevelList(),displayExpr:"name",valueExpr:"value"}}}),t._v(" "),e("DxColumn",{attrs:{"data-field":"name","data-type":"string","header-filter":{allowSearch:!0},caption:t.$t("models.user.name"),"validation-rules":t.validationRules.name}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"sex","data-type":"number",caption:t.$t("models.user.sex"),"validation-rules":t.validationRules.sex,lookup:{dataSource:t.$mf.getSexList(),displayExpr:"name",valueExpr:"value"}}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"birthday","data-type":"date","editor-options":{dateSerializationFormat:t.$mc.DX_SERVER_DATE_FORMAT,showClearButton:"true",useMaskBehavior:"true"},caption:t.$t("models.user.birthday"),"validation-rules":t.validationRules.birthday}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"identity.number","data-type":"string","editor-options":{mask:"000000000000"},"header-filter":{allowSearch:!0},caption:t.$t("models.user.idNumber"),"validation-rules":t.validationRules.idNumber}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"identity.issued_on","data-type":"date","editor-options":{dateSerializationFormat:t.$mc.DX_SERVER_DATE_FORMAT,showClearButton:"true",useMaskBehavior:"true"},caption:t.$t("models.user.idIssuedOn"),"validation-rules":t.validationRules.idIssuedOn}}),t._v(" "),e("DxColumn",{attrs:{"data-field":"phone","data-type":"string","editor-options":{mask:"0000.000.000"},"header-filter":{allowSearch:!0},caption:t.$t("models.user.phone"),"validation-rules":t.validationRules.phone}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"email","data-type":"string",name:"email","header-filter":{allowSearch:!0},caption:t.$t("models.user.email"),"validation-rules":t.validationRules.email}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"address","data-type":"string","header-filter":{allowSearch:!0},caption:t.$t("models.user.address"),"validation-rules":t.validationRules.address}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"bank_account.bank_name","data-type":"string",lookup:{dataSource:t.banks,displayExpr:"short_name",valueExpr:"short_name",allowClearing:!0},"header-filter":{allowSearch:!0},caption:t.$t("models.user.bankName")}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"bank_account.account_name","data-type":"string","header-filter":{allowSearch:!0},caption:t.$t("models.user.accountName")}}),t._v(" "),e("DxColumn",{attrs:{visible:!1,"data-field":"bank_account.account_number","data-type":"string","header-filter":{allowSearch:!0},caption:t.$t("models.user.accountNumber")}}),t._v(" "),t.permissions.includes("system@control")?e("DxColumn",{attrs:{visible:!1,"allow-sorting":!1,"data-field":"roles","data-type":"string","cell-template":t.tagBoxCellTemplate,"calculate-filter-expression":t.rolesCalculateFilterExpression,caption:t.$t("models.user.roles"),"edit-cell-template":"roleTagBoxEditor","validation-rules":t.validationRules.role,lookup:{dataSource:t.allRolesName}}}):t._e(),t._v(" "),t.permissions.includes("system@control")?e("DxColumn",{attrs:{visible:!1,"allow-sorting":!1,"data-field":"permissions","data-type":"string","cell-template":t.tagBoxCellTemplate,"calculate-filter-expression":t.permissionsCalculateFilterExpression,caption:t.$t("models.user.permissions"),"edit-cell-template":"permissionTagBoxEditor",lookup:{dataSource:t.allPermissionsName}}}):t._e()],1)],1),t._v(" "),e("DeletedUsersPopup",{ref:"deletedUsersPopup"}),t._v(" "),e("ConfirmUserPopup",{ref:"confirmUserPopup"}),t._v(" "),e("UserDetailPopup",{ref:"userDetailPopup"})],1)}),[],!1,null,null,null));e.default=R.exports},HT4u:function(t,e,n){"use strict";n("DJpE")},Hrr4:function(t,e,n){"use strict";n("uLqq")},LuB8:function(t,e){t.exports="/images/background-pdf.png?5eff26fbb812d2f9505e1aa2533f1667"},MEli:function(t,e,n){var i=n("jXjZ");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},S9JT:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".PayReceiptPdf.pdf-content{height:1110px}.PayReceiptPdf.pdf-content .pdf-body .contract-name{margin-top:20px;text-align:center;font-weight:bolder}.PayReceiptPdf.pdf-content .pdf-body .code{text-align:center;font-style:italic}.PayReceiptPdf.pdf-content .pdf-body .place-and-date{text-align:right;font-style:italic;margin-bottom:5px}.PayReceiptPdf.pdf-content .pdf-body .basis{font-style:italic;margin-bottom:5px}.PayReceiptPdf.pdf-content .pdf-body .parties-info .include{font-style:italic}.PayReceiptPdf.pdf-content .pdf-body .main .terms .title,.PayReceiptPdf.pdf-content .pdf-body .side .name{font-weight:700}.PayReceiptPdf.pdf-content .pdf-body .main .terms .formula{text-align:center}",""])},Wxis:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".ContractPdf.pdf-content{height:2230px}.ContractPdf.pdf-content .pdf-body .contract-name{margin-top:20px;text-align:center;font-weight:bolder}.ContractPdf.pdf-content .pdf-body .code{text-align:center;font-style:italic}.ContractPdf.pdf-content .pdf-body .place-and-date{text-align:right;font-style:italic;margin-bottom:5px}.ContractPdf.pdf-content .pdf-body .basis{font-style:italic;margin-bottom:5px}.ContractPdf.pdf-content .pdf-body .parties-info .include{font-style:italic}.ContractPdf.pdf-content .pdf-body .main .terms .title,.ContractPdf.pdf-content .pdf-body .side .name{font-weight:700}.ContractPdf.pdf-content .pdf-body .main .terms .formula{text-align:center}",""])},YgWV:function(t,e,n){(e=t.exports=n("I1BE")(!1)).push([t.i,".confirm-user-popup .download{display:flex;justify-content:space-between;align-items:center}.confirm-user-popup .upload{margin-top:10px}.confirm-user-popup .upload .upload-browser{border:1px solid #4d4d4d}body[screen-size=small] .confirm-user-popup .dx-popup-content{padding:24px 0!important}body[screen-size=small] .confirm-user-popup .dx-popup-content .download{justify-content:center}",""]),e.locals={baseAccent:"#ff5722"}},dTZ1:function(t,e,n){"use strict";n("/6+a")},"e+zl":function(t,e,n){"use strict";var i=n("Ztyd"),o=n("uPXb"),r=n.n(o),a={components:{DxForm:i.DxForm,DxItem:i.DxItem,DxTab:i.DxTab,DxTextArea:r.a},data:function(){return{isLoading:!1,formData:{url_documents:[]}}},computed:{popup:function(){return this.$refs.popup.instance},hasConfirmedDocs:function(){return this.formData.url_documents.length>0}},methods:{show:function(t){var e=this,n=t.user,i=t.getUser;n?(this.popup.option("title","".concat(this.$t("admin.users.detailUser")," #").concat(n.code)),this.formData=n,this.popup.show()):(this.popup.option("title",this.$t("admin.users.detailUser")),this.popup.show(),this.isLoading=!0,i().then((function(t){e.formData=t,e.isLoading=!1}))),this.$mf.pushPopupToHistoryState((function(){return e.popup.hide()}))}}},s=n("KHd+"),c=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("DxPopup",{ref:"popup",attrs:{showCloseButton:!0,fullScreen:!!t.$devices.phone,"show-title":!0},on:{hiding:t.$mf.popRouteHistoryState},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",[e("DxForm",{ref:"form",staticClass:"user-detail-form",attrs:{"form-data":t.formData,"col-count":2,"read-only":!0,"label-location":t.$devices.phone?"top":"left","scrolling-enabled":!0}},[e("DxItem",{attrs:{"item-type":"group",caption:t.$t("models.user.groups.personalInfo")}},[e("DxItem",{attrs:{"data-field":"name",label:{text:t.$t("models.user.name")}}}),t._v(" "),e("DxItem",{attrs:{"data-field":"sex","editor-type":"dxSelectBox","editor-options":{items:t.$mf.getSexList(),displayExpr:"name",valueExpr:"value"},label:{text:t.$t("models.user.sex")}}}),t._v(" "),e("DxItem",{attrs:{"data-field":"birthday","editor-type":"dxDateBox",label:{text:t.$t("models.user.birthday")}}})],1),t._v(" "),e("DxItem",{attrs:{"item-type":"group",caption:t.$t("models.user.groups.idInfo")}},[e("DxItem",{attrs:{"data-field":"identity.number",label:{text:t.$t("models.user.idNumber")}}}),t._v(" "),e("DxItem",{attrs:{"data-field":"identity.issued_on","editor-type":"dxDateBox",label:{text:t.$t("models.user.idIssuedOn")}}}),t._v(" "),e("DxItem",{attrs:{"data-field":"",editorOptions:{value:t.$mt.idIssuedAtValue},label:{text:t.$t("models.user.idIssuedAt")}}})],1),t._v(" "),e("DxItem",{attrs:{"item-type":"group","col-span":2,"col-count":2,caption:t.$t("models.user.groups.contactInfo")}},[e("DxItem",{attrs:{"data-field":"phone",editorOptions:{mask:t.formData.phone?"0000.000.000":null},label:{text:t.$t("models.user.phone")}}}),t._v(" "),e("DxItem",{attrs:{"data-field":"email",label:{text:t.$t("models.user.email")}}}),t._v(" "),e("DxItem",{attrs:{"col-span":2,"data-field":"address",label:{text:t.$t("models.user.address")}}})],1),t._v(" "),e("DxItem",{attrs:{"item-type":"group","col-span":2,caption:t.$t("models.user.groups.bankInfo")}},[e("DxItem",{attrs:{"data-field":"bank_account.bank_name",label:{text:t.$t("models.user.bankName")}}}),t._v(" "),e("DxItem",{attrs:{"data-field":"bank_account.account_number",label:{text:t.$t("models.user.accountNumber")}}}),t._v(" "),e("DxItem",{attrs:{"data-field":"bank_account.account_name",label:{text:t.$t("models.user.accountName")}}})],1),t._v(" "),e("DxItem",{attrs:{visible:t.hasConfirmedDocs,"item-type":"group","col-span":2,caption:t.$t("models.user.groups.confirmDocuments")}},[e("DxItem",{scopedSlots:t._u([{key:"default",fn:function(){return[e("Photoswipe",{on:{opened:t.$mf.pushPhotoswipeToHistoryState,close:t.$mf.popRouteHistoryState}},t._l(t.formData.url_documents,(function(n,i){return e("div",{key:i},[e("img",{directives:[{name:"pswp",rawName:"v-pswp",value:n.file,expression:"image.file"}],attrs:{src:n.file,alt:t.$appName}})])})),0)]},proxy:!0}])})],1)],1),t._v(" "),e("DxLoadPanel",{attrs:{position:{of:".user-detail-form"},visible:t.isLoading,shading:!1}})],1)]},proxy:!0}])})}),[],!1,null,null,null);e.a=c.exports},gZlo:function(t,e){t.exports="/images/horizontal-828x465.png?83ba115647f5770d4084a539d59cb4f4"},ieel:function(t,e,n){"use strict";n("3hlI")},jDKk:function(t,e,n){"use strict";n("MEli")},jXjZ:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".pdf-content{position:relative;width:100%}.pdf-content .pdf-layer1{position:absolute;z-index:-1}.pdf-content .pdf-layer1 img{opacity:.2;margin-top:90px;margin-left:-50px;margin-bottom:140px}.pdf-content .pdf-layer2{position:absolute;z-index:-1}.pdf-content .pdf-layer2 img{transform:rotate(-30deg);opacity:.05;height:200px;margin-top:0;margin-left:30px}.pdf-content .pdf-layer3{position:absolute}.pdf-content .pdf-layer3 img{height:70px;margin-top:20px;margin-left:15px}.pdf-content .pdf-text{width:100%;color:#000;font-family:Times New Roman,Times,serif;font-size:15px;padding:30px 70px;line-height:26px}.pdf-content .pdf-text .pdf-header{text-align:center}.pdf-content .pdf-text .pdf-header .national-brand,.pdf-content .pdf-text .pdf-header .slogans{font-weight:bolder}.pdf-content .pdf-text .pdf-body .contract-name{margin-top:20px;text-align:center;font-weight:bolder}.pdf-content .pdf-text .pdf-body .code{text-align:center;font-style:italic}.pdf-content .pdf-text .pdf-body .place-and-date{text-align:right;font-style:italic;margin-bottom:5px}.pdf-content .pdf-text .pdf-body .basis{font-style:italic;margin-bottom:5px}.pdf-content .pdf-text .pdf-body .parties-info .include{font-style:italic}.pdf-content .pdf-text .pdf-body .main .terms .title,.pdf-content .pdf-text .pdf-body .side .name{font-weight:700}.pdf-content .pdf-text .pdf-body .main .terms .formula{text-align:center}.pdf-content .pdf-text .pdf-footer{margin-top:5px;margin-bottom:200px}.pdf-content .pdf-text .pdf-footer .signature{display:flex;margin-top:20px;padding:0 80px}.pdf-content .pdf-text .pdf-footer .signature>div:first-child{margin-right:auto}.pdf-content .pdf-text .pdf-footer .signature>div{text-align:center}.pdf-content .pdf-text .html2pdf__page-break{margin-bottom:30px}",""])},m46l:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".users-page .avatar-column[role=gridcell]{padding:0!important}",""])},qI8z:function(t,e,n){"use strict";n("AGG9")},rsfB:function(t,e){t.exports="/images/interest-formula.gif?8febabcb8f5e7b47e3a108e04e61b967"},uLqq:function(t,e,n){var i=n("Wxis");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,o);i.locals&&(t.exports=i.locals)},zYUm:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".WithdrawReceiptPdf.pdf-content{height:1110px}.WithdrawReceiptPdf.pdf-content .pdf-body .contract-name{margin-top:20px;text-align:center;font-weight:bolder}.WithdrawReceiptPdf.pdf-content .pdf-body .code{text-align:center;font-style:italic}.WithdrawReceiptPdf.pdf-content .pdf-body .place-and-date{text-align:right;font-style:italic;margin-bottom:5px}.WithdrawReceiptPdf.pdf-content .pdf-body .basis{font-style:italic;margin-bottom:5px}.WithdrawReceiptPdf.pdf-content .pdf-body .parties-info .include{font-style:italic}.WithdrawReceiptPdf.pdf-content .pdf-body .main .terms .title,.WithdrawReceiptPdf.pdf-content .pdf-body .side .name{font-weight:700}.WithdrawReceiptPdf.pdf-content .pdf-body .main .terms .formula{text-align:center}",""])}}]);