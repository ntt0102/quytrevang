/*! For license information please see 20.22b576df022e2674199f.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"0/Vb":function(t,e,n){"use strict";function i(){return{}}var a={backupDatabase:function(t,e){t.commit,t.dispatch,t.getters,t.state,t.rootGetters;return new Promise((function(t,n){axios.post("settings/database/backup",e).then((function(n){if(0==n.data.isOk)t(!1);else{if(e.download){var i=window.URL.createObjectURL(new Blob([n.data])),a=document.createElement("a");a.href=i;var o=n.headers["content-disposition"].split("=").pop();a.setAttribute("download",o),document.body.appendChild(a),a.click()}t(!0)}}))}))},restoreDatabase:function(t,e){t.commit;var n=t.dispatch;t.getters,t.state,t.rootGetters;return new Promise((function(t,i){axios.post("settings/database/restore",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data.isOk),e.data.isOk&&n("Auth/fetch",!0,{root:!0})}))}))},runCommand:function(t,e){t.commit;var n=t.dispatch;t.getters,t.state,t.rootGetters;return new Promise((function(t,i){axios.post("settings/command/run",{commands:e}).then((function(e){t(e.data),e.data.isOk&&n("Auth/fetch",!0,{root:!0})}))}))},sendNotification:function(t,e){t.commit,t.dispatch,t.getters,t.state,t.rootGetters;return new Promise((function(t,n){axios.post("settings/notification/send",e).then((function(e){t()}))}))},fetchLog:function(t,e){t.commit,t.dispatch,t.getters,t.state,t.rootGetters;return new Promise((function(t,e){axios.get("settings/log").then((function(e){t(e.data)}))}))},resetState:function(t){(0,t.commit)("resetState")}},o={setState:function(t,e){t.parameters=e.parameters},resetState:function(t){t=Object.assign(t,{})}};e.a={namespaced:!0,state:i,getters:{},actions:a,mutations:o}},LLlN:function(t,e,n){"use strict";n.r(e);var i=n("W2II"),a=n("ua+q"),o=n("TE0E"),r=n("a8dJ"),s=n("v5W6"),l=n("CF5h"),u=n("DaY9"),d=n("FjL1"),c=n("MtyI"),p=n("zAdP");class m extends u.a{_focusTarget(){return this.$element().parent()}_nullValueSelectionSupported(){return!0}_getDefaultOptions(){var t=super._getDefaultOptions();return Object(a.a)(t,d.a._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})}_initMarkup(){super._initMarkup(),Object(r.c)(()=>{this.itemElements().addClass("dx-radiobutton")})}_keyboardEventBindingTarget(){return this._focusTarget()}_postprocessRenderItem(t){var{itemData:{html:e},itemElement:n}=t;if(!e){var a=Object(i.a)("<div>").addClass("dx-radiobutton-icon");Object(i.a)("<div>").addClass("dx-radiobutton-icon-dot").appendTo(a);var o=Object(i.a)("<div>").append(a).addClass("dx-radio-value-container");Object(i.a)(n).prepend(o)}super._postprocessRenderItem(t)}_processSelectableItem(t,e){super._processSelectableItem(t,e),t.toggleClass("dx-radiobutton-checked",e).find(".".concat("dx-radiobutton-icon")).first().toggleClass("dx-radiobutton-icon-checked",e),this.setAria("checked",e,t)}_refreshContent(){this._prepareContent(),this._renderContent()}_supportedKeys(){var t=super._supportedKeys();return Object(a.a)({},t,{enter:function(e){return e.preventDefault(),t.enter.apply(this,arguments)},space:function(e){return e.preventDefault(),t.space.apply(this,arguments)}})}_itemElements(){return this._itemContainer().children(this._itemSelector())}_setAriaSelected(){}}class h extends c.a{_dataSourceOptions(){return{paginate:!1}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:()=>"desktop"===o.a.real().deviceType&&!o.a.isSimulator(),options:{focusStateEnabled:!0}}])}_fireContentReadyAction(t){t&&super._fireContentReadyAction()}_focusTarget(){return this.$element()}_getAriaTarget(){return this.$element()}_getDefaultOptions(){var t=super._getDefaultOptions();return Object(a.a)(t,Object(a.a)(d.a._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical"}))}_getItemValue(t){return this._valueGetter?this._valueGetter(t):t.text}_getSubmitElement(){return this._$submitElement}_init(){super._init(),this._activeStateUnit=".".concat("dx-radiobutton"),this._feedbackHideTimeout=100,this._initDataExpressions()}_initMarkup(){this.$element().addClass("dx-radiogroup"),this._renderSubmitElement(),this.setAria("role","radiogroup"),this._renderRadios(),this._renderLayout(),super._initMarkup()}_itemClickHandler(t){var{itemElement:e,event:n,itemData:i}=t;if(this.itemElements().is(e)){var a=this._getItemValue(i);a!==this.option("value")&&(this._saveValueChangeEvent(n),this.option("value",a))}}_getSelectedItemKeys(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("value");return"this"!==this.option("valueExpr")&&null===t||Object(s.d)(t)?[t]:[]}_setSelection(t){var e=this._unwrappedValue(t);this._setCollectionWidgetOption("selectedItemKeys",this._getSelectedItemKeys(e))}_optionChanged(t){var{name:e,value:n}=t;switch(this._dataExpressionOptionChanged(t),e){case"dataSource":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(e,n);break;case"disabled":super._optionChanged(t),this._setCollectionWidgetOption(e,n);break;case"valueExpr":this._setCollectionWidgetOption("keyExpr",this._getCollectionKeyExpr());break;case"value":this._setSelection(n),this._setSubmitValue(n),super._optionChanged(t);break;case"items":this._setSelection(this.option("value"));break;case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:super._optionChanged(t)}}_render(){super._render(),this._updateItemsSize()}_renderLayout(){var t=this.option("layout"),e=this.$element();e.toggleClass("dx-radiogroup-vertical","vertical"===t),e.toggleClass("dx-radiogroup-horizontal","horizontal"===t)}_renderRadios(){this._areRadiosCreated=new p.a;var t=Object(i.a)("<div>").appendTo(this.$element()),{displayExpr:e,accessKey:n,focusStateEnabled:a,itemTemplate:o,tabIndex:r}=this.option();this._createComponent(t,m,{onInitialized:t=>{var{component:e}=t;this._radios=e},onContentReady:t=>{this._fireContentReadyAction(!0)},onItemClick:this._itemClickHandler.bind(this),displayExpr:e,accessKey:n,dataSource:this._dataSource,focusStateEnabled:a,itemTemplate:o,keyExpr:this._getCollectionKeyExpr(),noDataText:"",scrollingEnabled:!1,selectionByClick:!1,selectionMode:"single",selectedItemKeys:this._getSelectedItemKeys(),tabIndex:r}),this._areRadiosCreated.resolve()}_renderSubmitElement(){this._$submitElement=Object(i.a)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue()}_setOptionsByReference(){super._setOptionsByReference(),Object(a.a)(this._optionsByReference,{value:!0})}_setSubmitValue(t){var e;t=null!==(e=t)&&void 0!==e?e:this.option("value");var n="this"===this.option("valueExpr")?this._displayGetter(t):t;this._$submitElement.val(n)}_setCollectionWidgetOption(){this._areRadiosCreated.done(this._setWidgetOption.bind(this,"_radios",arguments))}_updateItemsSize(){if("horizontal"===this.option("layout"))this.itemElements().css("height","auto");else{var t=this.option("items").length;this.itemElements().css("height",100/t+"%")}}focus(){var t;null===(t=this._radios)||void 0===t||t.focus()}itemElements(){var t;return null===(t=this._radios)||void 0===t?void 0:t.itemElements()}}h.include(d.a),Object(l.a)("dxRadioGroup",h);var b=h;e.default=b},NNDn:function(t,e,n){var i=n("NYb7");"string"==typeof i&&(i=[[t.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,a);i.locals&&(t.exports=i.locals)},NYb7:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".setting-command-tab[data-v-07e81ae6]{margin-left:20px}.setting-command-tab .dx-radiogroup .dx-radiobutton[data-v-07e81ae6]{margin:20px 0}",""])},ZczJ:function(t,e,n){"use strict";n.r(e);var i=n("L2JU"),a=n("Ztyd"),o=n.n(a),r=n("v18a"),s=n.n(r),l=n("0/Vb");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===u(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={components:{DxForm:o.a,DxItem:a.DxItem,DxRadioGroup:s.a},data:function(){return{formData:{radio:"config:cache",textbox:null},validationRules:[{type:"required",message:this.$t("settings.command.title")+this.$mt.validations.required}]}},beforeCreate:function(){this.$store.registerModule("Settings",l.a)},destroyed:function(){this.$store.unregisterModule("Settings")},computed:{form:function(){return this.$refs.form.instance}},methods:c(c({},Object(i.b)("Settings",["runCommand"])),{},{onSubmit:function(){var t=this;this.$bus.emit("checkPin",(function(){var e="custom"!=t.formData.radio?t.formData.radio:t.formData.textbox;t.runCommand(e)}))},onValueChanged:function(t){"custom"!=t.value?(this.form.itemOption("textbox","visible",!1),this.form.itemOption("textbox","validationRules",null)):(this.form.itemOption("textbox","visible",!0),this.form.itemOption("textbox","validationRules",this.validationRules),this.form.getEditor("textbox").focus())}})},h=(n("wCZ8"),n("KHd+")),b=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-page"},[e("h2",{staticClass:"content-block"},[t._v("\n        "+t._s(t.$t("settings.command.title"))+"\n    ")]),t._v(" "),e("div",{staticClass:"content-block dx-card responsive-paddings"},[e("form",{staticClass:"setting-command-tab",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("DxForm",{ref:"form",attrs:{"form-data":t.formData,"label-location":t.$devices.phone?"top":"left","scrolling-enabled":!0}},[e("DxItem",{attrs:{"data-field":"radio","editor-type":"dxRadioGroup","editor-options":{dataSource:t.$mf.getCommandList(),displayExpr:"name",valueExpr:"value",onValueChanged:t.onValueChanged},"validation-rules":t.validationRules,label:{visible:!1}}}),t._v(" "),e("DxItem",{attrs:{visible:!1,"data-field":"textbox",name:"textbox",label:{visible:!1}}}),t._v(" "),e("DxItem",{attrs:{"item-type":"button","button-options":{width:150,left:0,type:"default",icon:"far fa-running",text:t.$t("settings.command.run"),useSubmitBehavior:!0}}})],1)],1)])])}),[],!1,null,"07e81ae6",null);e.default=b.exports},v18a:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DxItem=e.DxRadioGroup=void 0;var a=i(n("LLlN")),o=n("J9oI"),r=n("J9oI"),s=o.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,dataSource:{},disabled:Boolean,displayExpr:[Function,String],elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,isValid:Boolean,items:Array,itemTemplate:{},layout:String,name:String,onContentReady:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onValueChanged:Function,readOnly:Boolean,rtlEnabled:Boolean,tabIndex:Number,validationError:{},validationErrors:Array,validationMessageMode:String,validationStatus:String,value:{},valueExpr:[Function,String],visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:dataSource":null,"update:disabled":null,"update:displayExpr":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:isValid":null,"update:items":null,"update:itemTemplate":null,"update:layout":null,"update:name":null,"update:onContentReady":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onValueChanged":null,"update:readOnly":null,"update:rtlEnabled":null,"update:tabIndex":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationStatus":null,"update:value":null,"update:valueExpr":null,"update:visible":null,"update:width":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=a.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"}}}});e.DxRadioGroup=s;var l=r.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:template":null,"update:text":null,"update:visible":null},props:{disabled:Boolean,html:String,template:{},text:String,visible:Boolean}});e.DxItem=l,l.$_optionName="items",l.$_isCollectionItem=!0,e.default=s},wCZ8:function(t,e,n){"use strict";n("NNDn")}}]);