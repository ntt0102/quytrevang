/*! For license information please see 41.68bfcb51cbb55bf6fe03.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"+A05":function(e,t,n){"use strict";n.r(t);var i=n("+dKZ"),a=n("W2II"),l=n("TE0E"),o=n("+Muy"),s=n("xPQU"),u=n("CF5h"),r=n("a8dJ"),d=n("Q5Py"),p=n("zAdP"),c=n("VNvn"),h=n("rB1a"),g=n("v5W6"),m=n("RfjA"),_=n("ua+q"),v=n("j+Lh"),f=n("sUSw"),b=n("3CDA"),T=n("AmyY"),S=n("6SE/"),C=n("R8mB"),x=n("Ug6i"),y=n("ZSRv"),I=n("hjKj"),E=n("S/m2"),O=n("s6U3"),F=y.a.inherit({_supportedKeys:function(){var e=this.callBase(),t=e=>this._list._keyboardHandler(e),n=this.option("rtlEnabled");return Object(_.a)({},e,{backspace:function(e){if(this._isCaretAtTheStart()){this._processKeyboardEvent(e),this._isTagRemoved=!0;var t=this._$focusedTag||this._tagElements().last();this._$focusedTag&&this._moveTagFocus("prev",!0),0!==t.length&&(this._preserveFocusedTag=!0,this._removeTagElement(t),delete this._preserveFocusedTag)}},upArrow:(n,i)=>n.altKey||!this._list?e.upArrow.call(this,n):t(i),downArrow:(n,i)=>n.altKey||!this._list?e.downArrow.call(this,n):t(i),del:function(e){if(this._$focusedTag&&this._isCaretAtTheStart()){this._processKeyboardEvent(e),this._isTagRemoved=!0;var t=this._$focusedTag;this._moveTagFocus("next",!0),this._preserveFocusedTag=!0,this._removeTagElement(t),delete this._preserveFocusedTag}},enter:function(e,n){var i=this._list&&null!==this._list.option("focusedElement");if(this.option("acceptCustomValue")&&!i)return e.preventDefault(),void(""!==this._searchValue()&&this._customItemAddedHandler(e));this.option("opened")&&(this._saveValueChangeEvent(e),t(n),e.preventDefault())},space:function(e,n){var i=this.option("opened"),a=this._shouldRenderSearchEvent();i&&!a&&(this._saveValueChangeEvent(e),t(n),e.preventDefault())},leftArrow:function(e){if(!(!this._isCaretAtTheStart()||this._isEmpty()||this._isEditable()&&n&&!this._$focusedTag)){e.preventDefault();var t=n?"next":"prev";this._moveTagFocus(t),!this.option("multiline")&&this._scrollContainer(t)}},rightArrow:function(e){if(this._isCaretAtTheStart()&&!this._isEmpty()&&(!this._isEditable()||n||this._$focusedTag)){e.preventDefault();var t=n?"prev":"next";this._moveTagFocus(t),!this.option("multiline")&&this._scrollContainer(t)}}})},_processKeyboardEvent:function(e){e.preventDefault(),e.stopPropagation(),this._saveValueChangeEvent(e)},_isEmpty:function(){return 0===this._getValue().length},_updateTagsContainer:function(e){this._$tagsContainer=e.addClass("dx-tag-container").addClass("dx-native-click"),this._$tagsContainer.parent().addClass("dx-native-click")},_allowSelectItemByTab:function(){return!1},_isCaretAtTheStart:function(){var e=Object(C.a)(this._input());return 0===e.start&&0===e.end},_moveTagFocus:function(e,t){if(!this._$focusedTag){var n=this._tagElements();return this._$focusedTag="next"===e?n.first():n.last(),void this._toggleFocusClass(!0,this._$focusedTag)}var i=this._$focusedTag[e](".".concat("dx-tag"));i.length>0?this._replaceFocusedTag(i):(t||"next"===e&&this._isEditable())&&this._clearTagFocus()},_replaceFocusedTag:function(e){this._toggleFocusClass(!1,this._$focusedTag),this._$focusedTag=e,this._toggleFocusClass(!0,this._$focusedTag)},_clearTagFocus:function(){this._$focusedTag&&(this._toggleFocusClass(!1,this._$focusedTag),delete this._$focusedTag)},_focusClassTarget:function(e){return e&&e.length&&e[0]!==this._focusTarget()[0]?e:this.callBase()},_getLabelContainer:function(){return this._$tagsContainer},_scrollContainer:function(e){if(!this.option("multiline")&&Object(m.f)()&&this._$tagsContainer){var t=this._getScrollPosition(e);this._$tagsContainer.scrollLeft(t)}},_getScrollPosition:function(e){return"start"===e||"end"===e?this._getBorderPosition(e):this._$focusedTag?this._getFocusedTagPosition(e):this._getBorderPosition("end")},_getBorderPosition:function(e){var t=this.option("rtlEnabled");return"end"===e^t^!t?0:(t?-1:1)*(this._$tagsContainer.get(0).scrollWidth-Object(i.i)(this._$tagsContainer))},_getFocusedTagPosition:function(e){var t="next"===e^this.option("rtlEnabled"),{left:n}=this._$focusedTag.position(),a=this._$tagsContainer.scrollLeft();return t&&(n+=Object(i.i)(this._$focusedTag,!0)-Object(i.i)(this._$tagsContainer)),t^n<0&&(a+=n),a},_setNextValue:r.n,_getDefaultOptions:function(){return Object(_.a)(this.callBase(),{value:[],showDropDownButton:!1,maxFilterQueryLength:1500,tagTemplate:"tag",selectAllText:b.a.format("dxList-selectAll"),hideSelectedItems:!1,selectedItems:[],selectAllMode:"page",onSelectAllValueChanged:null,maxDisplayedTags:void 0,showMultiTagOnly:!0,onMultiTagPreparing:null,multiline:!0,useSubmitBehavior:!0})},_init:function(){this.callBase(),this._selectedItems=[],this._initSelectAllValueChangedAction()},_initActions:function(){this.callBase(),this._initMultiTagPreparingAction()},_initMultiTagPreparingAction:function(){this._multiTagPreparingAction=this._createActionByOption("onMultiTagPreparing",{beforeExecute:function(e){this._multiTagPreparingHandler(e.args[0])}.bind(this),excludeValidators:["disabled","readOnly"]})},_multiTagPreparingHandler:function(e){var{length:t}=this._getValue();this.option("showMultiTagOnly")?e.text=b.a.getFormatter("dxTagBox-selected")(t):e.text=b.a.getFormatter("dxTagBox-moreSelected")(t-this.option("maxDisplayedTags")+1)},_initDynamicTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({tag:new I.a((e,t)=>{var n,i=Object(a.a)("<div>").addClass("dx-tag-content");Object(a.a)("<span>").text(null!==(n=t.text)&&void 0!==n?n:t).appendTo(i),Object(a.a)("<div>").addClass("dx-tag-remove-button").appendTo(i),e.append(i)},["text"],this.option("integrationOptions.watchMethod"),{text:this._displayGetter})})},_toggleSubmitElement:function(e){e?(this._renderSubmitElement(),this._setSubmitValue()):(this._$submitElement&&this._$submitElement.remove(),delete this._$submitElement)},_renderSubmitElement:function(){this.option("useSubmitBehavior")&&(this._$submitElement=Object(a.a)("<select>").attr("multiple","multiple").css("display","none").appendTo(this.$element()))},_setSubmitValue:function(){if(this.option("useSubmitBehavior")){for(var e=this._getValue(),t=[],n=0,i=e.length;n<i;n++){var l=this._shouldUseDisplayValue(e[n]);t.push(Object(a.a)("<option>").val(l?this._displayGetter(e[n]):e[n]).attr("selected","selected"))}this._getSubmitElement().empty().append(t)}},_initMarkup:function(){this._tagElementsCache=Object(a.a)();var e=!this.option("multiline");this.$element().addClass("dx-tagbox").toggleClass("dx-tagbox-only-select",!(this.option("searchEnabled")||this.option("acceptCustomValue"))).toggleClass("dx-tagbox-single-line",e),this._initTagTemplate(),this.callBase()},_render:function(){this.callBase(),this._renderTagRemoveAction(),this._renderSingleLineScroll(),this._scrollContainer("start")},_initTagTemplate:function(){this._tagTemplate=this._getTemplateByOption("tagTemplate")},_renderField:function(){var e=!Object(g.d)(this.option("fieldTemplate"));this.$element().toggleClass("dx-tagbox-default-template",e).toggleClass("dx-tagbox-custom-template",!e),this.callBase()},_renderTagRemoveAction:function(){var e=this._createAction(this._removeTagHandler.bind(this)),t=Object(T.a)(S.a,"dxTagBoxTagRemove");s.a.off(this._$tagsContainer,t),s.a.on(this._$tagsContainer,t,".".concat("dx-tag-remove-button"),t=>{e({event:t})})},_renderSingleLineScroll:function(){var e=Object(T.a)("dxmousewheel",this.NAME),t=this.$element(),n=this.option("multiline");s.a.off(t,e),"desktop"===l.a.real().deviceType?n||s.a.on(t,e,this._tagContainerMouseWheelHandler.bind(this)):this._$tagsContainer&&this._$tagsContainer.css("overflowX",n?"":"auto")},_tagContainerMouseWheelHandler:function(e){var t=this._$tagsContainer.scrollLeft(),n=-.3*e.delta;if(!Object(T.i)(e)&&Object(E.a)(this._$tagsContainer,n,!0))return this._$tagsContainer.scrollLeft(t+n),!1},_renderEvents:function(){this.callBase();var e=this._input(),t=Object(T.a)("keydown",this.NAME);s.a.on(e,t,e=>{var t=Object(T.o)(e);!this._isControlKey(t)&&this._isEditable()&&this._clearTagFocus()})},_popupWrapperClass:function(){return this.callBase()+" dx-tagbox-popup-wrapper"},_renderInput:function(){this.callBase(),this._renderPreventBlurOnInputClick()},_renderPreventBlurOnInputClick:function(){var e=Object(T.a)("mousedown","dxTagBox");s.a.off(this._inputWrapper(),e),s.a.on(this._inputWrapper(),e,e=>{e.target!==this._input()[0]&&this._isFocused()&&e.preventDefault()})},_renderInputValueImpl:function(){return this._renderMultiSelect()},_loadInputValue:function(){return Object(p.c)()},_clearTextValue:function(){this._input().val(""),this._toggleEmptinessEventHandler(),this.option("text","")},_focusInHandler:function(e){this._preventNestedFocusEvent(e)||this._scrollContainer("end"),this.callBase(e)},_renderInputValue:function(){return this.option("displayValue",this._searchValue()),this.callBase()},_restoreInputText:function(e){e||this._clearTextValue()},_focusOutHandler:function(e){this._preventNestedFocusEvent(e)||(this._clearTagFocus(),this._scrollContainer("start")),this.callBase(e)},_getFirstPopupElement:function(){return this.option("showSelectionControls")?this._list.$element():this.callBase()},_initSelectAllValueChangedAction:function(){this._selectAllValueChangeAction=this._createActionByOption("onSelectAllValueChanged")},_renderList:function(){this.callBase(),this._setListDataSourceFilter(),this.option("showSelectionControls")&&(this._list.registerKeyHandler("tab",e=>this._popupElementTabHandler(e)),this._list.registerKeyHandler("escape",e=>this._popupElementEscHandler(e)))},_canListHaveFocus:function(){return"useButtons"===this.option("applyValueMode")},_listConfig:function(){var e=this.option("showSelectionControls")?"all":"multiple";return Object(_.a)(this.callBase(),{selectionMode:e,selectAllText:this.option("selectAllText"),onSelectAllValueChanged:e=>{var{value:t}=e;this._selectAllValueChangeAction({value:t})},selectAllMode:this.option("selectAllMode"),selectedItems:this._selectedItems,onFocusedItemChanged:null})},_renderMultiSelect:function(){var e=new p.a;return this._updateTagsContainer(this._$textEditorInputContainer),this._renderInputSize(),this._renderTags().done(()=>{this._popup&&this._popup.refreshPosition(),e.resolve()}).fail(e.reject),e.promise()},_listItemClickHandler:function(e){!this.option("showSelectionControls")&&this._clearTextValue(),"useButtons"!==this.option("applyValueMode")&&(this.callBase(e),this._saveValueChangeEvent(void 0))},_shouldClearFilter:function(){var e=this.callBase();return!this.option("showSelectionControls")&&e},_renderInputSize:function(){var e=this._input(),t=e.val(),n=Object(g.o)(t)&&t,a="",l="",o=this.option("searchEnabled")||this.option("acceptCustomValue");if(n&&o){var s=Object(c.e)(e,t,{includePaddings:!0});s.insertAfter(e),a=Object(i.i)(s)+5,s.remove()}else t||(l=1);e.css("width",a),e.attr("size",l)},_renderInputSubstitution:function(){this.callBase(),this._updateWidgetHeight()},_getValue:function(){return this.option("value")||[]},_multiTagRequired:function(){var e=this._getValue(),t=this.option("maxDisplayedTags");return Object(g.d)(t)&&e.length>t},_renderMultiTag:function(e){var t=Object(a.a)("<div>").addClass("dx-tag").addClass("dx-tagbox-multi-tag"),n={multiTagElement:Object(h.a)(t),selectedItems:this.option("selectedItems")};return this._multiTagPreparingAction(n),!n.cancel&&(t.data("dxTagData",n.text),t.insertBefore(e),this._tagTemplate.render({model:n.text,container:Object(h.a)(t)}),t)},_getFilter:function(e){var t=this._dataSource.filter(),n=e.getCombinedFilter(this.option("valueExpr"),t),i=encodeURI(JSON.stringify(n)).length,a=this.option("maxFilterQueryLength");if(i<=a)return n;O.a.log("W1019",a)},_getFilteredItems:function(e){var t,n,i;null===(t=this._loadFilteredItemsPromise)||void 0===t||t.reject();var a=new d.a(e),l=null===(n=this._list)||void 0===n?void 0:n.option("selectedItems"),o=!!l&&(null===(i=this._list.getDataSource())||void 0===i?void 0:i.isLoaded()),s=l||this.option("selectedItems"),u=a.getLocalFilter(this._valueGetter),r=s.filter(u),c=r.length===e.length,h=new p.a,g=this._dataSource;if(g){if(this._isDataSourceChanged&&!o||!c){var{customQueryParams:m,expand:_,select:v}=g.loadOptions(),f=this._getFilter(a);return g.store().load({filter:f,customQueryParams:m,expand:_,select:v}).done((e,t)=>{if(this._isDataSourceChanged=!1,this._disposed)h.reject();else{var{data:n}=Object(x.e)(e,t),i=g._applyMapFunction(n);h.resolve(i.filter(u))}}).fail(h.reject),this._loadFilteredItemsPromise=h,h.promise()}return h.resolve(r).promise()}return h.resolve([]).promise()},_createTagsData:function(e,t){var n=[],i={},a="this"===this._valueGetterExpr(),l={};t.forEach(e=>{var t=a?JSON.stringify(e):this._valueGetter(e);l[t]=e});var o=[];e.forEach((e,t)=>{var s=l[a?JSON.stringify(e):e];if(a&&!Object(g.d)(s))o.push(this._loadItem(e,i).always(i=>{var a=this._createTagData(n,i,e,t);n.splice(t,0,a)}));else{var u=this._createTagData(n,s,e,t);n.splice(t,0,u)}});var s=new p.a;return p.c.apply(this,o).always((function(){s.resolve(n)})),s.promise()},_createTagData:function(e,t,n,i){if(Object(g.d)(t))return this._selectedItems.push(t),t;var a=this.option("selectedItem");return this._valueGetter(a)===n?a:n},_isGroupedData:function(){var e;return this.option("grouped")&&!(null!==(e=this._dataSource)&&void 0!==e&&e.group())},_getItemsByValues:function(e){var t=[];return e.forEach(function(e){var n=this._getItemFromPlain(e);Object(g.d)(n)&&t.push(n)}.bind(this)),t},_getFilteredGroupedItems:function(e){var t=new p.a;return this._dataSource?(this._filteredGroupedItemsLoadPromise&&this._dataSource.cancel(this._filteredGroupedItemsLoadPromise.operationId),this._dataSource.items().length?t.resolve(this._getItemsByValues(e)):this._filteredGroupedItemsLoadPromise=this._dataSource.load().done(()=>{t.resolve(this._getItemsByValues(e))}).fail(()=>{t.resolve([])}).always(()=>{this._filteredGroupedItemsLoadPromise=void 0}),t.promise()):t.promise()},_loadTagsData:function(){var e=this._getValue(),t=new p.a;return this._selectedItems=[],(this._isGroupedData()?this._getFilteredGroupedItems(e):this._getFilteredItems(e)).done(n=>{this._createTagsData(e,n).always((function(e){t.resolve(e)}))}).fail(t.reject.bind(this)),t.promise()},_renderTags:function(){var e=new p.a,t=!1;return this._shouldGetItemsFromPlain(this._valuesToUpdate)&&(this._selectedItems=this._getItemsFromPlain(this._valuesToUpdate),this._selectedItems.length===this._valuesToUpdate.length&&(this._renderTagsImpl(this._selectedItems),t=!0,e.resolve())),t||this._loadTagsData().done(t=>{this._disposed?e.reject():(this._renderTagsImpl(t),e.resolve())}).fail(e.reject),e.promise()},_renderTagsImpl:function(e){this._renderTagsCore(e),this._renderEmptyState(),this._preserveFocusedTag||this._clearTagFocus()},_shouldGetItemsFromPlain:function(e){return e&&this._dataSource.isLoaded()&&e.length<=this._getPlainItems().length},_getItemsFromPlain:function(e){var t=this._getSelectedItemsFromList(e);if(0===t.length&&e.length>0||t.length<e.length){var n=this._getPlainItems();t=this._filterSelectedItems(n,e)}return t},_getSelectedItemsFromList:function(e){var t,n=null===(t=this._list)||void 0===t?void 0:t.option("selectedItems"),i=[];return e.length===(null==n?void 0:n.length)&&(i=this._filterSelectedItems(n,e)),i},_filterSelectedItems:function(e,t){return e.filter(e=>{for(var n,i=0;i<t.length;i++)if(n=t[i],Object(g.j)(n)){if(this._isValueEquals(e,n))return!0}else if(this._isValueEquals(this._valueGetter(e),n))return!0;return!1},this)},_integrateInput:function(){this._isInputReady.resolve(),this.callBase(),this._updateTagsContainer(Object(a.a)(".".concat("dx-texteditor-input-container"))),this._renderTagRemoveAction()},_renderTagsCore:function(e){var t;null===(t=this._isInputReady)||void 0===t||t.reject(),this._isInputReady=new p.a,this._renderField(),this.option("selectedItems",this._selectedItems.slice()),this._cleanTags(),this._input().length>0&&this._isInputReady.resolve(),Object(p.c)(this._isInputReady).done(()=>{this._renderTagsElements(e)})},_renderTagsElements(e){var t=this._multiTagRequired()&&this._renderMultiTag(this._input()),n=this.option("showMultiTagOnly"),i=this.option("maxDisplayedTags");e.forEach((e,a)=>{if(t&&n||t&&!n&&a-i>=-1)return!1;this._renderTag(e,t||this._input())}),this._isFocused()&&this._scrollContainer("end"),this._refreshTagElements()},_cleanTags:function(){if(this._multiTagRequired())this._tagElements().remove();else{var e=this._tagElements(),t=this._getValue();Object(f.a)(e,(function(e,n){var i=Object(a.a)(n);Object(v.d)(i.data("dxTagData"),t)<0&&i.remove()}))}},_renderEmptyState:function(){var e=!(this._getValue().length||this._selectedItems.length||this._searchValue());this._toggleEmptiness(e),this._renderDisplayText()},_renderDisplayText:function(){this._renderInputSize()},_refreshTagElements:function(){this._tagElementsCache=this.$element().find(".".concat("dx-tag"))},_tagElements:function(){return this._tagElementsCache},_applyTagTemplate:function(e,t){this._tagTemplate.render({model:e,container:Object(h.a)(t)})},_renderTag:function(e,t){var n=this._valueGetter(e);if(Object(g.d)(n)){var i=this._getTag(n),a=this._displayGetter(e),l=this._getItemModel(e,a);i?(Object(g.d)(a)&&(i.empty(),this._applyTagTemplate(l,i)),i.removeClass("dx-tag-custom")):(i=this._createTag(n,t),Object(g.d)(e)?this._applyTagTemplate(l,i):(i.addClass("dx-tag-custom"),this._applyTagTemplate(n,i)))}},_getItemModel:function(e,t){return Object(g.j)(e)&&Object(g.d)(t)?e:Object(r.g)(t,"")},_getTag:function(e){for(var t=this._tagElements(),n=t.length,i=!1,l=0;l<n;l++){var s=t[l],u=Object(o.c)(s,"dxTagData");if(e===u||Object(r.h)(e,u)){i=Object(a.a)(s);break}}return i},_createTag:function(e,t){return Object(a.a)("<div>").addClass("dx-tag").data("dxTagData",e).insertBefore(t)},_toggleEmptinessEventHandler:function(){this._toggleEmptiness(!this._getValue().length&&!this._searchValue().length)},_customItemAddedHandler:function(e){this.callBase(e),this._clearTextValue()},_removeTagHandler:function(e){var t=e.event;t.stopPropagation(),this._saveValueChangeEvent(t);var n=Object(a.a)(t.target).closest(".".concat("dx-tag"));this._removeTagElement(n)},_removeTagElement:function(e){if(e.hasClass("dx-tagbox-multi-tag"))this.option("showMultiTagOnly")?this.reset():this.option("value",this._getValue().slice(0,this.option("maxDisplayedTags")));else{var t=e.data("dxTagData");this._removeTagWithUpdate(t),this._refreshTagElements()}},_updateField:r.n,_removeTagWithUpdate:function(e){var t=this._getValue().slice();this._removeTag(t,e),this.option("value",t),0===t.length&&this._clearTagFocus()},_getCurrentValue:function(){return this._lastValue()},_selectionChangeHandler:function(e){if("useButtons"!==this.option("applyValueMode")){var t=this._getValue().slice();if(Object(f.a)(e.removedItems||[],(e,n)=>{this._removeTag(t,this._valueGetter(n))}),Object(f.a)(e.addedItems||[],(e,n)=>{this._addTag(t,this._valueGetter(n))}),this._updateWidgetHeight(),!Object(r.h)(this._list.option("selectedItemKeys"),this.option("value"))){var n=this._list._getSelectionChangeEvent();n&&this._saveValueChangeEvent(n),this.option("value",t)}this._list._saveSelectionChangeEvent(void 0)}},_removeTag:function(e,t){var n=this._valueIndex(t,e);n>=0&&e.splice(n,1)},_addTag:function(e,t){this._valueIndex(t)<0&&e.push(t)},_fieldRenderData:function(){return this._selectedItems.slice()},_completeSelection:function(e){this.option("showSelectionControls")||this._setValue(e)},_setValue:function(e){if(null!==e){var t="useButtons"===this.option("applyValueMode"),n=this._valueIndex(e),i=(t?this._list.option("selectedItemKeys"):this._getValue()).slice();n>=0?i.splice(n,1):i.push(e),"useButtons"===this.option("applyValueMode")?this._list.option("selectedItemKeys",i):this.option("value",i)}},_isSelectedValue:function(e,t){return this._valueIndex(e,null,t)>-1},_valueIndex:function(e,t,n){var i=-1;return n&&"object"!=typeof e&&(n.indexByValues||(n.indexByValues={},(t=t||this._getValue()).forEach((function(e,t){n.indexByValues[e]=t}))),e in n.indexByValues)?n.indexByValues[e]:(t=t||this._getValue(),Object(f.a)(t,(t,n)=>{if(this._isValueEquals(e,n))return i=t,!1}),i)},_lastValue:function(){var e=this._getValue(),t=e[e.length-1];return null!=t?t:null},_valueChangeEventHandler:r.n,_shouldRenderSearchEvent:function(){return this.option("searchEnabled")||this.option("acceptCustomValue")},_searchHandler:function(e){this.option("searchEnabled")&&e&&!this._isTagRemoved&&(this.callBase(arguments),this._setListDataSourceFilter()),this._updateWidgetHeight(),delete this._isTagRemoved},_updateWidgetHeight:function(){var e=this.$element(),t=Object(i.d)(e);this._renderInputSize();var n=Object(i.d)(e);this._popup&&this.option("opened")&&this._isEditable()&&n!==t&&this._popup.repaint()},_refreshSelected:function(){var e;(null===(e=this._list)||void 0===e?void 0:e.getDataSource())&&this._list.option("selectedItems",this._selectedItems)},_resetListDataSourceFilter:function(){var e=this._getDataSource();e&&(delete this._userFilter,e.filter(null),e.reload())},_setListDataSourceFilter:function(){if(this.option("hideSelectedItems")&&this._list){var e=this._getDataSource();if(e){var t=this._valueGetterExpr();if(Object(g.o)(t)&&"this"!==t){var n=this._dataSourceFilterExpr();void 0===this._userFilter&&(this._userFilter=e.filter()||null),this._userFilter&&n.push(this._userFilter),n.length?e.filter(n):e.filter(null)}else e.filter(this._dataSourceFilterFunction.bind(this));e.load()}}},_dataSourceFilterExpr:function(){var e=[];return Object(f.a)(this._getValue(),(t,n)=>{e.push(["!",[this._valueGetterExpr(),n]])}),e},_dataSourceFilterFunction:function(e){var t=this._valueGetter(e),n=!0;return Object(f.a)(this._getValue(),(e,i)=>{if(this._isValueEquals(i,t))return n=!1,!1}),n},_dataSourceChangedHandler:function(){this._isDataSourceChanged=!0,this.callBase.apply(this,arguments)},_applyButtonHandler:function(e){this._saveValueChangeEvent(e.event),this.option("value",this._getSortedListValues()),this._clearTextValue(),this.callBase(),this._cancelSearchIfNeed()},_getSortedListValues:function(){var e=this._getListValues(),t=this.option("value")||[],n=e.length?Object(v.b)(t,e):[],i=n.length?Object(v.h)(e,t):e;return n.concat(i)},_getListValues:function(){return this._list?this._getPlainItems(this._list.option("selectedItems")).map(e=>this._valueGetter(e)):[]},_setListDataSource:function(){var e=this._getValue();this.callBase(),e!==this.option("value")&&this.option("value",e),this._refreshSelected()},_renderOpenedState:function(){this.callBase(),"useButtons"!==this.option("applyValueMode")||this.option("opened")||this._refreshSelected()},reset:function(){this._restoreInputText();var e=this._getDefaultOptions().value,t=this.option("value");e&&0===e.length&&t&&e.length===t.length||this.callBase()},_clean:function(){this.callBase(),delete this._defaultTagTemplate,delete this._valuesToUpdate,delete this._tagTemplate},_getSelectedItemsDifference(e,t){if(!e.length)return{addedItems:[],removedItems:t.slice()};if(!t.length)return{addedItems:e.slice(),removedItems:[]};var n=t.reduce((e,t)=>(e[this._valueGetter(t)]=t,e),{}),i=[];return e.forEach(e=>{var t=this._valueGetter(e);n[t]||i.push(e),delete n[t]}),{addedItems:i,removedItems:Object.values(n)}},_optionChanged:function(e){var{name:t,value:n,previousValue:i}=e;switch(t){case"onSelectAllValueChanged":this._initSelectAllValueChangedAction();break;case"onMultiTagPreparing":this._initMultiTagPreparingAction(),this._renderTags();break;case"hideSelectedItems":n?this._setListDataSourceFilter():this._resetListDataSourceFilter();break;case"useSubmitBehavior":this._toggleSubmitElement(n);break;case"displayExpr":this.callBase(e),this._initTemplates(),this._invalidate();break;case"tagTemplate":this._initTagTemplate(),this._invalidate();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;case"readOnly":case"disabled":this.callBase(e),!n&&this._refreshEvents();break;case"value":this._valuesToUpdate=n,this.callBase(e),this._valuesToUpdate=void 0,this._setListDataSourceFilter();break;case"maxDisplayedTags":case"showMultiTagOnly":this._renderTags();break;case"selectAllMode":this._setListOption(t,n);break;case"selectedItem":break;case"selectedItems":this._selectionChangedAction(this._getSelectedItemsDifference(n,i));break;case"multiline":this.$element().toggleClass("dx-tagbox-single-line",!n),this._renderSingleLineScroll();break;case"maxFilterQueryLength":break;default:this.callBase(e)}},_getActualSearchValue:function(){return this.callBase()||this._searchValue()},_popupHidingHandler:function(){this.callBase(),this._clearFilter()}});Object(u.a)("dxTagBox",F),t.default=F},wMWa:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DxToolbarItem=t.DxTo=t.DxShow=t.DxPosition=t.DxOptions=t.DxOffset=t.DxMy=t.DxItem=t.DxHide=t.DxFrom=t.DxDropDownOptions=t.DxCollision=t.DxButton=t.DxBoundaryOffset=t.DxAt=t.DxAnimation=t.DxTagBox=void 0;var a=i(n("+A05")),l=n("J9oI"),o=n("J9oI"),s=l.createComponent({props:{acceptCustomValue:Boolean,accessKey:String,activeStateEnabled:Boolean,applyValueMode:String,buttons:Array,dataSource:{},deferRendering:Boolean,disabled:Boolean,displayExpr:[Function,String],dropDownButtonTemplate:{},dropDownOptions:Object,elementAttr:Object,fieldTemplate:{},focusStateEnabled:Boolean,grouped:Boolean,groupTemplate:{},height:[Function,Number,String],hideSelectedItems:Boolean,hint:String,hoverStateEnabled:Boolean,inputAttr:{},isValid:Boolean,items:Array,itemTemplate:{},label:String,labelMode:String,maxDisplayedTags:Number,maxFilterQueryLength:Number,maxLength:[Number,String],minSearchLength:Number,multiline:Boolean,name:String,noDataText:String,onChange:Function,onClosed:Function,onContentReady:Function,onCustomItemCreating:Function,onDisposing:Function,onEnterKey:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onInput:Function,onItemClick:Function,onKeyDown:Function,onKeyUp:Function,onMultiTagPreparing:Function,onOpened:Function,onOptionChanged:Function,onSelectAllValueChanged:Function,onSelectionChanged:Function,onValueChanged:Function,opened:Boolean,openOnFieldClick:Boolean,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,searchEnabled:Boolean,searchExpr:[Array,Function,String],searchMode:String,searchTimeout:Number,selectAllMode:String,selectAllText:String,selectedItems:Array,showClearButton:Boolean,showDataBeforeSearch:Boolean,showDropDownButton:Boolean,showMultiTagOnly:Boolean,showSelectionControls:Boolean,stylingMode:String,tabIndex:Number,tagTemplate:{},text:String,useItemTextAsTitle:Boolean,validationError:{},validationErrors:Array,validationMessageMode:String,validationStatus:String,value:Array,valueExpr:[Function,String],visible:Boolean,width:[Function,Number,String],wrapItemText:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:acceptCustomValue":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:applyValueMode":null,"update:buttons":null,"update:dataSource":null,"update:deferRendering":null,"update:disabled":null,"update:displayExpr":null,"update:dropDownButtonTemplate":null,"update:dropDownOptions":null,"update:elementAttr":null,"update:fieldTemplate":null,"update:focusStateEnabled":null,"update:grouped":null,"update:groupTemplate":null,"update:height":null,"update:hideSelectedItems":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:isValid":null,"update:items":null,"update:itemTemplate":null,"update:label":null,"update:labelMode":null,"update:maxDisplayedTags":null,"update:maxFilterQueryLength":null,"update:maxLength":null,"update:minSearchLength":null,"update:multiline":null,"update:name":null,"update:noDataText":null,"update:onChange":null,"update:onClosed":null,"update:onContentReady":null,"update:onCustomItemCreating":null,"update:onDisposing":null,"update:onEnterKey":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onInput":null,"update:onItemClick":null,"update:onKeyDown":null,"update:onKeyUp":null,"update:onMultiTagPreparing":null,"update:onOpened":null,"update:onOptionChanged":null,"update:onSelectAllValueChanged":null,"update:onSelectionChanged":null,"update:onValueChanged":null,"update:opened":null,"update:openOnFieldClick":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:searchEnabled":null,"update:searchExpr":null,"update:searchMode":null,"update:searchTimeout":null,"update:selectAllMode":null,"update:selectAllText":null,"update:selectedItems":null,"update:showClearButton":null,"update:showDataBeforeSearch":null,"update:showDropDownButton":null,"update:showMultiTagOnly":null,"update:showSelectionControls":null,"update:stylingMode":null,"update:tabIndex":null,"update:tagTemplate":null,"update:text":null,"update:useItemTextAsTitle":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationStatus":null,"update:value":null,"update:valueExpr":null,"update:visible":null,"update:width":null,"update:wrapItemText":null},model:{prop:"value",event:"update:value"},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=a.default,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={button:{isCollectionItem:!0,optionName:"buttons"},dropDownOptions:{isCollectionItem:!1,optionName:"dropDownOptions"},item:{isCollectionItem:!0,optionName:"items"}}}});t.DxTagBox=s;var u=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:hide":null,"update:show":null},props:{hide:[Object,Number,String],show:[Object,Number,String]}});t.DxAnimation=u,u.$_optionName="animation",u.$_expectedChildren={hide:{isCollectionItem:!1,optionName:"hide"},show:{isCollectionItem:!1,optionName:"show"}};var r=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});t.DxAt=r,r.$_optionName="at";var d=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});t.DxBoundaryOffset=d,d.$_optionName="boundaryOffset";var p=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:location":null,"update:name":null,"update:options":null},props:{location:String,name:String,options:Object}});t.DxButton=p,p.$_optionName="buttons",p.$_isCollectionItem=!0,p.$_expectedChildren={options:{isCollectionItem:!1,optionName:"options"}};var c=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});t.DxCollision=c,c.$_optionName="collision";var h=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:animation":null,"update:bindingOptions":null,"update:closeOnOutsideClick":null,"update:container":null,"update:contentTemplate":null,"update:copyRootClassesToWrapper":null,"update:deferRendering":null,"update:disabled":null,"update:dragAndResizeArea":null,"update:dragEnabled":null,"update:dragOutsideBoundary":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:fullScreen":null,"update:height":null,"update:hideOnParentScroll":null,"update:hint":null,"update:hoverStateEnabled":null,"update:maxHeight":null,"update:maxWidth":null,"update:minHeight":null,"update:minWidth":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onHidden":null,"update:onHiding":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResize":null,"update:onResizeEnd":null,"update:onResizeStart":null,"update:onShowing":null,"update:onShown":null,"update:onTitleRendered":null,"update:position":null,"update:resizeEnabled":null,"update:restorePosition":null,"update:rtlEnabled":null,"update:shading":null,"update:shadingColor":null,"update:showCloseButton":null,"update:showTitle":null,"update:tabIndex":null,"update:title":null,"update:titleTemplate":null,"update:toolbarItems":null,"update:visible":null,"update:width":null,"update:wrapperAttr":null},props:{accessKey:String,activeStateEnabled:Boolean,animation:Object,bindingOptions:Object,closeOnOutsideClick:[Boolean,Function],container:{},contentTemplate:{},copyRootClassesToWrapper:Boolean,deferRendering:Boolean,disabled:Boolean,dragAndResizeArea:{},dragEnabled:Boolean,dragOutsideBoundary:Boolean,elementAttr:{},focusStateEnabled:Boolean,fullScreen:Boolean,height:[Function,Number,String],hideOnParentScroll:Boolean,hint:String,hoverStateEnabled:Boolean,maxHeight:[Function,Number,String],maxWidth:[Function,Number,String],minHeight:[Function,Number,String],minWidth:[Function,Number,String],onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onHidden:Function,onHiding:Function,onInitialized:Function,onOptionChanged:Function,onResize:Function,onResizeEnd:Function,onResizeStart:Function,onShowing:Function,onShown:Function,onTitleRendered:Function,position:[Function,Object,String],resizeEnabled:Boolean,restorePosition:Boolean,rtlEnabled:Boolean,shading:Boolean,shadingColor:String,showCloseButton:Boolean,showTitle:Boolean,tabIndex:Number,title:String,titleTemplate:{},toolbarItems:Array,visible:Boolean,width:[Function,Number,String],wrapperAttr:{}}});t.DxDropDownOptions=h,h.$_optionName="dropDownOptions",h.$_expectedChildren={animation:{isCollectionItem:!1,optionName:"animation"},position:{isCollectionItem:!1,optionName:"position"},toolbarItem:{isCollectionItem:!0,optionName:"toolbarItems"}};var g=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});t.DxFrom=g,g.$_optionName="from",g.$_expectedChildren={position:{isCollectionItem:!1,optionName:"position"}};var m=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});t.DxHide=m,m.$_optionName="hide",m.$_expectedChildren={from:{isCollectionItem:!1,optionName:"from"},to:{isCollectionItem:!1,optionName:"to"}};var _=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:template":null,"update:text":null,"update:visible":null},props:{disabled:Boolean,html:String,template:{},text:String,visible:Boolean}});t.DxItem=_,_.$_optionName="items",_.$_isCollectionItem=!0;var v=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:String,y:String}});t.DxMy=v,v.$_optionName="my";var f=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:x":null,"update:y":null},props:{x:Number,y:Number}});t.DxOffset=f,f.$_optionName="offset";var b=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:bindingOptions":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:icon":null,"update:onClick":null,"update:onContentReady":null,"update:onDisposing":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:template":null,"update:text":null,"update:type":null,"update:useSubmitBehavior":null,"update:validationGroup":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,bindingOptions:Object,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,icon:String,onClick:Function,onContentReady:Function,onDisposing:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onOptionChanged:Function,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,template:{},text:String,type:String,useSubmitBehavior:Boolean,validationGroup:String,visible:Boolean,width:[Function,Number,String]}});t.DxOptions=b,b.$_optionName="options";var T=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:at":null,"update:boundary":null,"update:boundaryOffset":null,"update:collision":null,"update:my":null,"update:of":null,"update:offset":null},props:{at:[Object,String],boundary:{},boundaryOffset:[Object,String],collision:[Object,String],my:[Object,String],of:{},offset:[Object,String]}});t.DxPosition=T,T.$_optionName="position";var S=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:complete":null,"update:delay":null,"update:direction":null,"update:duration":null,"update:easing":null,"update:from":null,"update:staggerDelay":null,"update:start":null,"update:to":null,"update:type":null},props:{complete:Function,delay:Number,direction:String,duration:Number,easing:String,from:Object,staggerDelay:Number,start:Function,to:Object,type:String}});t.DxShow=S,S.$_optionName="show";var C=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:left":null,"update:opacity":null,"update:position":null,"update:scale":null,"update:top":null},props:{left:Number,opacity:Number,position:Object,scale:Number,top:Number}});t.DxTo=C,C.$_optionName="to";var x=o.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:disabled":null,"update:html":null,"update:location":null,"update:options":null,"update:template":null,"update:text":null,"update:toolbar":null,"update:visible":null,"update:widget":null},props:{disabled:Boolean,html:String,location:String,options:{},template:{},text:String,toolbar:String,visible:Boolean,widget:String}});t.DxToolbarItem=x,x.$_optionName="toolbarItems",x.$_isCollectionItem=!0,t.default=s}}]);